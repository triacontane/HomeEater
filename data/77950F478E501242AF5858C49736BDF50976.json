{"uid":"77950F478E501242AF5858C49736BDF50976","isLoaded":true,"lastModificationTime":0,"items":{"name":"Expression Importer","type":"script","parentId":"AA3A4BE42F4D544A1509F6044F8DC9BF1969","order":0,"content":"LyoKKiAgIEV4cHJlc3Npb24gSW1wb3J0ZXIgCioKKiAgIENvcHlyaWdodCAoQykgREVHSUNBIENvLiBMdGQuCioKKiAgIEhlbHBzIHRvIGNyZWF0ZSBtdWx0aXBsZSBjaGFyYWN0ZXIgZXhwcmVzc2lvbnMgYXQgb25jZSBiYXNlZCBvbiBncmFwaGljIHJlc291cmNlIG5hbWVzLgoqLwoKZnVuY3Rpb24gZXhlY3V0ZUZvckRhdGFGaWVsZChvYmplY3QsIGNvbnRleHQsIHJlY29yZHNCeVBhdGgsIGZvbGRlcnNCeU5hbWUsIGZpZWxkTmFtZSkKewogICAgdmFyIHBsYWNlaG9sZGVycyA9IFsie2ZvbGRlci0xfSIsICJ7Zm9sZGVyLTJ9IiwgIntmb2xkZXItM30iLCAie2V4cHJlc3Npb259IiwgIntmcmFtZS1udW19Il07CiAgICB2YXIgb3JkZXJlZFBsYWNlaG9sZGVycyA9IFtdOwogICAgdmFyIGltYWdlcyA9IG9iamVjdC5pbWFnZXM7CiAgICB2YXIgcmVnZXggPSBudWxsOwogICAgdmFyIGZpbGVQYXR0ZXJuID0gb2JqZWN0W2ZpZWxkTmFtZSsiRmlsZVBhdHRlcm4iXQogICAgcGxhY2Vob2xkZXJzLmZvckVhY2goZnVuY3Rpb24ocCl7CiAgICAgICAgdmFyIGluZGV4ID0gZmlsZVBhdHRlcm4uaW5kZXhPZihwKTsKICAgICAgICAKICAgICAgICBpZihpbmRleCA+PSAwKQogICAgICAgIHsKICAgICAgICAgICAgb3JkZXJlZFBsYWNlaG9sZGVycy5wdXNoKHApOwogICAgICAgIH0KICAgIH0pCiAgICAKICAgIHZhciBzZXBhcmF0b3JzID0gZmlsZVBhdHRlcm4ucmVwbGFjZSgvXHtbXlx9XHtdK1x9L2dtLCAifCIpLnNwbGl0KCJ8Iik7CiAgICBzZXBhcmF0b3JzLnNoaWZ0KCk7CiAgICAKICAgIG9yZGVyZWRQbGFjZWhvbGRlcnMuZm9yRWFjaChmdW5jdGlvbihwLCBpKXsKICAgICAgICBpZihzZXBhcmF0b3JzW2ldKQogICAgICAgICAgICBmaWxlUGF0dGVybiA9IGZpbGVQYXR0ZXJuLnJlcGxhY2UocCwgIihbXiIrc2VwYXJhdG9yc1tpXVswXSsiXSspIikKICAgICAgICBlbHNlIGlmKGkgPT0gb3JkZXJlZFBsYWNlaG9sZGVycy5sZW5ndGgtMSkKICAgICAgICAgICAgZmlsZVBhdHRlcm4gPSBmaWxlUGF0dGVybi5yZXBsYWNlKHAsICIoLispIikKICAgICAgICBlbHNlCiAgICAgICAgICAgIGZpbGVQYXR0ZXJuID0gZmlsZVBhdHRlcm4ucmVwbGFjZShwLCAiKFtBLVpdW2Etel0rKSIpCiAgICB9KTsKICAgIAogICAgcmVnZXggPSBuZXcgUmVnRXhwKGZpbGVQYXR0ZXJuKTsKICAgIHZhciBmb2xkZXIgPSBudWxsOwogICAgdmFyIGZvbGRlcnMgPSBbXTsKICAgIHZhciByZWNvcmQgPSBudWxsOwogICAgCiAgICBpbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZSl7CiAgICAgICAgdmFyIG5hbWUgPSBpbWFnZS5yZXNvdXJjZS5uYW1lOwogICAgICAgIHZhciBwYXJ0cyA9IHJlZ2V4LmV4ZWMobmFtZSk7CiAgICAgICAgCiAgICAgICAgaWYocGFydHMpCiAgICAgICAgewogICAgICAgICAgICBwYXJ0cy5zaGlmdCgpOwogICAgICAgICAgICBmb2xkZXJzID0gW107CiAgICAgICAgICAgIG9yZGVyZWRQbGFjZWhvbGRlcnMuZm9yRWFjaChmdW5jdGlvbihwLCBpKXsKICAgICAgICAgICAgICAgIHN3aXRjaChwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNhc2UgIntmb2xkZXItMX0iOgogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJzWzBdID0gZm9sZGVyc0J5TmFtZVtwYXJ0c1tpXV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFmb2xkZXJzWzBdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIgPSAoZm9sZGVyc0J5TmFtZVtwYXJ0c1tpXV0gPSBmb2xkZXJzWzBdID0gY29udGV4dC5jcmVhdGVEYXRhUmVjb3JkKHBhcnRzW2ldLCAiY2hhcmFjdGVyRXhwcmVzc2lvbnMiKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIuaXRlbXMuZGF0YS5pc0ZvbGRlciA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIuaXRlbXMuaXNGb2xkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGREYXRhUmVjb3JkKGZvbGRlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAie2ZvbGRlci0yfSI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlcnNbMV0gPSBmb2xkZXJzQnlOYW1lW2ZvbGRlcnNbMF0uaXRlbXMubmFtZStwYXJ0c1tpXV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFmb2xkZXJzWzFdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXIgPSAoZm9sZGVyc0J5TmFtZVtmb2xkZXJzWzBdLml0ZW1zLm5hbWUrcGFydHNbaV1dID0gZm9sZGVyc1sxXSA9IGNvbnRleHQuY3JlYXRlRGF0YVJlY29yZChwYXJ0c1tpXSwgImNoYXJhY3RlckV4cHJlc3Npb25zIiwgZm9sZGVyc1swXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyLml0ZW1zLmRhdGEuaXNGb2xkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyLml0ZW1zLmlzRm9sZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWRkRGF0YVJlY29yZChmb2xkZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIntmb2xkZXItM30iOgogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJzWzJdID0gZm9sZGVyc0J5TmFtZVtmb2xkZXJzWzBdLml0ZW1zLm5hbWUrZm9sZGVyc1sxXS5pdGVtcy5uYW1lK3BhcnRzW2ldXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWZvbGRlcnNbMl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlciA9IChmb2xkZXJzQnlOYW1lW2ZvbGRlcnNbMF0uaXRlbXMubmFtZStmb2xkZXJzWzFdLml0ZW1zLm5hbWUrcGFydHNbaV1dID0gZm9sZGVyc1syXSA9IGNvbnRleHQuY3JlYXRlRGF0YVJlY29yZChwYXJ0c1tpXSwgImNoYXJhY3RlckV4cHJlc3Npb25zIiwgZm9sZGVyc1sxXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyLml0ZW1zLmRhdGEuaXNGb2xkZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sZGVyLml0ZW1zLmlzRm9sZGVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWRkRGF0YVJlY29yZChmb2xkZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIntmcmFtZS1udW19IjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVjb3JkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLml0ZW1zLmRhdGFbZmllbGROYW1lXS5wdXNoKHsgInJlc291cmNlIjogeyAibmFtZSI6IG5hbWUgfSB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAie2V4cHJlc3Npb259IjoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZm9sZGVyc1swXSkgcGF0aCArPSBmb2xkZXJzWzBdLml0ZW1zLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZvbGRlcnNbMV0pIHBhdGggKz0gZm9sZGVyc1sxXS5pdGVtcy5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBpZihmb2xkZXJzWzJdKSBwYXRoICs9IGZvbGRlcnNbMl0uaXRlbXMubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCArPSBwYXJ0c1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZHNCeVBhdGhbcGF0aF07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFyZWNvcmQpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IGNvbnRleHQuY3JlYXRlRGF0YVJlY29yZChwYXJ0c1tpXSwgImNoYXJhY3RlckV4cHJlc3Npb25zIiwgZm9sZGVyc1syXSB8fCBmb2xkZXJzWzFdIHx8IGZvbGRlcnNbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFkZERhdGFSZWNvcmQocmVjb3JkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHNCeVBhdGhbcGF0aF0gPSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpZWxkTmFtZSA9PSAiaWRsZSIpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5pdGVtcy5kYXRhLmlkbGVUaW1lID0gb2JqZWN0LmlkbGVUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuaXRlbXMuZGF0YS5pZGxlU3BlZWQgPSBvYmplY3QuaWRsZVNwZWVkCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuaXRlbXMuZGF0YS50YWxraW5nU3BlZWQgPSBvYmplY3QudGFsa2luZ1NwZWVkCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZighcmVjb3JkLml0ZW1zLmRhdGEuaWRsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5pdGVtcy5kYXRhLmlkbGUgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXJlY29yZC5pdGVtcy5kYXRhLnRhbGtpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuaXRlbXMuZGF0YS50YWxraW5nID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZihyZWNvcmQgJiYgcmVjb3JkLml0ZW1zLmRhdGFbZmllbGROYW1lXS5sZW5ndGggPT09IDApCiAgICAgICAgICAgICAgICByZWNvcmQuaXRlbXMuZGF0YVtmaWVsZE5hbWVdLnB1c2goeyAicmVzb3VyY2UiOiB7ICJuYW1lIjogbmFtZSB9IH0pOwogICAgICAgIH0KICAgIH0pOwogICAgCiAgICBpZihvYmplY3RbZmllbGROYW1lKyJBbmltYXRpb25QYXR0ZXJuIl0pCiAgICB7CiAgICAgICAgdmFyIGFuaW1hdGlvblBhdHRlcm4gPSBvYmplY3QuaWRsZUFuaW1hdGlvblBhdHRlcm4uc3BsaXQoIi0iKS5zZWxlY3QoZnVuY3Rpb24oeCl7IHJldHVybiBpc05hTih4KSA/IDAgOiBwYXJzZUludCh4KSB9KTsKICAgICAgICBmb3IodmFyIGsgaW4gcmVjb3Jkc0J5UGF0aCkKICAgICAgICB7CiAgICAgICAgICAgIHJlY29yZCA9IHJlY29yZHNCeVBhdGhba107CiAgICAgICAgICAgIHZhciBmcmFtZXMgPSByZWNvcmQuaXRlbXMuZGF0YVtmaWVsZE5hbWVdOwogICAgICAgICAgICB2YXIgaWRsZSA9IFtdOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvblBhdHRlcm4ubGVuZ3RoOyBpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKGZyYW1lc1thbmltYXRpb25QYXR0ZXJuW2ldXSkKICAgICAgICAgICAgICAgICAgICBpZGxlLnB1c2goZnJhbWVzW2FuaW1hdGlvblBhdHRlcm5baV1dKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgcmVjb3JkLml0ZW1zLmRhdGFbZmllbGROYW1lXSA9IGlkbGU7CiAgICAgICAgfQogICAgfQp9CihmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgICAgIm5hbWUiOiBsY3MoJ0E0QUM0QkUyMzUwREYxNEFFRTdCQzZCOUE0RTA0REE1MzY4OScpLAogICAgICAgICJ0eXBlIjogIkdTU2NyaXB0QWdlbnQiLAogICAgICAgICJjYXRlZ29yeSI6IHsgIm5hbWUiOiAiRGVmYXVsdCIsICJpZGVudGlmaWVyIjogImdzLmRlZmF1bHQiIH0sCiAgICAgICAgInRhcmdldCI6ICJub25lIiwKICAgICAgICAiZGlhbG9nIjogeyAidWlkIjogIjQzN0RFMkZFOTM0RTgxNDhCMTU5MThEOUNCMTE0NjAzMzM3MiIgfSwKICAgICAgICAicHJvY2VzcyI6IHsKICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogbGNzKCc1MkE5QTFDQTJFNDZDODQ1Q0Y3QkM0QzNFMERBQTk3NTcxOUEnKSwKICAgICAgICAgICAgInJ1biI6IGZ1bmN0aW9uKG9iamVjdCwgY29udGV4dCl7CiAgICAgICAgICAgICAgICB2YXIgZm9sZGVyc0J5TmFtZSA9IHt9OwogICAgICAgICAgICAgICAgdmFyIHJlY29yZHNCeVBhdGggPSB7fTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYob2JqZWN0LnVzZUlkbGVGaWxlUGF0dGVybikKICAgICAgICAgICAgICAgICAgICBleGVjdXRlRm9yRGF0YUZpZWxkKG9iamVjdCwgY29udGV4dCwgcmVjb3Jkc0J5UGF0aCwgZm9sZGVyc0J5TmFtZSwgImlkbGUiKTsKICAgICAgICAgICAgICAgIGlmKG9iamVjdC51c2VUYWxraW5nRmlsZVBhdHRlcm4pCiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUZvckRhdGFGaWVsZChvYmplY3QsIGNvbnRleHQsIHJlY29yZHNCeVBhdGgsIGZvbGRlcnNCeU5hbWUsICJ0YWxraW5nIik7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbmlzaEV4ZWN1dGlvbihsY3MoJzA0MkQzNUUwOUIwNjA4NDAyMTU4RDdBODY1QkZBRkI2NEQ0MicpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfSkoKQ=="},"summary":["name","type"]}