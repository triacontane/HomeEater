{"uid":"A7FF7676K5755A4862SA680E67727A6E506D","isLoaded":true,"lastModificationTime":0,"items":{"name":"Template_VerticalScrollView","type":"game_script","order":21,"content":"ui.UiFactory.customTypes[\"ui.VerticalScrollView\"] = {\n    \"type\": \"ui.FreeLayout\",\n    \"clipRect\": true,\n    \"controls\": [\n        {\n            \"type\": \"ui.ScrollBar\",\n            \"frame\": [0, 0, 15, \"100%\"],\n            \"updateBehavior\": \"continuous\",\n            \"formulas\": [\n                ($ -> \n                    o.numbers[0] = o.numbers[0] or 0\n                    if o.parent.controls[1].scrollableHeight > 0 and o.numbers[0] != o.controls[0].dstRect.y\n                        o.numbers[0] = o.controls[0].dstRect.y\n                        o.parent.controls[1].scrollOffsetY = o.controls[0].dstRect.y / (o.parent.dstRect.height - o.controls[0].dstRect.height) * o.parent.controls[1].scrollableHeight),\n                ($ -> if o.parent.controls[1].scrollableHeight > 0 then o.controls[0].dstRect.height = Math.max(o.parent.dstRect.height / o.parent.controls[1].contentHeight * o.parent.dstRect.height, 30) ),\n                ($ -> o.visible = false if o.parent.controls[1].scrollableHeight == 0 ),\n                ($ -> o.visible = true if o.parent.controls[1].scrollableHeight > 0 )\n            ],\n            \"margin\": [0, 0, 0, 0],\n            \"alignmentX\": \"right\"\n        },\n        {\n            \"type\": \"ui.StackLayout\",\n            \"formulas\": [\n                $ ->\n                    o.numbers[0] = o.numbers[0] or 0\n                    if o.numbers[0] != o.scrollOffsetY\n                        o.numbers[0] = o.scrollOffsetY\n                        o.parent.controls[0].controls[0].dstRect.y = o.scrollOffsetY / o.scrollableHeight * (o.dstRect.height - o.parent.controls[0].controls[0].dstRect.height)\n                        o.parent.controls[0].numbers[0] = o.parent.controls[0].controls[0].dstRect.y\n            ],\n            \"frame\": [0, 0, \"100%\", \"100%\"],\n            \"orientation\": \"vertical\",\n            \"scrollable\": true,\n            \"dataField\": -> p.dataField,\n            \"dataFilter\": -> p.dataFilter,\n            \"template\": -> p.template,\n            \"managementMode\": -> p.managementMode || 0\n        }\n    ]\n}","parentId":"2A0E8A67K5BAAA4D7AS9017ED220E9EFFCA7","folder":false,"compiledContent":"ui.UiFactory.customTypes[\"ui.VerticalScrollView\"] = {\n  \"type\": \"ui.FreeLayout\",\n  \"clipRect\": true,\n  \"controls\": [\n    {\n      \"type\": \"ui.ScrollBar\",\n      \"frame\": [0, 0, 15, \"100%\"],\n      \"updateBehavior\": \"continuous\",\n      \"formulas\": [\n        $(function() {\n          o.numbers[0] = o.numbers[0] || 0;\n          if (o.parent.controls[1].scrollableHeight > 0 && o.numbers[0] !== o.controls[0].dstRect.y) {\n            o.numbers[0] = o.controls[0].dstRect.y;\n            return o.parent.controls[1].scrollOffsetY = o.controls[0].dstRect.y / (o.parent.dstRect.height - o.controls[0].dstRect.height) * o.parent.controls[1].scrollableHeight;\n          }\n        }), $(function() {\n          if (o.parent.controls[1].scrollableHeight > 0) {\n            return o.controls[0].dstRect.height = Math.max(o.parent.dstRect.height / o.parent.controls[1].contentHeight * o.parent.dstRect.height, 30);\n          }\n        }), $(function() {\n          if (o.parent.controls[1].scrollableHeight === 0) {\n            return o.visible = false;\n          }\n        }), $(function() {\n          if (o.parent.controls[1].scrollableHeight > 0) {\n            return o.visible = true;\n          }\n        })\n      ],\n      \"margin\": [0, 0, 0, 0],\n      \"alignmentX\": \"right\"\n    }, {\n      \"type\": \"ui.StackLayout\",\n      \"formulas\": [\n        $(function() {\n          o.numbers[0] = o.numbers[0] || 0;\n          if (o.numbers[0] !== o.scrollOffsetY) {\n            o.numbers[0] = o.scrollOffsetY;\n            o.parent.controls[0].controls[0].dstRect.y = o.scrollOffsetY / o.scrollableHeight * (o.dstRect.height - o.parent.controls[0].controls[0].dstRect.height);\n            return o.parent.controls[0].numbers[0] = o.parent.controls[0].controls[0].dstRect.y;\n          }\n        })\n      ],\n      \"frame\": [0, 0, \"100%\", \"100%\"],\n      \"orientation\": \"vertical\",\n      \"scrollable\": true,\n      \"dataField\": function() {\n        return p.dataField;\n      },\n      \"dataFilter\": function() {\n        return p.dataFilter;\n      },\n      \"template\": function() {\n        return p.template;\n      },\n      \"managementMode\": function() {\n        return p.managementMode || 0;\n      }\n    }\n  ]\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxlQUR3QztFQUVoRCxVQUFBLEVBQVksSUFGb0M7RUFHaEQsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsY0FEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLE1BQVgsQ0FGYjtNQUdJLGdCQUFBLEVBQWtCLFlBSHRCO01BSUksVUFBQSxFQUFZO1FBQ1AsQ0FBQSxDQUFFLFNBQUE7VUFDQyxDQUFDLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBVixHQUFlLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLElBQWdCO1VBQy9CLElBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsZ0JBQXJCLEdBQXdDLENBQXhDLElBQThDLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLEtBQWdCLENBQUMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLENBQXZGO1lBQ0ksQ0FBQyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVYsR0FBZSxDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQzttQkFDckMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsYUFBckIsR0FBcUMsQ0FBQyxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBdEIsR0FBMEIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFqQixHQUEwQixDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxNQUFqRCxDQUExQixHQUFxRixDQUFDLENB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LCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5WZXJ0aWNhbFNjcm9sbFZpZXdcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiY2xpcFJlY3RcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2Nyb2xsQmFyXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAxNSwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJ1cGRhdGVCZWhhdmlvclwiOiBcImNvbnRpbnVvdXNcIixcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICgkIC0+IFxuICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLm51bWJlcnNbMF0gb3IgMFxuICAgICAgICAgICAgICAgICAgICBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCBhbmQgby5udW1iZXJzWzBdICE9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55XG4gICAgICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLmNvbnRyb2xzWzBdLmRzdFJlY3QueVxuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsT2Zmc2V0WSA9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55IC8gKG8ucGFyZW50LmRzdFJlY3QuaGVpZ2h0IC0gby5jb250cm9sc1swXS5kc3RSZWN0LmhlaWdodCkgKiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAoJCAtPiBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCB0aGVuIG8uY29udHJvbHNbMF0uZHN0UmVjdC5oZWlnaHQgPSBNYXRoLm1heChvLnBhcmVudC5kc3RSZWN0LmhlaWdodCAvIG8ucGFyZW50LmNvbnRyb2xzWzFdLmNvbnRlbnRIZWlnaHQgKiBvLnBhcmVudC5kc3RSZWN0LmhlaWdodCwgMzApICksXG4gICAgICAgICAgICAgICAgKCQgLT4gby52aXNpYmxlID0gZmFsc2UgaWYgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsYWJsZUhlaWdodCA9PSAwICksXG4gICAgICAgICAgICAgICAgKCQgLT4gby52aXNpYmxlID0gdHJ1ZSBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCApXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IFwicmlnaHRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAtPlxuICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLm51bWJlcnNbMF0gb3IgMFxuICAgICAgICAgICAgICAgICAgICBpZiBvLm51bWJlcnNbMF0gIT0gby5zY3JvbGxPZmZzZXRZXG4gICAgICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLnNjcm9sbE9mZnNldFlcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGFyZW50LmNvbnRyb2xzWzBdLmNvbnRyb2xzWzBdLmRzdFJlY3QueSA9IG8uc2Nyb2xsT2Zmc2V0WSAvIG8uc2Nyb2xsYWJsZUhlaWdodCAqIChvLmRzdFJlY3QuaGVpZ2h0IC0gby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnBhcmVudC5jb250cm9sc1swXS5udW1iZXJzWzBdID0gby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC55XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgXCJzY3JvbGxhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcImRhdGFGaWVsZFwiOiAtPiBwLmRhdGFGaWVsZCxcbiAgICAgICAgICAgIFwiZGF0YUZpbHRlclwiOiAtPiBwLmRhdGFGaWx0ZXIsXG4gICAgICAgICAgICBcInRlbXBsYXRlXCI6IC0+IHAudGVtcGxhdGUsXG4gICAgICAgICAgICBcIm1hbmFnZW1lbnRNb2RlXCI6IC0+IHAubWFuYWdlbWVudE1vZGUgfHwgMFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==\n//# sourceURL=Template_VerticalScrollView_162.js"},"summary":["name","type","order"]}