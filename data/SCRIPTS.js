if(!window.$PARAMS) { window.$PARAMS = {} };Object.mixin(window.$PARAMS, {"testOffline":true,"resolution":{"width":1280,"height":720},"fontFamilies":[],"platform":{}});



//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Constants_9.js
window.$.noConflict();

window.$ = function(f, data, event) {
  return new ui.Formula(f, data || null, event || null);
};


/**
* Namespace for Visual Novel specific elements.
* @namespace vn
 */

window.vn = {};


/**
* Namespace for user interface elements.
* @namespace ui
 */

window.ui = {};


/**
* Namespace for universal elements.
* @namespace gs
 */

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVCxDQUFBOztBQUNBLE1BQU0sQ0FBQyxDQUFQLEdBQVcsU0FBQyxDQUFELEVBQUksSUFBSixFQUFVLEtBQVY7U0FBd0IsSUFBQSxFQUFFLENBQUMsT0FBSCxDQUFXLENBQVgsRUFBYyxJQUFBLElBQVEsSUFBdEIsRUFBNEIsS0FBQSxJQUFTLElBQXJDO0FBQXhCOzs7QUFFWDs7Ozs7QUFJQSxNQUFNLENBQUMsRUFBUCxHQUFZOzs7QUFFWjs7Ozs7QUFJQSxNQUFNLENBQUMsRUFBUCxHQUFZOzs7QUFFWiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogTmFtZXNwYWNlc1xuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG53aW5kb3cuJC5ub0NvbmZsaWN0KClcbndpbmRvdy4kID0gKGYsIGRhdGEsIGV2ZW50KSAtPiBuZXcgdWkuRm9ybXVsYShmLCBkYXRhIHx8IG51bGwsIGV2ZW50IHx8IG51bGwpXG5cbiMjIypcbiogTmFtZXNwYWNlIGZvciBWaXN1YWwgTm92ZWwgc3BlY2lmaWMgZWxlbWVudHMuXG4qIEBuYW1lc3BhY2Ugdm5cbiMjI1xud2luZG93LnZuID0ge31cblxuIyMjKlxuKiBOYW1lc3BhY2UgZm9yIHVzZXIgaW50ZXJmYWNlIGVsZW1lbnRzLlxuKiBAbmFtZXNwYWNlIHVpXG4jIyNcbndpbmRvdy51aSA9IHt9XG5cbiMjIypcbiogTmFtZXNwYWNlIGZvciB1bml2ZXJzYWwgZWxlbWVudHMuXG4qIEBuYW1lc3BhY2UgZ3NcbiMjI1xuIl19
//# sourceURL=Namespaces_9.js

/**
* Enumeration containing default colors.
*
* @module gs
* @class Colors
* @memberof gs
* @static
* @final
 */
var Colors;

Colors = (function() {
  function Colors() {}

  Colors.initialize = function() {

    /**
    * Transparent color.
    * @property TRANSPARENT
    * @type gs.Color
    * @static
    * @final
     */
    this.TRANSPARENT = new Color(0, 0, 0, 0);

    /**
    * White color.
    * @property WHITE
    * @type gs.Color
    * @static
    * @final
     */
    this.WHITE = new Color(255, 255, 255);

    /**
    * Black color.
    * @property BLACK
    * @type gs.Color
    * @static
    * @final
     */
    this.BLACK = new Color(0, 0, 0);

    /**
    * Color used for rain-particles (Weather-Effect).
    * @property RAIN_PARTICLE
    * @type gs.Color
    * @static
    * @final
     */
    this.RAIN_PARTICLE = new Color(245, 245, 255);

    /**
    * Color used for storm-particles (Weather-Effect).
    * @property STORM_PARTICLE
    * @type gs.Color
    * @static
    * @final
     */
    this.STORM_PARTICLE = this.RAIN_PARTICLE;

    /**
    * Color used for the face of snow-particles (Weather-Effect).
    * @property SNOW_PARTICLE_FACE
    * @type gs.Color
    * @static
    * @final
     */
    this.SNOW_PARTICLE_FACE = new Color(255, 255, 255);

    /**
    * Color used for the edges of snow-particles (Weather-Effect).
    * @property SNOW_PARTICLE_EDGE
    * @type gs.Color
    * @static
    * @final
     */
    return this.SNOW_PARTICLE_EDGE = new Color(255, 255, 255, 0.5);
  };

  return Colors;

})();

Colors.initialize();

window.Colors = Colors;

gs.Colors = Colors;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFTTTs7O0VBQ0YsTUFBQyxDQUFBLFVBQUQsR0FBYSxTQUFBOztBQUNUOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLFdBQUQsR0FBbUIsSUFBQSxLQUFBLENBQU0sQ0FBTixFQUFTLENBQVQsRUFBWSxDQUFaLEVBQWUsQ0FBZjs7QUFFbkI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsS0FBRCxHQUFhLElBQUEsS0FBQSxDQUFNLEdBQU4sRUFBVyxHQUFYLEVBQWdCLEdBQWhCOztBQUViOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLEtBQUQsR0FBYSxJQUFBLEtBQUEsQ0FBTSxDQUFOLEVBQVMsQ0FBVCxFQUFZLENBQVo7O0FBRWI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsYUFBRCxHQUFxQixJQUFBLEtBQUEsQ0FBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQjs7QUFFckI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsY0FBRCxHQUFrQixJQUFDLENBQUE7O0FBRW5COzs7Ozs7O0lBT0EsSUFBQyxDQUFBLGtCQUFELEdBQTBCLElBQUEsS0FBQSxDQUFNLEdBQU4sRUFBVyxHQUFYLEVBQWdCLEdBQWhCOztBQUUxQjs7Ozs7OztXQU9BLElBQUMsQ0FBQSxrQkFBRCxHQUEwQixJQUFBLEtBQUEsQ0FBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixHQUFyQjtFQTlEakI7Ozs7OztBQWdFakIsTUFBTSxDQUFDLFVBQVAsQ0FBQTs7QUFDQSxNQUFNLENBQUMsTUFBUCxHQUFnQjs7QUFDaEIsRUFBRSxDQUFDLE1BQUgsR0FBWSIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29sb3JzXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiMjIypcbiogRW51bWVyYXRpb24gY29udGFpbmluZyBkZWZhdWx0IGNvbG9ycy5cbipcbiogQG1vZHVsZSBnc1xuKiBAY2xhc3MgQ29sb3JzXG4qIEBtZW1iZXJvZiBnc1xuKiBAc3RhdGljXG4qIEBmaW5hbFxuIyMjXG5jbGFzcyBDb2xvcnNcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRyYW5zcGFyZW50IGNvbG9yLlxuICAgICAgICAqIEBwcm9wZXJ0eSBUUkFOU1BBUkVOVFxuICAgICAgICAqIEB0eXBlIGdzLkNvbG9yXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQFRSQU5TUEFSRU5UID0gbmV3IENvbG9yKDAsIDAsIDAsIDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogV2hpdGUgY29sb3IuXG4gICAgICAgICogQHByb3BlcnR5IFdISVRFXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAV0hJVEUgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSlcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBCbGFjayBjb2xvci5cbiAgICAgICAgKiBAcHJvcGVydHkgQkxBQ0tcbiAgICAgICAgKiBAdHlwZSBncy5Db2xvclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBCTEFDSyA9IG5ldyBDb2xvcigwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbG9yIHVzZWQgZm9yIHJhaW4tcGFydGljbGVzIChXZWF0aGVyLUVmZmVjdCkuXG4gICAgICAgICogQHByb3BlcnR5IFJBSU5fUEFSVElDTEVcbiAgICAgICAgKiBAdHlwZSBncy5Db2xvclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBSQUlOX1BBUlRJQ0xFID0gbmV3IENvbG9yKDI0NSwgMjQ1LCAyNTUpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ29sb3IgdXNlZCBmb3Igc3Rvcm0tcGFydGljbGVzIChXZWF0aGVyLUVmZmVjdCkuXG4gICAgICAgICogQHByb3BlcnR5IFNUT1JNX1BBUlRJQ0xFXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAU1RPUk1fUEFSVElDTEUgPSBAUkFJTl9QQVJUSUNMRVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbG9yIHVzZWQgZm9yIHRoZSBmYWNlIG9mIHNub3ctcGFydGljbGVzIChXZWF0aGVyLUVmZmVjdCkuXG4gICAgICAgICogQHByb3BlcnR5IFNOT1dfUEFSVElDTEVfRkFDRVxuICAgICAgICAqIEB0eXBlIGdzLkNvbG9yXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQFNOT1dfUEFSVElDTEVfRkFDRSA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMjU1KVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbG9yIHVzZWQgZm9yIHRoZSBlZGdlcyBvZiBzbm93LXBhcnRpY2xlcyAoV2VhdGhlci1FZmZlY3QpLlxuICAgICAgICAqIEBwcm9wZXJ0eSBTTk9XX1BBUlRJQ0xFX0VER0VcbiAgICAgICAgKiBAdHlwZSBncy5Db2xvclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBTTk9XX1BBUlRJQ0xFX0VER0UgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSwgMC41KVxuICBcbkNvbG9ycy5pbml0aWFsaXplKCkgIFxud2luZG93LkNvbG9ycyA9IENvbG9yc1xuZ3MuQ29sb3JzID0gQ29sb3JzIl19
//# sourceURL=Colors_20.js

/**
* Enumeration containing default fonts.
*
* @module gs
* @class Fonts
* @memberof gs
* @static
* @final
 */
var Fonts;

Fonts = (function() {
  function Fonts() {}

  Fonts.initialize = function() {
    var size;
    size = Math.round(9 / 240 * Graphics.height);

    /**
    * Used as default font for text if no font is specified.
    *
    * @property TEXT
    * @type gs.Font
    * @static
    * @final
     */
    this.TEXT = ResourceManager.getFont("Verdana", size);
    this.TRANSPARENT = new Font("Verdana", size);
    return this.TRANSPARENT.color.alpha = 0;
  };

  return Fonts;

})();

gs.Fonts = Fonts;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFTTTs7O0VBQ0YsS0FBQyxDQUFBLFVBQUQsR0FBYSxTQUFBO0FBQ1QsUUFBQTtJQUFBLElBQUEsR0FBTyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUEsR0FBSSxHQUFKLEdBQVUsUUFBUSxDQUFDLE1BQTlCOztBQUVQOzs7Ozs7OztJQVFBLElBQUMsQ0FBQSxJQUFELEdBQVEsZUFBZSxDQUFDLE9BQWhCLENBQXdCLFNBQXhCLEVBQW1DLElBQW5DO0lBQ1IsSUFBQyxDQUFBLFdBQUQsR0FBbUIsSUFBQSxJQUFBLENBQUssU0FBTCxFQUFnQixJQUFoQjtXQUNuQixJQUFDLENBQUEsV0FBVyxDQUFDLEtBQUssQ0FBQyxLQUFuQixHQUEyQjtFQWJsQjs7Ozs7O0FBZWpCLEVBQUUsQ0FBQyxLQUFILEdBQVciLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IEZvbnRzXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiMjIypcbiogRW51bWVyYXRpb24gY29udGFpbmluZyBkZWZhdWx0IGZvbnRzLlxuKlxuKiBAbW9kdWxlIGdzXG4qIEBjbGFzcyBGb250c1xuKiBAbWVtYmVyb2YgZ3NcbiogQHN0YXRpY1xuKiBAZmluYWxcbiMjI1xuY2xhc3MgRm9udHNcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgc2l6ZSA9IE1hdGgucm91bmQoOSAvIDI0MCAqIEdyYXBoaWNzLmhlaWdodClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBVc2VkIGFzIGRlZmF1bHQgZm9udCBmb3IgdGV4dCBpZiBubyBmb250IGlzIHNwZWNpZmllZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBURVhUXG4gICAgICAgICogQHR5cGUgZ3MuRm9udFxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBURVhUID0gUmVzb3VyY2VNYW5hZ2VyLmdldEZvbnQoXCJWZXJkYW5hXCIsIHNpemUpXG4gICAgICAgIEBUUkFOU1BBUkVOVCA9IG5ldyBGb250KFwiVmVyZGFuYVwiLCBzaXplKVxuICAgICAgICBAVFJBTlNQQVJFTlQuY29sb3IuYWxwaGEgPSAwXG4gICAgIFxuZ3MuRm9udHMgPSBGb250cyJdfQ==
//# sourceURL=Fonts_33.js

/**
* Enumeration describing the different types of image-handling.
*
* @module gs
* @class ImageHandling
* @extends gs.Component
* @memberof gs
* @static
 */
var ImageHandling;

ImageHandling = (function() {
  function ImageHandling() {}

  ImageHandling.initialize = function() {

    /**
    * Uses full image-size.
    * @property IMAGE_SIZE
    * @type number
    * @static
    * @final
     */
    this.IMAGE_SIZE = 0;

    /**
    * Uses only half image-height.
    * @property HALF_IMAGE_HEIGHT
    * @type number
    * @static
    * @final
     */
    this.HALF_IMAGE_HEIGHT = 1;

    /**
    * Uses a custom defined source-rectangle.
    * @property CUSTOM_SIZE
    * @type number
    * @static
    * @final
     */
    return this.CUSTOM_SIZE = 2;
  };

  return ImageHandling;

})();

ImageHandling.initialize();

gs.ImageHandling = ImageHandling;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFTTTs7O0VBQ0YsYUFBQyxDQUFBLFVBQUQsR0FBYSxTQUFBOztBQUNUOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLFVBQUQsR0FBYzs7QUFFZDs7Ozs7OztJQU9BLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjs7QUFFckI7Ozs7Ozs7V0FPQSxJQUFDLENBQUEsV0FBRCxHQUFlO0VBMUJOOzs7Ozs7QUE0QmpCLGFBQWEsQ0FBQyxVQUFkLENBQUE7O0FBQ0EsRUFBRSxDQUFDLGFBQUgsR0FBbUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IEltYWdlSGFuZGxpbmdcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuIyMjKlxuKiBFbnVtZXJhdGlvbiBkZXNjcmliaW5nIHRoZSBkaWZmZXJlbnQgdHlwZXMgb2YgaW1hZ2UtaGFuZGxpbmcuXG4qXG4qIEBtb2R1bGUgZ3NcbiogQGNsYXNzIEltYWdlSGFuZGxpbmdcbiogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4qIEBtZW1iZXJvZiBnc1xuKiBAc3RhdGljXG4jIyNcbmNsYXNzIEltYWdlSGFuZGxpbmdcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFVzZXMgZnVsbCBpbWFnZS1zaXplLlxuICAgICAgICAqIEBwcm9wZXJ0eSBJTUFHRV9TSVpFXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQElNQUdFX1NJWkUgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVXNlcyBvbmx5IGhhbGYgaW1hZ2UtaGVpZ2h0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBIQUxGX0lNQUdFX0hFSUdIVFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBIQUxGX0lNQUdFX0hFSUdIVCA9IDFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBVc2VzIGEgY3VzdG9tIGRlZmluZWQgc291cmNlLXJlY3RhbmdsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgQ1VTVE9NX1NJWkVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAQ1VTVE9NX1NJWkUgPSAyXG4gICAgXG5JbWFnZUhhbmRsaW5nLmluaXRpYWxpemUoKVxuZ3MuSW1hZ2VIYW5kbGluZyA9IEltYWdlSGFuZGxpbmciXX0=
//# sourceURL=ImageHandling_49.js

/**
* An enumeration of easing types.
*
* @module gs
* @class EasingTypes
* @memberof gs
* @constructor
* @static
* @final
 */
var EasingTypes;

EasingTypes = (function() {
  function EasingTypes() {}

  EasingTypes.initialize = function() {

    /**
    * @property EASE_IN
    * @type number
    * @static
    * @final
     */
    this.EASE_IN = 1;

    /**
    * @property EASE_OUT
    * @type number
    * @static
    * @final
     */
    this.EASE_OUT = 0;

    /**
    * @property EASE_IN_OUT
    * @type number
    * @static
    * @final
     */
    this.EASE_IN_OUT = 2;

    /**
    * @property EASE_LINEAR
    * @type number
    * @static
    * @final
     */
    this.EASE_LINEAR = 0;

    /**
    * @property EASE_QUADRATIC
    * @type number
    * @static
    * @final
     */
    this.EASE_QUADRATIC = 1;

    /**
    * @property EASE_CUBIC
    * @type number
    * @static
    * @final
     */
    this.EASE_CUBIC = 2;

    /**
    * @property EASE_QUARTIC
    * @type number
    * @static
    * @final
     */
    this.EASE_QUARTIC = 3;

    /**
    * @property EASE_QUINTIC
    * @type number
    * @static
    * @final
     */
    this.EASE_QUINTIC = 4;

    /**
    * @property EASE_SINUSOIDAL
    * @type number
    * @static
    * @final
     */
    this.EASE_SINUSOIDAL = 5;

    /**
    * @property EASE_EXPONENTIAL
    * @type number
    * @static
    * @final
     */
    this.EASE_EXPONENTIAL = 6;

    /**
    * @property EASE_CIRCULAR
    * @type number
    * @static
    * @final
     */
    return this.EASE_CIRCULAR = 7;
  };

  return EasingTypes;

})();

EasingTypes.initialize();

gs.EasingTypes = EasingTypes;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBVU07OztFQUNGLFdBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7O0lBTUEsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFDWDs7Ozs7O0lBTUEsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFDWjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFDZjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFDZjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGNBQUQsR0FBa0I7O0FBQ2xCOzs7Ozs7SUFNQSxJQUFDLENBQUEsVUFBRCxHQUFjOztBQUNkOzs7Ozs7SUFNQSxJQUFDLENBQUEsWUFBRCxHQUFnQjs7QUFDaEI7Ozs7OztJQU1BLElBQUMsQ0FBQSxZQUFELEdBQWdCOztBQUNoQjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGVBQUQsR0FBbUI7O0FBQ25COzs7Ozs7SUFNQSxJQUFDLENBQUEsZ0JBQUQsR0FBb0I7O0FBQ3BCOzs7Ozs7V0FNQSxJQUFDLENBQUEsYUFBRCxHQUFpQjtFQTdFUjs7Ozs7O0FBK0VqQixXQUFXLENBQUMsVUFBWixDQUFBOztBQUNBLEVBQUUsQ0FBQyxXQUFILEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBFYXNpbmdUeXBlc1xuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4jIyMqXG4qIEFuIGVudW1lcmF0aW9uIG9mIGVhc2luZyB0eXBlcy5cbipcbiogQG1vZHVsZSBnc1xuKiBAY2xhc3MgRWFzaW5nVHlwZXNcbiogQG1lbWJlcm9mIGdzXG4qIEBjb25zdHJ1Y3RvclxuKiBAc3RhdGljXG4qIEBmaW5hbFxuIyMjICBcbmNsYXNzIEVhc2luZ1R5cGVzXG4gICAgQGluaXRpYWxpemU6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgRUFTRV9JTlxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBFQVNFX0lOID0gMVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfT1VUXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfT1VUID0gMFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfSU5fT1VUXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfSU5fT1VUID0gMlxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfTElORUFSXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfTElORUFSID0gMFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfUVVBRFJBVElDXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfUVVBRFJBVElDID0gMVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfQ1VCSUNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBARUFTRV9DVUJJQyA9IDJcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBFQVNFX1FVQVJUSUNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBARUFTRV9RVUFSVElDID0gM1xuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfUVVJTlRJQ1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBFQVNFX1FVSU5USUMgPSA0XG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgRUFTRV9TSU5VU09JREFMXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfU0lOVVNPSURBTCA9IDVcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBFQVNFX0VYUE9ORU5USUFMXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfRVhQT05FTlRJQUwgPSA2XG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgRUFTRV9DSVJDVUxBUlxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBFQVNFX0NJUkNVTEFSID0gN1xuICAgIFxuRWFzaW5nVHlwZXMuaW5pdGlhbGl6ZSgpXG5ncy5FYXNpbmdUeXBlcyA9IEVhc2luZ1R5cGVzXG4gICJdfQ==
//# sourceURL=EasingTypes_61.js

/**
* Holds different easing types and helper methods.
*
* @module gs
* @class Easings
* @memberof gs
* @constructor
 */
var Easings;

Easings = (function() {
  function Easings() {}

  Easings.initialize = function() {

    /**
    * Contains all easing functions by type and in/out.
    * @property EASE_FUNCTIONS
    * @type Function[][]
    * @static
    * @final
     */
    this.EASE_FUNCTIONS = [[Math.linearTween, Math.linearTween, Math.linearTween], [Math.easeOutQuad, Math.easeInQuad, Math.easeInOutQuad], [Math.easeOutCubic, Math.easeInCubic, Math.easeInOutCubic], [Math.easeOutQuart, Math.easeInQuart, Math.easeInOutQuart], [Math.easeOutQuint, Math.easeInQuint, Math.easeInOutQuint], [Math.easeOutSine, Math.easeInSine, Math.easeInOutSine], [Math.easeOutExpo, Math.easeInExpo, Math.easeInOutExpo], [Math.easeOutCirc, Math.easeInCirc, Math.easeInOutCirc]];

    /**
    * @property BY_INDEX
    * @type number[][]
    * @static
    * @final
     */
    this.BY_INDEX = [[[0, 0], [0, 0], [0, 0]], [[1, 0], [1, 1], [1, 2]], [[2, 0], [2, 1], [2, 2]], [[3, 0], [3, 1], [3, 2]], [[4, 0], [4, 1], [4, 2]], [[5, 0], [5, 1], [5, 2]], [[6, 0], [6, 1], [6, 2]], [[7, 0], [7, 1], [7, 2]]];

    /**
    * @property BY_STRING
    * @type Object
    * @static
    * @final
     */
    this.BY_STRING = {
      "linear_in": [0, 0],
      "linear_out": [0, 0],
      "linear_inout": [0, 0],
      "quad_out": [1, 0],
      "quad_in": [1, 1],
      "quad_inout": [1, 2],
      "cubic_out": [2, 0],
      "cubic_in": [2, 1],
      "cubic_inout": [2, 2],
      "quart_out": [3, 0],
      "quart_in": [3, 1],
      "quart_inout": [3, 2],
      "quint_out": [4, 0],
      "quint_in": [4, 1],
      "quint_inout": [4, 2],
      "sine_out": [5, 0],
      "sine_in": [5, 1],
      "sine_inout": [5, 2],
      "expo_out": [6, 0],
      "expo_in": [6, 1],
      "expo_inout": [6, 2],
      "circ_out": [7, 0],
      "circ_in": [7, 1],
      "circ_inout": [7, 2]
    };

    /**
    * @property EASE_LINEAR
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_LINEAR = this.BY_INDEX[gs.EasingTypes.EASE_LINEAR];

    /**
    * @property EASE_QUADRATIC
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_QUADRATIC = this.BY_INDEX[gs.EasingTypes.EASE_QUADRATIC];

    /**
    * @property EASE_CUBIC
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_CUBIC = this.BY_INDEX[gs.EasingTypes.EASE_CUBIC];

    /**
    * @property EASE_QUARTIC
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_QUARTIC = this.BY_INDEX[gs.EasingTypes.EASE_QUARTIC];

    /**
    * @property EASE_QUINTIC
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_QUINTIC = this.BY_INDEX[gs.EasingTypes.EASE_QUINTIC];

    /**
    * @property EASE_SINUSOIDAL
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_SINUSOIDAL = this.BY_INDEX[gs.EasingTypes.EASE_SINUSOIDAL];

    /**
    * @property EASE_EXPONENTIAL
    * @type number[][]
    * @static
    * @final
     */
    this.EASE_EXPONENTIAL = this.BY_INDEX[gs.EasingTypes.EASE_EXPONENTIAL];

    /**
    * @property EASE_CIRCULAR
    * @type number[][]
    * @static
    * @final
     */
    return this.EASE_CIRCULAR = this.BY_INDEX[gs.EasingTypes.EASE_CIRCULAR];
  };


  /**
  * @method fromValues
  * @param {number} index - The index.
  * @param {number} inOut - The in-out value.
   */

  Easings.fromValues = function(index, inOut) {
    return gs.Easings.BY_INDEX[index][inOut];
  };


  /**
  * @method fromObject
  * @param {Object} obj - The easing data-object.
   */

  Easings.fromObject = function(obj, flags, defaults) {
    return gs.Easings.BY_INDEX[obj.type][obj.inOut];
  };


  /**
  * @method fromString
  * @param {String} s - The easing string like "quad_in" for example.
   */

  Easings.fromString = function(s) {
    return gs.Easings.BY_STRING[s || "linear_inout"];
  };

  return Easings;

})();

Easings.initialize();

gs.Easings = Easings;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7QUFBQSxJQUFBOztBQVFNOzs7RUFDRixPQUFDLENBQUEsVUFBRCxHQUFhLFNBQUE7O0FBQ1Q7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsY0FBRCxHQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLFdBQU4sRUFBbUIsSUFBSSxDQUFDLFdBQXhCLEVBQXFDLElBQUksQ0FBQyxXQUExQyxDQUFELEVBQ0wsQ0FBQyxJQUFJLENBQUMsV0FBTixFQUFtQixJQUFJLENBQUMsVUFBeEIsRUFBb0MsSUFBSSxDQUFDLGFBQXpDLENBREssRUFFTCxDQUFDLElBQUksQ0FBQyxZQUFOLEVBQW9CLElBQUksQ0FBQyxXQUF6QixFQUFzQyxJQUFJLENBQUMsY0FBM0MsQ0FGSyxFQUdMLENBQUMsSUFBSSxDQUFDLFlBQU4sRUFBb0IsSUFBSSxDQUFDLFdBQXpCLEVBQXNDLElBQUksQ0FBQyxjQUEzQyxDQUhLLEVBSUwsQ0FBQyxJQUFJLENBQUMsWUFBTixFQUFvQixJQUFJLENBQUMsV0FBekIsRUFBc0MsSUFBSSxDQUFDLGNBQTNDLENBSkssRUFLTCxDQUFDLElBQUksQ0FBQyxXQUFOLEVBQW1CLElBQUksQ0FBQyxVQUF4QixFQUFvQyxJQUFJLENBQUMsYUFBekMsQ0FMSyxFQU1MLENBQUMsSUFBSSxDQUFDLFdBQU4sRUFBbUIsSUFBSSxDQUFDLFVBQXhCLEVBQW9DLElBQUksQ0FBQyxhQUF6QyxDQU5LLEVBT0wsQ0FBQyxJQUFJLENBQUMsV0FBTixFQUFtQixJQUFJLENBQUMsVUFBeEIsRUFBb0MsSUFBSSxDQUFDLGFBQXpDLENBUEs7O0FBU2xCOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZLENBQUMsQ0FBQyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUQsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBQVQsRUFBaUIsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFq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QyxDQUFBLFVBQUQsR0FBYSxTQUFDLENBQUQ7V0FBTyxFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVUsQ0FBQSxDQUFBLElBQUssY0FBTDtFQUE1Qjs7Ozs7O0FBRWpCLE9BQU8sQ0FBQyxVQUFSLENBQUE7O0FBQ0EsRUFBRSxDQUFDLE9BQUgsR0FBYSIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogRWFzaW5nc1xuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4jIyMqXG4qIEhvbGRzIGRpZmZlcmVudCBlYXNpbmcgdHlwZXMgYW5kIGhlbHBlciBtZXRob2RzLlxuKlxuKiBAbW9kdWxlIGdzXG4qIEBjbGFzcyBFYXNpbmdzXG4qIEBtZW1iZXJvZiBnc1xuKiBAY29uc3RydWN0b3JcbiMjIyAgXG5jbGFzcyBFYXNpbmdzXG4gICAgQGluaXRpYWxpemU6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBhbGwgZWFzaW5nIGZ1bmN0aW9ucyBieSB0eXBlIGFuZCBpbi9vdXQuXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfRlVOQ1RJT05TXG4gICAgICAgICogQHR5cGUgRnVuY3Rpb25bXVtdXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEVBU0VfRlVOQ1RJT05TID0gW1tNYXRoLmxpbmVhclR3ZWVuLCBNYXRoLmxpbmVhclR3ZWVuLCBNYXRoLmxpbmVhclR3ZWVuXSwgXG4gICAgICAgICAgICAgICAgICAgICBbTWF0aC5lYXNlT3V0UXVhZCwgTWF0aC5lYXNlSW5RdWFkLCBNYXRoLmVhc2VJbk91dFF1YWRdLCBcbiAgICAgICAgICAgICAgICAgICAgIFtNYXRoLmVhc2VPdXRDdWJpYywgTWF0aC5lYXNlSW5DdWJpYywgTWF0aC5lYXNlSW5PdXRDdWJpY10sIFxuICAgICAgICAgICAgICAgICAgICAgW01hdGguZWFzZU91dFF1YXJ0LCBNYXRoLmVhc2VJblF1YXJ0LCBNYXRoLmVhc2VJbk91dFF1YXJ0XSxcbiAgICAgICAgICAgICAgICAgICAgIFtNYXRoLmVhc2VPdXRRdWludCwgTWF0aC5lYXNlSW5RdWludCwgTWF0aC5lYXNlSW5PdXRRdWludF0sXG4gICAgICAgICAgICAgICAgICAgICBbTWF0aC5lYXNlT3V0U2luZSwgTWF0aC5lYXNlSW5TaW5lLCBNYXRoLmVhc2VJbk91dFNpbmVdLFxuICAgICAgICAgICAgICAgICAgICAgW01hdGguZWFzZU91dEV4cG8sIE1hdGguZWFzZUluRXhwbywgTWF0aC5lYXNlSW5PdXRFeHBvXSxcbiAgICAgICAgICAgICAgICAgICAgIFtNYXRoLmVhc2VPdXRDaXJjLCBNYXRoLmVhc2VJbkNpcmMsIE1hdGguZWFzZUluT3V0Q2lyY11dXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEJZX0lOREVYXG4gICAgICAgICogQHR5cGUgbnVtYmVyW11bXVxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjICAgICAgICAgICAgIFxuICAgICAgICBAQllfSU5ERVggPSBbW1swLCAwXSwgWzAsIDBdLCBbMCwgMF1dLCBcbiAgICAgICAgICAgICAgICAgICAgIFtbMSwgMF0sIFsxLCAxXSwgWzEsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbMiwgMF0sIFsyLCAxXSwgWzIsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbMywgMF0sIFszLCAxXSwgWzMsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbNCwgMF0sIFs0LCAxXSwgWzQsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbNSwgMF0sIFs1LCAxXSwgWzUsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbNiwgMF0sIFs2LCAxXSwgWzYsIDJdXSxcbiAgICAgICAgICAgICAgICAgICAgIFtbNywgMF0sIFs3LCAxXSwgWzcsIDJdXV1cbiAgICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEJZX1NUUklOR1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjICAgICAgICAgICAgICAgXG4gICAgICAgIEBCWV9TVFJJTkcgPSB7XG4gICAgICAgICAgICBcImxpbmVhcl9pblwiOiBbMCwgMF0sIFwibGluZWFyX291dFwiOiBbMCwgMF0sIFwibGluZWFyX2lub3V0XCI6IFswLCAwXSxcbiAgICAgICAgICAgIFwicXVhZF9vdXRcIjogWzEsIDBdLCBcInF1YWRfaW5cIjogWzEsIDFdLCBcInF1YWRfaW5vdXRcIjogWzEsIDJdLFxuICAgICAgICAgICAgXCJjdWJpY19vdXRcIjogWzIsIDBdLCBcImN1YmljX2luXCI6IFsyLCAxXSwgXCJjdWJpY19pbm91dFwiOiBbMiwgMl0sXG4gICAgICAgICAgICBcInF1YXJ0X291dFwiOiBbMywgMF0sIFwicXVhcnRfaW5cIjogWzMsIDFdLCBcInF1YXJ0X2lub3V0XCI6IFszLCAyXSxcbiAgICAgICAgICAgIFwicXVpbnRfb3V0XCI6IFs0LCAwXSwgXCJxdWludF9pblwiOiBbNCwgMV0sIFwicXVpbnRfaW5vdXRcIjogWzQsIDJdLFxuICAgICAgICAgICAgXCJzaW5lX291dFwiOiBbNSwgMF0sIFwic2luZV9pblwiOiBbNSwgMV0sIFwic2luZV9pbm91dFwiOiBbNSwgMl0sXG4gICAgICAgICAgICBcImV4cG9fb3V0XCI6IFs2LCAwXSwgXCJleHBvX2luXCI6IFs2LCAxXSwgXCJleHBvX2lub3V0XCI6IFs2LCAyXSxcbiAgICAgICAgICAgIFwiY2lyY19vdXRcIjogWzcsIDBdLCBcImNpcmNfaW5cIjogWzcsIDFdLCBcImNpcmNfaW5vdXRcIjogWzcsIDJdXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgRUFTRV9MSU5FQVJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVtdXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyMgIFxuICAgICAgICBARUFTRV9MSU5FQVIgPSBAQllfSU5ERVhbZ3MuRWFzaW5nVHlwZXMuRUFTRV9MSU5FQVJdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfUVVBRFJBVElDXG4gICAgICAgICogQHR5cGUgbnVtYmVyW11bXVxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjICBcbiAgICAgICAgQEVBU0VfUVVBRFJBVElDID0gQEJZX0lOREVYW2dzLkVhc2luZ1R5cGVzLkVBU0VfUVVBRFJBVElDXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfQ1VCSUNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVtdXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyMgIFxuICAgICAgICBARUFTRV9DVUJJQyA9IEBCWV9JTkRFWFtncy5FYXNpbmdUeXBlcy5FQVNFX0NVQklDXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfUVVBUlRJQ1xuICAgICAgICAqIEB0eXBlIG51bWJlcltdW11cbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjIyAgXG4gICAgICAgIEBFQVNFX1FVQVJUSUMgPSBAQllfSU5ERVhbZ3MuRWFzaW5nVHlwZXMuRUFTRV9RVUFSVElDXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfUVVJTlRJQ1xuICAgICAgICAqIEB0eXBlIG51bWJlcltdW11cbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjIyAgXG4gICAgICAgIEBFQVNFX1FVSU5USUMgPSBAQllfSU5ERVhbZ3MuRWFzaW5nVHlwZXMuRUFTRV9RVUlOVElDXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfU0lOVVNPSURBTFxuICAgICAgICAqIEB0eXBlIG51bWJlcltdW11cbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjIyAgXG4gICAgICAgIEBFQVNFX1NJTlVTT0lEQUwgPSBAQllfSU5ERVhbZ3MuRWFzaW5nVHlwZXMuRUFTRV9TSU5VU09JREFMXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfRVhQT05FTlRJQUxcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVtdXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyMgIFxuICAgICAgICBARUFTRV9FWFBPTkVOVElBTCA9IEBCWV9JTkRFWFtncy5FYXNpbmdUeXBlcy5FQVNFX0VYUE9ORU5USUFMXVxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IEVBU0VfQ0lSQ1VMQVJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVtdXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyMgIFxuICAgICAgICBARUFTRV9DSVJDVUxBUiA9IEBCWV9JTkRFWFtncy5FYXNpbmdUeXBlcy5FQVNFX0NJUkNVTEFSXVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgZnJvbVZhbHVlc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGluT3V0IC0gVGhlIGluLW91dCB2YWx1ZS5cbiAgICAjIyNcbiAgICBAZnJvbVZhbHVlczogKGluZGV4LCBpbk91dCkgLT4gZ3MuRWFzaW5ncy5CWV9JTkRFWFtpbmRleF1baW5PdXRdXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBmcm9tT2JqZWN0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVGhlIGVhc2luZyBkYXRhLW9iamVjdC5cbiAgICAjIyNcbiAgICBAZnJvbU9iamVjdDogKG9iaiwgZmxhZ3MsIGRlZmF1bHRzKSAtPiBncy5FYXNpbmdzLkJZX0lOREVYW29iai50eXBlXVtvYmouaW5PdXRdXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBmcm9tU3RyaW5nXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcyAtIFRoZSBlYXNpbmcgc3RyaW5nIGxpa2UgXCJxdWFkX2luXCIgZm9yIGV4YW1wbGUuXG4gICAgIyMjXG4gICAgQGZyb21TdHJpbmc6IChzKSAtPiBncy5FYXNpbmdzLkJZX1NUUklOR1tzIHx8IFwibGluZWFyX2lub3V0XCJdXG4gICAgXG5FYXNpbmdzLmluaXRpYWxpemUoKVxuZ3MuRWFzaW5ncyA9IEVhc2luZ3MiXX0=
//# sourceURL=Easings_68.js

/**
* An enumeration of different dispose behaviors for containers. A dispose
* behavior describes what should happen with objects in a container after
* they got disposed.
*
* @module gs
* @class ContainerDisposeBehavior
* @memberof gs
* @constructor
* @static
* @final
 */
var ContainerDisposeBehavior;

ContainerDisposeBehavior = (function() {
  function ContainerDisposeBehavior() {}

  ContainerDisposeBehavior.initialize = function() {

    /**
    * Removes the disposed object from the container.
    * @property REMOVE
    * @type number
    * @static
    * @final
     */
    this.REMOVE = 0;

    /**
    * Sets the object reference to <b>null</b> but doesn't removing it from the container so the
    * indices are not changed.
    * @property NULL
    * @type number
    * @static
    * @final
     */
    return this.NULL = 1;
  };

  return ContainerDisposeBehavior;

})();

ContainerDisposeBehavior.initialize();

gs.ContainerDisposeBehavior = ContainerDisposeBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFZTTs7O0VBQ0Ysd0JBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7OztJQU9BLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7Ozs7O1dBUUEsSUFBQyxDQUFBLElBQUQsR0FBUTtFQWxCQzs7Ozs7O0FBb0JqQix3QkFBd0IsQ0FBQyxVQUF6QixDQUFBOztBQUNBLEVBQUUsQ0FBQyx3QkFBSCxHQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29udGFpbmVyRGlzcG9zZUJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiMjIypcbiogQW4gZW51bWVyYXRpb24gb2YgZGlmZmVyZW50IGRpc3Bvc2UgYmVoYXZpb3JzIGZvciBjb250YWluZXJzLiBBIGRpc3Bvc2VcbiogYmVoYXZpb3IgZGVzY3JpYmVzIHdoYXQgc2hvdWxkIGhhcHBlbiB3aXRoIG9iamVjdHMgaW4gYSBjb250YWluZXIgYWZ0ZXJcbiogdGhleSBnb3QgZGlzcG9zZWQuXG4qXG4qIEBtb2R1bGUgZ3NcbiogQGNsYXNzIENvbnRhaW5lckRpc3Bvc2VCZWhhdmlvclxuKiBAbWVtYmVyb2YgZ3NcbiogQGNvbnN0cnVjdG9yXG4qIEBzdGF0aWNcbiogQGZpbmFsXG4jIyNcbmNsYXNzIENvbnRhaW5lckRpc3Bvc2VCZWhhdmlvclxuICAgIEBpbml0aWFsaXplOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogUmVtb3ZlcyB0aGUgZGlzcG9zZWQgb2JqZWN0IGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgKiBAcHJvcGVydHkgUkVNT1ZFXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQFJFTU9WRSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTZXRzIHRoZSBvYmplY3QgcmVmZXJlbmNlIHRvIDxiPm51bGw8L2I+IGJ1dCBkb2Vzbid0IHJlbW92aW5nIGl0IGZyb20gdGhlIGNvbnRhaW5lciBzbyB0aGVcbiAgICAgICAgKiBpbmRpY2VzIGFyZSBub3QgY2hhbmdlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgTlVMTFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBOVUxMID0gMVxuXG5Db250YWluZXJEaXNwb3NlQmVoYXZpb3IuaW5pdGlhbGl6ZSgpICAgIFxuZ3MuQ29udGFpbmVyRGlzcG9zZUJlaGF2aW9yID0gQ29udGFpbmVyRGlzcG9zZUJlaGF2aW9yIl19
//# sourceURL=ContainerDisposeBehavior_80.js

/**
* An enumeration of command field flags.
*
* @module gs
* @class CommandFieldFlags
* @memberof gs
* @constructor
* @static
* @final
 */
var CommandFieldFlags;

CommandFieldFlags = (function() {
  function CommandFieldFlags() {}

  CommandFieldFlags.initialize = function() {

    /**
    * Indicates if the field is locked and should not be changed.
    * @property LOCKED
    * @type number
    * @static
    * @final
     */
    return this.LOCKED = 1;
  };


  /**
  * Checks if a command field is locked.
  * @method isLocked
  * @static
  * @param {number} flags - Field flags to check.
   */

  CommandFieldFlags.isLocked = function(flags) {
    return flags & CommandFieldFlags.LOCKED;
  };

  return CommandFieldFlags;

})();

CommandFieldFlags.initialize();

gs.CommandFieldFlags = CommandFieldFlags;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBVU07OztFQUNGLGlCQUFDLENBQUEsVUFBRCxHQUFhLFNBQUE7O0FBQ1Q7Ozs7Ozs7V0FPQSxJQUFDLENBQUEsTUFBRCxHQUFVO0VBUkQ7OztBQVViOzs7Ozs7O0VBTUEsaUJBQUMsQ0FBQSxRQUFELEdBQVcsU0FBQyxLQUFEO1dBQVcsS0FBQSxHQUFRLGlCQUFpQixDQUFDO0VBQXJDOzs7Ozs7QUFFZixpQkFBaUIsQ0FBQyxVQUFsQixDQUFBOztBQUNBLEVBQUUsQ0FBQyxpQkFBSCxHQUF1QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tbWFuZEZpZWxkRmxhZ3NcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuIyMjKlxuKiBBbiBlbnVtZXJhdGlvbiBvZiBjb21tYW5kIGZpZWxkIGZsYWdzLlxuKlxuKiBAbW9kdWxlIGdzXG4qIEBjbGFzcyBDb21tYW5kRmllbGRGbGFnc1xuKiBAbWVtYmVyb2YgZ3NcbiogQGNvbnN0cnVjdG9yXG4qIEBzdGF0aWNcbiogQGZpbmFsXG4jIyMgIFxuY2xhc3MgQ29tbWFuZEZpZWxkRmxhZ3NcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgZmllbGQgaXMgbG9ja2VkIGFuZCBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gICAgICAgICogQHByb3BlcnR5IExPQ0tFRFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBMT0NLRUQgPSAxXG4gICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIGEgY29tbWFuZCBmaWVsZCBpcyBsb2NrZWQuXG4gICAgKiBAbWV0aG9kIGlzTG9ja2VkXG4gICAgKiBAc3RhdGljXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZ3MgLSBGaWVsZCBmbGFncyB0byBjaGVjay5cbiAgICAjIyNcbiAgICBAaXNMb2NrZWQ6IChmbGFncykgLT4gZmxhZ3MgJiBDb21tYW5kRmllbGRGbGFncy5MT0NLRURcbiBcbkNvbW1hbmRGaWVsZEZsYWdzLmluaXRpYWxpemUoKSAgIFxuZ3MuQ29tbWFuZEZpZWxkRmxhZ3MgPSBDb21tYW5kRmllbGRGbGFnc1xuICAiXX0=
//# sourceURL=CommandFieldFlags_91.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=UI_99.js

/**
* An enumeration of different UI object update behaviors.
*
* @module ui
* @class UpdateBehavior
* @memberof ui
* @constructor
* @static
* @final
 */
var UpdateBehavior;

UpdateBehavior = (function() {
  function UpdateBehavior() {}

  UpdateBehavior.initialize = function() {

    /**
    * The UI object is only updated if necessary. However, there are cases where
    * a necessary update is not detected.
    * @property NORMAL
    * @type number
    * @static
    * @final
     */
    this.NORMAL = 0;

    /**
    * The UI object is updated on every frame.
    * @property CONTINUOUS
    * @type number
    * @static
    * @final
     */
    return this.CONTINUOUS = 1;
  };

  return UpdateBehavior;

})();

UpdateBehavior.initialize();

ui.UpdateBehavior = UpdateBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBVU07OztFQUNGLGNBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7Ozs7SUFRQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7O1dBT0EsSUFBQyxDQUFBLFVBQUQsR0FBYztFQWxCTDs7Ozs7O0FBb0JqQixjQUFjLENBQUMsVUFBZixDQUFBOztBQUNBLEVBQUUsQ0FBQyxjQUFILEdBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBVcGRhdGVCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4jIyMqXG4qIEFuIGVudW1lcmF0aW9uIG9mIGRpZmZlcmVudCBVSSBvYmplY3QgdXBkYXRlIGJlaGF2aW9ycy5cbipcbiogQG1vZHVsZSB1aVxuKiBAY2xhc3MgVXBkYXRlQmVoYXZpb3JcbiogQG1lbWJlcm9mIHVpXG4qIEBjb25zdHJ1Y3RvclxuKiBAc3RhdGljXG4qIEBmaW5hbFxuIyMjXG5jbGFzcyBVcGRhdGVCZWhhdmlvclxuICAgIEBpbml0aWFsaXplOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCBpcyBvbmx5IHVwZGF0ZWQgaWYgbmVjZXNzYXJ5LiBIb3dldmVyLCB0aGVyZSBhcmUgY2FzZXMgd2hlcmVcbiAgICAgICAgKiBhIG5lY2Vzc2FyeSB1cGRhdGUgaXMgbm90IGRldGVjdGVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBOT1JNQUxcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBATk9STUFMID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QgaXMgdXBkYXRlZCBvbiBldmVyeSBmcmFtZS5cbiAgICAgICAgKiBAcHJvcGVydHkgQ09OVElOVU9VU1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBDT05USU5VT1VTID0gMVxuICAgIFxuVXBkYXRlQmVoYXZpb3IuaW5pdGlhbGl6ZSgpXG51aS5VcGRhdGVCZWhhdmlvciA9IFVwZGF0ZUJlaGF2aW9yIl19
//# sourceURL=UpdateBehavior_7.js

/**
* An enumeration of different management modes describing how a layout should
* handle its sub-objects coming from a data-source.
*
* @module ui
* @class LayoutManagementMode
* @memberof ui
* @constructor
* @static
* @final
 */
var LayoutManagementMode;

LayoutManagementMode = (function() {
  function LayoutManagementMode() {}

  LayoutManagementMode.initialize = function() {

    /**
    * All sub-objects are created at setup time.
    * @property NORMAL
    * @type number
    * @static
    * @final
     */
    this.NORMAL = 0;

    /**
    * The sub-objects are created at update time and only those which are currently visible.
    * @property JUST_IN_TIME
    * @type number
    * @static
    * @final
     */
    return this.JUST_IN_TIME = 1;
  };


  /**
  * Gets the constant number value from a specified human-readable string.
  * @method fromString
  * @param {string} s - The management mode as string. Can be "normal" or "just_in_time".
  * @return {number} The constant number value.
  * @static
  * @final
   */

  LayoutManagementMode.fromString = function(s) {
    switch (s) {
      case "normal":
        return 0;
      case "just_in_time":
        return 1;
      default:
        return 0;
    }
  };

  return LayoutManagementMode;

})();

LayoutManagementMode.initialize();

ui.LayoutManagementMode = LayoutManagementMode;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7Ozs7QUFBQSxJQUFBOztBQVdNOzs7RUFDRixvQkFBQyxDQUFBLFVBQUQsR0FBYSxTQUFBOztBQUNUOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7OztXQU9BLElBQUMsQ0FBQSxZQUFELEdBQWdCO0VBakJQOzs7QUFtQmI7Ozs7Ozs7OztFQVFBLG9CQUFDLENBQUEsVUFBRCxHQUFhLFNBQUMsQ0FBRDtBQUNULFlBQU8sQ0FBUDtBQUFBLFdBQ1MsUUFEVDtBQUVRLGVBQU87QUFGZixXQUdTLGNBSFQ7QUFJUSxlQUFPO0FBSmY7QUFNUSxlQUFPO0FBTmY7RUFEUzs7Ozs7O0FBU2pCLG9CQUFvQixDQUFDLFVBQXJCLENBQUE7O0FBQ0EsRUFBRSxDQUFDLG9CQUFILEdBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBMYXlvdXRNYW5hZ2VtZW50TW9kZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4jIyMqXG4qIEFuIGVudW1lcmF0aW9uIG9mIGRpZmZlcmVudCBtYW5hZ2VtZW50IG1vZGVzIGRlc2NyaWJpbmcgaG93IGEgbGF5b3V0IHNob3VsZFxuKiBoYW5kbGUgaXRzIHN1Yi1vYmplY3RzIGNvbWluZyBmcm9tIGEgZGF0YS1zb3VyY2UuXG4qXG4qIEBtb2R1bGUgdWlcbiogQGNsYXNzIExheW91dE1hbmFnZW1lbnRNb2RlXG4qIEBtZW1iZXJvZiB1aVxuKiBAY29uc3RydWN0b3JcbiogQHN0YXRpY1xuKiBAZmluYWxcbiMjI1xuY2xhc3MgTGF5b3V0TWFuYWdlbWVudE1vZGVcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFsbCBzdWItb2JqZWN0cyBhcmUgY3JlYXRlZCBhdCBzZXR1cCB0aW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBOT1JNQUxcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBATk9STUFMID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBzdWItb2JqZWN0cyBhcmUgY3JlYXRlZCBhdCB1cGRhdGUgdGltZSBhbmQgb25seSB0aG9zZSB3aGljaCBhcmUgY3VycmVudGx5IHZpc2libGUuXG4gICAgICAgICogQHByb3BlcnR5IEpVU1RfSU5fVElNRVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBKVVNUX0lOX1RJTUUgPSAxXG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgY29uc3RhbnQgbnVtYmVyIHZhbHVlIGZyb20gYSBzcGVjaWZpZWQgaHVtYW4tcmVhZGFibGUgc3RyaW5nLlxuICAgICogQG1ldGhvZCBmcm9tU3RyaW5nXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcyAtIFRoZSBtYW5hZ2VtZW50IG1vZGUgYXMgc3RyaW5nLiBDYW4gYmUgXCJub3JtYWxcIiBvciBcImp1c3RfaW5fdGltZVwiLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29uc3RhbnQgbnVtYmVyIHZhbHVlLlxuICAgICogQHN0YXRpY1xuICAgICogQGZpbmFsXG4gICAgIyMjXG4gICAgQGZyb21TdHJpbmc6IChzKSAtPlxuICAgICAgICBzd2l0Y2ggc1xuICAgICAgICAgICAgd2hlbiBcIm5vcm1hbFwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgICAgIHdoZW4gXCJqdXN0X2luX3RpbWVcIlxuICAgICAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgIHJldHVybiAwXG4gXG5MYXlvdXRNYW5hZ2VtZW50TW9kZS5pbml0aWFsaXplKCkgICBcbnVpLkxheW91dE1hbmFnZW1lbnRNb2RlID0gTGF5b3V0TWFuYWdlbWVudE1vZGUiXX0=
//# sourceURL=LayoutManagementMode_28.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Sprites_16.js
var Sprite_Debug,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Sprite_Debug = (function(superClass) {
  extend(Sprite_Debug, superClass);


  /**
  * Sprite to display debug information on screen. <b>HINT:</b> Will be probably removed
  * before release.
  *
  * @module gs
  * @class Sprite_Debug
  * @extends gs.Sprite
  * @memberof gs
  * @static
   */

  function Sprite_Debug(viewport) {
    var size;
    Sprite_Debug.__super__.constructor.call(this, viewport);

    /**
    * @property frameTime
    * @type number|string
    * The time / time-text to display.
     */
    this.frameTime = 0;
    size = Math.round(8 / 240 * Graphics.height);
    this.bitmap = new Bitmap(180 * Graphics.scale, 28 * Graphics.scale);
    this.bitmap.font = new Font("Verdana", size);
    this.bitmap.font.color = Color.WHITE;
    this.srcRect = new Rect(0, 0, this.bitmap.width, this.bitmap.height);
    this.z = 15000;
    this.opacity = 255;
    this.visible = true;
    this.x = 0;
    this.y = 0;
  }

  Sprite_Debug.prototype.redraw = function() {
    this.bitmap.clear();
    return this.bitmap.drawText(0, 0, this.bitmap.width, this.bitmap.height, this.frameTime.toString(), 0, 0);
  };

  return Sprite_Debug;

})(Sprite);

window.Sprite_Debug = Sprite_Debug;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7OztFQVVhLHNCQUFDLFFBQUQ7QUFDVCxRQUFBO0lBQUEsOENBQU0sUUFBTjs7QUFDQTs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhO0lBRWIsSUFBQSxHQUFPLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQSxHQUFJLEdBQUosR0FBVSxRQUFRLENBQUMsTUFBOUI7SUFDUCxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsTUFBQSxDQUFPLEdBQUEsR0FBSSxRQUFRLENBQUMsS0FBcEIsRUFBMkIsRUFBQSxHQUFLLFFBQVEsQ0FBQyxLQUF6QztJQUNkLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixHQUFtQixJQUFBLElBQUEsQ0FBSyxTQUFMLEVBQWdCLElBQWhCO0lBQ25CLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsR0FBcUIsS0FBSyxDQUFDO0lBQzNCLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQW5CLEVBQTBCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBbEM7SUFFZixJQUFDLENBQUEsQ0FBRCxHQUFLO0lBQ0wsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLElBQUMsQ0FBQSxPQUFELEdBQVc7SUFDWCxJQUFDLENBQUEsQ0FBRCxHQUFLO0lBQ0wsSUFBQyxDQUFBLENBQUQsR0FBSztFQW5CSTs7eUJBcUJiLE1BQUEsR0FBUSxTQUFBO0lBQ0osSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLENBQUE7V0FDQSxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVIsQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUEvQixFQUFzQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQTlDLEVBQXNELElBQUMsQ0FBQSxTQUFTLENBQUMsUUFBWCxDQUFBLENBQXRELEVBQTZFLENBQTdFLEVBQWdGLENBQWhGO0VBRkk7Ozs7R0FoQ2U7O0FBcUMzQixNQUFNLENBQUMsWUFBUCxHQUFzQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogU3ByaXRlX0RlYnVnXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBTcHJpdGVfRGVidWcgZXh0ZW5kcyBTcHJpdGVcbiAgICAjIyMqXG4gICAgKiBTcHJpdGUgdG8gZGlzcGxheSBkZWJ1ZyBpbmZvcm1hdGlvbiBvbiBzY3JlZW4uIDxiPkhJTlQ6PC9iPiBXaWxsIGJlIHByb2JhYmx5IHJlbW92ZWRcbiAgICAqIGJlZm9yZSByZWxlYXNlLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBTcHJpdGVfRGVidWdcbiAgICAqIEBleHRlbmRzIGdzLlNwcml0ZVxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAc3RhdGljXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICh2aWV3cG9ydCkgLT5cbiAgICAgICAgc3VwZXIodmlld3BvcnQpXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVUaW1lXG4gICAgICAgICogQHR5cGUgbnVtYmVyfHN0cmluZ1xuICAgICAgICAqIFRoZSB0aW1lIC8gdGltZS10ZXh0IHRvIGRpc3BsYXkuXG4gICAgICAgICMjI1xuICAgICAgICBAZnJhbWVUaW1lID0gMFxuICAgICAgICBcbiAgICAgICAgc2l6ZSA9IE1hdGgucm91bmQoOCAvIDI0MCAqIEdyYXBoaWNzLmhlaWdodClcbiAgICAgICAgQGJpdG1hcCA9IG5ldyBCaXRtYXAoMTgwKkdyYXBoaWNzLnNjYWxlLCAyOCAqIEdyYXBoaWNzLnNjYWxlKVxuICAgICAgICBAYml0bWFwLmZvbnQgPSBuZXcgRm9udChcIlZlcmRhbmFcIiwgc2l6ZSlcbiAgICAgICAgQGJpdG1hcC5mb250LmNvbG9yID0gQ29sb3IuV0hJVEVcbiAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAYml0bWFwLndpZHRoLCBAYml0bWFwLmhlaWdodClcbiAgICAgICAgXG4gICAgICAgIEB6ID0gMTUwMDBcbiAgICAgICAgQG9wYWNpdHkgPSAyNTVcbiAgICAgICAgQHZpc2libGUgPSB5ZXNcbiAgICAgICAgQHggPSAwXG4gICAgICAgIEB5ID0gMFxuICAgICAgICBcbiAgICByZWRyYXc6IC0+XG4gICAgICAgIEBiaXRtYXAuY2xlYXIoKVxuICAgICAgICBAYml0bWFwLmRyYXdUZXh0KDAsIDAsIEBiaXRtYXAud2lkdGgsIEBiaXRtYXAuaGVpZ2h0LCBAZnJhbWVUaW1lLnRvU3RyaW5nKCksIDAsIDApXG4gICAgICAgIFxuICAgICAgICBcbndpbmRvdy5TcHJpdGVfRGVidWcgPSBTcHJpdGVfRGVidWdcblxuXG4gICAgICAgICJdfQ==
//# sourceURL=Sprite_Debug_8.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Managers_40.js
var ObjectManager;

ObjectManager = (function() {

  /**
  * Stores the current default ObjectManager.
  * @property current
  * @type gs.ObjectManager
  * @static
   */
  ObjectManager.current = null;


  /**
  * Manages game objects by updating if necessary and offering
  * methods to add or remove game objects. All game objects are sorted by
  * the order-property to give control over the update-order.
  *
  * A game object can registered under a unique ID and then easily accessed using
  * that ID. If an object gets registered, a global variable $<ID> is created
  * as well. However, that global variable is only for the use in property-bindings
  * used for In-Game UI. See ui.Component_BindingHandler.
  *
  * In addition, a game object can be assigned to a group like for example
  * a set of UI toggle-buttons can be assigned to the same group and then
  * easily accessed later using gs.ObjectManager.objectsByGroup method.
  *
  * @module gs
  * @class ObjectManager
  * @memberof gs
  * @constructor
  * @see ui.Component_BindingHandler
   */

  function ObjectManager() {

    /**
    * All game objects to manage.
    * @property objects
    * @type gs.Object_Base[]
     */
    this.objects = [];

    /**
    * All game objects by ID.
    * @property objectsById
    * @type Object
     */
    this.objectsById = {};

    /**
    * All game objects by group.
    * @property objectsByGroup_
    * @type Object
     */
    this.objectsByGroup_ = {};

    /**
    * Indicates if the ObjectManager is active. If <b>false</b> the game objects are not updated.
    * @property active
    * @type boolean
     */
    this.active = true;

    /**
    * Indicates if the ObjectManager needs to sort the game objects.
    * @property active
    * @type boolean
     */
    this.needsSort = true;
  }


  /**
  * Disposes the manager and all assigned game objects.
  *
  * @method dispose
   */

  ObjectManager.prototype.dispose = function() {
    var j, len, object, ref, results;
    ref = this.objects;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      object = ref[j];
      if (!object.disposed) {
        results.push(object.dispose());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Disposes all assigned game objects.
  *
  * @method disposeObjects
   */

  ObjectManager.prototype.disposeObjects = function() {
    var j, k, keys, len, object, results;
    keys = Object.keys(this.objectsById);
    results = [];
    for (j = 0, len = keys.length; j < len; j++) {
      k = keys[j];
      object = this.objectsById[k];
      if (object && !object.disposed) {
        results.push(object.dispose());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Registers an object.
  *
  * @method registerObject
   */

  ObjectManager.prototype.registerObject = function(object) {
    if (object.id != null) {
      this.objectsById[object.id] = object;
      return window["$" + object.id] = object;
    }
  };


  /**
  * Unregisters an object.
  *
  * @method unregisterObject
   */

  ObjectManager.prototype.unregisterObject = function(object) {
    if ((object != null ? object.id : void 0) != null) {
      delete this.objectsById[object.id];
      delete window["$" + object.id];
    }
    return null;
  };


  /**
  * Adds a game object to the manager. The game object is then automatically updated by the manager.
  *
  * @method addObject
  * @param {gs.Object_Base} object - The game object to add.
   */

  ObjectManager.prototype.addObject = function(object) {
    return this.add(object);
  };


  /**
  * Removes a game object to the manager. The game object is then no longer automatically updated or disposed by the manager.
  *
  * @method removeObject
  * @param {gs.Object_Base} object - The game object to remove.
   */

  ObjectManager.prototype.removeObject = function(object) {
    return this.remove(object);
  };


  /**
  * Adds a game object to the manager. The game object is then automatically updated by the manager.
  *
  * @method add
  * @param {gs.Object_Base} object - The game object to add.
   */

  ObjectManager.prototype.add = function(object) {
    this.objects.push(object);
    this.needsSort = true;
    this.registerObject(object);
    return this.addToGroup(object, object.group);
  };


  /**
  * Removes a game object to the manager. The game object is then no longer automatically updated or disposed by the manager.
  *
  * @method remove
  * @param {gs.Object_Base} object - The game object to remove.
   */

  ObjectManager.prototype.remove = function(object) {
    var ref;
    if (object) {
      this.objects.remove(object);
      this.unregisterObject(object);
      if (object.group != null) {
        return (ref = this.objectsByGroup[object.group]) != null ? ref.remove(object) : void 0;
      }
    }
  };


  /**
  * Gets an object by ID.
  *
  * @method objectById
  * @param {String} id - The ID of the game object to get. 
  * @return {gs.Object_Base} The game object or <b>null</b> if no game object is registered for the specified ID.
   */

  ObjectManager.prototype.objectById = function(id) {
    return this.objectsById[id];
  };


  /**
  * Gets an object by ID.
  *
  * @method byId
  * @param {String} id - The ID of the game object to get. 
  * @return {gs.Object_Base} The game object or <b>null</b> if no game object is registered for the specified ID.
   */

  ObjectManager.prototype.byId = function(id) {
    return this.objectsById[id];
  };


  /**
  * Sets the object for an ID.
  *
  * @method setObjectById
  * @param {gs.Object_Base} object - The game object to set.
  * @param {String} id - The ID for the game object.
   */

  ObjectManager.prototype.setObjectById = function(object, id) {
    object.id = id;
    this.objectsById[id] = object;
    return window["$" + id] = object;
  };


  /**
  * Adds an object to a specified object-group.
  *
  * @method addToGroup
  * @param {gs.Object_Base} object - The game object to add.
  * @param {String} group - The group to assign game object to.
   */

  ObjectManager.prototype.addToGroup = function(object, group) {
    var ref;
    if (group != null) {
      if ((ref = this.objectsByGroup_[object.group]) != null) {
        ref.remove(object);
      }
      if (!this.objectsByGroup_[group]) {
        this.objectsByGroup_[group] = [];
      }
      return this.objectsByGroup_[group].push(object);
    }
  };


  /**
  * Gets all object of a specified object-group.
  *
  * @method objectsByGroup
  * @param {String} group - The object-group.
  * @return {gs.Object_Base[]} The game objects belonging to the specified group.
   */

  ObjectManager.prototype.objectsByGroup = function(group) {
    return this.objectsByGroup_[group] || [];
  };


  /**
  * Updates the manager and all assigned game objects in the right order.
  *
  * @method update
   */

  ObjectManager.prototype.update = function() {
    var i, object;
    i = 0;
    if (this.needsSort) {
      this.objects.sort(function(a, b) {
        if (a.order < b.order) {
          return 1;
        } else if (a.order > b.order) {
          return -1;
        } else {
          return 0;
        }
      });
      this.needsSort = false;
    }
    while (i < this.objects.length) {
      object = this.objects[i];
      if (object.disposed) {
        this.objects.splice(i, 1);
        if (object.id != null) {
          delete this.objectsById[object.id];
        }
        if (object.id != null) {
          delete window[object.id];
        }
        if (object.group != null) {
          this.objectsByGroup[object.group].remove(object);
        }
      } else {
        if (object.active) {
          object.update();
        }
        i++;
      }
    }
    return null;
  };

  return ObjectManager;

})();

gs.ObjectManager = ObjectManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7OztFQU1BLGFBQUMsQ0FBQSxPQUFELEdBQVU7OztBQUVWOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFvQmEsdUJBQUE7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxlQUFELEdBQW1COztBQUVuQjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7RUFsQ0o7OztBQW9DYjs7Ozs7OzBCQUtBLE9BQUEsR0FBUyxTQUFBO0FBQ0wsUUFBQTtBQUFBO0FBQUE7U0FBQSxxQ0FBQTs7TUFDSSxJQUFHLENBQUksTUFBTSxDQUFDLFFBQWQ7cUJBQ0ksTUFBTSxDQUFDLE9BQVAsQ0FBQSxHQURKO09BQUEsTUFBQTs2QkFBQTs7QUFESjs7RUFESzs7O0FBS1Q7Ozs7OzswQkFLQSxjQUFBLEdBQWdCLFNBQUE7QUFDWixRQUFBO0lBQUEsSUFBQSxHQUFPLE1BQU0sQ0FBQyxJQUFQLENBQVksSUFBQyxDQUFBLFdBQWI7QUFDUDtTQUFBLHNDQUFBOztNQUNJLE1BQUEsR0FBUyxJQUFDLENBQUEsV0FBWSxDQUFBLENBQUE7TUFDdEIsSUFBRyxNQUFBLElBQVcsQ0FBSSxNQUFNLENBQUMsUUFBekI7cUJBQ0ksTUFBTSxDQUFDLE9BQVAsQ0FBQSxHQURKO09BQUEsTUFBQTs2QkFBQTs7QUFGSjs7RUFGWTs7O0FBT2hCOzs7Ozs7MEJBS0EsY0FBQSxHQUFnQixTQUFDLE1BQUQ7SUFDWixJQUFHLGlCQUFIO01BQ0ksSUFBQyxDQUFBLFdBQVksQ0FBQSxNQUFNLENBQUMsRUFBUCxDQUFiLEdBQTBCO2FBRTFCLE1BQU8sQ0FBQSxHQUFBLEdBQUksTUFBTSxDQUFD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TUFBbkI7TUFDSSxNQUFBLEdBQVMsSUFBQyxDQUFBLE9BQVEsQ0FBQSxDQUFBO01BQ2xCLElBQUcsTUFBTSxDQUFDLFFBQVY7UUFDSSxJQUFDLENBQUEsT0FBTyxDQUFDLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkI7UUFDQSxJQUFHLGlCQUFIO1VBQW1CLE9BQU8sSUFBQyxDQUFBLFdBQVksQ0FBQSxNQUFNLENBQUMsRUFBUCxFQUF2Qzs7UUFDQSxJQUFHLGlCQUFIO1VBQW1CLE9BQU8sTUFBTyxDQUFBLE1BQU0sQ0FBQyxFQUFQLEVBQWpDOztRQUNBLElBQUcsb0JBQUg7VUFDSSxJQUFDLENBQUEsY0FBZSxDQUFBLE1BQU0sQ0FBQyxLQUFQLENBQWEsQ0FBQyxNQUE5QixDQUFxQyxNQUFyQyxFQURKO1NBSko7T0FBQSxNQUFBO1FBT0ksSUFBbUIsTUFBTSxDQUFDLE1BQTFCO1VBQUEsTUFBTSxDQUFDLE1BQVAsQ0FBQSxFQUFBOztRQUNBLENBQUEsR0FSSjs7SUFGSjtBQVlBLFdBQU87RUF6Qkg7Ozs7OztBQTJCWixFQUFFLENBQUMsYUFBSCxHQUFtQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogT2JqZWN0TWFuYWdlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0TWFuYWdlclxuICAgICMjIypcbiAgICAqIFN0b3JlcyB0aGUgY3VycmVudCBkZWZhdWx0IE9iamVjdE1hbmFnZXIuXG4gICAgKiBAcHJvcGVydHkgY3VycmVudFxuICAgICogQHR5cGUgZ3MuT2JqZWN0TWFuYWdlclxuICAgICogQHN0YXRpY1xuICAgICMjIyBcbiAgICBAY3VycmVudDogbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIE1hbmFnZXMgZ2FtZSBvYmplY3RzIGJ5IHVwZGF0aW5nIGlmIG5lY2Vzc2FyeSBhbmQgb2ZmZXJpbmdcbiAgICAqIG1ldGhvZHMgdG8gYWRkIG9yIHJlbW92ZSBnYW1lIG9iamVjdHMuIEFsbCBnYW1lIG9iamVjdHMgYXJlIHNvcnRlZCBieVxuICAgICogdGhlIG9yZGVyLXByb3BlcnR5IHRvIGdpdmUgY29udHJvbCBvdmVyIHRoZSB1cGRhdGUtb3JkZXIuXG4gICAgKlxuICAgICogQSBnYW1lIG9iamVjdCBjYW4gcmVnaXN0ZXJlZCB1bmRlciBhIHVuaXF1ZSBJRCBhbmQgdGhlbiBlYXNpbHkgYWNjZXNzZWQgdXNpbmdcbiAgICAqIHRoYXQgSUQuIElmIGFuIG9iamVjdCBnZXRzIHJlZ2lzdGVyZWQsIGEgZ2xvYmFsIHZhcmlhYmxlICQ8SUQ+IGlzIGNyZWF0ZWRcbiAgICAqIGFzIHdlbGwuIEhvd2V2ZXIsIHRoYXQgZ2xvYmFsIHZhcmlhYmxlIGlzIG9ubHkgZm9yIHRoZSB1c2UgaW4gcHJvcGVydHktYmluZGluZ3NcbiAgICAqIHVzZWQgZm9yIEluLUdhbWUgVUkuIFNlZSB1aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIuXG4gICAgKlxuICAgICogSW4gYWRkaXRpb24sIGEgZ2FtZSBvYmplY3QgY2FuIGJlIGFzc2lnbmVkIHRvIGEgZ3JvdXAgbGlrZSBmb3IgZXhhbXBsZVxuICAgICogYSBzZXQgb2YgVUkgdG9nZ2xlLWJ1dHRvbnMgY2FuIGJlIGFzc2lnbmVkIHRvIHRoZSBzYW1lIGdyb3VwIGFuZCB0aGVuXG4gICAgKiBlYXNpbHkgYWNjZXNzZWQgbGF0ZXIgdXNpbmcgZ3MuT2JqZWN0TWFuYWdlci5vYmplY3RzQnlHcm91cCBtZXRob2QuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIE9iamVjdE1hbmFnZXJcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAc2VlIHVpLkNvbXBvbmVudF9CaW5kaW5nSGFuZGxlclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogQWxsIGdhbWUgb2JqZWN0cyB0byBtYW5hZ2UuXG4gICAgICAgICogQHByb3BlcnR5IG9iamVjdHNcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQmFzZVtdXG4gICAgICAgICMjIyBcbiAgICAgICAgQG9iamVjdHMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFsbCBnYW1lIG9iamVjdHMgYnkgSUQuXG4gICAgICAgICogQHByb3BlcnR5IG9iamVjdHNCeUlkXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjIyBcbiAgICAgICAgQG9iamVjdHNCeUlkID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbGwgZ2FtZSBvYmplY3RzIGJ5IGdyb3VwLlxuICAgICAgICAqIEBwcm9wZXJ0eSBvYmplY3RzQnlHcm91cF9cbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjIFxuICAgICAgICBAb2JqZWN0c0J5R3JvdXBfID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIE9iamVjdE1hbmFnZXIgaXMgYWN0aXZlLiBJZiA8Yj5mYWxzZTwvYj4gdGhlIGdhbWUgb2JqZWN0cyBhcmUgbm90IHVwZGF0ZWQuXG4gICAgICAgICogQHByb3BlcnR5IGFjdGl2ZVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjIFxuICAgICAgICBAYWN0aXZlID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBPYmplY3RNYW5hZ2VyIG5lZWRzIHRvIHNvcnQgdGhlIGdhbWUgb2JqZWN0cy5cbiAgICAgICAgKiBAcHJvcGVydHkgYWN0aXZlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyMgXG4gICAgICAgIEBuZWVkc1NvcnQgPSB5ZXNcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIG1hbmFnZXIgYW5kIGFsbCBhc3NpZ25lZCBnYW1lIG9iamVjdHMuXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNwb3NlXG4gICAgIyMjXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgZm9yIG9iamVjdCBpbiBAb2JqZWN0c1xuICAgICAgICAgICAgaWYgbm90IG9iamVjdC5kaXNwb3NlZFxuICAgICAgICAgICAgICAgIG9iamVjdC5kaXNwb3NlKClcbiAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgYWxsIGFzc2lnbmVkIGdhbWUgb2JqZWN0cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VPYmplY3RzXG4gICAgIyMjICAgICAgICAgICBcbiAgICBkaXNwb3NlT2JqZWN0czogLT5cbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKEBvYmplY3RzQnlJZClcbiAgICAgICAgZm9yIGsgaW4ga2V5c1xuICAgICAgICAgICAgb2JqZWN0ID0gQG9iamVjdHNCeUlkW2tdXG4gICAgICAgICAgICBpZiBvYmplY3QgYW5kIG5vdCBvYmplY3QuZGlzcG9zZWRcbiAgICAgICAgICAgICAgICBvYmplY3QuZGlzcG9zZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogUmVnaXN0ZXJzIGFuIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlZ2lzdGVyT2JqZWN0XG4gICAgIyMjXG4gICAgcmVnaXN0ZXJPYmplY3Q6IChvYmplY3QpIC0+XG4gICAgICAgIGlmIG9iamVjdC5pZD9cbiAgICAgICAgICAgIEBvYmplY3RzQnlJZFtvYmplY3QuaWRdID0gb2JqZWN0XG4gICAgICAgICAgICAjIEZJWE1FOiBTaG91bGQgYmUgaGFuZGxlZCBieSBVaU1hbmFnZXIgc2luY2UgaXQgaXMgVUkgc3BlY2lmaWMuXG4gICAgICAgICAgICB3aW5kb3dbXCIkXCIrb2JqZWN0LmlkXSA9IG9iamVjdFxuICAgIFxuICAgICMjIypcbiAgICAqIFVucmVnaXN0ZXJzIGFuIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVucmVnaXN0ZXJPYmplY3RcbiAgICAjIyMgICAgICAgIFxuICAgIHVucmVnaXN0ZXJPYmplY3Q6IChvYmplY3QpIC0+XG4gICAgICAgIGlmIG9iamVjdD8uaWQ/XG4gICAgICAgICAgICBkZWxldGUgQG9iamVjdHNCeUlkW29iamVjdC5pZF1cbiAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3dbXCIkXCIrb2JqZWN0LmlkXVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgYSBnYW1lIG9iamVjdCB0byB0aGUgbWFuYWdlci4gVGhlIGdhbWUgb2JqZWN0IGlzIHRoZW4gYXV0b21hdGljYWxseSB1cGRhdGVkIGJ5IHRoZSBtYW5hZ2VyLlxuICAgICpcbiAgICAqIEBtZXRob2QgYWRkT2JqZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gYWRkLlxuICAgICMjIyAgICAgICAgXG4gICAgYWRkT2JqZWN0OiAob2JqZWN0KSAtPiBAYWRkKG9iamVjdClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBSZW1vdmVzIGEgZ2FtZSBvYmplY3QgdG8gdGhlIG1hbmFnZXIuIFRoZSBnYW1lIG9iamVjdCBpcyB0aGVuIG5vIGxvbmdlciBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgb3IgZGlzcG9zZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCByZW1vdmVPYmplY3RcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IG9iamVjdCAtIFRoZSBnYW1lIG9iamVjdCB0byByZW1vdmUuXG4gICAgIyMjICAgICAgICBcbiAgICByZW1vdmVPYmplY3Q6IChvYmplY3QpIC0+IEByZW1vdmUob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgYSBnYW1lIG9iamVjdCB0byB0aGUgbWFuYWdlci4gVGhlIGdhbWUgb2JqZWN0IGlzIHRoZW4gYXV0b21hdGljYWxseSB1cGRhdGVkIGJ5IHRoZSBtYW5hZ2VyLlxuICAgICpcbiAgICAqIEBtZXRob2QgYWRkXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gYWRkLlxuICAgICMjIyBcbiAgICBhZGQ6IChvYmplY3QpIC0+IFxuICAgICAgICAjQG9iamVjdHMuc3BsaWNlKDAsIDAsIG9iamVjdClcbiAgICAgICAgQG9iamVjdHMucHVzaChvYmplY3QpXG4gICAgICAgIEBuZWVkc1NvcnQgPSB5ZXNcbiAgICAgICAgQHJlZ2lzdGVyT2JqZWN0KG9iamVjdClcbiAgICAgICAgQGFkZFRvR3JvdXAob2JqZWN0LCBvYmplY3QuZ3JvdXApXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFJlbW92ZXMgYSBnYW1lIG9iamVjdCB0byB0aGUgbWFuYWdlci4gVGhlIGdhbWUgb2JqZWN0IGlzIHRoZW4gbm8gbG9uZ2VyIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCBvciBkaXNwb3NlZCBieSB0aGUgbWFuYWdlci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlbW92ZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIHJlbW92ZS5cbiAgICAjIyMgXG4gICAgcmVtb3ZlOiAob2JqZWN0KSAtPiBcbiAgICAgICAgaWYgb2JqZWN0XG4gICAgICAgICAgICBAb2JqZWN0cy5yZW1vdmUob2JqZWN0KVxuICAgICAgICAgICAgQHVucmVnaXN0ZXJPYmplY3Qob2JqZWN0KVxuICAgICAgICAgICAgaWYgb2JqZWN0Lmdyb3VwP1xuICAgICAgICAgICAgICAgIEBvYmplY3RzQnlHcm91cFtvYmplY3QuZ3JvdXBdPy5yZW1vdmUob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYW4gb2JqZWN0IGJ5IElELlxuICAgICpcbiAgICAqIEBtZXRob2Qgb2JqZWN0QnlJZFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gVGhlIElEIG9mIHRoZSBnYW1lIG9iamVjdCB0byBnZXQuIFxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X0Jhc2V9IFRoZSBnYW1lIG9iamVjdCBvciA8Yj5udWxsPC9iPiBpZiBubyBnYW1lIG9iamVjdCBpcyByZWdpc3RlcmVkIGZvciB0aGUgc3BlY2lmaWVkIElELlxuICAgICMjIyAgICAgICAgIFxuICAgIG9iamVjdEJ5SWQ6IChpZCkgLT4gQG9iamVjdHNCeUlkW2lkXVxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYW4gb2JqZWN0IGJ5IElELlxuICAgICpcbiAgICAqIEBtZXRob2QgYnlJZFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gVGhlIElEIG9mIHRoZSBnYW1lIG9iamVjdCB0byBnZXQuIFxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X0Jhc2V9IFRoZSBnYW1lIG9iamVjdCBvciA8Yj5udWxsPC9iPiBpZiBubyBnYW1lIG9iamVjdCBpcyByZWdpc3RlcmVkIGZvciB0aGUgc3BlY2lmaWVkIElELlxuICAgICMjIyBcbiAgICBieUlkOiAoaWQpIC0+IEBvYmplY3RzQnlJZFtpZF1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSBvYmplY3QgZm9yIGFuIElELlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0T2JqZWN0QnlJZFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIHNldC5cbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBJRCBmb3IgdGhlIGdhbWUgb2JqZWN0LiBcbiAgICAjIyMgXG4gICAgc2V0T2JqZWN0QnlJZDogKG9iamVjdCwgaWQpIC0+IFxuICAgICAgICBvYmplY3QuaWQgPSBpZFxuICAgICAgICBAb2JqZWN0c0J5SWRbaWRdID0gb2JqZWN0XG4gICAgICAgIHdpbmRvd1tcIiRcIitpZF0gPSBvYmplY3RcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGFuIG9iamVjdCB0byBhIHNwZWNpZmllZCBvYmplY3QtZ3JvdXAuXG4gICAgKlxuICAgICogQG1ldGhvZCBhZGRUb0dyb3VwXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gYWRkLlxuICAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwIC0gVGhlIGdyb3VwIHRvIGFzc2lnbiBnYW1lIG9iamVjdCB0by4gXG4gICAgIyMjIFxuICAgIGFkZFRvR3JvdXA6IChvYmplY3QsIGdyb3VwKSAtPlxuICAgICAgICBpZiBncm91cD9cbiAgICAgICAgICAgIEBvYmplY3RzQnlHcm91cF9bb2JqZWN0Lmdyb3VwXT8ucmVtb3ZlKG9iamVjdClcbiAgICAgICAgICAgIGlmICFAb2JqZWN0c0J5R3JvdXBfW2dyb3VwXVxuICAgICAgICAgICAgICAgIEBvYmplY3RzQnlHcm91cF9bZ3JvdXBdID0gW11cbiAgICAgICAgICAgIEBvYmplY3RzQnlHcm91cF9bZ3JvdXBdLnB1c2gob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYWxsIG9iamVjdCBvZiBhIHNwZWNpZmllZCBvYmplY3QtZ3JvdXAuXG4gICAgKlxuICAgICogQG1ldGhvZCBvYmplY3RzQnlHcm91cFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwIC0gVGhlIG9iamVjdC1ncm91cC5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9CYXNlW119IFRoZSBnYW1lIG9iamVjdHMgYmVsb25naW5nIHRvIHRoZSBzcGVjaWZpZWQgZ3JvdXAuXG4gICAgIyMjICAgICAgICAgXG4gICAgb2JqZWN0c0J5R3JvdXA6IChncm91cCkgLT4gQG9iamVjdHNCeUdyb3VwX1tncm91cF0gfHwgW11cbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBtYW5hZ2VyIGFuZCBhbGwgYXNzaWduZWQgZ2FtZSBvYmplY3RzIGluIHRoZSByaWdodCBvcmRlci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgXG4gICAgdXBkYXRlOiAtPiBcbiAgICAgICAgaSA9IDBcbiAgICAgICAgXG4gICAgICAgIGlmIEBuZWVkc1NvcnRcbiAgICAgICAgICAgIEBvYmplY3RzLnNvcnQgKGEsIGIpIC0+XG4gICAgICAgICAgICAgICAgaWYgYS5vcmRlciA8IGIub3JkZXJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICBlbHNlIGlmIGEub3JkZXIgPiBiLm9yZGVyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgICAgIEBuZWVkc1NvcnQgPSBub1xuICAgICAgICAgICAgICAgIFxuICAgICAgICB3aGlsZSBpIDwgQG9iamVjdHMubGVuZ3RoXG4gICAgICAgICAgICBvYmplY3QgPSBAb2JqZWN0c1tpXVxuICAgICAgICAgICAgaWYgb2JqZWN0LmRpc3Bvc2VkXG4gICAgICAgICAgICAgICAgQG9iamVjdHMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgaWYgb2JqZWN0LmlkPyB0aGVuIGRlbGV0ZSBAb2JqZWN0c0J5SWRbb2JqZWN0LmlkXVxuICAgICAgICAgICAgICAgIGlmIG9iamVjdC5pZD8gdGhlbiBkZWxldGUgd2luZG93W29iamVjdC5pZF1cbiAgICAgICAgICAgICAgICBpZiBvYmplY3QuZ3JvdXA/XG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3RzQnlHcm91cFtvYmplY3QuZ3JvdXBdLnJlbW92ZShvYmplY3QpXG4gICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgIG9iamVjdC51cGRhdGUoKSBpZiBvYmplY3QuYWN0aXZlXG4gICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgXG5ncy5PYmplY3RNYW5hZ2VyID0gT2JqZWN0TWFuYWdlciAjbmV3IE9iamVjdE1hbmFnZXIoKSJdfQ==
//# sourceURL=ObjectManager_2.js
var GameManager;

GameManager = (function() {

  /**
  * Manages all general things around the game like holding the game settings,
  * manages the save/load of a game, etc.
  *
  * @module gs
  * @class GameManager
  * @memberof gs
  * @constructor
   */
  function GameManager() {

    /**
    * The current scene data.
    * @property sceneData
    * @type Object
     */
    this.sceneData = {};

    /**
    * The list of common events.
    * @property commonEvents
    * @type gs.Object_CommonEvent[]
     */
    this.commonEvents = [];

    /**
    * Indicates if the GameManager is initialized.
    * @property commonEvents
    * @type gs.Object_CommonEvent[]
     */
    this.initialized = false;

    /**
    * Temporary game settings.
    * @property tempSettings
    * @type Object
     */
    this.tempSettings = {
      skip: false,
      skipTime: 5,
      loadMenuAccess: true,
      menuAccess: true,
      backlogAccess: true,
      saveMenuAccess: true,
      messageFading: {
        animation: {
          type: 1
        },
        duration: 15,
        easing: null
      }

      /**
      * Temporary game fields.
      * @property tempFields
      * @type Object
       */
    };
    this.tempFields = null;

    /**
    * Stores default values for backgrounds, pictures, etc.
    * @property defaults
    * @type Object
     */
    this.defaults = {
      background: {
        "duration": 30,
        "origin": 0,
        "zOrder": 0,
        "loopVertical": 0,
        "loopHorizontal": 0,
        "easing": {
          "type": 0,
          "inOut": 1
        },
        "animation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "motionBlur": {
          "enabled": 0,
          "delay": 2,
          "opacity": 100,
          "dissolveSpeed": 3
        }
      },
      picture: {
        "appearDuration": 30,
        "disappearDuration": 30,
        "origin": 0,
        "zOrder": 0,
        "appearEasing": {
          "type": 0,
          "inOut": 1
        },
        "disappearEasing": {
          "type": 0,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "motionBlur": {
          "enabled": 0,
          "delay": 2,
          "opacity": 100,
          "dissolveSpeed": 3
        }
      },
      character: {
        "expressionDuration": 0,
        "appearDuration": 40,
        "disappearDuration": 40,
        "origin": 0,
        "zOrder": 0,
        "appearEasing": {
          "type": 2,
          "inOut": 2
        },
        "disappearEasing": {
          "type": 1,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "motionBlur": {
          "enabled": 0,
          "delay": 2,
          "opacity": 100,
          "dissolveSpeed": 3
        },
        "changeAnimation": {
          "type": 1,
          "movement": 0,
          "fading": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "changeEasing": {
          "type": 2,
          "inOut": 2
        }
      },
      text: {
        "appearDuration": 30,
        "disappearDuration": 30,
        "origin": 0,
        "zOrder": 0,
        "appearEasing": {
          "type": 0,
          "inOut": 1
        },
        "disappearEasing": {
          "type": 0,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "motionBlur": {
          "enabled": 0,
          "delay": 2,
          "opacity": 100,
          "dissolveSpeed": 3
        }
      },
      video: {
        "appearDuration": 30,
        "disappearDuration": 30,
        "origin": 0,
        "zOrder": 0,
        "appearEasing": {
          "type": 0,
          "inOut": 1
        },
        "disappearEasing": {
          "type": 0,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "motionBlur": {
          "enabled": 0,
          "delay": 2,
          "opacity": 100,
          "dissolveSpeed": 3
        }
      },
      live2d: {
        "motionFadeInTime": 1000,
        "appearDuration": 30,
        "disappearDuration": 30,
        "zOrder": 0,
        "appearEasing": {
          "type": 0,
          "inOut": 1
        },
        "disappearEasing": {
          "type": 0,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        }
      },
      messageBox: {
        "appearDuration": 30,
        "disappearDuration": 30,
        "zOrder": 0,
        "appearEasing": {
          "type": 0,
          "inOut": 1
        },
        "disappearEasing": {
          "type": 0,
          "inOut": 1
        },
        "appearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        },
        "disappearAnimation": {
          "type": 0,
          "movement": 0,
          "mask": {
            "graphic": null,
            "vague": 30
          }
        }
      },
      audio: {
        "musicFadeInDuration": 0,
        "musicFadeOutDuration": 0,
        "musicVolume": 100,
        "musicPlaybackRate": 100,
        "soundVolume": 100,
        "soundPlaybackRate": 100,
        "voiceVolume": 100,
        "voicePlaybackRate": 100
      }
    };

    /**
    * The game's backlog.
    * @property backlog
    * @type Object[]
     */
    this.backlog = [];

    /**
    * Character parameters by character ID.
    * @property characterParams
    * @type Object[]
     */
    this.characterParams = [];

    /**
    * The game's chapter
    * @property chapters
    * @type gs.Document[]
     */
    this.chapters = [];

    /**
    * The game's current displayed messages. Especially in NVL mode the messages 
    * of the current page are stored here.
    * @property messages
    * @type Object[]
     */
    this.messages = [];

    /**
    * Count of save slots. Default is 100.
    * @property saveSlotCount
    * @type number
     */
    this.saveSlotCount = 100;

    /**
    * The index of save games. Contains the header-info for each save game slot.
    * @property saveGameSlots
    * @type Object[]
     */
    this.saveGameSlots = [];

    /**
    * Stores global data like the state of persistent game variables.
    * @property globalData
    * @type Object
     */
    this.globalData = null;

    /**
    * Indicates if the game runs in editor's live-preview.
    * @property inLivePreview
    * @type Object
     */
    this.inLivePreview = false;
  }


  /**
  * Initializes the GameManager, should be called before the actual game starts.
  *
  * @method initialize
   */

  GameManager.prototype.initialize = function() {
    var character, i, j, k, l, len, len1, param, ref, ref1, ref2;
    this.initialized = true;
    this.inLivePreview = $PARAMS.preview != null;
    this.saveSlotCount = RecordManager.system.saveSlotCount || 100;
    this.tempFields = new gs.GameTemp();
    window.$tempFields = this.tempFields;
    this.createSaveGameIndex();
    this.variableStore = new gs.VariableStore();
    this.variableStore.persistentNumbers = this.globalData.persistentNumbers || [];
    this.variableStore.persistentStrings = this.globalData.persistentStrings || [];
    this.variableStore.persistentBooleans = this.globalData.persistentBooleans || [];
    ref = RecordManager.characters;
    for (j = 0, len = ref.length; j < len; j++) {
      character = ref[j];
      if (character != null) {
        this.characterParams[character.index] = {};
        if (character.params != null) {
          ref1 = character.params;
          for (k = 0, len1 = ref1.length; k < len1; k++) {
            param = ref1[k];
            this.characterParams[character.index][param.name] = param.value;
          }
        }
      }
    }
    this.setupCommonEvents();
    for (i = l = 0, ref2 = RecordManager.characters; 0 <= ref2 ? l < ref2 : l > ref2; i = 0 <= ref2 ? ++l : --l) {
      this.settings.voicesPerCharacter[i] = 100;
    }
    this.chapters = DataManager.getDocumentsByType("vn.chapter");
    return this.chapters.sort(function(a, b) {
      if (a.items.order > b.items.order) {
        return 1;
      } else if (a.items.order < b.items.order) {
        return -1;
      } else {
        return 0;
      }
    });
  };


  /**
  * Sets up common events.
  *
  * @method setupCommonEvents
   */

  GameManager.prototype.setupCommonEvents = function() {
    var event, j, k, len, len1, object, ref, ref1, results;
    ref = this.commonEvents;
    for (j = 0, len = ref.length; j < len; j++) {
      event = ref[j];
      event.dispose();
    }
    this.commonEvents = [];
    ref1 = RecordManager.commonEvents;
    results = [];
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      event = ref1[k];
      if (event.startCondition === 1 && event.autoPreload) {
        gs.ResourceLoader.loadEventCommandsGraphics(event.commands);
      }
      object = new gs.Object_CommonEvent();
      object.record = event;
      object.rid = event.index;
      results.push(this.commonEvents.push(object));
    }
    return results;
  };


  /**
  * Sets up cursor depending on system settings.
  *
  * @method setupCursor
   */

  GameManager.prototype.setupCursor = function() {
    var bitmap, ref;
    if ((ref = RecordManager.system.cursor) != null ? ref.name : void 0) {
      bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + RecordManager.system.cursor.name);
      return Graphics.setCursorBitmap(bitmap, RecordManager.system.cursor.hx, RecordManager.system.cursor.hy);
    } else {
      return Graphics.setCursorBitmap(null);
    }
  };


  /**
  * Disposes the GameManager. Should be called before quit the game.
  *
  * @method dispose
   */

  GameManager.prototype.dispose = function() {};


  /**
  * Quits the game. The implementation depends on the platform. So for example on mobile
  * devices this method has no effect.
  *
  * @method exit
   */

  GameManager.prototype.exit = function() {
    return Application.exit();
  };


  /**
  * Resets the GameManager by disposing and re-initializing it.
  *
  * @method reset
   */

  GameManager.prototype.reset = function() {
    this.initialized = false;
    this.interpreter = null;
    this.dispose();
    return this.initialize();
  };


  /**
  * Resets the GameManager for a new game.
  *
  * @method newGame
   */

  GameManager.prototype.newGame = function() {
    this.messages = [];
    this.variableStore.clearGlobals();
    this.tempSettings.skip = false;
    this.tempFields.clear();
    this.setupCommonEvents();
    this.tempSettings.menuAccess = true;
    this.tempSettings.saveMenuAccess = true;
    this.tempSettings.loadMenuAccess = true;
    return this.tempSettings.backlogAccess = true;
  };


  /**
  * Updates the GameManager. Should be called once per frame.
  *
  * @method update
   */

  GameManager.prototype.update = function() {};


  /**
  * Creates the index of all save-games. Should be called whenever a new save game
  * is created.
  *
  * @method createSaveGameIndex
  * @protected
   */

  GameManager.prototype.createSaveGameIndex = function() {
    var chaper, chapter, header, i, image, j, ref, scene;
    this.saveGameSlots = [];
    for (i = j = 0, ref = this.saveSlotCount; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      if (GameStorage.exists("SaveGame_" + i + "_Header")) {
        header = GameStorage.getObject("SaveGame_" + i + "_Header");
        chapter = DataManager.getDocument(header.chapterUid);
        scene = DataManager.getDocumentSummary(header.sceneUid);
        image = header.image;
      } else {
        header = null;
        chaper = null;
        scene = null;
      }
      if ((chapter != null) && (scene != null) && !this.inLivePreview) {
        this.saveGameSlots.push({
          date: header.date,
          chapter: chapter.items.name || "DELETED",
          scene: scene.items.name || "DELETED",
          image: image
        });
      } else {
        this.saveGameSlots.push({
          "date": "",
          "chapter": "",
          "scene": "",
          "image": null
        });
      }
    }
    return this.saveGameSlots;
  };


  /**
  * Resets the game's settings to its default values.
  *
  * @method resetSettings
   */

  GameManager.prototype.resetSettings = function() {
    var i, j, ref;
    this.settings = {
      version: 337,
      renderer: 0,
      filter: 1,
      confirmation: true,
      adjustAspectRatio: false,
      allowSkip: true,
      allowSkipUnreadMessages: true,
      allowVideoSkip: true,
      skipVoiceOnAction: true,
      allowChoiceSkip: false,
      voicesByCharacter: [],
      timeMessageToVoice: true,
      "autoMessage": {
        enabled: false,
        time: 0,
        waitForVoice: true,
        stopOnAction: false
      },
      "voiceEnabled": true,
      "bgmEnabled": true,
      "soundEnabled": true,
      "voiceVolume": 100,
      "bgmVolume": 100,
      "seVolume": 100,
      "messageSpeed": 4,
      "fullScreen": false,
      "aspectRatio": 0
    };
    this.saveGameSlots = [];
    for (i = j = 0, ref = this.saveSlotCount; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      GameStorage.remove("SaveGame_" + i + "_Header");
      GameStorage.remove("SaveGame_" + i);
      this.saveGameSlots.push({
        "date": "",
        "chapter": "",
        "scene": "",
        "thumb": ""
      });
    }
    GameStorage.setObject("settings", this.settings);
    this.globalData = {
      messages: {},
      cgGallery: []
    };
    return GameStorage.setObject("globalData", this.globalData);
  };


  /**
  * Saves current game settings.
  *
  * @method saveSettings
   */

  GameManager.prototype.saveSettings = function() {
    return GameStorage.setObject("settings", this.settings);
  };


  /**
  * Saves current global data.
  *
  * @method saveGlobalData
   */

  GameManager.prototype.saveGlobalData = function() {
    this.globalData.persistentNumbers = this.variableStore.persistentNumbers;
    this.globalData.persistentStrings = this.variableStore.persistentStrings;
    this.globalData.persistentBooleans = this.variableStore.persistentBooleans;
    return GameStorage.setObject("globalData", this.globalData);
  };


  /**
  * Resets current global data. All stored data about read messages, persistent variables and
  * CG gallery will be deleted.
  *
  * @method resetGlobalData
   */

  GameManager.prototype.resetGlobalData = function() {
    var cg, i, j, len, ref;
    this.globalData = {
      messages: {},
      cgGallery: []
    };
    ref = RecordManager.cgGallery;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      cg = ref[i];
      if (cg != null) {
        this.globalData.cgGallery[i] = {
          unlocked: false
        };
      }
    }
    return GameStorage.setObject("globalData", this.globalData);
  };

  GameManager.prototype.readSaveGame = function(saveGame) {};

  GameManager.prototype.writeSaveGame = function(saveGame) {};

  GameManager.prototype.prepareSaveGame = function(snapshot) {
    var context, message, messageBox, saveGame, sceneData;
    if (snapshot) {
      snapshot = ResourceManager.getCustomBitmap("$snapshot");
      if (snapshot != null) {
        snapshot.dispose();
      }
      ResourceManager.setCustomBitmap("$snapshot", Graphics.snapshot());
    }
    context = new gs.ObjectCodecContext();
    context.decodedObjectStore.push(Graphics.viewport);
    context.decodedObjectStore.push(this.scene);
    context.decodedObjectStore.push(this.scene.behavior);
    messageBox = this.scene.behavior.objectManager.objectById("messageBox");
    message = this.scene.behavior.objectManager.objectById("gameMessage_message");
    sceneData = {};
    saveGame = {};
    saveGame.encodedObjectStore = null;
    saveGame.sceneUid = this.scene.sceneDocument.uid;
    saveGame.data = {
      currentCharacter: this.scene.currentCharacter,
      frameCount: Graphics.frameCount,
      tempFields: this.tempFields,
      viewport: this.scene.viewport,
      characters: this.scene.characters,
      backgrounds: this.scene.backgrounds,
      pictures: this.scene.pictures,
      texts: this.scene.texts,
      videos: this.scene.videos,
      commonEvents: this.scene.commonEventContainer.subObjects,
      hotspots: this.scene.hotspots,
      imageMap: this.scene.imageMap,
      interpreter: this.scene.interpreter,
      messageBox: {
        visible: messageBox.visible,
        message: message
      },
      backlog: this.backlog,
      variableStore: this.variableStore,
      defaults: this.defaults,
      transitionData: SceneManager.transitionData,
      audio: {
        audioBuffers: AudioManager.audioBuffers,
        audioBuffersByLayer: AudioManager.audioBuffersByLayer,
        audioLayers: AudioManager.audioLayers,
        soundReferences: AudioManager.soundReferences
      },
      messageAreas: this.scene.messageAreas.select(function(f) {
        if (f) {
          return {
            message: f.message,
            layout: {
              dstRect: gs.Rect.fromObject(f.layout.dstRect)
            }
          };
        } else {
          return null;
        }
      })
    };
    saveGame.data = gs.ObjectCodec.encode(saveGame.data, context);
    saveGame.encodedObjectStore = context.encodedObjectStore;
    return this.saveGame = saveGame;
  };

  GameManager.prototype.createSaveGameSlot = function(header) {
    var slot;
    slot = {
      "date": new Date().toDateString(),
      "chapter": this.scene.chapter.items.name,
      "scene": this.scene.sceneDocument.items.name,
      "image": header.image
    };
    return slot;
  };

  GameManager.prototype.createSaveGameHeader = function() {
    var header, thumbImage;
    thumbImage = this.createSaveGameThumbImage();
    header = {
      "date": new Date().toDateString(),
      "chapterUid": this.scene.chapter.uid,
      "sceneUid": this.scene.sceneDocument.uid,
      "image": thumbImage != null ? thumbImage.image.toDataURL() : void 0
    };
    if (thumbImage != null) {
      thumbImage.dispose();
    }
    return header;
  };

  GameManager.prototype.createSaveGameThumbImage = function() {
    var snapshot, thumbImage;
    snapshot = ResourceManager.getBitmap("$snapshot");
    thumbImage = null;
    if (snapshot) {
      thumbImage = new Bitmap(Graphics.width / 8, Graphics.height / 8);
      thumbImage.stretchBlt(new Rect(0, 0, thumbImage.width, thumbImage.height), snapshot, new Rect(0, 0, snapshot.width, snapshot.height));
    }
    return thumbImage;
  };

  GameManager.prototype.storeSaveGame = function(name, saveGame, header) {
    if (header) {
      GameStorage.setData(name + "_Header", JSON.stringify(header));
    }
    return GameStorage.setData(name, JSON.stringify(saveGame));
  };


  /**
  * Saves the current game at the specified slot.
  *
  * @method save
  * @param {number} slot - The slot where the game should be saved at.
   */

  GameManager.prototype.save = function(slot) {
    var header;
    if (this.saveGame) {
      header = this.createSaveGameHeader();
      this.saveGameSlots[slot] = this.createSaveGameSlot(header);
      this.storeSaveGame("SaveGame_" + slot, this.saveGame, header);
      this.sceneData = {};
      return this.saveGame;
    }
  };

  GameManager.prototype.restore = function(saveGame) {
    this.backlog = saveGame.data.backlog;
    this.defaults = saveGame.data.defaults;
    this.variableStore = saveGame.data.variableStore;
    this.sceneData = saveGame.data;
    this.saveGame = null;
    this.loadedSaveGame = null;
    this.tempFields = saveGame.data.tempFields;
    window.$tempFields = this.tempFields;
    return window.$dataFields.backlog = this.backlog;
  };

  GameManager.prototype.prepareLoadGame = function() {
    return AudioManager.stopAllMusic(30);
  };


  /**
  * Loads the game from the specified save game slot. This method triggers
  * a automatic scene change.
  *
  * @method load
  * @param {number} slot - The slot where the game should be loaded from.
   */

  GameManager.prototype.load = function(slot) {
    if (!this.saveGameSlots[slot] || this.saveGameSlots[slot].date.trim().length === 0) {
      return;
    }
    this.prepareLoadGame();
    this.loadedSaveGame = this.loadSaveGame("SaveGame_" + slot);
    return SceneManager.switchTo(new vn.Object_Scene());
  };

  GameManager.prototype.loadSaveGame = function(name) {
    return JSON.parse(GameStorage.getData(name));
  };


  /**
  * Gets the save game data for a specified slot.
  *
  * @method getSaveGame
  * @param {number} slot - The slot to get the save data from.
  * @return {Object} The save game data.
   */

  GameManager.prototype.getSaveGame = function(slot) {
    return JSON.parse(GameStorage.getData("SaveGame_" + slot));
  };

  return GameManager;

})();

window.GameManager = new GameManager();

gs.GameManager = window.GameManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7OztFQVNhLHFCQUFBOztBQUNUOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxXQUFELEdBQWU7O0FBRWY7Ozs7O0lBS0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7TUFBQSxJQUFBLEVBQU0sS0FBTjtNQUFhLFFBQUEsRUFBVSxDQUF2QjtNQUEwQixjQUFBLEVBQWdCLElBQTFDO01BQWdELFVBQUEsRUFBWSxJQUE1RDtNQUFrRSxhQUFBLEVBQWUsSUFBakY7TUFBdUYsY0FBQSxFQUFnQixJQUF2RztNQUE2RyxhQUFBLEVBQWU7UUFBRSxTQUFBLEVBQVc7VUFBRSxJQUFBLEVBQU0sQ0FBUjtTQUFiO1FBQTBCLFFBQUEsRUFBVSxFQUFwQztRQUF3QyxNQUFBLEVBQVEsSUFBaEQ7OztBQUU1STs7OztTQUZnQjs7SUFPaEIsSUFBQyxDQUFBLFVBQUQsR0FBYzs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZO01BQ1IsVUFBQSxFQUFZO1FBQUUsVUFBQSxFQUFZLEVBQWQ7UUFBa0IsUUFBQSxFQUFVLENBQTVCO1FBQStCLFFBQUEsRUFBVSxDQUF6QztRQUE0QyxjQUFBLEVBQWdCLENBQTVEO1FBQStELGdCQUFBLEVBQWtCLENBQWpGO1FBQW9GLFFBQUEsRUFBVTtVQUFFLE1BQUEsRUFBUSxDQUFWO1VBQWEsT0FBQSxFQUFTLENBQXRCO1NBQTlGO1FBQXlILFdBQUEsRUFBYTtVQUFFLE1BQUEsRUFBUSxDQUFWO1VBQWEsVUFBQSxFQUFZLENBQXpCO1VBQTRCLE1BQUEsRUFBUTtZQUFFLFNBQUEsRUFBVyxJQUFiO1lBQW1CLE9BQUEsRUFBUyxFQUE1QjtXQUFwQztTQUF0STtRQUE4TSxZQUFBLEVB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QUFHakI7Ozs7Ozs7O3dCQU9BLElBQUEsR0FBTSxTQUFDLElBQUQ7SUFDRixJQUFVLENBQUMsSUFBQyxDQUFBLGFBQWMsQ0FBQSxJQUFBLENBQWhCLElBQXlCLElBQUMsQ0FBQSxhQUFjLENBQUEsSUFBQSxDQUFLLENBQUMsSUFBSSxDQUFDLElBQTFCLENBQUEsQ0FBZ0MsQ0FBQyxNQUFqQyxLQUEyQyxDQUE5RTtBQUFBLGFBQUE7O0lBRUEsSUFBQyxDQUFBLGVBQUQsQ0FBQTtJQUNBLElBQUMsQ0FBQSxjQUFELEdBQWtCLElBQUMsQ0FBQSxZQUFELENBQWMsV0FBQSxHQUFZLElBQTFCO1dBRWxCLFlBQVksQ0FBQyxRQUFiLENBQTBCLElBQUEsRUFBRSxDQUFDLFlBQUgsQ0FBQSxDQUExQjtFQU5FOzt3QkFRTixZQUFBLEdBQWMsU0FBQyxJQUFEO1dBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxXQUFXLENBQUMsT0FBWixDQUFvQixJQUFwQixDQUFYO0VBQVY7OztBQUdkOzs7Ozs7Ozt3QkFPQSxXQUFBLEdBQWEsU0FBQyxJQUFEO1dBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxXQUFXLENBQUMsT0FBWixDQUFvQixXQUFBLEdBQVksSUFBaEMsQ0FBWDtFQUFWOzs7Ozs7QUFFakIsTUFBTSxDQUFDLFdBQVAsR0FBeUIsSUFBQSxXQUFBLENBQUE7O0FBQ3pCLEVBQUUsQ0FBQyxXQUFILEdBQWlCLE1BQU0sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogR2FtZU1hbmFnZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIEdhbWVNYW5hZ2VyXG4gICAgIyMjKlxuICAgICogTWFuYWdlcyBhbGwgZ2VuZXJhbCB0aGluZ3MgYXJvdW5kIHRoZSBnYW1lIGxpa2UgaG9sZGluZyB0aGUgZ2FtZSBzZXR0aW5ncyxcbiAgICAqIG1hbmFnZXMgdGhlIHNhdmUvbG9hZCBvZiBhIGdhbWUsIGV0Yy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgR2FtZU1hbmFnZXJcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3VycmVudCBzY2VuZSBkYXRhLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzY2VuZURhdGFcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjIFxuICAgICAgICBAc2NlbmVEYXRhID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gZXZlbnRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb21tb25FdmVudHNcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQ29tbW9uRXZlbnRbXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBjb21tb25FdmVudHMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgR2FtZU1hbmFnZXIgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICAgICogQHByb3BlcnR5IGNvbW1vbkV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9Db21tb25FdmVudFtdXG4gICAgICAgICMjIyBcbiAgICAgICAgQGluaXRpYWxpemVkID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUZW1wb3JhcnkgZ2FtZSBzZXR0aW5ncy5cbiAgICAgICAgKiBAcHJvcGVydHkgdGVtcFNldHRpbmdzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjIyBcbiAgICAgICAgQHRlbXBTZXR0aW5ncyA9IHNraXA6IGZhbHNlLCBza2lwVGltZTogNSwgbG9hZE1lbnVBY2Nlc3M6IHRydWUsIG1lbnVBY2Nlc3M6IHRydWUsIGJhY2tsb2dBY2Nlc3M6IHRydWUsIHNhdmVNZW51QWNjZXNzOiB0cnVlLCBtZXNzYWdlRmFkaW5nOiB7IGFuaW1hdGlvbjogeyB0eXBlOiAxIH0sIGR1cmF0aW9uOiAxNSwgZWFzaW5nOiBudWxsIH1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUZW1wb3JhcnkgZ2FtZSBmaWVsZHMuXG4gICAgICAgICogQHByb3BlcnR5IHRlbXBGaWVsZHNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjIFxuICAgICAgICBAdGVtcEZpZWxkcyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgZGVmYXVsdCB2YWx1ZXMgZm9yIGJhY2tncm91bmRzLCBwaWN0dXJlcywgZXRjLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkZWZhdWx0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGRlZmF1bHRzID0geyBcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHsgXCJkdXJhdGlvblwiOiAzMCwgXCJvcmlnaW5cIjogMCwgXCJ6T3JkZXJcIjogMCwgXCJsb29wVmVydGljYWxcIjogMCwgXCJsb29wSG9yaXpvbnRhbFwiOiAwLCBcImVhc2luZ1wiOiB7IFwidHlwZVwiOiAwLCBcImluT3V0XCI6IDEgfSwgXCJhbmltYXRpb25cIjogeyBcInR5cGVcIjogMCwgXCJtb3ZlbWVudFwiOiAwLCBcIm1hc2tcIjogeyBcImdyYXBoaWNcIjogbnVsbCwgXCJ2YWd1ZVwiOiAzMCB9IH0sIFwibW90aW9uQmx1clwiOiB7IFwiZW5hYmxlZFwiOiAwLCBcImRlbGF5XCI6IDIsIFwib3BhY2l0eVwiOiAxMDAsIFwiZGlzc29sdmVTcGVlZFwiOiAzIH0gfSxcbiAgICAgICAgICAgIHBpY3R1cmU6IHsgXCJhcHBlYXJEdXJhdGlvblwiOiAzMCwgXCJkaXNhcHBlYXJEdXJhdGlvblwiOiAzMCwgXCJvcmlnaW5cIjogMCwgXCJ6T3JkZXJcIjogMCwgXCJhcHBlYXJFYXNpbmdcIjogeyBcInR5cGVcIjogMCwgXCJpbk91dFwiOiAxIH0sIFwiZGlzYXBwZWFyRWFzaW5nXCI6IHsgXCJ0eXBlXCI6IDAsIFwiaW5PdXRcIjogMSB9LCBcImFwcGVhckFuaW1hdGlvblwiOiB7IFwidHlwZVwiOiAwLCBcIm1vdmVtZW50XCI6IDAsIFwibWFza1wiOiB7IFwiZ3JhcGhpY1wiOiBudWxsLCBcInZhZ3VlXCI6IDMwIH0gfSwgXCJkaXNhcHBlYXJBbmltYXRpb25cIjogeyBcInR5cGVcIjogMCwgXCJtb3ZlbWVudFwiOiAwLCBcIm1hc2tcIjogeyBcImdyYXBoaWNcIjogbnVsbCwgXCJ2YWd1ZVwiOiAzMCB9IH0sIFwibW90aW9uQmx1clwiOiB7IFwiZW5hYmxlZFwiOiAwLCBcImRlbGF5XCI6IDIsIFwib3BhY2l0eVwiOiAxMDAsIFwiZGlzc29sdmVTcGVlZFwiOiAzIH0gfSxcbiAgICAgICAgICAgIGNoYXJhY3RlcjogeyBcImV4cHJlc3Npb25EdXJhdGlvblwiOiAwLCBcImFwcGVhckR1cmF0aW9uXCI6IDQwLCBcImRpc2FwcGVhckR1cmF0aW9uXCI6IDQwLCBcIm9yaWdpblwiOiAwLCBcInpPcmRlclwiOiAwLCBcImFwcGVhckVhc2luZ1wiOiB7IFwidHlwZVwiOiAyLCBcImluT3V0XCI6IDIgfSwgXCJkaXNhcHBlYXJFYXNpbmdcIjogeyBcInR5cGVcIjogMSwgXCJpbk91dFwiOiAxIH0sIFwiYXBwZWFyQW5pbWF0aW9uXCI6IHsgXCJ0eXBlXCI6IDAsIFwibW92ZW1lbnRcIjogMCwgXCJtYXNrXCI6IHsgXCJncmFwaGljXCI6IG51bGwsIFwidmFndWVcIjogMzAgfSB9LCBcImRpc2FwcGVhckFuaW1hdGlvblwiOiB7IFwidHlwZVwiOiAwLCBcIm1vdmVtZW50XCI6IDAsIFwibWFza1wiOiB7IFwiZ3JhcGhpY1wiOiBudWxsLCBcInZhZ3VlXCI6IDMwIH0gfSwgXCJtb3Rpb25CbHVyXCI6IHsgXCJlbmFibGVkXCI6IDAsIFwiZGVsYXlcIjogMiwgXCJvcGFjaXR5XCI6IDEwMCwgXCJkaXNzb2x2ZVNwZWVkXCI6IDMgfSwgXCJjaGFuZ2VBbmltYXRpb25cIjogeyBcInR5cGVcIjogMSwgXCJtb3ZlbWVudFwiOiAwLCBcImZhZGluZ1wiOiAwLCBcIm1hc2tcIjogeyBcImdyYXBoaWNcIjogbnVsbCwgXCJ2YWd1ZVwiOiAzMCB9IH0sIFwiY2hhbmdlRWFzaW5nXCI6IHsgXCJ0eXBlXCI6IDIsIFwiaW5PdXRcIjogMiB9IH0sXG4gICAgICAgICAgICB0ZXh0OiB7IFwiYXBwZWFyRHVyYXRpb25cIjogMzAsIFwiZGlzYXBwZWFyRHVyYXRpb25cIjogMzAsIFwib3JpZ2luXCI6IDAsIFwiek9yZGVyXCI6IDAsIFwiYXBwZWFyRWFzaW5nXCI6IHsgXCJ0eXBlXCI6IDAsIFwiaW5PdXRcIjogMSB9LCBcImRpc2FwcGVhckVhc2luZ1wiOiB7IFwidHlwZVwiOiAwLCBcImluT3V0XCI6IDEgfSwgXCJhcHBlYXJBbmltYXRpb25cIjogeyBcInR5cGVcIjogMCwgXCJtb3ZlbWVudFwiOiAwLCBcIm1hc2tcIjogeyBcImdyYXBoaWNcIjogbnVsbCwgXCJ2YWd1ZVwiOiAzMCB9IH0sIFwiZGlzYXBwZWFyQW5pbWF0aW9uXCI6IHsgXCJ0eXBlXCI6IDAsIFwibW92ZW1lbnRcIjogMCwgXCJtYXNrXCI6IHsgXCJncmFwaGljXCI6IG51bGwsIFwidmFndWVcIjogMzAgfSB9LCBcIm1vdGlvbkJsdXJcIjogeyBcImVuYWJsZWRcIjogMCwgXCJkZWxheVwiOiAyLCBcIm9wYWNpdHlcIjogMTAwLCBcImRpc3NvbHZlU3BlZWRcIjogMyB9IH0sXG4gICAgICAgICAgICB2aWRlbzogeyBcImFwcGVhckR1cmF0aW9uXCI6IDMwLCBcImRpc2FwcGVhckR1cmF0aW9uXCI6IDMwLCBcIm9yaWdpblwiOiAwLCBcInpPcmRlclwiOiAwLCBcImFwcGVhckVhc2luZ1wiOiB7IFwidHlwZVwiOiAwLCBcImluT3V0XCI6IDEgfSwgXCJkaXNhcHBlYXJFYXNpbmdcIjogeyBcInR5cGVcIjogMCwgXCJpbk91dFwiOiAxIH0sIFwiYXBwZWFyQW5pbWF0aW9uXCI6IHsgXCJ0eXBlXCI6IDAsIFwibW92ZW1lbnRcIjogMCwgXCJtYXNrXCI6IHsgXCJncmFwaGljXCI6IG51bGwsIFwidmFndWVcIjogMzAgfSB9LCBcImRpc2FwcGVhckFuaW1hdGlvblwiOiB7IFwidHlwZVwiOiAwLCBcIm1vdmVtZW50XCI6IDAsIFwibWFza1wiOiB7IFwiZ3JhcGhpY1wiOiBudWxsLCBcInZhZ3VlXCI6IDMwIH0gfSwgXCJtb3Rpb25CbHVyXCI6IHsgXCJlbmFibGVkXCI6IDAsIFwiZGVsYXlcIjogMiwgXCJvcGFjaXR5XCI6IDEwMCwgXCJkaXNzb2x2ZVNwZWVkXCI6IDMgfSB9LFxuICAgICAgICAgICAgbGl2ZTJkOiB7IFwibW90aW9uRmFkZUluVGltZVwiOiAxMDAwLCBcImFwcGVhckR1cmF0aW9uXCI6IDMwLCBcImRpc2FwcGVhckR1cmF0aW9uXCI6IDMwLCBcInpPcmRlclwiOiAwLCBcImFwcGVhckVhc2luZ1wiOiB7IFwidHlwZVwiOiAwLCBcImluT3V0XCI6IDEgfSwgXCJkaXNhcHBlYXJFYXNpbmdcIjogeyBcInR5cGVcIjogMCwgXCJpbk91dFwiOiAxIH0sIFwiYXBwZWFyQW5pbWF0aW9uXCI6IHsgXCJ0eXBlXCI6IDAsIFwibW92ZW1lbnRcIjogMCwgXCJtYXNrXCI6IHsgXCJncmFwaGljXCI6IG51bGwsIFwidmFndWVcIjogMzAgfSB9LCBcImRpc2FwcGVhckFuaW1hdGlvblwiOiB7IFwidHlwZVwiOiAwLCBcIm1vdmVtZW50XCI6IDAsIFwibWFza1wiOiB7IFwiZ3JhcGhpY1wiOiBudWxsLCBcInZhZ3VlXCI6IDMwIH0gfSB9LFxuICAgICAgICAgICAgbWVzc2FnZUJveDogeyBcImFwcGVhckR1cmF0aW9uXCI6IDMwLCBcImRpc2FwcGVhckR1cmF0aW9uXCI6IDMwLCBcInpPcmRlclwiOiAwLCBcImFwcGVhckVhc2luZ1wiOiB7IFwidHlwZVwiOiAwLCBcImluT3V0XCI6IDEgfSwgXCJkaXNhcHBlYXJFYXNpbmdcIjogeyBcInR5cGVcIjogMCwgXCJpbk91dFwiOiAxIH0sIFwiYXBwZWFyQW5pbWF0aW9uXCI6IHsgXCJ0eXBlXCI6IDAsIFwibW92ZW1lbnRcIjogMCwgXCJtYXNrXCI6IHsgXCJncmFwaGljXCI6IG51bGwsIFwidmFndWVcIjogMzAgfSB9LCBcImRpc2FwcGVhckFuaW1hdGlvblwiOiB7IFwidHlwZVwiOiAwLCBcIm1vdmVtZW50XCI6IDAsIFwibWFza1wiOiB7IFwiZ3JhcGhpY1wiOiBudWxsLCBcInZhZ3VlXCI6IDMwIH0gfSB9LFxuICAgICAgICAgICAgYXVkaW86IHsgXCJtdXNpY0ZhZGVJbkR1cmF0aW9uXCI6IDAsIFwibXVzaWNGYWRlT3V0RHVyYXRpb25cIjogMCwgXCJtdXNpY1ZvbHVtZVwiOiAxMDAsIFwibXVzaWNQbGF5YmFja1JhdGVcIjogMTAwLCBcInNvdW5kVm9sdW1lXCI6IDEwMCwgXCJzb3VuZFBsYXliYWNrUmF0ZVwiOiAxMDAsIFwidm9pY2VWb2x1bWVcIjogMTAwLCBcInZvaWNlUGxheWJhY2tSYXRlXCI6IDEwMCB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZ2FtZSdzIGJhY2tsb2cuXG4gICAgICAgICogQHByb3BlcnR5IGJhY2tsb2dcbiAgICAgICAgKiBAdHlwZSBPYmplY3RbXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBiYWNrbG9nID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDaGFyYWN0ZXIgcGFyYW1ldGVycyBieSBjaGFyYWN0ZXIgSUQuXG4gICAgICAgICogQHByb3BlcnR5IGNoYXJhY3RlclBhcmFtc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdXG4gICAgICAgICMjIyBcbiAgICAgICAgQGNoYXJhY3RlclBhcmFtcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGdhbWUncyBjaGFwdGVyXG4gICAgICAgICogQHByb3BlcnR5IGNoYXB0ZXJzXG4gICAgICAgICogQHR5cGUgZ3MuRG9jdW1lbnRbXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBjaGFwdGVycyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGdhbWUncyBjdXJyZW50IGRpc3BsYXllZCBtZXNzYWdlcy4gRXNwZWNpYWxseSBpbiBOVkwgbW9kZSB0aGUgbWVzc2FnZXMgXG4gICAgICAgICogb2YgdGhlIGN1cnJlbnQgcGFnZSBhcmUgc3RvcmVkIGhlcmUuXG4gICAgICAgICogQHByb3BlcnR5IG1lc3NhZ2VzXG4gICAgICAgICogQHR5cGUgT2JqZWN0W11cbiAgICAgICAgIyMjIFxuICAgICAgICBAbWVzc2FnZXMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvdW50IG9mIHNhdmUgc2xvdHMuIERlZmF1bHQgaXMgMTAwLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzYXZlU2xvdENvdW50XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjIyBcbiAgICAgICAgQHNhdmVTbG90Q291bnQgPSAxMDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgaW5kZXggb2Ygc2F2ZSBnYW1lcy4gQ29udGFpbnMgdGhlIGhlYWRlci1pbmZvIGZvciBlYWNoIHNhdmUgZ2FtZSBzbG90LlxuICAgICAgICAqIEBwcm9wZXJ0eSBzYXZlR2FtZVNsb3RzXG4gICAgICAgICogQHR5cGUgT2JqZWN0W11cbiAgICAgICAgIyMjIFxuICAgICAgICBAc2F2ZUdhbWVTbG90cyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGdsb2JhbCBkYXRhIGxpa2UgdGhlIHN0YXRlIG9mIHBlcnNpc3RlbnQgZ2FtZSB2YXJpYWJsZXMuXG4gICAgICAgICogQHByb3BlcnR5IGdsb2JhbERhdGFcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjIFxuICAgICAgICBAZ2xvYmFsRGF0YSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGdhbWUgcnVucyBpbiBlZGl0b3IncyBsaXZlLXByZXZpZXcuXG4gICAgICAgICogQHByb3BlcnR5IGluTGl2ZVByZXZpZXdcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjIFxuICAgICAgICBAaW5MaXZlUHJldmlldyA9IG5vXG4gICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIEdhbWVNYW5hZ2VyLCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSB0aGUgYWN0dWFsIGdhbWUgc3RhcnRzLlxuICAgICpcbiAgICAqIEBtZXRob2QgaW5pdGlhbGl6ZVxuICAgICMjIyAgICBcbiAgICBpbml0aWFsaXplOiAtPlxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSB5ZXNcbiAgICAgICAgQGluTGl2ZVByZXZpZXcgPSAkUEFSQU1TLnByZXZpZXc/XG4gICAgICAgIEBzYXZlU2xvdENvdW50ID0gUmVjb3JkTWFuYWdlci5zeXN0ZW0uc2F2ZVNsb3RDb3VudCB8fCAxMDBcbiAgICAgICAgQHRlbXBGaWVsZHMgPSBuZXcgZ3MuR2FtZVRlbXAoKVxuICAgICAgICB3aW5kb3cuJHRlbXBGaWVsZHMgPSBAdGVtcEZpZWxkc1xuICAgICAgICBcbiAgICAgICAgQGNyZWF0ZVNhdmVHYW1lSW5kZXgoKVxuICAgICAgICBAdmFyaWFibGVTdG9yZSA9IG5ldyBncy5WYXJpYWJsZVN0b3JlKClcbiAgICAgICAgQHZhcmlhYmxlU3RvcmUucGVyc2lzdGVudE51bWJlcnMgPSBAZ2xvYmFsRGF0YS5wZXJzaXN0ZW50TnVtYmVycyB8fCBbXVxuICAgICAgICBAdmFyaWFibGVTdG9yZS5wZXJzaXN0ZW50U3RyaW5ncyA9IEBnbG9iYWxEYXRhLnBlcnNpc3RlbnRTdHJpbmdzIHx8IFtdXG4gICAgICAgIEB2YXJpYWJsZVN0b3JlLnBlcnNpc3RlbnRCb29sZWFucyA9IEBnbG9iYWxEYXRhLnBlcnNpc3RlbnRCb29sZWFucyB8fCBbXVxuICAgICAgICBcbiAgICAgICAgZm9yIGNoYXJhY3RlciBpbiBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNcbiAgICAgICAgICAgIGlmIGNoYXJhY3Rlcj9cbiAgICAgICAgICAgICAgICBAY2hhcmFjdGVyUGFyYW1zW2NoYXJhY3Rlci5pbmRleF0gPSB7fVxuICAgICAgICAgICAgICAgIGlmIGNoYXJhY3Rlci5wYXJhbXM/XG4gICAgICAgICAgICAgICAgICAgIGZvciBwYXJhbSBpbiBjaGFyYWN0ZXIucGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBAY2hhcmFjdGVyUGFyYW1zW2NoYXJhY3Rlci5pbmRleF1bcGFyYW0ubmFtZV0gPSBwYXJhbS52YWx1ZSBcblxuICAgICAgICBcbiAgICAgICAgQHNldHVwQ29tbW9uRXZlbnRzKClcbiAgICAgICAgICAgIFxuICAgICAgICBmb3IgaSBpbiBbMC4uLlJlY29yZE1hbmFnZXIuY2hhcmFjdGVyc11cbiAgICAgICAgICAgIEBzZXR0aW5ncy52b2ljZXNQZXJDaGFyYWN0ZXJbaV0gPSAxMDBcbiAgICAgICAgICAgIFxuICAgICAgICBAY2hhcHRlcnMgPSBEYXRhTWFuYWdlci5nZXREb2N1bWVudHNCeVR5cGUoXCJ2bi5jaGFwdGVyXCIpXG4gICAgICAgIEBjaGFwdGVycy5zb3J0IChhLCBiKSAtPlxuICAgICAgICAgICAgaWYgYS5pdGVtcy5vcmRlciA+IGIuaXRlbXMub3JkZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgZWxzZSBpZiBhLml0ZW1zLm9yZGVyIDwgYi5pdGVtcy5vcmRlclxuICAgICAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiAwXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgY29tbW9uIGV2ZW50cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwQ29tbW9uRXZlbnRzXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgc2V0dXBDb21tb25FdmVudHM6IC0+XG4gICAgICAgIGZvciBldmVudCBpbiBAY29tbW9uRXZlbnRzXG4gICAgICAgICAgICBldmVudC5kaXNwb3NlKClcbiAgICAgICAgXG4gICAgICAgIEBjb21tb25FdmVudHMgPSBbXSAgICBcbiAgICAgICAgZm9yIGV2ZW50IGluIFJlY29yZE1hbmFnZXIuY29tbW9uRXZlbnRzXG4gICAgICAgICAgICBpZiBldmVudC5zdGFydENvbmRpdGlvbiA9PSAxIGFuZCBldmVudC5hdXRvUHJlbG9hZFxuICAgICAgICAgICAgICAgIGdzLlJlc291cmNlTG9hZGVyLmxvYWRFdmVudENvbW1hbmRzR3JhcGhpY3MoZXZlbnQuY29tbWFuZHMpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBvYmplY3QgPSBuZXcgZ3MuT2JqZWN0X0NvbW1vbkV2ZW50KClcbiAgICAgICAgICAgIG9iamVjdC5yZWNvcmQgPSBldmVudFxuICAgICAgICAgICAgb2JqZWN0LnJpZCA9IGV2ZW50LmluZGV4XG4gICAgICAgICAgICBAY29tbW9uRXZlbnRzLnB1c2gob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgY3Vyc29yIGRlcGVuZGluZyBvbiBzeXN0ZW0gc2V0dGluZ3MuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEN1cnNvclxuICAgICMjI1xuICAgIHNldHVwQ3Vyc29yOiAtPlxuICAgICAgICBpZiBSZWNvcmRNYW5hZ2VyLnN5c3RlbS5jdXJzb3I/Lm5hbWVcbiAgICAgICAgICAgIGJpdG1hcCA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je1JlY29yZE1hbmFnZXIuc3lzdGVtLmN1cnNvci5uYW1lfVwiKVxuICAgICAgICAgICAgR3JhcGhpY3Muc2V0Q3Vyc29yQml0bWFwKGJpdG1hcCwgUmVjb3JkTWFuYWdlci5zeXN0ZW0uY3Vyc29yLmh4LCBSZWNvcmRNYW5hZ2VyLnN5c3RlbS5jdXJzb3IuaHkpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEdyYXBoaWNzLnNldEN1cnNvckJpdG1hcChudWxsKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgR2FtZU1hbmFnZXIuIFNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIHF1aXQgdGhlIGdhbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNwb3NlXG4gICAgIyMjICAgICAgICAgICAgICAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogUXVpdHMgdGhlIGdhbWUuIFRoZSBpbXBsZW1lbnRhdGlvbiBkZXBlbmRzIG9uIHRoZSBwbGF0Zm9ybS4gU28gZm9yIGV4YW1wbGUgb24gbW9iaWxlXG4gICAgKiBkZXZpY2VzIHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBleGl0XG4gICAgIyMjICAgXG4gICAgZXhpdDogLT4gQXBwbGljYXRpb24uZXhpdCgpXG4gICAgXG4gICAgIyMjKlxuICAgICogUmVzZXRzIHRoZSBHYW1lTWFuYWdlciBieSBkaXNwb3NpbmcgYW5kIHJlLWluaXRpYWxpemluZyBpdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc2V0XG4gICAgIyMjICAgICAgICAgIFxuICAgIHJlc2V0OiAtPlxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBAaW50ZXJwcmV0ZXIgPSBudWxsXG4gICAgICAgIEBkaXNwb3NlKClcbiAgICAgICAgQGluaXRpYWxpemUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXNldHMgdGhlIEdhbWVNYW5hZ2VyIGZvciBhIG5ldyBnYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgbmV3R2FtZVxuICAgICMjIyAgICAgIFxuICAgIG5ld0dhbWU6IC0+XG4gICAgICAgIEBtZXNzYWdlcyA9IFtdXG4gICAgICAgIEB2YXJpYWJsZVN0b3JlLmNsZWFyR2xvYmFscygpXG4gICAgICAgIEB0ZW1wU2V0dGluZ3Muc2tpcCA9IG5vXG4gICAgICAgIEB0ZW1wRmllbGRzLmNsZWFyKClcbiAgICAgICAgQHNldHVwQ29tbW9uRXZlbnRzKClcbiAgICAgICAgQHRlbXBTZXR0aW5ncy5tZW51QWNjZXNzID0geWVzXG4gICAgICAgIEB0ZW1wU2V0dGluZ3Muc2F2ZU1lbnVBY2Nlc3MgPSB5ZXNcbiAgICAgICAgQHRlbXBTZXR0aW5ncy5sb2FkTWVudUFjY2VzcyA9IHllc1xuICAgICAgICBAdGVtcFNldHRpbmdzLmJhY2tsb2dBY2Nlc3MgPSB5ZXNcbiAgICAgICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIEdhbWVNYW5hZ2VyLiBTaG91bGQgYmUgY2FsbGVkIG9uY2UgcGVyIGZyYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyB0aGUgaW5kZXggb2YgYWxsIHNhdmUtZ2FtZXMuIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBuZXcgc2F2ZSBnYW1lXG4gICAgKiBpcyBjcmVhdGVkLlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlU2F2ZUdhbWVJbmRleFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjcmVhdGVTYXZlR2FtZUluZGV4OiAtPlxuICAgICAgICBAc2F2ZUdhbWVTbG90cyA9IFtdXG4gICAgICAgIGZvciBpIGluIFswLi4uQHNhdmVTbG90Q291bnRdXG4gICAgICAgICAgICBpZiBHYW1lU3RvcmFnZS5leGlzdHMoXCJTYXZlR2FtZV8je2l9X0hlYWRlclwiKVxuICAgICAgICAgICAgICAgIGhlYWRlciA9IEdhbWVTdG9yYWdlLmdldE9iamVjdChcIlNhdmVHYW1lXyN7aX1fSGVhZGVyXCIpXG4gICAgICAgICAgICAgICAgY2hhcHRlciA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50KGhlYWRlci5jaGFwdGVyVWlkKVxuICAgICAgICAgICAgICAgIHNjZW5lID0gRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnRTdW1tYXJ5KGhlYWRlci5zY2VuZVVpZClcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGhlYWRlci5pbWFnZVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhlYWRlciA9IG51bGxcbiAgICAgICAgICAgICAgICBjaGFwZXIgPSBudWxsXG4gICAgICAgICAgICAgICAgc2NlbmUgPSBudWxsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBjaGFwdGVyPyBhbmQgc2NlbmU/IGFuZCAhQGluTGl2ZVByZXZpZXdcbiAgICAgICAgICAgICAgICBAc2F2ZUdhbWVTbG90cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogaGVhZGVyLmRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGNoYXB0ZXI6IGNoYXB0ZXIuaXRlbXMubmFtZSB8fCBcIkRFTEVURURcIlxuICAgICAgICAgICAgICAgICAgICBzY2VuZTogc2NlbmUuaXRlbXMubmFtZSB8fCBcIkRFTEVURURcIixcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlICNjaGFwdGVyLml0ZW1zLmNvbW1hbmRzWzBdLnBhcmFtcy5zYXZlR2FtZUdyYXBoaWM/Lm5hbWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBzYXZlR2FtZVNsb3RzLnB1c2goeyBcImRhdGVcIjogXCJcIiwgXCJjaGFwdGVyXCI6IFwiXCIsIFwic2NlbmVcIjogXCJcIiwgXCJpbWFnZVwiOiBudWxsIH0pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gQHNhdmVHYW1lU2xvdHNcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzZXRzIHRoZSBnYW1lJ3Mgc2V0dGluZ3MgdG8gaXRzIGRlZmF1bHQgdmFsdWVzLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzZXRTZXR0aW5nc1xuICAgICMjIyAgICAgICAgICAgIFxuICAgIHJlc2V0U2V0dGluZ3M6IC0+XG4gICAgICAgIEBzZXR0aW5ncyA9IHsgdmVyc2lvbjogMzM3LCByZW5kZXJlcjogMCwgZmlsdGVyOiAxLCBjb25maXJtYXRpb246IHllcywgYWRqdXN0QXNwZWN0UmF0aW86IG5vLCBhbGxvd1NraXA6IHllcywgYWxsb3dTa2lwVW5yZWFkTWVzc2FnZXM6IHllcywgIGFsbG93VmlkZW9Ta2lwOiB5ZXMsIHNraXBWb2ljZU9uQWN0aW9uOiB5ZXMsIGFsbG93Q2hvaWNlU2tpcDogbm8sIHZvaWNlc0J5Q2hhcmFjdGVyOiBbXSwgdGltZU1lc3NhZ2VUb1ZvaWNlOiB0cnVlLCAgXCJhdXRvTWVzc2FnZVwiOiB7IGVuYWJsZWQ6IGZhbHNlLCB0aW1lOiAwLCB3YWl0Rm9yVm9pY2U6IHllcywgc3RvcE9uQWN0aW9uOiBubyB9LCAgXCJ2b2ljZUVuYWJsZWRcIjogdHJ1ZSwgXCJiZ21FbmFibGVkXCI6IHRydWUsIFwic291bmRFbmFibGVkXCI6IHRydWUsIFwidm9pY2VWb2x1bWVcIjogMTAwLCBcImJnbVZvbHVtZVwiOiAxMDAsIFwic2VWb2x1bWVcIjogMTAwLCBcIm1lc3NhZ2VTcGVlZFwiOiA0LCBcImZ1bGxTY3JlZW5cIjogbm8sIFwiYXNwZWN0UmF0aW9cIjogMCB9XG4gICAgICAgIEBzYXZlR2FtZVNsb3RzID0gW11cbiAgICAgICAgZm9yIGkgaW4gWzAuLi5Ac2F2ZVNsb3RDb3VudF1cbiAgICAgICAgICAgIEdhbWVTdG9yYWdlLnJlbW92ZShcIlNhdmVHYW1lXyN7aX1fSGVhZGVyXCIpXG4gICAgICAgICAgICBHYW1lU3RvcmFnZS5yZW1vdmUoXCJTYXZlR2FtZV8je2l9XCIpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBzYXZlR2FtZVNsb3RzLnB1c2goeyBcImRhdGVcIjogXCJcIiwgXCJjaGFwdGVyXCI6IFwiXCIsIFwic2NlbmVcIjogXCJcIiwgXCJ0aHVtYlwiOiBcIlwiIH0pXG4gICAgICAgXG4gICAgICAgIEdhbWVTdG9yYWdlLnNldE9iamVjdChcInNldHRpbmdzXCIsIEBzZXR0aW5ncylcbiAgICAgICAgQGdsb2JhbERhdGEgPSB7IG1lc3NhZ2VzOiB7fSwgY2dHYWxsZXJ5OiBbXSB9XG4gICAgICAgIEdhbWVTdG9yYWdlLnNldE9iamVjdChcImdsb2JhbERhdGFcIiwgQGdsb2JhbERhdGEpXG4gICAgXG4gICAgIyMjKlxuICAgICogU2F2ZXMgY3VycmVudCBnYW1lIHNldHRpbmdzLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2F2ZVNldHRpbmdzXG4gICAgIyMjICAgICBcbiAgICBzYXZlU2V0dGluZ3M6IC0+XG4gICAgICAgIEdhbWVTdG9yYWdlLnNldE9iamVjdChcInNldHRpbmdzXCIsIEBzZXR0aW5ncylcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2F2ZXMgY3VycmVudCBnbG9iYWwgZGF0YS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNhdmVHbG9iYWxEYXRhXG4gICAgIyMjICBcbiAgICBzYXZlR2xvYmFsRGF0YTogLT5cbiAgICAgICAgQGdsb2JhbERhdGEucGVyc2lzdGVudE51bWJlcnMgPSBAdmFyaWFibGVTdG9yZS5wZXJzaXN0ZW50TnVtYmVyc1xuICAgICAgICBAZ2xvYmFsRGF0YS5wZXJzaXN0ZW50U3RyaW5ncyA9IEB2YXJpYWJsZVN0b3JlLnBlcnNpc3RlbnRTdHJpbmdzXG4gICAgICAgIEBnbG9iYWxEYXRhLnBlcnNpc3RlbnRCb29sZWFucyA9IEB2YXJpYWJsZVN0b3JlLnBlcnNpc3RlbnRCb29sZWFuc1xuICAgICAgICBHYW1lU3RvcmFnZS5zZXRPYmplY3QoXCJnbG9iYWxEYXRhXCIsIEBnbG9iYWxEYXRhKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXNldHMgY3VycmVudCBnbG9iYWwgZGF0YS4gQWxsIHN0b3JlZCBkYXRhIGFib3V0IHJlYWQgbWVzc2FnZXMsIHBlcnNpc3RlbnQgdmFyaWFibGVzIGFuZFxuICAgICogQ0cgZ2FsbGVyeSB3aWxsIGJlIGRlbGV0ZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXNldEdsb2JhbERhdGFcbiAgICAjIyMgICAgIFxuICAgIHJlc2V0R2xvYmFsRGF0YTogLT5cbiAgICAgICAgQGdsb2JhbERhdGEgPSB7IG1lc3NhZ2VzOiB7fSwgY2dHYWxsZXJ5OiBbXSB9XG4gICAgICAgIFxuICAgICAgICBmb3IgY2csIGkgaW4gUmVjb3JkTWFuYWdlci5jZ0dhbGxlcnlcbiAgICAgICAgICAgIGlmIGNnP1xuICAgICAgICAgICAgICAgIEBnbG9iYWxEYXRhLmNnR2FsbGVyeVtpXSA9IHsgdW5sb2NrZWQ6IG5vIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgR2FtZVN0b3JhZ2Uuc2V0T2JqZWN0KFwiZ2xvYmFsRGF0YVwiLCBAZ2xvYmFsRGF0YSkgXG4gICAgIFxuICAgICBcbiAgICByZWFkU2F2ZUdhbWU6IChzYXZlR2FtZSkgLT5cbiAgICB3cml0ZVNhdmVHYW1lOiAoc2F2ZUdhbWUpIC0+XG4gICAgICAgIFxuICAgIHByZXBhcmVTYXZlR2FtZTogKHNuYXBzaG90KSAtPlxuICAgICAgICBpZiBzbmFwc2hvdFxuICAgICAgICAgICAgc25hcHNob3QgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Q3VzdG9tQml0bWFwKFwiJHNuYXBzaG90XCIpXG4gICAgICAgICAgICBzbmFwc2hvdD8uZGlzcG9zZSgpXG4gICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuc2V0Q3VzdG9tQml0bWFwKFwiJHNuYXBzaG90XCIsIEdyYXBoaWNzLnNuYXBzaG90KCkpXG4gICAgICAgIFxuICAgICAgICBjb250ZXh0ID0gbmV3IGdzLk9iamVjdENvZGVjQ29udGV4dCgpXG4gICAgICAgIGNvbnRleHQuZGVjb2RlZE9iamVjdFN0b3JlLnB1c2goR3JhcGhpY3Mudmlld3BvcnQpXG4gICAgICAgIGNvbnRleHQuZGVjb2RlZE9iamVjdFN0b3JlLnB1c2goQHNjZW5lKVxuICAgICAgICBjb250ZXh0LmRlY29kZWRPYmplY3RTdG9yZS5wdXNoKEBzY2VuZS5iZWhhdmlvcilcbiAgXG4gICAgICAgIG1lc3NhZ2VCb3ggPSBAc2NlbmUuYmVoYXZpb3Iub2JqZWN0TWFuYWdlci5vYmplY3RCeUlkKFwibWVzc2FnZUJveFwiKVxuICAgICAgICBtZXNzYWdlID0gQHNjZW5lLmJlaGF2aW9yLm9iamVjdE1hbmFnZXIub2JqZWN0QnlJZChcImdhbWVNZXNzYWdlX21lc3NhZ2VcIilcbiAgICAgICAgc2NlbmVEYXRhID0ge31cbiAgICAgICAgc2F2ZUdhbWUgPSB7fVxuICAgICAgICBzYXZlR2FtZS5lbmNvZGVkT2JqZWN0U3RvcmUgPSBudWxsXG4gICAgICAgIFxuICAgICAgICBzYXZlR2FtZS5zY2VuZVVpZCA9IEBzY2VuZS5zY2VuZURvY3VtZW50LnVpZFxuICAgICAgICBzYXZlR2FtZS5kYXRhID0ge1xuICAgICAgICAgICAgY3VycmVudENoYXJhY3RlcjogQHNjZW5lLmN1cnJlbnRDaGFyYWN0ZXIsXG4gICAgICAgICAgICBmcmFtZUNvdW50OiBHcmFwaGljcy5mcmFtZUNvdW50LFxuICAgICAgICAgICAgdGVtcEZpZWxkczogQHRlbXBGaWVsZHMsXG4gICAgICAgICAgICB2aWV3cG9ydDogQHNjZW5lLnZpZXdwb3J0LFxuICAgICAgICAgICAgY2hhcmFjdGVyczogQHNjZW5lLmNoYXJhY3RlcnMsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kczogQHNjZW5lLmJhY2tncm91bmRzLFxuICAgICAgICAgICAgcGljdHVyZXM6IEBzY2VuZS5waWN0dXJlcyxcbiAgICAgICAgICAgIHRleHRzOiBAc2NlbmUudGV4dHMsXG4gICAgICAgICAgICB2aWRlb3M6IEBzY2VuZS52aWRlb3MsXG4gICAgICAgICAgICBjb21tb25FdmVudHM6IEBzY2VuZS5jb21tb25FdmVudENvbnRhaW5lci5zdWJPYmplY3RzLFxuICAgICAgICAgICAgaG90c3BvdHM6IEBzY2VuZS5ob3RzcG90cyxcbiAgICAgICAgICAgIGltYWdlTWFwOiBAc2NlbmUuaW1hZ2VNYXAsXG4gICAgICAgICAgICBpbnRlcnByZXRlcjogQHNjZW5lLmludGVycHJldGVyLFxuICAgICAgICAgICAgbWVzc2FnZUJveDogeyB2aXNpYmxlOiBtZXNzYWdlQm94LnZpc2libGUsIG1lc3NhZ2U6IG1lc3NhZ2UgfSxcbiAgICAgICAgICAgIGJhY2tsb2c6IEBiYWNrbG9nLFxuICAgICAgICAgICAgdmFyaWFibGVTdG9yZTogQHZhcmlhYmxlU3RvcmUsXG4gICAgICAgICAgICBkZWZhdWx0czogQGRlZmF1bHRzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkRhdGE6IFNjZW5lTWFuYWdlci50cmFuc2l0aW9uRGF0YSxcbiAgICAgICAgICAgIGF1ZGlvOiB7IGF1ZGlvQnVmZmVyczogQXVkaW9NYW5hZ2VyLmF1ZGlvQnVmZmVycywgYXVkaW9CdWZmZXJzQnlMYXllcjogQXVkaW9NYW5hZ2VyLmF1ZGlvQnVmZmVyc0J5TGF5ZXIsIGF1ZGlvTGF5ZXJzOiBBdWRpb01hbmFnZXIuYXVkaW9MYXllcnMsIHNvdW5kUmVmZXJlbmNlczogQXVkaW9NYW5hZ2VyLnNvdW5kUmVmZXJlbmNlcyB9LFxuICAgICAgICAgICAgbWVzc2FnZUFyZWFzOiBAc2NlbmUubWVzc2FnZUFyZWFzLnNlbGVjdCAoZikgLT5cbiAgICAgICAgICAgICAgICBpZiBmIFxuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZi5tZXNzYWdlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDogeyBkc3RSZWN0OiBncy5SZWN0LmZyb21PYmplY3QoZi5sYXlvdXQuZHN0UmVjdCkgfSBcbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgIH1cbiAgICAgICAgXG5cbiAgICAgICAgI3NzID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIHNhdmVHYW1lLmRhdGEgPSBncy5PYmplY3RDb2RlYy5lbmNvZGUoc2F2ZUdhbWUuZGF0YSwgY29udGV4dClcbiAgICAgICAgI2NvbnNvbGUubG9nKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHNzKVxuICAgICAgICBzYXZlR2FtZS5lbmNvZGVkT2JqZWN0U3RvcmUgPSBjb250ZXh0LmVuY29kZWRPYmplY3RTdG9yZVxuXG4gICAgICAgIEBzYXZlR2FtZSA9IHNhdmVHYW1lXG4gICAgICBcbiAgICBjcmVhdGVTYXZlR2FtZVNsb3Q6IChoZWFkZXIpIC0+XG4gICAgICAgIHNsb3QgPSB7XG4gICAgICAgICAgICBcImRhdGVcIjogbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKSxcbiAgICAgICAgICAgIFwiY2hhcHRlclwiOiBAc2NlbmUuY2hhcHRlci5pdGVtcy5uYW1lLFxuICAgICAgICAgICAgXCJzY2VuZVwiOiBAc2NlbmUuc2NlbmVEb2N1bWVudC5pdGVtcy5uYW1lLFxuICAgICAgICAgICAgXCJpbWFnZVwiOiBoZWFkZXIuaW1hZ2VcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgICAgIFxuICAgIGNyZWF0ZVNhdmVHYW1lSGVhZGVyOiAtPlxuICAgICAgICB0aHVtYkltYWdlID0gQGNyZWF0ZVNhdmVHYW1lVGh1bWJJbWFnZSgpXG4gICAgICAgIFxuICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICBcImRhdGVcIjogbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKSxcbiAgICAgICAgICAgIFwiY2hhcHRlclVpZFwiOiBAc2NlbmUuY2hhcHRlci51aWQsXG4gICAgICAgICAgICBcInNjZW5lVWlkXCI6IEBzY2VuZS5zY2VuZURvY3VtZW50LnVpZCxcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogdGh1bWJJbWFnZT8uaW1hZ2UudG9EYXRhVVJMKCkgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRodW1iSW1hZ2U/LmRpc3Bvc2UoKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGhlYWRlclxuICAgICAgICBcbiAgICBjcmVhdGVTYXZlR2FtZVRodW1iSW1hZ2U6IC0+XG4gICAgICAgIHNuYXBzaG90ID0gUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIiRzbmFwc2hvdFwiKVxuICAgICAgICB0aHVtYkltYWdlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgaWYgc25hcHNob3RcbiAgICAgICAgICAgIHRodW1iSW1hZ2UgPSBuZXcgQml0bWFwKEdyYXBoaWNzLndpZHRoIC8gOCwgR3JhcGhpY3MuaGVpZ2h0IC8gOClcbiAgICAgICAgICAgIHRodW1iSW1hZ2Uuc3RyZXRjaEJsdChuZXcgUmVjdCgwLCAwLCB0aHVtYkltYWdlLndpZHRoLCB0aHVtYkltYWdlLmhlaWdodCksIHNuYXBzaG90LCBuZXcgUmVjdCgwLCAwLCBzbmFwc2hvdC53aWR0aCwgc25hcHNob3QuaGVpZ2h0KSlcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gdGh1bWJJbWFnZVxuICAgICAgXG4gICAgc3RvcmVTYXZlR2FtZTogKG5hbWUsIHNhdmVHYW1lLCBoZWFkZXIpIC0+XG4gICAgICAgIGlmIGhlYWRlclxuICAgICAgICAgICAgR2FtZVN0b3JhZ2Uuc2V0RGF0YShcIiN7bmFtZX1fSGVhZGVyXCIsIEpTT04uc3RyaW5naWZ5KGhlYWRlcikpXG4gICAgICAgICAgICBcbiAgICAgICAgR2FtZVN0b3JhZ2Uuc2V0RGF0YShuYW1lLCBKU09OLnN0cmluZ2lmeShzYXZlR2FtZSkpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNhdmVzIHRoZSBjdXJyZW50IGdhbWUgYXQgdGhlIHNwZWNpZmllZCBzbG90LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2F2ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNsb3QgLSBUaGUgc2xvdCB3aGVyZSB0aGUgZ2FtZSBzaG91bGQgYmUgc2F2ZWQgYXQuXG4gICAgIyMjICAgICBcbiAgICBzYXZlOiAoc2xvdCkgLT5cbiAgICAgICAgaWYgQHNhdmVHYW1lXG4gICAgICAgICAgICBoZWFkZXIgPSBAY3JlYXRlU2F2ZUdhbWVIZWFkZXIoKVxuICAgICAgICAgICAgQHNhdmVHYW1lU2xvdHNbc2xvdF0gPSBAY3JlYXRlU2F2ZUdhbWVTbG90KGhlYWRlcilcbiAgICAgICAgICAgIEBzdG9yZVNhdmVHYW1lKFwiU2F2ZUdhbWVfI3tzbG90fVwiLCBAc2F2ZUdhbWUsIGhlYWRlcilcbiAgICAgICAgICAgIEBzY2VuZURhdGEgPSB7fVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gQHNhdmVHYW1lXG4gICAgXG4gICAgcmVzdG9yZTogKHNhdmVHYW1lKSAtPlxuICAgICAgICBAYmFja2xvZyA9IHNhdmVHYW1lLmRhdGEuYmFja2xvZ1xuICAgICAgICBAZGVmYXVsdHMgPSBzYXZlR2FtZS5kYXRhLmRlZmF1bHRzXG4gICAgICAgIEB2YXJpYWJsZVN0b3JlID0gc2F2ZUdhbWUuZGF0YS52YXJpYWJsZVN0b3JlXG4gICAgICAgIEBzY2VuZURhdGEgPSBzYXZlR2FtZS5kYXRhXG4gICAgICAgIEBzYXZlR2FtZSA9IG51bGxcbiAgICAgICAgQGxvYWRlZFNhdmVHYW1lID0gbnVsbFxuICAgICAgICBAdGVtcEZpZWxkcyA9IHNhdmVHYW1lLmRhdGEudGVtcEZpZWxkc1xuICAgICAgICB3aW5kb3cuJHRlbXBGaWVsZHMgPSBAdGVtcEZpZWxkc1xuICAgICAgICB3aW5kb3cuJGRhdGFGaWVsZHMuYmFja2xvZyA9IEBiYWNrbG9nXG4gICAgICAgICAgICBcbiAgICBcbiAgICBwcmVwYXJlTG9hZEdhbWU6IC0+XG4gICAgICAgIEF1ZGlvTWFuYWdlci5zdG9wQWxsTXVzaWMoMzApXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIExvYWRzIHRoZSBnYW1lIGZyb20gdGhlIHNwZWNpZmllZCBzYXZlIGdhbWUgc2xvdC4gVGhpcyBtZXRob2QgdHJpZ2dlcnNcbiAgICAqIGEgYXV0b21hdGljIHNjZW5lIGNoYW5nZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxvYWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbG90IC0gVGhlIHNsb3Qgd2hlcmUgdGhlIGdhbWUgc2hvdWxkIGJlIGxvYWRlZCBmcm9tLlxuICAgICMjIyAgICAgICAgXG4gICAgbG9hZDogKHNsb3QpIC0+XG4gICAgICAgIHJldHVybiBpZiAhQHNhdmVHYW1lU2xvdHNbc2xvdF0gb3IgQHNhdmVHYW1lU2xvdHNbc2xvdF0uZGF0ZS50cmltKCkubGVuZ3RoID09IDBcbiAgICAgICAgXG4gICAgICAgIEBwcmVwYXJlTG9hZEdhbWUoKVxuICAgICAgICBAbG9hZGVkU2F2ZUdhbWUgPSBAbG9hZFNhdmVHYW1lKFwiU2F2ZUdhbWVfI3tzbG90fVwiKVxuICAgICAgICBcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKG5ldyB2bi5PYmplY3RfU2NlbmUoKSlcbiAgICAgICAgXG4gICAgbG9hZFNhdmVHYW1lOiAobmFtZSkgLT4gSlNPTi5wYXJzZShHYW1lU3RvcmFnZS5nZXREYXRhKG5hbWUpKVxuICAgICAgICBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgc2F2ZSBnYW1lIGRhdGEgZm9yIGEgc3BlY2lmaWVkIHNsb3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZXRTYXZlR2FtZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNsb3QgLSBUaGUgc2xvdCB0byBnZXQgdGhlIHNhdmUgZGF0YSBmcm9tLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc2F2ZSBnYW1lIGRhdGEuXG4gICAgIyMjICAgICAgICBcbiAgICBnZXRTYXZlR2FtZTogKHNsb3QpIC0+IEpTT04ucGFyc2UoR2FtZVN0b3JhZ2UuZ2V0RGF0YShcIlNhdmVHYW1lXyN7c2xvdH1cIikpXG4gICAgXG53aW5kb3cuR2FtZU1hbmFnZXIgPSBuZXcgR2FtZU1hbmFnZXIoKVxuZ3MuR2FtZU1hbmFnZXIgPSB3aW5kb3cuR2FtZU1hbmFnZXIiXX0=
//# sourceURL=GameManager_24.js
var SceneManager,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

SceneManager = (function(superClass) {
  extend(SceneManager, superClass);


  /**
  * Manages the scenes of the game.
  *
  * @module gs
  * @class SceneManager
  * @memberof gs
  * @constructor
   */

  function SceneManager() {
    SceneManager.__super__.constructor.apply(this, arguments);

    /**
    * The current scene.
    * @property scene
    * @type gs.Object_Base
     */
    this.scene = null;

    /**
    * An array of previous scenes. Used to jump back to last scene from a menu for example.
    * @property previousScenes
    * @type gs.Object_Base
     */
    this.previousScenes = [];

    /**
    * The next scene. If set, this scene will become the current scene after next update.
    * @property nextScene
    * @type gs.Object_Base
     */
    this.nextScene = null;

    /**
    * The duration of a transition from one scene to another.
    * @property transitionDuration
    * @type number
     */
    this.transitionDuration = 15;

    /**
    * The transition-data like the graphic, vague, etc. used for a transition from one scene to another.
    * @property transitionDuration
    * @type number
     */
    this.transitionData = {
      graphic: null,
      duration: 20,
      vague: 30
    };
    this.input = true;
  }


  /**
  * Switches from the current scene to the specified one.
  *
  * @method switchTo
  * @param {gs.Object_Base} scene - The new scene.
  * @param {boolean} savePrevious - Indicates if the current scene should be pushed to previous-scene stack instead
  * of getting disposed. It is possible to switch back to that scene then using gs.SceneManager.returnToPrevious method.
  * @param {number} duration - The duration for the switch.
   */

  SceneManager.prototype.switchTo = function(scene, savePrevious, duration) {
    if (savePrevious) {
      this.previousScenes.push(this.scene);
    }
    if (this.scene != null) {
      this.removeObject(this.scene);
    }
    this.transitionDuration = duration || 5;
    this.nextScene = scene;
    return Graphics.freeze();
  };


  /**
  * Clears the stack of previous-scenes and disposes all previous-scenes. After that it is not
  * possible to go back to a previous scene using gs.SceneManager.returnToPrevious().
  *
  * @method clear
   */

  SceneManager.prototype.clear = function() {
    var i, len, ref, scene;
    ref = this.previousScenes;
    for (i = 0, len = ref.length; i < len; i++) {
      scene = ref[i];
      scene.dispose();
    }
    return this.previousScenes = [];
  };


  /**
  * Returns to the previous scene if that scene was saved before.
  *
  * @method returnToPrevious
   */

  SceneManager.prototype.returnToPrevious = function() {
    var scene;
    if (this.previousScenes.length > 0) {
      scene = this.previousScenes.pop();
      if (this.scene != null) {
        this.removeObject(this.scene);
      }
      if (scene != null) {
        this.nextScene = scene;
        return Graphics.freeze();
      }
    }
  };


  /**
  * Updates the current scene and the scene-handling. Needs to be called once
  * per frame.
  *
  * @method update
   */

  SceneManager.prototype.update = function() {
    var ref;
    if (this.nextScene !== this.scene) {
      Input.clear();
      if (this.scene != null) {
        if (this.previousScenes.indexOf(this.scene) === -1) {
          this.scene.dispose();
        } else {
          this.scene.behavior.show(false);
        }
      }
      this.scene = this.nextScene;
      if (this.scene) {
        this.addObject(this.scene);
        this.scene.loading = true;
        this.scene.loadingData = true;
        this.scene.loadingResources = true;
        if ((this.scene != null) && !this.scene.initialized) {
          this.scene.behavior.initialize();
          this.isFadeOut = true;
        } else if ((ref = this.scene) != null ? ref.initialized : void 0) {
          this.scene.behavior.show(true);
          this.scene.update();
        }
        Graphics.update();
        this.scene.behavior.transition();
      } else {
        Graphics.freeze();
        Graphics.update();
        Graphics.transition(30);
        this.isFadeOut = true;
      }
    }
    if (this.isFadeOut && Graphics.frozen) {
      Graphics.update();
      return Input.update();
    } else {
      if (this.isFadeOut) {
        AudioManager.stopAllSounds();
        this.isFadeOut = false;
        if (this.scene) {
          Graphics.freeze();
        } else {
          gs.Application.exit();
        }
      }
      DataManager.update();
      ResourceManager.update();
      if (RecordManager.initialized) {
        AudioManager.update();
      }
      if (Graphics.frozen) {
        Input.update();
      }
      return SceneManager.__super__.update.call(this);
    }
  };

  return SceneManager;

})(gs.ObjectManager);

window.SceneManager = new SceneManager();

gs.SceneManager = window.SceneManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7RUFRYSxzQkFBQTtJQUNULCtDQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7SUFLQSxJQUFDLENBQUEsY0FBRCxHQUFrQjs7QUFFbEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsa0JBQUQsR0FBc0I7O0FBRXRCOzs7OztJQUtBLElBQUMsQ0FBQSxjQUFELEdBQWtCO01BQUUsT0FBQSxFQUFTLElBQVg7TUFBaUIsUUFBQSxFQUFVLEVBQTNCO01BQStCLEtBQUEsRUFBTyxFQUF0Qzs7SUFDbEIsSUFBQyxDQUFBLEtBQUQsR0FBUztFQXJDQTs7O0FBdUNiOzs7Ozs7Ozs7O3lCQVNBLFFBQUEsR0FBVSxTQUFDLEtBQUQsRUFBUSxZQUFSLEVBQXNCLFFBQXRCO0lBQ04sSUFBRyxZQUFIO01BQ0ksSUFBQyxDQUFBLGNBQWMsQ0FBQyxJQUFoQixDQUFxQixJQUFDLENBQUEsS0FBdEIsRUFESjs7SUFHQSxJQUFHLGtCQUFIO01BQ0ksSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsS0FBZixFQURKOztJQUdBLElBQUMsQ0FBQSxrQkFBRCxHQUFzQixRQUFBLElBQVk7SUFDbEMsSUFBQyxDQUFBLFNBQUQsR0FBYTtXQUNiLFFBQVEsQ0FBQyxNQUFULENBQUE7RUFUTTs7O0FBV1Y7Ozs7Ozs7eUJBTUEsS0FBQSxHQUFPLFNBQUE7QUFDSCxRQUFBO0FBQUE7QUFBQSxTQUFBLHFDQUFBOztNQUNFLEtBQUssQ0FBQyxPQUFOLENBQUE7QUFERjtXQUVBLElBQUMsQ0FBQSxjQUFELEdBQWtCO0VBSGY7OztBQUtQOzs7Ozs7eUJBS0EsZ0JBQUEsR0FBa0IsU0FBQTtBQUNkLFFBQUE7SUFBQSxJQUFH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QUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IFNjZW5lTWFuYWdlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgU2NlbmVNYW5hZ2VyIGV4dGVuZHMgZ3MuT2JqZWN0TWFuYWdlclxuICAgICMjIypcbiAgICAqIE1hbmFnZXMgdGhlIHNjZW5lcyBvZiB0aGUgZ2FtZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgU2NlbmVNYW5hZ2VyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjdXJyZW50IHNjZW5lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzY2VuZVxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9CYXNlXG4gICAgICAgICMjIyBcbiAgICAgICAgQHNjZW5lID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGFycmF5IG9mIHByZXZpb3VzIHNjZW5lcy4gVXNlZCB0byBqdW1wIGJhY2sgdG8gbGFzdCBzY2VuZSBmcm9tIGEgbWVudSBmb3IgZXhhbXBsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgcHJldmlvdXNTY2VuZXNcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQmFzZVxuICAgICAgICAjIyMgXG4gICAgICAgIEBwcmV2aW91c1NjZW5lcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG5leHQgc2NlbmUuIElmIHNldCwgdGhpcyBzY2VuZSB3aWxsIGJlY29tZSB0aGUgY3VycmVudCBzY2VuZSBhZnRlciBuZXh0IHVwZGF0ZS5cbiAgICAgICAgKiBAcHJvcGVydHkgbmV4dFNjZW5lXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0Jhc2VcbiAgICAgICAgIyMjIFxuICAgICAgICBAbmV4dFNjZW5lID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBkdXJhdGlvbiBvZiBhIHRyYW5zaXRpb24gZnJvbSBvbmUgc2NlbmUgdG8gYW5vdGhlci5cbiAgICAgICAgKiBAcHJvcGVydHkgdHJhbnNpdGlvbkR1cmF0aW9uXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjIyBcbiAgICAgICAgQHRyYW5zaXRpb25EdXJhdGlvbiA9IDE1XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHRyYW5zaXRpb24tZGF0YSBsaWtlIHRoZSBncmFwaGljLCB2YWd1ZSwgZXRjLiB1c2VkIGZvciBhIHRyYW5zaXRpb24gZnJvbSBvbmUgc2NlbmUgdG8gYW5vdGhlci5cbiAgICAgICAgKiBAcHJvcGVydHkgdHJhbnNpdGlvbkR1cmF0aW9uXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjIyBcbiAgICAgICAgQHRyYW5zaXRpb25EYXRhID0geyBncmFwaGljOiBudWxsLCBkdXJhdGlvbjogMjAsIHZhZ3VlOiAzMCB9XG4gICAgICAgIEBpbnB1dCA9IHllc1xuXG4gICAgIyMjKlxuICAgICogU3dpdGNoZXMgZnJvbSB0aGUgY3VycmVudCBzY2VuZSB0byB0aGUgc3BlY2lmaWVkIG9uZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN3aXRjaFRvXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzY2VuZSAtIFRoZSBuZXcgc2NlbmUuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNhdmVQcmV2aW91cyAtIEluZGljYXRlcyBpZiB0aGUgY3VycmVudCBzY2VuZSBzaG91bGQgYmUgcHVzaGVkIHRvIHByZXZpb3VzLXNjZW5lIHN0YWNrIGluc3RlYWRcbiAgICAqIG9mIGdldHRpbmcgZGlzcG9zZWQuIEl0IGlzIHBvc3NpYmxlIHRvIHN3aXRjaCBiYWNrIHRvIHRoYXQgc2NlbmUgdGhlbiB1c2luZyBncy5TY2VuZU1hbmFnZXIucmV0dXJuVG9QcmV2aW91cyBtZXRob2QuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBUaGUgZHVyYXRpb24gZm9yIHRoZSBzd2l0Y2guXG4gICAgIyMjXG4gICAgc3dpdGNoVG86IChzY2VuZSwgc2F2ZVByZXZpb3VzLCBkdXJhdGlvbikgLT5cbiAgICAgICAgaWYgc2F2ZVByZXZpb3VzXG4gICAgICAgICAgICBAcHJldmlvdXNTY2VuZXMucHVzaChAc2NlbmUpXG5cbiAgICAgICAgaWYgQHNjZW5lP1xuICAgICAgICAgICAgQHJlbW92ZU9iamVjdChAc2NlbmUpXG4gICAgICAgICAgICBcbiAgICAgICAgQHRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDVcbiAgICAgICAgQG5leHRTY2VuZSA9IHNjZW5lXG4gICAgICAgIEdyYXBoaWNzLmZyZWV6ZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogQ2xlYXJzIHRoZSBzdGFjayBvZiBwcmV2aW91cy1zY2VuZXMgYW5kIGRpc3Bvc2VzIGFsbCBwcmV2aW91cy1zY2VuZXMuIEFmdGVyIHRoYXQgaXQgaXMgbm90XG4gICAgKiBwb3NzaWJsZSB0byBnbyBiYWNrIHRvIGEgcHJldmlvdXMgc2NlbmUgdXNpbmcgZ3MuU2NlbmVNYW5hZ2VyLnJldHVyblRvUHJldmlvdXMoKS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgIyMjICAgIFxuICAgIGNsZWFyOiAtPlxuICAgICAgICBmb3Igc2NlbmUgaW4gQHByZXZpb3VzU2NlbmVzXG4gICAgICAgICAgc2NlbmUuZGlzcG9zZSgpXG4gICAgICAgIEBwcmV2aW91c1NjZW5lcyA9IFtdXG4gICAgIFxuICAgICMjIypcbiAgICAqIFJldHVybnMgdG8gdGhlIHByZXZpb3VzIHNjZW5lIGlmIHRoYXQgc2NlbmUgd2FzIHNhdmVkIGJlZm9yZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJldHVyblRvUHJldmlvdXNcbiAgICAjIyMgICAgXG4gICAgcmV0dXJuVG9QcmV2aW91czogLT5cbiAgICAgICAgaWYgQHByZXZpb3VzU2NlbmVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIHNjZW5lID0gQHByZXZpb3VzU2NlbmVzLnBvcCgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBzY2VuZT9cbiAgICAgICAgICAgICAgICBAcmVtb3ZlT2JqZWN0KEBzY2VuZSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIHNjZW5lP1xuICAgICAgICAgICAgICAgIEBuZXh0U2NlbmUgPSBzY2VuZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEdyYXBoaWNzLmZyZWV6ZSgpXG4gICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgc2NlbmUgYW5kIHRoZSBzY2VuZS1oYW5kbGluZy4gTmVlZHMgdG8gYmUgY2FsbGVkIG9uY2VcbiAgICAqIHBlciBmcmFtZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgaWYgQG5leHRTY2VuZSAhPSBAc2NlbmVcbiAgICAgICAgICAgIElucHV0LmNsZWFyKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQHNjZW5lP1xuICAgICAgICAgICAgICAgIGlmIEBwcmV2aW91c1NjZW5lcy5pbmRleE9mKEBzY2VuZSkgPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgQHNjZW5lLmRpc3Bvc2UoKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQHNjZW5lLmJlaGF2aW9yLnNob3cobm8pXG4gICAgICAgICAgICAgICAgICAgICNAc2NlbmUudXBkYXRlKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHNjZW5lID0gQG5leHRTY2VuZVxuICAgXG4gICAgICAgICAgICBpZiBAc2NlbmVcbiAgICAgICAgICAgICAgICBAYWRkT2JqZWN0KEBzY2VuZSlcbiAgICAgICAgICAgICAgICBAc2NlbmUubG9hZGluZyA9IHRydWVcbiAgICAgICAgICAgICAgICBAc2NlbmUubG9hZGluZ0RhdGEgPSB0cnVlXG4gICAgICAgICAgICAgICAgQHNjZW5lLmxvYWRpbmdSZXNvdXJjZXMgPSB0cnVlXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBzY2VuZT8gYW5kIG5vdCBAc2NlbmUuaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgICAgICAgICAgQHNjZW5lLmJlaGF2aW9yLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgICAgICAgICBAaXNGYWRlT3V0ID0geWVzXG4gICAgICAgICAgICAgICAgZWxzZSBpZiBAc2NlbmU/LmluaXRpYWxpemVkXG4gICAgICAgICAgICAgICAgICAgIEBzY2VuZS5iZWhhdmlvci5zaG93KHllcylcbiAgICAgICAgICAgICAgICAgICAgQHNjZW5lLnVwZGF0ZSgpXG4gICAgICAgICAgICAgICAgR3JhcGhpY3MudXBkYXRlKClcbiAgICAgICAgICAgICAgICBAc2NlbmUuYmVoYXZpb3IudHJhbnNpdGlvbigpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgR3JhcGhpY3MuZnJlZXplKClcbiAgICAgICAgICAgICAgICBHcmFwaGljcy51cGRhdGUoKVxuICAgICAgICAgICAgICAgIEdyYXBoaWNzLnRyYW5zaXRpb24oMzApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBAaXNGYWRlT3V0ID0geWVzXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQGlzRmFkZU91dCBhbmQgR3JhcGhpY3MuZnJvemVuXG4gICAgICAgICAgICBHcmFwaGljcy51cGRhdGUoKVxuICAgICAgICAgICAgSW5wdXQudXBkYXRlKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaWYgQGlzRmFkZU91dFxuICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5zdG9wQWxsU291bmRzKClcbiAgICAgICAgICAgICAgICBAaXNGYWRlT3V0ID0gbm9cbiAgICAgICAgICAgICAgICBpZiBAc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgR3JhcGhpY3MuZnJlZXplKClcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGdzLkFwcGxpY2F0aW9uLmV4aXQoKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLnVwZGF0ZSgpXG4gICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIudXBkYXRlKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgUmVjb3JkTWFuYWdlci5pbml0aWFsaXplZFxuICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci51cGRhdGUoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgR3JhcGhpY3MuZnJvemVuXG4gICAgICAgICAgICAgICAgSW5wdXQudXBkYXRlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHN1cGVyKClcbiAgICAgICAgIFxuICAgICAgICAgICAgXG5cbndpbmRvdy5TY2VuZU1hbmFnZXIgPSBuZXcgU2NlbmVNYW5hZ2VyKClcbmdzLlNjZW5lTWFuYWdlciA9IHdpbmRvdy5TY2VuZU1hbmFnZXIiXX0=
//# sourceURL=SceneManager_35.js
var LanguageManager;

LanguageManager = (function() {

  /**
  * Manages the different languages of the game.  
  *
  * @module gs
  * @class LanguageManager
  * @memberof gs
  * @constructor
   */
  function LanguageManager() {

    /**
    * The default language profile.
    * @property defaultProfile
    * @type gs.LanguageProfile
     */
    this.defaultProfile = null;

    /**
    * The current language profile.
    * @property profile
    * @type gs.LanguageProfile
     */
    this.profile = null;

    /**
    * The current strings bundle.
    * @property bundle
    * @type gs.LanguageStringsBundle
     */
    this.bundle = null;

    /**
    * The default strings bundle.
    * @property defaultBundle
    * @type gs.LanguageStringsBundle
     */
    this.defaultBundle = null;
  }


  /**
  * Initializes the language system by loading the necessary language profiles
  * and strings bundles.
  *
  * @method initialize
   */

  LanguageManager.prototype.initialize = function() {
    var document, documents, i, len;
    this.languages = [];
    DataManager.getDocumentByType("custom_strings_bundle");
    documents = DataManager.getDocumentsByType("language_profile");
    for (i = 0, len = documents.length; i < len; i++) {
      document = documents[i];
      this.languages.push({
        name: document.items.name,
        code: document.items.code,
        uid: document.uid,
        icon: document.items.icon,
        bundleUid: document.items.bundleUid
      });
      if (document.uid === "07DDA0716161F104") {
        this.language = this.languages[this.languages.length - 1];
        this.defaultLanguage = this.language;
      }
    }
    this.selectLanguage(this.language);
    if (this.language.uid !== this.defaultLanguage.uid) {
      return this.defaultProfile = DataManager.getDocument(this.defaultLanguage.uid);
    } else {
      return this.defaultProfile = this.profile;
    }
  };


  /**
  * Loads the necessary strings bundles for the current language. 
  *
  * @method loadBundles
   */

  LanguageManager.prototype.loadBundles = function() {
    var customStrings;
    customStrings = DataManager.getDocumentByType("custom_strings_bundle");
    if (this.language.uid !== this.defaultLanguage.uid) {
      this.bundle = DataManager.getDocument(this.language.bundleUid);
    }
    this.defaultBundle = {
      items: {
        localizableStrings: RecordManager.localizableStrings
      }
    };
    Object.mixin(this.defaultBundle.items.localizableStrings, customStrings.items.localizableStrings);
    return this.language.uid !== this.defaultLanguage.uid;
  };


  /**
  * Sets the specified language as current language.
  *
  * @method selectLanguage
  * @param {Object} language - The language to set.
   */

  LanguageManager.prototype.selectLanguage = function(language) {
    this.language = language;
    return this.profile = DataManager.getDocument(this.language.uid);
  };


  /**
  * Gets the string for the specified id. If the string doesn't exist for current
  * language, its taken from the default language.
  *
  * @method string
  * @param {String} id - The ID of the string to get.
  * @return {String} The string for the specified ID. If the string could not be found the result
  * is an empty string.
   */

  LanguageManager.prototype.string = function(id) {
    var result;
    result = null;
    if ((this.bundle != null) && (this.bundle.items != null)) {
      result = this.bundle.items.localizableStrings[id];
      if ((result != null ? result.t : void 0) != null) {
        result = result.t;
      }
    }
    if ((result == null) || result.length === 0) {
      result = this.stringFromDefault(id);
    }
    return result;
  };


  /**
  * Gets the string for the specified id in default language.
  *
  * @method stringFromDefault
  * @param {String} id - The ID of the string to get.
  * @return {String} The string for the specified ID. If the string could not be found the result
  * is an empty string.
   */

  LanguageManager.prototype.stringFromDefault = function(id) {
    var ref, result;
    result = null;
    if ((this.defaultBundle != null) && (this.defaultBundle.items != null)) {
      result = (ref = this.defaultBundle.items.localizableStrings[id]) != null ? ref.t : void 0;
    }
    return result;
  };

  return LanguageManager;

})();

window.LanguageManager = new LanguageManager();

gs.LanguageManager = LanguageManager;

window.lcsi = function(id) {
  if (id != null) {
    return window.LanguageManager.string(id) || "";
  } else {
    return "";
  }
};

window.lcs = function(value) {
  var ref;
  if ((value != null) && (value.lcId != null)) {
    return window.LanguageManager.string(value.lcId) || (value != null ? (ref = value.defaultText) != null ? ref.t : void 0 : void 0) || (value != null ? value.defaultText : void 0);
  } else {
    return value;
  }
};

window.lcsm = function(value) {
  return lcs(value);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7O0VBUWEseUJBQUE7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLGNBQUQsR0FBa0I7O0FBRWxCOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsYUFBRCxHQUFpQjtFQTNCUjs7O0FBNkJiOzs7Ozs7OzRCQU1BLFVBQUEsR0FBWSxTQUFBO0FBQ1IsUUFBQTtJQUFBLElBQUMsQ0FBQSxTQUFELEdBQWE7SUFDYixXQUFXLENBQUMsaUJBQVosQ0FBOEIsdUJBQTlCO0lBQ0EsU0FBQSxHQUFZLFdBQVcsQ0FBQyxrQkFBWixDQUErQixrQkFBL0I7QUFDWixTQUFBLDJDQUFBOztNQUNJLElBQUMsQ0FBQSxTQUFTLENBQUMsSUFBWCxDQUFnQjtRQUFFLElBQUEsRUFBTSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQXZCO1FBQTZCLElBQUEsRUFBTSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQWxEO1FBQXdELEdBQUEsRUFBSyxRQUFRLENBQUMsR0FBdEU7UUFBMkUsSUFBQSxFQUFNLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBaEc7UUFBc0csU0FBQSxFQUFXLFFBQVEsQ0FBQyxLQUFLLENBQUMsU0FBaEk7T0FBaEI7TUFDQSxJQUFHLFFBQVEsQ0FBQyxHQUFULEtBQWdCLGtCQUFuQjtRQUNJLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLFNBQVUsQ0FBQSxJQUFDLENBQUEsU0FBUyxDQUFDLE1BQVgsR0FBa0IsQ0FBbEI7UUFDdkIsSUFBQyxDQUFBLGVBQUQsR0FBbUIsSUFBQyxDQUFBLFNBRnhCOztBQUZKO0lBTUEsSUFBQyxDQUFBLGNBQUQsQ0FBZ0IsSUFBQyxDQUFBLFFBQWpCO0lBQ0EsSUFBRyxJQUFDLENB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PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IExhbmd1YWdlTWFuYWdlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgTGFuZ3VhZ2VNYW5hZ2VyXG4gICAgIyMjKlxuICAgICogTWFuYWdlcyB0aGUgZGlmZmVyZW50IGxhbmd1YWdlcyBvZiB0aGUgZ2FtZS4gIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBMYW5ndWFnZU1hbmFnZXJcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZGVmYXVsdCBsYW5ndWFnZSBwcm9maWxlLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkZWZhdWx0UHJvZmlsZVxuICAgICAgICAqIEB0eXBlIGdzLkxhbmd1YWdlUHJvZmlsZVxuICAgICAgICAjIyMgXG4gICAgICAgIEBkZWZhdWx0UHJvZmlsZSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3VycmVudCBsYW5ndWFnZSBwcm9maWxlLlxuICAgICAgICAqIEBwcm9wZXJ0eSBwcm9maWxlXG4gICAgICAgICogQHR5cGUgZ3MuTGFuZ3VhZ2VQcm9maWxlXG4gICAgICAgICMjIyBcbiAgICAgICAgQHByb2ZpbGUgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGN1cnJlbnQgc3RyaW5ncyBidW5kbGUuXG4gICAgICAgICogQHByb3BlcnR5IGJ1bmRsZVxuICAgICAgICAqIEB0eXBlIGdzLkxhbmd1YWdlU3RyaW5nc0J1bmRsZVxuICAgICAgICAjIyMgXG4gICAgICAgIEBidW5kbGUgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGRlZmF1bHQgc3RyaW5ncyBidW5kbGUuXG4gICAgICAgICogQHByb3BlcnR5IGRlZmF1bHRCdW5kbGVcbiAgICAgICAgKiBAdHlwZSBncy5MYW5ndWFnZVN0cmluZ3NCdW5kbGVcbiAgICAgICAgIyMjIFxuICAgICAgICBAZGVmYXVsdEJ1bmRsZSA9IG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGxhbmd1YWdlIHN5c3RlbSBieSBsb2FkaW5nIHRoZSBuZWNlc3NhcnkgbGFuZ3VhZ2UgcHJvZmlsZXNcbiAgICAqIGFuZCBzdHJpbmdzIGJ1bmRsZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBpbml0aWFsaXplXG4gICAgIyMjXG4gICAgaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgQGxhbmd1YWdlcyA9IFtdXG4gICAgICAgIERhdGFNYW5hZ2VyLmdldERvY3VtZW50QnlUeXBlKFwiY3VzdG9tX3N0cmluZ3NfYnVuZGxlXCIpXG4gICAgICAgIGRvY3VtZW50cyA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50c0J5VHlwZShcImxhbmd1YWdlX3Byb2ZpbGVcIilcbiAgICAgICAgZm9yIGRvY3VtZW50IGluIGRvY3VtZW50c1xuICAgICAgICAgICAgQGxhbmd1YWdlcy5wdXNoKHsgbmFtZTogZG9jdW1lbnQuaXRlbXMubmFtZSwgY29kZTogZG9jdW1lbnQuaXRlbXMuY29kZSwgdWlkOiBkb2N1bWVudC51aWQsIGljb246IGRvY3VtZW50Lml0ZW1zLmljb24sIGJ1bmRsZVVpZDogZG9jdW1lbnQuaXRlbXMuYnVuZGxlVWlkIH0pXG4gICAgICAgICAgICBpZiBkb2N1bWVudC51aWQgPT0gXCIwN0REQTA3MTYxNjFGMTA0XCIgIyBEZWZhdWx0IFByb2ZpbGVcbiAgICAgICAgICAgICAgICBAbGFuZ3VhZ2UgPSBAbGFuZ3VhZ2VzW0BsYW5ndWFnZXMubGVuZ3RoLTFdXG4gICAgICAgICAgICAgICAgQGRlZmF1bHRMYW5ndWFnZSA9IEBsYW5ndWFnZVxuICAgICAgICAgICBcbiAgICAgICAgQHNlbGVjdExhbmd1YWdlKEBsYW5ndWFnZSkgICAgIFxuICAgICAgICBpZiBAbGFuZ3VhZ2UudWlkICE9IEBkZWZhdWx0TGFuZ3VhZ2UudWlkXG4gICAgICAgICAgICBAZGVmYXVsdFByb2ZpbGUgPSBEYXRhTWFuYWdlci5nZXREb2N1bWVudChAZGVmYXVsdExhbmd1YWdlLnVpZClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGRlZmF1bHRQcm9maWxlID0gQHByb2ZpbGVcbiAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyB0aGUgbmVjZXNzYXJ5IHN0cmluZ3MgYnVuZGxlcyBmb3IgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UuIFxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZEJ1bmRsZXNcbiAgICAjIyMgICAgICAgIFxuICAgIGxvYWRCdW5kbGVzOiAtPlxuICAgICAgICBjdXN0b21TdHJpbmdzID0gRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnRCeVR5cGUoXCJjdXN0b21fc3RyaW5nc19idW5kbGVcIilcbiAgICAgICAgaWYgQGxhbmd1YWdlLnVpZCAhPSBAZGVmYXVsdExhbmd1YWdlLnVpZFxuICAgICAgICAgICAgQGJ1bmRsZSA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50KEBsYW5ndWFnZS5idW5kbGVVaWQpXG4gICAgICBcbiAgICAgICAgQGRlZmF1bHRCdW5kbGUgPSB7IGl0ZW1zOiB7IGxvY2FsaXphYmxlU3RyaW5nczogUmVjb3JkTWFuYWdlci5sb2NhbGl6YWJsZVN0cmluZ3MgfSB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIE9iamVjdC5taXhpbihAZGVmYXVsdEJ1bmRsZS5pdGVtcy5sb2NhbGl6YWJsZVN0cmluZ3MsIGN1c3RvbVN0cmluZ3MuaXRlbXMubG9jYWxpemFibGVTdHJpbmdzKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIEBsYW5ndWFnZS51aWQgIT0gQGRlZmF1bHRMYW5ndWFnZS51aWRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2UgYXMgY3VycmVudCBsYW5ndWFnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNlbGVjdExhbmd1YWdlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gbGFuZ3VhZ2UgLSBUaGUgbGFuZ3VhZ2UgdG8gc2V0LlxuICAgICMjIyAgICAgIFxuICAgIHNlbGVjdExhbmd1YWdlOiAobGFuZ3VhZ2UpIC0+XG4gICAgICAgIEBsYW5ndWFnZSA9IGxhbmd1YWdlXG4gICAgICAgIEBwcm9maWxlID0gRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnQoQGxhbmd1YWdlLnVpZClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgc3RyaW5nIGZvciB0aGUgc3BlY2lmaWVkIGlkLiBJZiB0aGUgc3RyaW5nIGRvZXNuJ3QgZXhpc3QgZm9yIGN1cnJlbnRcbiAgICAqIGxhbmd1YWdlLCBpdHMgdGFrZW4gZnJvbSB0aGUgZGVmYXVsdCBsYW5ndWFnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0cmluZ1xuICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gVGhlIElEIG9mIHRoZSBzdHJpbmcgdG8gZ2V0LlxuICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgc3RyaW5nIGZvciB0aGUgc3BlY2lmaWVkIElELiBJZiB0aGUgc3RyaW5nIGNvdWxkIG5vdCBiZSBmb3VuZCB0aGUgcmVzdWx0XG4gICAgKiBpcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgIyMjICAgICBcbiAgICBzdHJpbmc6IChpZCkgLT4gXG4gICAgICAgIHJlc3VsdCA9IG51bGxcblxuICAgICAgICBpZiBAYnVuZGxlPyBhbmQgQGJ1bmRsZS5pdGVtcz9cbiAgICAgICAgICAgIHJlc3VsdCA9IEBidW5kbGUuaXRlbXMubG9jYWxpemFibGVTdHJpbmdzW2lkXVxuICAgICAgICAgICAgaWYgcmVzdWx0Py50P1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC50XG5cbiAgICAgICAgaWYgbm90IHJlc3VsdD8gb3IgcmVzdWx0Lmxlbmd0aCA9PSAwXG4gICAgICAgICAgICByZXN1bHQgPSBAc3RyaW5nRnJvbURlZmF1bHQoaWQpXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgdGhlIHN0cmluZyBmb3IgdGhlIHNwZWNpZmllZCBpZCBpbiBkZWZhdWx0IGxhbmd1YWdlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RyaW5nRnJvbURlZmF1bHRcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBJRCBvZiB0aGUgc3RyaW5nIHRvIGdldC5cbiAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHN0cmluZyBmb3IgdGhlIHNwZWNpZmllZCBJRC4gSWYgdGhlIHN0cmluZyBjb3VsZCBub3QgYmUgZm91bmQgdGhlIHJlc3VsdFxuICAgICogaXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICMjIyAgICAgIFxuICAgIHN0cmluZ0Zyb21EZWZhdWx0OiAoaWQpIC0+XG4gICAgICAgIHJlc3VsdCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmIEBkZWZhdWx0QnVuZGxlPyBhbmQgQGRlZmF1bHRCdW5kbGUuaXRlbXM/XG4gICAgICAgICAgICByZXN1bHQgPSBAZGVmYXVsdEJ1bmRsZS5pdGVtcy5sb2NhbGl6YWJsZVN0cmluZ3NbaWRdPy50XG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuIFxud2luZG93Lkxhbmd1YWdlTWFuYWdlciA9IG5ldyBMYW5ndWFnZU1hbmFnZXIoKVxuZ3MuTGFuZ3VhZ2VNYW5hZ2VyID0gTGFuZ3VhZ2VNYW5hZ2VyXG5cbndpbmRvdy5sY3NpID0gKGlkKSAtPiBpZiBpZD8gdGhlbiB3aW5kb3cuTGFuZ3VhZ2VNYW5hZ2VyLnN0cmluZyhpZCkgfHwgXCJcIiBlbHNlIFwiXCJcbndpbmRvdy5sY3MgPSAodmFsdWUpIC0+IHJldHVybiBpZiAodmFsdWU/IGFuZCB2YWx1ZS5sY0lkPykgdGhlbiB3aW5kb3cuTGFuZ3VhZ2VNYW5hZ2VyLnN0cmluZyh2YWx1ZS5sY0lkKSB8fCB2YWx1ZT8uZGVmYXVsdFRleHQ/LnQgfHwgdmFsdWU/LmRlZmF1bHRUZXh0IGVsc2UgdmFsdWVcbndpbmRvdy5sY3NtID0gKHZhbHVlKSAtPiByZXR1cm4gbGNzKHZhbHVlKSAjcmV0dXJuIGlmIHZhbHVlLmxjSWQ/IHRoZW4gd2luZG93Lkxhbmd1YWdlTWFuYWdlci5zdHJpbmdGcm9tQnVuZGxlKHZhbHVlLmxjSWQsIHdpbmRvdy5MYW5ndWFnZU1hbmFnZXIubWFwQnVuZGxlKSB8fCB2YWx1ZS5kZWZhdWx0VGV4dCBlbHNlIHZhbHVlXG4iXX0=
//# sourceURL=LanguageManager_48.js
var ResourceManager;

ResourceManager = (function() {

  /**
  * Manages the resources of the game like graphics, audio, fonts, etc. It
  * offers a lot of methods to easily access game resources and automatically
  * caches them. So if an image is requested a second time it will be taken
  * from the cache instead of loading it again.
  *
  * @module gs
  * @class ResourceManager
  * @memberof gs
  * @constructor
   */
  function ResourceManager() {

    /**
    * Holds in-memory created bitmaps.
    * @property customBitmapsByKey
    * @type Object
    * @protected
     */
    this.customBitmapsByKey = {};

    /**
    * Caches resources by file path.
    * @property resourcesByPath
    * @type Object
    * @protected
     */
    this.resourcesByPath = {};

    /**
    * Caches resources by file path and HUE.
    * @property resourcesByPath
    * @type Object
    * @protected
     */
    this.resourcesByPathHue = {};

    /**
    * Stores all loaded resources.
    * @property resources
    * @type Object[]
     */
    this.resources = [];

    /**
    * Indicates if all requested resources are loaded.
    * @property resourcesLoaded
    * @type boolean
     */
    this.resourcesLoaded = true;

    /**
    * @property events
    * @type gs.EventEmitter
     */
    this.events = new gs.EventEmitter();
  }


  /**
  * Disposes all bitmap resources.
  *
  * @method disposeBitmaps
   */

  ResourceManager.prototype.disposeBitmaps = function() {
    var j, len, ref, resource, results;
    ref = this.resources;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      resource = ref[j];
      if (resource instanceof gs.Bitmap) {
        results.push(resource.dispose());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  ResourceManager.prototype.disposeVideos = function() {
    var j, len, ref, resource, results;
    ref = this.resources;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      resource = ref[j];
      if (resource instanceof gs.Video) {
        results.push(resource.dispose());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Disposes all resources.
  *
  * @method dispose
   */

  ResourceManager.prototype.dispose = function() {
    return this.disposeBitmaps();
  };


  /**
  * Loads all custom fonts in Graphics/Fonts folder.
  *
  * @method loadFonts
   */

  ResourceManager.prototype.loadFonts = function() {
    var families, parts, path, resource, resources, url;
    resource = {
      loaded: false
    };
    this.resources.push(resource);
    this.resourcesByPath["Graphics/Fonts"] = resource;
    url = "";
    families = [];
    if ($PARAMS.test != null) {
      url = '/invoke?controller=gs.ResourceController&method=loadFontsStylesheet';
      families = $PARAMS.fontFamilies;
    } else {
      url = 'resources/fonts.css';
      resources = GS.dataCache["RESOURCES"].items.resources;
      for (path in resources) {
        if (path.startsWith("Graphics/Fonts/")) {
          parts = path.split("/");
          if (resources[path] === ".woff") {
            families.push(parts[parts.length - 1]);
          } else if (resources[path] === ".fnt") {
            new Font(path.split("/").last(), 1);
          }
        }
      }
    }
    if (families.length > 0) {
      return WebFont.load({
        custom: {
          families: families,
          urls: [url]
        },
        active: (function(_this) {
          return function() {
            return _this.resourcesByPath["Graphics/Fonts"].loaded = true;
          };
        })(this),
        inactive: (function(_this) {
          return function() {
            _this.resourcesByPath["Graphics/Fonts"].loaded = true;
            return _this.resourcesByPath["Graphics/Fonts"].error = true;
          };
        })(this)
      });
    } else {
      return this.resourcesByPath["Graphics/Fonts"].loaded = true;
    }
  };


  /**
  * Gets a custom created bitmap by key.
  *
  * @method getCustomBitmap
  * @param {String} key - The key for the bitmap to get.
  * @return {gs.Bitmap} The bitmap or <b>null</b> if no bitmap exists for the specified key.
   */

  ResourceManager.prototype.getCustomBitmap = function(key) {
    return this.customBitmapsByKey[key];
  };


  /**
  * Sets a custom created bitmap for a specified key.
  *
  * @method setCustomBitmap
  * @param {String} key - The key for the bitmap to set.
  * @param {gs.Bitmap} bitmap - The bitmap to set.
   */

  ResourceManager.prototype.setCustomBitmap = function(key, bitmap) {
    this.customBitmapsByKey[key] = bitmap;
    if (bitmap.loaded == null) {
      this.resources.push(bitmap);
      return this.resourcesLoaded = false;
    }
  };


  /**
  * Gets a Live2D model.
  *
  * @method getLive2DModel
  * @param {String} filePath - Path to the Live2D model file.
  * @return {gs.Live2DModel} The Live2D model or <b>null</b> if no model exists at the specified file path.
   */

  ResourceManager.prototype.getLive2DModel = function(filePath) {
    var profile, result;
    result = this.resourcesByPath[filePath];
    if ((result == null) || result.disposed) {
      profile = LanguageManager.profile;
      result = new gs.Live2DModel(filePath, ((profile != null) && (profile.items != null) ? profile.items.code : null));
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    }
    return result;
  };


  /**
  * Gets a font.
  *
  * @method getFont
  * @param {String} name - The name of the font to get.
  * @param {number} size - The size of the font to get.
  * @return {gs.Font} The font or <b>null</b> if no font with the specified name exists.
   */

  ResourceManager.prototype.getFont = function(name, size) {
    var result;
    result = new Font(name, size);
    this.resources.push(result);
    this.resourcesLoaded = false;
    return result;
  };


  /**
  * Gets a video.
  *
  * @method getVideo
  * @param {String} filePath - Path to the video file.
  * @return {gs.Video} The video or <b>null</b> if no video exists at the specified file path.
   */

  ResourceManager.prototype.getVideo = function(filePath) {
    var profile, result;
    if (filePath.endsWith("/")) {
      return null;
    }
    result = this.resourcesByPath[filePath];
    if ((result == null) || result.disposed) {
      profile = LanguageManager.profile;
      result = new gs.Video(filePath, ((profile != null) && (profile.items != null) ? profile.items.code : null));
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    }
    return result;
  };


  /**
  * Gets a bitmap.
  *
  * @method getBitmap
  * @param {String} filePath - Path to the bitmap file.
  * @param {number} hue - The bitmap's hue. The bitmap will be loaded and then recolored.
  * @return {gs.Bitmap} The bitmap or <b>null</b> if no bitmap exists at the specified file path.
   */

  ResourceManager.prototype.getBitmap = function(filePath, hue) {
    var hueBitmap, profile, result;
    if (filePath.endsWith("/")) {
      return null;
    }
    hue = hue || 0;
    result = this.resourcesByPath[filePath] || this.customBitmapsByKey[filePath];
    if (result == null) {
      profile = LanguageManager.profile;
      result = new Bitmap(filePath, ((profile != null) && (profile.items != null) ? profile.items.code : null), false);
      result.hue = hue;
      result.filePath = filePath;
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    } else if (!result.loaded && result.hue !== hue) {
      profile = LanguageManager.profile;
      result = new Bitmap(filePath, ((profile != null) && (profile.items != null) ? profile.items.code : null));
      result.hue = hue;
      result.filePath = filePath;
      this.resources.push(result);
      this.resourcesLoaded = false;
    } else if (hue > 0) {
      hueBitmap = this.resourcesByPathHue[filePath + "@" + hue];
      if ((hueBitmap == null) && result.loaded) {
        hueBitmap = new Bitmap(result.image);
        hueBitmap.changeHue(hue);
        this.resourcesByPathHue[filePath + "@" + hue] = hueBitmap;
      }
      if (hueBitmap != null) {
        result = hueBitmap;
      }
    }
    return result;
  };


  /**
  * Gets an HTML image.
  *
  * @method getImage
  * @param {String} filePath - Path to the image file.
  * @return {HTMLImageElement} The image or <b>null</b> if no image exists at the specified file path.
   */

  ResourceManager.prototype.getImage = function(filePath) {
    var result;
    result = this.resourcesByPath[filePath];
    if (result == null) {
      if ((typeof $PARAMS !== "undefined" && $PARAMS !== null) && ($PARAMS.test != null)) {
        result = new Bitmap('/invoke?controller=gs.ResourceController&method=loadGraphicResource&' + $.param({
          data: {
            resource: {
              path: filePath
            },
            supportedFormats: ["png", "jpg"]
          }
        }));
      } else {
        result = new Bitmap("resources/" + filePath + ".png");
      }
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    }
    return result;
  };

  ResourceManager.prototype.getAudioStream = function(filePath) {
    var languageCode, profile, result;
    result = this.resourcesByPath[filePath];
    profile = LanguageManager.profile;
    languageCode = (profile != null) && (profile.items != null) ? profile.items.code : null;
    if (result == null) {
      result = new GS.AudioBufferStream(filePath);
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    }
    return result;
  };


  /**
  * Gets an audio buffer.
  *
  * @method getAudioBuffer
  * @param {String} filePath - Path to the audio file.
  * @return {gs.AudioBuffer} The audio buffer or <b>null</b> if no audio file exists at the specified file path.
   */

  ResourceManager.prototype.getAudioBuffer = function(filePath) {
    var languageCode, profile, result;
    result = this.resourcesByPath[filePath];
    profile = LanguageManager.profile;
    languageCode = (profile != null) && (profile.items != null) ? profile.items.code : null;
    if (result == null) {
      if ((typeof $PARAMS !== "undefined" && $PARAMS !== null) && ($PARAMS.test != null)) {
        result = new GS.AudioBuffer('/invoke?controller=gs.ResourceController&method=loadAudioResource&' + $.param({
          data: {
            resource: {
              path: filePath
            },
            supportedFormats: ["aac", "mp3", "ogg", "wav"],
            languageCode: languageCode
          }
        }));
      } else {
        result = new GS.AudioBuffer(filePath);
      }
      this.resourcesByPath[filePath] = result;
      this.resources.push(result);
      this.resourcesLoaded = false;
    }
    return result;
  };


  /**
  * Updates the loading process. Needs to be called once per frame to keep 
  * the ResourceManager up to date.
  *
  * @method update
   */

  ResourceManager.prototype.update = function() {
    var bitmap, i, j, ref;
    if (this.events == null) {
      this.events = new gs.EventEmitter();
    }
    if (!this.resourcesLoaded) {
      this.resourcesLoaded = true;
      for (i = j = 0, ref = this.resources.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        if (!this.resources[i].loaded) {
          this.resourcesLoaded = false;
          break;
        } else if ((this.resources[i].hue != null) && this.resources[i].hue > 0) {
          bitmap = new Bitmap(this.resources[i].image);
          this.resourcesByPath[this.resources[i].filePath] = bitmap;
          this.resources[i].changeHue(this.resources[i].hue);
          this.resourcesByPathHue[this.resources[i].filePath + "@" + this.resources[i].hue] = this.resources[i];
          delete this.resources[i].filePath;
          delete this.resources[i].hue;
        }
      }
      if (this.resourcesLoaded) {
        this.events.emit("loaded", this);
      }
    }
    return null;
  };

  return ResourceManager;

})();

window.ResourceManager = ResourceManager;

gs.ResourceManager = ResourceManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7O0VBV2EseUJBQUE7O0FBQ1Q7Ozs7OztJQU1BLElBQUMsQ0FBQSxrQkFBRCxHQUFzQjs7QUFFdEI7Ozs7OztJQU1BLElBQUMsQ0FBQSxlQUFELEdBQW1COztBQUVuQjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGtCQUFELEdBQXNCOztBQUV0Qjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxlQUFELEdBQW1COztBQUVuQjs7OztJQUlBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFBO0VBM0NMOzs7QUE2Q2I7Ozs7Ozs0QkFLQSxjQUFBLEdBQWdCLFNBQUE7QUFDWixRQUFBO0FBQUE7QUFBQTtTQUFBLHFDQUFBOztNQUNJLElBQUcsUUFBQSxZQUFvQixFQUFFLENBQUMsTUFBMUI7cUJBQ0ksUUFBUSxDQUFDLE9BQVQsQ0FBQSxHQURKO09BQUEsTUFBQTs2QkFBQTs7QUFESjs7RUFEWTs7NEJBS2hCLGFBQUEsR0FBZSxTQUFBO0FBQ1gsUUFBQTtBQUFBO0FBQUE7U0FBQSxxQ0FBQTs7TUFDSSxJQUFHLFFBQUEsWUFBb0IsRUFBRSxDQUFDLEtBQTFCO3FCQUNJLFFBQVEsQ0FBQyxPQUFULENBQUEsR0FESjtPQUFBLE1BQUE7NkJBQUE7O0FBREo7O0VBRFc7OztBQU1mOzs7Ozs7NEJBS0EsT0FBQSxHQUFTLFNBQUE7V0FDTCxJQUFDLENBQUEsY0FBRCxDQUFBO0VBREs7OztBQU1UOzs7Ozs7NEJBS0EsU0FBQSxHQUFXLFNBQUE7QUFDUCxRQUFBO0lBQUEsUUFBQSxHQUFXO01BQUUsTUFBQSxFQUFRLEtBQVY7O0lBQ1gsSUFBQyxDQUFBLFNBQVMsQ0FBQyxJQUFYLENBQWdCLFFBQWhCO0lBQ0EsSUFBQyxDQUFBLGVBQWdCLENBQUEsZ0JB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QUFILEdBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBSZXNvdXJjZU1hbmFnZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIFJlc291cmNlTWFuYWdlclxuICAgICMjIypcbiAgICAqIE1hbmFnZXMgdGhlIHJlc291cmNlcyBvZiB0aGUgZ2FtZSBsaWtlIGdyYXBoaWNzLCBhdWRpbywgZm9udHMsIGV0Yy4gSXRcbiAgICAqIG9mZmVycyBhIGxvdCBvZiBtZXRob2RzIHRvIGVhc2lseSBhY2Nlc3MgZ2FtZSByZXNvdXJjZXMgYW5kIGF1dG9tYXRpY2FsbHlcbiAgICAqIGNhY2hlcyB0aGVtLiBTbyBpZiBhbiBpbWFnZSBpcyByZXF1ZXN0ZWQgYSBzZWNvbmQgdGltZSBpdCB3aWxsIGJlIHRha2VuXG4gICAgKiBmcm9tIHRoZSBjYWNoZSBpbnN0ZWFkIG9mIGxvYWRpbmcgaXQgYWdhaW4uXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIFJlc291cmNlTWFuYWdlclxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEhvbGRzIGluLW1lbW9yeSBjcmVhdGVkIGJpdG1hcHMuXG4gICAgICAgICogQHByb3BlcnR5IGN1c3RvbUJpdG1hcHNCeUtleVxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjdXN0b21CaXRtYXBzQnlLZXkgPSB7fVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENhY2hlcyByZXNvdXJjZXMgYnkgZmlsZSBwYXRoLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXNvdXJjZXNCeVBhdGhcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAcmVzb3VyY2VzQnlQYXRoID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDYWNoZXMgcmVzb3VyY2VzIGJ5IGZpbGUgcGF0aCBhbmQgSFVFLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXNvdXJjZXNCeVBhdGhcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAcmVzb3VyY2VzQnlQYXRoSHVlID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgYWxsIGxvYWRlZCByZXNvdXJjZXMuXG4gICAgICAgICogQHByb3BlcnR5IHJlc291cmNlc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdXG4gICAgICAgICMjI1xuICAgICAgICBAcmVzb3VyY2VzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgYWxsIHJlcXVlc3RlZCByZXNvdXJjZXMgYXJlIGxvYWRlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgcmVzb3VyY2VzTG9hZGVkXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IHRydWVcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRzXG4gICAgICAgICogQHR5cGUgZ3MuRXZlbnRFbWl0dGVyXG4gICAgICAgICMjI1xuICAgICAgICBAZXZlbnRzID0gbmV3IGdzLkV2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIGFsbCBiaXRtYXAgcmVzb3VyY2VzLlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZUJpdG1hcHNcbiAgICAjIyNcbiAgICBkaXNwb3NlQml0bWFwczogLT5cbiAgICAgICAgZm9yIHJlc291cmNlIGluIEByZXNvdXJjZXNcbiAgICAgICAgICAgIGlmIHJlc291cmNlIGluc3RhbmNlb2YgZ3MuQml0bWFwXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGlzcG9zZSgpXG4gICAgXG4gICAgZGlzcG9zZVZpZGVvczogLT4gICAgICAgICAgICBcbiAgICAgICAgZm9yIHJlc291cmNlIGluIEByZXNvdXJjZXNcbiAgICAgICAgICAgIGlmIHJlc291cmNlIGluc3RhbmNlb2YgZ3MuVmlkZW9cbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kaXNwb3NlKClcbiAgICAgICAgICAgICAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyBhbGwgcmVzb3VyY2VzLlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjIyAgICAgICAgXG4gICAgZGlzcG9zZTogLT4gXG4gICAgICAgIEBkaXNwb3NlQml0bWFwcygpXG4gICAgICAgIFxuICAgICAgICMgQHJlc291cmNlcyA9IFtdXG4gICAgICAgICNAcmVzb3VyY2VzQnlQYXRoID0ge31cbiAgICAgXG4gICAgIyMjKlxuICAgICogTG9hZHMgYWxsIGN1c3RvbSBmb250cyBpbiBHcmFwaGljcy9Gb250cyBmb2xkZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkRm9udHNcbiAgICAjIyMgICAgICAgXG4gICAgbG9hZEZvbnRzOiAtPlxuICAgICAgICByZXNvdXJjZSA9IHsgbG9hZGVkOiBubyB9XG4gICAgICAgIEByZXNvdXJjZXMucHVzaChyZXNvdXJjZSlcbiAgICAgICAgQHJlc291cmNlc0J5UGF0aFtcIkdyYXBoaWNzL0ZvbnRzXCJdID0gcmVzb3VyY2VcbiAgICAgICAgXG4gICAgICAgIHVybCA9IFwiXCJcbiAgICAgICAgZmFtaWxpZXMgPSBbXVxuICAgICAgICBcbiAgICAgICAgaWYgJFBBUkFNUy50ZXN0P1xuICAgICAgICAgICAgdXJsID0gJy9pbnZva2U/Y29udHJvbGxlcj1ncy5SZXNvdXJjZUNvbnRyb2xsZXImbWV0aG9kPWxvYWRGb250c1N0eWxlc2hlZXQnXG4gICAgICAgICAgICBmYW1pbGllcyA9ICRQQVJBTVMuZm9udEZhbWlsaWVzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHVybCA9ICdyZXNvdXJjZXMvZm9udHMuY3NzJ1xuICAgICAgICAgICAgcmVzb3VyY2VzID0gR1MuZGF0YUNhY2hlW1wiUkVTT1VSQ0VTXCJdLml0ZW1zLnJlc291cmNlc1xuICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciBwYXRoIG9mIHJlc291cmNlc1xuICAgICAgICAgICAgICAgIGlmIHBhdGguc3RhcnRzV2l0aChcIkdyYXBoaWNzL0ZvbnRzL1wiKVxuICAgICAgICAgICAgICAgICAgICBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIHJlc291cmNlc1twYXRoXSA9PSBcIi53b2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWVzLnB1c2gocGFydHNbcGFydHMubGVuZ3RoLTFdKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIHJlc291cmNlc1twYXRoXSA9PSBcIi5mbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZvbnQocGF0aC5zcGxpdChcIi9cIikubGFzdCgpLCAxKVxuICAgICAgICAgICBcbiAgICAgICAgaWYgZmFtaWxpZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgV2ViRm9udC5sb2FkKHtcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogW3VybF0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgQHJlc291cmNlc0J5UGF0aFtcIkdyYXBoaWNzL0ZvbnRzXCJdLmxvYWRlZCA9IHllc1xuICAgICAgICAgICAgICAgICAgICBpbmFjdGl2ZTogPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbXCJHcmFwaGljcy9Gb250c1wiXS5sb2FkZWQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbXCJHcmFwaGljcy9Gb250c1wiXS5lcnJvciA9IHllc1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbXCJHcmFwaGljcy9Gb250c1wiXS5sb2FkZWQgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIGEgY3VzdG9tIGNyZWF0ZWQgYml0bWFwIGJ5IGtleS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGdldEN1c3RvbUJpdG1hcFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSAtIFRoZSBrZXkgZm9yIHRoZSBiaXRtYXAgdG8gZ2V0LlxuICAgICogQHJldHVybiB7Z3MuQml0bWFwfSBUaGUgYml0bWFwIG9yIDxiPm51bGw8L2I+IGlmIG5vIGJpdG1hcCBleGlzdHMgZm9yIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICMjIyAgICAgXG4gICAgZ2V0Q3VzdG9tQml0bWFwOiAoa2V5KSAtPlxuICAgICAgICByZXR1cm4gQGN1c3RvbUJpdG1hcHNCeUtleVtrZXldXG4gICAgXG4gICAgIyMjKlxuICAgICogU2V0cyBhIGN1c3RvbSBjcmVhdGVkIGJpdG1hcCBmb3IgYSBzcGVjaWZpZWQga2V5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0Q3VzdG9tQml0bWFwXG4gICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IC0gVGhlIGtleSBmb3IgdGhlIGJpdG1hcCB0byBzZXQuXG4gICAgKiBAcGFyYW0ge2dzLkJpdG1hcH0gYml0bWFwIC0gVGhlIGJpdG1hcCB0byBzZXQuXG4gICAgIyMjIFxuICAgIHNldEN1c3RvbUJpdG1hcDogKGtleSwgYml0bWFwKSAtPlxuICAgICAgICBAY3VzdG9tQml0bWFwc0J5S2V5W2tleV0gPSBiaXRtYXBcbiAgICAgICAgaWYgbm90IGJpdG1hcC5sb2FkZWQ/XG4gICAgICAgICAgICBAcmVzb3VyY2VzLnB1c2goYml0bWFwKVxuICAgICAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG5cbiAgICAjIyMqXG4gICAgKiBHZXRzIGEgTGl2ZTJEIG1vZGVsLlxuICAgICpcbiAgICAqIEBtZXRob2QgZ2V0TGl2ZTJETW9kZWxcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlUGF0aCAtIFBhdGggdG8gdGhlIExpdmUyRCBtb2RlbCBmaWxlLlxuICAgICogQHJldHVybiB7Z3MuTGl2ZTJETW9kZWx9IFRoZSBMaXZlMkQgbW9kZWwgb3IgPGI+bnVsbDwvYj4gaWYgbm8gbW9kZWwgZXhpc3RzIGF0IHRoZSBzcGVjaWZpZWQgZmlsZSBwYXRoLlxuICAgICMjIyAgXG4gICAgZ2V0TGl2ZTJETW9kZWw6IChmaWxlUGF0aCkgLT5cbiAgICAgICAgcmVzdWx0ID0gQHJlc291cmNlc0J5UGF0aFtmaWxlUGF0aF1cbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCByZXN1bHQ/IG9yIHJlc3VsdC5kaXNwb3NlZFxuICAgICAgICAgICAgcHJvZmlsZSA9IExhbmd1YWdlTWFuYWdlci5wcm9maWxlXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgZ3MuTGl2ZTJETW9kZWwoZmlsZVBhdGgsIChpZiBwcm9maWxlPyBhbmQgcHJvZmlsZS5pdGVtcz8gdGhlbiBwcm9maWxlLml0ZW1zLmNvZGUgZWxzZSBudWxsKSlcbiAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbZmlsZVBhdGhdID0gcmVzdWx0XG4gICAgICAgICAgICBAcmVzb3VyY2VzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIGEgZm9udC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGdldEZvbnRcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZvbnQgdG8gZ2V0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBnZXQuXG4gICAgKiBAcmV0dXJuIHtncy5Gb250fSBUaGUgZm9udCBvciA8Yj5udWxsPC9iPiBpZiBubyBmb250IHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGV4aXN0cy5cbiAgICAjIyMgIFxuICAgIGdldEZvbnQ6IChuYW1lLCBzaXplKSAtPlxuICAgICAgICByZXN1bHQgPSBuZXcgRm9udChuYW1lLCBzaXplKVxuICAgICAgICBcbiAgICAgICAgQHJlc291cmNlcy5wdXNoKHJlc3VsdClcbiAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyBhIHZpZGVvLlxuICAgICpcbiAgICAqIEBtZXRob2QgZ2V0VmlkZW9cbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlUGF0aCAtIFBhdGggdG8gdGhlIHZpZGVvIGZpbGUuXG4gICAgKiBAcmV0dXJuIHtncy5WaWRlb30gVGhlIHZpZGVvIG9yIDxiPm51bGw8L2I+IGlmIG5vIHZpZGVvIGV4aXN0cyBhdCB0aGUgc3BlY2lmaWVkIGZpbGUgcGF0aC5cbiAgICAjIyMgICBcbiAgICBnZXRWaWRlbzogKGZpbGVQYXRoKSAtPlxuICAgICAgICBpZiBmaWxlUGF0aC5lbmRzV2l0aChcIi9cIikgdGhlbiByZXR1cm4gbnVsbFxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gQHJlc291cmNlc0J5UGF0aFtmaWxlUGF0aF1cbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCByZXN1bHQ/IG9yIHJlc3VsdC5kaXNwb3NlZFxuICAgICAgICAgICAgcHJvZmlsZSA9IExhbmd1YWdlTWFuYWdlci5wcm9maWxlXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgZ3MuVmlkZW8oZmlsZVBhdGgsIChpZiBwcm9maWxlPyBhbmQgcHJvZmlsZS5pdGVtcz8gdGhlbiBwcm9maWxlLml0ZW1zLmNvZGUgZWxzZSBudWxsKSlcbiAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbZmlsZVBhdGhdID0gcmVzdWx0XG4gICAgICAgICAgICBAcmVzb3VyY2VzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIGEgYml0bWFwLlxuICAgICpcbiAgICAqIEBtZXRob2QgZ2V0Qml0bWFwXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZVBhdGggLSBQYXRoIHRvIHRoZSBiaXRtYXAgZmlsZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBodWUgLSBUaGUgYml0bWFwJ3MgaHVlLiBUaGUgYml0bWFwIHdpbGwgYmUgbG9hZGVkIGFuZCB0aGVuIHJlY29sb3JlZC5cbiAgICAqIEByZXR1cm4ge2dzLkJpdG1hcH0gVGhlIGJpdG1hcCBvciA8Yj5udWxsPC9iPiBpZiBubyBiaXRtYXAgZXhpc3RzIGF0IHRoZSBzcGVjaWZpZWQgZmlsZSBwYXRoLlxuICAgICMjIyAgIFxuICAgIGdldEJpdG1hcDogKGZpbGVQYXRoLCBodWUpIC0+XG4gICAgICAgIGlmIGZpbGVQYXRoLmVuZHNXaXRoKFwiL1wiKSB0aGVuIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICAgICBodWUgPSBodWUgfHwgMFxuICAgICAgICByZXN1bHQgPSBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXSB8fCBAY3VzdG9tQml0bWFwc0J5S2V5W2ZpbGVQYXRoXVxuICAgICAgICBcbiAgICAgICAgaWYgbm90IHJlc3VsdD9cbiAgICAgICAgICAgIHByb2ZpbGUgPSBMYW5ndWFnZU1hbmFnZXIucHJvZmlsZVxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJpdG1hcChmaWxlUGF0aCwgKGlmIHByb2ZpbGU/IGFuZCBwcm9maWxlLml0ZW1zPyB0aGVuIHByb2ZpbGUuaXRlbXMuY29kZSBlbHNlIG51bGwpLCBubylcbiAgICAgICAgICAgIHJlc3VsdC5odWUgPSBodWVcbiAgICAgICAgICAgIHJlc3VsdC5maWxlUGF0aCA9IGZpbGVQYXRoXG4gICAgICAgICAgICBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXSA9IHJlc3VsdFxuICAgICAgICAgICAgQHJlc291cmNlcy5wdXNoKHJlc3VsdClcbiAgICAgICAgICAgIEByZXNvdXJjZXNMb2FkZWQgPSBmYWxzZVxuICAgICAgICBlbHNlIGlmIG5vdCByZXN1bHQubG9hZGVkIGFuZCByZXN1bHQuaHVlICE9IGh1ZVxuICAgICAgICAgICAgcHJvZmlsZSA9IExhbmd1YWdlTWFuYWdlci5wcm9maWxlXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQml0bWFwKGZpbGVQYXRoLCAoaWYgcHJvZmlsZT8gYW5kIHByb2ZpbGUuaXRlbXM/IHRoZW4gcHJvZmlsZS5pdGVtcy5jb2RlIGVsc2UgbnVsbCkpXG4gICAgICAgICAgICByZXN1bHQuaHVlID0gaHVlXG4gICAgICAgICAgICByZXN1bHQuZmlsZVBhdGggPSBmaWxlUGF0aFxuICAgICAgICAgICAgQHJlc291cmNlcy5wdXNoKHJlc3VsdClcbiAgICAgICAgICAgIEByZXNvdXJjZXNMb2FkZWQgPSBmYWxzZSAgXG4gICAgICAgIGVsc2UgaWYgaHVlID4gMFxuICAgICAgICAgICAgaHVlQml0bWFwID0gQHJlc291cmNlc0J5UGF0aEh1ZVtmaWxlUGF0aCtcIkBcIitodWVdXG4gICAgICAgICAgICBpZiBub3QgaHVlQml0bWFwPyBhbmQgcmVzdWx0LmxvYWRlZFxuICAgICAgICAgICAgICAgIGh1ZUJpdG1hcCA9IG5ldyBCaXRtYXAocmVzdWx0LmltYWdlKVxuICAgICAgICAgICAgICAgIGh1ZUJpdG1hcC5jaGFuZ2VIdWUoaHVlKVxuICAgICAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhIdWVbZmlsZVBhdGgrXCJAXCIraHVlXSA9IGh1ZUJpdG1hcFxuICAgICAgICAgICAgaWYgaHVlQml0bWFwPyB0aGVuIHJlc3VsdCA9IGh1ZUJpdG1hcFxuICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG5cbiAgICAjIyMqXG4gICAgKiBHZXRzIGFuIEhUTUwgaW1hZ2UuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZXRJbWFnZVxuICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIC0gUGF0aCB0byB0aGUgaW1hZ2UgZmlsZS5cbiAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IFRoZSBpbWFnZSBvciA8Yj5udWxsPC9iPiBpZiBubyBpbWFnZSBleGlzdHMgYXQgdGhlIHNwZWNpZmllZCBmaWxlIHBhdGguXG4gICAgIyMjICBcbiAgICBnZXRJbWFnZTogKGZpbGVQYXRoKSAtPlxuICAgICAgICByZXN1bHQgPSBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXVxuICAgICAgICBcbiAgICAgICAgaWYgbm90IHJlc3VsdD9cbiAgICAgICAgICAgIGlmICRQQVJBTVM/IGFuZCAkUEFSQU1TLnRlc3Q/XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJpdG1hcCgnL2ludm9rZT9jb250cm9sbGVyPWdzLlJlc291cmNlQ29udHJvbGxlciZtZXRob2Q9bG9hZEdyYXBoaWNSZXNvdXJjZSYnICsgJC5wYXJhbShcbiAgICAgICAgICAgICAgICAgIGRhdGE6XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOlxuICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGVQYXRoXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZEZvcm1hdHM6IFtcInBuZ1wiLCBcImpwZ1wiXVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEJpdG1hcChcInJlc291cmNlcy8je2ZpbGVQYXRofS5wbmdcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEByZXNvdXJjZXNCeVBhdGhbZmlsZVBhdGhdID0gcmVzdWx0XG4gICAgICAgICAgICBAcmVzb3VyY2VzLnB1c2gocmVzdWx0KVxuICAgICAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG5cbiAgICBnZXRBdWRpb1N0cmVhbTogKGZpbGVQYXRoKSAtPlxuICAgICAgICByZXN1bHQgPSBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXVxuICAgICAgICBwcm9maWxlID0gTGFuZ3VhZ2VNYW5hZ2VyLnByb2ZpbGVcbiAgICAgICAgbGFuZ3VhZ2VDb2RlID0gaWYgcHJvZmlsZT8gYW5kIHByb2ZpbGUuaXRlbXM/IHRoZW4gcHJvZmlsZS5pdGVtcy5jb2RlIGVsc2UgbnVsbFxuICAgICAgICBcbiAgICAgICAgaWYgbm90IHJlc3VsdD9cbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBHUy5BdWRpb0J1ZmZlclN0cmVhbShmaWxlUGF0aClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHJlc291cmNlc0J5UGF0aFtmaWxlUGF0aF0gPSByZXN1bHRcbiAgICAgICAgICAgIEByZXNvdXJjZXMucHVzaChyZXN1bHQpXG4gICAgICAgICAgICBAcmVzb3VyY2VzTG9hZGVkID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyBhbiBhdWRpbyBidWZmZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZXRBdWRpb0J1ZmZlclxuICAgICogQHBhcmFtIHtTdHJpbmd9IGZpbGVQYXRoIC0gUGF0aCB0byB0aGUgYXVkaW8gZmlsZS5cbiAgICAqIEByZXR1cm4ge2dzLkF1ZGlvQnVmZmVyfSBUaGUgYXVkaW8gYnVmZmVyIG9yIDxiPm51bGw8L2I+IGlmIG5vIGF1ZGlvIGZpbGUgZXhpc3RzIGF0IHRoZSBzcGVjaWZpZWQgZmlsZSBwYXRoLlxuICAgICMjIyBcbiAgICBnZXRBdWRpb0J1ZmZlcjogKGZpbGVQYXRoKSAtPlxuICAgICAgICByZXN1bHQgPSBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXVxuICAgICAgICBwcm9maWxlID0gTGFuZ3VhZ2VNYW5hZ2VyLnByb2ZpbGVcbiAgICAgICAgbGFuZ3VhZ2VDb2RlID0gaWYgcHJvZmlsZT8gYW5kIHByb2ZpbGUuaXRlbXM/IHRoZW4gcHJvZmlsZS5pdGVtcy5jb2RlIGVsc2UgbnVsbFxuICAgICAgICBcbiAgICAgICAgaWYgbm90IHJlc3VsdD9cbiAgICAgICAgICAgIGlmICRQQVJBTVM/IGFuZCAkUEFSQU1TLnRlc3Q/XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEdTLkF1ZGlvQnVmZmVyKCcvaW52b2tlP2NvbnRyb2xsZXI9Z3MuUmVzb3VyY2VDb250cm9sbGVyJm1ldGhvZD1sb2FkQXVkaW9SZXNvdXJjZSYnICsgJC5wYXJhbShcbiAgICAgICAgICAgICAgICAgIGRhdGE6XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOlxuICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGZpbGVQYXRoXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZEZvcm1hdHM6IFtcImFhY1wiLCBcIm1wM1wiLCBcIm9nZ1wiLCBcIndhdlwiXVxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGU6IGxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEdTLkF1ZGlvQnVmZmVyKGZpbGVQYXRoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBAcmVzb3VyY2VzQnlQYXRoW2ZpbGVQYXRoXSA9IHJlc3VsdFxuICAgICAgICAgICAgQHJlc291cmNlcy5wdXNoKHJlc3VsdClcbiAgICAgICAgICAgIEByZXNvdXJjZXNMb2FkZWQgPSBmYWxzZVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgbG9hZGluZyBwcm9jZXNzLiBOZWVkcyB0byBiZSBjYWxsZWQgb25jZSBwZXIgZnJhbWUgdG8ga2VlcCBcbiAgICAqIHRoZSBSZXNvdXJjZU1hbmFnZXIgdXAgdG8gZGF0ZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpZiBub3QgQGV2ZW50cz8gdGhlbiBAZXZlbnRzID0gbmV3IGdzLkV2ZW50RW1pdHRlcigpXG4gICAgICAgIGlmIG5vdCBAcmVzb3VyY2VzTG9hZGVkXG4gICAgICAgICAgICBAcmVzb3VyY2VzTG9hZGVkID0gdHJ1ZVxuICAgICAgICAgICAgZm9yIGkgaW4gWzAuLi5AcmVzb3VyY2VzLmxlbmd0aF1cbiAgICAgICAgICAgICAgICBpZiBub3QgQHJlc291cmNlc1tpXS5sb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgQHJlc291cmNlc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgZWxzZSBpZiBAcmVzb3VyY2VzW2ldLmh1ZT8gYW5kIEByZXNvdXJjZXNbaV0uaHVlID4gMFxuICAgICAgICAgICAgICAgICAgICBiaXRtYXAgPSBuZXcgQml0bWFwKEByZXNvdXJjZXNbaV0uaW1hZ2UpXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgQHJlc291cmNlc0J5UGF0aFtAcmVzb3VyY2VzW2ldLmZpbGVQYXRoXSA9IGJpdG1hcFxuICAgICAgICAgICAgICAgICAgICBAcmVzb3VyY2VzW2ldLmNoYW5nZUh1ZShAcmVzb3VyY2VzW2ldLmh1ZSlcbiAgICAgICAgICAgICAgICAgICAgQHJlc291cmNlc0J5UGF0aEh1ZVtAcmVzb3VyY2VzW2ldLmZpbGVQYXRoK1wiQFwiK0ByZXNvdXJjZXNbaV0uaHVlXSA9IEByZXNvdXJjZXNbaV1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIEByZXNvdXJjZXNbaV0uZmlsZVBhdGhcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIEByZXNvdXJjZXNbaV0uaHVlXG4gICAgICAgICAgICBpZiBAcmVzb3VyY2VzTG9hZGVkXG4gICAgICAgICAgICAgICAgQGV2ZW50cy5lbWl0KFwibG9hZGVkXCIsIHRoaXMpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuXG53aW5kb3cuUmVzb3VyY2VNYW5hZ2VyID0gUmVzb3VyY2VNYW5hZ2VyXG5ncy5SZXNvdXJjZU1hbmFnZXIgPSBSZXNvdXJjZU1hbmFnZXIiXX0=
//# sourceURL=ResourceManager_62.js
var AudioManager;

AudioManager = (function() {

  /**
  * Manages the audio playback of the game. 
  *
  * @module gs
  * @class AudioManager
  * @memberof gs
  * @constructor
   */
  function AudioManager() {

    /**
    * Stores all audio buffers.
    * @property buffers
    * @type gs.AudioBuffer[]
    * @protected
     */
    this.audioBuffers = [];

    /**
    * Stores all audio buffers by layer.
    * @property buffers
    * @type gs.AudioBuffer[]
    * @protected
     */
    this.audioBuffersByLayer = [];

    /**
    * Stores all audio buffer references for sounds.
    * @property soundReferences
    * @type gs.AudioBufferReference[]
    * @protected
     */
    this.soundReferences = {};

    /**
    * Current Music (Layer 0)
    * @property music
    * @type Object
    * @protected
     */
    this.music = null;

    /**
    * Current music volume.
    * @property musicVolume
    * @type number
    * @protected
     */
    this.musicVolume = 100;

    /**
    * Current sound volume.
    * @property soundVolume
    * @type number
    * @protected
     */
    this.soundVolume = 100;

    /**
    * Current voice volume.
    * @property voiceVolume
    * @type number
    * @protected
     */
    this.voiceVolume = 100;

    /**
    * General music volume
    * @property generalMusicVolume
    * @type number
    * @protected
     */
    this.generalMusicVolume = 100;

    /**
    * General sound volume
    * @property generalSoundVolume
    * @type number
    * @protected
     */
    this.generalSoundVolume = 100;

    /**
    * General voice volume
    * @property generalVoiceVolume
    * @type number
    * @protected
     */
    this.generalVoiceVolume = 100;

    /**
    * Stores audio layer info-data for each layer.
    * @property audioLayers
    * @type gs.AudioLayerInfo[]
    * @protected
     */
    this.audioLayers = [];
  }


  /**
  * Restores audio-playback from a specified array of audio layers.
  *
  * @method restore
  * @param {gs.AudioLayerInfo[]} layers - An array of audio layer info objects.
   */

  AudioManager.prototype.restore = function(layers) {
    var i, j, layer, len, results;
    this.audioLayers = layers;
    results = [];
    for (i = j = 0, len = layers.length; j < len; i = ++j) {
      layer = layers[i];
      if (layer && layer.playing) {
        if (layer.customData) {
          results.push(this.playMusicRandom(layer, layer.customData.fadeTime, i, layer.customData.playTime, layer.customData.playRange));
        } else {
          results.push(this.playMusic(layer, layer.fadeInTime, i));
        }
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Loads the specified music.
  *
  * @method loadMusic
  * @param {String} name - The name of the music to load.
   */

  AudioManager.prototype.loadMusic = function(name) {
    name = name != null ? name.name || name : name;
    if (name && name.length > 0) {
      return ResourceManager.getAudioStream("Audio/Music/" + name);
    }
  };


  /**
  * Loads the specified sound.
  *
  * @method loadSound
  * @param {String} name - The name of the sound to load.
   */

  AudioManager.prototype.loadSound = function(name) {
    name = name != null ? name.name || name : name;
    if (name && name.length > 0) {
      return ResourceManager.getAudioBuffer("Audio/Sounds/" + name);
    }
  };


  /**
  * Updates a randomly played audio buffer.
  *
  * @method updateRandomAudio
  * @param {gs.AudioBuffer} buffer - The audio buffer to update.
  * @protected
   */

  AudioManager.prototype.updateRandomAudio = function(buffer) {
    var currentTime, timeLeft;
    if (buffer.customData.startTimer > 0) {
      buffer.customData.startTimer--;
      if (buffer.customData.startTimer <= 0) {
        buffer.fadeInVolume = 1.0 / (buffer.customData.fadeTime || 1);
        buffer.fadeInTime = buffer.customData.fadeTime || 1;
        buffer.fadeOutTime = buffer.customData.fadeTime || 1;
        buffer.playTime = buffer.customData.playTime.min + Math.random() * (buffer.customData.playTime.max - buffer.customData.playTime.min);
        currentTime = buffer.currentTime;
        timeLeft = buffer.duration - currentTime;
        buffer.playTime = Math.min(timeLeft * 1000 / 16.6, buffer.playTime);
        return buffer.customData.startTimer = buffer.playTime + buffer.customData.playRange.start + Math.random() * (buffer.customData.playRange.end - buffer.customData.playRange.start);
      }
    }
  };


  /**
  * Updates all audio-buffers depending on the play-type.
  *
  * @method updateAudioBuffers
  * @protected
   */

  AudioManager.prototype.updateAudioBuffers = function() {
    var buffer, j, len, ref, results;
    ref = this.audioBuffers;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      buffer = ref[j];
      if (buffer != null) {
        if (buffer.customData.playType === 1) {
          this.updateRandomAudio(buffer);
        }
        if (GameManager.settings.bgmVolume !== this.generalMusicVolume) {
          buffer.volume = (this.musicVolume * GameManager.settings.bgmVolume / 100) / 100;
          this.generalMusicVolume = GameManager.settings.bgmVolume;
        }
        results.push(buffer.update());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Updates all audio-buffers depending on the play-type.
  *
  * @method updateAudioBuffers
  * @protected
   */

  AudioManager.prototype.updateGeneralVolume = function() {
    var k, reference, results;
    if (GameManager.settings.seVolume !== this.generalSoundVolume || GameManager.settings.voiceVolume !== this.generalVoiceVolume) {
      this.generalSoundVolume = GameManager.settings.seVolume;
      this.generalVoiceVolume = GameManager.settings.voiceVolume;
      results = [];
      for (k in this.soundReferences) {
        results.push((function() {
          var j, len, ref, results1;
          ref = this.soundReferences[k];
          results1 = [];
          for (j = 0, len = ref.length; j < len; j++) {
            reference = ref[j];
            if (reference.voice) {
              results1.push(reference.volume = (this.voiceVolume * GameManager.settings.voiceVolume / 100) / 100);
            } else {
              results1.push(reference.volume = (this.soundVolume * GameManager.settings.seVolume / 100) / 100);
            }
          }
          return results1;
        }).call(this));
      }
      return results;
    }
  };


  /**
  * Updates the audio-playback.
  *
  * @method update
   */

  AudioManager.prototype.update = function() {
    this.updateAudioBuffers();
    return this.updateGeneralVolume();
  };


  /**
  * Changes the current music to the specified one.
  *
  * @method changeMusic
  * @param {Object} music - The music to play. If <b>null</b> the current music will stop playing.
   */

  AudioManager.prototype.changeMusic = function(music) {
    if ((music != null) && (music.name != null)) {
      if ((this.music != null) && this.music.name !== music.name) {
        return this.playMusic(music);
      } else if (this.music == null) {
        return this.playMusic(music);
      }
    } else {
      return this.stopMusic();
    }
  };


  /**
  * Prepares. 
  *
  * @method prepare
  * @param {Object} music - The music to play. If <b>null</b> the current music will stop playing.
   */

  AudioManager.prototype.prepare = function(path, volume, rate) {
    var buffer;
    buffer = ResourceManager.getAudioBuffer(path);
    if (buffer.decoded) {
      buffer.volume = volume != null ? volume / 100 : 1.0;
      buffer.playbackRate = rate != null ? rate / 100 : 1.0;
    } else {
      buffer.onFinishDecode = (function(_this) {
        return function(source) {
          source.volume = volume != null ? volume / 100 : 1.0;
          return source.playbackRate = rate != null ? rate / 100 : 1.0;
        };
      })(this);
      buffer.decode();
    }
    return buffer;
  };


  /**
  * Plays an audio resource.
  *
  * @method play
  * @param {String} path - The path to the audio resource.
  * @param {number} volume - The volume.
  * @param {number} rate - The playback rate.
  * @param {number} fadeInTime - The fade-in time in frames.
   */

  AudioManager.prototype.play = function(path, volume, rate, fadeInTime) {
    var buffer;
    buffer = ResourceManager.getAudioStream(path);
    if (buffer.decoded) {
      buffer.volume = volume != null ? volume / 100 : 1.0;
      buffer.playbackRate = rate != null ? rate / 100 : 1.0;
      if (GameManager.settings.bgmEnabled) {
        buffer.play(fadeInTime);
      }
    } else {
      buffer.onFinishDecode = (function(_this) {
        return function(source) {
          source.volume = volume != null ? volume / 100 : 1.0;
          source.playbackRate = rate != null ? rate / 100 : 1.0;
          if (GameManager.settings.bgmEnabled) {
            return source.play(fadeInTime);
          }
        };
      })(this);
      buffer.decode();
    }
    return buffer;
  };


  /**
  * Stops all sounds.
  *
  * @method stopAllSounds
   */

  AudioManager.prototype.stopAllSounds = function() {
    var k, reference, results;
    results = [];
    for (k in this.soundReferences) {
      results.push((function() {
        var j, len, ref, results1;
        ref = this.soundReferences[k];
        results1 = [];
        for (j = 0, len = ref.length; j < len; j++) {
          reference = ref[j];
          results1.push(reference != null ? reference.stop() : void 0);
        }
        return results1;
      }).call(this));
    }
    return results;
  };


  /**
  * Stops a sound and all references of it.
  *
  * @method stopSound
  * @param {String} name - The name of the sound to stop.
   */

  AudioManager.prototype.stopSound = function(name) {
    var j, len, ref, reference, results;
    if (this.soundReferences[name] != null) {
      ref = this.soundReferences[name];
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        reference = ref[j];
        results.push(reference.stop());
      }
      return results;
    }
  };


  /**
  * Stops a voice.
  *
  * @method stopVoice
  * @param {String} name - The name of the voice to stop.
   */

  AudioManager.prototype.stopVoice = function(name) {
    return this.stopSound(name);
  };


  /**
  * Stops all voices.
  *
  * @method stopAllVoices
   */

  AudioManager.prototype.stopAllVoices = function() {
    var k, reference, results;
    results = [];
    for (k in this.soundReferences) {
      results.push((function() {
        var j, len, ref, results1;
        ref = this.soundReferences[k];
        results1 = [];
        for (j = 0, len = ref.length; j < len; j++) {
          reference = ref[j];
          if (reference.voice) {
            results1.push(reference.stop());
          } else {
            results1.push(void 0);
          }
        }
        return results1;
      }).call(this));
    }
    return results;
  };


  /**
  * Plays a voice.
  *
  * @method playVoice
  * @param {String} name - The name of the voice to play.
  * @param {number} volume - The voice volume.
  * @param {number} rate - The voice playback rate.
   */

  AudioManager.prototype.playVoice = function(name, volume, rate) {
    var ref, voice;
    voice = null;
    if (GameManager.settings.voiceEnabled && !((ref = $PARAMS.preview) != null ? ref.settings.voiceDisabled : void 0)) {
      voice = this.playSound(name != null ? name.name : void 0, volume || GameManager.defaults.audio.voiceVolume, rate || GameManager.defaults.audio.voicePlaybackRate, false, true);
    }
    return voice;
  };


  /**
  * Plays a sound.
  *
  * @method playSound
  * @param {String} name - The name of the sound to play.
  * @param {number} volume - The sound's volume.
  * @param {number} rate - The sound's playback rate.
  * @param {boolean} musicEffect - Indicates if the sound should be played as a music effect. In that case, the current music
  * at audio-layer will be paused until the sound finishes playing.
  * @param {boolean} voice - Indicates if the sound should be handled as a voice.
   */

  AudioManager.prototype.playSound = function(name, volume, rate, musicEffect, voice) {
    var buffer, j, len, r, ref, ref1, reference;
    if ((ref = $PARAMS.preview) != null ? ref.settings.soundDisabled : void 0) {
      return;
    }
    if ((name == null) || (!voice && !GameManager.settings.soundEnabled)) {
      return;
    }
    if (name.name != null) {
      volume = name.volume;
      rate = name.playbackRate;
      name = name.name;
    }
    if (name.length === 0) {
      return;
    }
    if (musicEffect) {
      this.stopMusic();
    }
    if (this.soundReferences[name] == null) {
      this.soundReferences[name] = [];
    }
    volume = volume != null ? volume : 100;
    volume *= voice ? this.generalVoiceVolume / 100 : this.generalSoundVolume / 100;
    reference = null;
    ref1 = this.soundReferences[name];
    for (j = 0, len = ref1.length; j < len; j++) {
      r = ref1[j];
      if (!r.isPlaying) {
        reference = r;
        if (musicEffect) {
          reference.onEnd = (function(_this) {
            return function() {
              return _this.resumeMusic(40);
            };
          })(this);
        }
        reference.voice = voice;
        reference.volume = volume / 100;
        reference.playbackRate = rate / 100;
        if (voice) {
          this.voice = reference;
        }
        reference.play();
        break;
      }
    }
    if (reference == null) {
      buffer = ResourceManager.getAudioBuffer("Audio/Sounds/" + name);
      if (buffer && buffer.loaded) {
        if (buffer.decoded) {
          reference = new GS.AudioBufferReference(buffer, voice);
          if (musicEffect) {
            reference.onEnd = (function(_this) {
              return function() {
                return _this.resumeMusic(40);
              };
            })(this);
          }
          reference.volume = volume / 100;
          reference.playbackRate = rate / 100;
          reference.voice = voice;
          reference.play();
          if (voice) {
            this.voice = reference;
          }
          this.soundReferences[name].push(reference);
        } else {
          buffer.name = name;
          buffer.onDecodeFinish = (function(_this) {
            return function(source) {
              reference = new GS.AudioBufferReference(source, voice);
              if (musicEffect) {
                reference.onEnd = function() {
                  return _this.resumeMusic(40);
                };
              }
              reference.voice = voice;
              reference.volume = volume / 100;
              reference.playbackRate = rate / 100;
              if (voice) {
                _this.voice = reference;
              }
              reference.play();
              return _this.soundReferences[source.name].push(reference);
            };
          })(this);
          buffer.decode();
        }
      }
    }
    return reference;
  };


  /**
  * Plays a music as a random music. A random music will fade-in and fade-out
  * at random times. That can be combined with other audio-layers to create a
  * much better looping of an audio track.
  *
  * @method playMusicRandom
  * @param {Object} music - The music to play.
  * @param {number} fadeTime - The time for a single fade-in/out in frames.
  * @param {number} layer - The audio layer to use.
  * @param {gs.Range} playTime - Play-Time range like 10s to 30s.
  * @param {gs.Range} playRange - Play-Range.
   */

  AudioManager.prototype.playMusicRandom = function(music, fadeTime, layer, playTime, playRange) {
    var musicBuffer, ref, volume;
    if ((ref = $PARAMS.preview) != null ? ref.settings.musicDisabled : void 0) {
      return;
    }
    layer = layer != null ? layer : 0;
    volume = music.volume != null ? music.volume : 100;
    volume = volume * (this.generalMusicVolume / 100);
    this.musicVolume = volume;
    this.disposeMusic(layer);
    if ((music.name != null) && music.name.length > 0) {
      musicBuffer = this.play("Audio/Music/" + music.name, volume, music.rate);
      musicBuffer.loop = true;
      musicBuffer.volume = 0;
      musicBuffer.duration = Math.round(musicBuffer.duration * 1000 / 16.6);
      musicBuffer.customData.playType = 1;
      musicBuffer.customData.playTime = playTime;
      if (playRange.end === 0) {
        musicBuffer.customData.playRange = {
          start: playRange.start,
          end: musicBuffer.duration
        };
      } else {
        musicBuffer.customData.playRange = playRange;
      }
      musicBuffer.customData.fadeTime = fadeTime;
      musicBuffer.customData.startTimer = Math.round(musicBuffer.customData.playRange.start + Math.random() * (musicBuffer.customData.playRange.end - musicBuffer.customData.playRange.start));
      if (!this.audioBuffers.contains(musicBuffer)) {
        this.audioBuffers.push(musicBuffer);
      }
      this.audioBuffersByLayer[layer] = musicBuffer;
      return this.audioLayers[layer] = {
        name: music.name,
        time: music.currentTime,
        volume: music.volume,
        rate: music.playbackRate,
        fadeInTime: fadeTime,
        customData: musicBuffer.customData
      };
    }
  };


  /**
  * Plays a music.
  *
  * @method playMusic
  * @param {string|Object} name - The music to play. Can be just a name or a music data-object.
  * @param {number} volume - The music's volume in percent.
  * @param {number} rate - The music's playback rate in percent.
  * @param {number} fadeInTime - The fade-in time.
  * @param {number} layer - The layer to play the music on.
   */

  AudioManager.prototype.playMusic = function(name, volume, rate, fadeInTime, layer) {
    var musicBuffer, ref;
    if ((ref = $PARAMS.preview) != null ? ref.settings.musicDisabled : void 0) {
      return;
    }
    if ((name != null) && (name.name != null)) {
      layer = layer != null ? layer : rate || 0;
      fadeInTime = volume;
      volume = name.volume;
      rate = name.playbackRate;
      name = name.name;
    } else {
      layer = layer != null ? layer : 0;
    }
    this.disposeMusic(layer);
    this.audioLayers[layer] = {
      name: name,
      volume: volume,
      rate: rate,
      fadeInTime: fadeInTime,
      playing: true
    };
    volume = volume != null ? volume : 100;
    volume = volume * (this.generalMusicVolume / 100);
    this.musicVolume = volume;
    if ((name != null) && name.length > 0) {
      this.music = {
        name: name
      };
      musicBuffer = this.play("Audio/Music/" + name, volume, rate, fadeInTime);
      musicBuffer.loop = true;
      if (!this.audioBuffers.contains(musicBuffer)) {
        this.audioBuffers.push(musicBuffer);
      }
      return this.audioBuffersByLayer[layer] = musicBuffer;
    }
  };


  /**
  * Resumes a paused music.
  *
  * @method resumeMusic
  * @param {number} fadeInTime - The fade-in time in frames.
  * @param {number} layer - The audio layer to resume.
   */

  AudioManager.prototype.resumeMusic = function(fadeInTime, layer) {
    var ref;
    layer = layer != null ? layer : 0;
    if ((this.audioBuffersByLayer[layer] != null) && !this.audioBuffersByLayer[layer].isPlaying) {
      this.audioBuffersByLayer[layer].resume(fadeInTime);
      return (ref = this.audioLayers[layer]) != null ? ref.playing = true : void 0;
    }
  };


  /**
  * Stops a music.
  *
  * @method stopMusic
  * @param {number} fadeOutTime - The fade-out time in frames.
  * @param {number} layer - The audio layer to stop.
   */

  AudioManager.prototype.stopMusic = function(fadeOutTime, layer) {
    var ref, ref1, ref2;
    layer = layer != null ? layer : 0;
    if ((ref = this.audioBuffersByLayer[layer]) != null) {
      ref.stop(fadeOutTime);
    }
    if ((ref1 = this.audioBuffersByLayer[layer]) != null) {
      ref1.customData = {};
    }
    if ((ref2 = this.audioLayers[layer]) != null) {
      ref2.playing = false;
    }
    return this.music = null;
  };


  /**
  * Stops all music/audio layers.
  *
  * @method stopAllMusic
  * @param {number} fadeOutTime - The fade-out time in frames.
   */

  AudioManager.prototype.stopAllMusic = function(fadeOutTime) {
    var buffer, j, len, ref;
    ref = this.audioBuffers;
    for (j = 0, len = ref.length; j < len; j++) {
      buffer = ref[j];
      if (buffer != null) {
        buffer.stop(fadeOutTime);
        buffer.customData = {};
      }
    }
    return this.music = null;
  };


  /**
  * Disposes a music.
  *
  * @method disposeMusic
  * @param {number} layer - The audio layer of the music to dispose.
   */

  AudioManager.prototype.disposeMusic = function(layer) {
    layer = layer != null ? layer : 0;
    this.stopMusic(0, layer);
    this.audioBuffers.remove(this.audioBuffersByLayer[layer]);
    this.audioBuffersByLayer[layer] = null;
    return this.audioLayers[layer] = null;
  };

  return AudioManager;

})();

window.AudioManager = new AudioManager();

gs.AudioManager = AudioManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7O0VBUWEsc0JBQUE7O0FBQ1Q7Ozs7OztJQU1BLElBQUMsQ0FBQSxZQUFELEdBQWdCOztBQUVoQjs7Ozs7O0lBTUEsSUFBQyxDQUFBLG1CQUFELEdBQXVCOztBQUV2Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGVBQUQsR0FBbUI7O0FBRW5COzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsa0JBQUQsR0FBc0I7O0FBRXRCOzs7Ozs7SUFNQSxJQUFDLENBQUEsa0JBQUQsR0FBc0I7O0FBRXRCOzs7Ozs7SUFNQSxJQUFDLENBQUEsa0JBQUQsR0FBc0I7O0FBRXRCOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlO0VBdkZOOzs7QUF5RmI7Ozs7Ozs7eUJBTUEsT0FBQSxHQUFTLFNBQUMsTUFBRDtBQUNMLFFBQUE7SUFBQSxJQUFDLENBQUEsV0FBRCxHQUFlO0FBRWY7U0FBQSxnREFBQTs7TUFDSSxJQUFHLEtBQUEsSUFBVSxLQUFLLENBQUMsT0FBbkI7UUFDSSxJQUFHLEtBQUssQ0FBQyxVQUFUO3VCQUNJLElBQUMsQ0FBQSxlQUFELENBQWlCLEtBQWpCLEVBQXdCLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBekMsRUFBbUQsQ0FBbkQsRUFBc0QsS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUF2RSxFQUFpRixLQUFLLENBQUMsVUFBVSxDQUFDLFNBQWxHLEdBREo7U0FBQSxNQUFBO3VCQUdJLElBQUMsQ0FBQSxTQUFELENBQVcsS0FBWCxFQUFrQixLQUFLLENBQUMsVUFBeEIsRUFB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QUFRLFFBQVE7O1NBQ1csQ0FBRSxJQUE3QixDQUFrQyxXQUFsQzs7O1VBQzJCLENBQUUsVUFBN0IsR0FBMEM7OztVQUN2QixDQUFFLE9BQXJCLEdBQStCOztXQUMvQixJQUFDLENBQUEsS0FBRCxHQUFTO0VBTEY7OztBQU9YOzs7Ozs7O3lCQU1BLFlBQUEsR0FBYyxTQUFDLFdBQUQ7QUFDVixRQUFBO0FBQUE7QUFBQSxTQUFBLHFDQUFBOztNQUNJLElBQUcsY0FBSDtRQUNJLE1BQU0sQ0FBQyxJQUFQLENBQVksV0FBWjtRQUNBLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLEdBRnhCOztBQURKO1dBSUEsSUFBQyxDQUFBLEtBQUQsR0FBUztFQUxDOzs7QUFRZDs7Ozs7Ozt5QkFNQSxZQUFBLEdBQWMsU0FBQyxLQUFEO0lBQ1YsS0FBQSxtQkFBUSxRQUFRO0lBRWhCLElBQUMsQ0FBQSxTQUFELENBQVcsQ0FBWCxFQUFjLEtBQWQ7SUFFQSxJQUFDLENBQUEsWUFBWSxDQUFDLE1BQWQsQ0FBcUIsSUFBQyxDQUFBLG1CQUFvQixDQUFBLEtBQUEsQ0FBMUM7SUFDQSxJQUFDLENBQUEsbUJBQW9CLENBQUEsS0FBQSxDQUFyQixHQUE4QjtXQUM5QixJQUFDLENBQUEsV0FBWSxDQUFBLEtBQUEsQ0FBYixHQUFzQjtFQVBaOzs7Ozs7QUFTbEIsTUFBTSxDQUFDLFlBQVAsR0FBMEIsSUFBQSxZQUFBLENBQUE7O0FBQzFCLEVBQUUsQ0FBQyxZQUFILEdBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBBdWRpb01hbmFnZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIEF1ZGlvTWFuYWdlclxuICAgICMjIypcbiAgICAqIE1hbmFnZXMgdGhlIGF1ZGlvIHBsYXliYWNrIG9mIHRoZSBnYW1lLiBcbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQXVkaW9NYW5hZ2VyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCBhdWRpbyBidWZmZXJzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBidWZmZXJzXG4gICAgICAgICogQHR5cGUgZ3MuQXVkaW9CdWZmZXJbXVxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjICBcbiAgICAgICAgQGF1ZGlvQnVmZmVycyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCBhdWRpbyBidWZmZXJzIGJ5IGxheWVyLlxuICAgICAgICAqIEBwcm9wZXJ0eSBidWZmZXJzXG4gICAgICAgICogQHR5cGUgZ3MuQXVkaW9CdWZmZXJbXVxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjICBcbiAgICAgICAgQGF1ZGlvQnVmZmVyc0J5TGF5ZXIgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBhbGwgYXVkaW8gYnVmZmVyIHJlZmVyZW5jZXMgZm9yIHNvdW5kcy5cbiAgICAgICAgKiBAcHJvcGVydHkgc291bmRSZWZlcmVuY2VzXG4gICAgICAgICogQHR5cGUgZ3MuQXVkaW9CdWZmZXJSZWZlcmVuY2VbXVxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjICBcbiAgICAgICAgQHNvdW5kUmVmZXJlbmNlcyA9IHt9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ3VycmVudCBNdXNpYyAoTGF5ZXIgMClcbiAgICAgICAgKiBAcHJvcGVydHkgbXVzaWNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjIyBcbiAgICAgICAgQG11c2ljID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1cnJlbnQgbXVzaWMgdm9sdW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtdXNpY1ZvbHVtZVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjIFxuICAgICAgICBAbXVzaWNWb2x1bWUgPSAxMDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDdXJyZW50IHNvdW5kIHZvbHVtZS5cbiAgICAgICAgKiBAcHJvcGVydHkgc291bmRWb2x1bWVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjIyBcbiAgICAgICAgQHNvdW5kVm9sdW1lID0gMTAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ3VycmVudCB2b2ljZSB2b2x1bWUuXG4gICAgICAgICogQHByb3BlcnR5IHZvaWNlVm9sdW1lXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyMgXG4gICAgICAgIEB2b2ljZVZvbHVtZSA9IDEwMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEdlbmVyYWwgbXVzaWMgdm9sdW1lXG4gICAgICAgICogQHByb3BlcnR5IGdlbmVyYWxNdXNpY1ZvbHVtZVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjIFxuICAgICAgICBAZ2VuZXJhbE11c2ljVm9sdW1lID0gMTAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogR2VuZXJhbCBzb3VuZCB2b2x1bWVcbiAgICAgICAgKiBAcHJvcGVydHkgZ2VuZXJhbFNvdW5kVm9sdW1lXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyMgXG4gICAgICAgIEBnZW5lcmFsU291bmRWb2x1bWUgPSAxMDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBHZW5lcmFsIHZvaWNlIHZvbHVtZVxuICAgICAgICAqIEBwcm9wZXJ0eSBnZW5lcmFsVm9pY2VWb2x1bWVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjIyBcbiAgICAgICAgQGdlbmVyYWxWb2ljZVZvbHVtZSA9IDEwMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBhdWRpbyBsYXllciBpbmZvLWRhdGEgZm9yIGVhY2ggbGF5ZXIuXG4gICAgICAgICogQHByb3BlcnR5IGF1ZGlvTGF5ZXJzXG4gICAgICAgICogQHR5cGUgZ3MuQXVkaW9MYXllckluZm9bXVxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjIFxuICAgICAgICBAYXVkaW9MYXllcnMgPSBbXVxuICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgYXVkaW8tcGxheWJhY2sgZnJvbSBhIHNwZWNpZmllZCBhcnJheSBvZiBhdWRpbyBsYXllcnMuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge2dzLkF1ZGlvTGF5ZXJJbmZvW119IGxheWVycyAtIEFuIGFycmF5IG9mIGF1ZGlvIGxheWVyIGluZm8gb2JqZWN0cy5cbiAgICAjIyMgIFxuICAgIHJlc3RvcmU6IChsYXllcnMpIC0+XG4gICAgICAgIEBhdWRpb0xheWVycyA9IGxheWVyc1xuICAgICAgICBcbiAgICAgICAgZm9yIGxheWVyLCBpIGluIGxheWVyc1xuICAgICAgICAgICAgaWYgbGF5ZXIgYW5kIGxheWVyLnBsYXlpbmdcbiAgICAgICAgICAgICAgICBpZiBsYXllci5jdXN0b21EYXRhXG4gICAgICAgICAgICAgICAgICAgIEBwbGF5TXVzaWNSYW5kb20obGF5ZXIsIGxheWVyLmN1c3RvbURhdGEuZmFkZVRpbWUsIGksIGxheWVyLmN1c3RvbURhdGEucGxheVRpbWUsIGxheWVyLmN1c3RvbURhdGEucGxheVJhbmdlKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQHBsYXlNdXNpYyhsYXllciwgbGF5ZXIuZmFkZUluVGltZSwgaSlcbiAgICAgXG4gICAgIyMjKlxuICAgICogTG9hZHMgdGhlIHNwZWNpZmllZCBtdXNpYy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxvYWRNdXNpY1xuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgbXVzaWMgdG8gbG9hZC5cbiAgICAjIyMgICAgXG4gICAgbG9hZE11c2ljOiAobmFtZSkgLT4gXG4gICAgICAgIG5hbWUgPSBpZiBuYW1lPyB0aGVuIChuYW1lLm5hbWUgfHwgbmFtZSkgZWxzZSBuYW1lXG4gICAgICAgIGlmIG5hbWUgYW5kIG5hbWUubGVuZ3RoID4gMFxuICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEF1ZGlvU3RyZWFtKFwiQXVkaW8vTXVzaWMvI3tuYW1lfVwiKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyB0aGUgc3BlY2lmaWVkIHNvdW5kLlxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZFNvdW5kXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzb3VuZCB0byBsb2FkLlxuICAgICMjIyAgICAgICAgICAgXG4gICAgbG9hZFNvdW5kOiAobmFtZSkgLT4gXG4gICAgICAgIG5hbWUgPSBpZiBuYW1lPyB0aGVuIG5hbWUubmFtZSB8fCBuYW1lIGVsc2UgbmFtZVxuICAgICAgICBpZiBuYW1lIGFuZCBuYW1lLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihcIkF1ZGlvL1NvdW5kcy8je25hbWV9XCIpXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyBhIHJhbmRvbWx5IHBsYXllZCBhdWRpbyBidWZmZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVSYW5kb21BdWRpb1xuICAgICogQHBhcmFtIHtncy5BdWRpb0J1ZmZlcn0gYnVmZmVyIC0gVGhlIGF1ZGlvIGJ1ZmZlciB0byB1cGRhdGUuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgICMgRklYTUU6IFJlZmFjdG9yaW5nIG5lY2Vzc2FyeS4gICAgICBcbiAgICB1cGRhdGVSYW5kb21BdWRpbzogKGJ1ZmZlcikgLT5cbiAgICAgICAgaWYgYnVmZmVyLmN1c3RvbURhdGEuc3RhcnRUaW1lciA+IDBcbiAgICAgICAgICAgIGJ1ZmZlci5jdXN0b21EYXRhLnN0YXJ0VGltZXItLVxuICAgICAgICAgICAgaWYgYnVmZmVyLmN1c3RvbURhdGEuc3RhcnRUaW1lciA8PSAwXG4gICAgICAgICAgICAgICAgYnVmZmVyLmZhZGVJblZvbHVtZSA9IDEuMCAvIChidWZmZXIuY3VzdG9tRGF0YS5mYWRlVGltZXx8MSlcbiAgICAgICAgICAgICAgICBidWZmZXIuZmFkZUluVGltZSA9IGJ1ZmZlci5jdXN0b21EYXRhLmZhZGVUaW1lfHwxXG4gICAgICAgICAgICAgICAgYnVmZmVyLmZhZGVPdXRUaW1lID0gYnVmZmVyLmN1c3RvbURhdGEuZmFkZVRpbWV8fDFcbiAgICAgICAgICAgICAgICBidWZmZXIucGxheVRpbWUgPSBidWZmZXIuY3VzdG9tRGF0YS5wbGF5VGltZS5taW4gKyBNYXRoLnJhbmRvbSgpICogKGJ1ZmZlci5jdXN0b21EYXRhLnBsYXlUaW1lLm1heCAtIGJ1ZmZlci5jdXN0b21EYXRhLnBsYXlUaW1lLm1pbilcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZSA9IGJ1ZmZlci5jdXJyZW50VGltZSAjIC0gYnVmZmVyLnN0YXJ0VGltZVxuICAgICAgICAgICAgICAgIHRpbWVMZWZ0ID0gYnVmZmVyLmR1cmF0aW9uIC0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICBidWZmZXIucGxheVRpbWUgPSBNYXRoLm1pbih0aW1lTGVmdCAqIDEwMDAgLyAxNi42LCBidWZmZXIucGxheVRpbWUpXG4gICAgXG4gICAgICAgICAgICAgICAgYnVmZmVyLmN1c3RvbURhdGEuc3RhcnRUaW1lciA9IGJ1ZmZlci5wbGF5VGltZSArIGJ1ZmZlci5jdXN0b21EYXRhLnBsYXlSYW5nZS5zdGFydCArIE1hdGgucmFuZG9tKCkgKiAoYnVmZmVyLmN1c3RvbURhdGEucGxheVJhbmdlLmVuZCAtIGJ1ZmZlci5jdXN0b21EYXRhLnBsYXlSYW5nZS5zdGFydClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGFsbCBhdWRpby1idWZmZXJzIGRlcGVuZGluZyBvbiB0aGUgcGxheS10eXBlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQXVkaW9CdWZmZXJzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgXG4gICAgdXBkYXRlQXVkaW9CdWZmZXJzOiAtPlxuICAgICAgICBmb3IgYnVmZmVyIGluIEBhdWRpb0J1ZmZlcnNcbiAgICAgICAgICAgIGlmIGJ1ZmZlcj9cbiAgICAgICAgICAgICAgICBpZiBidWZmZXIuY3VzdG9tRGF0YS5wbGF5VHlwZSA9PSAxXG4gICAgICAgICAgICAgICAgICAgIEB1cGRhdGVSYW5kb21BdWRpbyhidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEdhbWVNYW5hZ2VyLnNldHRpbmdzLmJnbVZvbHVtZSAhPSBAZ2VuZXJhbE11c2ljVm9sdW1lXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci52b2x1bWUgPSAoQG11c2ljVm9sdW1lICogR2FtZU1hbmFnZXIuc2V0dGluZ3MuYmdtVm9sdW1lIC8gMTAwKSAvIDEwMFxuICAgICAgICAgICAgICAgICAgICBAZ2VuZXJhbE11c2ljVm9sdW1lID0gR2FtZU1hbmFnZXIuc2V0dGluZ3MuYmdtVm9sdW1lXG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwZGF0ZSgpXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyBhbGwgYXVkaW8tYnVmZmVycyBkZXBlbmRpbmcgb24gdGhlIHBsYXktdHlwZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUF1ZGlvQnVmZmVyc1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICBcbiAgICB1cGRhdGVHZW5lcmFsVm9sdW1lOiAtPlxuICAgICAgICBpZiBHYW1lTWFuYWdlci5zZXR0aW5ncy5zZVZvbHVtZSAhPSBAZ2VuZXJhbFNvdW5kVm9sdW1lIG9yIEdhbWVNYW5hZ2VyLnNldHRpbmdzLnZvaWNlVm9sdW1lICE9IEBnZW5lcmFsVm9pY2VWb2x1bWVcbiAgICAgICAgICAgIEBnZW5lcmFsU291bmRWb2x1bWUgPSBHYW1lTWFuYWdlci5zZXR0aW5ncy5zZVZvbHVtZVxuICAgICAgICAgICAgQGdlbmVyYWxWb2ljZVZvbHVtZSA9IEdhbWVNYW5hZ2VyLnNldHRpbmdzLnZvaWNlVm9sdW1lXG4gICAgICAgICAgICBmb3IgayBvZiBAc291bmRSZWZlcmVuY2VzXG4gICAgICAgICAgICAgICAgZm9yIHJlZmVyZW5jZSBpbiBAc291bmRSZWZlcmVuY2VzW2tdXG4gICAgICAgICAgICAgICAgICAgIGlmIHJlZmVyZW5jZS52b2ljZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLnZvbHVtZSA9IChAdm9pY2VWb2x1bWUgKiBHYW1lTWFuYWdlci5zZXR0aW5ncy52b2ljZVZvbHVtZSAvIDEwMCkgLyAxMDBcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLnZvbHVtZSA9IChAc291bmRWb2x1bWUgKiBHYW1lTWFuYWdlci5zZXR0aW5ncy5zZVZvbHVtZSAvIDEwMCkgLyAxMDBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBhdWRpby1wbGF5YmFjay5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICAgICAgICAgICAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIEB1cGRhdGVBdWRpb0J1ZmZlcnMoKVxuICAgICAgICBAdXBkYXRlR2VuZXJhbFZvbHVtZSgpXG4gICAgIFxuICAgICMjIypcbiAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgbXVzaWMgdG8gdGhlIHNwZWNpZmllZCBvbmUuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGFuZ2VNdXNpY1xuICAgICogQHBhcmFtIHtPYmplY3R9IG11c2ljIC0gVGhlIG11c2ljIHRvIHBsYXkuIElmIDxiPm51bGw8L2I+IHRoZSBjdXJyZW50IG11c2ljIHdpbGwgc3RvcCBwbGF5aW5nLlxuICAgICMjIyAgICAgICAgICAgXG4gICAgY2hhbmdlTXVzaWM6IChtdXNpYykgLT5cbiAgICAgICAgaWYgbXVzaWM/IGFuZCBtdXNpYy5uYW1lP1xuICAgICAgICAgICAgaWYgQG11c2ljPyBhbmQgQG11c2ljLm5hbWUgIT0gbXVzaWMubmFtZVxuICAgICAgICAgICAgICAgIEBwbGF5TXVzaWMobXVzaWMpXG4gICAgICAgICAgICBlbHNlIGlmIG5vdCBAbXVzaWM/XG4gICAgICAgICAgICAgICAgQHBsYXlNdXNpYyhtdXNpYylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHN0b3BNdXNpYygpXG4gICAgIFxuICAgICMgRklYTUU6IElzIHRoaXMgc3RpbGwgdXNlZD9cbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcy4gXG4gICAgKlxuICAgICogQG1ldGhvZCBwcmVwYXJlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gbXVzaWMgLSBUaGUgbXVzaWMgdG8gcGxheS4gSWYgPGI+bnVsbDwvYj4gdGhlIGN1cnJlbnQgbXVzaWMgd2lsbCBzdG9wIHBsYXlpbmcuXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgcHJlcGFyZTogKHBhdGgsIHZvbHVtZSwgcmF0ZSkgLT4gXG4gICAgICAgIGJ1ZmZlciA9IFJlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihwYXRoKVxuICAgICAgICBcbiAgICAgICAgaWYgYnVmZmVyLmRlY29kZWRcbiAgICAgICAgICAgIGJ1ZmZlci52b2x1bWUgPSBpZiB2b2x1bWU/IHRoZW4gdm9sdW1lIC8gMTAwIGVsc2UgMS4wXG4gICAgICAgICAgICBidWZmZXIucGxheWJhY2tSYXRlID0gaWYgcmF0ZT8gdGhlbiByYXRlIC8gMTAwIGVsc2UgMS4wXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgYnVmZmVyLm9uRmluaXNoRGVjb2RlID0gKHNvdXJjZSkgPT4gXG4gICAgICAgICAgICAgICBzb3VyY2Uudm9sdW1lID0gaWYgdm9sdW1lPyB0aGVuIHZvbHVtZSAvIDEwMCBlbHNlIDEuMFxuICAgICAgICAgICAgICAgc291cmNlLnBsYXliYWNrUmF0ZSA9IGlmIHJhdGU/IHRoZW4gcmF0ZSAvIDEwMCBlbHNlIDEuMFxuICAgICAgICAgICBidWZmZXIuZGVjb2RlKClcbiAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBidWZmZXJcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogUGxheXMgYW4gYXVkaW8gcmVzb3VyY2UuXG4gICAgKlxuICAgICogQG1ldGhvZCBwbGF5XG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHRoZSBhdWRpbyByZXNvdXJjZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWUgLSBUaGUgdm9sdW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGUgLSBUaGUgcGxheWJhY2sgcmF0ZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmYWRlSW5UaW1lIC0gVGhlIGZhZGUtaW4gdGltZSBpbiBmcmFtZXMuXG4gICAgIyMjICAgICBcbiAgICBwbGF5OiAocGF0aCwgdm9sdW1lLCByYXRlLCBmYWRlSW5UaW1lKSAtPlxuICAgICAgICBidWZmZXIgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0QXVkaW9TdHJlYW0ocGF0aClcbiAgICBcbiAgICAgICAgaWYgYnVmZmVyLmRlY29kZWRcbiAgICAgICAgICAgIGJ1ZmZlci52b2x1bWUgPSBpZiB2b2x1bWU/IHRoZW4gdm9sdW1lIC8gMTAwIGVsc2UgMS4wXG4gICAgICAgICAgICBidWZmZXIucGxheWJhY2tSYXRlID0gaWYgcmF0ZT8gdGhlbiByYXRlIC8gMTAwIGVsc2UgMS4wXG4gICAgICAgICAgICBidWZmZXIucGxheShmYWRlSW5UaW1lKSBpZiBHYW1lTWFuYWdlci5zZXR0aW5ncy5iZ21FbmFibGVkXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgYnVmZmVyLm9uRmluaXNoRGVjb2RlID0gKHNvdXJjZSkgPT4gXG4gICAgICAgICAgICAgICBzb3VyY2Uudm9sdW1lID0gaWYgdm9sdW1lPyB0aGVuIHZvbHVtZSAvIDEwMCBlbHNlIDEuMFxuICAgICAgICAgICAgICAgc291cmNlLnBsYXliYWNrUmF0ZSA9IGlmIHJhdGU/IHRoZW4gcmF0ZSAvIDEwMCBlbHNlIDEuMFxuICAgICAgICAgICAgICAgc291cmNlLnBsYXkoZmFkZUluVGltZSkgaWYgR2FtZU1hbmFnZXIuc2V0dGluZ3MuYmdtRW5hYmxlZFxuICAgICAgICAgICBidWZmZXIuZGVjb2RlKClcbiAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBidWZmZXJcbiAgICAgXG4gICAgIyMjKlxuICAgICogU3RvcHMgYWxsIHNvdW5kcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3BBbGxTb3VuZHNcbiAgICAjIyMgICAgXG4gICAgc3RvcEFsbFNvdW5kczogLT5cbiAgICAgICAgZm9yIGsgb2YgQHNvdW5kUmVmZXJlbmNlc1xuICAgICAgICAgICAgZm9yIHJlZmVyZW5jZSBpbiBAc291bmRSZWZlcmVuY2VzW2tdXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlPy5zdG9wKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdG9wcyBhIHNvdW5kIGFuZCBhbGwgcmVmZXJlbmNlcyBvZiBpdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3BTb3VuZFxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgc291bmQgdG8gc3RvcC5cbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgc3RvcFNvdW5kOiAobmFtZSkgLT5cbiAgICAgICAgaWYgQHNvdW5kUmVmZXJlbmNlc1tuYW1lXT9cbiAgICAgICAgICAgIGZvciByZWZlcmVuY2UgaW4gQHNvdW5kUmVmZXJlbmNlc1tuYW1lXVxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZS5zdG9wKClcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdG9wcyBhIHZvaWNlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RvcFZvaWNlXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB2b2ljZSB0byBzdG9wLlxuICAgICMjIyAgICAgICAgICAgICBcbiAgICBzdG9wVm9pY2U6IChuYW1lKSAtPlxuICAgICAgICBAc3RvcFNvdW5kKG5hbWUpXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RvcHMgYWxsIHZvaWNlcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3BBbGxWb2ljZXNcbiAgICAjIyMgICAgIFxuICAgIHN0b3BBbGxWb2ljZXM6IC0+XG4gICAgICAgIGZvciBrIG9mIEBzb3VuZFJlZmVyZW5jZXNcbiAgICAgICAgICAgIGZvciByZWZlcmVuY2UgaW4gQHNvdW5kUmVmZXJlbmNlc1trXVxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZS5zdG9wKCkgaWYgcmVmZXJlbmNlLnZvaWNlXG4gICAgXG4gICAgIyMjKlxuICAgICogUGxheXMgYSB2b2ljZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHBsYXlWb2ljZVxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdm9pY2UgdG8gcGxheS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWUgLSBUaGUgdm9pY2Ugdm9sdW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHJhdGUgLSBUaGUgdm9pY2UgcGxheWJhY2sgcmF0ZS5cbiAgICAjIyMgICAgIFxuICAgIHBsYXlWb2ljZTogKG5hbWUsIHZvbHVtZSwgcmF0ZSkgLT5cbiAgICAgICAgdm9pY2UgPSBudWxsXG4gICAgICAgIGlmIEdhbWVNYW5hZ2VyLnNldHRpbmdzLnZvaWNlRW5hYmxlZCBhbmQgbm90ICRQQVJBTVMucHJldmlldz8uc2V0dGluZ3Mudm9pY2VEaXNhYmxlZFxuICAgICAgICAgICAgdm9pY2UgPSBAcGxheVNvdW5kKG5hbWU/Lm5hbWUsIHZvbHVtZSB8fCBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpby52b2ljZVZvbHVtZSwgcmF0ZSB8fCBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpby52b2ljZVBsYXliYWNrUmF0ZSwgbm8sIHllcylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB2b2ljZSAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBQbGF5cyBhIHNvdW5kLlxuICAgICpcbiAgICAqIEBtZXRob2QgcGxheVNvdW5kXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzb3VuZCB0byBwbGF5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZvbHVtZSAtIFRoZSBzb3VuZCdzIHZvbHVtZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByYXRlIC0gVGhlIHNvdW5kJ3MgcGxheWJhY2sgcmF0ZS5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVzaWNFZmZlY3QgLSBJbmRpY2F0ZXMgaWYgdGhlIHNvdW5kIHNob3VsZCBiZSBwbGF5ZWQgYXMgYSBtdXNpYyBlZmZlY3QuIEluIHRoYXQgY2FzZSwgdGhlIGN1cnJlbnQgbXVzaWNcbiAgICAqIGF0IGF1ZGlvLWxheWVyIHdpbGwgYmUgcGF1c2VkIHVudGlsIHRoZSBzb3VuZCBmaW5pc2hlcyBwbGF5aW5nLlxuICAgICogQHBhcmFtIHtib29sZWFufSB2b2ljZSAtIEluZGljYXRlcyBpZiB0aGUgc291bmQgc2hvdWxkIGJlIGhhbmRsZWQgYXMgYSB2b2ljZS5cbiAgICAjIyMgICAgICAgICAgXG4gICAgcGxheVNvdW5kOiAobmFtZSwgdm9sdW1lLCByYXRlLCBtdXNpY0VmZmVjdCwgdm9pY2UpIC0+XG4gICAgICAgIGlmICRQQVJBTVMucHJldmlldz8uc2V0dGluZ3Muc291bmREaXNhYmxlZCB0aGVuIHJldHVyblxuICAgICAgICBpZiBub3QgbmFtZT8gb3IgKCF2b2ljZSBhbmQgIUdhbWVNYW5hZ2VyLnNldHRpbmdzLnNvdW5kRW5hYmxlZCkgdGhlbiByZXR1cm5cbiAgICAgICAgaWYgbmFtZS5uYW1lP1xuICAgICAgICAgICAgdm9sdW1lID0gbmFtZS52b2x1bWVcbiAgICAgICAgICAgIHJhdGUgPSBuYW1lLnBsYXliYWNrUmF0ZVxuICAgICAgICAgICAgbmFtZSA9IG5hbWUubmFtZVxuICAgICAgICAgXG4gICAgICAgIGlmIG5hbWUubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGlmIG11c2ljRWZmZWN0XG4gICAgICAgICAgICBAc3RvcE11c2ljKClcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAc291bmRSZWZlcmVuY2VzW25hbWVdP1xuICAgICAgICAgICAgQHNvdW5kUmVmZXJlbmNlc1tuYW1lXSA9IFtdXG4gICAgICAgIFxuICAgICAgICB2b2x1bWUgPSB2b2x1bWUgPyAxMDBcbiAgICAgICAgdm9sdW1lICo9IGlmIHZvaWNlIHRoZW4gQGdlbmVyYWxWb2ljZVZvbHVtZSAvIDEwMCBlbHNlIEBnZW5lcmFsU291bmRWb2x1bWUgLyAxMDBcbiAgICAgICAgXG4gICAgICAgIHJlZmVyZW5jZSA9IG51bGxcbiAgICAgICAgZm9yIHIgaW4gQHNvdW5kUmVmZXJlbmNlc1tuYW1lXVxuICAgICAgICAgICAgaWYgbm90IHIuaXNQbGF5aW5nXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gclxuICAgICAgICAgICAgICAgIGlmIG11c2ljRWZmZWN0IHRoZW4gcmVmZXJlbmNlLm9uRW5kID0gPT4gQHJlc3VtZU11c2ljKDQwKVxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZS52b2ljZSA9IHZvaWNlXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlLnZvbHVtZSA9IHZvbHVtZSAvIDEwMFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZS5wbGF5YmFja1JhdGUgPSByYXRlIC8gMTAwXG4gICAgICAgICAgICAgICAgQHZvaWNlID0gcmVmZXJlbmNlIGlmIHZvaWNlXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlLnBsYXkoKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICBcbiAgICAgICAgaWYgbm90IHJlZmVyZW5jZT9cbiAgICAgICAgICAgIGJ1ZmZlciA9IFJlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihcIkF1ZGlvL1NvdW5kcy8je25hbWV9XCIpXG4gICAgICAgICAgICBpZiBidWZmZXIgYW5kIGJ1ZmZlci5sb2FkZWRcbiAgICAgICAgICAgICAgICBpZiBidWZmZXIuZGVjb2RlZFxuICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2UgPSBuZXcgR1MuQXVkaW9CdWZmZXJSZWZlcmVuY2UoYnVmZmVyLCB2b2ljZSlcbiAgICAgICAgICAgICAgICAgICAgaWYgbXVzaWNFZmZlY3QgdGhlbiByZWZlcmVuY2Uub25FbmQgPSA9PiBAcmVzdW1lTXVzaWMoNDApXG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZS52b2x1bWUgPSB2b2x1bWUgLyAxMDBcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLnBsYXliYWNrUmF0ZSA9IHJhdGUgLyAxMDBcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLnZvaWNlID0gdm9pY2VcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlLnBsYXkoKVxuICAgICAgICAgICAgICAgICAgICBAdm9pY2UgPSByZWZlcmVuY2UgaWYgdm9pY2VcbiAgICAgICAgICAgICAgICAgICAgQHNvdW5kUmVmZXJlbmNlc1tuYW1lXS5wdXNoKHJlZmVyZW5jZSlcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5uYW1lID0gbmFtZVxuICAgICAgICAgICAgICAgICAgICBidWZmZXIub25EZWNvZGVGaW5pc2ggPSAoc291cmNlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gbmV3IEdTLkF1ZGlvQnVmZmVyUmVmZXJlbmNlKHNvdXJjZSwgdm9pY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiBtdXNpY0VmZmVjdCB0aGVuIHJlZmVyZW5jZS5vbkVuZCA9ID0+IEByZXN1bWVNdXNpYyg0MClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZS52b2ljZSA9IHZvaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2Uudm9sdW1lID0gdm9sdW1lIC8gMTAwXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2UucGxheWJhY2tSYXRlID0gcmF0ZSAvIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgQHZvaWNlID0gcmVmZXJlbmNlIGlmIHZvaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2UucGxheSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBAc291bmRSZWZlcmVuY2VzW3NvdXJjZS5uYW1lXS5wdXNoKHJlZmVyZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmRlY29kZSgpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVmZXJlbmNlICAgICAgICAgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogUGxheXMgYSBtdXNpYyBhcyBhIHJhbmRvbSBtdXNpYy4gQSByYW5kb20gbXVzaWMgd2lsbCBmYWRlLWluIGFuZCBmYWRlLW91dFxuICAgICogYXQgcmFuZG9tIHRpbWVzLiBUaGF0IGNhbiBiZSBjb21iaW5lZCB3aXRoIG90aGVyIGF1ZGlvLWxheWVycyB0byBjcmVhdGUgYVxuICAgICogbXVjaCBiZXR0ZXIgbG9vcGluZyBvZiBhbiBhdWRpbyB0cmFjay5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHBsYXlNdXNpY1JhbmRvbVxuICAgICogQHBhcmFtIHtPYmplY3R9IG11c2ljIC0gVGhlIG11c2ljIHRvIHBsYXkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZmFkZVRpbWUgLSBUaGUgdGltZSBmb3IgYSBzaW5nbGUgZmFkZS1pbi9vdXQgaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGxheWVyIC0gVGhlIGF1ZGlvIGxheWVyIHRvIHVzZS5cbiAgICAqIEBwYXJhbSB7Z3MuUmFuZ2V9IHBsYXlUaW1lIC0gUGxheS1UaW1lIHJhbmdlIGxpa2UgMTBzIHRvIDMwcy5cbiAgICAqIEBwYXJhbSB7Z3MuUmFuZ2V9IHBsYXlSYW5nZSAtIFBsYXktUmFuZ2UuXG4gICAgIyMjICAgICBcbiAgICBwbGF5TXVzaWNSYW5kb206IChtdXNpYywgZmFkZVRpbWUsIGxheWVyLCBwbGF5VGltZSwgcGxheVJhbmdlKSAtPlxuICAgICAgICByZXR1cm4gaWYgJFBBUkFNUy5wcmV2aWV3Py5zZXR0aW5ncy5tdXNpY0Rpc2FibGVkXG4gICAgICAgIGxheWVyID0gbGF5ZXIgPyAwXG5cbiAgICAgICAgdm9sdW1lID0gaWYgbXVzaWMudm9sdW1lPyB0aGVuIG11c2ljLnZvbHVtZSBlbHNlIDEwMFxuICAgICAgICB2b2x1bWUgPSB2b2x1bWUgKiAoQGdlbmVyYWxNdXNpY1ZvbHVtZSAvIDEwMClcbiAgICAgICAgQG11c2ljVm9sdW1lID0gdm9sdW1lXG4gICAgICAgIEBkaXNwb3NlTXVzaWMobGF5ZXIpXG4gICAgICAgIFxuICAgICAgICBpZiBtdXNpYy5uYW1lPyBhbmQgbXVzaWMubmFtZS5sZW5ndGggPiAwXG4gICAgICAgICAgICBtdXNpY0J1ZmZlciA9IEBwbGF5KFwiQXVkaW8vTXVzaWMvI3ttdXNpYy5uYW1lfVwiLCB2b2x1bWUsIG11c2ljLnJhdGUpXG4gICAgICAgICAgICBtdXNpY0J1ZmZlci5sb29wID0geWVzXG4gICAgICAgICAgICBtdXNpY0J1ZmZlci52b2x1bWUgPSAwXG4gICAgICAgICAgICBtdXNpY0J1ZmZlci5kdXJhdGlvbiA9IE1hdGgucm91bmQobXVzaWNCdWZmZXIuZHVyYXRpb24gKiAxMDAwIC8gMTYuNilcbiAgICAgICAgICAgIG11c2ljQnVmZmVyLmN1c3RvbURhdGEucGxheVR5cGUgPSAxXG4gICAgICAgICAgICBtdXNpY0J1ZmZlci5jdXN0b21EYXRhLnBsYXlUaW1lID0gcGxheVRpbWVcbiAgICAgICAgICAgIGlmIHBsYXlSYW5nZS5lbmQgPT0gMFxuICAgICAgICAgICAgICAgIG11c2ljQnVmZmVyLmN1c3RvbURhdGEucGxheVJhbmdlID0geyBzdGFydDogcGxheVJhbmdlLnN0YXJ0LCBlbmQ6IG11c2ljQnVmZmVyLmR1cmF0aW9uIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtdXNpY0J1ZmZlci5jdXN0b21EYXRhLnBsYXlSYW5nZSA9IHBsYXlSYW5nZVxuICAgICAgICAgICAgbXVzaWNCdWZmZXIuY3VzdG9tRGF0YS5mYWRlVGltZSA9IGZhZGVUaW1lXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG11c2ljQnVmZmVyLmN1c3RvbURhdGEuc3RhcnRUaW1lciA9IE1hdGgucm91bmQobXVzaWNCdWZmZXIuY3VzdG9tRGF0YS5wbGF5UmFuZ2Uuc3RhcnQgKyBNYXRoLnJhbmRvbSgpICogKG11c2ljQnVmZmVyLmN1c3RvbURhdGEucGxheVJhbmdlLmVuZCAtIG11c2ljQnVmZmVyLmN1c3RvbURhdGEucGxheVJhbmdlLnN0YXJ0KSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQGF1ZGlvQnVmZmVycy5wdXNoKG11c2ljQnVmZmVyKSBpZiBub3QgQGF1ZGlvQnVmZmVycy5jb250YWlucyhtdXNpY0J1ZmZlcilcbiAgICAgICAgICAgIEBhdWRpb0J1ZmZlcnNCeUxheWVyW2xheWVyXSA9IG11c2ljQnVmZmVyXG4gICAgICAgICAgICBAYXVkaW9MYXllcnNbbGF5ZXJdID0gbmFtZTogbXVzaWMubmFtZSwgdGltZTogbXVzaWMuY3VycmVudFRpbWUsIHZvbHVtZTogbXVzaWMudm9sdW1lLCByYXRlOiBtdXNpYy5wbGF5YmFja1JhdGUsIGZhZGVJblRpbWU6IGZhZGVUaW1lLCBjdXN0b21EYXRhOiBtdXNpY0J1ZmZlci5jdXN0b21EYXRhXG4gICAgIFxuICAgICMjIypcbiAgICAqIFBsYXlzIGEgbXVzaWMuXG4gICAgKlxuICAgICogQG1ldGhvZCBwbGF5TXVzaWNcbiAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSAtIFRoZSBtdXNpYyB0byBwbGF5LiBDYW4gYmUganVzdCBhIG5hbWUgb3IgYSBtdXNpYyBkYXRhLW9iamVjdC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2b2x1bWUgLSBUaGUgbXVzaWMncyB2b2x1bWUgaW4gcGVyY2VudC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByYXRlIC0gVGhlIG11c2ljJ3MgcGxheWJhY2sgcmF0ZSBpbiBwZXJjZW50LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhZGVJblRpbWUgLSBUaGUgZmFkZS1pbiB0aW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGxheWVyIC0gVGhlIGxheWVyIHRvIHBsYXkgdGhlIG11c2ljIG9uLlxuICAgICMjIyAgICAgICAgICBcbiAgICBwbGF5TXVzaWM6IChuYW1lLCB2b2x1bWUsIHJhdGUsIGZhZGVJblRpbWUsIGxheWVyKSAtPlxuICAgICAgICByZXR1cm4gaWYgJFBBUkFNUy5wcmV2aWV3Py5zZXR0aW5ncy5tdXNpY0Rpc2FibGVkXG4gICAgICAgIFxuICAgICAgICBpZiBuYW1lPyBhbmQgbmFtZS5uYW1lP1xuICAgICAgICAgICAgbGF5ZXIgPSBpZiBsYXllcj8gdGhlbiBsYXllciBlbHNlIHJhdGUgfHwgMFxuICAgICAgICAgICAgZmFkZUluVGltZSA9IHZvbHVtZVxuICAgICAgICAgICAgdm9sdW1lID0gbmFtZS52b2x1bWVcbiAgICAgICAgICAgIHJhdGUgPSBuYW1lLnBsYXliYWNrUmF0ZVxuICAgICAgICAgICAgbmFtZSA9IG5hbWUubmFtZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsYXllciA9IGxheWVyID8gMFxuICAgICAgICAgICAgXG4gICAgICAgIEBkaXNwb3NlTXVzaWMobGF5ZXIpXG4gICAgICAgIEBhdWRpb0xheWVyc1tsYXllcl0gPSBuYW1lOiBuYW1lLCB2b2x1bWU6IHZvbHVtZSwgcmF0ZTogcmF0ZSwgZmFkZUluVGltZTogZmFkZUluVGltZSwgcGxheWluZzogdHJ1ZVxuICAgICAgICAgICBcbiAgICAgICAgdm9sdW1lID0gaWYgdm9sdW1lPyB0aGVuIHZvbHVtZSBlbHNlIDEwMFxuICAgICAgICB2b2x1bWUgPSB2b2x1bWUgKiAoQGdlbmVyYWxNdXNpY1ZvbHVtZSAvIDEwMClcbiAgICAgICAgQG11c2ljVm9sdW1lID0gdm9sdW1lXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgbmFtZT8gYW5kIG5hbWUubGVuZ3RoID4gMFxuICAgICAgICAgICAgQG11c2ljID0gbmFtZTogbmFtZVxuICAgICAgICAgICAgbXVzaWNCdWZmZXIgPSBAcGxheShcIkF1ZGlvL011c2ljLyN7bmFtZX1cIiwgdm9sdW1lLCByYXRlLCBmYWRlSW5UaW1lKVxuICAgICAgICAgICAgbXVzaWNCdWZmZXIubG9vcCA9IHllc1xuICAgICAgICAgICAgQGF1ZGlvQnVmZmVycy5wdXNoKG11c2ljQnVmZmVyKSBpZiBub3QgQGF1ZGlvQnVmZmVycy5jb250YWlucyhtdXNpY0J1ZmZlcilcbiAgICAgICAgICAgIEBhdWRpb0J1ZmZlcnNCeUxheWVyW2xheWVyXSA9IG11c2ljQnVmZmVyXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN1bWVzIGEgcGF1c2VkIG11c2ljLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdW1lTXVzaWNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmYWRlSW5UaW1lIC0gVGhlIGZhZGUtaW4gdGltZSBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGF5ZXIgLSBUaGUgYXVkaW8gbGF5ZXIgdG8gcmVzdW1lLlxuICAgICMjIyAgIFxuICAgIHJlc3VtZU11c2ljOiAoZmFkZUluVGltZSwgbGF5ZXIpIC0+XG4gICAgICAgIGxheWVyID0gbGF5ZXIgPyAwXG4gICAgICAgIGlmIEBhdWRpb0J1ZmZlcnNCeUxheWVyW2xheWVyXT8gYW5kIG5vdCBAYXVkaW9CdWZmZXJzQnlMYXllcltsYXllcl0uaXNQbGF5aW5nXG4gICAgICAgICAgICBAYXVkaW9CdWZmZXJzQnlMYXllcltsYXllcl0ucmVzdW1lKGZhZGVJblRpbWUpXG4gICAgICAgICAgICBAYXVkaW9MYXllcnNbbGF5ZXJdPy5wbGF5aW5nID0gdHJ1ZVxuICAgIFxuICAgICMjIypcbiAgICAqIFN0b3BzIGEgbXVzaWMuXG4gICAgKlxuICAgICogQG1ldGhvZCBzdG9wTXVzaWNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBmYWRlT3V0VGltZSAtIFRoZSBmYWRlLW91dCB0aW1lIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXllciAtIFRoZSBhdWRpbyBsYXllciB0byBzdG9wLlxuICAgICMjIyAgICAgICAgIFxuICAgIHN0b3BNdXNpYzogKGZhZGVPdXRUaW1lLCBsYXllcikgLT4gXG4gICAgICAgIGxheWVyID0gbGF5ZXIgPyAwXG4gICAgICAgIEBhdWRpb0J1ZmZlcnNCeUxheWVyW2xheWVyXT8uc3RvcChmYWRlT3V0VGltZSlcbiAgICAgICAgQGF1ZGlvQnVmZmVyc0J5TGF5ZXJbbGF5ZXJdPy5jdXN0b21EYXRhID0ge31cbiAgICAgICAgQGF1ZGlvTGF5ZXJzW2xheWVyXT8ucGxheWluZyA9IGZhbHNlXG4gICAgICAgIEBtdXNpYyA9IG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU3RvcHMgYWxsIG11c2ljL2F1ZGlvIGxheWVycy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3BBbGxNdXNpY1xuICAgICogQHBhcmFtIHtudW1iZXJ9IGZhZGVPdXRUaW1lIC0gVGhlIGZhZGUtb3V0IHRpbWUgaW4gZnJhbWVzLlxuICAgICMjIyAgICAgICAgIFxuICAgIHN0b3BBbGxNdXNpYzogKGZhZGVPdXRUaW1lKSAtPiBcbiAgICAgICAgZm9yIGJ1ZmZlciBpbiBAYXVkaW9CdWZmZXJzXG4gICAgICAgICAgICBpZiBidWZmZXI/XG4gICAgICAgICAgICAgICAgYnVmZmVyLnN0b3AoZmFkZU91dFRpbWUpXG4gICAgICAgICAgICAgICAgYnVmZmVyLmN1c3RvbURhdGEgPSB7fVxuICAgICAgICBAbXVzaWMgPSBudWxsXG5cblxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIGEgbXVzaWMuXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNwb3NlTXVzaWNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXllciAtIFRoZSBhdWRpbyBsYXllciBvZiB0aGUgbXVzaWMgdG8gZGlzcG9zZS5cbiAgICAjIyMgXG4gICAgZGlzcG9zZU11c2ljOiAobGF5ZXIpIC0+XG4gICAgICAgIGxheWVyID0gbGF5ZXIgPyAwXG4gICAgICAgIFxuICAgICAgICBAc3RvcE11c2ljKDAsIGxheWVyKVxuICAgICAgICAjQGF1ZGlvQnVmZmVyc1tsYXllcl0/LmRpc3Bvc2UoKVxuICAgICAgICBAYXVkaW9CdWZmZXJzLnJlbW92ZShAYXVkaW9CdWZmZXJzQnlMYXllcltsYXllcl0pXG4gICAgICAgIEBhdWRpb0J1ZmZlcnNCeUxheWVyW2xheWVyXSA9IG51bGxcbiAgICAgICAgQGF1ZGlvTGF5ZXJzW2xheWVyXSA9IG51bGxcbiAgICBcbndpbmRvdy5BdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKClcbmdzLkF1ZGlvTWFuYWdlciA9IEF1ZGlvTWFuYWdlciJdfQ==
//# sourceURL=AudioManager_69.js
var DataManager;

DataManager = (function() {

  /**
  * Manages the game's data like loading documents. Documents are stored
  * in the data folder of the game in JSON format. The UID is used as the file-name.
  * A document has the following structure:<br>
  * <br>
  * UID - Unique Identifier<br>
  * Items -> An object containing all the items/fields of the document.<br>
  * Items.Type -> The type of the document<br>
  * Items.Name -> The name of the document<br>
  * <br>
  * @module gs
  * @class DataManager
  * @memberof gs
  * @constructor
   */
  function DataManager() {

    /**
    * Stores all documents by UID.
    * @property documentsByUid
    * @type gs.Document[]
     */
    this.documentsByUid = {};

    /**
    * Stores all documents.
    * @property documents
    * @type gs.Document[]
     */
    this.documents = [];

    /**
    * Indiciates if all requested documents are loaded.
    * @property documentsLoaded
    * @type boolean
     */
    this.documentsLoaded = true;

    /**
    * @property events
    * @type gs.EventEmitter
     */
    this.events = new gs.EventEmitter();
  }


  /**
  * Gets all documents with a specified type.
  *
  * @method getDocumentsByType
  * @param {String} type - The document type.
  * @return {gs.Document[]} The documents.
   */

  DataManager.prototype.getDocumentsByType = function(type) {
    var result, summary, uid;
    result = [];
    for (uid in this.summaries.items) {
      summary = this.summaries.items[uid];
      if ((summary.items != null) && summary.items.type === type) {
        result.push(this.getDocument(uid));
      }
    }
    return result;
  };


  /**
  * Gets the first document with the specified type.
  *
  * @method getDocumentByType
  * @param {String} type - The document type.
  * @return {gs.Document} The document or <b>null</b> if a document with the specified type doesn't exist.
   */

  DataManager.prototype.getDocumentByType = function(type) {
    var result, summary, uid;
    result = null;
    for (uid in this.summaries.items) {
      summary = this.summaries.items[uid];
      if ((summary.items != null) && summary.items.type === type) {
        result = this.getDocument(uid);
        break;
      }
    }
    return result;
  };


  /**
  * Gets a document by its UID.
  *
  * @method getDocument
  * @param {String} uid - The UID of the document to get.
  * @return {gs.Document} The document or <b>null</b> if a document with the specified UID doesn't exist.
   */

  DataManager.prototype.getDocument = function(uid) {
    var onerror, request, result, summary;
    result = this.documentsByUid[uid];
    if (result == null) {
      if ($PARAMS.test != null) {
        $.post("/invoke", {
          controller: "gs.DocumentController",
          method: "loadDocument",
          data: JSON.stringify({
            uid: uid
          })
        }, (function(_this) {
          return function(data, textStatus, xhr) {
            var dataObject, r;
            dataObject = JSON.parse(data.data);
            r = _this.documentsByUid[dataObject.uid];
            r.items = dataObject.items;
            return r.loaded = true;
          };
        })(this), "json");
      } else if ($PARAMS.testOffline != null) {
        request = new XMLHttpRequest();
        request.open('GET', "./data/" + uid + ".json", true);
        request.responseType = 'arraybuffer';
        onerror = (function(_this) {
          return function(e) {
            console.log("ERROR");
            return console.log(e);
          };
        })(this);
        request.onload = (function(_this) {
          return function() {
            var buffer, reader;
            buffer = GS.DataPreparer.prepare(request.response);
            reader = new FileReader();
            reader.onload = function(e) {
              var dataObject, r;
              dataObject = JSON.parse(e.target.result);
              GS.dataCache[uid] = dataObject;
              r = _this.documentsByUid[dataObject.uid];
              r.items = dataObject.items;
              return r.loaded = true;
            };
            reader.onerror = onerror;
            return reader.readAsText(new Blob([buffer]));
          };
        })(this);
        request.onerror = onerror;
        request.send();
      } else {
        request = new XMLHttpRequest();
        request.open('GET', "data/" + uid + ".json.js", true);
        request.responseType = 'arraybuffer';
        onerror = (function(_this) {
          return function(e) {
            console.log("ERROR");
            return console.log(e);
          };
        })(this);
        request.onload = (function(_this) {
          return function() {
            var buffer, reader;
            buffer = GS.DataPreparer.prepare(request.response);
            reader = new FileReader();
            reader.onload = function(e) {
              var dataObject, r;
              eval(e.target.result);
              dataObject = GS.dataCache[uid];
              r = _this.documentsByUid[dataObject.uid];
              r.items = dataObject.items;
              return r.loaded = true;
            };
            reader.onerror = onerror;
            return reader.readAsText(new Blob([buffer]));
          };
        })(this);
        request.onerror = onerror;
        request.send();
      }
      if (this.summaries && this.summaries.items) {
        summary = this.summaries.items[uid];
        if (summary) {
          result = {
            uid: uid,
            items: summary.items,
            loaded: false
          };
        }
      } else {
        result = {
          uid: uid,
          loaded: false
        };
      }
      if (result) {
        this.documentsByUid[uid] = result;
        this.documents.push(result);
        this.documentsLoaded = false;
      }
      if (uid === "SUMMARIES") {
        this.summaries = result;
      }
    }
    return result;
  };


  /**
  * Gets a document by its UID. If the document isn't already loaded this method
  * only returned document only contains summary data.
  *
  * @method getDocumentSummary
  * @param {String} uid - The UID of the document to get.
  * @return {gs.Document} The document or <b>null</b> if a document with the specified UID doesn't exist.
   */

  DataManager.prototype.getDocumentSummary = function(uid) {
    return this.summaries.items[uid];
  };


  /**
  * Updates the loading process of documents.
  *
  * @method update
   */

  DataManager.prototype.update = function() {
    var i, j, ref;
    if (!this.documentsLoaded) {
      this.documentsLoaded = true;
      for (i = j = 0, ref = this.documents.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        if (!this.documents[i].loaded) {
          this.documentsLoaded = false;
          break;
        }
      }
      if (this.documentsLoaded) {
        this.events.emit("loaded", this);
      }
    }
    return null;
  };

  return DataManager;

})();

window.DataManager = DataManager;

gs.DataManager = DataManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7Ozs7OztFQWVhLHFCQUFBOztBQUNUOzs7OztJQUtBLElBQUMsQ0FBQSxjQUFELEdBQWtCOztBQUVsQjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxlQUFELEdBQW1COztBQUVuQjs7OztJQUlBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFBO0VBMUJMOzs7QUE2QmI7Ozs7Ozs7O3dCQU9BLGtCQUFBLEdBQW9CLFNBQUMsSUFBRDtBQUNoQixRQUFBO0lBQUEsTUFBQSxHQUFTO0FBRVQsU0FBQSwyQkFBQTtNQUNJLE9BQUEsR0FBVSxJQUFDLENBQUEsU0FBUyxDQUFDLEtBQU0sQ0FBQSxHQUFBO01BQzNCLElBQUcsdUJBQUEsSUFBbUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFkLEtBQXNCLElBQTVDO1FBQ0ksTUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFDLENBQUEsV0FBRCxDQUFhLEdBQWIsQ0FBWixFQURKOztBQUZKO0FBS0EsV0FBTztFQVJTOzs7QUFVcEI7Ozs7Ozs7O3dCQU9BLGlCQUFBLEdBQW1CLFNBQUMsSUFBRDtBQUNmLFFBQUE7SUFBQSxNQUFBLEdBQVM7QUFFVCxTQUFBLDJCQUFBO01BQ0ksT0FBQSxHQUFVLElBQUMsQ0FBQSxTQUFTLENBQUMsS0FBTSxDQUFBLEdBQUE7TUFDM0IsSUFBRyx1QkFBQSxJQUFtQixPQUFPLENBQUMsS0FBSyxDQUFDLElBQWQsS0FBc0IsSUFBNUM7UUFDSSxNQUFBLEdBQVMsSUFBQyxDQUFBLFdBQUQsQ0FBYSxHQUFiO0FBQ1QsY0FGSjs7QUFGSjtBQU1BLFdBQU87RUFUUTs7O0FBV25COzs7Ozs7Ozt3QkFPQSxXQUFBLEdBQWEsU0FBQyxHQUFEO0FBQ1QsUUFBQTtJQUFBLE1BQUEsR0FBUyxJQUFDLENBQUEsY0FBZSxDQUFBLEdBQUE7SUFFekIsSUFBTyxjQUFQO01BQ0ksSUFBRyxvQkFBSDtRQUNJLENBQUMsQ0FBQyxJQUFGLENBQU8sU0FBUCxFQUNBO1VBQUUsVUFBQSxFQUFZLHVCQUFkO1VBQXVDLE1BQUEsRUFBUSxjQUEvQztVQUErRCxJQUFBLEVBQU0sSUFBSSxDQUFDLFNBQUwsQ0FBZTtZQUFFLEdBQUEsRUFBSyxHQUFQO1dBQWYsQ0FBckU7U0FEQSxFQUVBLENBQUEsU0FBQSxLQUFBO2lCQUFBLFNBQUMsSUFBRCxFQUFPLFVBQVAsRUFBbUIsR0FBbkI7QUFDSSxnQkFBQTtZQUFBLFVBQUEsR0FBYSxJQUFJLENBQUMsS0FBTCxDQUFXLElBQUksQ0FBQyxJQUFoQjtZQUNiLENBQUEsR0FBSSxLQUFDLENBQUEsY0FBZSxDQUFBLFVBQVUsQ0FBQyxHQUFYO1lBQ3BCLENBQUMsQ0FBQyxLQUFGLEdBQVUsVUFBVSxDQUFDO21CQUNyQixDQUFDLENBQUMsTUFBRixHQUFXO1VBSmY7UUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBRkEsRUFRRSxNQVJGLEVBREo7T0FBQSxNQVVLLElBQUcsMkJBQUg7UUFDRCxPQUFBLEdBQWMsSUFBQSxjQUFBLENBQUE7UUFDZCxPQUFPLENBQUMsSUFBUixDQUFhLEtBQWIsRUFBb0IsU0FBQSxHQUFZLEdBQVosR0FBa0IsT0FBdEMsRUFBK0MsSUFBL0M7UUFDQSxPQUFPLENBQUMsWUFBUixHQUF1QjtRQUN2QixPQUFBLEdBQVUsQ0FBQSxTQUFBLEtBQUE7aUJBQUEsU0FBQyxDQUFEO1lBQ04sT0FBTyxDQUFDLEdBQVIsQ0FBWSxPQUFaO21CQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksQ0FBWjtVQUZNO1FBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQTtRQUlWLE9BQU8sQ0FBQyxNQUFSLEdBQWlCLENBQUEsU0FBQSxLQUFBO2lCQUFBLFNBQUE7QUFDZixnQkFBQTtZQUFBLE1BQUEsR0FBUyxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQWhCLENBQXdCLE9BQU8sQ0FBQyxRQUFoQztZQUNULE1BQUEsR0FBYSxJQUFBLFVBQUEsQ0FBQTtZQUNiLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLFNBQUMsQ0FBRDtBQUNkLGtCQUFBO2NBQUEsVUFBQSxHQUFhLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFwQjtjQUNiLEVBQUUsQ0FBQyxTQUFVLENBQUEsR0FBQSxDQUFiLEdBQW9CO2NBQ3BCLENBQUEsR0FBSSxLQUFDLENBQUEsY0FBZSxDQUFBLFVBQVUsQ0FBQyxHQUFYO2NBQ3BCLENBQUMsQ0FBQyxLQUFGLEdBQVUsVUFBVSxDQUFDO3FCQUNyQixDQUFDLENBQUMsTUFBRixHQUFXO1lBTEc7WUFNaEIsTUFBTSxDQUFDLE9BQVAsR0FBaUI7bUJBQ2pCLE1BQU0sQ0FBQyxVQUFQLENBQXNCLElBQUEsSUFBQSxDQUFLLENBQUMsTUFBRCxDQUFMLENBQXRCO1VBVmU7UUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBO1FBWWpCLE9BQU8sQ0FBQyxPQUFSLEdBQWtCO1FBQ2xCLE9BQU8sQ0FBQyxJQUFSLENBQUEsRUFyQkM7T0FBQSxNQUFBO1FBOEJELE9BQUEsR0FBYyxJQUFBLGNBQUEsQ0FBQTtRQUNkLE9BQU8sQ0FBQyxJQUFSLENBQWEsS0FBYixFQUFvQixPQUFBLEdBQVUsR0FBVixHQUFnQixVQUFwQyxFQUFnRCxJQUFoRDtRQUNBLE9BQU8sQ0FBQyxZQUFSLEdBQXVCO1FBQ3ZCLE9BQUEsR0FBVSxDQUFBLFNBQUEsS0FBQTtpQkFBQSxTQUFDLENBQUQ7WUFDTixPQUFPLENBQUMsR0FBUixDQUFZLE9BQVo7bUJBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxDQUFaO1VBRk07UUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBO1FBSVYsT0FBTyxDQUFDLE1BQVIsR0FBaUIsQ0FBQSxTQUFBLEtBQUE7aUJBQUEsU0FBQTtBQUNmLGdCQUFBO1lBQUEsTUFBQSxHQUFTLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBaEIsQ0FBd0IsT0FBTyxDQUFDLFFBQWhDO1lBQ1QsTUFBQSxHQUFhLElBQUEsVUFBQSxDQUFBO1lBQ2IsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsU0FBQyxDQUFEO0FBQ2Qsa0JBQUE7Y0FBQSxJQUFBLENBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFkO2NBQ0EsVUFBQSxHQUFhLEVBQUUsQ0FBQyxTQUFVLENBQUEsR0FBQTtjQUMxQixDQUFBLEdBQUksS0FBQyxDQUFBLGNBQWUsQ0FBQSxVQUFVLENBQUMsR0FBWDtjQUNwQixDQUFDLENBQUMsS0FBRixHQUFVLFVBQVUsQ0FBQztxQkFDckIsQ0FBQyxDQUFDLE1BQUYsR0FBVztZQUxHO1lBTWhCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO21CQUNqQixNQUFNLENBQUMsVUFBUCxDQUFzQixJQUFBLElBQUEsQ0FBSyxDQUFDLE1BQUQsQ0FBTCxDQUF0QjtVQVZlO1FBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQTtRQVlqQixPQUFPLENBQUMsT0FBUixHQUFrQjtRQUNsQixPQUFPLENBQUMsSUFBUixDQUFBLEVBbERDOztNQTJETCxJQUFHLElBQUMsQ0FBQSxTQUFELElBQWUsSUFBQyxDQUFBLFNBQVMsQ0FBQyxLQUE3QjtRQUNJLE9BQUEsR0FBVSxJQUFDLENBQUEsU0FBUyxDQUFDLEtBQU0sQ0FBQSxHQUFBO1FBQzNCLElBQUcsT0FBSDtVQUNJLE1BQUEsR0FBUztZQUFFLEdBQUEsRUFBSyxHQUFQO1lBQVksS0FBQSxFQUFPLE9BQU8sQ0FBQyxLQUEzQjtZQUFrQyxNQUFBLEVBQVEsS0FBMUM7WUFEYjtTQUZKO09BQUEsTUFBQTtRQUtJLE1BQUEsR0FBUztVQUFFLEdBQUEsRUFBSyxHQUFQO1VBQVksTUFBQSxFQUFRLEtBQXBCO1VBTGI7O01BT0EsSUFBRyxNQUFIO1FBQ0ksSUFBQyxDQUFBLGNBQWUsQ0FBQSxHQUFBLENBQWhCLEdBQXVCO1FBQ3ZCLElBQUMsQ0FBQSxTQUFTLENBQUMsSUFBWCxDQUFnQixNQUFoQjtRQUNBLElBQUMsQ0FBQSxlQUFELEdBQW1CLE1BSHZCOztNQUtBLElBQUcsR0FBQSxLQUFPLFdBQVY7UUFBMkIsSUFBQyxDQUFBLFNBQUQsR0FBYSxPQUF4QztPQWxGSjs7QUFvRkEsV0FBTztFQXZGRTs7O0FBMEZiOzs7Ozs7Ozs7d0JBUUEsa0JBQUEsR0FBb0IsU0FBQyxHQUFEO1dBQVMsSUFBQyxDQUFBLFNBQVMsQ0FBQyxLQUFNLENBQUEsR0FBQTtFQUExQjs7O0FBRXBCOzs7Ozs7d0JBS0EsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEsSUFBRyxDQUFJLElBQUMsQ0FBQSxlQUFSO01BQ0ksSUFBQyxDQUFBLGVBQUQsR0FBbUI7QUFFbkIsV0FBUyw4RkFBVDtRQUNJLElBQUcsQ0FBSSxJQUFDLENBQUEsU0FBVSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQXJCO1VBQ0ksSUFBQyxDQUFBLGVBQUQsR0FBbUI7QUFDbkIsZ0JBRko7O0FBREo7TUFLQSxJQUFHLElBQUMsQ0FBQSxlQUFKO1FBQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLENBQWEsUUFBYixFQUF1QixJQUF2QixFQURKO09BUko7O0FBV0EsV0FBTztFQVpIOzs7Ozs7QUFjWixNQUFNLENBQUMsV0FBUCxHQUFxQjs7QUFDckIsRUFBRSxDQUFDLFdBQUgsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IERhdGFNYW5hZ2VyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBEYXRhTWFuYWdlclxuICAgICMjIypcbiAgICAqIE1hbmFnZXMgdGhlIGdhbWUncyBkYXRhIGxpa2UgbG9hZGluZyBkb2N1bWVudHMuIERvY3VtZW50cyBhcmUgc3RvcmVkXG4gICAgKiBpbiB0aGUgZGF0YSBmb2xkZXIgb2YgdGhlIGdhbWUgaW4gSlNPTiBmb3JtYXQuIFRoZSBVSUQgaXMgdXNlZCBhcyB0aGUgZmlsZS1uYW1lLlxuICAgICogQSBkb2N1bWVudCBoYXMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6PGJyPlxuICAgICogPGJyPlxuICAgICogVUlEIC0gVW5pcXVlIElkZW50aWZpZXI8YnI+XG4gICAgKiBJdGVtcyAtPiBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGl0ZW1zL2ZpZWxkcyBvZiB0aGUgZG9jdW1lbnQuPGJyPlxuICAgICogSXRlbXMuVHlwZSAtPiBUaGUgdHlwZSBvZiB0aGUgZG9jdW1lbnQ8YnI+XG4gICAgKiBJdGVtcy5OYW1lIC0+IFRoZSBuYW1lIG9mIHRoZSBkb2N1bWVudDxicj5cbiAgICAqIDxicj5cbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBEYXRhTWFuYWdlclxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBhbGwgZG9jdW1lbnRzIGJ5IFVJRC5cbiAgICAgICAgKiBAcHJvcGVydHkgZG9jdW1lbnRzQnlVaWRcbiAgICAgICAgKiBAdHlwZSBncy5Eb2N1bWVudFtdXG4gICAgICAgICMjIyBcbiAgICAgICAgQGRvY3VtZW50c0J5VWlkID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgYWxsIGRvY3VtZW50cy5cbiAgICAgICAgKiBAcHJvcGVydHkgZG9jdW1lbnRzXG4gICAgICAgICogQHR5cGUgZ3MuRG9jdW1lbnRbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGRvY3VtZW50cyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNpYXRlcyBpZiBhbGwgcmVxdWVzdGVkIGRvY3VtZW50cyBhcmUgbG9hZGVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkb2N1bWVudHNMb2FkZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAZG9jdW1lbnRzTG9hZGVkID0gdHJ1ZVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBldmVudHNcbiAgICAgICAgKiBAdHlwZSBncy5FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuRXZlbnRFbWl0dGVyKClcbiAgICAgICAgXG5cbiAgICAjIyMqXG4gICAgKiBHZXRzIGFsbCBkb2N1bWVudHMgd2l0aCBhIHNwZWNpZmllZCB0eXBlLlxuICAgICpcbiAgICAqIEBtZXRob2QgZ2V0RG9jdW1lbnRzQnlUeXBlXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFRoZSBkb2N1bWVudCB0eXBlLlxuICAgICogQHJldHVybiB7Z3MuRG9jdW1lbnRbXX0gVGhlIGRvY3VtZW50cy5cbiAgICAjIyMgIFxuICAgIGdldERvY3VtZW50c0J5VHlwZTogKHR5cGUpIC0+XG4gICAgICAgIHJlc3VsdCA9IFtdXG4gICAgICAgIFxuICAgICAgICBmb3IgdWlkIG9mIEBzdW1tYXJpZXMuaXRlbXNcbiAgICAgICAgICAgIHN1bW1hcnkgPSBAc3VtbWFyaWVzLml0ZW1zW3VpZF1cbiAgICAgICAgICAgIGlmIHN1bW1hcnkuaXRlbXM/IGFuZCBzdW1tYXJ5Lml0ZW1zLnR5cGUgPT0gdHlwZVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKEBnZXREb2N1bWVudCh1aWQpKVxuXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgZmlyc3QgZG9jdW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZXREb2N1bWVudEJ5VHlwZVxuICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBUaGUgZG9jdW1lbnQgdHlwZS5cbiAgICAqIEByZXR1cm4ge2dzLkRvY3VtZW50fSBUaGUgZG9jdW1lbnQgb3IgPGI+bnVsbDwvYj4gaWYgYSBkb2N1bWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdHlwZSBkb2Vzbid0IGV4aXN0LlxuICAgICMjIyAgXG4gICAgZ2V0RG9jdW1lbnRCeVR5cGU6ICh0eXBlKSAtPlxuICAgICAgICByZXN1bHQgPSBudWxsXG4gICAgICAgIFxuICAgICAgICBmb3IgdWlkIG9mIEBzdW1tYXJpZXMuaXRlbXNcbiAgICAgICAgICAgIHN1bW1hcnkgPSBAc3VtbWFyaWVzLml0ZW1zW3VpZF1cbiAgICAgICAgICAgIGlmIHN1bW1hcnkuaXRlbXM/IGFuZCBzdW1tYXJ5Lml0ZW1zLnR5cGUgPT0gdHlwZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBnZXREb2N1bWVudCh1aWQpXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYSBkb2N1bWVudCBieSBpdHMgVUlELlxuICAgICpcbiAgICAqIEBtZXRob2QgZ2V0RG9jdW1lbnRcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1aWQgLSBUaGUgVUlEIG9mIHRoZSBkb2N1bWVudCB0byBnZXQuXG4gICAgKiBAcmV0dXJuIHtncy5Eb2N1bWVudH0gVGhlIGRvY3VtZW50IG9yIDxiPm51bGw8L2I+IGlmIGEgZG9jdW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIFVJRCBkb2Vzbid0IGV4aXN0LlxuICAgICMjIyAgXG4gICAgZ2V0RG9jdW1lbnQ6ICh1aWQpIC0+XG4gICAgICAgIHJlc3VsdCA9IEBkb2N1bWVudHNCeVVpZFt1aWRdXG4gICAgXG4gICAgICAgIGlmIG5vdCByZXN1bHQ/XG4gICAgICAgICAgICBpZiAkUEFSQU1TLnRlc3Q/XG4gICAgICAgICAgICAgICAgJC5wb3N0KFwiL2ludm9rZVwiLCBcbiAgICAgICAgICAgICAgICB7IGNvbnRyb2xsZXI6IFwiZ3MuRG9jdW1lbnRDb250cm9sbGVyXCIsIG1ldGhvZDogXCJsb2FkRG9jdW1lbnRcIiwgZGF0YTogSlNPTi5zdHJpbmdpZnkoeyB1aWQ6IHVpZCB9KX0sXG4gICAgICAgICAgICAgICAgKGRhdGEsIHRleHRTdGF0dXMsIHhocikgPT4gXG4gICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QgPSBKU09OLnBhcnNlKGRhdGEuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgciA9IEBkb2N1bWVudHNCeVVpZFtkYXRhT2JqZWN0LnVpZF1cbiAgICAgICAgICAgICAgICAgICAgci5pdGVtcyA9IGRhdGFPYmplY3QuaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgci5sb2FkZWQgPSB0cnVlXG4gICAgXG4gICAgICAgICAgICAgICAgLCBcImpzb25cIilcbiAgICAgICAgICAgIGVsc2UgaWYgJFBBUkFNUy50ZXN0T2ZmbGluZT9cbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIFwiLi9kYXRhL1wiICsgdWlkICsgXCIuanNvblwiLCB0cnVlKVxuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJ1xuICAgICAgICAgICAgICAgIG9uZXJyb3IgPSAoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUlwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+XG4gICAgICAgICAgICAgICAgICBidWZmZXIgPSBHUy5EYXRhUHJlcGFyZXIucHJlcGFyZShyZXF1ZXN0LnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PlxuICAgICAgICAgICAgICAgICAgICBkYXRhT2JqZWN0ID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIEdTLmRhdGFDYWNoZVt1aWRdID0gZGF0YU9iamVjdFxuICAgICAgICAgICAgICAgICAgICByID0gQGRvY3VtZW50c0J5VWlkW2RhdGFPYmplY3QudWlkXVxuICAgICAgICAgICAgICAgICAgICByLml0ZW1zID0gZGF0YU9iamVjdC5pdGVtcztcbiAgICAgICAgICAgICAgICAgICAgci5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBvbmVycm9yXG4gICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChuZXcgQmxvYihbYnVmZmVyXSkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gb25lcnJvclxuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpXG4gICAgICAgICAgICAgICMgICQuZ2V0KFwiLi9kYXRhL1wiICsgdWlkICsgXCIuanNvblwiLCB7fSwgKGRhdGEpID0+IFxuICAgICAgICAgICAgICAjICAgICAgZGF0YU9iamVjdCA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICAgICAgICAgICAgIyAgICAgIEdTLmRhdGFDYWNoZVt1aWRdID0gZGF0YU9iamVjdFxuICAgICAgICAgICAgICAjICAgICAgciA9IEBkb2N1bWVudHNCeVVpZFtkYXRhT2JqZWN0LnVpZF1cbiAgICAgICAgICAgICAgIyAgICAgIHIuaXRlbXMgPSBkYXRhT2JqZWN0Lml0ZW1zO1xuICAgICAgICAgICAgICAjICAgICAgci5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAjICAgIClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIFwiZGF0YS9cIiArIHVpZCArIFwiLmpzb24uanNcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgICAgICAgICAgICBvbmVycm9yID0gKGUpID0+XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1JcIilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PlxuICAgICAgICAgICAgICAgICAgYnVmZmVyID0gR1MuRGF0YVByZXBhcmVyLnByZXBhcmUocmVxdWVzdC5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgZXZhbChlLnRhcmdldC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIGRhdGFPYmplY3QgPSBHUy5kYXRhQ2FjaGVbdWlkXVxuICAgICAgICAgICAgICAgICAgICByID0gQGRvY3VtZW50c0J5VWlkW2RhdGFPYmplY3QudWlkXVxuICAgICAgICAgICAgICAgICAgICByLml0ZW1zID0gZGF0YU9iamVjdC5pdGVtcztcbiAgICAgICAgICAgICAgICAgICAgci5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBvbmVycm9yXG4gICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChuZXcgQmxvYihbYnVmZmVyXSkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gb25lcnJvclxuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpXG4gICAgICAgICAgICAgICAjICQuZ2V0KFwiLi9kYXRhL1wiICsgdWlkICsgXCIuanNvbi5qc1wiLCB7fSwgKGRhdGEpID0+IFxuICAgICAgICAgICAgICAgICMgICAgZXZhbChkYXRhKVxuICAgICAgICAgICAgICAgICAjICAgZGF0YU9iamVjdCA9IEdTLmRhdGFDYWNoZVt1aWRdXG4gICAgICAgICAgICAgICAgICMgICByID0gQGRvY3VtZW50c0J5VWlkW2RhdGFPYmplY3QudWlkXVxuICAgICAgICAgICAgICAgICAjICAgci5pdGVtcyA9IGRhdGFPYmplY3QuaXRlbXM7XG4gICAgICAgICAgICAgICAgICMgICByLmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICMgKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAc3VtbWFyaWVzIGFuZCBAc3VtbWFyaWVzLml0ZW1zXG4gICAgICAgICAgICAgICAgc3VtbWFyeSA9IEBzdW1tYXJpZXMuaXRlbXNbdWlkXVxuICAgICAgICAgICAgICAgIGlmIHN1bW1hcnlcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0geyB1aWQ6IHVpZCwgaXRlbXM6IHN1bW1hcnkuaXRlbXMsIGxvYWRlZDogZmFsc2UgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsgdWlkOiB1aWQsIGxvYWRlZDogZmFsc2UgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiByZXN1bHRcbiAgICAgICAgICAgICAgICBAZG9jdW1lbnRzQnlVaWRbdWlkXSA9IHJlc3VsdFxuICAgICAgICAgICAgICAgIEBkb2N1bWVudHMucHVzaChyZXN1bHQpXG4gICAgICAgICAgICAgICAgQGRvY3VtZW50c0xvYWRlZCA9IGZhbHNlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIHVpZCA9PSBcIlNVTU1BUklFU1wiIHRoZW4gQHN1bW1hcmllcyA9IHJlc3VsdFxuICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYSBkb2N1bWVudCBieSBpdHMgVUlELiBJZiB0aGUgZG9jdW1lbnQgaXNuJ3QgYWxyZWFkeSBsb2FkZWQgdGhpcyBtZXRob2RcbiAgICAqIG9ubHkgcmV0dXJuZWQgZG9jdW1lbnQgb25seSBjb250YWlucyBzdW1tYXJ5IGRhdGEuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZXREb2N1bWVudFN1bW1hcnlcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1aWQgLSBUaGUgVUlEIG9mIHRoZSBkb2N1bWVudCB0byBnZXQuXG4gICAgKiBAcmV0dXJuIHtncy5Eb2N1bWVudH0gVGhlIGRvY3VtZW50IG9yIDxiPm51bGw8L2I+IGlmIGEgZG9jdW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIFVJRCBkb2Vzbid0IGV4aXN0LlxuICAgICMjIyBcbiAgICBnZXREb2N1bWVudFN1bW1hcnk6ICh1aWQpIC0+IEBzdW1tYXJpZXMuaXRlbXNbdWlkXVxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGxvYWRpbmcgcHJvY2VzcyBvZiBkb2N1bWVudHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpZiBub3QgQGRvY3VtZW50c0xvYWRlZFxuICAgICAgICAgICAgQGRvY3VtZW50c0xvYWRlZCA9IHRydWVcbiAgICBcbiAgICAgICAgICAgIGZvciBpIGluIFswLi4uQGRvY3VtZW50cy5sZW5ndGhdXG4gICAgICAgICAgICAgICAgaWYgbm90IEBkb2N1bWVudHNbaV0ubG9hZGVkXG4gICAgICAgICAgICAgICAgICAgIEBkb2N1bWVudHNMb2FkZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBkb2N1bWVudHNMb2FkZWRcbiAgICAgICAgICAgICAgICBAZXZlbnRzLmVtaXQoXCJsb2FkZWRcIiwgdGhpcylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG5cbndpbmRvdy5EYXRhTWFuYWdlciA9IERhdGFNYW5hZ2VyXG5ncy5EYXRhTWFuYWdlciA9IERhdGFNYW5hZ2VyIl19
//# sourceURL=DataManager_78.js
var RecordManager;

RecordManager = (function() {

  /**
  * Manages the game's database and gives access to all data-records.
  *
  * @module gs
  * @class RecordManager
  * @memberof gs
  * @constructor
   */
  function RecordManager() {

    /**
    * Stores all data-record documents
    * @property documents
    * @type gs.Document[]
     */
    this.documents = null;

    /**
    * Stores all data-record documents by category > id.
    * @property collectionDocuments
    * @type gs.Document[][]
     */
    this.collectionDocuments = [];

    /**
    * Localizable strings of all data-record documents.
    * @property localizableStrings
    * @type Object
     */
    this.localizableStrings = {};

    /**
    * Indicates if all data-records are already translated.
    * @property translated
    * @type boolean
     */
    this.translated = false;

    /**
    * Indicates if all data-records are loaded and initialized.
    * @property initialized
    * @type boolean
     */
    this.initialized = false;
  }


  /**
  * Loads all data-record documents.
  *
  * @method load
   */

  RecordManager.prototype.load = function() {
    return this.documents = DataManager.getDocumentsByType("data_record");
  };


  /**
  * Prepares/Initializes RecordManager and all loaded data-record documents for use. Needs to be
  * called before RecordManager can be used.
  *
  * @method prepare
   */

  RecordManager.prototype.prepare = function() {
    var color, document, i, iconSets, j, k, len, len1, ref, ref1;
    iconSets = [];
    ref = this.documents;
    for (j = 0, len = ref.length; j < len; j++) {
      document = ref[j];
      if (this[document.items.category] == null) {
        this[document.items.category] = [];
        this[document.items.category + "Collection"] = [];
        this.collectionDocuments.push(this[document.items.category + "Collection"]);
      }
      if (document.items.id != null) {
        this[document.items.category][document.items.id] = document.items.data;
        this[document.items.category + "Collection"][document.items.id] = document;
        document.items.data.index = document.items.id;
      }
      if ((document.items.data != null) && (document.items.data.icon != null)) {
        if (iconSets.indexOf(document.items.data.icon.name) === -1) {
          iconSets.push(document.items.data.icon.name);
        }
      }
      if (document.items.localizableStrings != null) {
        Object.mixin(this.localizableStrings, document.items.localizableStrings);
      }
    }
    this.system = this.system[0];
    this.system.iconSets = iconSets;
    if (this.system.colors) {
      ref1 = this.system.colors;
      for (i = k = 0, len1 = ref1.length; k < len1; i = ++k) {
        color = ref1[i];
        this.system.colors[i] = new Color(color);
      }
    }
    return this.initialized = true;
  };


  /**
  * Translates all localizable fields for each data-record.
  *
  * @method translate
   */

  RecordManager.prototype.translate = function() {
    var document, j, len, ref, results;
    if (!this.translated) {
      this.translated = true;
      ref = this.documents;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        document = ref[j];
        if ((document.items.data.name != null) && (document.items.data.name.lcId != null)) {
          document.items.data.name = lcs(document.items.data.name);
        }
        if ((document.items.data.description != null) && (document.items.data.description.lcId != null)) {
          document.items.data.description = lcs(document.items.data.description);
        }
        if ((document.items.data.removeMessage != null) && (document.items.data.removeMessage.lcId != null)) {
          document.items.data.removeMessage = lcs(document.items.data.removeMessage);
        }
        if ((document.items.data.usingMessage != null) && (document.items.data.usingMessage.lcId != null)) {
          results.push(document.items.data.usingMessage = lcs(document.items.data.usingMessage));
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };

  return RecordManager;

})();

window.RecordManager = new RecordManager();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7O0VBUWEsdUJBQUE7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsbUJBQUQsR0FBdUI7O0FBRXZCOzs7OztJQUtBLElBQUMsQ0FBQSxrQkFBRCxHQUFzQjs7QUFFdEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYzs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlO0VBbENOOzs7QUFvQ2I7Ozs7OzswQkFLQSxJQUFBLEdBQU0sU0FBQTtXQUNGLElBQUMsQ0FBQSxTQUFELEdBQWEsV0FBVyxDQUFDLGtCQUFaLENBQStCLGFBQS9CO0VBRFg7OztBQUdOOzs7Ozs7OzBCQU1BLE9BQUEsR0FBUyxTQUFBO0FBQ0wsUUFBQTtJQUFBLFFBQUEsR0FBVztBQUNYO0FBQUEsU0FBQSxxQ0FBQTs7TUFDSSxJQUFPLHFDQUFQO1FBQ0ksSUFBSyxDQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBZixDQUFMLEdBQWdDO1FBQ2hDLElBQUssQ0FBQSxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQWYsR0FBMEIsWUFBMUIsQ0FBTCxHQUErQztRQUMvQyxJQUFDLENBQUEsbUJBQW1CLENBQUMsSUFBckIsQ0FBMEIsSUFBSyxDQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBZixHQUEwQixZQUExQixDQUEvQixFQUhKOztNQUlBLElBQUcseUJBQUg7UUFDSSxJQUFLLENBQUEsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFmLENBQXlCLENBQUEsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFmLENBQTlCLEdBQW1ELFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDbEUsSUFBSyxDQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBZixHQUEwQixZQUExQixDQUF3QyxDQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBZixDQUE3QyxHQUFrRTtRQUNsRSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFwQixHQUE0QixRQUFRLENBQUMsS0FBSyxDQUFDLEdBSC9DOztNQUlBLElBQUcsNkJBQUEsSUFBeUIsa0NBQTVCO1FBQ0ksSUFBRyxRQUFRLENBQUMsT0FBVCxDQUFpQixRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBMUMsQ0FBQSxLQUFtRCxDQUFDLENBQXZEO1VBQ0ksUUFBUSxDQUFDLElBQVQsQ0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBdkMsRUFESjtTQURKOztNQUlBLElBQUcseUNBQUg7UUFDSSxNQUFNLENBQUMsS0FBUCxDQUFhLElBQUMsQ0FBQSxrQkFBZCxFQUFrQyxRQUFRLENBQUMsS0FBSyxDQUFDLGtCQUFqRCxFQURKOztBQWJKO0lBZ0JBLElBQUMsQ0FBQSxNQUFELEdBQVUsSUFBQyxDQUFBLE1BQU8sQ0FBQSxDQUFBO0lBQ2xCLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixHQUFtQjtJQUVuQixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBWDtBQUNJO0FBQUEsV0FBQSxnREFBQTs7UUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU8sQ0FBQSxDQUFBLENBQWYsR0FBd0IsSUFBQSxLQUFBLENBQU0sS0FBTjtBQUQ1QixPQURKOztXQUtBLElBQUMsQ0FBQSxXQUFELEdBQWU7RUExQlY7OztBQTRCVDs7Ozs7OzBCQUtBLFNBQUEsR0FBVyxTQUFBO0FBQ1AsUUFBQTtJQUFBLElBQUcsQ0FBSSxJQUFDLENBQUEsVUFBUjtNQUNJLElBQUMsQ0FBQSxVQUFELEdBQWM7QUFDZDtBQUFBO1dBQUEscUNBQUE7O1FBQ0ksSUFBRyxrQ0FBQSxJQUE4Qix1Q0FBakM7VUFDSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFwQixHQUEyQixHQUFBLENBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBeEIsRUFEL0I7O1FBRUEsSUFBRyx5Q0FBQSxJQUFxQyw4Q0FBeEM7VUFDSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFwQixHQUFrQyxHQUFBLENBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBeEIsRUFEdEM7O1FBRUEsSUFBRywyQ0FBQSxJQUF1QyxnREFBMUM7VUFDSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFwQixHQUFvQyxHQUFBLENBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBeEIsRUFEeEM7O1FBRUEsSUFBRywwQ0FBQSxJQUFzQywrQ0FBekM7dUJBQ0ksUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBcEIsR0FBbUMsR0FBQSxDQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQXhCLEdBRHZDO1NBQUEsTUFBQTsrQkFBQTs7QUFQSjtxQkFGSjs7RUFETzs7Ozs7O0FBY2YsTUFBTSxDQUFDLGFBQVAsR0FBMkIsSUFBQSxhQUFBLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IFJlY29yZE1hbmFnZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIFJlY29yZE1hbmFnZXJcbiAgICAjIyMqXG4gICAgKiBNYW5hZ2VzIHRoZSBnYW1lJ3MgZGF0YWJhc2UgYW5kIGdpdmVzIGFjY2VzcyB0byBhbGwgZGF0YS1yZWNvcmRzLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBSZWNvcmRNYW5hZ2VyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCBkYXRhLXJlY29yZCBkb2N1bWVudHNcbiAgICAgICAgKiBAcHJvcGVydHkgZG9jdW1lbnRzXG4gICAgICAgICogQHR5cGUgZ3MuRG9jdW1lbnRbXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBkb2N1bWVudHMgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCBkYXRhLXJlY29yZCBkb2N1bWVudHMgYnkgY2F0ZWdvcnkgPiBpZC5cbiAgICAgICAgKiBAcHJvcGVydHkgY29sbGVjdGlvbkRvY3VtZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkRvY3VtZW50W11bXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBjb2xsZWN0aW9uRG9jdW1lbnRzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBMb2NhbGl6YWJsZSBzdHJpbmdzIG9mIGFsbCBkYXRhLXJlY29yZCBkb2N1bWVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGxvY2FsaXphYmxlU3RyaW5nc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyMgXG4gICAgICAgIEBsb2NhbGl6YWJsZVN0cmluZ3MgPSB7fVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiBhbGwgZGF0YS1yZWNvcmRzIGFyZSBhbHJlYWR5IHRyYW5zbGF0ZWQuXG4gICAgICAgICogQHByb3BlcnR5IHRyYW5zbGF0ZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjIyBcbiAgICAgICAgQHRyYW5zbGF0ZWQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiBhbGwgZGF0YS1yZWNvcmRzIGFyZSBsb2FkZWQgYW5kIGluaXRpYWxpemVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbml0aWFsaXplZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjIFxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyBhbGwgZGF0YS1yZWNvcmQgZG9jdW1lbnRzLlxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZFxuICAgICMjIyAgXG4gICAgbG9hZDogLT5cbiAgICAgICAgQGRvY3VtZW50cyA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50c0J5VHlwZShcImRhdGFfcmVjb3JkXCIpXG5cbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcy9Jbml0aWFsaXplcyBSZWNvcmRNYW5hZ2VyIGFuZCBhbGwgbG9hZGVkIGRhdGEtcmVjb3JkIGRvY3VtZW50cyBmb3IgdXNlLiBOZWVkcyB0byBiZVxuICAgICogY2FsbGVkIGJlZm9yZSBSZWNvcmRNYW5hZ2VyIGNhbiBiZSB1c2VkLlxuICAgICpcbiAgICAqIEBtZXRob2QgcHJlcGFyZVxuICAgICMjIyAgXG4gICAgcHJlcGFyZTogLT5cbiAgICAgICAgaWNvblNldHMgPSBbXVxuICAgICAgICBmb3IgZG9jdW1lbnQgaW4gQGRvY3VtZW50c1xuICAgICAgICAgICAgaWYgbm90IHRoaXNbZG9jdW1lbnQuaXRlbXMuY2F0ZWdvcnldP1xuICAgICAgICAgICAgICAgIHRoaXNbZG9jdW1lbnQuaXRlbXMuY2F0ZWdvcnldID0gW11cbiAgICAgICAgICAgICAgICB0aGlzW2RvY3VtZW50Lml0ZW1zLmNhdGVnb3J5ICsgXCJDb2xsZWN0aW9uXCJdID0gW11cbiAgICAgICAgICAgICAgICBAY29sbGVjdGlvbkRvY3VtZW50cy5wdXNoKHRoaXNbZG9jdW1lbnQuaXRlbXMuY2F0ZWdvcnkgKyBcIkNvbGxlY3Rpb25cIl0pXG4gICAgICAgICAgICBpZiBkb2N1bWVudC5pdGVtcy5pZD9cbiAgICAgICAgICAgICAgICB0aGlzW2RvY3VtZW50Lml0ZW1zLmNhdGVnb3J5XVtkb2N1bWVudC5pdGVtcy5pZF0gPSBkb2N1bWVudC5pdGVtcy5kYXRhXG4gICAgICAgICAgICAgICAgdGhpc1tkb2N1bWVudC5pdGVtcy5jYXRlZ29yeSArIFwiQ29sbGVjdGlvblwiXVtkb2N1bWVudC5pdGVtcy5pZF0gPSBkb2N1bWVudFxuICAgICAgICAgICAgICAgIGRvY3VtZW50Lml0ZW1zLmRhdGEuaW5kZXggPSBkb2N1bWVudC5pdGVtcy5pZFxuICAgICAgICAgICAgaWYgZG9jdW1lbnQuaXRlbXMuZGF0YT8gYW5kIGRvY3VtZW50Lml0ZW1zLmRhdGEuaWNvbj9cbiAgICAgICAgICAgICAgICBpZiBpY29uU2V0cy5pbmRleE9mKGRvY3VtZW50Lml0ZW1zLmRhdGEuaWNvbi5uYW1lKSA9PSAtMVxuICAgICAgICAgICAgICAgICAgICBpY29uU2V0cy5wdXNoKGRvY3VtZW50Lml0ZW1zLmRhdGEuaWNvbi5uYW1lKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGRvY3VtZW50Lml0ZW1zLmxvY2FsaXphYmxlU3RyaW5ncz9cbiAgICAgICAgICAgICAgICBPYmplY3QubWl4aW4oQGxvY2FsaXphYmxlU3RyaW5ncywgZG9jdW1lbnQuaXRlbXMubG9jYWxpemFibGVTdHJpbmdzKVxuICAgICAgICAgICAgXG4gICAgICAgIEBzeXN0ZW0gPSBAc3lzdGVtWzBdXG4gICAgICAgIEBzeXN0ZW0uaWNvblNldHMgPSBpY29uU2V0c1xuICAgICAgICBcbiAgICAgICAgaWYgQHN5c3RlbS5jb2xvcnNcbiAgICAgICAgICAgIGZvciBjb2xvciwgaSBpbiBAc3lzdGVtLmNvbG9yc1xuICAgICAgICAgICAgICAgIEBzeXN0ZW0uY29sb3JzW2ldID0gbmV3IENvbG9yKGNvbG9yKVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIEBpbml0aWFsaXplZCA9IHllc1xuICAgIFxuICAgICMjIypcbiAgICAqIFRyYW5zbGF0ZXMgYWxsIGxvY2FsaXphYmxlIGZpZWxkcyBmb3IgZWFjaCBkYXRhLXJlY29yZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICMjIyAgICAgIFxuICAgIHRyYW5zbGF0ZTogLT5cbiAgICAgICAgaWYgbm90IEB0cmFuc2xhdGVkXG4gICAgICAgICAgICBAdHJhbnNsYXRlZCA9IHllc1xuICAgICAgICAgICAgZm9yIGRvY3VtZW50IGluIEBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICBpZiBkb2N1bWVudC5pdGVtcy5kYXRhLm5hbWU/IGFuZCBkb2N1bWVudC5pdGVtcy5kYXRhLm5hbWUubGNJZD9cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaXRlbXMuZGF0YS5uYW1lID0gbGNzKGRvY3VtZW50Lml0ZW1zLmRhdGEubmFtZSlcbiAgICAgICAgICAgICAgICBpZiBkb2N1bWVudC5pdGVtcy5kYXRhLmRlc2NyaXB0aW9uPyBhbmQgZG9jdW1lbnQuaXRlbXMuZGF0YS5kZXNjcmlwdGlvbi5sY0lkP1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5pdGVtcy5kYXRhLmRlc2NyaXB0aW9uID0gbGNzKGRvY3VtZW50Lml0ZW1zLmRhdGEuZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgaWYgZG9jdW1lbnQuaXRlbXMuZGF0YS5yZW1vdmVNZXNzYWdlPyBhbmQgZG9jdW1lbnQuaXRlbXMuZGF0YS5yZW1vdmVNZXNzYWdlLmxjSWQ/XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lml0ZW1zLmRhdGEucmVtb3ZlTWVzc2FnZSA9IGxjcyhkb2N1bWVudC5pdGVtcy5kYXRhLnJlbW92ZU1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgaWYgZG9jdW1lbnQuaXRlbXMuZGF0YS51c2luZ01lc3NhZ2U/IGFuZCBkb2N1bWVudC5pdGVtcy5kYXRhLnVzaW5nTWVzc2FnZS5sY0lkP1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5pdGVtcy5kYXRhLnVzaW5nTWVzc2FnZSA9IGxjcyhkb2N1bWVudC5pdGVtcy5kYXRhLnVzaW5nTWVzc2FnZSlcbiAgICAgIFxuXG53aW5kb3cuUmVjb3JkTWFuYWdlciA9IG5ldyBSZWNvcmRNYW5hZ2VyKCkiXX0=
//# sourceURL=RecordManager_89.js
var Formula, Space, Style, UIManager;

Formula = (function() {

  /**
  * Encapsulates a UI formula. A formula can be used in UI layouts to define
  * property-bindings or to implement a specific behavior.
  *
  * @module ui
  * @class Formula
  * @memberof ui
  * @constructor
  * @param {Function} f - The formula-function. Defines the logic of the formula.
  * @param {Object} data - An optional data-object which can be accessed inside the formula-function.
  * @param {string} event - An optional event-name to define when the formula should be executed.
   */
  function Formula(f, data, event) {

    /**
    * Indicates if its the first time the formula is called.
    * @property onInitialize
    * @type boolean
     */
    var i, j, l, ref, ref1;
    this.onInitialize = true;

    /**
    * The formula-function.
    * @property exec_
    * @type Function
     */
    this.exec_ = f;

    /**
    * An optional data-object which can bes accessed inside the formula-function.
    * @property data
    * @type Object
     */
    this.data = data;

    /**
    * An optional event-name to define when the formula should be executed.
    * @property event
    * @type string
     */
    this.event = event;

    /**
    * An array of custom number-data which can be used for different purposes. The first element
    * is also used in onChange method to store the old value and check against the new one to detect a change.
    * @property numbers
    * @type number[]
     */
    this.numbers = new Array(10);
    for (i = j = 0, ref = this.numbers.length; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {
      this.numbers[i] = 0;
    }

    /**
    * An array of custom string-data which can be used for different purposes. The first element
    * is also used in onTextChange method to store the old value and check against the new one to detect a change.
    * @property strings
    * @type string[]
     */
    this.strings = new Array(10);
    for (i = l = 0, ref1 = this.strings.length; 0 <= ref1 ? l <= ref1 : l >= ref1; i = 0 <= ref1 ? ++l : --l) {
      this.strings[i] = "";
    }
  }


  /**
  * The formula-function. Its a wrapper-function before the first-time call was made.
  * @method exec
   */

  Formula.prototype.exec = function() {
    var r;
    this.exec = this.exec_;
    r = this.exec_.apply(this, arguments);
    this.onInitialize = false;
    return r;
  };


  /**
  * Checks if the specified number-value has changed since the last check. It uses
  * the first entry of the numbers-array to store the value and check against the new one.
  *
  * @method onChange
  * @param {number} numberValue - Number value to check.
   */

  Formula.prototype.onChange = function(numberValue) {
    var result;
    result = this.numbers[0] !== numberValue;
    this.numbers[0] = numberValue;
    return result;
  };


  /**
  * Checks if the specified text-value has changed since the last check. It uses
  * the first entry of the strings-array to store the value and check against the new one.
  *
  * @method onTextChange
  * @param {string} textValue - Text value to check.
   */

  Formula.prototype.onTextChange = function(textValue) {
    var result;
    result = this.strings[0] !== textValue;
    this.strings[0] = textValue;
    return result;
  };

  return Formula;

})();

ui.Formula = Formula;

Space = (function() {

  /**
  * Describes a space inside or around something like a margin or padding.
  *
  * @module ui
  * @class Space
  * @memberof ui
  * @constructor
  * @param {number} left - Space at the left in pixels.
  * @param {number} top - Space at the top in pixels.
  * @param {number} right - Space at the right in pixels.
  * @param {number} bottom - Space at the bottom in pixels.
   */
  function Space(left, top, right, bottom) {

    /**
    * Space at the left in pixels.
    * @property left
    * @type number
     */
    this.left = left;

    /**
    * Space at the top in pixels.
    * @property top
    * @type number
     */
    this.top = top;

    /**
    * Space at the right in pixels.
    * @property right
    * @type number
     */
    this.right = right;

    /**
    * Space at the bottom in pixels.
    * @property bottom
    * @type number
     */
    this.bottom = bottom;
  }


  /**
  * Sets the coordinates of the space by copying them from a specified space.
  *
  * @method setFromObject
  * @param {Object} space - A space to copy.
   */

  Space.prototype.setFromObject = function(space) {
    this.left = space.left;
    this.top = space.top;
    this.right = space.right;
    return this.bottom = space.bottom;
  };


  /**
  * Sets the coordinates of the space.
  *
  * @method set
  * @param {number} left - Space at the left in pixels.
  * @param {number} top - Space at the top in pixels.
  * @param {number} right - Space at the right in pixels.
  * @param {number} bottom - Space at the bottom in pixels.
   */

  Space.prototype.set = function(left, top, right, bottom) {
    this.left = left;
    this.top = top;
    this.right = right;
    return this.bottom = bottom;
  };


  /**
  * Creates a new space object from an array of coordinates.
  *
  * @method fromArray
  * @static
  * @param {number[]} array - An array of coordinates (left, top right, bottom).
   */

  Space.fromArray = function(array) {
    return new ui.Space(array[0], array[1], array[2], array[3]);
  };

  return Space;

})();

ui.Space = Space;

Style = (function() {

  /**
  * A UI style can applied to a UI object to modify it properties like color, image, etc. to give a certain "style" to it.
  *
  * @module ui
  * @class Style
  * @memberof ui
  * @constructor
  * @param {Object} descriptor - A style-descriptor to initialize the style from.
  * @param {number} id - A unique numeric ID to access the style through UIManager.stylesById collection.
  * @param {number} selector - A selector ID which controls under which conditions the styles will be applied.
   */
  function Style(descriptor, id, selector) {

    /**
    * ID number to quickly access this style and link to this style.
    * @property id
    * @type number
     */
    this.id = id;

    /**
    * Style-ID of target object. This style will only be applied on UI objects with that style ID which are
    * children of UI objects where this style is applied.
    * @property target
    * @type number
     */
    this.target = -1;

    /**
    * Selector-ID which controls under which conditions the style becomes active.
    * @property selector
    * @type number
     */
    this.selector = selector;

    /**
    * The font used for the text-display.
    * @default null
    * @property font
    * @type gs.Font
     */
    this.font = null;

    /**
    * The UI object's image used for visual presentation.
    * @property image
    * @type string
     */
    this.image = null;

    /**
    * The UI object's animations used for visual presentation.
    * @default null
    * @property animations
    * @type Object[]
     */
    this.animations = null;

    /**
    * The UI object's color.
    * @property color
    * @type gs.Color
     */
    this.color = null;

    /**
    * The UI object's anchor-point. For example: An anchor-point with 0,0 places the object with its top-left corner
    * at its position but with an 0.5, 0.5 anchor-point the object is placed with its center. An anchor-point of 1,1
    * places the object with its lower-right corner.
    * @property anchor
    * @type gs.Point
     */
    this.anchor = null;

    /**
    * The UI object's zoom-setting for x and y axis.
    * @default new gs.Point(1.0, 1.0)
    * @property zoom
    * @type gs.Point
     */
    this.zoom = null;

    /**
    * The UI object's margin. The margin defines an extra space around the UI object. 
    * The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property margin
    * @type Object
     */
    this.margin = null;

    /**
    * The UI object's padding. The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property padding
    * @type Object
     */
    this.padding = null;

    /**
    * The UI object's mask for masking-effects.
    * @property mask
    * @type gs.Mask
     */
    this.mask = null;

    /**
    * The UI object's alignment.
    * @property alignment
    * @type ui.Alignment
     */
    this.alignment = -1;

    /**
    * The UI object's opacity to control transparency. For example: 0 = Transparent, 255 = Opaque, 128 = Semi-Transparent.
    * @property opacity
    * @type number
     */
    this.opacity = -1;

    /**
    * The object's clip-rect for visual presentation.
    * @default null
    * @property clipRect
    * @type gs.Rect
    * @protected
     */
    this.clipRect = null;

    /**
    * The corner-size of the frame.
    * @property frameCornerSize
    * @type number
     */
    this.frameCornerSize = -1;

    /**
    * The thickness of the frame.
    * @property frameThickness
    * @type number
     */
    this.frameThickness = -1;

    /**
    * The looping of the image.
    * @property looping
    * @type ui.Orientation
     */
    this.looping = null;

    /**
    * The object's z-index controls rendering-order/image-overlapping. An object with a smaller z-index is rendered
    * before an object with a larger index. For example: To make sure a game object is always on top of the screen, it
    * should have the largest z-index of all game objects.
    * @property zIndex
    * @type number
     */
    this.zIndex = -1;

    /**
    * The object's alignment on x-axis. Needs to be supported by layout.
    * @property alignmentX
    * @type number
     */
    this.alignmentX = -1;

    /**
    * The object's alignment on y-axis. Needs to be supported by layout.
    * @property alignmentY
    * @type number
     */
    this.alignmentY = -1;

    /**
    * The object's resize behavior.
    * @property resizable
    * @type boolean
     */
    this.resizable = null;

    /**
    * The original style descriptor.
    * @property descriptor
    * @type Object
     */
    this.descriptor = descriptor;
    if (descriptor) {
      this.setFromDescriptor(descriptor);
    }
  }


  /**
  * Initializes the style from a style-descriptor.
  *
  * @method setFromDescriptor
  * @param {Object} descriptor - The style-descriptor.
   */

  Style.prototype.setFromDescriptor = function(descriptor) {
    this.descriptor = descriptor;
    this.image = descriptor.image;
    if (descriptor.color) {
      this.color = gs.Color.fromArray(descriptor.color);
    }
    if (descriptor.anchor) {
      this.anchor = new gs.Point(descriptor.anchor[0], descriptor.anchor[1]);
    }
    if (descriptor.zoom) {
      this.zoom = new gs.Point(descriptor.zoom[0], descriptor.zoom[1]);
    }
    if (descriptor.font) {
      this.setupFont(descriptor);
    }
    if (descriptor.clipRect) {
      this.clipRect = gs.Rect.fromArray(descriptor.clipRect);
    }
    if (descriptor.opacity >= 0) {
      this.opacity = descriptor.opacity;
    }
    if (descriptor.alignment >= 0) {
      this.alignment = descriptor.alignment;
    }
    if (descriptor.margin) {
      this.margin = ui.Space.fromArray(descriptor.margin);
    }
    if (descriptor.padding) {
      this.padding = ui.Space.fromArray(descriptor.padding);
    }
    this.animations = descriptor.animations;
    if (descriptor.frameCornerSize) {
      this.frameCornerSize = descriptor.frameCornerSize;
    }
    if (descriptor.frameThickness) {
      this.frameThickness = descriptor.frameThickness;
    }
    if (descriptor.frame) {
      this.frame = descriptor.frame;
    }
    if (descriptor.looping) {
      this.looping = descriptor.looping;
    }
    if (descriptor.resizable != null) {
      this.resizable = descriptor.resizable;
    }
    if (descriptor.zIndex) {
      this.zIndex = descriptor.zIndex;
    }
    if (descriptor.alignmentX) {
      this.alignmentX = ui.UIManager.alignments[descriptor.alignmentX];
    }
    if (descriptor.alignmentY) {
      return this.alignmentY = ui.UIManager.alignments[descriptor.alignmentY];
    }
  };

  Style.prototype.set = function(style) {
    this.image = style.image;
    this.color.setFromObject(style.color);
    this.anchor.set(style.anchor.x, style.anchor.y);
    this.zoom.set(style.zoom.x, style.zoom.y);
    if (style.font) {
      if (!this.font) {
        this.font = new gs.Font(style.font.name, style.font.size);
      }
      this.font.set(style.font);
    }
    if (style.clipRect) {
      if (!this.clipRect) {
        this.clipRect = new gs.Rect();
      }
      this.clipRect.setFromObject(style.clipRect);
    }
    this.opacity = style.opacitz;
    this.alignment = style.alignment;
    this.margin.setFromObject(style.margin);
    return this.padding.setFromObject(style.padding);
  };


  /**
  * Initializes font-data from a style-descriptor.
  *
  * @method setupFont
  * @param {Object} descriptor - The style-descriptor.
  * @protected
   */

  Style.prototype.setupFont = function(descriptor) {
    var ref, ref1, ref10, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9;
    if (descriptor.font) {
      if (!this.font) {
        this.font = new Font(descriptor.font.name, (ref = descriptor.font.size) != null ? ref : 0);
      } else {
        this.font.name = descriptor.font.name;
        this.font.size = (ref1 = descriptor.font.size) != null ? ref1 : 0;
      }
      this.font.bold = (ref2 = descriptor.font.bold) != null ? ref2 : this.font.bold;
      this.font.italic = (ref3 = descriptor.font.italic) != null ? ref3 : this.font.italic;
      this.font.smallCaps = (ref4 = descriptor.font.smallCaps) != null ? ref4 : this.font.smallCaps;
      this.font.underline = (ref5 = descriptor.font.underline) != null ? ref5 : this.font.underline;
      this.font.strikeThrough = (ref6 = descriptor.font.strikeThrough) != null ? ref6 : this.font.strikeThrough;
      if (descriptor.font.color != null) {
        this.font.color.setFromArray(descriptor.font.color);
      }
      if (descriptor.font.border != null) {
        this.font.border = (ref7 = descriptor.font.border) != null ? ref7 : false;
        this.font.borderSize = (ref8 = descriptor.font.borderSize) != null ? ref8 : 4;
        this.font.borderColor.set(0, 0, 0, 255);
      }
      if (descriptor.font.outline != null) {
        this.font.border = (ref9 = descriptor.font.outline) != null ? ref9 : false;
        this.font.borderSize = (ref10 = descriptor.font.outline.size) != null ? ref10 : 4;
        if (descriptor.font.outline.color != null) {
          return this.font.borderColor.setFromArray(descriptor.font.outline.color);
        } else {
          return this.font.borderColor.set(0, 0, 0, 255);
        }
      }
    }
  };


  /**
  * Applies the style to a UI object.
  *
  * @method apply
  * @param {ui.Object_UIElement} object - The UI object where the style should be applied to.
   */

  Style.prototype.apply = function(object) {
    var ref;
    if (!object.activeStyles.contains(this)) {
      object.activeStyles.push(this);
      if (this.font) {
        if ((ref = object.font) != null) {
          ref.set(this.font);
        }
      }
      if (this.color) {
        object.color.set(this.color);
      }
      if (this.image) {
        object.image = this.image;
      }
      if (this.anchor) {
        object.anchor.set(this.anchor.x, this.anchor.y);
      }
      if (this.zoom) {
        object.zoom.set(this.zoom.x, this.zoom.y);
      }
      if (this.padding) {
        object.padding.setFromObject(this.padding);
      }
      if (this.margin) {
        object.margin.setFromObject(this.margin);
      }
      if (this.opacity >= 0) {
        object.opacity = this.opacity;
      }
      if (this.alignment >= 0) {
        object.alignment = this.alignment;
      }
      if (this.frameThickness >= 0) {
        object.frameThickness = this.frameThickness;
      }
      if (this.frameCornerSize >= 0) {
        object.frameCornerSize = this.frameCornerSize;
      }
      if (this.mask) {
        object.mask.set(this.mask);
      }
      if (this.zIndex >= 0) {
        object.zIndex = this.zIndex;
      }
      if (this.alignmentX >= 0) {
        object.alignmentX = this.alignmentX;
      }
      if (this.alignmentY >= 0) {
        object.alignmentY = this.alignmentY;
      }
      if (this.resizable != null) {
        object.resizable = this.resizable;
      }
      this.applyLooping(object);
      return this.applyAnimations(object);
    }
  };


  /**
  * Applies the looping-data of the style to a UI object.
  *
  * @method applyLooping
  * @param {ui.Object_UIElement} object - The UI object where the looping-data should be applied to.
  * @protected
   */

  Style.prototype.applyLooping = function(object) {
    if (this.looping) {
      if (!object.visual.looping) {
        object.visual.dispose();
        object.removeComponent(object.visual);
        object.visual = new gs.Component_TilingSprite();
        object.addComponent(object.visual);
      }
      object.visual.looping.vertical = this.looping.vertical;
      return object.visual.looping.horizontal = this.looping.horizontal;
    }
  };


  /**
  * Applies the animation-data of the style to a UI object. This automatically adds an animation-handler
  * component(ui.Component_AnimationHandler) with the id "animationHandler" to the UI object if not already exists.
  *
  * @method applyAnimations
  * @param {ui.Object_UIElement} object - The UI object where the animation-data should be applied to.
  * @protected
   */

  Style.prototype.applyAnimations = function(object) {
    if (this.animations) {
      object.animations = Object.deepCopy(this.animations);
      if (!object.findComponentById("animationHandler")) {
        return object.addComponent(new ui.Component_AnimationHandler(), "animationHandler");
      }
    }
  };


  /**
  * Reverts the changes from a UI object made by this style. However, this resets all styleable properties
  * were set by this style. So it is necessary to apply all other styles again, but that is already handles in
  * ui.Component_UIBehavior.
  *
  * @method revert
  * @param {ui.Object_UIElement} object - The UI object where the style should be reverted.
   */

  Style.prototype.revert = function(object) {
    var activeStyles, i1, j, j1, k1, l, l1, n, o, p, q, s, t, u, w, x, y, z;
    activeStyles = object.activeStyles;
    if (object.activeStyles.contains(this)) {
      object.activeStyles.remove(this);
      if (this.font) {
        object.font.set(gs.Fonts.TEXT);
        for (j = activeStyles.length - 1; j >= 0; j += -1) {
          s = activeStyles[j];
          if (s.font) {
            object.font.set(s.font);
            break;
          }
        }
      }
      if (this.color) {
        object.color.set(Color.WHITE);
        for (l = activeStyles.length - 1; l >= 0; l += -1) {
          s = activeStyles[l];
          if (s.color) {
            object.color.set(s.color);
            break;
          }
        }
      }
      if (this.image) {
        object.image = null;
        for (n = activeStyles.length - 1; n >= 0; n += -1) {
          s = activeStyles[n];
          if (s.image) {
            object.image = s.image;
            break;
          }
        }
      }
      if (this.anchor) {
        object.anchor.set(0, 0);
        for (o = activeStyles.length - 1; o >= 0; o += -1) {
          s = activeStyles[o];
          if (s.anchor) {
            object.anchor.setFromObject(s.anchor);
            break;
          }
        }
      }
      if (this.zoom) {
        object.zoom.set(1.0, 1.0);
        for (p = activeStyles.length - 1; p >= 0; p += -1) {
          s = activeStyles[p];
          if (s.zoom) {
            object.zoom.setFromObject(s.zoom);
            break;
          }
        }
      }
      if (this.padding) {
        object.padding.set(0, 0, 0, 0);
        for (q = activeStyles.length - 1; q >= 0; q += -1) {
          s = activeStyles[q];
          if (s.padding) {
            object.padding.setFromObject(s.padding);
            break;
          }
        }
      }
      if (this.margin) {
        object.margin.set(0, 0, 0, 0);
        for (t = activeStyles.length - 1; t >= 0; t += -1) {
          s = activeStyles[t];
          if (s.margin) {
            object.margin.setFromObject(s.margin);
            break;
          }
        }
      }
      if (this.opacity >= 0) {
        object.opacity = 255;
        for (u = activeStyles.length - 1; u >= 0; u += -1) {
          s = activeStyles[u];
          if (s.opacity >= 0) {
            object.opacity = s.opacity;
            break;
          }
        }
      }
      if (this.alignment >= 0) {
        object.alignment = 0;
        for (w = activeStyles.length - 1; w >= 0; w += -1) {
          s = activeStyles[w];
          if (s.alignment >= 0) {
            object.alignment = s.alignment;
            break;
          }
        }
      }
      if (this.frameCornerSize >= 0) {
        object.frameCornerSize = 16;
        for (x = activeStyles.length - 1; x >= 0; x += -1) {
          s = activeStyles[x];
          if (s.frameCornerSize >= 0) {
            object.frameCornerSize = s.frameCornerSize;
            break;
          }
        }
      }
      if (this.frameThickness >= 0) {
        object.frameThickness = 16;
        for (y = activeStyles.length - 1; y >= 0; y += -1) {
          s = activeStyles[y];
          if (s.frameThickness >= 0) {
            object.frameThickness = s.frameThickness;
            break;
          }
        }
      }
      if (this.mask) {
        object.mask.set(null);
        for (z = activeStyles.length - 1; z >= 0; z += -1) {
          s = activeStyles[z];
          if (s.mask) {
            object.mask.set(s.font);
            break;
          }
        }
      }
      if (this.zIndex >= 0) {
        object.zIndex = 0;
        for (i1 = activeStyles.length - 1; i1 >= 0; i1 += -1) {
          s = activeStyles[i1];
          if (s.zIndex >= 0) {
            object.zIndex = s.zIndex;
            break;
          }
        }
      }
      if (this.alignmentX >= 0) {
        object.alignmentX = 0;
        for (j1 = activeStyles.length - 1; j1 >= 0; j1 += -1) {
          s = activeStyles[j1];
          if (s.alignmentX >= 0) {
            object.alignmentX = s.alignmentX;
            break;
          }
        }
      }
      if (this.alignmentY >= 0) {
        object.alignmentY = 0;
        for (k1 = activeStyles.length - 1; k1 >= 0; k1 += -1) {
          s = activeStyles[k1];
          if (s.alignmentY >= 0) {
            object.alignmentY = s.alignmentY;
            break;
          }
        }
      }
      if (this.resizable != null) {
        object.resizable = false;
        for (l1 = activeStyles.length - 1; l1 >= 0; l1 += -1) {
          s = activeStyles[l1];
          if (s.resizable != null) {
            object.resizable = s.resizable;
            break;
          }
        }
      }
      this.revertAnimations(object);
      return this.revertLooping(object);
    }
  };


  /**
  * Reverts the animation-data changes applied to a UI object by this style.
  *
  * @method revertAnimations
  * @param {ui.Object_UIElement} object - The UI object where the animation-data changes should be reverted.
   */

  Style.prototype.revertAnimations = function(object) {
    var activeStyles, j, results, s;
    activeStyles = object.activeStyles;
    if (this.animations) {
      object.animations = null;
      results = [];
      for (j = activeStyles.length - 1; j >= 0; j += -1) {
        s = activeStyles[j];
        if (s.animations) {
          object.animations = Object.deepCopy(s.animations);
          if (!object.findComponentById("animationHandler")) {
            results.push(object.addComponent(new ui.Component_AnimationHandler(), "animationHandler"));
          } else {
            results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };


  /**
  * Reverts the looping-data changes applied to a UI object by this style.
  *
  * @method revertLooping
  * @param {ui.Object_UIElement} object - The UI object where the looping-data changes should be reverted.
   */

  Style.prototype.revertLooping = function(object) {
    var activeStyles, j, results, s;
    activeStyles = object.activeStyles;
    if (this.looping) {
      object.visual.looping.vertical = false;
      object.visual.looping.horizontal = false;
      results = [];
      for (j = activeStyles.length - 1; j >= 0; j += -1) {
        s = activeStyles[j];
        if (s.looping) {
          if (!object.visual.looping) {
            object.visual.dispose();
            object.removeComponent(object.visual);
            object.visual = new gs.Component_TilingSprite();
            object.addComponent(object.visual);
          }
          object.visual.looping.vertical = s.looping.vertical;
          results.push(object.visual.looping.horizontal = s.looping.horizontal);
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };

  return Style;

})();

ui.Style = Style;

UIManager = (function() {

  /**
  * Handles the creation of In Game UI elements. For more information about
  * In-Game UI see help file.
  *
  * @module ui
  * @class UIManager
  * @memberof ui
  * @constructor
   */
  function UIManager() {

    /**
    * Stores all registered UI layouts by name/id.
    * @property layouts
    * @type Object
     */
    this.layouts = {};

    /**
    * Stores all registered UI styles by name/id.
    * @property styles
    * @type Object
     */
    this.styles = {};

    /**
    * Stores all UI styles by number id.
    * @property stylesById
    * @type ui.Style[]
     */
    this.stylesById = new Array();

    /**
    * Stores all UI styles by style-name.
    * @property stylesByName
    * @type Object
     */
    this.stylesByName = {};

    /**
    * Stores all registered custom UI types/templates by name/id.
    * @property customTypes
    * @type Object
     */
    this.customTypes = {};

    /**
    * Stores all registered UI controllers by name/id.
    * @property customTypes
    * @type Object
     */
    this.controllers = {};

    /**
    * Stores all registered UI data sources by name/id.
    * @property customTypes
    * @type Object
     */
    this.dataSources = {};

    /**
    * Mapping to table to map alignment names to number values.
    * @property alignments
    * @type Object
    * @protected
     */
    this.alignments = {
      "left": 0,
      "top": 0,
      "center": 1,
      "bottom": 2,
      "right": 2,
      "0": 0,
      "1": 1,
      "2": 2
    };

    /**
    * Mapping to table to map blend-mode names to number values.
    * @property blendModes
    * @type Object
    * @protected
     */
    this.blendModes = {
      "normal": 0,
      "add": 1,
      "sub": 2
    };

    /**
    * Mapping to table to map selector names to number values.
    * @property selectors
    * @type Object
     */
    this.selectors = {
      normal: 0,
      hover: 1,
      selected: 2,
      enabled: 3,
      focused: 4
    };
    this.defaultPlaceholderParams = {};
  }


  /**
  * Sets up UI Manager, optimizes styles, etc.
  *
  * @method setup
   */

  UIManager.prototype.setup = function() {
    return this.setupStyles();
  };


  /**
  * Sets up the UI styles by wrapping them into ui.Style objects and optimizing the access.
  *
  * @method setupStyles
  * @protected
   */

  UIManager.prototype.setupStyles = function() {
    var id, k, ref, selector, selectorMap, subs;
    id = 0;
    selectorMap = this.selectors;
    for (k in this.styles) {
      subs = k.split(" ");
      selector = subs[0].split(":");
      if (selectorMap[selector[1]]) {
        this.stylesById[id] = new ui.Style(this.styles[k], id, selectorMap[selector[1]]);
      } else {
        this.stylesById[id] = new ui.Style(this.styles[k], id, 0);
      }
      if (!this.stylesByName[selector[0]]) {
        this.stylesByName[selector[0]] = [];
      }
      this.stylesByName[selector[0]].push(this.stylesById[id]);
      this.styles[k] = this.stylesById[id];
      id++;
    }
    for (k in this.styles) {
      subs = k.split(" ");
      if (subs.length > 1) {
        this.stylesByName[subs[1]].push(this.styles[k]);
        this.styles[k].target = (ref = this.styles[k.split(":")[0]]) != null ? ref.id : void 0;
      }
    }
    return null;
  };


  /**
  * Executes all placeholder formulas in the specified descriptor. The descriptor will be changed
  * and placeholder formulas are replaced with their evaluated result value.
  *
  * @method executePlaceholderFormulas
  * @param {Object} descriptor - The descriptor.
  * @param {Object} params - Object containing the placeholder params.
  * @protected
   */

  UIManager.prototype.executePlaceholderFormulas = function(descriptor, id, params) {
    var c, i, j, k, keys, l, len, len1, v;
    if (descriptor == null) {
      return;
    }
    keys = Object.keys(descriptor);
    for (j = 0, len = keys.length; j < len; j++) {
      k = keys[j];
      v = descriptor[k];
      if (v != null) {
        if (v instanceof Array) {
          for (c = l = 0, len1 = v.length; l < len1; c = ++l) {
            i = v[c];
            if (i != null) {
              if (typeof i === "object") {
                this.executePlaceholderFormulas(i, id, params);
              } else if (c !== "exec" && typeof i === "function") {
                window.p = params || this.defaultPlaceholderParams;
                window.d = descriptor;
                v[c] = i();
              }
            }
          }
        } else if (typeof v === "object") {
          this.executePlaceholderFormulas(v, id, params);
        } else if (k !== "exec_" && typeof v === "function") {
          window.p = params || this.defaultPlaceholderParams;
          window.d = descriptor;
          descriptor[k] = v();
        }
      }
    }
    return null;
  };


  /**
  * Creates a calculation for a specified expression.
  *
  * @method createCalcFunction
  * @param {String} expression - The expression to create a calculation function for.
  * @return {Function} The calculation function.
  * @protected
   */

  UIManager.prototype.createCalcFunction = function(expression) {
    expression = expression.replace(/([0-9]+)%/gm, "($1 / 100 * v)");
    return eval("(function(v){ return " + expression + "})");
  };


  /**
  * Creates an object from the specified object type. The type has the format
  * <namespace>.<typename> like vn.Component_Hotspot.
  *
  * @method createObject
  * @param {String} type - The type name.
  * @return {Object} The created object.
  * @protected
   */

  UIManager.prototype.createObject = function(type) {
    var subs;
    subs = type.split(".");
    return new window[subs[0]][subs[1]]();
  };


  /**
  * Creates an UI object from a specified UI descriptor.
  *
  * @method createFromDescriptor
  * @param {Object} descriptor - The UI object descriptor.
  * @param {gs.Object_UIElement} parent - The UI parent object. (A layout for example).
  * @return {gs.Object_UIElement} The created UI object.
   */

  UIManager.prototype.createFromDescriptor = function(descriptor, parent) {
    var control, k;
    control = null;
    for (k in this.controllers) {
      if (this.controllers[k].type != null) {
        this.controllers[k] = this.createObject(this.controllers[k].type);
      }
    }
    return this._createFromDescriptor(descriptor, parent);
  };


  /**
  * Creates an image button UI object.
  *
  * @method createImageButton
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createImageButton = function(descriptor) {
    var control;
    control = new ui.Object_Hotspot(descriptor.image, descriptor.imageHandling);
    control.behavior.sound = descriptor.sound;
    control.behavior.sounds = descriptor.sounds;
    control.image = descriptor.image;
    control.images = descriptor.images;
    if (descriptor.imageFolder != null) {
      control.imageFolder = descriptor.imageFolder;
    }
    if (descriptor.looping != null) {
      control.visual.dispose();
      control.removeComponent(control.visual);
      control.visual = new gs.Component_TilingSprite();
      control.addComponent(control.visual);
      control.visual.looping.vertical = descriptor.looping.vertical;
      control.visual.looping.horizontal = descriptor.looping.horizontal;
    }
    if (descriptor.color != null) {
      control.color = Color.fromArray(descriptor.color);
    }
    return control;
  };


  /**
  * Creates an image UI object.
  *
  * @method createImage
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createImage = function(descriptor) {
    var control;
    control = new ui.Object_Image(descriptor.image, descriptor.imageHandling);
    if (descriptor.imageFolder != null) {
      control.imageFolder = descriptor.imageFolder;
    }
    if (descriptor.looping != null) {
      control.visual.dispose();
      control.removeComponent(control.visual);
      control.visual = new gs.Component_TilingSprite();
      control.addComponent(control.visual);
      control.visual.looping.vertical = descriptor.looping.vertical;
      control.visual.looping.horizontal = descriptor.looping.horizontal;
    }
    if (descriptor.color != null) {
      control.color = Color.fromArray(descriptor.color);
    }
    return control;
  };


  /**
  * Creates an image map UI object.
  *
  * @method createImageMap
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createImageMap = function(descriptor) {
    var control;
    control = new ui.Object_ImageMap();
    control.hotspots = (descriptor.hotspots || []).select(function(h) {
      return {
        x: h.rect[0],
        y: h.rect[1],
        size: {
          width: h.rect[2],
          height: h.rect[3]
        },
        data: {
          action: 3,
          actions: h.actions
        }
      };
    });
    control.images = descriptor.images;
    control.insertComponent(new ui.Component_ActionHandler(), 1, "actionHandler");
    control.target = SceneManager.scene.behavior;
    return control;
  };


  /**
  * Creates a video UI object.
  *
  * @method createVideo
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createVideo = function(descriptor) {
    var control, ref;
    control = new ui.Object_Video();
    control.video = descriptor.video;
    control.loop = (ref = descriptor.loop) != null ? ref : true;
    return control;
  };


  /**
  * Creates a panel UI object.
  *
  * @method createPanel
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createPanel = function(descriptor) {
    var control, ref;
    control = new ui.Object_Panel();
    control.modal = (ref = descriptor.modal) != null ? ref : false;
    if (descriptor.color != null) {
      control.color = Color.fromArray(descriptor.color);
    }
    return control;
  };


  /**
  * Creates a frame UI object.
  *
  * @method createFrame
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createFrame = function(descriptor) {
    var control;
    control = new ui.Object_Frame(descriptor.frameSkin);
    control.frameThickness = descriptor.frameThickness || 16;
    control.frameCornerSize = descriptor.frameCornerSize || 16;
    control.image = descriptor.image;
    control.images = descriptor.images;
    return control;
  };


  /**
  * Creates a three-part image UI object.
  *
  * @method createThreePartImage
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createThreePartImage = function(descriptor) {
    var control;
    control = new ui.Object_ThreePartImage(descriptor.frameSkin);
    control.firstPartSize = descriptor.firstPartSize || 16;
    control.middlePartSize = descriptor.middlePartSize || 1;
    control.lastPartSize = descriptor.lastPartSize || 16;
    control.image = descriptor.image;
    control.images = descriptor.images;
    return control;
  };


  /**
  * Creates a text UI object.
  *
  * @method createText
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createText = function(descriptor) {
    var control, ref;
    control = new ui.Object_Text();
    control.text = lcs(descriptor.text);
    control.sizeToFit = descriptor.sizeToFit;
    control.formatting = descriptor.formatting;
    control.wordWrap = (ref = descriptor.wordWrap) != null ? ref : true;
    control.behavior.format = descriptor.format;
    if (descriptor.resolvePlaceholders != null) {
      control.resolvePlaceholders = descriptor.resolvePlaceholders;
    }
    if (descriptor.color != null) {
      control.color = Color.fromArray(descriptor.color);
    }
    return control;
  };


  /**
  * Creates a free-layout UI object.
  *
  * @method createFreeLayout
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createFreeLayout = function(descriptor) {
    var control;
    if (descriptor.frame != null) {
      control = new ui.Object_FreeLayout(descriptor.frame[0] || 0, descriptor.frame[1] || 0, descriptor.frame[2] || 1, descriptor.frame[3] || 1);
    } else {
      control = new ui.Object_FreeLayout(0, 0, 1, 1);
    }
    control.sizeToFit = descriptor.sizeToFit;
    return control;
  };


  /**
  * Creates a stack-layout UI object.
  *
  * @method createStackLayout
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createStackLayout = function(descriptor) {
    var control;
    if (descriptor.frame != null) {
      control = new ui.Object_StackLayout(descriptor.frame[0] || 0, descriptor.frame[1] || 0, descriptor.frame[2] || 1, descriptor.frame[3] || 1, descriptor.orientation);
    } else {
      control = new ui.Object_StackLayout(0, 0, 1, 1, descriptor.orientation);
    }
    control.sizeToFit = descriptor.sizeToFit;
    return control;
  };


  /**
  * Creates a spread-layout UI object.
  *
  * @method createSpreadLayout
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createSpreadLayout = function(descriptor) {
    var control;
    if (descriptor.frame != null) {
      control = new ui.Object_SpreadLayout(descriptor.frame[0] || 0, descriptor.frame[1] || 0, descriptor.frame[2] || 1, descriptor.frame[3] || 1, descriptor.orientation);
    } else {
      control = new ui.Object_SpreadLayout(0, 0, 1, 1, descriptor.orientation);
    }
    return control;
  };


  /**
  * Creates a grid-layout UI object.
  *
  * @method createGridLayout
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createGridLayout = function(descriptor) {
    var control;
    if (descriptor.frame != null) {
      control = new ui.Object_GridLayout(descriptor.frame[0], descriptor.frame[1], descriptor.frame[2], descriptor.frame[3], descriptor.rows, descriptor.columns, descriptor.template);
    } else {
      control = new ui.Object_GridLayout(0, 0, 1, 1, descriptor.rows, descriptor.columns, descriptor.template);
    }
    control.cellSpacing = descriptor.cellSpacing || [0, 0, 0, 0];
    control.sizeToFit = descriptor.sizeToFit;
    return control;
  };


  /**
  * Creates a message UI object.
  *
  * @method createMessage
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createMessage = function(descriptor) {
    var control;
    control = new ui.Object_Message();
    return control;
  };


  /**
  * Creates a data-grid UI object.
  *
  * @method createDataGrid
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created image button UI object.
   */

  UIManager.prototype.createDataGrid = function(descriptor) {
    var control;
    control = new ui.Object_DataGrid(descriptor);
    return control;
  };


  /**
  * Creates an UI object depending on the object-type of the specified UI descriptor.
  *
  * @method createControl
  * @param {Object} descriptor - The UI object descriptor.
  * @return {gs.Object_UIElement} The created UI object.
  * @protected
   */

  UIManager.prototype.createControl = function(descriptor) {
    var control;
    control = null;
    switch (descriptor.type) {
      case "ui.ImageButton":
        control = this.createImageButton(descriptor);
        break;
      case "ui.Image":
        control = this.createImage(descriptor);
        break;
      case "ui.ImageMap":
        control = this.createImageMap(descriptor);
        break;
      case "ui.Video":
        control = this.createVideo(descriptor);
        break;
      case "ui.Panel":
        control = this.createPanel(descriptor);
        break;
      case "ui.Frame":
        control = this.createFrame(descriptor);
        break;
      case "ui.ThreePartImage":
        control = this.createThreePartImage(descriptor);
        break;
      case "ui.Text":
        control = this.createText(descriptor);
        break;
      case "ui.Message":
        control = this.createMessage(descriptor);
        break;
      case "ui.DataGrid":
        control = this.createDataGrid(descriptor);
        break;
      case "ui.FreeLayout":
        control = this.createFreeLayout(descriptor);
        break;
      case "ui.StackLayout":
        control = this.createStackLayout(descriptor);
        break;
      case "ui.SpreadLayout":
        control = this.createSpreadLayout(descriptor);
        break;
      case "ui.GridLayout":
        control = this.createGridLayout(descriptor);
    }
    return control;
  };

  UIManager.prototype.createLayoutRect = function(frame, control) {
    var ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7;
    if (!control.layoutRect) {
      control.layoutRect = new ui.LayoutRect();
    }
    control.layoutRect.set(0, 0, 0, 0);
    if (frame != null) {
      if (((ref = frame[0]) != null ? ref.length : void 0) != null) {
        control.layoutRect.x = this.createCalcFunction(frame[0]);
        control.dstRect.x = 0;
      } else {
        control.dstRect.x = (ref1 = descriptor.frame[0]) != null ? ref1 : control.dstRect.x;
      }
      if (((ref2 = frame[1]) != null ? ref2.length : void 0) != null) {
        control.layoutRect.y = this.createCalcFunction(frame[1]);
        control.dstRect.y = 0;
      } else {
        control.dstRect.y = (ref3 = frame[1]) != null ? ref3 : control.dstRect.y;
      }
      if (((ref4 = frame[2]) != null ? ref4.length : void 0) != null) {
        control.layoutRect.width = this.createCalcFunction(frame[2]);
        control.dstRect.width = 1;
      } else {
        control.dstRect.width = (ref5 = frame[2]) != null ? ref5 : control.dstRect.width;
      }
      if (((ref6 = frame[3]) != null ? ref6.length : void 0) != null) {
        control.layoutRect.height = this.createCalcFunction(frame[3]);
        return control.dstRect.height = 1;
      } else {
        return control.dstRect.height = (ref7 = frame[3]) != null ? ref7 : control.dstRect.height;
      }
    }
  };


  /**
  * Adds the styles defined in an array of style-names to the specified control.
  *
  * @method addControlStyles
  * @param {Object} control - The control to add the styles to.
  * @param {string[]} styles - Array of style-names to add.
   */

  UIManager.prototype.addControlStyles = function(control, styles) {
    var j, len, results, style, styleName;
    results = [];
    for (j = 0, len = styles.length; j < len; j++) {
      styleName = styles[j];
      if (this.stylesByName[styleName] != null) {
        results.push((function() {
          var l, len1, ref, results1;
          ref = this.stylesByName[styleName];
          results1 = [];
          for (l = 0, len1 = ref.length; l < len1; l++) {
            style = ref[l];
            control.styles.push(style);
            if (style.target === -1 && style.selector === 0) {
              results1.push(style.apply(control));
            } else {
              results1.push(void 0);
            }
          }
          return results1;
        }).call(this));
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Creates an UI object from a specified UI descriptor. This method is called
  * recursively for all child-descriptors.
  *
  * @method createControlFromDescriptor
  * @param {Object} descriptor - The UI object descriptor.
  * @param {gs.Object_UIElement} parent - The UI parent object. (A layout for example).
  * @param {number} index - The index.
  * @return {gs.Object_UIElement} The created UI object.
  * @protected
   */

  UIManager.prototype.createControlFromDescriptor = function(descriptor, parent, index) {
    var action, actions, bindings, c, child, childControl, component, control, controls, customFields, data, formulas, i, isNumber, item, j, l, len, len1, len2, len3, m, n, o, p, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref23, ref24, ref25, ref26, ref27, ref3, ref4, ref5, ref6, ref7, ref8, ref9, style, target, type, typeName, valid;
    control = null;
    if (descriptor.style != null) {
      descriptor.styles = [descriptor.style];
      delete descriptor.style;
    }
    descriptor = Object.deepCopy(descriptor);
    this.executePlaceholderFormulas(descriptor, descriptor.id, descriptor.params);
    control = this.createControl(descriptor);
    if (control == null) {
      type = Object.deepCopy(this.customTypes[descriptor.type]);
      this.executePlaceholderFormulas(type, descriptor.id, descriptor.params);
      typeName = type.type;
      customFields = type.customFields;
      bindings = type.bindings;
      formulas = type.formulas;
      actions = type.actions;
      if (type.style != null) {
        type.styles = [type.style];
        type.style = null;
      }
      Object.mixin(type, descriptor);
      if (customFields != null) {
        Object.mixin(type.customFields, customFields);
      }
      if ((bindings != null) && bindings !== type.bindings) {
        type.bindings = type.bindings.concat(bindings);
      }
      if ((formulas != null) && formulas !== type.formulas) {
        type.formulas = type.formulas.concat(formulas);
      }
      if ((actions != null) && actions !== type.actions) {
        type.actions = actions.concat(type.actions);
      }
      type.type = typeName;
      return this.createControlFromDescriptor(type, parent);
    } else if (parent != null) {
      parent.addObject(control);
      control.index = index;
    } else {
      gs.ObjectManager.current.addObject(control);
    }
    control.ui = new ui.Component_UIBehavior();
    control.addComponent(control.ui);
    control.params = descriptor.params;
    if (descriptor.updateBehavior === "continuous") {
      control.updateBehavior = ui.UpdateBehavior.CONTINUOUS;
    }
    if (descriptor.inheritProperties) {
      control.inheritProperties = true;
    }
    if (descriptor.font != null) {
      control.font = new Font(descriptor.font.name, descriptor.font.size);
      control.font.bold = (ref = descriptor.font.bold) != null ? ref : control.font.bold;
      control.font.italic = (ref1 = descriptor.font.italic) != null ? ref1 : control.font.italic;
      control.font.smallCaps = (ref2 = descriptor.font.smallCaps) != null ? ref2 : control.font.smallCaps;
      control.font.underline = (ref3 = descriptor.font.underline) != null ? ref3 : control.font.underline;
      control.font.strikeThrough = (ref4 = descriptor.font.strikeThrough) != null ? ref4 : control.font.strikeThrough;
      if (descriptor.font.color != null) {
        control.font.color = Color.fromArray(descriptor.font.color);
      }
      if (descriptor.font.border != null) {
        control.font.border = (ref5 = descriptor.font.border) != null ? ref5 : false;
        control.font.borderSize = (ref6 = descriptor.font.borderSize) != null ? ref6 : 4;
        control.font.borderColor = new Color(0, 0, 0);
      }
      if (descriptor.font.outline != null) {
        control.font.border = (ref7 = descriptor.font.outline) != null ? ref7 : false;
        control.font.borderSize = (ref8 = descriptor.font.outline.size) != null ? ref8 : 4;
        if (descriptor.font.outline.color != null) {
          control.font.borderColor = Color.fromArray(descriptor.font.outline.color);
        } else {
          control.font.borderColor = new Color(0, 0, 0);
        }
      }
    }
    if (descriptor.components != null) {
      ref9 = descriptor.components;
      for (j = 0, len = ref9.length; j < len; j++) {
        c = ref9[j];
        m = c.module || "gs";
        component = new window[m][c.type](c.params);
        control.addComponent(component, c.id);
        control[c.id] = component;
      }
    }
    control.focusable = (ref10 = descriptor.focusable) != null ? ref10 : control.focusable;
    if (descriptor.nextKeyObject) {
      control.ui.nextKeyObjectId = descriptor.nextKeyObject;
    }
    if (descriptor.initialFocus) {
      control.ui.focus();
    }
    actions = Object.deepCopy(descriptor.action != null ? [descriptor.action] : descriptor.actions);
    if (actions != null) {
      for (l = 0, len1 = actions.length; l < len1; l++) {
        action = actions[l];
        if (action != null) {
          action.event = (ref11 = action.event) != null ? ref11 : "onAccept";
          if (action.target == null) {
            target = this.controllers != null ? this.controllers[descriptor.target] : controller;
            action.target = target || SceneManager.scene.behavior;
          }
        }
      }
      control.actions = actions;
      if (!control.findComponentById("actionHandler")) {
        control.insertComponent(new ui.Component_ActionHandler(), 1, "actionHandler");
      }
    }
    if (descriptor.id != null) {
      control.id = descriptor.id;
      gs.ObjectManager.current.setObjectById(control, control.id);
    }
    control.descriptor = descriptor;
    control.layoutRect = new Rect();
    control.layoutRect.set(0, 0, 0, 0);
    if (descriptor.frame != null) {
      if (((ref12 = descriptor.frame[0]) != null ? ref12.length : void 0) != null) {
        control.layoutRect.x = this.createCalcFunction(descriptor.frame[0]);
        control.dstRect.x = 0;
      } else {
        control.dstRect.x = (ref13 = descriptor.frame[0]) != null ? ref13 : control.dstRect.x;
      }
      if (((ref14 = descriptor.frame[1]) != null ? ref14.length : void 0) != null) {
        control.layoutRect.y = this.createCalcFunction(descriptor.frame[1]);
        control.dstRect.y = 0;
      } else {
        control.dstRect.y = (ref15 = descriptor.frame[1]) != null ? ref15 : control.dstRect.y;
      }
      if (((ref16 = descriptor.frame[2]) != null ? ref16.length : void 0) != null) {
        control.layoutRect.width = this.createCalcFunction(descriptor.frame[2]);
        control.dstRect.width = 1;
      } else {
        control.dstRect.width = (ref17 = descriptor.frame[2]) != null ? ref17 : control.dstRect.width;
      }
      if (((ref18 = descriptor.frame[3]) != null ? ref18.length : void 0) != null) {
        control.layoutRect.height = this.createCalcFunction(descriptor.frame[3]);
        control.dstRect.height = 1;
      } else {
        control.dstRect.height = (ref19 = descriptor.frame[3]) != null ? ref19 : control.dstRect.height;
      }
    }
    if (descriptor.sizeToParent != null) {
      control.sizeToParent = descriptor.sizeToParent;
    }
    if (descriptor.blendMode != null) {
      control.blendMode = this.blendModes[descriptor.blendMode];
    }
    if (descriptor.anchor != null) {
      control.anchor.set(descriptor.anchor[0], descriptor.anchor[1]);
    }
    control.opacity = (ref20 = descriptor.opacity) != null ? ref20 : 255;
    if (descriptor.minimumSize != null) {
      control.minimumSize = {
        width: descriptor.minimumSize[0],
        height: descriptor.minimumSize[1]
      };
    }
    if (descriptor.resizable != null) {
      control.resizable = descriptor.resizable;
    }
    if (descriptor.scrollable != null) {
      control.scrollable = descriptor.scrollable;
    }
    if (descriptor.fixedSize != null) {
      control.fixedSize = descriptor.fixedSize;
    }
    if (descriptor.draggable != null) {
      control.draggable = descriptor.draggable;
      control.draggable.step = 0;
      if (control.draggable.rect != null) {
        control.draggable.rect = Rect.fromArray(control.draggable.rect);
      }
      control.addComponent(new ui.Component_Draggable());
    }
    if (descriptor.bindings != null) {
      control.bindings = descriptor.bindings;
      control.insertComponent(new ui.Component_BindingHandler(), 0);
    }
    if (descriptor.formulas != null) {
      control.formulas = descriptor.formulas;
      control.insertComponent(new ui.Component_FormulaHandler(), 0);
    }
    control.dataField = descriptor.dataField;
    control.enabled = (ref21 = descriptor.enabled) != null ? ref21 : true;
    if (descriptor.selectable != null) {
      control.selectable = descriptor.selectable;
    }
    if (descriptor.group != null) {
      control.group = descriptor.group;
      gs.ObjectManager.current.addToGroup(control, control.group);
    }
    if (descriptor.customFields != null) {
      control.customFields = Object.deepCopy(descriptor.customFields);
    }
    if (descriptor.margin != null) {
      control.margin.left = descriptor.margin[0];
      control.margin.top = descriptor.margin[1];
      control.margin.right = descriptor.margin[2];
      control.margin.bottom = descriptor.margin[3];
    }
    if (descriptor.padding != null) {
      control.padding.left = descriptor.padding[0];
      control.padding.top = descriptor.padding[1];
      control.padding.right = descriptor.padding[2];
      control.padding.bottom = descriptor.padding[3];
    }
    if (descriptor.alignment != null) {
      control.alignment = this.alignments[descriptor.alignment];
    }
    control.alignmentY = this.alignments[descriptor.alignmentY || 0];
    control.alignmentX = this.alignments[descriptor.alignmentX || 0];
    control.zIndex = descriptor.zIndex || 0;
    control.order = descriptor.order || 0;
    control.chainOrder = ((ref22 = descriptor.chainOrder) != null ? ref22 : descriptor.zOrder) + ((parent != null ? parent.chainOrder : void 0) || 0);
    if (descriptor.zoom != null) {
      control.zoom = {
        x: descriptor.zoom[0] / 100,
        y: descriptor.zoom[1] / 100
      };
    }
    if (descriptor.visible != null) {
      control.visible = descriptor.visible;
    }
    if (descriptor.clipRect) {
      control.clipRect = new Rect(control.dstRect.x, control.dstRect.y, control.dstRect.width, control.dstRect.height);
    }
    if (descriptor.styles != null) {
      this.addControlStyles(control, descriptor.styles);
    }
    if (descriptor.template != null) {
      control.behavior.managementMode = ui.LayoutManagementMode.fromString(descriptor.managementMode);
      data = ui.Component_FormulaHandler.fieldValue(control, control.dataField);
      isNumber = typeof data === "number";
      if (data != null) {
        for (i = n = 0, ref23 = (ref24 = data.length) != null ? ref24 : data; 0 <= ref23 ? n < ref23 : n > ref23; i = 0 <= ref23 ? ++n : --n) {
          if ((data[i] != null) || isNumber) {
            valid = true;
            if ((descriptor.dataFilter != null) && !isNumber) {
              valid = ui.Component_Handler.checkCondition(data[i], descriptor.dataFilter);
            }
            if (valid || isNumber) {
              child = this.createControlFromDescriptor(descriptor.template, control, i);
              if ((ref25 = data[i]) != null ? ref25.dstRect : void 0) {
                child.dstRect = ui.UIElementRectangle.fromRect(child, data[i].dstRect);
              }
              if ((child.clipRect == null) && (control.clipRect != null)) {
                child.clipRect = control.clipRect;
              }
              control.addObject(child);
              child.index = i;
              child.order = ((ref26 = data.length) != null ? ref26 : data) - i;
              control.controls.push(child);
            }
          }
        }
      }
    }
    if (descriptor.controls && descriptor.controls.exec) {
      controls = ui.Component_FormulaHandler.fieldValue(descriptor, descriptor.controls);
    } else {
      controls = descriptor.controls;
    }
    if (controls != null) {
      for (i = o = 0, len2 = controls.length; o < len2; i = ++o) {
        item = controls[i];
        childControl = this._createFromDescriptor(item, control, i);
        if ((childControl.clipRect == null) && (control.clipRect != null)) {
          childControl.clipRect = control.clipRect;
        }
        childControl.index = i;
        childControl.origin.x = control.origin.x + control.dstRect.x;
        childControl.origin.y = control.origin.y + control.dstRect.y;
        control.addObject(childControl);
        control.controls.push(childControl);
      }
    }
    if (control.styles && control.parentsByStyle) {
      parent = control.parent;
      while (parent) {
        if (parent.styles) {
          ref27 = parent.styles;
          for (p = 0, len3 = ref27.length; p < len3; p++) {
            style = ref27[p];
            if (!control.parentsByStyle[style.id]) {
              control.parentsByStyle[style.id] = [];
            }
            control.parentsByStyle[style.id].push(parent);
          }
        }
        parent = parent.parent;
      }
    }
    if (descriptor.animations != null) {
      control.animations = Object.deepCopy(descriptor.animations);
      control.addComponent(new ui.Component_AnimationHandler());
    }
    control.ui.updateStyle();
    control.setup();
    return control;
  };


  /**
  * Creates an UI object from a specified UI descriptor.
  *
  * @method _createFromDescriptor
  * @param {Object} descriptor - The UI object descriptor.
  * @param {gs.Object_UIElement} parent - The UI parent object. (A layout for example).
  * @return {gs.Object_UIElement} The created UI object.
  * @protected
   */

  UIManager.prototype._createFromDescriptor = function(descriptor, parent, index) {
    var control, controller;
    control = this.createControlFromDescriptor(descriptor, parent, index);
    if (descriptor.controller != null) {
      controller = this.controllers[descriptor.controller];
      control.controller = controller;
      control.addComponent(controller);
    }
    return control;
  };

  UIManager.prototype.createLayoutFromDescriptor = function(descriptor, parent, index) {
    return this._createFromDescriptor(descriptor, parent, index);
  };

  return UIManager;

})();

Graphics.width = $PARAMS.resolution.width;

Graphics.height = $PARAMS.resolution.height;

ui.UiFactory = new UIManager();

ui.UIManager = ui.UiFactory;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7OztFQVlhLGlCQUFDLENBQUQsRUFBSSxJQUFKLEVBQVUsS0FBVjs7QUFDVDs7Ozs7QUFBQSxRQUFBO0lBS0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsS0FBQSxDQUFNLEVBQU47QUFDZixTQUF5Qiw4RkFBekI7TUFBQSxJQUFDLENBQUEsT0FBUSxDQUFBLENBQUEsQ0FBVCxHQUFjO0FBQWQ7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxLQUFBLENBQU0sRUFBTjtBQUNmLFNBQTBCLG1HQUExQjtNQUFBLElBQUMsQ0FBQSxPQUFRLENBQUEsQ0FBQSxDQUFULEdBQWM7QUFBZDtFQTdDUzs7O0FBZ0RiOzs7OztvQkFJQSxJQUFBLEdBQU0sU0FBQTtBQUNILFFBQUE7SUFBQSxJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQTtJQUNULENBQUEsR0FBSSxJQUFDLENBQUEsS0FBSyxDQUFDLEtBQVAsQ0FBYSxJQUFiLEVBQW1CLFNBQW5CO0lBQ0osSUFBQyxDQUFBLFlBQUQsR0FBZ0I7QUFFaEIsV0FBTztFQUxKOzs7QUFPTjs7Ozs7Ozs7b0JBT0EsUUFBQSxHQUFVLFNBQUMsV0FBRDtBQUNOLFFBQUE7SUFBQSxNQUFBLEdBQVMsSUFBQyxDQUFBLE9BQVEsQ0FBQSxDQUFBLENBQVQsS0FBZTtJQUN4QixJQUFDLENBQUEsT0FBUSxDQUFBLENBQUEsQ0FBVCxHQUFjO0FBRWQsV0FBTztFQUpEOzs7QUFNVjs7Ozs7Ozs7b0JBT0Es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QUFDLFVBQVg7TUFDMUIsT0FBTyxDQUFDLFVBQVIsR0FBcUI7TUFDckIsT0FBTyxDQUFDLFlBQVIsQ0FBcUIsVUFBckIsRUFISjs7QUFLQSxXQUFPO0VBUlk7O3NCQVV2QiwwQkFBQSxHQUE0QixTQUFDLFVBQUQsRUFBYSxNQUFiLEVBQXFCLEtBQXJCO1dBQ3hCLElBQUMsQ0FBQSxxQkFBRCxDQUF1QixVQUF2QixFQUFtQyxNQUFuQyxFQUEyQyxLQUEzQztFQUR3Qjs7Ozs7O0FBS2hDLFFBQVEsQ0FBQyxLQUFULEdBQWlCLE9BQU8sQ0FBQyxVQUFVLENBQUM7O0FBQ3BDLFFBQVEsQ0FBQyxNQUFULEdBQWtCLE9BQU8sQ0FBQyxVQUFVLENBQUM7O0FBQ3JDLEVBQUUsQ0FBQyxTQUFILEdBQW1CLElBQUEsU0FBQSxDQUFBOztBQUNuQixFQUFFLENBQUMsU0FBSCxHQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogVUlNYW5hZ2VyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNsYXNzIEZvcm11bGFcbiAgICAjIyMqXG4gICAgKiBFbmNhcHN1bGF0ZXMgYSBVSSBmb3JtdWxhLiBBIGZvcm11bGEgY2FuIGJlIHVzZWQgaW4gVUkgbGF5b3V0cyB0byBkZWZpbmVcbiAgICAqIHByb3BlcnR5LWJpbmRpbmdzIG9yIHRvIGltcGxlbWVudCBhIHNwZWNpZmljIGJlaGF2aW9yLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBGb3JtdWxhXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZiAtIFRoZSBmb3JtdWxhLWZ1bmN0aW9uLiBEZWZpbmVzIHRoZSBsb2dpYyBvZiB0aGUgZm9ybXVsYS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gQW4gb3B0aW9uYWwgZGF0YS1vYmplY3Qgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkIGluc2lkZSB0aGUgZm9ybXVsYS1mdW5jdGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEFuIG9wdGlvbmFsIGV2ZW50LW5hbWUgdG8gZGVmaW5lIHdoZW4gdGhlIGZvcm11bGEgc2hvdWxkIGJlIGV4ZWN1dGVkLlxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZiwgZGF0YSwgZXZlbnQpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgaXRzIHRoZSBmaXJzdCB0aW1lIHRoZSBmb3JtdWxhIGlzIGNhbGxlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgb25Jbml0aWFsaXplXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQG9uSW5pdGlhbGl6ZSA9IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBmb3JtdWxhLWZ1bmN0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBleGVjX1xuICAgICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICAgICMjI1xuICAgICAgICBAZXhlY18gPSBmXG4gICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIG9wdGlvbmFsIGRhdGEtb2JqZWN0IHdoaWNoIGNhbiBiZXMgYWNjZXNzZWQgaW5zaWRlIHRoZSBmb3JtdWxhLWZ1bmN0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkYXRhXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjIyAgIFxuICAgICAgICBAZGF0YSA9IGRhdGFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBvcHRpb25hbCBldmVudC1uYW1lIHRvIGRlZmluZSB3aGVuIHRoZSBmb3JtdWxhIHNob3VsZCBiZSBleGVjdXRlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjIFxuICAgICAgICBAZXZlbnQgPSBldmVudFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGFycmF5IG9mIGN1c3RvbSBudW1iZXItZGF0YSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgZGlmZmVyZW50IHB1cnBvc2VzLiBUaGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAqIGlzIGFsc28gdXNlZCBpbiBvbkNoYW5nZSBtZXRob2QgdG8gc3RvcmUgdGhlIG9sZCB2YWx1ZSBhbmQgY2hlY2sgYWdhaW5zdCB0aGUgbmV3IG9uZSB0byBkZXRlY3QgYSBjaGFuZ2UuXG4gICAgICAgICogQHByb3BlcnR5IG51bWJlcnNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVxuICAgICAgICAjIyMgXG4gICAgICAgIEBudW1iZXJzID0gbmV3IEFycmF5KDEwKVxuICAgICAgICBAbnVtYmVyc1tpXSA9IDAgZm9yIGkgaW4gWzAuLkBudW1iZXJzLmxlbmd0aF1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBhcnJheSBvZiBjdXN0b20gc3RyaW5nLWRhdGEgd2hpY2ggY2FuIGJlIHVzZWQgZm9yIGRpZmZlcmVudCBwdXJwb3Nlcy4gVGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgKiBpcyBhbHNvIHVzZWQgaW4gb25UZXh0Q2hhbmdlIG1ldGhvZCB0byBzdG9yZSB0aGUgb2xkIHZhbHVlIGFuZCBjaGVjayBhZ2FpbnN0IHRoZSBuZXcgb25lIHRvIGRldGVjdCBhIGNoYW5nZS5cbiAgICAgICAgKiBAcHJvcGVydHkgc3RyaW5nc1xuICAgICAgICAqIEB0eXBlIHN0cmluZ1tdXG4gICAgICAgICMjI1xuICAgICAgICBAc3RyaW5ncyA9IG5ldyBBcnJheSgxMClcbiAgICAgICAgQHN0cmluZ3NbaV0gPSBcIlwiIGZvciBpIGluIFswLi5Ac3RyaW5ncy5sZW5ndGhdXG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIFRoZSBmb3JtdWxhLWZ1bmN0aW9uLiBJdHMgYSB3cmFwcGVyLWZ1bmN0aW9uIGJlZm9yZSB0aGUgZmlyc3QtdGltZSBjYWxsIHdhcyBtYWRlLlxuICAgICogQG1ldGhvZCBleGVjXG4gICAgIyMjXG4gICAgZXhlYzogLT5cbiAgICAgICBAZXhlYyA9IEBleGVjX1xuICAgICAgIHIgPSBAZXhlY18uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgIEBvbkluaXRpYWxpemUgPSBub1xuICAgICAgIFxuICAgICAgIHJldHVybiByXG4gICAgICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgbnVtYmVyLXZhbHVlIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGNoZWNrLiBJdCB1c2VzXG4gICAgKiB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIG51bWJlcnMtYXJyYXkgdG8gc3RvcmUgdGhlIHZhbHVlIGFuZCBjaGVjayBhZ2FpbnN0IHRoZSBuZXcgb25lLlxuICAgICpcbiAgICAqIEBtZXRob2Qgb25DaGFuZ2VcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJWYWx1ZSAtIE51bWJlciB2YWx1ZSB0byBjaGVjay5cbiAgICAjIyMgICAgXG4gICAgb25DaGFuZ2U6IChudW1iZXJWYWx1ZSkgLT5cbiAgICAgICAgcmVzdWx0ID0gQG51bWJlcnNbMF0gIT0gbnVtYmVyVmFsdWVcbiAgICAgICAgQG51bWJlcnNbMF0gPSBudW1iZXJWYWx1ZVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBDaGVja3MgaWYgdGhlIHNwZWNpZmllZCB0ZXh0LXZhbHVlIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGNoZWNrLiBJdCB1c2VzXG4gICAgKiB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIHN0cmluZ3MtYXJyYXkgdG8gc3RvcmUgdGhlIHZhbHVlIGFuZCBjaGVjayBhZ2FpbnN0IHRoZSBuZXcgb25lLlxuICAgICpcbiAgICAqIEBtZXRob2Qgb25UZXh0Q2hhbmdlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFZhbHVlIC0gVGV4dCB2YWx1ZSB0byBjaGVjay5cbiAgICAjIyMgICAgIFxuICAgIG9uVGV4dENoYW5nZTogKHRleHRWYWx1ZSkgLT5cbiAgICAgICAgcmVzdWx0ID0gQHN0cmluZ3NbMF0gIT0gdGV4dFZhbHVlXG4gICAgICAgIEBzdHJpbmdzWzBdID0gdGV4dFZhbHVlXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxudWkuRm9ybXVsYSA9IEZvcm11bGFcblxuY2xhc3MgU3BhY2VcbiAgICAjIyMqXG4gICAgKiBEZXNjcmliZXMgYSBzcGFjZSBpbnNpZGUgb3IgYXJvdW5kIHNvbWV0aGluZyBsaWtlIGEgbWFyZ2luIG9yIHBhZGRpbmcuXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIFNwYWNlXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgLSBTcGFjZSBhdCB0aGUgbGVmdCBpbiBwaXhlbHMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIC0gU3BhY2UgYXQgdGhlIHRvcCBpbiBwaXhlbHMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgLSBTcGFjZSBhdCB0aGUgcmlnaHQgaW4gcGl4ZWxzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSAtIFNwYWNlIGF0IHRoZSBib3R0b20gaW4gcGl4ZWxzLlxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAobGVmdCwgdG9wLCByaWdodCwgYm90dG9tKSAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3BhY2UgYXQgdGhlIGxlZnQgaW4gcGl4ZWxzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBsZWZ0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAbGVmdCA9IGxlZnRcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTcGFjZSBhdCB0aGUgdG9wIGluIHBpeGVscy5cbiAgICAgICAgKiBAcHJvcGVydHkgdG9wXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAdG9wID0gdG9wXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3BhY2UgYXQgdGhlIHJpZ2h0IGluIHBpeGVscy5cbiAgICAgICAgKiBAcHJvcGVydHkgcmlnaHRcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEByaWdodCA9IHJpZ2h0XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3BhY2UgYXQgdGhlIGJvdHRvbSBpbiBwaXhlbHMuXG4gICAgICAgICogQHByb3BlcnR5IGJvdHRvbVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGJvdHRvbSA9IGJvdHRvbVxuICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHNwYWNlIGJ5IGNvcHlpbmcgdGhlbSBmcm9tIGEgc3BlY2lmaWVkIHNwYWNlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0RnJvbU9iamVjdFxuICAgICogQHBhcmFtIHtPYmplY3R9IHNwYWNlIC0gQSBzcGFjZSB0byBjb3B5LlxuICAgICMjIyAgIFxuICAgIHNldEZyb21PYmplY3Q6IChzcGFjZSkgLT5cbiAgICAgICAgQGxlZnQgPSBzcGFjZS5sZWZ0XG4gICAgICAgIEB0b3AgPSBzcGFjZS50b3BcbiAgICAgICAgQHJpZ2h0ID0gc3BhY2UucmlnaHRcbiAgICAgICAgQGJvdHRvbSA9IHNwYWNlLmJvdHRvbVxuICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHNwYWNlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCAtIFNwYWNlIGF0IHRoZSBsZWZ0IGluIHBpeGVscy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgLSBTcGFjZSBhdCB0aGUgdG9wIGluIHBpeGVscy5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCAtIFNwYWNlIGF0IHRoZSByaWdodCBpbiBwaXhlbHMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIC0gU3BhY2UgYXQgdGhlIGJvdHRvbSBpbiBwaXhlbHMuXG4gICAgIyMjICAgIFxuICAgIHNldDogKGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSkgLT5cbiAgICAgICAgQGxlZnQgPSBsZWZ0XG4gICAgICAgIEB0b3AgPSB0b3BcbiAgICAgICAgQHJpZ2h0ID0gcmlnaHRcbiAgICAgICAgQGJvdHRvbSA9IGJvdHRvbVxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSBuZXcgc3BhY2Ugb2JqZWN0IGZyb20gYW4gYXJyYXkgb2YgY29vcmRpbmF0ZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBmcm9tQXJyYXlcbiAgICAqIEBzdGF0aWNcbiAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gQW4gYXJyYXkgb2YgY29vcmRpbmF0ZXMgKGxlZnQsIHRvcCByaWdodCwgYm90dG9tKS5cbiAgICAjIyMgICAgXG4gICAgQGZyb21BcnJheTogKGFycmF5KSAtPiBuZXcgdWkuU3BhY2UoYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSwgYXJyYXlbM10pXG4gICAgICAgIFxudWkuU3BhY2UgPSBTcGFjZVxuXG5jbGFzcyBTdHlsZVxuICAgICMjIypcbiAgICAqIEEgVUkgc3R5bGUgY2FuIGFwcGxpZWQgdG8gYSBVSSBvYmplY3QgdG8gbW9kaWZ5IGl0IHByb3BlcnRpZXMgbGlrZSBjb2xvciwgaW1hZ2UsIGV0Yy4gdG8gZ2l2ZSBhIGNlcnRhaW4gXCJzdHlsZVwiIHRvIGl0LlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBTdHlsZVxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gQSBzdHlsZS1kZXNjcmlwdG9yIHRvIGluaXRpYWxpemUgdGhlIHN0eWxlIGZyb20uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaWQgLSBBIHVuaXF1ZSBudW1lcmljIElEIHRvIGFjY2VzcyB0aGUgc3R5bGUgdGhyb3VnaCBVSU1hbmFnZXIuc3R5bGVzQnlJZCBjb2xsZWN0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNlbGVjdG9yIC0gQSBzZWxlY3RvciBJRCB3aGljaCBjb250cm9scyB1bmRlciB3aGljaCBjb25kaXRpb25zIHRoZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkLlxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZGVzY3JpcHRvciwgaWQsIHNlbGVjdG9yKSAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogSUQgbnVtYmVyIHRvIHF1aWNrbHkgYWNjZXNzIHRoaXMgc3R5bGUgYW5kIGxpbmsgdG8gdGhpcyBzdHlsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBpZCA9IGlkXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3R5bGUtSUQgb2YgdGFyZ2V0IG9iamVjdC4gVGhpcyBzdHlsZSB3aWxsIG9ubHkgYmUgYXBwbGllZCBvbiBVSSBvYmplY3RzIHdpdGggdGhhdCBzdHlsZSBJRCB3aGljaCBhcmVcbiAgICAgICAgKiBjaGlsZHJlbiBvZiBVSSBvYmplY3RzIHdoZXJlIHRoaXMgc3R5bGUgaXMgYXBwbGllZC5cbiAgICAgICAgKiBAcHJvcGVydHkgdGFyZ2V0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAdGFyZ2V0ID0gLTFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTZWxlY3Rvci1JRCB3aGljaCBjb250cm9scyB1bmRlciB3aGljaCBjb25kaXRpb25zIHRoZSBzdHlsZSBiZWNvbWVzIGFjdGl2ZS5cbiAgICAgICAgKiBAcHJvcGVydHkgc2VsZWN0b3JcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBzZWxlY3RvciA9IHNlbGVjdG9yXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGZvbnQgdXNlZCBmb3IgdGhlIHRleHQtZGlzcGxheS5cbiAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICogQHByb3BlcnR5IGZvbnRcbiAgICAgICAgKiBAdHlwZSBncy5Gb250XG4gICAgICAgICMjI1xuICAgICAgICBAZm9udCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgaW1hZ2UgdXNlZCBmb3IgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYW5pbWF0aW9ucyB1c2VkIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgKiBAcHJvcGVydHkgYW5pbWF0aW9uc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0aW9ucyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgY29sb3IuXG4gICAgICAgICogQHByb3BlcnR5IGNvbG9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb2xvciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYW5jaG9yLXBvaW50LiBGb3IgZXhhbXBsZTogQW4gYW5jaG9yLXBvaW50IHdpdGggMCwwIHBsYWNlcyB0aGUgb2JqZWN0IHdpdGggaXRzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAqIGF0IGl0cyBwb3NpdGlvbiBidXQgd2l0aCBhbiAwLjUsIDAuNSBhbmNob3ItcG9pbnQgdGhlIG9iamVjdCBpcyBwbGFjZWQgd2l0aCBpdHMgY2VudGVyLiBBbiBhbmNob3ItcG9pbnQgb2YgMSwxXG4gICAgICAgICogcGxhY2VzIHRoZSBvYmplY3Qgd2l0aCBpdHMgbG93ZXItcmlnaHQgY29ybmVyLlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbmNob3JcbiAgICAgICAgKiBAdHlwZSBncy5Qb2ludFxuICAgICAgICAjIyNcbiAgICAgICAgQGFuY2hvciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3Mgem9vbS1zZXR0aW5nIGZvciB4IGFuZCB5IGF4aXMuXG4gICAgICAgICogQGRlZmF1bHQgbmV3IGdzLlBvaW50KDEuMCwgMS4wKVxuICAgICAgICAqIEBwcm9wZXJ0eSB6b29tXG4gICAgICAgICogQHR5cGUgZ3MuUG9pbnRcbiAgICAgICAgIyMjXG4gICAgICAgIEB6b29tID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBtYXJnaW4uIFRoZSBtYXJnaW4gZGVmaW5lcyBhbiBleHRyYSBzcGFjZSBhcm91bmQgdGhlIFVJIG9iamVjdC4gXG4gICAgICAgICogVGhlIGRlZmF1bHQgaXMgeyBsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfS5cbiAgICAgICAgKiBAcHJvcGVydHkgbWFyZ2luXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAbWFyZ2luID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBwYWRkaW5nLiBUaGUgZGVmYXVsdCBpcyB7IGxlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCB9LlxuICAgICAgICAqIEBwcm9wZXJ0eSBwYWRkaW5nXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAcGFkZGluZyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgbWFzayBmb3IgbWFza2luZy1lZmZlY3RzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtYXNrXG4gICAgICAgICogQHR5cGUgZ3MuTWFza1xuICAgICAgICAjIyNcbiAgICAgICAgQG1hc2sgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGFsaWdubWVudC5cbiAgICAgICAgKiBAcHJvcGVydHkgYWxpZ25tZW50XG4gICAgICAgICogQHR5cGUgdWkuQWxpZ25tZW50XG4gICAgICAgICMjI1xuICAgICAgICBAYWxpZ25tZW50ID0gLTFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3Mgb3BhY2l0eSB0byBjb250cm9sIHRyYW5zcGFyZW5jeS4gRm9yIGV4YW1wbGU6IDAgPSBUcmFuc3BhcmVudCwgMjU1ID0gT3BhcXVlLCAxMjggPSBTZW1pLVRyYW5zcGFyZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBvcGFjaXR5XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAb3BhY2l0eSA9IC0xXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGNsaXAtcmVjdCBmb3IgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICogQHByb3BlcnR5IGNsaXBSZWN0XG4gICAgICAgICogQHR5cGUgZ3MuUmVjdFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjbGlwUmVjdCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29ybmVyLXNpemUgb2YgdGhlIGZyYW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZUNvcm5lclNpemVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBmcmFtZUNvcm5lclNpemUgPSAtMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSB0aGlja25lc3Mgb2YgdGhlIGZyYW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZVRoaWNrbmVzc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGZyYW1lVGhpY2tuZXNzID0gLTFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbG9vcGluZyBvZiB0aGUgaW1hZ2UuXG4gICAgICAgICogQHByb3BlcnR5IGxvb3BpbmdcbiAgICAgICAgKiBAdHlwZSB1aS5PcmllbnRhdGlvblxuICAgICAgICAjIyNcbiAgICAgICAgQGxvb3BpbmcgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIHotaW5kZXggY29udHJvbHMgcmVuZGVyaW5nLW9yZGVyL2ltYWdlLW92ZXJsYXBwaW5nLiBBbiBvYmplY3Qgd2l0aCBhIHNtYWxsZXIgei1pbmRleCBpcyByZW5kZXJlZFxuICAgICAgICAqIGJlZm9yZSBhbiBvYmplY3Qgd2l0aCBhIGxhcmdlciBpbmRleC4gRm9yIGV4YW1wbGU6IFRvIG1ha2Ugc3VyZSBhIGdhbWUgb2JqZWN0IGlzIGFsd2F5cyBvbiB0b3Agb2YgdGhlIHNjcmVlbiwgaXRcbiAgICAgICAgKiBzaG91bGQgaGF2ZSB0aGUgbGFyZ2VzdCB6LWluZGV4IG9mIGFsbCBnYW1lIG9iamVjdHMuXG4gICAgICAgICogQHByb3BlcnR5IHpJbmRleFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHpJbmRleCA9IC0xXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFsaWdubWVudCBvbiB4LWF4aXMuIE5lZWRzIHRvIGJlIHN1cHBvcnRlZCBieSBsYXlvdXQuXG4gICAgICAgICogQHByb3BlcnR5IGFsaWdubWVudFhcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbGlnbm1lbnRYID0gLTFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgYWxpZ25tZW50IG9uIHktYXhpcy4gTmVlZHMgdG8gYmUgc3VwcG9ydGVkIGJ5IGxheW91dC5cbiAgICAgICAgKiBAcHJvcGVydHkgYWxpZ25tZW50WVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGFsaWdubWVudFkgPSAtMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyByZXNpemUgYmVoYXZpb3IuXG4gICAgICAgICogQHByb3BlcnR5IHJlc2l6YWJsZVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEByZXNpemFibGUgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9yaWdpbmFsIHN0eWxlIGRlc2NyaXB0b3IuXG4gICAgICAgICogQHByb3BlcnR5IGRlc2NyaXB0b3JcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBkZXNjcmlwdG9yID0gZGVzY3JpcHRvclxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvclxuICAgICAgICAgICAgQHNldEZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IpXG5cbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgc3R5bGUgZnJvbSBhIHN0eWxlLWRlc2NyaXB0b3IuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRGcm9tRGVzY3JpcHRvclxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgc3R5bGUtZGVzY3JpcHRvci5cbiAgICAjIyMgXG4gICAgc2V0RnJvbURlc2NyaXB0b3I6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBAZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JcbiAgICAgICAgQGltYWdlID0gZGVzY3JpcHRvci5pbWFnZVxuICAgICAgICBAY29sb3IgPSBncy5Db2xvci5mcm9tQXJyYXkoZGVzY3JpcHRvci5jb2xvcikgaWYgZGVzY3JpcHRvci5jb2xvclxuICAgICAgICBAYW5jaG9yID0gbmV3IGdzLlBvaW50KGRlc2NyaXB0b3IuYW5jaG9yWzBdLCBkZXNjcmlwdG9yLmFuY2hvclsxXSkgaWYgZGVzY3JpcHRvci5hbmNob3JcbiAgICAgICAgQHpvb20gPSBuZXcgZ3MuUG9pbnQoZGVzY3JpcHRvci56b29tWzBdLCBkZXNjcmlwdG9yLnpvb21bMV0pIGlmIGRlc2NyaXB0b3Iuem9vbVxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5mb250XG4gICAgICAgICAgICBAc2V0dXBGb250KGRlc2NyaXB0b3IpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jbGlwUmVjdFxuICAgICAgICAgICAgQGNsaXBSZWN0ID0gZ3MuUmVjdC5mcm9tQXJyYXkoZGVzY3JpcHRvci5jbGlwUmVjdClcbiAgICAgICAgICAgIFxuICAgICAgICBAb3BhY2l0eSA9IGRlc2NyaXB0b3Iub3BhY2l0eSBpZiBkZXNjcmlwdG9yLm9wYWNpdHkgPj0gMFxuICAgICAgICBAYWxpZ25tZW50ID0gZGVzY3JpcHRvci5hbGlnbm1lbnQgaWYgZGVzY3JpcHRvci5hbGlnbm1lbnQgPj0gMFxuICAgICAgICBAbWFyZ2luID0gdWkuU3BhY2UuZnJvbUFycmF5KGRlc2NyaXB0b3IubWFyZ2luKSBpZiBkZXNjcmlwdG9yLm1hcmdpblxuICAgICAgICBAcGFkZGluZyA9IHVpLlNwYWNlLmZyb21BcnJheShkZXNjcmlwdG9yLnBhZGRpbmcpIGlmIGRlc2NyaXB0b3IucGFkZGluZ1xuICAgICAgICBAYW5pbWF0aW9ucyA9IGRlc2NyaXB0b3IuYW5pbWF0aW9uc1xuICAgICAgICBAZnJhbWVDb3JuZXJTaXplID0gZGVzY3JpcHRvci5mcmFtZUNvcm5lclNpemUgaWYgZGVzY3JpcHRvci5mcmFtZUNvcm5lclNpemVcbiAgICAgICAgQGZyYW1lVGhpY2tuZXNzID0gZGVzY3JpcHRvci5mcmFtZVRoaWNrbmVzcyBpZiBkZXNjcmlwdG9yLmZyYW1lVGhpY2tuZXNzXG4gICAgICAgIEBmcmFtZSA9IGRlc2NyaXB0b3IuZnJhbWUgaWYgZGVzY3JpcHRvci5mcmFtZVxuICAgICAgICBAbG9vcGluZyA9IGRlc2NyaXB0b3IubG9vcGluZyBpZiBkZXNjcmlwdG9yLmxvb3BpbmdcbiAgICAgICAgQHJlc2l6YWJsZSA9IGRlc2NyaXB0b3IucmVzaXphYmxlIGlmIGRlc2NyaXB0b3IucmVzaXphYmxlP1xuICAgICAgICBAekluZGV4ID0gZGVzY3JpcHRvci56SW5kZXggaWYgZGVzY3JpcHRvci56SW5kZXhcbiAgICAgICAgQGFsaWdubWVudFggPSB1aS5VSU1hbmFnZXIuYWxpZ25tZW50c1tkZXNjcmlwdG9yLmFsaWdubWVudFhdIGlmIGRlc2NyaXB0b3IuYWxpZ25tZW50WFxuICAgICAgICBAYWxpZ25tZW50WSA9IHVpLlVJTWFuYWdlci5hbGlnbm1lbnRzW2Rlc2NyaXB0b3IuYWxpZ25tZW50WV0gaWYgZGVzY3JpcHRvci5hbGlnbm1lbnRZXG4gICAgICAgIFxuICAgIHNldDogKHN0eWxlKSAtPlxuICAgICAgICBAaW1hZ2UgPSBzdHlsZS5pbWFnZVxuICAgICAgICBAY29sb3Iuc2V0RnJvbU9iamVjdChzdHlsZS5jb2xvcilcbiAgICAgICAgQGFuY2hvci5zZXQoc3R5bGUuYW5jaG9yLngsIHN0eWxlLmFuY2hvci55KVxuICAgICAgICBAem9vbS5zZXQoc3R5bGUuem9vbS54LCBzdHlsZS56b29tLnkpXG4gICAgICAgIFxuICAgICAgICBpZiBzdHlsZS5mb250XG4gICAgICAgICAgICBpZiAhQGZvbnQgdGhlbiBAZm9udCA9IG5ldyBncy5Gb250KHN0eWxlLmZvbnQubmFtZSwgc3R5bGUuZm9udC5zaXplKVxuICAgICAgICAgICAgQGZvbnQuc2V0KHN0eWxlLmZvbnQpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgc3R5bGUuY2xpcFJlY3RcbiAgICAgICAgICAgIGlmICFAY2xpcFJlY3QgdGhlbiBAY2xpcFJlY3QgPSBuZXcgZ3MuUmVjdCgpXG4gICAgICAgICAgICBAY2xpcFJlY3Quc2V0RnJvbU9iamVjdChzdHlsZS5jbGlwUmVjdClcbiAgICAgICAgICAgIFxuICAgICAgICBAb3BhY2l0eSA9IHN0eWxlLm9wYWNpdHpcbiAgICAgICAgQGFsaWdubWVudCA9IHN0eWxlLmFsaWdubWVudFxuICAgICAgICBAbWFyZ2luLnNldEZyb21PYmplY3Qoc3R5bGUubWFyZ2luKVxuICAgICAgICBAcGFkZGluZy5zZXRGcm9tT2JqZWN0KHN0eWxlLnBhZGRpbmcpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIGZvbnQtZGF0YSBmcm9tIGEgc3R5bGUtZGVzY3JpcHRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRm9udFxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgc3R5bGUtZGVzY3JpcHRvci5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgc2V0dXBGb250OiAoZGVzY3JpcHRvcikgLT5cbiAgICAgICAgaWYgZGVzY3JpcHRvci5mb250XG4gICAgICAgICAgICBpZiAhQGZvbnRcbiAgICAgICAgICAgICAgICBAZm9udCA9IG5ldyBGb250KGRlc2NyaXB0b3IuZm9udC5uYW1lLCBkZXNjcmlwdG9yLmZvbnQuc2l6ZSA/IDApXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQGZvbnQubmFtZSA9IGRlc2NyaXB0b3IuZm9udC5uYW1lXG4gICAgICAgICAgICAgICAgQGZvbnQuc2l6ZSA9IGRlc2NyaXB0b3IuZm9udC5zaXplID8gMFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQGZvbnQuYm9sZCA9IGRlc2NyaXB0b3IuZm9udC5ib2xkID8gQGZvbnQuYm9sZFxuICAgICAgICAgICAgQGZvbnQuaXRhbGljID0gZGVzY3JpcHRvci5mb250Lml0YWxpYyA/IEBmb250Lml0YWxpY1xuICAgICAgICAgICAgQGZvbnQuc21hbGxDYXBzID0gZGVzY3JpcHRvci5mb250LnNtYWxsQ2FwcyA/IEBmb250LnNtYWxsQ2Fwc1xuICAgICAgICAgICAgQGZvbnQudW5kZXJsaW5lID0gZGVzY3JpcHRvci5mb250LnVuZGVybGluZSA/IEBmb250LnVuZGVybGluZVxuICAgICAgICAgICAgQGZvbnQuc3RyaWtlVGhyb3VnaCA9IGRlc2NyaXB0b3IuZm9udC5zdHJpa2VUaHJvdWdoID8gQGZvbnQuc3RyaWtlVGhyb3VnaFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZvbnQuY29sb3I/XG4gICAgICAgICAgICAgICAgQGZvbnQuY29sb3Iuc2V0RnJvbUFycmF5KGRlc2NyaXB0b3IuZm9udC5jb2xvcilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgZGVzY3JpcHRvci5mb250LmJvcmRlcj9cbiAgICAgICAgICAgICAgICBAZm9udC5ib3JkZXIgPSBkZXNjcmlwdG9yLmZvbnQuYm9yZGVyID8gbm9cbiAgICAgICAgICAgICAgICBAZm9udC5ib3JkZXJTaXplID0gZGVzY3JpcHRvci5mb250LmJvcmRlclNpemUgPyA0XG4gICAgICAgICAgICAgICAgQGZvbnQuYm9yZGVyQ29sb3Iuc2V0KDAsIDAsIDAsIDI1NSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGRlc2NyaXB0b3IuZm9udC5vdXRsaW5lP1xuICAgICAgICAgICAgICAgIEBmb250LmJvcmRlciA9IGRlc2NyaXB0b3IuZm9udC5vdXRsaW5lID8gbm9cbiAgICAgICAgICAgICAgICBAZm9udC5ib3JkZXJTaXplID0gZGVzY3JpcHRvci5mb250Lm91dGxpbmUuc2l6ZSA/IDRcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZvbnQub3V0bGluZS5jb2xvcj9cbiAgICAgICAgICAgICAgICAgICAgQGZvbnQuYm9yZGVyQ29sb3Iuc2V0RnJvbUFycmF5KGRlc2NyaXB0b3IuZm9udC5vdXRsaW5lLmNvbG9yKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQGZvbnQuYm9yZGVyQ29sb3Iuc2V0KDAsIDAsIDAsIDI1NSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBcHBsaWVzIHRoZSBzdHlsZSB0byBhIFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGFwcGx5XG4gICAgKiBAcGFyYW0ge3VpLk9iamVjdF9VSUVsZW1lbnR9IG9iamVjdCAtIFRoZSBVSSBvYmplY3Qgd2hlcmUgdGhlIHN0eWxlIHNob3VsZCBiZSBhcHBsaWVkIHRvLlxuICAgICMjIyAgICAgICAgICAgICAgICBcbiAgICBhcHBseTogKG9iamVjdCkgLT5cbiAgICAgICAgaWYgbm90IG9iamVjdC5hY3RpdmVTdHlsZXMuY29udGFpbnModGhpcylcbiAgICAgICAgICAgIG9iamVjdC5hY3RpdmVTdHlsZXMucHVzaCh0aGlzKVxuICAgICAgICAgICAgaWYgQGZvbnQgdGhlbiBvYmplY3QuZm9udD8uc2V0KEBmb250KVxuICAgICAgICAgICAgaWYgQGNvbG9yIHRoZW4gb2JqZWN0LmNvbG9yLnNldChAY29sb3IpXG4gICAgICAgICAgICBpZiBAaW1hZ2UgdGhlbiBvYmplY3QuaW1hZ2UgPSBAaW1hZ2VcbiAgICAgICAgICAgIGlmIEBhbmNob3IgdGhlbiBvYmplY3QuYW5jaG9yLnNldChAYW5jaG9yLngsIEBhbmNob3IueSlcbiAgICAgICAgICAgIGlmIEB6b29tIHRoZW4gb2JqZWN0Lnpvb20uc2V0KEB6b29tLngsIEB6b29tLnkpXG4gICAgICAgICAgICBpZiBAcGFkZGluZyB0aGVuIG9iamVjdC5wYWRkaW5nLnNldEZyb21PYmplY3QoQHBhZGRpbmcpXG4gICAgICAgICAgICBpZiBAbWFyZ2luIHRoZW4gb2JqZWN0Lm1hcmdpbi5zZXRGcm9tT2JqZWN0KEBtYXJnaW4pXG4gICAgICAgICAgICBpZiBAb3BhY2l0eSA+PSAwIHRoZW4gb2JqZWN0Lm9wYWNpdHkgPSBAb3BhY2l0eVxuICAgICAgICAgICAgaWYgQGFsaWdubWVudCA+PSAwIHRoZW4gb2JqZWN0LmFsaWdubWVudCA9IEBhbGlnbm1lbnRcbiAgICAgICAgICAgIGlmIEBmcmFtZVRoaWNrbmVzcyA+PSAwIHRoZW4gb2JqZWN0LmZyYW1lVGhpY2tuZXNzID0gQGZyYW1lVGhpY2tuZXNzXG4gICAgICAgICAgICBpZiBAZnJhbWVDb3JuZXJTaXplID49IDAgdGhlbiBvYmplY3QuZnJhbWVDb3JuZXJTaXplID0gQGZyYW1lQ29ybmVyU2l6ZVxuICAgICAgICAgICAgaWYgQG1hc2sgdGhlbiBvYmplY3QubWFzay5zZXQoQG1hc2spXG4gICAgICAgICAgICBpZiBAekluZGV4ID49IDAgdGhlbiBvYmplY3QuekluZGV4ID0gQHpJbmRleFxuICAgICAgICAgICAgaWYgQGFsaWdubWVudFggPj0gMCB0aGVuIG9iamVjdC5hbGlnbm1lbnRYID0gQGFsaWdubWVudFhcbiAgICAgICAgICAgIGlmIEBhbGlnbm1lbnRZID49IDAgdGhlbiBvYmplY3QuYWxpZ25tZW50WSA9IEBhbGlnbm1lbnRZXG4gICAgICAgICAgICBpZiBAcmVzaXphYmxlPyB0aGVuIG9iamVjdC5yZXNpemFibGUgPSBAcmVzaXphYmxlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBhcHBseUxvb3Bpbmcob2JqZWN0KVxuICAgICAgICAgICAgQGFwcGx5QW5pbWF0aW9ucyhvYmplY3QpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEFwcGxpZXMgdGhlIGxvb3BpbmctZGF0YSBvZiB0aGUgc3R5bGUgdG8gYSBVSSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBhcHBseUxvb3BpbmdcbiAgICAqIEBwYXJhbSB7dWkuT2JqZWN0X1VJRWxlbWVudH0gb2JqZWN0IC0gVGhlIFVJIG9iamVjdCB3aGVyZSB0aGUgbG9vcGluZy1kYXRhIHNob3VsZCBiZSBhcHBsaWVkIHRvLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgYXBwbHlMb29waW5nOiAob2JqZWN0KSAtPlxuICAgICAgICBpZiBAbG9vcGluZ1xuICAgICAgICAgICAgaWYgIW9iamVjdC52aXN1YWwubG9vcGluZ1xuICAgICAgICAgICAgICAgIG9iamVjdC52aXN1YWwuZGlzcG9zZSgpXG4gICAgICAgICAgICAgICAgb2JqZWN0LnJlbW92ZUNvbXBvbmVudChvYmplY3QudmlzdWFsKVxuICAgICAgICAgICAgICAgIG9iamVjdC52aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1RpbGluZ1Nwcml0ZSgpXG4gICAgICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudChvYmplY3QudmlzdWFsKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBvYmplY3QudmlzdWFsLmxvb3BpbmcudmVydGljYWwgPSBAbG9vcGluZy52ZXJ0aWNhbFxuICAgICAgICAgICAgb2JqZWN0LnZpc3VhbC5sb29waW5nLmhvcml6b250YWwgPSBAbG9vcGluZy5ob3Jpem9udGFsXG4gICAgIFxuICAgICMjIypcbiAgICAqIEFwcGxpZXMgdGhlIGFuaW1hdGlvbi1kYXRhIG9mIHRoZSBzdHlsZSB0byBhIFVJIG9iamVjdC4gVGhpcyBhdXRvbWF0aWNhbGx5IGFkZHMgYW4gYW5pbWF0aW9uLWhhbmRsZXJcbiAgICAqIGNvbXBvbmVudCh1aS5Db21wb25lbnRfQW5pbWF0aW9uSGFuZGxlcikgd2l0aCB0aGUgaWQgXCJhbmltYXRpb25IYW5kbGVyXCIgdG8gdGhlIFVJIG9iamVjdCBpZiBub3QgYWxyZWFkeSBleGlzdHMuXG4gICAgKlxuICAgICogQG1ldGhvZCBhcHBseUFuaW1hdGlvbnNcbiAgICAqIEBwYXJhbSB7dWkuT2JqZWN0X1VJRWxlbWVudH0gb2JqZWN0IC0gVGhlIFVJIG9iamVjdCB3aGVyZSB0aGUgYW5pbWF0aW9uLWRhdGEgc2hvdWxkIGJlIGFwcGxpZWQgdG8uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBhcHBseUFuaW1hdGlvbnM6IChvYmplY3QpIC0+XG4gICAgICAgIGlmIEBhbmltYXRpb25zXG4gICAgICAgICAgICBvYmplY3QuYW5pbWF0aW9ucyA9IE9iamVjdC5kZWVwQ29weShAYW5pbWF0aW9ucylcbiAgICAgICAgICAgIGlmICFvYmplY3QuZmluZENvbXBvbmVudEJ5SWQoXCJhbmltYXRpb25IYW5kbGVyXCIpXG4gICAgICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudChuZXcgdWkuQ29tcG9uZW50X0FuaW1hdGlvbkhhbmRsZXIoKSwgXCJhbmltYXRpb25IYW5kbGVyXCIpXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXZlcnRzIHRoZSBjaGFuZ2VzIGZyb20gYSBVSSBvYmplY3QgbWFkZSBieSB0aGlzIHN0eWxlLiBIb3dldmVyLCB0aGlzIHJlc2V0cyBhbGwgc3R5bGVhYmxlIHByb3BlcnRpZXNcbiAgICAqIHdlcmUgc2V0IGJ5IHRoaXMgc3R5bGUuIFNvIGl0IGlzIG5lY2Vzc2FyeSB0byBhcHBseSBhbGwgb3RoZXIgc3R5bGVzIGFnYWluLCBidXQgdGhhdCBpcyBhbHJlYWR5IGhhbmRsZXMgaW5cbiAgICAqIHVpLkNvbXBvbmVudF9VSUJlaGF2aW9yLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmV2ZXJ0XG4gICAgKiBAcGFyYW0ge3VpLk9iamVjdF9VSUVsZW1lbnR9IG9iamVjdCAtIFRoZSBVSSBvYmplY3Qgd2hlcmUgdGhlIHN0eWxlIHNob3VsZCBiZSByZXZlcnRlZC5cbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgcmV2ZXJ0OiAob2JqZWN0KSAtPlxuICAgICAgICBhY3RpdmVTdHlsZXMgPSBvYmplY3QuYWN0aXZlU3R5bGVzXG4gICAgICAgIGlmIG9iamVjdC5hY3RpdmVTdHlsZXMuY29udGFpbnModGhpcylcbiAgICAgICAgICAgIG9iamVjdC5hY3RpdmVTdHlsZXMucmVtb3ZlKHRoaXMpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBmb250IHRoZW4gb2JqZWN0LmZvbnQuc2V0KGdzLkZvbnRzLlRFWFQpOyAgICAgICAgICAgICAgIChpZiBzLmZvbnQgdGhlbiBvYmplY3QuZm9udC5zZXQocy5mb250KTsgYnJlYWspIGZvciBzIGluIGFjdGl2ZVN0eWxlcyBieSAtMVxuICAgICAgICAgICAgaWYgQGNvbG9yIHRoZW4gb2JqZWN0LmNvbG9yLnNldChDb2xvci5XSElURSk7ICAgICAgICAgICAgICAgKGlmIHMuY29sb3IgdGhlbiBvYmplY3QuY29sb3Iuc2V0KHMuY29sb3IpOyBicmVhaykgZm9yIHMgaW4gYWN0aXZlU3R5bGVzIGJ5IC0xXG4gICAgICAgICAgICBpZiBAaW1hZ2UgdGhlbiBvYmplY3QuaW1hZ2UgPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAoaWYgcy5pbWFnZSB0aGVuIG9iamVjdC5pbWFnZSA9IHMuaW1hZ2U7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEBhbmNob3IgdGhlbiBvYmplY3QuYW5jaG9yLnNldCgwLCAwKTsgICAgICAgICAgICAgICAgICAgIChpZiBzLmFuY2hvciB0aGVuIG9iamVjdC5hbmNob3Iuc2V0RnJvbU9iamVjdChzLmFuY2hvcik7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEB6b29tIHRoZW4gb2JqZWN0Lnpvb20uc2V0KDEuMCwgMS4wKTsgICAgICAgICAgICAgICAgICAgIChpZiBzLnpvb20gdGhlbiBvYmplY3Quem9vbS5zZXRGcm9tT2JqZWN0KHMuem9vbSk7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEBwYWRkaW5nIHRoZW4gb2JqZWN0LnBhZGRpbmcuc2V0KDAsIDAsIDAsIDApOyAgICAgICAgICAgIChpZiBzLnBhZGRpbmcgdGhlbiBvYmplY3QucGFkZGluZy5zZXRGcm9tT2JqZWN0KHMucGFkZGluZyk7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEBtYXJnaW4gdGhlbiBvYmplY3QubWFyZ2luLnNldCgwLCAwLCAwLCAwKTsgICAgICAgICAgICAgIChpZiBzLm1hcmdpbiB0aGVuIG9iamVjdC5tYXJnaW4uc2V0RnJvbU9iamVjdChzLm1hcmdpbik7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEBvcGFjaXR5ID49IDAgdGhlbiBvYmplY3Qub3BhY2l0eSA9IDI1NTsgICAgICAgICAgICAgICAgIChpZiBzLm9wYWNpdHkgPj0gMCB0aGVuIG9iamVjdC5vcGFjaXR5ID0gcy5vcGFjaXR5OyBicmVhaykgZm9yIHMgaW4gYWN0aXZlU3R5bGVzIGJ5IC0xXG4gICAgICAgICAgICBpZiBAYWxpZ25tZW50ID49IDAgdGhlbiBvYmplY3QuYWxpZ25tZW50ID0gMDsgICAgICAgICAgICAgICAoaWYgcy5hbGlnbm1lbnQgPj0gMCB0aGVuIG9iamVjdC5hbGlnbm1lbnQgPSBzLmFsaWdubWVudDsgYnJlYWspIGZvciBzIGluIGFjdGl2ZVN0eWxlcyBieSAtMVxuICAgICAgICAgICAgaWYgQGZyYW1lQ29ybmVyU2l6ZSA+PSAwIHRoZW4gb2JqZWN0LmZyYW1lQ29ybmVyU2l6ZSA9IDE2OyAgKGlmIHMuZnJhbWVDb3JuZXJTaXplID49IDAgdGhlbiBvYmplY3QuZnJhbWVDb3JuZXJTaXplID0gcy5mcmFtZUNvcm5lclNpemU7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEBmcmFtZVRoaWNrbmVzcyA+PSAwIHRoZW4gb2JqZWN0LmZyYW1lVGhpY2tuZXNzID0gMTY7ICAgIChpZiBzLmZyYW1lVGhpY2tuZXNzID49IDAgdGhlbiBvYmplY3QuZnJhbWVUaGlja25lc3MgPSBzLmZyYW1lVGhpY2tuZXNzOyBicmVhaykgZm9yIHMgaW4gYWN0aXZlU3R5bGVzIGJ5IC0xXG4gICAgICAgICAgICBpZiBAbWFzayB0aGVuIG9iamVjdC5tYXNrLnNldChudWxsKTsgICAgICAgICAgICAgICAgICAgICAgICAoaWYgcy5tYXNrIHRoZW4gb2JqZWN0Lm1hc2suc2V0KHMuZm9udCk7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEB6SW5kZXggPj0gMCB0aGVuIG9iamVjdC56SW5kZXggPSAwOyAgICAgICAgICAgICAgICAgICAgIChpZiBzLnpJbmRleCA+PSAwIHRoZW4gb2JqZWN0LnpJbmRleCA9IHMuekluZGV4OyBicmVhaykgZm9yIHMgaW4gYWN0aXZlU3R5bGVzIGJ5IC0xXG4gICAgICAgICAgICBpZiBAYWxpZ25tZW50WCA+PSAwIHRoZW4gb2JqZWN0LmFsaWdubWVudFggPSAwOyAgICAgICAgICAgICAoaWYgcy5hbGlnbm1lbnRYID49IDAgdGhlbiBvYmplY3QuYWxpZ25tZW50WCA9IHMuYWxpZ25tZW50WDsgYnJlYWspIGZvciBzIGluIGFjdGl2ZVN0eWxlcyBieSAtMVxuICAgICAgICAgICAgaWYgQGFsaWdubWVudFkgPj0gMCB0aGVuIG9iamVjdC5hbGlnbm1lbnRZID0gMDsgICAgICAgICAgICAgKGlmIHMuYWxpZ25tZW50WSA+PSAwIHRoZW4gb2JqZWN0LmFsaWdubWVudFkgPSBzLmFsaWdubWVudFk7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIGlmIEByZXNpemFibGU/IHRoZW4gb2JqZWN0LnJlc2l6YWJsZSA9IG5vOyAgICAgICAgICAgICAgICAgIChpZiBzLnJlc2l6YWJsZT8gdGhlbiBvYmplY3QucmVzaXphYmxlID0gcy5yZXNpemFibGU7IGJyZWFrKSBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHJldmVydEFuaW1hdGlvbnMob2JqZWN0KVxuICAgICAgICAgICAgQHJldmVydExvb3Bpbmcob2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXZlcnRzIHRoZSBhbmltYXRpb24tZGF0YSBjaGFuZ2VzIGFwcGxpZWQgdG8gYSBVSSBvYmplY3QgYnkgdGhpcyBzdHlsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJldmVydEFuaW1hdGlvbnNcbiAgICAqIEBwYXJhbSB7dWkuT2JqZWN0X1VJRWxlbWVudH0gb2JqZWN0IC0gVGhlIFVJIG9iamVjdCB3aGVyZSB0aGUgYW5pbWF0aW9uLWRhdGEgY2hhbmdlcyBzaG91bGQgYmUgcmV2ZXJ0ZWQuXG4gICAgIyMjICAgICAgICAgICAgICAgICBcbiAgICByZXZlcnRBbmltYXRpb25zOiAob2JqZWN0KSAtPlxuICAgICAgICBhY3RpdmVTdHlsZXMgPSBvYmplY3QuYWN0aXZlU3R5bGVzXG4gICAgICAgIGlmIEBhbmltYXRpb25zXG4gICAgICAgICAgICBvYmplY3QuYW5pbWF0aW9ucyA9IG51bGw7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgcyBpbiBhY3RpdmVTdHlsZXMgYnkgLTFcbiAgICAgICAgICAgICAgICBpZiBzLmFuaW1hdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFuaW1hdGlvbnMgPSBPYmplY3QuZGVlcENvcHkocy5hbmltYXRpb25zKVxuICAgICAgICAgICAgICAgICAgICBpZiAhb2JqZWN0LmZpbmRDb21wb25lbnRCeUlkKFwiYW5pbWF0aW9uSGFuZGxlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudChuZXcgdWkuQ29tcG9uZW50X0FuaW1hdGlvbkhhbmRsZXIoKSwgXCJhbmltYXRpb25IYW5kbGVyXCIpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFJldmVydHMgdGhlIGxvb3BpbmctZGF0YSBjaGFuZ2VzIGFwcGxpZWQgdG8gYSBVSSBvYmplY3QgYnkgdGhpcyBzdHlsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJldmVydExvb3BpbmdcbiAgICAqIEBwYXJhbSB7dWkuT2JqZWN0X1VJRWxlbWVudH0gb2JqZWN0IC0gVGhlIFVJIG9iamVjdCB3aGVyZSB0aGUgbG9vcGluZy1kYXRhIGNoYW5nZXMgc2hvdWxkIGJlIHJldmVydGVkLlxuICAgICMjIyAgICAgICAgICAgICAgICAgXG4gICAgcmV2ZXJ0TG9vcGluZzogKG9iamVjdCkgLT5cbiAgICAgICAgYWN0aXZlU3R5bGVzID0gb2JqZWN0LmFjdGl2ZVN0eWxlc1xuICAgICAgICBpZiBAbG9vcGluZ1xuICAgICAgICAgICAgb2JqZWN0LnZpc3VhbC5sb29waW5nLnZlcnRpY2FsID0gbm9cbiAgICAgICAgICAgIG9iamVjdC52aXN1YWwubG9vcGluZy5ob3Jpem9udGFsID0gbm9cbiAgICAgICAgICAgIGZvciBzIGluIGFjdGl2ZVN0eWxlcyBieSAtMVxuICAgICAgICAgICAgICAgIGlmIHMubG9vcGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAhb2JqZWN0LnZpc3VhbC5sb29waW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudmlzdWFsLmRpc3Bvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnJlbW92ZUNvbXBvbmVudChvYmplY3QudmlzdWFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfVGlsaW5nU3ByaXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQob2JqZWN0LnZpc3VhbClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC52aXN1YWwubG9vcGluZy52ZXJ0aWNhbCA9IHMubG9vcGluZy52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QudmlzdWFsLmxvb3BpbmcuaG9yaXpvbnRhbCA9IHMubG9vcGluZy5ob3Jpem9udGFsXG4gICAgICAgICAgICBcbnVpLlN0eWxlID0gU3R5bGVcblxuY2xhc3MgVUlNYW5hZ2VyXG4gICAgIyMjKlxuICAgICogSGFuZGxlcyB0aGUgY3JlYXRpb24gb2YgSW4gR2FtZSBVSSBlbGVtZW50cy4gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXRcbiAgICAqIEluLUdhbWUgVUkgc2VlIGhlbHAgZmlsZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgVUlNYW5hZ2VyXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCByZWdpc3RlcmVkIFVJIGxheW91dHMgYnkgbmFtZS9pZC5cbiAgICAgICAgKiBAcHJvcGVydHkgbGF5b3V0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGxheW91dHMgPSB7fVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBhbGwgcmVnaXN0ZXJlZCBVSSBzdHlsZXMgYnkgbmFtZS9pZC5cbiAgICAgICAgKiBAcHJvcGVydHkgc3R5bGVzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3R5bGVzID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgYWxsIFVJIHN0eWxlcyBieSBudW1iZXIgaWQuXG4gICAgICAgICogQHByb3BlcnR5IHN0eWxlc0J5SWRcbiAgICAgICAgKiBAdHlwZSB1aS5TdHlsZVtdXG4gICAgICAgICMjI1xuICAgICAgICBAc3R5bGVzQnlJZCA9IG5ldyBBcnJheSgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCBVSSBzdHlsZXMgYnkgc3R5bGUtbmFtZS5cbiAgICAgICAgKiBAcHJvcGVydHkgc3R5bGVzQnlOYW1lXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3R5bGVzQnlOYW1lID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgYWxsIHJlZ2lzdGVyZWQgY3VzdG9tIFVJIHR5cGVzL3RlbXBsYXRlcyBieSBuYW1lL2lkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjdXN0b21UeXBlc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGN1c3RvbVR5cGVzID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgYWxsIHJlZ2lzdGVyZWQgVUkgY29udHJvbGxlcnMgYnkgbmFtZS9pZC5cbiAgICAgICAgKiBAcHJvcGVydHkgY3VzdG9tVHlwZXNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb250cm9sbGVycyA9IHt9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGFsbCByZWdpc3RlcmVkIFVJIGRhdGEgc291cmNlcyBieSBuYW1lL2lkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjdXN0b21UeXBlc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGRhdGFTb3VyY2VzID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBNYXBwaW5nIHRvIHRhYmxlIHRvIG1hcCBhbGlnbm1lbnQgbmFtZXMgdG8gbnVtYmVyIHZhbHVlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgYWxpZ25tZW50c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbGlnbm1lbnRzID0geyBcImxlZnRcIjogMCwgXCJ0b3BcIjogMCwgXCJjZW50ZXJcIjogMSwgXCJib3R0b21cIjogMiwgXCJyaWdodFwiOiAyLCBcIjBcIjogMCwgXCIxXCI6IDEsIFwiMlwiOiAyIH1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBNYXBwaW5nIHRvIHRhYmxlIHRvIG1hcCBibGVuZC1tb2RlIG5hbWVzIHRvIG51bWJlciB2YWx1ZXMuXG4gICAgICAgICogQHByb3BlcnR5IGJsZW5kTW9kZXNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAYmxlbmRNb2RlcyA9IHsgXCJub3JtYWxcIjogMCwgXCJhZGRcIjogMSwgXCJzdWJcIjogMiB9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogTWFwcGluZyB0byB0YWJsZSB0byBtYXAgc2VsZWN0b3IgbmFtZXMgdG8gbnVtYmVyIHZhbHVlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgc2VsZWN0b3JzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc2VsZWN0b3JzID0geyBub3JtYWw6IDAsIGhvdmVyOiAxLCBzZWxlY3RlZDogMiwgZW5hYmxlZDogMywgZm9jdXNlZDogNCB9XG4gICAgICAgIEBkZWZhdWx0UGxhY2Vob2xkZXJQYXJhbXMgPSB7fVxuICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgVUkgTWFuYWdlciwgb3B0aW1pemVzIHN0eWxlcywgZXRjLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQHNldHVwU3R5bGVzKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB1cCB0aGUgVUkgc3R5bGVzIGJ5IHdyYXBwaW5nIHRoZW0gaW50byB1aS5TdHlsZSBvYmplY3RzIGFuZCBvcHRpbWl6aW5nIHRoZSBhY2Nlc3MuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFN0eWxlc1xuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIHNldHVwU3R5bGVzOiAtPlxuICAgICAgICBpZCA9IDBcbiAgICAgICAgc2VsZWN0b3JNYXAgPSBAc2VsZWN0b3JzXG4gICAgICAgIGZvciBrIG9mIEBzdHlsZXNcbiAgICAgICAgICAgIHN1YnMgPSBrLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgc2VsZWN0b3IgPSBzdWJzWzBdLnNwbGl0KFwiOlwiKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBzZWxlY3Rvck1hcFtzZWxlY3RvclsxXV1cbiAgICAgICAgICAgICAgICBAc3R5bGVzQnlJZFtpZF0gPSBuZXcgdWkuU3R5bGUoQHN0eWxlc1trXSwgaWQsIHNlbGVjdG9yTWFwW3NlbGVjdG9yWzFdXSlcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAc3R5bGVzQnlJZFtpZF0gPSBuZXcgdWkuU3R5bGUoQHN0eWxlc1trXSwgaWQsIDApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICFAc3R5bGVzQnlOYW1lW3NlbGVjdG9yWzBdXVxuICAgICAgICAgICAgICAgIEBzdHlsZXNCeU5hbWVbc2VsZWN0b3JbMF1dID0gW11cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBzdHlsZXNCeU5hbWVbc2VsZWN0b3JbMF1dLnB1c2goQHN0eWxlc0J5SWRbaWRdKVxuICAgICAgICAgICAgQHN0eWxlc1trXSA9IEBzdHlsZXNCeUlkW2lkXVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZCsrXG4gICAgICAgIFxuICAgICAgICBmb3IgayBvZiBAc3R5bGVzXG4gICAgICAgICAgICBzdWJzID0gay5zcGxpdChcIiBcIilcbiAgICAgICAgICAgIGlmIHN1YnMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgIEBzdHlsZXNCeU5hbWVbc3Vic1sxXV0ucHVzaChAc3R5bGVzW2tdKVxuICAgICAgICAgICAgICAgIEBzdHlsZXNba10udGFyZ2V0ID0gQHN0eWxlc1trLnNwbGl0KFwiOlwiKVswXV0/LmlkXG4gICAgICAgICAgICAgICAgI0BzdHlsZXNbc3Vic1sxXV0udGFyZ2V0ID0gQHN0eWxlc1trXS5pZFxuICAgICAgICAgICAgICAgICNAc3R5bGVzW2tdLnRhcmdldCA9IEBzdHlsZXNbc3Vic1sxXV0uaWRcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBFeGVjdXRlcyBhbGwgcGxhY2Vob2xkZXIgZm9ybXVsYXMgaW4gdGhlIHNwZWNpZmllZCBkZXNjcmlwdG9yLiBUaGUgZGVzY3JpcHRvciB3aWxsIGJlIGNoYW5nZWRcbiAgICAqIGFuZCBwbGFjZWhvbGRlciBmb3JtdWxhcyBhcmUgcmVwbGFjZWQgd2l0aCB0aGVpciBldmFsdWF0ZWQgcmVzdWx0IHZhbHVlLlxuICAgICpcbiAgICAqIEBtZXRob2QgZXhlY3V0ZVBsYWNlaG9sZGVyRm9ybXVsYXNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIGRlc2NyaXB0b3IuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBsYWNlaG9sZGVyIHBhcmFtcy5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgZXhlY3V0ZVBsYWNlaG9sZGVyRm9ybXVsYXM6IChkZXNjcmlwdG9yLCBpZCwgcGFyYW1zKSAtPlxuICAgICAgICByZXR1cm4gaWYgbm90IGRlc2NyaXB0b3I/XG4gICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKVxuICAgICAgICAgICAgXG4gICAgICAgIGZvciBrIGluIGtleXNcbiAgICAgICAgICAgIHYgPSBkZXNjcmlwdG9yW2tdXG4gICAgICAgICAgICBpZiB2P1xuICAgICAgICAgICAgICAgIGlmIHYgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgICAgICBmb3IgaSwgYyBpbiB2XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiBpP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHR5cGVvZiBpID09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGV4ZWN1dGVQbGFjZWhvbGRlckZvcm11bGFzKGksIGlkLCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiBjICE9IFwiZXhlY1wiIGFuZCB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnAgPSBwYXJhbXMgfHwgIEBkZWZhdWx0UGxhY2Vob2xkZXJQYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmQgPSBkZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZbY10gPSBpKClcbiAgICAgICAgICAgICAgICBlbHNlIGlmIHR5cGVvZiB2ID09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgQGV4ZWN1dGVQbGFjZWhvbGRlckZvcm11bGFzKHYsIGlkLCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiBrICE9IFwiZXhlY19cIiBhbmQgdHlwZW9mIHYgPT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wID0gcGFyYW1zIHx8IEBkZWZhdWx0UGxhY2Vob2xkZXJQYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmQgPSBkZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3Jba10gPSB2KClcbiAgICAgICAgcmV0dXJuIG51bGxcblxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSBjYWxjdWxhdGlvbiBmb3IgYSBzcGVjaWZpZWQgZXhwcmVzc2lvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZUNhbGNGdW5jdGlvblxuICAgICogQHBhcmFtIHtTdHJpbmd9IGV4cHJlc3Npb24gLSBUaGUgZXhwcmVzc2lvbiB0byBjcmVhdGUgYSBjYWxjdWxhdGlvbiBmdW5jdGlvbiBmb3IuXG4gICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGNhbGN1bGF0aW9uIGZ1bmN0aW9uLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICAgIFxuICAgIGNyZWF0ZUNhbGNGdW5jdGlvbjogKGV4cHJlc3Npb24pIC0+XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoLyhbMC05XSspJS9nbSwgXCIoJDEgLyAxMDAgKiB2KVwiKVxuICAgICAgICByZXR1cm4gZXZhbChcIihmdW5jdGlvbih2KXsgcmV0dXJuIFwiICsgZXhwcmVzc2lvbiArIFwifSlcIilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGFuIG9iamVjdCBmcm9tIHRoZSBzcGVjaWZpZWQgb2JqZWN0IHR5cGUuIFRoZSB0eXBlIGhhcyB0aGUgZm9ybWF0XG4gICAgKiA8bmFtZXNwYWNlPi48dHlwZW5hbWU+IGxpa2Ugdm4uQ29tcG9uZW50X0hvdHNwb3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVPYmplY3RcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgbmFtZS5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICBcbiAgICBjcmVhdGVPYmplY3Q6ICh0eXBlKSAtPlxuICAgICAgICBzdWJzID0gdHlwZS5zcGxpdChcIi5cIilcbiAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3dbc3Vic1swXV1bc3Vic1sxXV0oKVxuICAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhbiBVSSBvYmplY3QgZnJvbSBhIHNwZWNpZmllZCBVSSBkZXNjcmlwdG9yLlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlRnJvbURlc2NyaXB0b3JcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHBhcmFtIHtncy5PYmplY3RfVUlFbGVtZW50fSBwYXJlbnQgLSBUaGUgVUkgcGFyZW50IG9iamVjdC4gKEEgbGF5b3V0IGZvciBleGFtcGxlKS5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIFVJIG9iamVjdC5cbiAgICAjIyMgICBcbiAgICBjcmVhdGVGcm9tRGVzY3JpcHRvcjogKGRlc2NyaXB0b3IsIHBhcmVudCkgLT5cbiAgICAgICAgY29udHJvbCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGZvciBrIG9mIEBjb250cm9sbGVyc1xuICAgICAgICAgICAgaWYgQGNvbnRyb2xsZXJzW2tdLnR5cGU/XG4gICAgICAgICAgICAgICAgQGNvbnRyb2xsZXJzW2tdID0gQGNyZWF0ZU9iamVjdChAY29udHJvbGxlcnNba10udHlwZSlcbiAgICAgICAgICAgIFxuICAgICAgICBAX2NyZWF0ZUZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IsIHBhcmVudClcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGFuIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVJbWFnZUJ1dHRvblxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgVUkgb2JqZWN0IGRlc2NyaXB0b3IuXG4gICAgKiBAcmV0dXJuIHtncy5PYmplY3RfVUlFbGVtZW50fSBUaGUgY3JlYXRlZCBpbWFnZSBidXR0b24gVUkgb2JqZWN0LlxuICAgICMjIyAgXG4gICAgY3JlYXRlSW1hZ2VCdXR0b246IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9Ib3RzcG90KGRlc2NyaXB0b3IuaW1hZ2UsIGRlc2NyaXB0b3IuaW1hZ2VIYW5kbGluZykgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGNvbnRyb2wuYmVoYXZpb3Iuc291bmQgPSBkZXNjcmlwdG9yLnNvdW5kXG4gICAgICAgIGNvbnRyb2wuYmVoYXZpb3Iuc291bmRzID0gZGVzY3JpcHRvci5zb3VuZHNcbiAgICAgICAgY29udHJvbC5pbWFnZSA9IGRlc2NyaXB0b3IuaW1hZ2VcbiAgICAgICAgY29udHJvbC5pbWFnZXMgPSBkZXNjcmlwdG9yLmltYWdlc1xuICAgICAgICBpZiBkZXNjcmlwdG9yLmltYWdlRm9sZGVyP1xuICAgICAgICAgICAgY29udHJvbC5pbWFnZUZvbGRlciA9IGRlc2NyaXB0b3IuaW1hZ2VGb2xkZXJcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLmxvb3Bpbmc/XG4gICAgICAgICAgICBjb250cm9sLnZpc3VhbC5kaXNwb3NlKClcbiAgICAgICAgICAgIGNvbnRyb2wucmVtb3ZlQ29tcG9uZW50KGNvbnRyb2wudmlzdWFsKVxuICAgICAgICAgICAgY29udHJvbC52aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1RpbGluZ1Nwcml0ZSgpXG4gICAgICAgICAgICBjb250cm9sLmFkZENvbXBvbmVudChjb250cm9sLnZpc3VhbClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udHJvbC52aXN1YWwubG9vcGluZy52ZXJ0aWNhbCA9IGRlc2NyaXB0b3IubG9vcGluZy52ZXJ0aWNhbFxuICAgICAgICAgICAgY29udHJvbC52aXN1YWwubG9vcGluZy5ob3Jpem9udGFsID0gZGVzY3JpcHRvci5sb29waW5nLmhvcml6b250YWxcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jb2xvcj9cbiAgICAgICAgICAgIGNvbnRyb2wuY29sb3IgPSBDb2xvci5mcm9tQXJyYXkoZGVzY3JpcHRvci5jb2xvcilcbiAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGFuIGltYWdlIFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZUltYWdlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgIyMjICAgICBcbiAgICBjcmVhdGVJbWFnZTogKGRlc2NyaXB0b3IpIC0+XG4gICAgICAgIGNvbnRyb2wgPSBuZXcgdWkuT2JqZWN0X0ltYWdlKGRlc2NyaXB0b3IuaW1hZ2UsIGRlc2NyaXB0b3IuaW1hZ2VIYW5kbGluZykgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuaW1hZ2VGb2xkZXI/XG4gICAgICAgICAgICBjb250cm9sLmltYWdlRm9sZGVyID0gZGVzY3JpcHRvci5pbWFnZUZvbGRlclxuICAgICAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IubG9vcGluZz9cbiAgICAgICAgICAgIGNvbnRyb2wudmlzdWFsLmRpc3Bvc2UoKVxuICAgICAgICAgICAgY29udHJvbC5yZW1vdmVDb21wb25lbnQoY29udHJvbC52aXN1YWwpXG4gICAgICAgICAgICBjb250cm9sLnZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfVGlsaW5nU3ByaXRlKClcbiAgICAgICAgICAgIGNvbnRyb2wuYWRkQ29tcG9uZW50KGNvbnRyb2wudmlzdWFsKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb250cm9sLnZpc3VhbC5sb29waW5nLnZlcnRpY2FsID0gZGVzY3JpcHRvci5sb29waW5nLnZlcnRpY2FsXG4gICAgICAgICAgICBjb250cm9sLnZpc3VhbC5sb29waW5nLmhvcml6b250YWwgPSBkZXNjcmlwdG9yLmxvb3BpbmcuaG9yaXpvbnRhbFxuICAgICAgICBpZiBkZXNjcmlwdG9yLmNvbG9yP1xuICAgICAgICAgICAgY29udHJvbC5jb2xvciA9IENvbG9yLmZyb21BcnJheShkZXNjcmlwdG9yLmNvbG9yKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGFuIGltYWdlIG1hcCBVSSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVJbWFnZU1hcFxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgVUkgb2JqZWN0IGRlc2NyaXB0b3IuXG4gICAgKiBAcmV0dXJuIHtncy5PYmplY3RfVUlFbGVtZW50fSBUaGUgY3JlYXRlZCBpbWFnZSBidXR0b24gVUkgb2JqZWN0LlxuICAgICMjIyAgICAgICAgXG4gICAgY3JlYXRlSW1hZ2VNYXA6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9JbWFnZU1hcCgpXG4gICAgICAgIGNvbnRyb2wuaG90c3BvdHMgPSAoZGVzY3JpcHRvci5ob3RzcG90c3x8W10pLnNlbGVjdCAoaCkgLT4gXG4gICAgICAgICAgICB7IHg6IGgucmVjdFswXSwgeTogaC5yZWN0WzFdLCBzaXplOiB7IHdpZHRoOiBoLnJlY3RbMl0sIGhlaWdodDogaC5yZWN0WzNdIH0sIGRhdGE6IHsgYWN0aW9uOiAzLCBhY3Rpb25zOiBoLmFjdGlvbnMgfSB9XG4gICAgICAgIGNvbnRyb2wuaW1hZ2VzID0gZGVzY3JpcHRvci5pbWFnZXNcbiAgICAgICAgY29udHJvbC5pbnNlcnRDb21wb25lbnQobmV3IHVpLkNvbXBvbmVudF9BY3Rpb25IYW5kbGVyKCksIDEsIFwiYWN0aW9uSGFuZGxlclwiKVxuICAgICAgICBjb250cm9sLnRhcmdldCA9IFNjZW5lTWFuYWdlci5zY2VuZS5iZWhhdmlvclxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGEgdmlkZW8gVUkgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlVmlkZW9cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgaW1hZ2UgYnV0dG9uIFVJIG9iamVjdC5cbiAgICAjIyMgICAgXG4gICAgY3JlYXRlVmlkZW86IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9WaWRlbygpXG4gICAgICAgIGNvbnRyb2wudmlkZW8gPSBkZXNjcmlwdG9yLnZpZGVvXG4gICAgICAgIGNvbnRyb2wubG9vcCA9IGRlc2NyaXB0b3IubG9vcCA/IHllc1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGEgcGFuZWwgVUkgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlUGFuZWxcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgaW1hZ2UgYnV0dG9uIFVJIG9iamVjdC5cbiAgICAjIyMgICAgICAgXG4gICAgY3JlYXRlUGFuZWw6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9QYW5lbCgpXG4gICAgICAgIGNvbnRyb2wubW9kYWwgPSBkZXNjcmlwdG9yLm1vZGFsID8gbm9cbiAgICAgICAgaWYgZGVzY3JpcHRvci5jb2xvcj9cbiAgICAgICAgICAgIGNvbnRyb2wuY29sb3IgPSBDb2xvci5mcm9tQXJyYXkoZGVzY3JpcHRvci5jb2xvcilcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gY29udHJvbFxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSBmcmFtZSBVSSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVGcmFtZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgVUkgb2JqZWN0IGRlc2NyaXB0b3IuXG4gICAgKiBAcmV0dXJuIHtncy5PYmplY3RfVUlFbGVtZW50fSBUaGUgY3JlYXRlZCBpbWFnZSBidXR0b24gVUkgb2JqZWN0LlxuICAgICMjIyAgICAgICAgICAgXG4gICAgY3JlYXRlRnJhbWU6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9GcmFtZShkZXNjcmlwdG9yLmZyYW1lU2tpbilcbiAgICAgICAgY29udHJvbC5mcmFtZVRoaWNrbmVzcyA9IGRlc2NyaXB0b3IuZnJhbWVUaGlja25lc3MgfHwgMTZcbiAgICAgICAgY29udHJvbC5mcmFtZUNvcm5lclNpemUgPSBkZXNjcmlwdG9yLmZyYW1lQ29ybmVyU2l6ZSB8fCAxNlxuICAgICAgICBjb250cm9sLmltYWdlID0gZGVzY3JpcHRvci5pbWFnZVxuICAgICAgICBjb250cm9sLmltYWdlcyA9IGRlc2NyaXB0b3IuaW1hZ2VzXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udHJvbFxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSB0aHJlZS1wYXJ0IGltYWdlIFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZVRocmVlUGFydEltYWdlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgIyMjICAgICBcbiAgICBjcmVhdGVUaHJlZVBhcnRJbWFnZTogKGRlc2NyaXB0b3IpIC0+XG4gICAgICAgIGNvbnRyb2wgPSBuZXcgdWkuT2JqZWN0X1RocmVlUGFydEltYWdlKGRlc2NyaXB0b3IuZnJhbWVTa2luKVxuICAgICAgICBjb250cm9sLmZpcnN0UGFydFNpemUgPSBkZXNjcmlwdG9yLmZpcnN0UGFydFNpemUgfHwgMTZcbiAgICAgICAgY29udHJvbC5taWRkbGVQYXJ0U2l6ZSA9IGRlc2NyaXB0b3IubWlkZGxlUGFydFNpemUgfHwgMVxuICAgICAgICBjb250cm9sLmxhc3RQYXJ0U2l6ZSA9IGRlc2NyaXB0b3IubGFzdFBhcnRTaXplIHx8IDE2XG4gICAgICAgIGNvbnRyb2wuaW1hZ2UgPSBkZXNjcmlwdG9yLmltYWdlXG4gICAgICAgIGNvbnRyb2wuaW1hZ2VzID0gZGVzY3JpcHRvci5pbWFnZXNcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250cm9sXG4gICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSB0ZXh0IFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZVRleHRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgaW1hZ2UgYnV0dG9uIFVJIG9iamVjdC5cbiAgICAjIyMgICAgIFxuICAgIGNyZWF0ZVRleHQ6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9UZXh0KClcbiAgICAgICAgY29udHJvbC50ZXh0ID0gbGNzKGRlc2NyaXB0b3IudGV4dClcbiAgICAgICAgY29udHJvbC5zaXplVG9GaXQgPSBkZXNjcmlwdG9yLnNpemVUb0ZpdFxuICAgICAgICBjb250cm9sLmZvcm1hdHRpbmcgPSBkZXNjcmlwdG9yLmZvcm1hdHRpbmdcbiAgICAgICAgY29udHJvbC53b3JkV3JhcCA9IGRlc2NyaXB0b3Iud29yZFdyYXAgPyB5ZXNcbiAgICAgICAgY29udHJvbC5iZWhhdmlvci5mb3JtYXQgPSBkZXNjcmlwdG9yLmZvcm1hdFxuICAgICAgICBpZiBkZXNjcmlwdG9yLnJlc29sdmVQbGFjZWhvbGRlcnM/XG4gICAgICAgICAgICBjb250cm9sLnJlc29sdmVQbGFjZWhvbGRlcnMgPSBkZXNjcmlwdG9yLnJlc29sdmVQbGFjZWhvbGRlcnNcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jb2xvcj9cbiAgICAgICAgICAgIGNvbnRyb2wuY29sb3IgPSBDb2xvci5mcm9tQXJyYXkoZGVzY3JpcHRvci5jb2xvcilcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gY29udHJvbFxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSBmcmVlLWxheW91dCBVSSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVGcmVlTGF5b3V0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgIyMjIFxuICAgIGNyZWF0ZUZyZWVMYXlvdXQ6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBpZiBkZXNjcmlwdG9yLmZyYW1lP1xuICAgICAgICAgICAgY29udHJvbCA9IG5ldyB1aS5PYmplY3RfRnJlZUxheW91dChkZXNjcmlwdG9yLmZyYW1lWzBdIHx8IDAsIGRlc2NyaXB0b3IuZnJhbWVbMV0gfHwgMCwgZGVzY3JpcHRvci5mcmFtZVsyXSB8fCAxLCBkZXNjcmlwdG9yLmZyYW1lWzNdIHx8IDEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnRyb2wgPSBuZXcgdWkuT2JqZWN0X0ZyZWVMYXlvdXQoMCwgMCwgMSwgMSlcbiAgICAgICAgY29udHJvbC5zaXplVG9GaXQgPSBkZXNjcmlwdG9yLnNpemVUb0ZpdFxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGEgc3RhY2stbGF5b3V0IFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZVN0YWNrTGF5b3V0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgIyMjICAgICBcbiAgICBjcmVhdGVTdGFja0xheW91dDogKGRlc2NyaXB0b3IpIC0+XG4gICAgICAgIGlmIGRlc2NyaXB0b3IuZnJhbWU/XG4gICAgICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9TdGFja0xheW91dChkZXNjcmlwdG9yLmZyYW1lWzBdIHx8IDAsIGRlc2NyaXB0b3IuZnJhbWVbMV0gfHwgMCwgZGVzY3JpcHRvci5mcmFtZVsyXSB8fCAxLCBkZXNjcmlwdG9yLmZyYW1lWzNdIHx8IDEsIGRlc2NyaXB0b3Iub3JpZW50YXRpb24pXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnRyb2wgPSBuZXcgdWkuT2JqZWN0X1N0YWNrTGF5b3V0KDAsIDAsIDEsIDEsIGRlc2NyaXB0b3Iub3JpZW50YXRpb24pXG4gICAgICAgIGNvbnRyb2wuc2l6ZVRvRml0ID0gZGVzY3JpcHRvci5zaXplVG9GaXRcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250cm9sXG4gICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhIHNwcmVhZC1sYXlvdXQgVUkgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlU3ByZWFkTGF5b3V0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIGltYWdlIGJ1dHRvbiBVSSBvYmplY3QuXG4gICAgIyMjICAgICBcbiAgICBjcmVhdGVTcHJlYWRMYXlvdXQ6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBpZiBkZXNjcmlwdG9yLmZyYW1lP1xuICAgICAgICAgICAgY29udHJvbCA9IG5ldyB1aS5PYmplY3RfU3ByZWFkTGF5b3V0KGRlc2NyaXB0b3IuZnJhbWVbMF0gfHwgMCwgZGVzY3JpcHRvci5mcmFtZVsxXSB8fCAwLCBkZXNjcmlwdG9yLmZyYW1lWzJdIHx8IDEsIGRlc2NyaXB0b3IuZnJhbWVbM10gfHwgMSwgZGVzY3JpcHRvci5vcmllbnRhdGlvbilcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29udHJvbCA9IG5ldyB1aS5PYmplY3RfU3ByZWFkTGF5b3V0KDAsIDAsIDEsIDEsIGRlc2NyaXB0b3Iub3JpZW50YXRpb24pXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhIGdyaWQtbGF5b3V0IFVJIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZUdyaWRMYXlvdXRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgaW1hZ2UgYnV0dG9uIFVJIG9iamVjdC5cbiAgICAjIyMgICAgXG4gICAgY3JlYXRlR3JpZExheW91dDogKGRlc2NyaXB0b3IpIC0+XG4gICAgICAgIGlmIGRlc2NyaXB0b3IuZnJhbWU/XG4gICAgICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9HcmlkTGF5b3V0KGRlc2NyaXB0b3IuZnJhbWVbMF0sIGRlc2NyaXB0b3IuZnJhbWVbMV0sIGRlc2NyaXB0b3IuZnJhbWVbMl0sIGRlc2NyaXB0b3IuZnJhbWVbM10sIGRlc2NyaXB0b3Iucm93cywgZGVzY3JpcHRvci5jb2x1bW5zLCBkZXNjcmlwdG9yLnRlbXBsYXRlKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9HcmlkTGF5b3V0KDAsIDAsIDEsIDEsIGRlc2NyaXB0b3Iucm93cywgZGVzY3JpcHRvci5jb2x1bW5zLCBkZXNjcmlwdG9yLnRlbXBsYXRlKVxuICAgICAgICBjb250cm9sLmNlbGxTcGFjaW5nID0gZGVzY3JpcHRvci5jZWxsU3BhY2luZyB8fCBbMCwgMCwgMCwgMF1cbiAgICAgICAgY29udHJvbC5zaXplVG9GaXQgPSBkZXNjcmlwdG9yLnNpemVUb0ZpdFxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhIG1lc3NhZ2UgVUkgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlTWVzc2FnZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgVUkgb2JqZWN0IGRlc2NyaXB0b3IuXG4gICAgKiBAcmV0dXJuIHtncy5PYmplY3RfVUlFbGVtZW50fSBUaGUgY3JlYXRlZCBpbWFnZSBidXR0b24gVUkgb2JqZWN0LlxuICAgICMjIyAgICAgXG4gICAgY3JlYXRlTWVzc2FnZTogKGRlc2NyaXB0b3IpIC0+XG4gICAgICAgIGNvbnRyb2wgPSBuZXcgdWkuT2JqZWN0X01lc3NhZ2UoKSBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250cm9sXG4gICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSBkYXRhLWdyaWQgVUkgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlRGF0YUdyaWRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZXNjcmlwdG9yIC0gVGhlIFVJIG9iamVjdCBkZXNjcmlwdG9yLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgaW1hZ2UgYnV0dG9uIFVJIG9iamVjdC5cbiAgICAjIyMgICAgXG4gICAgY3JlYXRlRGF0YUdyaWQ6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbmV3IHVpLk9iamVjdF9EYXRhR3JpZChkZXNjcmlwdG9yKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhbiBVSSBvYmplY3QgZGVwZW5kaW5nIG9uIHRoZSBvYmplY3QtdHlwZSBvZiB0aGUgc3BlY2lmaWVkIFVJIGRlc2NyaXB0b3IuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVDb250cm9sXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9VSUVsZW1lbnR9IFRoZSBjcmVhdGVkIFVJIG9iamVjdC5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIGNyZWF0ZUNvbnRyb2w6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBjb250cm9sID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIGRlc2NyaXB0b3IudHlwZVxuICAgICAgICAgICAgd2hlbiBcInVpLkltYWdlQnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjb250cm9sID0gQGNyZWF0ZUltYWdlQnV0dG9uKGRlc2NyaXB0b3IpXG4gICAgICAgICAgICB3aGVuIFwidWkuSW1hZ2VcIlxuICAgICAgICAgICAgICAgIGNvbnRyb2wgPSBAY3JlYXRlSW1hZ2UoZGVzY3JpcHRvcilcbiAgICAgICAgICAgIHdoZW4gXCJ1aS5JbWFnZU1hcFwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVJbWFnZU1hcChkZXNjcmlwdG9yKVxuICAgICAgICAgICAgd2hlbiBcInVpLlZpZGVvXCJcbiAgICAgICAgICAgICAgICBjb250cm9sID0gQGNyZWF0ZVZpZGVvKGRlc2NyaXB0b3IpXG4gICAgICAgICAgICB3aGVuIFwidWkuUGFuZWxcIlxuICAgICAgICAgICAgICAgIGNvbnRyb2wgPSBAY3JlYXRlUGFuZWwoZGVzY3JpcHRvcilcbiAgICAgICAgICAgIHdoZW4gXCJ1aS5GcmFtZVwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVGcmFtZShkZXNjcmlwdG9yKVxuICAgICAgICAgICAgd2hlbiBcInVpLlRocmVlUGFydEltYWdlXCJcbiAgICAgICAgICAgICAgICBjb250cm9sID0gQGNyZWF0ZVRocmVlUGFydEltYWdlKGRlc2NyaXB0b3IpXG4gICAgICAgICAgICB3aGVuIFwidWkuVGV4dFwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVUZXh0KGRlc2NyaXB0b3IpXG4gICAgICAgICAgICB3aGVuIFwidWkuTWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVNZXNzYWdlKGRlc2NyaXB0b3IpXG4gICAgICAgICAgICB3aGVuIFwidWkuRGF0YUdyaWRcIlxuICAgICAgICAgICAgICAgIGNvbnRyb2wgPSBAY3JlYXRlRGF0YUdyaWQoZGVzY3JpcHRvcilcbiAgICAgICAgICAgIHdoZW4gXCJ1aS5GcmVlTGF5b3V0XCJcbiAgICAgICAgICAgICAgICBjb250cm9sID0gQGNyZWF0ZUZyZWVMYXlvdXQoZGVzY3JpcHRvcilcbiAgICAgICAgICAgIHdoZW4gXCJ1aS5TdGFja0xheW91dFwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVTdGFja0xheW91dChkZXNjcmlwdG9yKVxuICAgICAgICAgICAgd2hlbiBcInVpLlNwcmVhZExheW91dFwiXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBjcmVhdGVTcHJlYWRMYXlvdXQoZGVzY3JpcHRvcilcbiAgICAgICAgICAgIHdoZW4gXCJ1aS5HcmlkTGF5b3V0XCJcbiAgICAgICAgICAgICAgICBjb250cm9sID0gQGNyZWF0ZUdyaWRMYXlvdXQoZGVzY3JpcHRvcilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xcbiAgICBcbiAgICBcbiAgICBjcmVhdGVMYXlvdXRSZWN0OiAoZnJhbWUsIGNvbnRyb2wpIC0+XG4gICAgICAgIGlmICFjb250cm9sLmxheW91dFJlY3RcbiAgICAgICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdCA9IG5ldyB1aS5MYXlvdXRSZWN0KClcbiAgICAgICAgY29udHJvbC5sYXlvdXRSZWN0LnNldCgwLCAwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgaWYgZnJhbWU/XG4gICAgICAgICAgICBpZiBmcmFtZVswXT8ubGVuZ3RoP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdC54ID0gQGNyZWF0ZUNhbGNGdW5jdGlvbihmcmFtZVswXSlcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueCA9IDBcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueCA9IChkZXNjcmlwdG9yLmZyYW1lWzBdID8gY29udHJvbC5kc3RSZWN0LngpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBmcmFtZVsxXT8ubGVuZ3RoP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdC55ID0gQGNyZWF0ZUNhbGNGdW5jdGlvbihmcmFtZVsxXSlcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IDBcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IChmcmFtZVsxXSA/IGNvbnRyb2wuZHN0UmVjdC55KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgZnJhbWVbMl0/Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICBjb250cm9sLmxheW91dFJlY3Qud2lkdGggPSBAY3JlYXRlQ2FsY0Z1bmN0aW9uKGZyYW1lWzJdKVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC53aWR0aCA9IDFcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3Qud2lkdGggPSAoZnJhbWVbMl0gPyBjb250cm9sLmRzdFJlY3Qud2lkdGgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBmcmFtZVszXT8ubGVuZ3RoP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdC5oZWlnaHQgPSBAY3JlYXRlQ2FsY0Z1bmN0aW9uKGZyYW1lWzNdKVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgPSAxXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LmhlaWdodCA9IChmcmFtZVszXSA/IGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQpXG4gICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgdGhlIHN0eWxlcyBkZWZpbmVkIGluIGFuIGFycmF5IG9mIHN0eWxlLW5hbWVzIHRvIHRoZSBzcGVjaWZpZWQgY29udHJvbC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGFkZENvbnRyb2xTdHlsZXNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250cm9sIC0gVGhlIGNvbnRyb2wgdG8gYWRkIHRoZSBzdHlsZXMgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzdHlsZXMgLSBBcnJheSBvZiBzdHlsZS1uYW1lcyB0byBhZGQuXG4gICAgIyMjICAgICBcbiAgICBhZGRDb250cm9sU3R5bGVzOiAoY29udHJvbCwgc3R5bGVzKSAtPlxuICAgICAgICBmb3Igc3R5bGVOYW1lIGluIHN0eWxlc1xuICAgICAgICAgICAgaWYgQHN0eWxlc0J5TmFtZVtzdHlsZU5hbWVdP1xuICAgICAgICAgICAgICAgIGZvciBzdHlsZSBpbiBAc3R5bGVzQnlOYW1lW3N0eWxlTmFtZV1cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5zdHlsZXMucHVzaChzdHlsZSlcbiAgICAgICAgICAgICAgICAgICAgaWYgc3R5bGUudGFyZ2V0ID09IC0xIGFuZCBzdHlsZS5zZWxlY3RvciA9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5hcHBseShjb250cm9sKVxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYW4gVUkgb2JqZWN0IGZyb20gYSBzcGVjaWZpZWQgVUkgZGVzY3JpcHRvci4gVGhpcyBtZXRob2QgaXMgY2FsbGVkXG4gICAgKiByZWN1cnNpdmVseSBmb3IgYWxsIGNoaWxkLWRlc2NyaXB0b3JzLlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlQ29udHJvbEZyb21EZXNjcmlwdG9yXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciAtIFRoZSBVSSBvYmplY3QgZGVzY3JpcHRvci5cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gcGFyZW50IC0gVGhlIFVJIHBhcmVudCBvYmplY3QuIChBIGxheW91dCBmb3IgZXhhbXBsZSkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXguXG4gICAgKiBAcmV0dXJuIHtncy5PYmplY3RfVUlFbGVtZW50fSBUaGUgY3JlYXRlZCBVSSBvYmplY3QuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBjcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3I6IChkZXNjcmlwdG9yLCBwYXJlbnQsIGluZGV4KSAtPlxuICAgICAgICBjb250cm9sID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5zdHlsZT9cbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc3R5bGVzID0gW2Rlc2NyaXB0b3Iuc3R5bGVdXG4gICAgICAgICAgICBkZWxldGUgZGVzY3JpcHRvci5zdHlsZVxuICAgICAgICAgICAgXG4gICAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuZGVlcENvcHkoZGVzY3JpcHRvcilcbiAgICAgICAgQGV4ZWN1dGVQbGFjZWhvbGRlckZvcm11bGFzKGRlc2NyaXB0b3IsIGRlc2NyaXB0b3IuaWQsIGRlc2NyaXB0b3IucGFyYW1zKVxuICAgICAgICAgICAgXG4gICAgICAgIGNvbnRyb2wgPSBAY3JlYXRlQ29udHJvbChkZXNjcmlwdG9yKVxuICAgICAgICBcbiAgICAgICAgaWYgbm90IGNvbnRyb2w/XG4gICAgICAgICAgICB0eXBlID0gT2JqZWN0LmRlZXBDb3B5KEBjdXN0b21UeXBlc1tkZXNjcmlwdG9yLnR5cGVdKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBAZXhlY3V0ZVBsYWNlaG9sZGVyRm9ybXVsYXModHlwZSwgZGVzY3JpcHRvci5pZCwgZGVzY3JpcHRvci5wYXJhbXMpXG4gICAgICAgXG4gICAgICAgICAgICB0eXBlTmFtZSA9IHR5cGUudHlwZVxuICAgICAgICAgICAgY3VzdG9tRmllbGRzID0gdHlwZS5jdXN0b21GaWVsZHNcbiAgICAgICAgICAgIGJpbmRpbmdzID0gdHlwZS5iaW5kaW5nc1xuICAgICAgICAgICAgZm9ybXVsYXMgPSB0eXBlLmZvcm11bGFzXG4gICAgICAgICAgICBhY3Rpb25zID0gdHlwZS5hY3Rpb25zXG4gICAgICAgICAgICBpZiB0eXBlLnN0eWxlP1xuICAgICAgICAgICAgICAgIHR5cGUuc3R5bGVzID0gW3R5cGUuc3R5bGVdXG4gICAgICAgICAgICAgICAgdHlwZS5zdHlsZSA9IG51bGxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIE9iamVjdC5taXhpbih0eXBlLCBkZXNjcmlwdG9yKVxuICAgICAgICAgICAgaWYgY3VzdG9tRmllbGRzPyB0aGVuIE9iamVjdC5taXhpbih0eXBlLmN1c3RvbUZpZWxkcywgY3VzdG9tRmllbGRzKVxuICAgICAgICAgICAgaWYgYmluZGluZ3M/IGFuZCBiaW5kaW5ncyAhPSB0eXBlLmJpbmRpbmdzIHRoZW4gdHlwZS5iaW5kaW5ncyA9IHR5cGUuYmluZGluZ3MuY29uY2F0KGJpbmRpbmdzKVxuICAgICAgICAgICAgaWYgZm9ybXVsYXM/IGFuZCBmb3JtdWxhcyAhPSB0eXBlLmZvcm11bGFzIHRoZW4gdHlwZS5mb3JtdWxhcyA9IHR5cGUuZm9ybXVsYXMuY29uY2F0KGZvcm11bGFzKVxuICAgICAgICAgICAgaWYgYWN0aW9ucz8gYW5kIGFjdGlvbnMgIT0gdHlwZS5hY3Rpb25zIHRoZW4gdHlwZS5hY3Rpb25zID0gYWN0aW9ucy5jb25jYXQodHlwZS5hY3Rpb25zKVxuICAgICAgICAgICAgdHlwZS50eXBlID0gdHlwZU5hbWVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIEBjcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3IodHlwZSwgcGFyZW50KVxuICAgICAgICBlbHNlIGlmIHBhcmVudD9cbiAgICAgICAgICAgIHBhcmVudC5hZGRPYmplY3QoY29udHJvbClcbiAgICAgICAgICAgIGNvbnRyb2wuaW5kZXggPSBpbmRleFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQuYWRkT2JqZWN0KGNvbnRyb2wpXG4gICAgICAgICBcbiAgICAgICAgY29udHJvbC51aSA9IG5ldyB1aS5Db21wb25lbnRfVUlCZWhhdmlvcigpXG4gICAgICAgIGNvbnRyb2wuYWRkQ29tcG9uZW50KGNvbnRyb2wudWkpXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgY29udHJvbC5wYXJhbXMgPSBkZXNjcmlwdG9yLnBhcmFtc1xuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci51cGRhdGVCZWhhdmlvciA9PSBcImNvbnRpbnVvdXNcIlxuICAgICAgICAgICAgY29udHJvbC51cGRhdGVCZWhhdmlvciA9IHVpLlVwZGF0ZUJlaGF2aW9yLkNPTlRJTlVPVVNcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLmluaGVyaXRQcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb250cm9sLmluaGVyaXRQcm9wZXJ0aWVzID0geWVzXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5mb250P1xuICAgICAgICAgICAgY29udHJvbC5mb250ID0gbmV3IEZvbnQoZGVzY3JpcHRvci5mb250Lm5hbWUsIGRlc2NyaXB0b3IuZm9udC5zaXplKVxuICAgICAgICAgICAgY29udHJvbC5mb250LmJvbGQgPSBkZXNjcmlwdG9yLmZvbnQuYm9sZCA/IGNvbnRyb2wuZm9udC5ib2xkXG4gICAgICAgICAgICBjb250cm9sLmZvbnQuaXRhbGljID0gZGVzY3JpcHRvci5mb250Lml0YWxpYyA/IGNvbnRyb2wuZm9udC5pdGFsaWNcbiAgICAgICAgICAgIGNvbnRyb2wuZm9udC5zbWFsbENhcHMgPSBkZXNjcmlwdG9yLmZvbnQuc21hbGxDYXBzID8gY29udHJvbC5mb250LnNtYWxsQ2Fwc1xuICAgICAgICAgICAgY29udHJvbC5mb250LnVuZGVybGluZSA9IGRlc2NyaXB0b3IuZm9udC51bmRlcmxpbmUgPyBjb250cm9sLmZvbnQudW5kZXJsaW5lXG4gICAgICAgICAgICBjb250cm9sLmZvbnQuc3RyaWtlVGhyb3VnaCA9IGRlc2NyaXB0b3IuZm9udC5zdHJpa2VUaHJvdWdoID8gY29udHJvbC5mb250LnN0cmlrZVRocm91Z2hcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgZGVzY3JpcHRvci5mb250LmNvbG9yP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuZm9udC5jb2xvciA9IENvbG9yLmZyb21BcnJheShkZXNjcmlwdG9yLmZvbnQuY29sb3IpXG4gICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZvbnQuYm9yZGVyP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuZm9udC5ib3JkZXIgPSBkZXNjcmlwdG9yLmZvbnQuYm9yZGVyID8gbm9cbiAgICAgICAgICAgICAgICBjb250cm9sLmZvbnQuYm9yZGVyU2l6ZSA9IGRlc2NyaXB0b3IuZm9udC5ib3JkZXJTaXplID8gNFxuICAgICAgICAgICAgICAjaWYgZGVzY3JpcHRvci5mb250LmJvcmRlci5jb2xvclxuICAgICAgICAgICAgIyAgICAgICAgY29udHJvbC5mb250LmJvcmRlckNvbG9yID0gQ29sb3IuZnJvbUFycmF5KGRlc2NyaXB0b3IuZm9udC5ib3JkZXIuY29sb3IpXG4gICAgICAgICAgICAgICAgY29udHJvbC5mb250LmJvcmRlckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDApXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZvbnQub3V0bGluZT9cbiAgICAgICAgICAgICAgICBjb250cm9sLmZvbnQuYm9yZGVyID0gZGVzY3JpcHRvci5mb250Lm91dGxpbmUgPyBub1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuZm9udC5ib3JkZXJTaXplID0gZGVzY3JpcHRvci5mb250Lm91dGxpbmUuc2l6ZSA/IDRcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZvbnQub3V0bGluZS5jb2xvcj9cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5mb250LmJvcmRlckNvbG9yID0gQ29sb3IuZnJvbUFycmF5KGRlc2NyaXB0b3IuZm9udC5vdXRsaW5lLmNvbG9yKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5mb250LmJvcmRlckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDApXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jb21wb25lbnRzP1xuICAgICAgICAgICAgZm9yIGMgaW4gZGVzY3JpcHRvci5jb21wb25lbnRzXG4gICAgICAgICAgICAgICAgbSA9IGMubW9kdWxlIHx8IFwiZ3NcIlxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyB3aW5kb3dbbV1bYy50eXBlXShjLnBhcmFtcylcbiAgICAgICAgICAgICAgICBjb250cm9sLmFkZENvbXBvbmVudChjb21wb25lbnQsIGMuaWQpXG4gICAgICAgICAgICAgICAgY29udHJvbFtjLmlkXSA9IGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICNjb21wb25lbnQuc2V0dXA/KClcbiAgICAgICAgIFxuICAgICAgICBjb250cm9sLmZvY3VzYWJsZSA9IGRlc2NyaXB0b3IuZm9jdXNhYmxlID8gY29udHJvbC5mb2N1c2FibGUgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IubmV4dEtleU9iamVjdFxuICAgICAgICAgICAgY29udHJvbC51aS5uZXh0S2V5T2JqZWN0SWQgPSBkZXNjcmlwdG9yLm5leHRLZXlPYmplY3RcbiAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuaW5pdGlhbEZvY3VzXG4gICAgICAgICAgICBjb250cm9sLnVpLmZvY3VzKClcbiAgICAgICAgICAgIFxuICAgICAgICBhY3Rpb25zID0gT2JqZWN0LmRlZXBDb3B5KGlmIGRlc2NyaXB0b3IuYWN0aW9uPyB0aGVuIFtkZXNjcmlwdG9yLmFjdGlvbl0gZWxzZSBkZXNjcmlwdG9yLmFjdGlvbnMpIFxuICAgICAgICBpZiBhY3Rpb25zP1xuICAgICAgICAgICAgZm9yIGFjdGlvbiBpbiBhY3Rpb25zXG4gICAgICAgICAgICAgICAgaWYgYWN0aW9uP1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZXZlbnQgPSBhY3Rpb24uZXZlbnQgPyBcIm9uQWNjZXB0XCJcbiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGFjdGlvbi50YXJnZXQ/XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBpZiBAY29udHJvbGxlcnM/IHRoZW4gQGNvbnRyb2xsZXJzW2Rlc2NyaXB0b3IudGFyZ2V0XSBlbHNlIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50YXJnZXQgPSB0YXJnZXQgfHwgU2NlbmVNYW5hZ2VyLnNjZW5lLmJlaGF2aW9yXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnRyb2wuYWN0aW9ucyA9IGFjdGlvbnNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIWNvbnRyb2wuZmluZENvbXBvbmVudEJ5SWQoXCJhY3Rpb25IYW5kbGVyXCIpKVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuaW5zZXJ0Q29tcG9uZW50KG5ldyB1aS5Db21wb25lbnRfQWN0aW9uSGFuZGxlcigpLCAxLCBcImFjdGlvbkhhbmRsZXJcIilcbiAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuaWQ/XG4gICAgICAgICAgICBjb250cm9sLmlkID0gZGVzY3JpcHRvci5pZFxuICAgICAgICAgICAgZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50LnNldE9iamVjdEJ5SWQoY29udHJvbCwgY29udHJvbC5pZClcbiAgICAgICAgICAgIFxuICAgICAgICBjb250cm9sLmRlc2NyaXB0b3IgPSBkZXNjcmlwdG9yXG4gICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdCA9IG5ldyBSZWN0KClcbiAgICAgICAgY29udHJvbC5sYXlvdXRSZWN0LnNldCgwLCAwLCAwLCAwKVxuICAgICAgICBpZiBkZXNjcmlwdG9yLmZyYW1lP1xuICAgICAgICAgICAgaWYgZGVzY3JpcHRvci5mcmFtZVswXT8ubGVuZ3RoP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wubGF5b3V0UmVjdC54ID0gQGNyZWF0ZUNhbGNGdW5jdGlvbihkZXNjcmlwdG9yLmZyYW1lWzBdKVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gMFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gKGRlc2NyaXB0b3IuZnJhbWVbMF0gPyBjb250cm9sLmRzdFJlY3QueClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGRlc2NyaXB0b3IuZnJhbWVbMV0/Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICBjb250cm9sLmxheW91dFJlY3QueSA9IEBjcmVhdGVDYWxjRnVuY3Rpb24oZGVzY3JpcHRvci5mcmFtZVsxXSlcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IDBcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IChkZXNjcmlwdG9yLmZyYW1lWzFdID8gY29udHJvbC5kc3RSZWN0LnkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBkZXNjcmlwdG9yLmZyYW1lWzJdPy5sZW5ndGg/XG4gICAgICAgICAgICAgICAgY29udHJvbC5sYXlvdXRSZWN0LndpZHRoID0gQGNyZWF0ZUNhbGNGdW5jdGlvbihkZXNjcmlwdG9yLmZyYW1lWzJdKVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC53aWR0aCA9IDFcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3Qud2lkdGggPSAoZGVzY3JpcHRvci5mcmFtZVsyXSA/IGNvbnRyb2wuZHN0UmVjdC53aWR0aClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGRlc2NyaXB0b3IuZnJhbWVbM10/Lmxlbmd0aD9cbiAgICAgICAgICAgICAgICBjb250cm9sLmxheW91dFJlY3QuaGVpZ2h0ID0gQGNyZWF0ZUNhbGNGdW5jdGlvbihkZXNjcmlwdG9yLmZyYW1lWzNdKSAjcGFyc2VJbnQoZGVzY3JpcHRvci5mcmFtZVszXS5zcGxpdChcIiVcIilbMF0pXG4gICAgICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LmhlaWdodCA9IDFcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QuaGVpZ2h0ID0gKGRlc2NyaXB0b3IuZnJhbWVbM10gPyBjb250cm9sLmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5zaXplVG9QYXJlbnQ/XG4gICAgICAgICAgICBjb250cm9sLnNpemVUb1BhcmVudCA9IGRlc2NyaXB0b3Iuc2l6ZVRvUGFyZW50XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5ibGVuZE1vZGU/XG4gICAgICAgICAgICBjb250cm9sLmJsZW5kTW9kZSA9IEBibGVuZE1vZGVzW2Rlc2NyaXB0b3IuYmxlbmRNb2RlXVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuYW5jaG9yP1xuICAgICAgICAgICAgY29udHJvbC5hbmNob3Iuc2V0KGRlc2NyaXB0b3IuYW5jaG9yWzBdLCBkZXNjcmlwdG9yLmFuY2hvclsxXSlcbiAgICAgICAgXG5cbiAgICAgICAgY29udHJvbC5vcGFjaXR5ID0gZGVzY3JpcHRvci5vcGFjaXR5ID8gMjU1ICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLm1pbmltdW1TaXplP1xuICAgICAgICAgICAgY29udHJvbC5taW5pbXVtU2l6ZSA9IHsgd2lkdGg6IGRlc2NyaXB0b3IubWluaW11bVNpemVbMF0sIGhlaWdodDogZGVzY3JpcHRvci5taW5pbXVtU2l6ZVsxXSB9XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5yZXNpemFibGU/IHRoZW4gY29udHJvbC5yZXNpemFibGUgPSBkZXNjcmlwdG9yLnJlc2l6YWJsZVxuICAgICAgICBpZiBkZXNjcmlwdG9yLnNjcm9sbGFibGU/IHRoZW4gY29udHJvbC5zY3JvbGxhYmxlID0gZGVzY3JpcHRvci5zY3JvbGxhYmxlIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLmZpeGVkU2l6ZT8gdGhlbiBjb250cm9sLmZpeGVkU2l6ZSA9IGRlc2NyaXB0b3IuZml4ZWRTaXplXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuZHJhZ2dhYmxlP1xuICAgICAgICAgICAgY29udHJvbC5kcmFnZ2FibGUgPSBkZXNjcmlwdG9yLmRyYWdnYWJsZVxuICAgICAgICAgICAgY29udHJvbC5kcmFnZ2FibGUuc3RlcCA9IDBcbiAgICAgICAgICAgIGlmIGNvbnRyb2wuZHJhZ2dhYmxlLnJlY3Q/XG4gICAgICAgICAgICAgICAgY29udHJvbC5kcmFnZ2FibGUucmVjdCA9IFJlY3QuZnJvbUFycmF5KGNvbnRyb2wuZHJhZ2dhYmxlLnJlY3QpXG4gICAgICAgICAgICBjb250cm9sLmFkZENvbXBvbmVudChuZXcgdWkuQ29tcG9uZW50X0RyYWdnYWJsZSgpKVxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5iaW5kaW5ncz9cbiAgICAgICAgICAgIGNvbnRyb2wuYmluZGluZ3MgPSBkZXNjcmlwdG9yLmJpbmRpbmdzXG4gICAgICAgICAgICBjb250cm9sLmluc2VydENvbXBvbmVudChuZXcgdWkuQ29tcG9uZW50X0JpbmRpbmdIYW5kbGVyKCksIDApXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5mb3JtdWxhcz9cbiAgICAgICAgICAgIGNvbnRyb2wuZm9ybXVsYXMgPSBkZXNjcmlwdG9yLmZvcm11bGFzXG4gICAgICAgICAgICBjb250cm9sLmluc2VydENvbXBvbmVudChuZXcgdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyKCksIDApXG4gICAgICAgICAgICBcbiAgICAgICAgY29udHJvbC5kYXRhRmllbGQgPSBkZXNjcmlwdG9yLmRhdGFGaWVsZFxuICAgICAgICBjb250cm9sLmVuYWJsZWQgPSBkZXNjcmlwdG9yLmVuYWJsZWQgPyB5ZXNcbiAgICAgICAgaWYgZGVzY3JpcHRvci5zZWxlY3RhYmxlPyB0aGVuIGNvbnRyb2wuc2VsZWN0YWJsZSA9IGRlc2NyaXB0b3Iuc2VsZWN0YWJsZVxuICAgICAgICBpZiBkZXNjcmlwdG9yLmdyb3VwPyBcbiAgICAgICAgICAgIGNvbnRyb2wuZ3JvdXAgPSBkZXNjcmlwdG9yLmdyb3VwXG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQuYWRkVG9Hcm91cChjb250cm9sLCBjb250cm9sLmdyb3VwKVxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jdXN0b21GaWVsZHM/XG4gICAgICAgICAgICBjb250cm9sLmN1c3RvbUZpZWxkcyA9IE9iamVjdC5kZWVwQ29weShkZXNjcmlwdG9yLmN1c3RvbUZpZWxkcylcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLm1hcmdpbj9cbiAgICAgICAgICAgIGNvbnRyb2wubWFyZ2luLmxlZnQgPSBkZXNjcmlwdG9yLm1hcmdpblswXVxuICAgICAgICAgICAgY29udHJvbC5tYXJnaW4udG9wID0gZGVzY3JpcHRvci5tYXJnaW5bMV1cbiAgICAgICAgICAgIGNvbnRyb2wubWFyZ2luLnJpZ2h0ID0gZGVzY3JpcHRvci5tYXJnaW5bMl1cbiAgICAgICAgICAgIGNvbnRyb2wubWFyZ2luLmJvdHRvbSA9IGRlc2NyaXB0b3IubWFyZ2luWzNdXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5wYWRkaW5nP1xuICAgICAgICAgICAgY29udHJvbC5wYWRkaW5nLmxlZnQgPSBkZXNjcmlwdG9yLnBhZGRpbmdbMF1cbiAgICAgICAgICAgIGNvbnRyb2wucGFkZGluZy50b3AgPSBkZXNjcmlwdG9yLnBhZGRpbmdbMV1cbiAgICAgICAgICAgIGNvbnRyb2wucGFkZGluZy5yaWdodCA9IGRlc2NyaXB0b3IucGFkZGluZ1syXVxuICAgICAgICAgICAgY29udHJvbC5wYWRkaW5nLmJvdHRvbSA9IGRlc2NyaXB0b3IucGFkZGluZ1szXVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IuYWxpZ25tZW50P1xuICAgICAgICAgICAgY29udHJvbC5hbGlnbm1lbnQgPSBAYWxpZ25tZW50c1tkZXNjcmlwdG9yLmFsaWdubWVudF1cbiAgICAgICAgICAgIFxuICAgICAgICBjb250cm9sLmFsaWdubWVudFkgPSBAYWxpZ25tZW50c1tkZXNjcmlwdG9yLmFsaWdubWVudFkgfHwgMF1cbiAgICAgICAgY29udHJvbC5hbGlnbm1lbnRYID0gQGFsaWdubWVudHNbZGVzY3JpcHRvci5hbGlnbm1lbnRYIHx8IDBdXG4gICAgICAgIGNvbnRyb2wuekluZGV4ID0gZGVzY3JpcHRvci56SW5kZXggfHwgMFxuICAgICAgICBjb250cm9sLm9yZGVyID0gZGVzY3JpcHRvci5vcmRlciB8fCAwXG4gICAgICAgIGNvbnRyb2wuY2hhaW5PcmRlciA9IChkZXNjcmlwdG9yLmNoYWluT3JkZXIgPyBkZXNjcmlwdG9yLnpPcmRlcikgKyAocGFyZW50Py5jaGFpbk9yZGVyIHx8IDApXG4gICAgICAgIGlmIGRlc2NyaXB0b3Iuem9vbT9cbiAgICAgICAgICAgIGNvbnRyb2wuem9vbSA9IHg6IGRlc2NyaXB0b3Iuem9vbVswXSAvIDEwMCwgeTogZGVzY3JpcHRvci56b29tWzFdIC8gMTAwXG4gICAgICAgICNjb250cm9sLmRhdGFGaWVsZHMgPSBkYXRhRmllbGRzXG4gICAgICAgICNjb250cm9sLmNvbnRyb2xsZXJzID0gQGNvbnRyb2xsZXJzXG4gICAgICAgICNjb250cm9sLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyXG4gICAgICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLnZpc2libGU/XG4gICAgICAgICAgICBjb250cm9sLnZpc2libGUgPSBkZXNjcmlwdG9yLnZpc2libGVcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jbGlwUmVjdFxuICAgICAgICAgICAgY29udHJvbC5jbGlwUmVjdCA9IG5ldyBSZWN0KGNvbnRyb2wuZHN0UmVjdC54LCBjb250cm9sLmRzdFJlY3QueSwgY29udHJvbC5kc3RSZWN0LndpZHRoLCBjb250cm9sLmRzdFJlY3QuaGVpZ2h0KVxuXG4gICAgICAgIGlmIGRlc2NyaXB0b3Iuc3R5bGVzP1xuICAgICAgICAgICAgQGFkZENvbnRyb2xTdHlsZXMoY29udHJvbCwgZGVzY3JpcHRvci5zdHlsZXMpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIGRlc2NyaXB0b3IudGVtcGxhdGU/XG4gICAgICAgICAgICBjb250cm9sLmJlaGF2aW9yLm1hbmFnZW1lbnRNb2RlID0gdWkuTGF5b3V0TWFuYWdlbWVudE1vZGUuZnJvbVN0cmluZyhkZXNjcmlwdG9yLm1hbmFnZW1lbnRNb2RlKVxuICAgICAgICAgICAgZGF0YSA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKGNvbnRyb2wsIGNvbnRyb2wuZGF0YUZpZWxkKSAjY29udHJvbC5kYXRhRmllbGRzW2NvbnRyb2wuZGF0YUZpZWxkXVxuICAgICAgICAgICAgaXNOdW1iZXIgPSB0eXBlb2YgZGF0YSA9PSBcIm51bWJlclwiXG4gICAgICAgICAgICBpZiBkYXRhP1xuICAgICAgICAgICAgICAgIGZvciBpIGluIFswLi4uKGRhdGEubGVuZ3RoID8gZGF0YSldXG4gICAgICAgICAgICAgICAgICAgIGlmIGRhdGFbaV0/IG9yIGlzTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IHllc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVzY3JpcHRvci5kYXRhRmlsdGVyPyBhbmQgbm90IGlzTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB1aS5Db21wb25lbnRfSGFuZGxlci5jaGVja0NvbmRpdGlvbihkYXRhW2ldLCBkZXNjcmlwdG9yLmRhdGFGaWx0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiB2YWxpZCBvciBpc051bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gQGNyZWF0ZUNvbnRyb2xGcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yLnRlbXBsYXRlLCBjb250cm9sLCBpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICNjaGlsZC5kYXRhRmllbGRzID0gY29udHJvbC5kYXRhRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGF0YVtpXT8uZHN0UmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5kc3RSZWN0ID0gdWkuVUlFbGVtZW50UmVjdGFuZ2xlLmZyb21SZWN0KGNoaWxkLCBkYXRhW2ldLmRzdFJlY3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdCBjaGlsZC5jbGlwUmVjdD8pIGFuZCBjb250cm9sLmNsaXBSZWN0P1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGlwUmVjdCA9IGNvbnRyb2wuY2xpcFJlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjY2hpbGQucGFyZW50ID0gY29udHJvbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuYWRkT2JqZWN0KGNoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLmluZGV4ID0gaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLm9yZGVyID0gKGRhdGEubGVuZ3RoID8gZGF0YSkgLSBpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbC5jb250cm9scy5wdXNoKGNoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5jb250cm9scyBhbmQgZGVzY3JpcHRvci5jb250cm9scy5leGVjXG4gICAgICAgICAgICBjb250cm9scyA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKGRlc2NyaXB0b3IsIGRlc2NyaXB0b3IuY29udHJvbHMpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnRyb2xzID0gZGVzY3JpcHRvci5jb250cm9sc1xuICAgICAgICAgICAgXG4gICAgICAgIGlmIGNvbnRyb2xzP1xuICAgICAgICAgICAgZm9yIGl0ZW0sIGkgaW4gY29udHJvbHNcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRyb2wgPSBAX2NyZWF0ZUZyb21EZXNjcmlwdG9yKGl0ZW0sIGNvbnRyb2wsIGkpXG4gICAgICAgICAgICAgICAgaWYgKG5vdCBjaGlsZENvbnRyb2wuY2xpcFJlY3Q/KSBhbmQgY29udHJvbC5jbGlwUmVjdD9cbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250cm9sLmNsaXBSZWN0ID0gY29udHJvbC5jbGlwUmVjdFxuICAgICAgICAgICAgICAgIGNoaWxkQ29udHJvbC5pbmRleCA9IGlcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRyb2wub3JpZ2luLnggPSBjb250cm9sLm9yaWdpbi54ICsgY29udHJvbC5kc3RSZWN0LnhcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRyb2wub3JpZ2luLnkgPSBjb250cm9sLm9yaWdpbi55ICsgY29udHJvbC5kc3RSZWN0LnlcbiAgICAgICAgICAgICAgICAjY2hpbGRDb250cm9sLnBhcmVudCA9IGNvbnRyb2xcbiAgICAgICAgICAgICAgICBjb250cm9sLmFkZE9iamVjdChjaGlsZENvbnRyb2wpXG4gICAgICAgICAgICAgICAgY29udHJvbC5jb250cm9scy5wdXNoKGNoaWxkQ29udHJvbClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgY29udHJvbC5zdHlsZXMgYW5kIGNvbnRyb2wucGFyZW50c0J5U3R5bGVcbiAgICAgICAgICAgICNmb3Igc3R5bGUgaW4gY29udHJvbC5zdHlsZXNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFyZW50ID0gY29udHJvbC5wYXJlbnRcbiAgICAgICAgICAgIHdoaWxlIHBhcmVudFxuICAgICAgICAgICAgICAgIGlmIHBhcmVudC5zdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgZm9yIHN0eWxlIGluIHBhcmVudC5zdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICFjb250cm9sLnBhcmVudHNCeVN0eWxlW3N0eWxlLmlkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wucGFyZW50c0J5U3R5bGVbc3R5bGUuaWRdID0gW11cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2wucGFyZW50c0J5U3R5bGVbc3R5bGUuaWRdLnB1c2gocGFyZW50KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICN3aGlsZSBwYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgI2lmIHBhcmVudC5jb250cm9sc0J5U3R5bGVcbiAgICAgICAgICAgICAgICAgICAgIyAgICBpZighcGFyZW50LmNvbnRyb2xzQnlTdHlsZVtzdHlsZS5pZF0pXG4gICAgICAgICAgICAgICAgICAgICMgICAgICAgIHBhcmVudC5jb250cm9sc0J5U3R5bGVbc3R5bGUuaWRdID0gW11cbiAgICAgICAgICAgICAgICAgICAgIyAgICBwYXJlbnQuY29udHJvbHNCeVN0eWxlW3N0eWxlLmlkXS5wdXNoKGNvbnRyb2wpXG4gICAgICAgICAgICAgICAgICAjICBpZiBjb250cm9sLnBhcmVudHNCeVN0eWxlXG4gICAgICAgICAgICAgICAgICAjICAgICAgaWYgIWNvbnRyb2wucGFyZW50c0J5U3R5bGVbc3R5bGUuaWRdXG4gICAgICAgICAgICAgICAgICAjICAgICAgICAgIGNvbnRyb2wucGFyZW50c0J5U3R5bGVbc3R5bGUuaWRdID0gW11cbiAgICAgICAgICAgICAgICAgICMgICAgICBjb250cm9sLnBhcmVudHNCeVN0eWxlW3N0eWxlLmlkXS5wdXNoKHBhcmVudClcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgZGVzY3JpcHRvci5hbmltYXRpb25zP1xuICAgICAgICAgICAgY29udHJvbC5hbmltYXRpb25zID0gT2JqZWN0LmRlZXBDb3B5KGRlc2NyaXB0b3IuYW5pbWF0aW9ucylcbiAgICAgICAgICAgIGNvbnRyb2wuYWRkQ29tcG9uZW50KG5ldyB1aS5Db21wb25lbnRfQW5pbWF0aW9uSGFuZGxlcigpKVxuICAgICAgICAgXG4gICAgICAgIGNvbnRyb2wudWkudXBkYXRlU3R5bGUoKVxuICAgICAgICBjb250cm9sLnNldHVwKClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250cm9sXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYW4gVUkgb2JqZWN0IGZyb20gYSBzcGVjaWZpZWQgVUkgZGVzY3JpcHRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIF9jcmVhdGVGcm9tRGVzY3JpcHRvclxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgVUkgb2JqZWN0IGRlc2NyaXB0b3IuXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9VSUVsZW1lbnR9IHBhcmVudCAtIFRoZSBVSSBwYXJlbnQgb2JqZWN0LiAoQSBsYXlvdXQgZm9yIGV4YW1wbGUpLlxuICAgICogQHJldHVybiB7Z3MuT2JqZWN0X1VJRWxlbWVudH0gVGhlIGNyZWF0ZWQgVUkgb2JqZWN0LlxuICAgICogQHByb3RlY3RlZCBcbiAgICAjIyMgICBcbiAgICBfY3JlYXRlRnJvbURlc2NyaXB0b3I6IChkZXNjcmlwdG9yLCBwYXJlbnQsIGluZGV4KSAtPiAgICAgXG4gICAgICAgIGNvbnRyb2wgPSBAY3JlYXRlQ29udHJvbEZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IsIHBhcmVudCwgaW5kZXgpXG4gICAgICAgIFxuICAgICAgICBpZiBkZXNjcmlwdG9yLmNvbnRyb2xsZXI/XG4gICAgICAgICAgICBjb250cm9sbGVyID0gQGNvbnRyb2xsZXJzW2Rlc2NyaXB0b3IuY29udHJvbGxlcl1cbiAgICAgICAgICAgIGNvbnRyb2wuY29udHJvbGxlciA9IGNvbnRyb2xsZXJcbiAgICAgICAgICAgIGNvbnRyb2wuYWRkQ29tcG9uZW50KGNvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250cm9sXG4gICAgICAgIFxuICAgIGNyZWF0ZUxheW91dEZyb21EZXNjcmlwdG9yOiAoZGVzY3JpcHRvciwgcGFyZW50LCBpbmRleCkgLT5cbiAgICAgICAgQF9jcmVhdGVGcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yLCBwYXJlbnQsIGluZGV4KVxuICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgXG5HcmFwaGljcy53aWR0aCA9ICRQQVJBTVMucmVzb2x1dGlvbi53aWR0aFxuR3JhcGhpY3MuaGVpZ2h0ID0gJFBBUkFNUy5yZXNvbHV0aW9uLmhlaWdodFxudWkuVWlGYWN0b3J5ID0gbmV3IFVJTWFuYWdlcigpXG51aS5VSU1hbmFnZXIgPSB1aS5VaUZhY3RvcnkiXX0=
//# sourceURL=UIManager_100.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Components_47.js
var Component;

Component = (function() {

  /**
  * The base class of all components. A component defines a certain piece of
  * game logic. 
  *
  * @module gs
  * @class Component
  * @memberof gs
  * @constructor
   */
  function Component() {

    /**
    * The associated game object. A component only be part of one game object at the same time.
    * @property object
    * @type gs.Object_Base
    * @default null
     */
    this.object = null;

    /**
    * Indicates if the component is disposed. A disposed component cannot be used anymore.
    * @property disposed
    * @type boolean
    * @default false
     */
    this.disposed = false;

    /**
    * An optional unique id. The component can be accessed through this ID using the gs.Object_Base.findComponentById method.
    * @property id
    * @type string
    * @default null
     */
    this.id = null;

    /**
    * Indicates if the component is setup.
    * @property isSetup
    * @type boolean
    * @default no
     */
    this.isSetup = false;
  }


  /**
  * Called when the component is added to a new object.
  * @method setup
   */

  Component.prototype.setup = function() {
    this.isSetup = true;
    return this.update();
  };


  /**
  * Disposes the component. The component will be removed from the game object
  * automatically.
  * @method dispose
   */

  Component.prototype.dispose = function() {
    return this.disposed = true;
  };


  /**
  * Updates the component. Needs to be implemented in derived class.
  * @method update
   */

  Component.prototype.update = function() {};

  return Component;

})();

gs.Component = Component;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7OztFQVNhLG1CQUFBOztBQUNUOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENBQUEsRUFBRCxHQUFNOztBQUVOOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFXO0VBL0JGOzs7QUFpQ2I7Ozs7O3NCQUlBLEtBQUEsR0FBTyxTQUFBO0lBQ0gsSUFBQyxDQUFBLE9BQUQsR0FBVztXQUNYLElBQUMsQ0FBQSxNQUFELENBQUE7RUFGRzs7O0FBSVA7Ozs7OztzQkFLQSxPQUFBLEdBQVMsU0FBQTtXQUFHLElBQUMsQ0FBQSxRQUFELEdBQVk7RUFBZjs7O0FBRVQ7Ozs7O3NCQUlBLE1BQUEsR0FBUSxTQUFBLEdBQUE7Ozs7OztBQUVaLEVBQUUsQ0FBQyxTQUFILEdBQWUiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogVGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGNvbXBvbmVudHMuIEEgY29tcG9uZW50IGRlZmluZXMgYSBjZXJ0YWluIHBpZWNlIG9mXG4gICAgKiBnYW1lIGxvZ2ljLiBcbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGFzc29jaWF0ZWQgZ2FtZSBvYmplY3QuIEEgY29tcG9uZW50IG9ubHkgYmUgcGFydCBvZiBvbmUgZ2FtZSBvYmplY3QgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgKiBAcHJvcGVydHkgb2JqZWN0XG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0Jhc2VcbiAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICMjI1xuICAgICAgICBAb2JqZWN0ID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgY29tcG9uZW50IGlzIGRpc3Bvc2VkLiBBIGRpc3Bvc2VkIGNvbXBvbmVudCBjYW5ub3QgYmUgdXNlZCBhbnltb3JlLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkaXNwb3NlZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAjIyNcbiAgICAgICAgQGRpc3Bvc2VkID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBvcHRpb25hbCB1bmlxdWUgaWQuIFRoZSBjb21wb25lbnQgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhpcyBJRCB1c2luZyB0aGUgZ3MuT2JqZWN0X0Jhc2UuZmluZENvbXBvbmVudEJ5SWQgbWV0aG9kLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgIyMjXG4gICAgICAgIEBpZCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBzZXR1cC5cbiAgICAgICAgKiBAcHJvcGVydHkgaXNTZXR1cFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAZGVmYXVsdCBub1xuICAgICAgICAjIyNcbiAgICAgICAgQGlzU2V0dXAgPSBub1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIGEgbmV3IG9iamVjdC5cbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT4gXG4gICAgICAgIEBpc1NldHVwID0geWVzXG4gICAgICAgIEB1cGRhdGUoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgY29tcG9uZW50LiBUaGUgY29tcG9uZW50IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBnYW1lIG9iamVjdFxuICAgICogYXV0b21hdGljYWxseS5cbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+IEBkaXNwb3NlZCA9IHllc1xuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudC4gTmVlZHMgdG8gYmUgaW1wbGVtZW50ZWQgaW4gZGVyaXZlZCBjbGFzcy5cbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBcbmdzLkNvbXBvbmVudCA9IENvbXBvbmVudCJdfQ==
//# sourceURL=Component_11.js
var Component_Container,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Container = (function(superClass) {
  extend(Component_Container, superClass);


  /**
  * A container component allows an object to have sub-objects.
  * @module gs
  * @class Component_Container
  * @memberof gs
  * @constructor
   */

  function Component_Container(disposeBehavior) {
    Component_Container.__super__.constructor.apply(this, arguments);

    /**
    * The behavior how the container deals with disposed game objects.
    * @property disposeBehavior
    * @default gs.ContainerDisposeBehavior.REMOVE
     */
    this.disposeBehavior = disposeBehavior != null ? disposeBehavior : gs.ContainerDisposeBehavior.REMOVE;
  }


  /**
  * Sorts the sub-objects by order-index.
  * @method sort_
  * @param {gs.Object_Base} a Object A
  * @param {gs.Object_Base} b Object B
   */

  Component_Container.prototype.sort_ = function(a, b) {
    if (a.order > b.order) {
      return -1;
    } else if (a.order < b.order) {
      return 1;
    } else {
      return 0;
    }
  };


  /**
  * Updates all sub-objects and sorts them if necessary. It also removes
  * disposed objects from the list of sub-objects.
  * @method update
   */

  Component_Container.prototype.update = function() {
    var i, results, subObject, subObjects;
    Component_Container.__super__.update.apply(this, arguments);
    subObjects = this.object.subObjects;
    if (this.object.needsSort) {
      subObjects.sort(this.sort_);
      this.object.needsSort = false;
    }
    i = 0;
    results = [];
    while (i < subObjects.length) {
      subObject = subObjects[i];
      if (subObject != null ? subObject.active : void 0) {
        if (subObject.disposed) {
          if (this.disposeBehavior === gs.ContainerDisposeBehavior.REMOVE) {
            subObjects.remove(subObject);
            i--;
          } else {
            subObjects[i] = null;
          }
        } else {
          subObject.update();
        }
      }
      results.push(i++);
    }
    return results;
  };

  return Component_Container;

})(gs.Component);

gs.Component_Container = Component_Container;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsbUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7RUFPYSw2QkFBQyxlQUFEO0lBQ1Qsc0RBQUEsU0FBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsZUFBRCw2QkFBbUIsa0JBQWtCLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQztFQVJ4RDs7O0FBVWI7Ozs7Ozs7Z0NBTUEsS0FBQSxHQUFPLFNBQUMsQ0FBRCxFQUFJLENBQUo7SUFDSCxJQUFHLENBQUMsQ0FBQyxLQUFGLEdBQVUsQ0FBQyxDQUFDLEtBQWY7QUFDRSxhQUFPLENBQUMsRUFEVjtLQUFBLE1BRUssSUFBRyxDQUFDLENBQUMsS0FBRixHQUFVLENBQUMsQ0FBQyxLQUFmO0FBQ0gsYUFBTyxFQURKO0tBQUEsTUFBQTtBQUdILGFBQU8sRUFISjs7RUFIRjs7O0FBUVA7Ozs7OztnQ0FLQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxpREFBQSxTQUFBO0lBRUEsVUFBQSxHQUFhLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDckIsSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVg7TUFDSSxVQUFVLENBQUMsSUFBWCxDQUFnQixJQUFDLENBQUEsS0FBakI7TUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVIsR0FBb0IsTUFGeEI7O0lBSUEsQ0FBQSxHQUFJO0FBQ0o7V0FBTSxDQUFBLEdBQUksVUFBVSxDQUFDLE1BQXJCO01BQ0ksU0FBQSxHQUFZLFVBQVcsQ0FBQSxDQUFBO01BQ3ZCLHdCQUFHLFNBQVMsQ0FBRSxlQUFkO1FBQ0ksSUFBRyxTQUFTLENBQUMsUUFBYjtVQUNJLElBQUcsSUFBQyxDQUFBLGVBQUQsS0FBb0IsRUFBRSxDQUFDLHdCQUF3QixDQUFDLE1BQW5EO1lBQ0ksVUFBVSxDQUFDLE1BQVgsQ0FBa0IsU0FBbEI7WUFDQSxDQUFBLEdBRko7V0FBQSxNQUFBO1lBSUksVUFBVyxDQUFBLENBQUEsQ0FBWCxHQUFnQixLQUpwQjtXQURKO1NBQUEsTUFBQTtVQU9JLFNBQVMsQ0FBQyxNQUFWLENBQUEsRUFQSjtTQURKOzttQkFTQSxDQUFBO0lBWEosQ0FBQTs7RUFUSTs7OztHQXJDc0IsRUFBRSxDQUFDOztBQTREckMsRUFBRSxDQUFDLG1CQUFILEdBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfQ29udGFpbmVyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfQ29udGFpbmVyIGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogQSBjb250YWluZXIgY29tcG9uZW50IGFsbG93cyBhbiBvYmplY3QgdG8gaGF2ZSBzdWItb2JqZWN0cy5cbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfQ29udGFpbmVyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZGlzcG9zZUJlaGF2aW9yKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBiZWhhdmlvciBob3cgdGhlIGNvbnRhaW5lciBkZWFscyB3aXRoIGRpc3Bvc2VkIGdhbWUgb2JqZWN0cy5cbiAgICAgICAgKiBAcHJvcGVydHkgZGlzcG9zZUJlaGF2aW9yXG4gICAgICAgICogQGRlZmF1bHQgZ3MuQ29udGFpbmVyRGlzcG9zZUJlaGF2aW9yLlJFTU9WRVxuICAgICAgICAjIyNcbiAgICAgICAgQGRpc3Bvc2VCZWhhdmlvciA9IGRpc3Bvc2VCZWhhdmlvciA/IGdzLkNvbnRhaW5lckRpc3Bvc2VCZWhhdmlvci5SRU1PVkVcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU29ydHMgdGhlIHN1Yi1vYmplY3RzIGJ5IG9yZGVyLWluZGV4LlxuICAgICogQG1ldGhvZCBzb3J0X1xuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gYSBPYmplY3QgQVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gYiBPYmplY3QgQlxuICAgICMjI1xuICAgIHNvcnRfOiAoYSwgYikgLT5cbiAgICAgICAgaWYgYS5vcmRlciA+IGIub3JkZXJcbiAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgZWxzZSBpZiBhLm9yZGVyIDwgYi5vcmRlclxuICAgICAgICAgIHJldHVybiAxXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgYWxsIHN1Yi1vYmplY3RzIGFuZCBzb3J0cyB0aGVtIGlmIG5lY2Vzc2FyeS4gSXQgYWxzbyByZW1vdmVzXG4gICAgKiBkaXNwb3NlZCBvYmplY3RzIGZyb20gdGhlIGxpc3Qgb2Ygc3ViLW9iamVjdHMuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIHN1Yk9iamVjdHMgPSBAb2JqZWN0LnN1Yk9iamVjdHNcbiAgICAgICAgaWYgQG9iamVjdC5uZWVkc1NvcnRcbiAgICAgICAgICAgIHN1Yk9iamVjdHMuc29ydChAc29ydF8pXG4gICAgICAgICAgICBAb2JqZWN0Lm5lZWRzU29ydCA9IG5vXG4gICAgICAgICAgXG4gICAgICAgIGkgPSAwXG4gICAgICAgIHdoaWxlIGkgPCBzdWJPYmplY3RzLmxlbmd0aFxuICAgICAgICAgICAgc3ViT2JqZWN0ID0gc3ViT2JqZWN0c1tpXVxuICAgICAgICAgICAgaWYgc3ViT2JqZWN0Py5hY3RpdmVcbiAgICAgICAgICAgICAgICBpZiBzdWJPYmplY3QuZGlzcG9zZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgQGRpc3Bvc2VCZWhhdmlvciA9PSBncy5Db250YWluZXJEaXNwb3NlQmVoYXZpb3IuUkVNT1ZFXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJPYmplY3RzLnJlbW92ZShzdWJPYmplY3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViT2JqZWN0c1tpXSA9IG51bGxcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHN1Yk9iamVjdC51cGRhdGUoKVxuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICBcbiAgICAgICAgXG5ncy5Db21wb25lbnRfQ29udGFpbmVyID0gQ29tcG9uZW50X0NvbnRhaW5lciJdfQ==
//# sourceURL=Component_Container_21.js
var Component_Visual,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Visual = (function(superClass) {
  extend(Component_Visual, superClass);


  /**
  * The base class for all components displaying an object on screen.
  * @module gs
  * @class Component_Visual
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_Visual() {
    Component_Visual.__super__.constructor.apply(this, arguments);
  }


  /**
  * Updates the origin-point of the game object.
  * @method updateOrigin
   */

  Component_Visual.prototype.updateOrigin = function() {
    var ox, oy, p;
    ox = 0;
    oy = 0;
    if (this.object.parent != null) {
      p = this.object.parent;
      while ((p != null) && (p.dstRect != null)) {
        ox += p.dstRect.x + p.offset.x;
        oy += p.dstRect.y + p.offset.y;
        p = p.parent;
      }
    }
    ox += this.object.offset.x;
    oy += this.object.offset.y;
    this.object.origin.x = ox;
    return this.object.origin.y = oy;
  };


  /**
  * Updates the origin and the destination-rectangle from a layout-rectangle if present.
  * @method update
   */

  Component_Visual.prototype.update = function() {
    var ref;
    Component_Visual.__super__.update.apply(this, arguments);
    this.updateOrigin();
    if ((this.object.layoutRect != null) && (((ref = this.object.parent) != null ? ref.dstRect : void 0) != null)) {
      if (this.object.layoutRect.x) {
        this.object.dstRect.x = this.object.layoutRect.x(this.object.parent.dstRect.width);
      }
      if (this.object.layoutRect.y) {
        this.object.dstRect.y = this.object.layoutRect.y(this.object.parent.dstRect.height);
      }
      if (this.object.layoutRect.width) {
        this.object.dstRect.width = this.object.layoutRect.width(this.object.parent.dstRect.width);
      }
      if (this.object.layoutRect.height) {
        return this.object.dstRect.height = this.object.layoutRect.height(this.object.parent.dstRect.height);
      }
    }
  };

  return Component_Visual;

})(gs.Component);

gs.Component_Visual = Component_Visual;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O0VBUWEsMEJBQUE7SUFDVCxtREFBQSxTQUFBO0VBRFM7OztBQUdiOzs7Ozs2QkFJQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFFBQUE7SUFBQSxFQUFBLEdBQUs7SUFDTCxFQUFBLEdBQUs7SUFDTCxJQUFHLDBCQUFIO01BQ0ksQ0FBQSxHQUFJLElBQUMsQ0FBQSxNQUFNLENBQUM7QUFDWixhQUFNLFdBQUEsSUFBTyxtQkFBYjtRQUNJLEVBQUEsSUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQVYsR0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQzdCLEVBQUEsSUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQVYsR0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQzdCLENBQUEsR0FBSSxDQUFDLENBQUM7TUFIVixDQUZKOztJQU9BLEVBQUEsSUFBTSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNyQixFQUFBLElBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFHckIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQjtXQUNuQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFmLEdBQW1CO0VBZlQ7OztBQWtCZDs7Ozs7NkJBSUEsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEsOENBQUEsU0FBQTtJQUNBLElBQUMsQ0FBQSxZQUFELENBQUE7SUFFQSxJQUFHLGdDQUFBLElBQXdCLHFFQUEzQjtNQUNJLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBdEI7UUFBNkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBbkIsQ0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQTVDLEVBQWpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBdEI7UUFBNkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBbkIsQ0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQTVDLEVBQWpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBdEI7UUFBaUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBaEIsR0FBd0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBbkIsQ0FBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWhELEVBQXpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBdEI7ZUFBa0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBbkIsQ0FBMEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWpELEVBQTNEO09BSko7O0VBSkk7Ozs7R0F0Q21CLEVBQUUsQ0FBQzs7QUFrRGxDLEVBQUUsQ0FBQyxnQkFBSCxHQUFzQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1Zpc3VhbFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1Zpc3VhbCBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICMjIypcbiAgICAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgY29tcG9uZW50cyBkaXNwbGF5aW5nIGFuIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1Zpc3VhbFxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlclxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIG9yaWdpbi1wb2ludCBvZiB0aGUgZ2FtZSBvYmplY3QuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU9yaWdpblxuICAgICMjI1xuICAgIHVwZGF0ZU9yaWdpbjogLT5cbiAgICAgICAgb3ggPSAwXG4gICAgICAgIG95ID0gMFxuICAgICAgICBpZiBAb2JqZWN0LnBhcmVudD9cbiAgICAgICAgICAgIHAgPSBAb2JqZWN0LnBhcmVudFxuICAgICAgICAgICAgd2hpbGUgcD8gYW5kIHAuZHN0UmVjdD9cbiAgICAgICAgICAgICAgICBveCArPSBwLmRzdFJlY3QueCArIHAub2Zmc2V0LnhcbiAgICAgICAgICAgICAgICBveSArPSBwLmRzdFJlY3QueSArIHAub2Zmc2V0LnlcbiAgICAgICAgICAgICAgICBwID0gcC5wYXJlbnRcbiAgICAgICAgICBcbiAgICAgICAgb3ggKz0gQG9iamVjdC5vZmZzZXQueFxuICAgICAgICBveSArPSBAb2JqZWN0Lm9mZnNldC55XG5cbiAgICAgICAgXG4gICAgICAgIEBvYmplY3Qub3JpZ2luLnggPSBveFxuICAgICAgICBAb2JqZWN0Lm9yaWdpbi55ID0gb3lcbiAgICAgICAgXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvcmlnaW4gYW5kIHRoZSBkZXN0aW5hdGlvbi1yZWN0YW5nbGUgZnJvbSBhIGxheW91dC1yZWN0YW5nbGUgaWYgcHJlc2VudC5cbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAdXBkYXRlT3JpZ2luKClcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QubGF5b3V0UmVjdD8gYW5kIEBvYmplY3QucGFyZW50Py5kc3RSZWN0P1xuICAgICAgICAgICAgaWYgQG9iamVjdC5sYXlvdXRSZWN0LnggdGhlbiBAb2JqZWN0LmRzdFJlY3QueCA9IEBvYmplY3QubGF5b3V0UmVjdC54KEBvYmplY3QucGFyZW50LmRzdFJlY3Qud2lkdGgpXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmxheW91dFJlY3QueSB0aGVuIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC5sYXlvdXRSZWN0LnkoQG9iamVjdC5wYXJlbnQuZHN0UmVjdC5oZWlnaHQpXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmxheW91dFJlY3Qud2lkdGggdGhlbiBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LmxheW91dFJlY3Qud2lkdGgoQG9iamVjdC5wYXJlbnQuZHN0UmVjdC53aWR0aClcbiAgICAgICAgICAgIGlmIEBvYmplY3QubGF5b3V0UmVjdC5oZWlnaHQgdGhlbiBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQG9iamVjdC5sYXlvdXRSZWN0LmhlaWdodChAb2JqZWN0LnBhcmVudC5kc3RSZWN0LmhlaWdodClcblxuXG5cbmdzLkNvbXBvbmVudF9WaXN1YWwgPSBDb21wb25lbnRfVmlzdWFsIl19
//# sourceURL=Component_Visual_40.js
var AnimationTypes, Component_Sprite,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Sprite = (function(superClass) {
  extend(Component_Sprite, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_Sprite.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A sprite component to display an object on screen. It can be managed or
  * unmanaged. A managed sprite is automatically added to the graphics-system
  * and rendered every frame until it gets disposed. An unmanaged sprite needs
  * to be added and removed manually.
  *
  * @module gs
  * @class Component_Sprite
  * @extends gs.Component_Visual
  * @memberof gs
  * @constructor
  * @param {boolean} managed - Indicates if the sprite is managed by the graphics system.
   */

  function Component_Sprite(managed) {
    Component_Sprite.__super__.constructor.call(this);

    /**
    * The native sprite object to display the game object on screen.
    *
    * @property sprite
    * @type Sprite
    * @protected
     */
    this.sprite = null;

    /**
    * The name of the image to display.
    *
    * @property image
    * @type string
    * @protected
     */
    this.image = null;

    /**
    * The name of the video to display.
    *
    * @property video
    * @type string
    * @protected
     */
    this.video = null;

    /**
    * The name of the folder from where the image should be loaded.
    *
    * @property image
    * @type string
    * @protected
     */
    this.imageFolder = "Graphics/Pictures";

    /**
    * The visibility. If <b>false</b>, the sprite is not rendered.
    *
    * @property visible
    * @type boolean
    * @protected
     */
    this.visible = false;

    /**
    * Indicates if the image is loaded.
    *
    * @property imageLoaded
    * @type boolean
    * @protected
     */
    this.imageLoaded = false;
  }


  /**
  * Disposes the sprite. If the sprite is managed, it will be automatically
  * removed from the graphics system and viewport.
  * @method dispose
   */

  Component_Sprite.prototype.dispose = function() {
    var ref, ref1;
    Component_Sprite.__super__.dispose.apply(this, arguments);
    if (this.sprite) {
      this.sprite.dispose();
      if (this.sprite.video) {
        this.sprite.video.stop();
      }
      if (!this.sprite.managed) {
        if ((ref = this.sprite.viewport) != null) {
          ref.removeGraphicObject(this.sprite);
        }
        return (ref1 = Graphics.viewport) != null ? ref1.removeGraphicObject(this.sprite) : void 0;
      }
    }
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_Sprite.prototype.setupEventHandlers = function() {
    return this.sprite.onIndexChange = (function(_this) {
      return function() {
        _this.object.rIndex = _this.sprite.index;
        return _this.object.needsUpdate = true;
      };
    })(this);
  };


  /**
  * Setup the sprite.
  * @method setupSprite
   */

  Component_Sprite.prototype.setupSprite = function() {
    if (!this.sprite) {
      return this.sprite = new Sprite(Graphics.viewport, typeof managed !== "undefined" && managed !== null ? managed : true);
    }
  };


  /**
  * Setup the sprite component. This method is automatically called by the
  * system.
  * @method setup
   */

  Component_Sprite.prototype.setup = function() {
    this.isSetup = true;
    this.setupSprite();
    this.setupEventHandlers();
    return this.update();
  };


  /**
  * Updates the source- and destination-rectangle of the game object so that
  * the associated bitmap fits in. The imageHandling property controls how
  * the rectangles are resized.
  * @method updateRect
   */

  Component_Sprite.prototype.updateRect = function() {
    if (this.sprite.bitmap != null) {
      if (!this.object.imageHandling) {
        this.object.srcRect = new Rect(0, 0, this.sprite.bitmap.width, this.sprite.bitmap.height);
        if (!this.object.fixedSize) {
          this.object.dstRect.width = this.object.srcRect.width;
          return this.object.dstRect.height = this.object.srcRect.height;
        }
      } else if (this.object.imageHandling === 1) {
        this.object.srcRect = new Rect(0, 0, this.sprite.bitmap.width, this.sprite.bitmap.height / 2);
        if (!this.object.fixedSize) {
          this.object.dstRect.width = this.object.srcRect.width;
          return this.object.dstRect.height = this.object.srcRect.height;
        }
      } else if (this.object.imageHandling === 2) {
        if (!this.object.fixedSize) {
          this.object.dstRect.width = this.object.srcRect.width;
          return this.object.dstRect.height = this.object.srcRect.height;
        }
      }
    }
  };


  /**
  * Updates the bitmap object from the associated image name. The imageFolder
  * property controls from which resource-folder the image will be loaded.
  * @method updateBitmap
   */

  Component_Sprite.prototype.updateBitmap = function() {
    this.imageLoaded = false;
    this.image = this.object.image;
    if (this.object.image.startsWith("data:") || this.object.image.startsWith("$")) {
      this.sprite.bitmap = ResourceManager.getBitmap(this.object.image);
    } else {
      this.sprite.bitmap = ResourceManager.getBitmap((this.object.imageFolder || this.imageFolder) + "/" + this.object.image);
    }
    if (this.sprite.bitmap != null) {
      if (!this.imageLoaded) {
        this.imageLoaded = this.sprite.bitmap.loaded;
      } else {
        delete this.sprite.bitmap.loaded_;
      }
    }
    return this.object.bitmap = this.sprite.bitmap;
  };


  /**
  * Updates the video object from the associated video name. It also updates
  * the video-rendering process.
  * @method updateVideo
   */

  Component_Sprite.prototype.updateVideo = function() {
    var ref, ref1;
    if (this.object.video !== this.videoName) {
      this.videoName = this.object.video;
      this.sprite.video = ResourceManager.getVideo("Movies/" + this.object.video);
      if (this.sprite.video != null) {
        if ((ref = $PARAMS.preview) != null ? ref.settings.musicDisabled : void 0) {
          this.sprite.video.volume = 0;
        }
        this.sprite.video.loop = this.object.loop;
        this.sprite.video.play();
        this.object.srcRect = new Rect(0, 0, this.sprite.video.width, this.sprite.video.height);
        if (!this.object.fixedSize) {
          this.object.dstRect = new Rect(this.object.dstRect.x, this.object.dstRect.y, this.sprite.video.width, this.sprite.video.height);
        }
      }
    }
    return (ref1 = this.sprite.video) != null ? ref1.update() : void 0;
  };


  /**
  * Updates the image if the game object has the image-property set.
  * @method updateImage
   */

  Component_Sprite.prototype.updateImage = function() {
    var ref;
    if (this.object.image != null) {
      if (this.object.image !== this.image || (!this.imageLoaded && ((ref = this.sprite.bitmap) != null ? ref.loaded : void 0))) {
        this.updateBitmap();
        return this.updateRect();
      }
    } else if (this.object.bitmap != null) {
      return this.sprite.bitmap = this.object.bitmap;
    } else if ((this.object.video != null) || this.videoName !== this.object.video) {
      return this.updateVideo();
    } else {
      this.image = null;
      this.object.bitmap = null;
      return this.sprite.bitmap = null;
    }
  };


  /**
  * If the sprite is unmanaged, this method will update the visibility of the
  * sprite. If the sprite leaves the viewport, it will be removed to save 
  * performance and automatically added back to the viewport if it enters
  * the viewport.
  * @method updateVisibility
   */

  Component_Sprite.prototype.updateVisibility = function() {
    var visible;
    if (!this.sprite.managed) {
      visible = Rect.intersect(this.object.dstRect.x + this.object.origin.x, this.object.dstRect.y + this.object.origin.y, this.object.dstRect.width, this.object.dstRect.height, 0, 0, Graphics.width, Graphics.height);
      if (visible && !this.visible) {
        (this.object.viewport || Graphics.viewport).addGraphicObject(this.sprite);
        this.visible = true;
      }
      if (!visible && this.visible) {
        (this.object.viewport || Graphics.viewport).removeGraphicObject(this.sprite);
        return this.visible = false;
      }
    }
  };


  /**
  * Updates the padding.
  * @method updatePadding
   */

  Component_Sprite.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.sprite.x += this.object.padding.left;
      this.sprite.y += this.object.padding.top;
      this.sprite.zoomX -= (this.object.padding.left + this.object.padding.right) / this.object.srcRect.width;
      return this.sprite.zoomY -= (this.object.padding.bottom + this.object.padding.bottom) / this.object.srcRect.height;
    }
  };


  /**
  * Updates the sprite properties from the game object properties.
  * @method updateProperties
   */

  Component_Sprite.prototype.updateProperties = function() {
    var ref, ref1;
    this.sprite.x = this.object.dstRect.x;
    this.sprite.y = this.object.dstRect.y;
    this.sprite.mask = (ref = this.object.mask) != null ? ref : this.mask;
    this.sprite.angle = this.object.angle || 0;
    this.sprite.opacity = (ref1 = this.object.opacity) != null ? ref1 : 255;
    this.sprite.clipRect = this.object.clipRect;
    this.sprite.srcRect = this.object.srcRect;
    this.sprite.zoomX = this.object.dstRect.width / this.object.srcRect.width;
    this.sprite.zoomY = this.object.dstRect.height / this.object.srcRect.height;
    this.sprite.blendingMode = this.object.blendMode || 0;
    this.sprite.mirror = this.object.mirror;
    this.sprite.visible = this.object.visible;
    this.sprite.ox = -this.object.origin.x;
    this.sprite.oy = -this.object.origin.y;
    return this.sprite.z = (this.object.zIndex || 0) + (!this.object.parent ? 0 : this.object.parent.zIndex || 0);
  };


  /**
  * Updates the optional sprite properties from the game object properties.
  * @method updateOptionalProperties
   */

  Component_Sprite.prototype.updateOptionalProperties = function() {
    if (this.object.tone != null) {
      this.sprite.tone = this.object.tone;
    }
    if (this.object.color != null) {
      this.sprite.color = this.object.color;
    }
    if (this.object.viewport != null) {
      this.sprite.viewport = this.object.viewport;
    }
    if (this.object.effects != null) {
      this.sprite.wobble = this.object.effects.wobble;
    }
    if (this.object.anchor != null) {
      this.sprite.anchor.x = this.object.anchor.x;
      this.sprite.anchor.y = this.object.anchor.y;
    }
    if (this.object.zoom != null) {
      this.sprite.zoomX *= this.object.zoom.x;
      this.sprite.zoomY *= this.object.zoom.y;
    }
    if (this.object.motionBlur != null) {
      return this.sprite.motionBlur = this.object.motionBlur;
    }
  };


  /**
  * Updates the sprite component by updating its visibility, image, padding and
  * properties.
  * @method update
   */

  Component_Sprite.prototype.update = function() {
    Component_Sprite.__super__.update.apply(this, arguments);
    if (!this.isSetup) {
      this.setup();
    }
    this.updateVisibility();
    this.updateImage();
    this.updateProperties();
    this.updateOptionalProperties();
    this.updatePadding();
    this.object.rIndex = this.sprite.index;
    return this.sprite.update();
  };

  return Component_Sprite;

})(gs.Component_Visual);


/**
* Enumeration of appearance animations. 
*
* @module gs
* @class AnimationTypes
* @static
* @memberof gs
 */

AnimationTypes = (function() {
  function AnimationTypes() {}

  AnimationTypes.initialize = function() {

    /**
    * An object appears or disappears by moving into or out of the screen.
    * @property MOVEMENT
    * @type number
    * @static
    * @final
     */
    this.MOVEMENT = 0;

    /**
    * An object appears or disappears using alpha-blending.
    * @property BLENDING
    * @type number
    * @static
    * @final
     */
    this.BLENDING = 1;

    /**
    * An object appears or disappears using a mask-image.
    * @property MASKING
    * @type number
    * @static
    * @final
     */
    return this.MASKING = 2;
  };

  return AnimationTypes;

})();

AnimationTypes.initialize();

gs.AnimationTypes = AnimationTypes;

gs.Component_Sprite = Component_Sprite;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0NBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OzZCQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7Ozs7RUFhYSwwQkFBQyxPQUFEO0lBQ1QsZ0RBQUE7O0FBRUE7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7OztJQU9BLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7OztJQU9BLElBQUMsQ0FBQSxXQUFELEdBQWU7RUF2RE47OztBQXlEYjs7Ozs7OzZCQUtBLE9BQUEsR0FBUyxTQUFBO0FBQ0wsUUFBQTtJQUFBLCtDQUFBLFNBQUE7SUFFQSxJQUFHLElBQUMsQ0FBQSxNQUFKO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLENBQUE7TUFFQSxJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBWDtRQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQWQsQ0FBQSxFQURKOztNQUdBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQWY7O2FBQ29CLENBQUUsbUJBQWxCLENBQXNDLElBQUMsQ0FBQSxNQUF2Qzs7d0RBQ2lCLENBQUUsbUJBQW5CLENBQXVDLElBQUMsQ0FBQSxNQUF4QyxXQUZKO09BTko7O0VBSEs7OztBQWFUOzs7Ozs7NkJBS0Esa0JBQUEsR0FBb0IsU0FBQTtXQUNoQixJQUFDLENBQUEsTUFBTSxDQUFDLGFBQVIsR0FBd0IsQ0FBQSxTQUFBLEtBQUE7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Q0EsSUFBQyxDQUFBLGFBQUQsQ0FBQTtJQUVBLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixJQUFDLENBQUEsTUFBTSxDQUFDO1dBQ3pCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixDQUFBO0VBWEk7Ozs7R0F0U21CLEVBQUUsQ0FBQzs7O0FBb1RsQzs7Ozs7Ozs7O0FBUU07OztFQUNGLGNBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7OztJQU9BLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBQ1o7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUNaOzs7Ozs7O1dBT0EsSUFBQyxDQUFBLE9BQUQsR0FBVztFQXhCRjs7Ozs7O0FBMEJqQixjQUFjLENBQUMsVUFBZixDQUFBOztBQUNBLEVBQUUsQ0FBQyxjQUFILEdBQW9COztBQUNwQixFQUFFLENBQUMsZ0JBQUgsR0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1Nwcml0ZSBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEEgc3ByaXRlIGNvbXBvbmVudCB0byBkaXNwbGF5IGFuIG9iamVjdCBvbiBzY3JlZW4uIEl0IGNhbiBiZSBtYW5hZ2VkIG9yXG4gICAgKiB1bm1hbmFnZWQuIEEgbWFuYWdlZCBzcHJpdGUgaXMgYXV0b21hdGljYWxseSBhZGRlZCB0byB0aGUgZ3JhcGhpY3Mtc3lzdGVtXG4gICAgKiBhbmQgcmVuZGVyZWQgZXZlcnkgZnJhbWUgdW50aWwgaXQgZ2V0cyBkaXNwb3NlZC4gQW4gdW5tYW5hZ2VkIHNwcml0ZSBuZWVkc1xuICAgICogdG8gYmUgYWRkZWQgYW5kIHJlbW92ZWQgbWFudWFsbHkuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9TcHJpdGVcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1hbmFnZWQgLSBJbmRpY2F0ZXMgaWYgdGhlIHNwcml0ZSBpcyBtYW5hZ2VkIGJ5IHRoZSBncmFwaGljcyBzeXN0ZW0uXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChtYW5hZ2VkKSAtPlxuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBuYXRpdmUgc3ByaXRlIG9iamVjdCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICpcbiAgICAgICAgKiBAcHJvcGVydHkgc3ByaXRlXG4gICAgICAgICogQHR5cGUgU3ByaXRlXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHNwcml0ZSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaW1hZ2UgdG8gZGlzcGxheS5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZVxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdmlkZW8gdG8gZGlzcGxheS5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aWRlb1xuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aWRlbyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9sZGVyIGZyb20gd2hlcmUgdGhlIGltYWdlIHNob3VsZCBiZSBsb2FkZWQuXG4gICAgICAgICpcbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2VGb2xkZXIgPSBcIkdyYXBoaWNzL1BpY3R1cmVzXCJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgdmlzaWJpbGl0eS4gSWYgPGI+ZmFsc2U8L2I+LCB0aGUgc3ByaXRlIGlzIG5vdCByZW5kZXJlZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXNpYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXNpYmxlID0gbm9cblxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBpbWFnZSBpcyBsb2FkZWQuXG4gICAgICAgICpcbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VMb2FkZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlTG9hZGVkID0gbm9cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIHNwcml0ZS4gSWYgdGhlIHNwcml0ZSBpcyBtYW5hZ2VkLCBpdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAqIHJlbW92ZWQgZnJvbSB0aGUgZ3JhcGhpY3Mgc3lzdGVtIGFuZCB2aWV3cG9ydC5cbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+IFxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgaWYgQHNwcml0ZVxuICAgICAgICAgICAgQHNwcml0ZS5kaXNwb3NlKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQHNwcml0ZS52aWRlb1xuICAgICAgICAgICAgICAgIEBzcHJpdGUudmlkZW8uc3RvcCgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIG5vdCBAc3ByaXRlLm1hbmFnZWRcbiAgICAgICAgICAgICAgICBAc3ByaXRlLnZpZXdwb3J0Py5yZW1vdmVHcmFwaGljT2JqZWN0KEBzcHJpdGUpXG4gICAgICAgICAgICAgICAgR3JhcGhpY3Mudmlld3BvcnQ/LnJlbW92ZUdyYXBoaWNPYmplY3QoQHNwcml0ZSlcbiBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzIGZvciBtb3VzZS90b3VjaCBldmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIEBzcHJpdGUub25JbmRleENoYW5nZSA9ID0+XG4gICAgICAgICAgICBAb2JqZWN0LnJJbmRleCA9IEBzcHJpdGUuaW5kZXhcbiAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXR1cCB0aGUgc3ByaXRlLlxuICAgICogQG1ldGhvZCBzZXR1cFNwcml0ZVxuICAgICMjIyBcbiAgICBzZXR1cFNwcml0ZTogLT5cbiAgICAgICAgaWYgIUBzcHJpdGVcbiAgICAgICAgICAgIEBzcHJpdGUgPSBuZXcgU3ByaXRlKEdyYXBoaWNzLnZpZXdwb3J0LCBtYW5hZ2VkID8geWVzKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0dXAgdGhlIHNwcml0ZSBjb21wb25lbnQuIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZVxuICAgICogc3lzdGVtLlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICAgICBAaXNTZXR1cCA9IHllc1xuICAgICAgICBAc2V0dXBTcHJpdGUoKVxuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcbiAgICAgICAgQHVwZGF0ZSgpXG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHNvdXJjZS0gYW5kIGRlc3RpbmF0aW9uLXJlY3RhbmdsZSBvZiB0aGUgZ2FtZSBvYmplY3Qgc28gdGhhdFxuICAgICogdGhlIGFzc29jaWF0ZWQgYml0bWFwIGZpdHMgaW4uIFRoZSBpbWFnZUhhbmRsaW5nIHByb3BlcnR5IGNvbnRyb2xzIGhvd1xuICAgICogdGhlIHJlY3RhbmdsZXMgYXJlIHJlc2l6ZWQuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVJlY3RcbiAgICAjIyNcbiAgICB1cGRhdGVSZWN0OiAtPlxuICAgICAgICBpZiBAc3ByaXRlLmJpdG1hcD9cbiAgICAgICAgICAgIGlmICFAb2JqZWN0LmltYWdlSGFuZGxpbmdcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAc3ByaXRlLmJpdG1hcC53aWR0aCwgQHNwcml0ZS5iaXRtYXAuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIGlmIG5vdCBAb2JqZWN0LmZpeGVkU2l6ZVxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LnNyY1JlY3Qud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LmhlaWdodCA9IEBvYmplY3Quc3JjUmVjdC5oZWlnaHRcbiAgICAgICAgICAgIGVsc2UgaWYgQG9iamVjdC5pbWFnZUhhbmRsaW5nID09IDFcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAc3ByaXRlLmJpdG1hcC53aWR0aCwgQHNwcml0ZS5iaXRtYXAuaGVpZ2h0IC8gMilcbiAgICAgICAgICAgICAgICBpZiBub3QgQG9iamVjdC5maXhlZFNpemVcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoID0gQG9iamVjdC5zcmNSZWN0LndpZHRoXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgPSBAb2JqZWN0LnNyY1JlY3QuaGVpZ2h0XG4gICAgICAgICAgICBlbHNlIGlmIEBvYmplY3QuaW1hZ2VIYW5kbGluZyA9PSAyXG4gICAgICAgICAgICAgICAgaWYgbm90IEBvYmplY3QuZml4ZWRTaXplXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCA9IEBvYmplY3Quc3JjUmVjdC53aWR0aFxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQG9iamVjdC5zcmNSZWN0LmhlaWdodFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBiaXRtYXAgb2JqZWN0IGZyb20gdGhlIGFzc29jaWF0ZWQgaW1hZ2UgbmFtZS4gVGhlIGltYWdlRm9sZGVyXG4gICAgKiBwcm9wZXJ0eSBjb250cm9scyBmcm9tIHdoaWNoIHJlc291cmNlLWZvbGRlciB0aGUgaW1hZ2Ugd2lsbCBiZSBsb2FkZWQuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUJpdG1hcFxuICAgICMjI1xuICAgIHVwZGF0ZUJpdG1hcDogLT5cbiAgICAgICAgQGltYWdlTG9hZGVkID0gbm9cbiAgICAgICAgQGltYWdlID0gQG9iamVjdC5pbWFnZVxuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5pbWFnZS5zdGFydHNXaXRoKFwiZGF0YTpcIikgfHwgQG9iamVjdC5pbWFnZS5zdGFydHNXaXRoKFwiJFwiKVxuICAgICAgICAgICAgQHNwcml0ZS5iaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKEBvYmplY3QuaW1hZ2UpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBzcHJpdGUuYml0bWFwID0gUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIiN7QG9iamVjdC5pbWFnZUZvbGRlcnx8QGltYWdlRm9sZGVyfS8je0BvYmplY3QuaW1hZ2V9XCIpXG4gICAgICAgICAgXG4gICAgICAgIGlmIEBzcHJpdGUuYml0bWFwPyAgXG4gICAgICAgICAgICBpZiBub3QgQGltYWdlTG9hZGVkXG4gICAgICAgICAgICAgICAgQGltYWdlTG9hZGVkID0gQHNwcml0ZS5iaXRtYXAubG9hZGVkXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGVsZXRlIEBzcHJpdGUuYml0bWFwLmxvYWRlZF9cbiAgICAgICAgICAgIFxuICAgICAgICBAb2JqZWN0LmJpdG1hcCA9IEBzcHJpdGUuYml0bWFwXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHZpZGVvIG9iamVjdCBmcm9tIHRoZSBhc3NvY2lhdGVkIHZpZGVvIG5hbWUuIEl0IGFsc28gdXBkYXRlc1xuICAgICogdGhlIHZpZGVvLXJlbmRlcmluZyBwcm9jZXNzLlxuICAgICogQG1ldGhvZCB1cGRhdGVWaWRlb1xuICAgICMjI1xuICAgIHVwZGF0ZVZpZGVvOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnZpZGVvICE9IEB2aWRlb05hbWVcbiAgICAgICAgICAgIEB2aWRlb05hbWUgPSBAb2JqZWN0LnZpZGVvXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBzcHJpdGUudmlkZW8gPSBSZXNvdXJjZU1hbmFnZXIuZ2V0VmlkZW8oXCJNb3ZpZXMvI3tAb2JqZWN0LnZpZGVvfVwiKVxuICAgICAgICAgICAgaWYgQHNwcml0ZS52aWRlbz9cbiAgICAgICAgICAgICAgICBpZiAkUEFSQU1TLnByZXZpZXc/LnNldHRpbmdzLm11c2ljRGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS52aWRlby52b2x1bWUgPSAwXG4gICAgICAgICAgICAgICAgQHNwcml0ZS52aWRlby5sb29wID0gQG9iamVjdC5sb29wXG4gICAgICAgICAgICAgICAgQHNwcml0ZS52aWRlby5wbGF5KClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAc3ByaXRlLnZpZGVvLndpZHRoLCBAc3ByaXRlLnZpZGVvLmhlaWdodClcbiAgICAgICAgICAgICAgICBpZiBub3QgQG9iamVjdC5maXhlZFNpemVcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0ID0gbmV3IFJlY3QoQG9iamVjdC5kc3RSZWN0LngsIEBvYmplY3QuZHN0UmVjdC55LCBAc3ByaXRlLnZpZGVvLndpZHRoLCBAc3ByaXRlLnZpZGVvLmhlaWdodClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgQHNwcml0ZS52aWRlbz8udXBkYXRlKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaW1hZ2UgaWYgdGhlIGdhbWUgb2JqZWN0IGhhcyB0aGUgaW1hZ2UtcHJvcGVydHkgc2V0LlxuICAgICogQG1ldGhvZCB1cGRhdGVJbWFnZVxuICAgICMjI1xuICAgIHVwZGF0ZUltYWdlOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LmltYWdlP1xuICAgICAgICAgICAgaWYgQG9iamVjdC5pbWFnZSAhPSBAaW1hZ2Ugb3IgKCFAaW1hZ2VMb2FkZWQgYW5kIEBzcHJpdGUuYml0bWFwPy5sb2FkZWQpXG4gICAgICAgICAgICAgICAgQHVwZGF0ZUJpdG1hcCgpXG4gICAgICAgICAgICAgICAgQHVwZGF0ZVJlY3QoKVxuICAgICAgICBlbHNlIGlmIEBvYmplY3QuYml0bWFwPyAgICBcbiAgICAgICAgICAgIEBzcHJpdGUuYml0bWFwID0gQG9iamVjdC5iaXRtYXBcbiAgICAgICAgZWxzZSBpZiBAb2JqZWN0LnZpZGVvPyBvciBAdmlkZW9OYW1lICE9IEBvYmplY3QudmlkZW9cbiAgICAgICAgICAgIEB1cGRhdGVWaWRlbygpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBpbWFnZSA9IG51bGxcbiAgICAgICAgICAgIEBvYmplY3QuYml0bWFwID0gbnVsbFxuICAgICAgICAgICAgQHNwcml0ZS5iaXRtYXAgPSBudWxsXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJZiB0aGUgc3ByaXRlIGlzIHVubWFuYWdlZCwgdGhpcyBtZXRob2Qgd2lsbCB1cGRhdGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlXG4gICAgKiBzcHJpdGUuIElmIHRoZSBzcHJpdGUgbGVhdmVzIHRoZSB2aWV3cG9ydCwgaXQgd2lsbCBiZSByZW1vdmVkIHRvIHNhdmUgXG4gICAgKiBwZXJmb3JtYW5jZSBhbmQgYXV0b21hdGljYWxseSBhZGRlZCBiYWNrIHRvIHRoZSB2aWV3cG9ydCBpZiBpdCBlbnRlcnNcbiAgICAqIHRoZSB2aWV3cG9ydC5cbiAgICAqIEBtZXRob2QgdXBkYXRlVmlzaWJpbGl0eVxuICAgICMjI1xuICAgIHVwZGF0ZVZpc2liaWxpdHk6IC0+XG4gICAgICAgIGlmICFAc3ByaXRlLm1hbmFnZWRcbiAgICAgICAgICAgIHZpc2libGUgPSBSZWN0LmludGVyc2VjdChAb2JqZWN0LmRzdFJlY3QueCtAb2JqZWN0Lm9yaWdpbi54LCBAb2JqZWN0LmRzdFJlY3QueStAb2JqZWN0Lm9yaWdpbi55LCBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHQpXG4gICAgICAgICAgICBpZiB2aXNpYmxlIGFuZCAhQHZpc2libGVcbiAgICAgICAgICAgICAgICAoQG9iamVjdC52aWV3cG9ydCB8fCBHcmFwaGljcy52aWV3cG9ydCkuYWRkR3JhcGhpY09iamVjdChAc3ByaXRlKVxuICAgICAgICAgICAgICAgIEB2aXNpYmxlID0geWVzXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAhdmlzaWJsZSBhbmQgQHZpc2libGVcbiAgICAgICAgICAgICAgICAoQG9iamVjdC52aWV3cG9ydCB8fCBHcmFwaGljcy52aWV3cG9ydCkucmVtb3ZlR3JhcGhpY09iamVjdChAc3ByaXRlKVxuICAgICAgICAgICAgICAgIEB2aXNpYmxlID0gbm9cbiAgICAgICAgICAgICAgICBcbiAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHBhZGRpbmcuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVBhZGRpbmdcbiAgICAjIyNcbiAgICB1cGRhdGVQYWRkaW5nOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnBhZGRpbmc/XG4gICAgICAgICAgICBAc3ByaXRlLnggKz0gQG9iamVjdC5wYWRkaW5nLmxlZnRcbiAgICAgICAgICAgIEBzcHJpdGUueSArPSBAb2JqZWN0LnBhZGRpbmcudG9wXG4gICAgICAgICAgICBAc3ByaXRlLnpvb21YIC09IChAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHQpIC8gQG9iamVjdC5zcmNSZWN0LndpZHRoXG4gICAgICAgICAgICBAc3ByaXRlLnpvb21ZIC09IChAb2JqZWN0LnBhZGRpbmcuYm90dG9tK0BvYmplY3QucGFkZGluZy5ib3R0b20pIC8gQG9iamVjdC5zcmNSZWN0LmhlaWdodFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzcHJpdGUgcHJvcGVydGllcyBmcm9tIHRoZSBnYW1lIG9iamVjdCBwcm9wZXJ0aWVzLlxuICAgICogQG1ldGhvZCB1cGRhdGVQcm9wZXJ0aWVzXG4gICAgIyMjXG4gICAgdXBkYXRlUHJvcGVydGllczogLT5cbiAgICAgICAgQHNwcml0ZS54ID0gQG9iamVjdC5kc3RSZWN0LnggIysgQG9iamVjdC5kc3RSZWN0LndpZHRoICogQG9iamVjdC5hbmNob3IueFxuICAgICAgICBAc3ByaXRlLnkgPSBAb2JqZWN0LmRzdFJlY3QueSAjKyBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ICogQG9iamVjdC5hbmNob3IueVxuICAgICAgICBAc3ByaXRlLm1hc2sgPSBAb2JqZWN0Lm1hc2sgPyBAbWFza1xuICAgICAgICBAc3ByaXRlLmFuZ2xlID0gQG9iamVjdC5hbmdsZSB8fCAwXG4gICAgICAgIEBzcHJpdGUub3BhY2l0eSA9IEBvYmplY3Qub3BhY2l0eSA/IDI1NVxuICAgICAgICBAc3ByaXRlLmNsaXBSZWN0ID0gQG9iamVjdC5jbGlwUmVjdFxuICAgICAgICBAc3ByaXRlLnNyY1JlY3QgPSBAb2JqZWN0LnNyY1JlY3RcbiAgICAgICAgQHNwcml0ZS56b29tWCA9IEBvYmplY3QuZHN0UmVjdC53aWR0aCAvIEBvYmplY3Quc3JjUmVjdC53aWR0aFxuICAgICAgICBAc3ByaXRlLnpvb21ZID0gQG9iamVjdC5kc3RSZWN0LmhlaWdodCAvIEBvYmplY3Quc3JjUmVjdC5oZWlnaHRcbiAgICAgICAgQHNwcml0ZS5ibGVuZGluZ01vZGUgPSBAb2JqZWN0LmJsZW5kTW9kZSB8fCAwXG4gICAgICAgIEBzcHJpdGUubWlycm9yID0gQG9iamVjdC5taXJyb3JcbiAgICAgICAgQHNwcml0ZS52aXNpYmxlID0gQG9iamVjdC52aXNpYmxlXG4gICAgICAgIEBzcHJpdGUub3ggPSAtQG9iamVjdC5vcmlnaW4ueFxuICAgICAgICBAc3ByaXRlLm95ID0gLUBvYmplY3Qub3JpZ2luLnlcbiAgICAgICAgQHNwcml0ZS56ID0gKEBvYmplY3QuekluZGV4IHx8IDApICsgKGlmICFAb2JqZWN0LnBhcmVudCB0aGVuIDAgZWxzZSBAb2JqZWN0LnBhcmVudC56SW5kZXggfHwgMClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgb3B0aW9uYWwgc3ByaXRlIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqIEBtZXRob2QgdXBkYXRlT3B0aW9uYWxQcm9wZXJ0aWVzXG4gICAgIyMjXG4gICAgdXBkYXRlT3B0aW9uYWxQcm9wZXJ0aWVzOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnRvbmU/XG4gICAgICAgICAgICBAc3ByaXRlLnRvbmUgPSBAb2JqZWN0LnRvbmVcbiAgICAgICAgaWYgQG9iamVjdC5jb2xvcj9cbiAgICAgICAgICAgIEBzcHJpdGUuY29sb3IgPSBAb2JqZWN0LmNvbG9yXG4gICAgICAgIGlmIEBvYmplY3Qudmlld3BvcnQ/XG4gICAgICAgICAgICBAc3ByaXRlLnZpZXdwb3J0ID0gQG9iamVjdC52aWV3cG9ydFxuICAgICAgICBpZiBAb2JqZWN0LmVmZmVjdHM/XG4gICAgICAgICAgICBAc3ByaXRlLndvYmJsZSA9IEBvYmplY3QuZWZmZWN0cy53b2JibGVcbiAgICAgICAgaWYgQG9iamVjdC5hbmNob3I/XG4gICAgICAgICAgICBAc3ByaXRlLmFuY2hvci54ID0gQG9iamVjdC5hbmNob3IueFxuICAgICAgICAgICAgQHNwcml0ZS5hbmNob3IueSA9IEBvYmplY3QuYW5jaG9yLnlcbiAgICAgICAgaWYgQG9iamVjdC56b29tP1xuICAgICAgICAgICAgQHNwcml0ZS56b29tWCAqPSBAb2JqZWN0Lnpvb20ueFxuICAgICAgICAgICAgQHNwcml0ZS56b29tWSAqPSBAb2JqZWN0Lnpvb20ueVxuICAgICAgICBpZiBAb2JqZWN0Lm1vdGlvbkJsdXI/XG4gICAgICAgICAgICBAc3ByaXRlLm1vdGlvbkJsdXIgPSBAb2JqZWN0Lm1vdGlvbkJsdXJcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgc3ByaXRlIGNvbXBvbmVudCBieSB1cGRhdGluZyBpdHMgdmlzaWJpbGl0eSwgaW1hZ2UsIHBhZGRpbmcgYW5kXG4gICAgKiBwcm9wZXJ0aWVzLlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAc2V0dXAoKSBpZiBub3QgQGlzU2V0dXBcbiAgICAgICAgQHVwZGF0ZVZpc2liaWxpdHkoKVxuICAgICAgICBAdXBkYXRlSW1hZ2UoKVxuICAgICAgICBAdXBkYXRlUHJvcGVydGllcygpXG4gICAgICAgIEB1cGRhdGVPcHRpb25hbFByb3BlcnRpZXMoKVxuICAgICAgICBAdXBkYXRlUGFkZGluZygpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LnJJbmRleCA9IEBzcHJpdGUuaW5kZXhcbiAgICAgICAgQHNwcml0ZS51cGRhdGUoKVxuICAgICAgICBcblxuIyMjKlxuKiBFbnVtZXJhdGlvbiBvZiBhcHBlYXJhbmNlIGFuaW1hdGlvbnMuIFxuKlxuKiBAbW9kdWxlIGdzXG4qIEBjbGFzcyBBbmltYXRpb25UeXBlc1xuKiBAc3RhdGljXG4qIEBtZW1iZXJvZiBnc1xuIyMjXG5jbGFzcyBBbmltYXRpb25UeXBlc1xuICAgIEBpbml0aWFsaXplOiAtPiAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIG9iamVjdCBhcHBlYXJzIG9yIGRpc2FwcGVhcnMgYnkgbW92aW5nIGludG8gb3Igb3V0IG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IE1PVkVNRU5UXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQE1PVkVNRU5UID0gMFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gb2JqZWN0IGFwcGVhcnMgb3IgZGlzYXBwZWFycyB1c2luZyBhbHBoYS1ibGVuZGluZy5cbiAgICAgICAgKiBAcHJvcGVydHkgQkxFTkRJTkdcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAQkxFTkRJTkcgPSAxXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBvYmplY3QgYXBwZWFycyBvciBkaXNhcHBlYXJzIHVzaW5nIGEgbWFzay1pbWFnZS5cbiAgICAgICAgKiBAcHJvcGVydHkgTUFTS0lOR1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBNQVNLSU5HID0gMlxuXG5BbmltYXRpb25UeXBlcy5pbml0aWFsaXplKCkgICAgXG5ncy5BbmltYXRpb25UeXBlcyA9IEFuaW1hdGlvblR5cGVzXG5ncy5Db21wb25lbnRfU3ByaXRlID0gQ29tcG9uZW50X1Nwcml0ZVxuIl19
//# sourceURL=Component_Sprite_46.js
var Component_Quad,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Quad = (function(superClass) {
  extend(Component_Quad, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_Quad.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A quad component displays rectangle on the screen using the color
  * of the game object.
  *
  * @module gs
  * @class Component_Quad
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_Quad() {
    Component_Quad.__super__.constructor.apply(this, arguments);

    /**
    * The native quad-object to display a colored rectangle on screen.
    * @property quad
    * @type gs.Quad
    * @protected
     */
    this.quad = new gs.Quad(Graphics.viewport);
  }


  /**
  * Disposes the quad.
  * @method dispose
   */

  Component_Quad.prototype.dispose = function() {
    return this.quad.dispose();
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_Quad.prototype.setupEventHandlers = function() {
    return this.quad.onIndexChange = (function(_this) {
      return function() {
        return _this.object.rIndex = _this.quad.index;
      };
    })(this);
  };


  /**
  * Sets up the quad.
  * @method setup
   */

  Component_Quad.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Updates the quad and its properties.
  * @method update
   */

  Component_Quad.prototype.update = function() {
    Component_Quad.__super__.update.apply(this, arguments);
    this.object.rIndex = this.quad.index;
    this.quad.rect.set(this.object.dstRect.x, this.object.dstRect.y, this.object.dstRect.width, this.object.dstRect.height);
    this.quad.visible = this.object.visible;
    this.quad.ox = -this.object.origin.x;
    this.quad.oy = -this.object.origin.y;
    this.quad.z = (this.object.zIndex || 0) + (!this.object.parent ? 0 : this.object.parent.zIndex || 0);
    this.quad.color = this.object.color || Colors.TRANSPARENT;
    this.quad.opacity = this.object.opacity || 255;
    return this.quad.clipRect = this.object.clipRect;
  };

  return Component_Quad;

})(gs.Component_Visual);

gs.Component_Quad = Component_Quad;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsY0FBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7MkJBUUEsbUJBQUEsR0FBcUIsU0FBQyxJQUFELEVBQU8sT0FBUDtXQUNqQixJQUFDLENBQUEsa0JBQUQsQ0FBQTtFQURpQjs7O0FBR3JCOzs7Ozs7Ozs7OztFQVVhLHdCQUFBO0lBQ1QsaURBQUEsU0FBQTs7QUFFQTs7Ozs7O0lBTUEsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLEVBQUUsQ0FBQyxJQUFILENBQVEsUUFBUSxDQUFDLFFBQWpCO0VBVEg7OztBQVdiOzs7OzsyQkFJQSxPQUFBLEdBQVMsU0FBQTtXQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsT0FBTixDQUFBO0VBQUg7OztBQUVUOzs7Ozs7MkJBS0Esa0JBQUEsR0FBb0IsU0FBQTtXQUNoQixJQUFDLENBQUEsSUFBSSxDQUFDLGFBQU4sR0FBc0IsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFBO2VBQ2xCLEtBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixLQUFDLENBQUEsSUFBSSxDQUFDO01BREw7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBO0VBRE47OztBQUlwQjs7Ozs7MkJBSUEsS0FBQSxHQUFPLFNBQUE7V0FDSCxJQUFDLENBQUEsa0JBQUQsQ0FBQTtFQURHOzs7QUFHUDs7Ozs7MkJBSUEsTUFBQSxHQUFRLFNBQUE7SUFDSiw0Q0FBQSxTQUFBO0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLElBQUMsQ0FBQSxJQUFJLENBQUM7SUFDdkIsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBWCxDQUFlLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQS9CLEVBQWtDLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWxELEVBQXFELElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQXJFLEVBQTRFLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQTVGO0lBQ0EsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDeEIsSUFBQyxDQUFBLElBQUksQ0FBQyxFQUFOLEdBQVcsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUMzQixJQUFDLENBQUEsSUFBSSxDQUFDLEVBQU4sR0FBVyxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzNCLElBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBTixHQUFVLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLElBQWtCLENBQW5CLENBQUEsR0FBd0IsQ0FBSSxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBWixHQUF3QixDQUF4QixHQUErQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFmLElBQXlCLENBQXpEO0lBQ2xDLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBTixHQUFjLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixJQUFpQixNQUFNLENBQUM7SUFDdEMsSUFBQyxDQUFBLElBQUksQ0FBQyxPQUFOLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixJQUFtQjtXQUNuQyxJQUFDLENBQUEsSUFBSSxDQUFDLFFBQU4sR0FBaUIsSUFBQyxDQUFBLE1BQU0sQ0FBQztFQVhyQjs7OztHQTNEaUIsRUFBRSxDQUFDOztBQXdFaEMsRUFBRSxDQUFDLGNBQUgsR0FBb0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9RdWFkXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfUXVhZCBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEEgcXVhZCBjb21wb25lbnQgZGlzcGxheXMgcmVjdGFuZ2xlIG9uIHRoZSBzY3JlZW4gdXNpbmcgdGhlIGNvbG9yXG4gICAgKiBvZiB0aGUgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9RdWFkXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG5hdGl2ZSBxdWFkLW9iamVjdCB0byBkaXNwbGF5IGEgY29sb3JlZCByZWN0YW5nbGUgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSBxdWFkXG4gICAgICAgICogQHR5cGUgZ3MuUXVhZFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBxdWFkID0gbmV3IGdzLlF1YWQoR3JhcGhpY3Mudmlld3BvcnQpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSBxdWFkLlxuICAgICogQG1ldGhvZCBkaXNwb3NlXG4gICAgIyMjXG4gICAgZGlzcG9zZTogLT4gQHF1YWQuZGlzcG9zZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogQWRkcyBldmVudC1oYW5kbGVycyBmb3IgbW91c2UvdG91Y2ggZXZlbnRzXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBAcXVhZC5vbkluZGV4Q2hhbmdlID0gPT5cbiAgICAgICAgICAgIEBvYmplY3QuckluZGV4ID0gQHF1YWQuaW5kZXhcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgdGhlIHF1YWQuXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHF1YWQgYW5kIGl0cyBwcm9wZXJ0aWVzLlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LnJJbmRleCA9IEBxdWFkLmluZGV4XG4gICAgICAgIEBxdWFkLnJlY3Quc2V0KEBvYmplY3QuZHN0UmVjdC54LCBAb2JqZWN0LmRzdFJlY3QueSwgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICBAcXVhZC52aXNpYmxlID0gQG9iamVjdC52aXNpYmxlXG4gICAgICAgIEBxdWFkLm94ID0gLUBvYmplY3Qub3JpZ2luLnhcbiAgICAgICAgQHF1YWQub3kgPSAtQG9iamVjdC5vcmlnaW4ueVxuICAgICAgICBAcXVhZC56ID0gKEBvYmplY3QuekluZGV4IHx8IDApICsgKGlmICFAb2JqZWN0LnBhcmVudCB0aGVuIDAgZWxzZSBAb2JqZWN0LnBhcmVudC56SW5kZXggfHwgMClcbiAgICAgICAgQHF1YWQuY29sb3IgPSBAb2JqZWN0LmNvbG9yIHx8IENvbG9ycy5UUkFOU1BBUkVOVFxuICAgICAgICBAcXVhZC5vcGFjaXR5ID0gQG9iamVjdC5vcGFjaXR5IHx8IDI1NVxuICAgICAgICBAcXVhZC5jbGlwUmVjdCA9IEBvYmplY3QuY2xpcFJlY3RcblxuZ3MuQ29tcG9uZW50X1F1YWQgPSBDb21wb25lbnRfUXVhZCJdfQ==
//# sourceURL=Component_Quad_53.js
var Component_TilingSprite,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_TilingSprite = (function(superClass) {
  extend(Component_TilingSprite, superClass);


  /**
  * A tiling sprite component tiles the image of the game object on screen. The
  * tiling can be vertical, horizontal or both. The sprite can be managed or
  * unmanaged. A managed sprite is automatically added to the graphics-system
  * and processed every frame until it gets disposed. An unmanaged sprite needs
  * to be added and removed manually.
  *
  * @module gs
  * @class Component_TilingSprite
  * @extends gs.Component_Sprite
  * @memberof gs
  * @constructor
  * @param {boolean} managed - Indicates if the sprite is managed by the graphics system.
   */

  function Component_TilingSprite(managed) {
    this.sprite = null;
    this.image = null;
    this.video = null;
    this.imageFolder = "Graphics/Pictures";
    this.visible = true;
    this.looping = {
      vertical: true,
      horizontal: true
    };
    this.scroll = {
      x: 0,
      y: 0
    };
  }


  /**
  * Creates sprite object.
  *
  * @method setupSprite
   */

  Component_TilingSprite.prototype.setupSprite = function() {
    if (!this.sprite) {
      return this.sprite = new gs.TilingSprite(Graphics.viewport, typeof managed !== "undefined" && managed !== null ? managed : true);
    }
  };


  /**
  * Updates the padding.
  *
  * @method updatePadding
   */

  Component_TilingSprite.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.sprite.rect.x += this.object.padding.left;
      this.sprite.rect.y += this.object.padding.top;
      this.sprite.rect.width -= this.object.padding.left + this.object.padding.right;
      return this.sprite.rect.height -= this.object.padding.bottom + this.object.padding.bottom;
    }
  };


  /**
  * Updates the source- and destination-rectangle of the game object so that
  * the associated bitmap fits in. 
  *
  * @method updateRect
   */

  Component_TilingSprite.prototype.updateRect = function() {
    if (this.sprite.bitmap != null) {
      this.object.srcRect = new Rect(0, 0, this.sprite.bitmap.width, this.sprite.bitmap.height);
      this.object.dstRect.width = this.object.srcRect.width;
      return this.object.dstRect.height = this.object.srcRect.height;
    }
  };


  /**
  * Updates the sprite properties from the game object properties.
  *
  * @method updateProperties
   */

  Component_TilingSprite.prototype.updateProperties = function() {
    Component_TilingSprite.__super__.updateProperties.call(this);
    this.sprite.zoomX = this.object.zoom.x;
    this.sprite.zoomY = this.object.zoom.y;
    this.sprite.vertical = this.looping.vertical;
    this.sprite.horizontal = this.looping.horizontal;
    this.sprite.x = this.scroll.x;
    this.sprite.y = this.scroll.y;
    this.sprite.angle = this.object.angle;
    this.sprite.rect.x = this.object.dstRect.x - this.object.dstRect.width * (this.object.zoom.x - 1.0) * this.object.anchor.x;
    this.sprite.rect.y = this.object.dstRect.y - this.object.dstRect.height * (this.object.zoom.y - 1.0) * this.object.anchor.y;
    this.sprite.rect.width = this.object.dstRect.width;
    return this.sprite.rect.height = this.object.dstRect.height;
  };


  /**
  * Updates the optional sprite properties from the game object properties.
  * @method updateOptionalProperties
   */

  Component_TilingSprite.prototype.updateOptionalProperties = function() {
    Component_TilingSprite.__super__.updateOptionalProperties.apply(this, arguments);
    if (this.object.zoom != null) {
      this.sprite.zoomX = this.object.zoom.x;
      return this.sprite.zoomY = this.object.zoom.y;
    }
  };

  return Component_TilingSprite;

})(gs.Component_Sprite);

gs.Component_TilingSprite = Component_TilingSprite;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsc0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsZ0NBQUMsT0FBRDtJQUNULElBQUMsQ0FBQSxNQUFELEdBQVU7SUFDVixJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUztJQUNULElBQUMsQ0FBQSxXQUFELEdBQWU7SUFDZixJQUFDLENBQUEsT0FBRCxHQUFXO0lBQ1gsSUFBQyxDQUFBLE9BQUQsR0FBVztNQUFBLFFBQUEsRUFBVSxJQUFWO01BQWUsVUFBQSxFQUFZLElBQTNCOztJQUNYLElBQUMsQ0FBQSxNQUFELEdBQVU7TUFBQSxDQUFBLEVBQUcsQ0FBSDtNQUFNLENBQUEsRUFBRyxDQUFUOztFQVBEOzs7QUFVYjs7Ozs7O21DQUtBLFdBQUEsR0FBYSxTQUFBO0lBQ1QsSUFBRyxDQUFDLElBQUMsQ0FBQSxNQUFMO2FBQ0ksSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxZQUFILENBQWdCLFFBQVEsQ0FBQyxRQUF6Qix1REFBbUMsVUFBVSxJQUE3QyxFQURsQjs7RUFEUzs7O0FBSWI7Ozs7OzttQ0FLQSxhQUFBLEdBQWUsU0FBQTtJQUNYLElBQUcsMkJBQUg7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLElBQWtCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO01BQ2xDLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQWIsSUFBa0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7TUFDbEMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixJQUFzQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFoQixHQUFxQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQzthQUMzRCxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLElBQXVCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWhCLEdBQXVCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE9BSmxFOztFQURXOzs7QUFPZjs7Ozs7OzttQ0FNQSxVQUFBLEdBQVksU0FBQTtJQUNSLElBQUcsMEJBQUg7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQVIsR0FBc0IsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUExQixFQUFpQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFoRDtNQUN0QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFoQixHQUF3QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQzthQUN4QyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFoQixHQUF5QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUg3Qzs7RUFEUTs7O0FBTVo7Ozs7OzttQ0FLQSxnQkFBQSxHQUFrQixTQUFBO0lBQ2QsMkRBQUE7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDN0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQzdCLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixHQUFtQixJQUFDLENBQUEsT0FBTyxDQUFDO0lBQzVCLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBUixHQUFxQixJQUFDLENBQUEsT0FBTyxDQUFDO0lBQzlCLElBQUMsQ0FBQSxNQUFNLENBQUMsQ0FBUixHQUFZLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDcEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxDQUFSLEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUNwQixJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0IsSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUN4QixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLEdBQWlCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWhCLEdBQXdCLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBYixHQUFpQixHQUFsQixDQUF4QixHQUFpRCxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNyRyxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLEdBQWlCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWhCLEdBQXlCLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBYixHQUFpQixHQUFsQixDQUF6QixHQUFrRCxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUN0RyxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLEdBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO1dBQ3JDLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsR0FBc0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7RUFieEI7OztBQWVsQjs7Ozs7bUNBSUEsd0JBQUEsR0FBMEIsU0FBQTtJQUN0QixzRUFBQSxTQUFBO0lBRUEsSUFBRyx3QkFBSDtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQzthQUM3QixJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFGakM7O0VBSHNCOzs7O0dBbEZPLEVBQUUsQ0FBQzs7QUEwRnhDLEVBQUUsQ0FBQyxzQkFBSCxHQUE0QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1RpbGluZ1Nwcml0ZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1RpbGluZ1Nwcml0ZSBleHRlbmRzIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAjIyMqXG4gICAgKiBBIHRpbGluZyBzcHJpdGUgY29tcG9uZW50IHRpbGVzIHRoZSBpbWFnZSBvZiB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLiBUaGVcbiAgICAqIHRpbGluZyBjYW4gYmUgdmVydGljYWwsIGhvcml6b250YWwgb3IgYm90aC4gVGhlIHNwcml0ZSBjYW4gYmUgbWFuYWdlZCBvclxuICAgICogdW5tYW5hZ2VkLiBBIG1hbmFnZWQgc3ByaXRlIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGdyYXBoaWNzLXN5c3RlbVxuICAgICogYW5kIHByb2Nlc3NlZCBldmVyeSBmcmFtZSB1bnRpbCBpdCBnZXRzIGRpc3Bvc2VkLiBBbiB1bm1hbmFnZWQgc3ByaXRlIG5lZWRzXG4gICAgKiB0byBiZSBhZGRlZCBhbmQgcmVtb3ZlZCBtYW51YWxseS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1RpbGluZ1Nwcml0ZVxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X1Nwcml0ZVxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFuYWdlZCAtIEluZGljYXRlcyBpZiB0aGUgc3ByaXRlIGlzIG1hbmFnZWQgYnkgdGhlIGdyYXBoaWNzIHN5c3RlbS5cbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKG1hbmFnZWQpIC0+XG4gICAgICAgIEBzcHJpdGUgPSBudWxsXG4gICAgICAgIEBpbWFnZSA9IG51bGxcbiAgICAgICAgQHZpZGVvID0gbnVsbFxuICAgICAgICBAaW1hZ2VGb2xkZXIgPSBcIkdyYXBoaWNzL1BpY3R1cmVzXCJcbiAgICAgICAgQHZpc2libGUgPSB5ZXNcbiAgICAgICAgQGxvb3BpbmcgPSB2ZXJ0aWNhbDogeWVzLCBob3Jpem9udGFsOiB5ZXNcbiAgICAgICAgQHNjcm9sbCA9IHg6IDAsIHk6IDBcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIHNwcml0ZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFNwcml0ZVxuICAgICMjI1xuICAgIHNldHVwU3ByaXRlOiAtPlxuICAgICAgICBpZiAhQHNwcml0ZVxuICAgICAgICAgICAgQHNwcml0ZSA9IG5ldyBncy5UaWxpbmdTcHJpdGUoR3JhcGhpY3Mudmlld3BvcnQsIG1hbmFnZWQgPyB5ZXMpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHBhZGRpbmcuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVQYWRkaW5nXG4gICAgIyMjXG4gICAgdXBkYXRlUGFkZGluZzogLT5cbiAgICAgICAgaWYgQG9iamVjdC5wYWRkaW5nP1xuICAgICAgICAgICAgQHNwcml0ZS5yZWN0LnggKz0gQG9iamVjdC5wYWRkaW5nLmxlZnRcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC55ICs9IEBvYmplY3QucGFkZGluZy50b3BcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC53aWR0aCAtPSBAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHRcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC5oZWlnaHQgLT0gQG9iamVjdC5wYWRkaW5nLmJvdHRvbStAb2JqZWN0LnBhZGRpbmcuYm90dG9tXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzb3VyY2UtIGFuZCBkZXN0aW5hdGlvbi1yZWN0YW5nbGUgb2YgdGhlIGdhbWUgb2JqZWN0IHNvIHRoYXRcbiAgICAqIHRoZSBhc3NvY2lhdGVkIGJpdG1hcCBmaXRzIGluLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVJlY3RcbiAgICAjIyNcbiAgICB1cGRhdGVSZWN0OiAtPlxuICAgICAgICBpZiBAc3ByaXRlLmJpdG1hcD9cbiAgICAgICAgICAgIEBvYmplY3Quc3JjUmVjdCA9IG5ldyBSZWN0KDAsIDAsIEBzcHJpdGUuYml0bWFwLndpZHRoLCBAc3ByaXRlLmJpdG1hcC5oZWlnaHQpXG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LnNyY1JlY3Qud2lkdGhcbiAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgPSBAb2JqZWN0LnNyY1JlY3QuaGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzcHJpdGUgcHJvcGVydGllcyBmcm9tIHRoZSBnYW1lIG9iamVjdCBwcm9wZXJ0aWVzLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlUHJvcGVydGllc1xuICAgICMjI1xuICAgIHVwZGF0ZVByb3BlcnRpZXM6IC0+XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICBAc3ByaXRlLnpvb21YID0gQG9iamVjdC56b29tLnhcbiAgICAgICAgQHNwcml0ZS56b29tWSA9IEBvYmplY3Quem9vbS55XG4gICAgICAgIEBzcHJpdGUudmVydGljYWwgPSBAbG9vcGluZy52ZXJ0aWNhbFxuICAgICAgICBAc3ByaXRlLmhvcml6b250YWwgPSBAbG9vcGluZy5ob3Jpem9udGFsXG4gICAgICAgIEBzcHJpdGUueCA9IEBzY3JvbGwueFxuICAgICAgICBAc3ByaXRlLnkgPSBAc2Nyb2xsLnlcbiAgICAgICAgQHNwcml0ZS5hbmdsZSA9IEBvYmplY3QuYW5nbGVcbiAgICAgICAgQHNwcml0ZS5yZWN0LnggPSBAb2JqZWN0LmRzdFJlY3QueCAtIEBvYmplY3QuZHN0UmVjdC53aWR0aCAqIChAb2JqZWN0Lnpvb20ueCAtIDEuMCkgKiBAb2JqZWN0LmFuY2hvci54XG4gICAgICAgIEBzcHJpdGUucmVjdC55ID0gQG9iamVjdC5kc3RSZWN0LnkgLSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ICogKEBvYmplY3Quem9vbS55IC0gMS4wKSAqIEBvYmplY3QuYW5jaG9yLnlcbiAgICAgICAgQHNwcml0ZS5yZWN0LndpZHRoID0gQG9iamVjdC5kc3RSZWN0LndpZHRoXG4gICAgICAgIEBzcHJpdGUucmVjdC5oZWlnaHQgPSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIG9wdGlvbmFsIHNwcml0ZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGdhbWUgb2JqZWN0IHByb3BlcnRpZXMuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU9wdGlvbmFsUHJvcGVydGllc1xuICAgICMjI1xuICAgIHVwZGF0ZU9wdGlvbmFsUHJvcGVydGllczogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Quem9vbT9cbiAgICAgICAgICAgIEBzcHJpdGUuem9vbVggPSBAb2JqZWN0Lnpvb20ueFxuICAgICAgICAgICAgQHNwcml0ZS56b29tWSA9IEBvYmplY3Quem9vbS55XG4gICAgICAgIFxuICAgICAgICBcbmdzLkNvbXBvbmVudF9UaWxpbmdTcHJpdGUgPSBDb21wb25lbnRfVGlsaW5nU3ByaXRlXG4iXX0=
//# sourceURL=Component_TilingSprite_70.js
var Component_TilingPlane,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_TilingPlane = (function(superClass) {
  extend(Component_TilingPlane, superClass);


  /**
  * A tiling plane component tiles the image of the game object endless over the screen. The
  * tiling can be vertical, horizontal or both. The sprite can be managed or
  * unmanaged. A managed sprite is automatically added to the graphics-system
  * and processed every frame until it gets disposed. An unmanaged sprite needs
  * to be added and removed manually.
  *
  * @module gs
  * @class Component_TilingPlane
  * @extends gs.Component_Sprite
  * @memberof gs
  * @constructor
  * @param {boolean} managed - Indicates if the sprite is managed by the graphics system.
   */

  function Component_TilingPlane(managed) {
    this.sprite = null;
    this.tilingPlane = null;
    this.tilingSprite = this.sprite;
    this.image = null;
    this.video = null;
    this.imageFolder = "Graphics/Pictures";
    this.visible = true;
    this.looping = {
      vertical: false,
      horizontal: false
    };
  }


  /**
  * Creates sprite object.
  *
  * @method setupSprite
   */

  Component_TilingPlane.prototype.setupSprite = function() {
    if (!this.sprite) {
      return this.sprite = new gs.Sprite(Graphics.viewport, typeof managed !== "undefined" && managed !== null ? managed : true);
    }
  };


  /**
  * Updates the padding.
  *
  * @method updatePadding
   */

  Component_TilingPlane.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.sprite.rect.x += this.object.padding.left;
      this.sprite.rect.y += this.object.padding.top;
      this.sprite.rect.width -= this.object.padding.left + this.object.padding.right;
      return this.sprite.rect.height -= this.object.padding.bottom + this.object.padding.bottom;
    }
  };


  /**
  * Updates the source- and destination-rectangle of the game object so that
  * the associated bitmap fits in. 
  *
  * @method updateRect
   */

  Component_TilingPlane.prototype.updateRect = function() {
    if (this.sprite.bitmap != null) {
      this.object.srcRect = new Rect(0, 0, this.sprite.bitmap.width, this.sprite.bitmap.height);
      this.object.dstRect.width = this.object.srcRect.width;
      return this.object.dstRect.height = this.object.srcRect.height;
    }
  };


  /**
  * Updates the sprite properties from the game object properties.
  *
  * @method updateProperties
   */

  Component_TilingPlane.prototype.updateProperties = function() {
    Component_TilingPlane.__super__.updateProperties.call(this);
    this.sprite.vertical = this.looping.vertical;
    this.sprite.horizontal = this.looping.horizontal;
    this.sprite.x = this.object.dstRect.x;
    return this.sprite.y = this.object.dstRect.y;
  };


  /**
  * Updates the optional sprite properties from the game object properties.
  * @method updateOptionalProperties
   */

  Component_TilingPlane.prototype.updateOptionalProperties = function() {
    Component_TilingPlane.__super__.updateOptionalProperties.call(this);
    this.sprite.zoomX = this.object.zoom.x;
    return this.sprite.zoomY = this.object.zoom.y;
  };


  /**
  * Updates the tiling-plane component by updating its visibility, image, padding and
  * properties. To save performance, a gs.TilingPlane is only used if looping is enabled. Otherwise
  * a regular sprite is used.
  * @method update
   */

  Component_TilingPlane.prototype.update = function() {
    if (this.tilingSprite && (this.looping.vertical || this.looping.horizontal)) {
      this.tilingSprite.dispose();
      this.tilingPlane = new gs.TilingPlane(null, this.tilingSprite.managed);
      this.tilingSprite = null;
      this.sprite = this.tilingPlane;
      this.image = null;
    }
    if (this.tilingPlane && !(this.looping.vertical || this.looping.horizontal)) {
      this.tilingPlane.dispose();
      this.tilingSprite = new gs.Sprite(null, this.tilingPlane.managed);
      this.tilingPlane = null;
      this.sprite = this.tilingSprite;
      this.image = null;
    }
    return Component_TilingPlane.__super__.update.apply(this, arguments);
  };

  return Component_TilingPlane;

})(gs.Component_Sprite);

gs.Component_TilingPlane = Component_TilingPlane;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEscUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsK0JBQUMsT0FBRDtJQUNULElBQUMsQ0FBQSxNQUFELEdBQVU7SUFDVixJQUFDLENBQUEsV0FBRCxHQUFlO0lBQ2YsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsSUFBQyxDQUFBO0lBQ2pCLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLFdBQUQsR0FBZTtJQUNmLElBQUMsQ0FBQSxPQUFELEdBQVc7SUFDWCxJQUFDLENBQUEsT0FBRCxHQUFXO01BQUEsUUFBQSxFQUFVLEtBQVY7TUFBYyxVQUFBLEVBQVksS0FBMUI7O0VBUkY7OztBQVViOzs7Ozs7a0NBS0EsV0FBQSxHQUFhLFNBQUE7SUFDVCxJQUFHLENBQUMsSUFBQyxDQUFBLE1BQUw7YUFDSSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxRQUFRLENBQUMsUUFBbkIsdURBQTZCLFVBQVUsSUFBdkMsRUFEbEI7O0VBRFM7OztBQUliOzs7Ozs7a0NBS0EsYUFBQSxHQUFlLFNBQUE7SUFDWCxJQUFHLDJCQUFIO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBYixJQUFrQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUNsQyxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLElBQWtCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO01BQ2xDLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsSUFBc0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBaEIsR0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7YUFDM0QsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixJQUF1QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFoQixHQUF1QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUpsRTs7RUFEVzs7O0FBT2Y7Ozs7Ozs7a0NBTUEsVUFBQSxHQUFZLFNBQUE7SUFDUixJQUFHLDBCQUFIO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLEdBQXNCLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBMUIsRUFBaUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBaEQ7TUFDdEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBaEIsR0FBd0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7YUFDeEMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FIN0M7O0VBRFE7OztBQU1aOzs7Ozs7a0NBS0EsZ0JBQUEsR0FBa0IsU0FBQTtJQUNkLDBEQUFBO0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFSLEdBQW1CLElBQUMsQ0FBQSxPQUFPLENBQUM7SUFDNUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLEdBQXFCLElBQUMsQ0FBQSxPQUFPLENBQUM7SUFDOUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxDQUFSLEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7V0FDNUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxDQUFSLEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7RUFOZDs7O0FBUWxCOzs7OztrQ0FJQSx3QkFBQSxHQUEwQixTQUFBO0lBQ3RCLGtFQUFBO0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDO1dBQzdCLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQztFQUpQOzs7QUFNMUI7Ozs7Ozs7a0NBTUEsTUFBQSxHQUFRLFNBQUE7SUFDSixJQUFHLElBQUMsQ0FBQSxZQUFELElBQWtCLENBQUMsSUFBQyxDQUFBLE9BQU8sQ0FBQyxRQUFULElBQXFCLElBQUMsQ0FBQSxPQUFPLENBQUMsVUFBL0IsQ0FBckI7TUFDSSxJQUFDLENBQUEsWUFBWSxDQUFDLE9BQWQsQ0FBQTtNQUNBLElBQUMsQ0FBQSxXQUFELEdBQW1CLElBQUEsRUFBRSxDQUFDLFdBQUgsQ0FBZSxJQUFmLEVBQXFCLElBQUMsQ0FBQSxZQUFZLENBQUMsT0FBbkM7TUFDbkIsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7TUFDaEIsSUFBQyxDQUFBLE1BQUQsR0FBVSxJQUFDLENBQUE7TUFDWCxJQUFDLENBQUEsS0FBRCxHQUFTLEtBTGI7O0lBT0EsSUFBRyxJQUFDLENBQUEsV0FBRCxJQUFpQixDQUFJLENBQUMsSUFBQyxDQUFBLE9BQU8sQ0FBQyxRQUFULElBQXFCLElBQUMsQ0FBQSxPQUFPLENBQUMsVUFBL0IsQ0FBeEI7TUFDSSxJQUFDLENBQUEsV0FBVyxDQUFDLE9BQWIsQ0FBQTtNQUNBLElBQUMsQ0FBQSxZQUFELEdBQW9CLElBQUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxJQUFWLEVBQWdCLElBQUMsQ0FBQSxXQUFXLENBQUMsT0FBN0I7TUFDcEIsSUFBQyxDQUFBLFdBQUQsR0FBZTtNQUNmLElBQUMsQ0FBQSxNQUFELEdBQVUsSUFBQyxDQUFBO01BQ1gsSUFBQyxDQUFBLEtBQUQsR0FBUyxLQUxiOztXQU9BLG1EQUFBLFNBQUE7RUFmSTs7OztHQXZGd0IsRUFBRSxDQUFDOztBQXlHdkMsRUFBRSxDQUFDLHFCQUFILEdBQTJCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfVGlsaW5nUGxhbmVcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9UaWxpbmdQbGFuZSBleHRlbmRzIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAjIyMqXG4gICAgKiBBIHRpbGluZyBwbGFuZSBjb21wb25lbnQgdGlsZXMgdGhlIGltYWdlIG9mIHRoZSBnYW1lIG9iamVjdCBlbmRsZXNzIG92ZXIgdGhlIHNjcmVlbi4gVGhlXG4gICAgKiB0aWxpbmcgY2FuIGJlIHZlcnRpY2FsLCBob3Jpem9udGFsIG9yIGJvdGguIFRoZSBzcHJpdGUgY2FuIGJlIG1hbmFnZWQgb3JcbiAgICAqIHVubWFuYWdlZC4gQSBtYW5hZ2VkIHNwcml0ZSBpcyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIHRoZSBncmFwaGljcy1zeXN0ZW1cbiAgICAqIGFuZCBwcm9jZXNzZWQgZXZlcnkgZnJhbWUgdW50aWwgaXQgZ2V0cyBkaXNwb3NlZC4gQW4gdW5tYW5hZ2VkIHNwcml0ZSBuZWVkc1xuICAgICogdG8gYmUgYWRkZWQgYW5kIHJlbW92ZWQgbWFudWFsbHkuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9UaWxpbmdQbGFuZVxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X1Nwcml0ZVxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFuYWdlZCAtIEluZGljYXRlcyBpZiB0aGUgc3ByaXRlIGlzIG1hbmFnZWQgYnkgdGhlIGdyYXBoaWNzIHN5c3RlbS5cbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKG1hbmFnZWQpIC0+XG4gICAgICAgIEBzcHJpdGUgPSBudWxsXG4gICAgICAgIEB0aWxpbmdQbGFuZSA9IG51bGxcbiAgICAgICAgQHRpbGluZ1Nwcml0ZSA9IEBzcHJpdGVcbiAgICAgICAgQGltYWdlID0gbnVsbFxuICAgICAgICBAdmlkZW8gPSBudWxsXG4gICAgICAgIEBpbWFnZUZvbGRlciA9IFwiR3JhcGhpY3MvUGljdHVyZXNcIlxuICAgICAgICBAdmlzaWJsZSA9IHllc1xuICAgICAgICBAbG9vcGluZyA9IHZlcnRpY2FsOiBubywgaG9yaXpvbnRhbDogbm9cbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIHNwcml0ZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFNwcml0ZVxuICAgICMjI1xuICAgIHNldHVwU3ByaXRlOiAtPlxuICAgICAgICBpZiAhQHNwcml0ZVxuICAgICAgICAgICAgQHNwcml0ZSA9IG5ldyBncy5TcHJpdGUoR3JhcGhpY3Mudmlld3BvcnQsIG1hbmFnZWQgPyB5ZXMpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHBhZGRpbmcuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVQYWRkaW5nXG4gICAgIyMjXG4gICAgdXBkYXRlUGFkZGluZzogLT5cbiAgICAgICAgaWYgQG9iamVjdC5wYWRkaW5nP1xuICAgICAgICAgICAgQHNwcml0ZS5yZWN0LnggKz0gQG9iamVjdC5wYWRkaW5nLmxlZnRcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC55ICs9IEBvYmplY3QucGFkZGluZy50b3BcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC53aWR0aCAtPSBAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHRcbiAgICAgICAgICAgIEBzcHJpdGUucmVjdC5oZWlnaHQgLT0gQG9iamVjdC5wYWRkaW5nLmJvdHRvbStAb2JqZWN0LnBhZGRpbmcuYm90dG9tXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzb3VyY2UtIGFuZCBkZXN0aW5hdGlvbi1yZWN0YW5nbGUgb2YgdGhlIGdhbWUgb2JqZWN0IHNvIHRoYXRcbiAgICAqIHRoZSBhc3NvY2lhdGVkIGJpdG1hcCBmaXRzIGluLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVJlY3RcbiAgICAjIyNcbiAgICB1cGRhdGVSZWN0OiAtPlxuICAgICAgICBpZiBAc3ByaXRlLmJpdG1hcD9cbiAgICAgICAgICAgIEBvYmplY3Quc3JjUmVjdCA9IG5ldyBSZWN0KDAsIDAsIEBzcHJpdGUuYml0bWFwLndpZHRoLCBAc3ByaXRlLmJpdG1hcC5oZWlnaHQpXG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LnNyY1JlY3Qud2lkdGhcbiAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgPSBAb2JqZWN0LnNyY1JlY3QuaGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzcHJpdGUgcHJvcGVydGllcyBmcm9tIHRoZSBnYW1lIG9iamVjdCBwcm9wZXJ0aWVzLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlUHJvcGVydGllc1xuICAgICMjI1xuICAgIHVwZGF0ZVByb3BlcnRpZXM6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIEBzcHJpdGUudmVydGljYWwgPSBAbG9vcGluZy52ZXJ0aWNhbFxuICAgICAgICBAc3ByaXRlLmhvcml6b250YWwgPSBAbG9vcGluZy5ob3Jpem9udGFsXG4gICAgICAgIEBzcHJpdGUueCA9IEBvYmplY3QuZHN0UmVjdC54XG4gICAgICAgIEBzcHJpdGUueSA9IEBvYmplY3QuZHN0UmVjdC55XG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgb3B0aW9uYWwgc3ByaXRlIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqIEBtZXRob2QgdXBkYXRlT3B0aW9uYWxQcm9wZXJ0aWVzXG4gICAgIyMjICAgIFxuICAgIHVwZGF0ZU9wdGlvbmFsUHJvcGVydGllczogLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgQHNwcml0ZS56b29tWCA9IEBvYmplY3Quem9vbS54XG4gICAgICAgIEBzcHJpdGUuem9vbVkgPSBAb2JqZWN0Lnpvb20ueVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSB0aWxpbmctcGxhbmUgY29tcG9uZW50IGJ5IHVwZGF0aW5nIGl0cyB2aXNpYmlsaXR5LCBpbWFnZSwgcGFkZGluZyBhbmRcbiAgICAqIHByb3BlcnRpZXMuIFRvIHNhdmUgcGVyZm9ybWFuY2UsIGEgZ3MuVGlsaW5nUGxhbmUgaXMgb25seSB1c2VkIGlmIGxvb3BpbmcgaXMgZW5hYmxlZC4gT3RoZXJ3aXNlXG4gICAgKiBhIHJlZ3VsYXIgc3ByaXRlIGlzIHVzZWQuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIGlmIEB0aWxpbmdTcHJpdGUgYW5kIChAbG9vcGluZy52ZXJ0aWNhbCBvciBAbG9vcGluZy5ob3Jpem9udGFsKVxuICAgICAgICAgICAgQHRpbGluZ1Nwcml0ZS5kaXNwb3NlKClcbiAgICAgICAgICAgIEB0aWxpbmdQbGFuZSA9IG5ldyBncy5UaWxpbmdQbGFuZShudWxsLCBAdGlsaW5nU3ByaXRlLm1hbmFnZWQpXG4gICAgICAgICAgICBAdGlsaW5nU3ByaXRlID0gbnVsbFxuICAgICAgICAgICAgQHNwcml0ZSA9IEB0aWxpbmdQbGFuZVxuICAgICAgICAgICAgQGltYWdlID0gbnVsbFxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEB0aWxpbmdQbGFuZSBhbmQgbm90IChAbG9vcGluZy52ZXJ0aWNhbCBvciBAbG9vcGluZy5ob3Jpem9udGFsKVxuICAgICAgICAgICAgQHRpbGluZ1BsYW5lLmRpc3Bvc2UoKVxuICAgICAgICAgICAgQHRpbGluZ1Nwcml0ZSA9IG5ldyBncy5TcHJpdGUobnVsbCwgQHRpbGluZ1BsYW5lLm1hbmFnZWQpXG4gICAgICAgICAgICBAdGlsaW5nUGxhbmUgPSBudWxsXG4gICAgICAgICAgICBAc3ByaXRlID0gQHRpbGluZ1Nwcml0ZVxuICAgICAgICAgICAgQGltYWdlID0gbnVsbFxuICAgICAgICAgICAgXG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBcbmdzLkNvbXBvbmVudF9UaWxpbmdQbGFuZSA9IENvbXBvbmVudF9UaWxpbmdQbGFuZVxuIl19
//# sourceURL=Component_TilingPlane_77.js
var Component_Viewport,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Viewport = (function(superClass) {
  extend(Component_Viewport, superClass);


  /**
  * A viewport component can contain multiple graphic objects and will automatically 
  * clip them if they move out of the viewport-rectangle. The area of a viewport
  * can also be tinted or colored. So to tint the whole for example, it enough
  * to create a viewport taking the whole screen-space and then setting the
  * tone or color property.
  *
  * @module gs
  * @class Component_Viewport
  * @extends gs.Component_Visual
  * @memberof gs
  * @constructor
  * @param {Viewport} [viewport=null] - A native viewport object used by the component. If null, the component create a new one.
   */

  function Component_Viewport(viewport) {
    Component_Viewport.__super__.constructor.call(this);

    /**
    * The native viewport-object.
    * @property viewport
    * @type gs.Viewport
    * @protected
     */
    this.viewport = viewport;

    /**
    * The visibility. If <b>false</b> the viewport and associated graphic objects are not rendered.
    * @property viewport
    * @type gs.Viewport
    * @protected
     */
    this.visible = true;
    this.scroll = new gs.Point(0, 0);
  }


  /**
  * Sets up the viewport.
  * @method setup
   */

  Component_Viewport.prototype.setup = function() {
    if (!this.viewport) {
      this.viewport = new gs.Viewport(0, 0, Graphics.width, Graphics.height);
    }
    return this.isSetup = true;
  };


  /**
  * Disposes the viewport and all associated graphic objects.
  * @method dispose
   */

  Component_Viewport.prototype.dispose = function() {
    return this.viewport.dispose();
  };


  /**
  * Updates the origin-point of the game object.
  * @method updateOrigin
   */

  Component_Viewport.prototype.updateOrigin = function() {};


  /**
  * Updates the padding.
  * @method updatePadding
   */

  Component_Viewport.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.viewport.rect.x += this.object.padding.left;
      this.viewport.rect.y += this.object.padding.top;
      this.viewport.rect.width -= this.object.padding.left + this.object.padding.right;
      return this.viewport.rect.height -= this.object.padding.bottom + this.object.padding.bottom;
    }
  };


  /**
  * Updates the sprite properties from the game object properties.
  * @method update
   */

  Component_Viewport.prototype.updateProperties = function() {
    this.viewport.rect.x = this.object.dstRect.x;
    this.viewport.rect.y = this.object.dstRect.y;
    this.viewport.rect.width = this.object.dstRect.width;
    this.viewport.rect.height = this.object.dstRect.height;
    this.viewport.ox = this.scroll.x + this.object.offset.x;
    this.viewport.oy = this.scroll.y + this.object.offset.y;
    this.viewport.anchor.x = this.object.anchor.x;
    this.viewport.anchor.y = this.object.anchor.y;
    this.viewport.zoomX = this.object.zoom.x;
    this.viewport.zoomY = this.object.zoom.x;
    this.viewport.angle = this.object.angle;
    return this.viewport.z = (this.object.zIndex || 0) + (!this.object.parent ? 0 : this.object.parent.zIndex || 0);
  };


  /**
  * Updates the optional sprite properties from the game object properties.
  * @method updateOptionalProperties
   */

  Component_Viewport.prototype.updateOptionalProperties = function() {
    var ref, ref1;
    if (this.object.tone != null) {
      this.viewport.tone = this.object.tone;
    }
    if (this.object.color != null) {
      this.viewport.color = this.object.color;
    }
    if (this.object.effects != null) {
      this.viewport.effects.wobble = this.object.effects.wobble;
    }
    if (((ref = this.object.parent) != null ? ref.visible_ : void 0) != null) {
      return this.viewport.visible = this.object.visible;
    } else if (((ref1 = this.object.parent) != null ? ref1.visible : void 0) != null) {
      return this.viewport.visible = this.object.visible;
    } else {
      return this.viewport.visible = true;
    }
  };


  /**
  * Updates the viewport.
  * @method update
   */

  Component_Viewport.prototype.update = function() {
    Component_Viewport.__super__.update.apply(this, arguments);
    if (!this.isSetup) {
      this.setup();
    }
    this.updatePadding();
    this.updateProperties();
    return this.updateOptionalProperties();
  };

  return Component_Viewport;

})(gs.Component_Visual);

gs.Component_Viewport = Component_Viewport;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsNEJBQUMsUUFBRDtJQUNULGtEQUFBOztBQUVBOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFXO0lBRVgsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxLQUFILENBQVMsQ0FBVCxFQUFZLENBQVo7RUFuQkw7OztBQXFCYjs7Ozs7K0JBSUEsS0FBQSxHQUFPLFNBQUE7SUFDSCxJQUFHLENBQUMsSUFBQyxDQUFBLFFBQUw7TUFDSSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxRQUFILENBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsUUFBUSxDQUFDLEtBQTNCLEVBQWtDLFFBQVEsQ0FBQyxNQUEzQyxFQURwQjs7V0FFQSxJQUFDLENBQUEsT0FBRCxHQUFXO0VBSFI7OztBQUtQOzs7OzsrQkFJQSxPQUFBLEdBQVMsU0FBQTtXQUNMLElBQUMsQ0FBQSxRQUFRLENBQUMsT0FBVixDQUFBO0VBREs7OztBQUdUOzs7OzsrQkFJQSxZQUFBLEdBQWMsU0FBQSxHQUFBOzs7QUFFZDs7Ozs7K0JBSUEsYUFBQSxHQUFlLFNBQUE7SUFDWCxJQUFHLDJCQUFIO01BQ0ksSUFBQyxDQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBZixJQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUNwQyxJQUFDLENBQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFmLElBQW9CLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO01BQ3BDLElBQUMsQ0FBQSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQWYsSUFBd0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBaEIs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QUNKLGdEQUFBLFNBQUE7SUFFQSxJQUFZLENBQUksSUFBQyxDQUFBLE9BQWpCO01BQUEsSUFBQyxDQUFBLEtBQUQsQ0FBQSxFQUFBOztJQUNBLElBQUMsQ0FBQSxhQUFELENBQUE7SUFDQSxJQUFDLENBQUEsZ0JBQUQsQ0FBQTtXQUNBLElBQUMsQ0FBQSx3QkFBRCxDQUFBO0VBTkk7Ozs7R0E5R3FCLEVBQUUsQ0FBQzs7QUF5SHBDLEVBQUUsQ0FBQyxrQkFBSCxHQUF3QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1ZpZXdwb3J0XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfVmlld3BvcnQgZXh0ZW5kcyBncy5Db21wb25lbnRfVmlzdWFsXG4gICAgIyMjKlxuICAgICogQSB2aWV3cG9ydCBjb21wb25lbnQgY2FuIGNvbnRhaW4gbXVsdGlwbGUgZ3JhcGhpYyBvYmplY3RzIGFuZCB3aWxsIGF1dG9tYXRpY2FsbHkgXG4gICAgKiBjbGlwIHRoZW0gaWYgdGhleSBtb3ZlIG91dCBvZiB0aGUgdmlld3BvcnQtcmVjdGFuZ2xlLiBUaGUgYXJlYSBvZiBhIHZpZXdwb3J0XG4gICAgKiBjYW4gYWxzbyBiZSB0aW50ZWQgb3IgY29sb3JlZC4gU28gdG8gdGludCB0aGUgd2hvbGUgZm9yIGV4YW1wbGUsIGl0IGVub3VnaFxuICAgICogdG8gY3JlYXRlIGEgdmlld3BvcnQgdGFraW5nIHRoZSB3aG9sZSBzY3JlZW4tc3BhY2UgYW5kIHRoZW4gc2V0dGluZyB0aGVcbiAgICAqIHRvbmUgb3IgY29sb3IgcHJvcGVydHkuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9WaWV3cG9ydFxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X1Zpc3VhbFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IFt2aWV3cG9ydD1udWxsXSAtIEEgbmF0aXZlIHZpZXdwb3J0IG9iamVjdCB1c2VkIGJ5IHRoZSBjb21wb25lbnQuIElmIG51bGwsIHRoZSBjb21wb25lbnQgY3JlYXRlIGEgbmV3IG9uZS4gXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICh2aWV3cG9ydCkgLT5cbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmF0aXZlIHZpZXdwb3J0LW9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlld3BvcnRcbiAgICAgICAgKiBAdHlwZSBncy5WaWV3cG9ydFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aWV3cG9ydCA9IHZpZXdwb3J0XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHZpc2liaWxpdHkuIElmIDxiPmZhbHNlPC9iPiB0aGUgdmlld3BvcnQgYW5kIGFzc29jaWF0ZWQgZ3JhcGhpYyBvYmplY3RzIGFyZSBub3QgcmVuZGVyZWQuXG4gICAgICAgICogQHByb3BlcnR5IHZpZXdwb3J0XG4gICAgICAgICogQHR5cGUgZ3MuVmlld3BvcnRcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzaWJsZSA9IHllc1xuICAgICAgICBcbiAgICAgICAgQHNjcm9sbCA9IG5ldyBncy5Qb2ludCgwLCAwKVxuICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgdGhlIHZpZXdwb3J0LlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICAgICBpZiAhQHZpZXdwb3J0XG4gICAgICAgICAgICBAdmlld3BvcnQgPSBuZXcgZ3MuVmlld3BvcnQoMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodClcbiAgICAgICAgQGlzU2V0dXAgPSB5ZXNcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIHZpZXdwb3J0IGFuZCBhbGwgYXNzb2NpYXRlZCBncmFwaGljIG9iamVjdHMuXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyNcbiAgICBkaXNwb3NlOiAtPiBcbiAgICAgICAgQHZpZXdwb3J0LmRpc3Bvc2UoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvcmlnaW4tcG9pbnQgb2YgdGhlIGdhbWUgb2JqZWN0LlxuICAgICogQG1ldGhvZCB1cGRhdGVPcmlnaW5cbiAgICAjIyNcbiAgICB1cGRhdGVPcmlnaW46IC0+XG5cbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBwYWRkaW5nLlxuICAgICogQG1ldGhvZCB1cGRhdGVQYWRkaW5nXG4gICAgIyMjXG4gICAgdXBkYXRlUGFkZGluZzogLT5cbiAgICAgICAgaWYgQG9iamVjdC5wYWRkaW5nP1xuICAgICAgICAgICAgQHZpZXdwb3J0LnJlY3QueCArPSBAb2JqZWN0LnBhZGRpbmcubGVmdFxuICAgICAgICAgICAgQHZpZXdwb3J0LnJlY3QueSArPSBAb2JqZWN0LnBhZGRpbmcudG9wXG4gICAgICAgICAgICBAdmlld3BvcnQucmVjdC53aWR0aCAtPSBAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHRcbiAgICAgICAgICAgIEB2aWV3cG9ydC5yZWN0LmhlaWdodCAtPSBAb2JqZWN0LnBhZGRpbmcuYm90dG9tK0BvYmplY3QucGFkZGluZy5ib3R0b21cbiAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgc3ByaXRlIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjXG4gICAgdXBkYXRlUHJvcGVydGllczogLT5cbiAgICAgICAgQHZpZXdwb3J0LnJlY3QueCA9IEBvYmplY3QuZHN0UmVjdC54XG4gICAgICAgIEB2aWV3cG9ydC5yZWN0LnkgPSBAb2JqZWN0LmRzdFJlY3QueVxuICAgICAgICBAdmlld3BvcnQucmVjdC53aWR0aCA9IEBvYmplY3QuZHN0UmVjdC53aWR0aFxuICAgICAgICBAdmlld3BvcnQucmVjdC5oZWlnaHQgPSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBAdmlld3BvcnQub3ggPSBAc2Nyb2xsLnggKyBAb2JqZWN0Lm9mZnNldC54XG4gICAgICAgIEB2aWV3cG9ydC5veSA9IEBzY3JvbGwueSArIEBvYmplY3Qub2Zmc2V0LnlcbiAgICAgICAgQHZpZXdwb3J0LmFuY2hvci54ID0gQG9iamVjdC5hbmNob3IueFxuICAgICAgICBAdmlld3BvcnQuYW5jaG9yLnkgPSBAb2JqZWN0LmFuY2hvci55XG4gICAgICAgIEB2aWV3cG9ydC56b29tWCA9IEBvYmplY3Quem9vbS54XG4gICAgICAgIEB2aWV3cG9ydC56b29tWSA9IEBvYmplY3Quem9vbS54XG4gICAgICAgIEB2aWV3cG9ydC5hbmdsZSA9IEBvYmplY3QuYW5nbGVcbiAgICAgICAgQHZpZXdwb3J0LnogPSAoQG9iamVjdC56SW5kZXggfHwgMCkgKyAoaWYgIUBvYmplY3QucGFyZW50IHRoZW4gMCBlbHNlIEBvYmplY3QucGFyZW50LnpJbmRleCB8fCAwKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvcHRpb25hbCBzcHJpdGUgcHJvcGVydGllcyBmcm9tIHRoZSBnYW1lIG9iamVjdCBwcm9wZXJ0aWVzLlxuICAgICogQG1ldGhvZCB1cGRhdGVPcHRpb25hbFByb3BlcnRpZXNcbiAgICAjIyNcbiAgICB1cGRhdGVPcHRpb25hbFByb3BlcnRpZXM6IC0+XG4gICAgICAgIGlmIEBvYmplY3QudG9uZT9cbiAgICAgICAgICAgIEB2aWV3cG9ydC50b25lID0gQG9iamVjdC50b25lXG4gICAgICAgIGlmIEBvYmplY3QuY29sb3I/XG4gICAgICAgICAgICBAdmlld3BvcnQuY29sb3IgPSBAb2JqZWN0LmNvbG9yXG4gICAgICAgIGlmIEBvYmplY3QuZWZmZWN0cz9cbiAgICAgICAgICAgIEB2aWV3cG9ydC5lZmZlY3RzLndvYmJsZSA9IEBvYmplY3QuZWZmZWN0cy53b2JibGVcbiAgICAgICAgaWYgQG9iamVjdC5wYXJlbnQ/LnZpc2libGVfP1xuICAgICAgICAgICAgQHZpZXdwb3J0LnZpc2libGUgPSBAb2JqZWN0LnZpc2libGUgXG4gICAgICAgIGVsc2UgaWYgQG9iamVjdC5wYXJlbnQ/LnZpc2libGU/XG4gICAgICAgICAgICBAdmlld3BvcnQudmlzaWJsZSA9IEBvYmplY3QudmlzaWJsZSBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHZpZXdwb3J0LnZpc2libGUgPSB5ZXNcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHZpZXdwb3J0LlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAc2V0dXAoKSBpZiBub3QgQGlzU2V0dXBcbiAgICAgICAgQHVwZGF0ZVBhZGRpbmcoKVxuICAgICAgICBAdXBkYXRlUHJvcGVydGllcygpXG4gICAgICAgIEB1cGRhdGVPcHRpb25hbFByb3BlcnRpZXMoKVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuXG5ncy5Db21wb25lbnRfVmlld3BvcnQgPSBDb21wb25lbnRfVmlld3BvcnRcbiJdfQ==
//# sourceURL=Component_Viewport_93.js
var Component_ImageMap,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ImageMap = (function(superClass) {
  extend(Component_ImageMap, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_ImageMap.prototype.onDataBundleRestore = function(data, context) {
    var bitmap, ground, h, i, len, ref;
    this.setupEventHandlers();
    ref = this.hotspots;
    for (i = 0, len = ref.length; i < len; i++) {
      h = ref[i];
      this.object.addObject(h);
    }
    this.object.addObject(this.ground);
    bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + this.object.images[0]);
    ground = new gs.Bitmap(bitmap.width, bitmap.height);
    ground.blt(0, 0, bitmap, new Rect(0, 0, bitmap.width, bitmap.height));
    return this.ground.bitmap = ground;
  };


  /**
  * A component which turns a game object into an interactive image-map.
  *
  * @module gs
  * @class Component_ImageMap
  * @extends gs.Component_Visual
  * @memberof gs
   */

  function Component_ImageMap() {
    Component_ImageMap.__super__.constructor.apply(this, arguments);

    /**
    * The ground/base image.
    * @property ground
    * @type gs.Object_Picture
    * @default null
     */
    this.ground = null;

    /**
    * An array of different hotspots.
    * @property hotspots
    * @type gs.Object_Picture[]
    * @default null
     */
    this.hotspots = null;
  }


  /**
  * Adds event-handler for mouse/touch events to update the component only if 
  * a user-action happened.
  *
  * @method setupEventHandlers
   */

  Component_ImageMap.prototype.setupEventHandlers = function() {
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    return gs.GlobalEventManager.on("mouseUp", ((function(_this) {
      return function(e) {
        var contains, hotspot, i, len, ref, results;
        contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
        if (contains) {
          ref = _this.hotspots;
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            hotspot = ref[i];
            if (_this.checkHotspotAction(hotspot)) {
              e.breakChain = true;
              hotspot.selected = !hotspot.selected;
              results.push(_this.executeHotspotAction(hotspot));
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
    })(this)), null, this.object);
  };


  /**
  * Initializes the image-map. Creates the background and hotspots.
  *
  * @method setup
   */

  Component_ImageMap.prototype.setup = function() {
    var bitmap, ground;
    this.setupEventHandlers();
    bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + this.object.images[0]);
    ground = new gs.Bitmap(bitmap.width, bitmap.height);
    ground.blt(0, 0, bitmap, new Rect(0, 0, bitmap.width, bitmap.height));
    this.ground = new gs.Object_Picture();
    this.ground.bitmap = ground;
    this.ground.image = null;
    this.ground.zIndex = 400;
    this.ground.imageHandling = gs.ImageHandling.CUSTOM_SIZE;
    this.object.addObject(this.ground);
    this.hotspots = this.object.hotspots.select((function(_this) {
      return function(v) {
        var picture;
        _this.ground.bitmap.clearRect(v.x, v.y, v.size.width, v.size.height);
        picture = new gs.Object_Picture();
        picture.fixedSize = true;
        picture.srcRect = new Rect(v.x, v.y, v.size.width, v.size.height);
        picture.dstRect = new Rect(v.x, v.y, v.size.width, v.size.height);
        picture.imageHandling = gs.ImageHandling.CUSTOM_SIZE;
        picture.zIndex = 401;
        picture.selected = false;
        picture.enabled = true;
        picture.actions = v.data.actions;
        picture.data = v.data;
        picture.commonEventId = v.commonEventId;
        _this.object.addObject(picture);
        return picture;
      };
    })(this));
    this.ground.srcRect.set(0, 0, ground.width, ground.height);
    this.ground.dstRect.width = ground.width;
    this.ground.dstRect.height = ground.height;
    this.ground.update();
    this.object.dstRect.width = this.ground.dstRect.width;
    return this.object.dstRect.height = this.ground.dstRect.height;
  };


  /**
  * Initializes the image-map. Frees ground image.
  *
  * @method dispose
   */

  Component_ImageMap.prototype.dispose = function() {
    Component_ImageMap.__super__.dispose.apply(this, arguments);
    return this.ground.bitmap.dispose();
  };


  /**
  * Executes a hotspot's associated action. Depending on the configuration a hotspot
  * can trigger a common-event or turn on a switch for example.
  *
  * @method executeHotspotAction
  * @param {gs.Object_Picture} hotspot - The hotspot where the image should be updated.
  * @protected
   */

  Component_ImageMap.prototype.executeHotspotAction = function(hotspot) {
    var ref, ref1, ref2, ref3;
    if (hotspot.data.bindToSwitch) {
      GameManager.variableStore.setBooleanValueTo(hotspot.data["switch"], hotspot.selected);
    }
    switch (hotspot.data.action) {
      case 1:
        if ((ref = this.object.events) != null) {
          ref.emit("jumpTo", this.object, {
            label: hotspot.data.label
          });
        }
        break;
      case 2:
        if ((ref1 = this.object.events) != null) {
          ref1.emit("callCommonEvent", this.object, {
            commonEventId: hotspot.data.commonEventId,
            finish: hotspot.data.finish
          });
        }
        break;
      case 3:
        if ((ref2 = this.object.events) != null) {
          ref2.emit("action", this.object, {
            actions: hotspot.data.actions
          });
        }
    }
    if (hotspot.data.finish) {
      return (ref3 = this.object.events) != null ? ref3.emit("finish", this.object) : void 0;
    }
  };


  /**
  * Checks if a hotspot's associated action needs to be executed. Depending on the configuration a hotspot
  * can trigger a common-event or turn on a switch for example.
  *
  * @method updateHotspotAction
  * @param {gs.Object_Picture} hotspot - The hotspot where the image should be updated.
  * @return {boolean} If <b>true</b> the hotspot's action needs to be executed. Otherwise <b>false</b>.
  * @protected
   */

  Component_ImageMap.prototype.checkHotspotAction = function(hotspot) {
    var hovered, result;
    result = false;
    hovered = hotspot.dstRect.contains(Input.Mouse.x, Input.Mouse.y);
    if (hovered && Input.Mouse.buttons[Input.Mouse.LEFT] === 2) {
      result = true;
    }
    return result;
  };


  /**
  * Updates a hotspot's image. Depending on the state the image of a hotspot can
  * change for example if the mouse hovers over a hotspot.
  *
  * @method updateHotspotImage
  * @param {gs.Object_Picture} hotspot - The hotspot where the image should be updated.
  * @param {boolean} hovered - Indicates if the hotspot is hovered by mouse/touch cursor.
  * @protected
   */

  Component_ImageMap.prototype.updateHotspotImage = function(hotspot, hovered) {
    var baseImage;
    baseImage = hotspot.enabled ? this.object.images[2] || this.object.images[0] : this.object.images[0];
    if (hovered) {
      if (hotspot.selected) {
        return hotspot.image = this.object.images[4] || this.object.images[1] || baseImage;
      } else {
        return hotspot.image = this.object.images[1] || baseImage;
      }
    } else {
      if (hotspot.selected) {
        return hotspot.image = this.object.images[3] || baseImage;
      } else {
        return hotspot.image = baseImage;
      }
    }
  };


  /**
  * Updates a hotspot.
  *
  * @method updateHotspot
  * @param {gs.Object_Picture} hotspot - The hotspot to update.
  * @protected
   */

  Component_ImageMap.prototype.updateHotspot = function(hotspot) {
    var hovered;
    hotspot.visible = this.object.visible;
    hotspot.opacity = this.object.opacity;
    if (hotspot.data.bindEnabledState) {
      hotspot.enabled = GameManager.variableStore.booleanValueOf(hotspot.data.enabledSwitch);
    }
    hotspot.origin.x = this.object.dstRect.x;
    hotspot.origin.y = this.object.dstRect.y;
    hovered = hotspot.dstRect.contains(Input.Mouse.x, Input.Mouse.y);
    this.updateHotspotImage(hotspot, hovered);
    return hotspot.update();
  };


  /**
  * Updates the ground-image.
  *
  * @method updateGround
  * @protected
   */

  Component_ImageMap.prototype.updateGround = function() {
    this.ground.visible = this.object.visible;
    this.ground.opacity = this.object.opacity;
    this.ground.origin.x = this.object.dstRect.x;
    this.ground.origin.y = this.object.dstRect.y;
    return this.ground.update();
  };


  /**
  * Updates the image-map's ground and all hotspots.
  *
  * @method update
   */

  Component_ImageMap.prototype.update = function() {
    var hotspot, i, len, ref;
    Component_ImageMap.__super__.update.call(this);
    this.updateGround();
    ref = this.hotspots;
    for (i = 0, len = ref.length; i < len; i++) {
      hotspot = ref[i];
      this.updateHotspot(hotspot);
    }
    return null;
  };

  return Component_ImageMap;

})(gs.Component_Visual);

gs.Component_ImageMap = Component_ImageMap;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OytCQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7QUFDakIsUUFBQTtJQUFBLElBQUMsQ0FBQSxrQkFBRCxDQUFBO0FBRUE7QUFBQSxTQUFBLHFDQUFBOztNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBUixDQUFrQixDQUFsQjtBQURKO0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLENBQWtCLElBQUMsQ0FBQSxNQUFuQjtJQUVBLE1BQUEsR0FBUyxlQUFlLENBQUMsU0FBaEIsQ0FBMEIsb0JBQUEsR0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFPLENBQUEsQ0FBQSxDQUE5RDtJQUNULE1BQUEsR0FBYSxJQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsTUFBTSxDQUFDLEtBQWpCLEVBQXdCLE1BQU0sQ0FBQyxNQUEvQjtJQUNiLE1BQU0sQ0FBQyxHQUFQLENBQVcsQ0FBWCxFQUFjLENBQWQsRUFBaUIsTUFBakIsRUFBNkIsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxNQUFNLENBQUMsS0FBbEIsRUFBeUIsTUFBTSxDQUFDLE1BQWhDLENBQTdCO1dBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCO0VBWEE7OztBQWFyQjs7Ozs7Ozs7O0VBUWEsNEJBQUE7SUFDVCxxREFBQSxTQUFBOztBQUVBOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZO0VBakJIOzs7QUFvQmI7Ozs7Ozs7K0JBTUEsa0JBQUEsR0FBb0IsU0FBQTtJQUNoQixFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBdEIsQ0FBaUMsU0FBakMsRUFBNEMsSUFBQyxDQUFBLE1BQTdDO1dBQ0EsRUFBRSxD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QUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztXQUNuQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsQ0FBQTtFQUxVOzs7QUFPZDs7Ozs7OytCQUtBLE1BQUEsR0FBUSxTQUFBO0FBQ0osUUFBQTtJQUFBLDZDQUFBO0lBRUEsSUFBQyxDQUFBLFlBQUQsQ0FBQTtBQUVBO0FBQUEsU0FBQSxxQ0FBQTs7TUFDSSxJQUFDLENBQUEsYUFBRCxDQUFlLE9BQWY7QUFESjtBQUdBLFdBQU87RUFSSDs7OztHQW5PcUIsRUFBRSxDQUFDOztBQTZPcEMsRUFBRSxDQUFDLGtCQUFILEdBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfSW1hZ2VNYXBcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9JbWFnZU1hcCBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICAgICBmb3IgaCBpbiBAaG90c3BvdHNcbiAgICAgICAgICAgIEBvYmplY3QuYWRkT2JqZWN0KGgpXG4gICAgICAgIEBvYmplY3QuYWRkT2JqZWN0KEBncm91bmQpXG4gICAgICAgIFxuICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tAb2JqZWN0LmltYWdlc1swXX1cIilcbiAgICAgICAgZ3JvdW5kID0gbmV3IGdzLkJpdG1hcChiaXRtYXAud2lkdGgsIGJpdG1hcC5oZWlnaHQpXG4gICAgICAgIGdyb3VuZC5ibHQoMCwgMCwgYml0bWFwLCBuZXcgUmVjdCgwLCAwLCBiaXRtYXAud2lkdGgsIGJpdG1hcC5oZWlnaHQpKVxuICAgICAgICBcbiAgICAgICAgQGdyb3VuZC5iaXRtYXAgPSBncm91bmRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQSBjb21wb25lbnQgd2hpY2ggdHVybnMgYSBnYW1lIG9iamVjdCBpbnRvIGFuIGludGVyYWN0aXZlIGltYWdlLW1hcC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0ltYWdlTWFwXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZ3JvdW5kL2Jhc2UgaW1hZ2UuXG4gICAgICAgICogQHByb3BlcnR5IGdyb3VuZFxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9QaWN0dXJlXG4gICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAjIyNcbiAgICAgICAgQGdyb3VuZCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBhcnJheSBvZiBkaWZmZXJlbnQgaG90c3BvdHMuXG4gICAgICAgICogQHByb3BlcnR5IGhvdHNwb3RzXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X1BpY3R1cmVbXVxuICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgIyMjXG4gICAgICAgIEBob3RzcG90cyA9IG51bGxcbiAgICAgICBcbiAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXIgZm9yIG1vdXNlL3RvdWNoIGV2ZW50cyB0byB1cGRhdGUgdGhlIGNvbXBvbmVudCBvbmx5IGlmIFxuICAgICogYSB1c2VyLWFjdGlvbiBoYXBwZW5lZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZVVwXCIsICgoZSkgPT4gXG4gICAgICAgICAgICBjb250YWlucyA9IFJlY3QuY29udGFpbnMoQG9iamVjdC5kc3RSZWN0LngsIEBvYmplY3QuZHN0UmVjdC55LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBjb250YWluc1xuICAgICAgICAgICAgICAgIGZvciBob3RzcG90IGluIEBob3RzcG90c1xuICAgICAgICAgICAgICAgICAgICBpZiBAY2hlY2tIb3RzcG90QWN0aW9uKGhvdHNwb3QpIFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5icmVha0NoYWluID0geWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBob3RzcG90LnNlbGVjdGVkID0gIWhvdHNwb3Quc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBleGVjdXRlSG90c3BvdEFjdGlvbihob3RzcG90KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICApLCBudWxsLCBAb2JqZWN0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBpbWFnZS1tYXAuIENyZWF0ZXMgdGhlIGJhY2tncm91bmQgYW5kIGhvdHNwb3RzLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tAb2JqZWN0LmltYWdlc1swXX1cIilcbiAgICAgICAgZ3JvdW5kID0gbmV3IGdzLkJpdG1hcChiaXRtYXAud2lkdGgsIGJpdG1hcC5oZWlnaHQpXG4gICAgICAgIGdyb3VuZC5ibHQoMCwgMCwgYml0bWFwLCBuZXcgUmVjdCgwLCAwLCBiaXRtYXAud2lkdGgsIGJpdG1hcC5oZWlnaHQpKVxuICAgICAgICBcbiAgICAgICAgQGdyb3VuZCA9IG5ldyBncy5PYmplY3RfUGljdHVyZSgpXG4gICAgICAgIEBncm91bmQuYml0bWFwID0gZ3JvdW5kXG4gICAgICAgIEBncm91bmQuaW1hZ2UgPSBudWxsXG4gICAgICAgIEBncm91bmQuekluZGV4ID0gNDAwXG4gICAgICAgIEBncm91bmQuaW1hZ2VIYW5kbGluZyA9IGdzLkltYWdlSGFuZGxpbmcuQ1VTVE9NX1NJWkVcbiAgICAgICAgQG9iamVjdC5hZGRPYmplY3QoQGdyb3VuZClcbiAgICAgICAgXG4gICAgICAgIEBob3RzcG90cyA9IEBvYmplY3QuaG90c3BvdHMuc2VsZWN0ICh2KSA9PiBcbiAgICAgICAgICAgIEBncm91bmQuYml0bWFwLmNsZWFyUmVjdCh2LngsIHYueSwgdi5zaXplLndpZHRoLCB2LnNpemUuaGVpZ2h0KVxuICAgICAgICAgICAgcGljdHVyZSA9IG5ldyBncy5PYmplY3RfUGljdHVyZSgpXG4gICAgICAgICAgICBwaWN0dXJlLmZpeGVkU2l6ZSA9IHRydWVcbiAgICAgICAgICAgIHBpY3R1cmUuc3JjUmVjdCA9IG5ldyBSZWN0KHYueCwgdi55LCB2LnNpemUud2lkdGgsIHYuc2l6ZS5oZWlnaHQpXG4gICAgICAgICAgICBwaWN0dXJlLmRzdFJlY3QgPSBuZXcgUmVjdCh2LngsIHYueSwgdi5zaXplLndpZHRoLCB2LnNpemUuaGVpZ2h0KVxuICAgICAgICAgICAgcGljdHVyZS5pbWFnZUhhbmRsaW5nID0gZ3MuSW1hZ2VIYW5kbGluZy5DVVNUT01fU0laRVxuICAgICAgICAgICAgcGljdHVyZS56SW5kZXggPSA0MDFcbiAgICAgICAgICAgIHBpY3R1cmUuc2VsZWN0ZWQgPSBub1xuICAgICAgICAgICAgcGljdHVyZS5lbmFibGVkID0geWVzXG4gICAgICAgICAgICBwaWN0dXJlLmFjdGlvbnMgPSB2LmRhdGEuYWN0aW9uc1xuICAgICAgICAgICAgcGljdHVyZS5kYXRhID0gdi5kYXRhXG4gICAgICAgICAgICBwaWN0dXJlLmNvbW1vbkV2ZW50SWQgPSB2LmNvbW1vbkV2ZW50SWRcbiAgICAgICAgICAgIEBvYmplY3QuYWRkT2JqZWN0KHBpY3R1cmUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBwaWN0dXJlXG4gICAgICAgIFxuICAgICAgICBAZ3JvdW5kLnNyY1JlY3Quc2V0KDAsIDAsIGdyb3VuZC53aWR0aCwgZ3JvdW5kLmhlaWdodClcbiAgICAgICAgQGdyb3VuZC5kc3RSZWN0LndpZHRoID0gZ3JvdW5kLndpZHRoXG4gICAgICAgIEBncm91bmQuZHN0UmVjdC5oZWlnaHQgPSBncm91bmQuaGVpZ2h0XG4gICAgICAgIEBncm91bmQudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCA9IEBncm91bmQuZHN0UmVjdC53aWR0aFxuICAgICAgICBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQGdyb3VuZC5kc3RSZWN0LmhlaWdodFxuICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBpbWFnZS1tYXAuIEZyZWVzIGdyb3VuZCBpbWFnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyNcbiAgICBkaXNwb3NlOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgQGdyb3VuZC5iaXRtYXAuZGlzcG9zZSgpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgaG90c3BvdCdzIGFzc29jaWF0ZWQgYWN0aW9uLiBEZXBlbmRpbmcgb24gdGhlIGNvbmZpZ3VyYXRpb24gYSBob3RzcG90XG4gICAgKiBjYW4gdHJpZ2dlciBhIGNvbW1vbi1ldmVudCBvciB0dXJuIG9uIGEgc3dpdGNoIGZvciBleGFtcGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgZXhlY3V0ZUhvdHNwb3RBY3Rpb25cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X1BpY3R1cmV9IGhvdHNwb3QgLSBUaGUgaG90c3BvdCB3aGVyZSB0aGUgaW1hZ2Ugc2hvdWxkIGJlIHVwZGF0ZWQuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgZXhlY3V0ZUhvdHNwb3RBY3Rpb246IChob3RzcG90KSAtPlxuICAgICAgICBpZiBob3RzcG90LmRhdGEuYmluZFRvU3dpdGNoXG4gICAgICAgICAgICBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldEJvb2xlYW5WYWx1ZVRvKGhvdHNwb3QuZGF0YS5zd2l0Y2gsIGhvdHNwb3Quc2VsZWN0ZWQpXG4gXG4gICAgICAgIHN3aXRjaCBob3RzcG90LmRhdGEuYWN0aW9uXG4gICAgICAgICAgICB3aGVuIDEgIyBKdW1wIFRvXG4gICAgICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJqdW1wVG9cIiwgQG9iamVjdCwgeyBsYWJlbDogaG90c3BvdC5kYXRhLmxhYmVsIH0pXG4gICAgICAgICAgICB3aGVuIDIgIyBDYWxsIENvbW1vbiBFdmVudFxuICAgICAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwiY2FsbENvbW1vbkV2ZW50XCIsIEBvYmplY3QsIHsgY29tbW9uRXZlbnRJZDogaG90c3BvdC5kYXRhLmNvbW1vbkV2ZW50SWQsIGZpbmlzaDogaG90c3BvdC5kYXRhLmZpbmlzaCB9KVxuICAgICAgICAgICAgd2hlbiAzICMgVUkgQWN0aW9uXG4gICAgICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJhY3Rpb25cIiwgQG9iamVjdCwgeyBhY3Rpb25zOiBob3RzcG90LmRhdGEuYWN0aW9ucyB9KVxuICAgICAgICBcbiAgICAgICAgaWYgaG90c3BvdC5kYXRhLmZpbmlzaFxuICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJmaW5pc2hcIiwgQG9iamVjdClcbiAgICAgICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIENoZWNrcyBpZiBhIGhvdHNwb3QncyBhc3NvY2lhdGVkIGFjdGlvbiBuZWVkcyB0byBiZSBleGVjdXRlZC4gRGVwZW5kaW5nIG9uIHRoZSBjb25maWd1cmF0aW9uIGEgaG90c3BvdFxuICAgICogY2FuIHRyaWdnZXIgYSBjb21tb24tZXZlbnQgb3IgdHVybiBvbiBhIHN3aXRjaCBmb3IgZXhhbXBsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUhvdHNwb3RBY3Rpb25cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X1BpY3R1cmV9IGhvdHNwb3QgLSBUaGUgaG90c3BvdCB3aGVyZSB0aGUgaW1hZ2Ugc2hvdWxkIGJlIHVwZGF0ZWQuXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiA8Yj50cnVlPC9iPiB0aGUgaG90c3BvdCdzIGFjdGlvbiBuZWVkcyB0byBiZSBleGVjdXRlZC4gT3RoZXJ3aXNlIDxiPmZhbHNlPC9iPi5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjaGVja0hvdHNwb3RBY3Rpb246IChob3RzcG90KSAtPlxuICAgICAgICByZXN1bHQgPSBub1xuICAgICAgICBob3ZlcmVkID0gaG90c3BvdC5kc3RSZWN0LmNvbnRhaW5zKElucHV0Lk1vdXNlLngsIElucHV0Lk1vdXNlLnkpXG4gICAgICAgIFxuICAgICAgICBpZiBob3ZlcmVkIGFuZCBJbnB1dC5Nb3VzZS5idXR0b25zW0lucHV0Lk1vdXNlLkxFRlRdID09IDJcbiAgICAgICAgICAgIHJlc3VsdCA9IHllc1xuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgYSBob3RzcG90J3MgaW1hZ2UuIERlcGVuZGluZyBvbiB0aGUgc3RhdGUgdGhlIGltYWdlIG9mIGEgaG90c3BvdCBjYW5cbiAgICAqIGNoYW5nZSBmb3IgZXhhbXBsZSBpZiB0aGUgbW91c2UgaG92ZXJzIG92ZXIgYSBob3RzcG90LlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlSG90c3BvdEltYWdlXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9QaWN0dXJlfSBob3RzcG90IC0gVGhlIGhvdHNwb3Qgd2hlcmUgdGhlIGltYWdlIHNob3VsZCBiZSB1cGRhdGVkLlxuICAgICogQHBhcmFtIHtib29sZWFufSBob3ZlcmVkIC0gSW5kaWNhdGVzIGlmIHRoZSBob3RzcG90IGlzIGhvdmVyZWQgYnkgbW91c2UvdG91Y2ggY3Vyc29yLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIHVwZGF0ZUhvdHNwb3RJbWFnZTogKGhvdHNwb3QsIGhvdmVyZWQpIC0+XG4gICAgICAgIGJhc2VJbWFnZSA9IGlmIGhvdHNwb3QuZW5hYmxlZCB0aGVuIEBvYmplY3QuaW1hZ2VzWzJdIHx8IEBvYmplY3QuaW1hZ2VzWzBdIGVsc2UgQG9iamVjdC5pbWFnZXNbMF0gXG4gICAgICAgIGlmIGhvdmVyZWRcbiAgICAgICAgICAgIGlmIGhvdHNwb3Quc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBob3RzcG90LmltYWdlID0gQG9iamVjdC5pbWFnZXNbNF0gfHwgQG9iamVjdC5pbWFnZXNbMV0gfHwgYmFzZUltYWdlXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaG90c3BvdC5pbWFnZSA9IEBvYmplY3QuaW1hZ2VzWzFdIHx8IGJhc2VJbWFnZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpZiBob3RzcG90LnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgaG90c3BvdC5pbWFnZSA9IEBvYmplY3QuaW1hZ2VzWzNdIHx8IGJhc2VJbWFnZVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhvdHNwb3QuaW1hZ2UgPSBiYXNlSW1hZ2VcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGEgaG90c3BvdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUhvdHNwb3RcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X1BpY3R1cmV9IGhvdHNwb3QgLSBUaGUgaG90c3BvdCB0byB1cGRhdGUuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgdXBkYXRlSG90c3BvdDogKGhvdHNwb3QpIC0+XG4gICAgICAgIGhvdHNwb3QudmlzaWJsZSA9IEBvYmplY3QudmlzaWJsZVxuICAgICAgICBob3RzcG90Lm9wYWNpdHkgPSBAb2JqZWN0Lm9wYWNpdHlcbiAgICAgICAgaWYgaG90c3BvdC5kYXRhLmJpbmRFbmFibGVkU3RhdGVcbiAgICAgICAgICAgIGhvdHNwb3QuZW5hYmxlZCA9IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuYm9vbGVhblZhbHVlT2YoaG90c3BvdC5kYXRhLmVuYWJsZWRTd2l0Y2gpXG4gICAgICAgIGhvdHNwb3Qub3JpZ2luLnggPSBAb2JqZWN0LmRzdFJlY3QueFxuICAgICAgICBob3RzcG90Lm9yaWdpbi55ID0gQG9iamVjdC5kc3RSZWN0LnlcbiAgICAgICAgaG92ZXJlZCA9IGhvdHNwb3QuZHN0UmVjdC5jb250YWlucyhJbnB1dC5Nb3VzZS54LCBJbnB1dC5Nb3VzZS55KVxuICAgICAgICBcbiAgICAgICAgQHVwZGF0ZUhvdHNwb3RJbWFnZShob3RzcG90LCBob3ZlcmVkKSAgICAgICBcbiAgICAgICAgaG90c3BvdC51cGRhdGUoKSAgICAgICAgXG4gICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGdyb3VuZC1pbWFnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUdyb3VuZFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIHVwZGF0ZUdyb3VuZDogLT5cbiAgICAgICAgQGdyb3VuZC52aXNpYmxlID0gQG9iamVjdC52aXNpYmxlXG4gICAgICAgIEBncm91bmQub3BhY2l0eSA9IEBvYmplY3Qub3BhY2l0eVxuICAgICAgICBAZ3JvdW5kLm9yaWdpbi54ID0gQG9iamVjdC5kc3RSZWN0LnhcbiAgICAgICAgQGdyb3VuZC5vcmlnaW4ueSA9IEBvYmplY3QuZHN0UmVjdC55XG4gICAgICAgIEBncm91bmQudXBkYXRlKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaW1hZ2UtbWFwJ3MgZ3JvdW5kIGFuZCBhbGwgaG90c3BvdHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIEB1cGRhdGVHcm91bmQoKVxuICAgICAgICBcbiAgICAgICAgZm9yIGhvdHNwb3QgaW4gQGhvdHNwb3RzXG4gICAgICAgICAgICBAdXBkYXRlSG90c3BvdChob3RzcG90KVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgXG5ncy5Db21wb25lbnRfSW1hZ2VNYXAgPSBDb21wb25lbnRfSW1hZ2VNYXAiXX0=
//# sourceURL=Component_ImageMap_105.js
var Component_TextRenderer, RendererTextLine,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

RendererTextLine = (function() {

  /**
  * Stores a text line.
  * 
  * @module gs.Component_TextRenderer
  * @class TextLine
  * @memberof gs.Component_TextRenderer
  * @constructor
   */
  function RendererTextLine() {
    this.width = 0;
    this.height = 0;
    this.descent = 0;
    this.content = [];
  }

  return RendererTextLine;

})();

gs.RendererTextLine = RendererTextLine;

Component_TextRenderer = (function(superClass) {
  extend(Component_TextRenderer, superClass);


  /**
  * A text-renderer component allow to draw plain or formatted text on a
  * game object's bitmap. For formatted text, different text-codes can be
  * used to add formatting or define a placeholder.<br><br>
  * 
  * A text-code uses the following syntax:<br><br>
  * 
  * {code:value} <- Single Value<br />
  * {code:value1,value2,...} <- Multiple Values<br><br>
  * 
  * Example:<br><br>
  * 
  * "This is {Y:I}a Text{Y:N}" <- "a Text" will be italic here.<br>
  * "The value is {GN:1}" <- "{GN:1}" will be replaced for the value of the global number variable 0001.<br><br>
  * 
  * For a list of all available text-codes with examples, just take a look into the offical help-file.
  * 
  * @module gs
  * @class Component_TextRenderer
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_TextRenderer() {
    Component_TextRenderer.__super__.constructor.apply(this, arguments);

    /**
    * @property currentX
    * @type number
    * @protected
     */
    this.currentX = 0;

    /**
    * @property currentY
    * @type number
    * @protected
     */
    this.currentY = 0;

    /**
    * @property currentLineHeight
    * @type number
    * @protected
     */
    this.currentLineHeight = 0;

    /**
    * @property font
    * @type gs.Font
    * @protected
     */
    this.font = new Font("Times New Roman", 22);

    /**
    * @property spaceSize
    * @type number
    * @protected
     */
    this.spaceSize = 0;

    /**
    * @property fontSize
    * @type number
    * @protected
     */
    this.fontSize = 0;
  }


  /**
  * Creates the token-object for a list-placeholder. A list-placeholder
  * allows to insert a value from a list-variable.
  * 
  * @method createListToken
  * @param {Array} list - The list.
  * @param {Array} values - The values of the list-placeholder text-code.
  * @return {string} The token-object.
   */

  Component_TextRenderer.prototype.createListToken = function(list, values) {
    var index;
    index = 0;
    if (values[1] != null) {
      values = values[1].split(":");
      index = values[0];
      if (values[0] === "G") {
        index = GameManager.variableStore.numbers[parseInt(values[1]) - 1];
      } else if (values[0] === "P") {
        index = GameManager.variableStore.persistentNumbers[parseInt(values[1]) - 1];
      } else if (values[0] === "L") {
        index = GameManager.variableStore.numberValueOf({
          scope: 0,
          index: parseInt(values[1]) - 1
        });
      }
    }
    return "" + list[index];
  };


  /**
  * Creates a token-object for a specified text-code.
  * 
  * @method createToken
  * @param {string} code - The code/type of the text-code.
  * @param {string} value - The value of the text-code.
  * @return {Object} The token-object.
   */

  Component_TextRenderer.prototype.createToken = function(code, value) {
    var macro, pair, ref, tokenObject, values;
    tokenObject = null;
    value = isNaN(value) ? value : parseInt(value);
    switch (code) {
      case "SZ":
        tokenObject = {
          code: code,
          value: value
        };
        this.font.size = tokenObject.value || this.fontSize;
        this.spaceSize = this.font.measureTextPlain(" ");
        break;
      case "Y":
        tokenObject = {
          code: code,
          value: value
        };
        switch (value) {
          case "U":
            this.font.underline = true;
            break;
          case "S":
            this.font.strikeThrough = true;
            break;
          case "I":
            this.font.italic = true;
            break;
          case "B":
            this.font.bold = true;
            break;
          case "C":
            this.font.smallCaps = true;
            break;
          case "N":
            this.font.underline = false;
            this.font.strikeThrough = false;
            this.font.italic = false;
            this.font.bold = false;
            this.font.smallCaps = false;
        }
        this.spaceSize = this.font.measureTextPlain(" ");
        break;
      case "GN":
        values = isNaN(value) ? value.split(",") : [value];
        if (values[1]) {
          tokenObject = sprintf("%" + values[1] + "d", GameManager.variableStore.numbers[values[0] - 1] || 0);
        } else {
          tokenObject = (GameManager.variableStore.numbers[values[0] - 1] || 0).toString();
        }
        break;
      case "GT":
        tokenObject = GameManager.variableStore.strings[value - 1] || "";
        break;
      case "GS":
        tokenObject = (GameManager.variableStore.booleans[value - 1] || false).toString();
        break;
      case "GL":
        values = value.split(",");
        tokenObject = this.createListToken(GameManager.variableStore.lists[values[0] - 1] || [], values);
        break;
      case "PN":
        values = isNaN(value) ? value.split(",") : [value];
        if (values[1]) {
          tokenObject = sprintf("%" + values[1] + "d", GameManager.variableStore.persistentNumbers[values[0] - 1] || 0);
        } else {
          tokenObject = (GameManager.variableStore.persistentNumbers[values[0] - 1] || 0).toString();
        }
        break;
      case "PT":
        tokenObject = GameManager.variableStore.persistentStrings[value - 1] || "";
        break;
      case "PS":
        tokenObject = (GameManager.variableStore.persistentBooleans[value - 1] || false).toString();
        break;
      case "PL":
        values = value.split(",");
        tokenObject = this.createListToken(GameManager.variableStore.persistentLists[values[0] - 1] || [], values);
        break;
      case "LN":
        values = isNaN(value) ? value.split(",") : [value];
        if (values[1]) {
          tokenObject = sprintf("%" + values[1] + "d", GameManager.variableStore.numberValueOf({
            scope: 0,
            index: value - 1
          }) || 0);
        } else {
          tokenObject = (GameManager.variableStore.numberValueOf({
            scope: 0,
            index: value - 1
          }) || 0).toString();
        }
        break;
      case "LT":
        tokenObject = (GameManager.variableStore.stringValueOf({
          scope: 0,
          index: value - 1
        }) || "").toString();
        break;
      case "LS":
        tokenObject = (GameManager.variableStore.booleanValueOf({
          scope: 0,
          index: value - 1
        }) || false).toString();
        break;
      case "LL":
        values = value.split(",");
        tokenObject = this.createListToken(GameManager.variableStore.listValueOf({
          scope: 0,
          index: values[0] - 1
        }) || [], values);
        break;
      case "N":
        tokenObject = (RecordManager.characters[value - 1] != null ? RecordManager.characters[value - 1].name : "");
        break;
      case "RT":
        pair = value.split("/");
        tokenObject = {
          code: code,
          rtStyleId: (ref = pair[2]) != null ? ref : 0,
          rb: pair[0],
          rt: pair[1],
          rbSize: {
            width: 0,
            height: 0
          },
          rtSize: {
            width: 0,
            height: 0
          }
        };
        break;
      case "M":
        macro = RecordManager.system.textMacros.first(function(m) {
          return m.name === value;
        });
        if (macro) {
          if (macro.type === 0) {
            tokenObject = macro.content.split(/\{([A-z]+):([^\{\}]+)\}|(\n)/gm);
            tokenObject.pop();
          } else if (macro.type === 1) {
            if (!macro.contentFunc) {
              macro.contentFunc = eval("(function(object, value){ " + macro.content + " })");
            }
            tokenObject = macro.contentFunc(this.object, value);
            tokenObject = tokenObject.split(/\{([A-z]+):([^\{\}]+)\}|(\n)/gm);
            tokenObject.pop();
          } else {
            if (!macro.contentFunc) {
              macro.contentFunc = eval("(function(object){ " + macro.content + " })");
            }
            tokenObject = {
              code: "X",
              value: macro.contentFunc
            };
          }
        } else {
          tokenObject = "";
        }
        break;
      default:
        tokenObject = {
          code: code,
          value: value
        };
    }
    return tokenObject;
  };


  /**
  * <p>Measures a control-token. If a token produces a visual result like displaying an icon then it must return the size taken by
  * the visual result. If the token has no visual result, <b>null</b> must be returned. This method is called for every token when the message is initialized.</p> 
  *
  * @param {Object} token - A control-token.
  * @return {gs.Size} The size of the area taken by the visual result of the token or <b>null</b> if the token has no visual result.
  * @method measureControlToken
  * @protected
   */

  Component_TextRenderer.prototype.measureControlToken = function(token) {
    var animation, font, fs, imageBitmap, ref, size, style;
    size = null;
    switch (token.code) {
      case "A":
        animation = RecordManager.animations[Math.max(token.value - 1, 0)];
        if ((animation != null ? animation.graphic.name : void 0) != null) {
          imageBitmap = ResourceManager.getBitmap("Graphics/Pictures/" + animation.graphic.name);
          if (imageBitmap != null) {
            size = {
              width: Math.round(imageBitmap.width / animation.framesX),
              height: Math.round(imageBitmap.height / animation.framesY)
            };
          }
        }
        break;
      case "RT":
        style = null;
        if (token.rtStyleId) {
          style = ui.UIManager.styles["rubyText-" + token.rtStyleId];
        }
        if (!style) {
          style = ui.UIManager.styles["rubyText"];
        }
        font = (ref = style != null ? style.font : void 0) != null ? ref : this.font;
        fs = font.size;
        font.size = font.size || this.font.size / 2;
        token.rbSize = this.font.measureTextPlain(token.rb);
        token.rtSize = font.measureTextPlain(token.rt);
        font.size = fs;
        size = {
          width: Math.max(token.rbSize.width, token.rtSize.width),
          height: token.rbSize.height + token.rtSize.height
        };
    }
    return size;
  };


  /**
  * <p>Draws the visual result of a token, like an icon for example, to the specified bitmap. This method is called for every token while the text is rendered.</p> 
  *
  * @param {Object} token - A control-token.
  * @param {gs.Bitmap} bitmap - The bitmap used for the current text-line. Can be used to draw something on it like an icon, etc.
  * @method drawControlToken
  * @protected
   */

  Component_TextRenderer.prototype.drawControlToken = function(token, bitmap) {
    var animation, font, fs, imageBitmap, rect, ref, ref1, style;
    switch (token.code) {
      case "A":
        animation = RecordManager.animations[Math.max(token.value - 1, 0)];
        if ((animation != null ? animation.graphic.name : void 0) != null) {
          imageBitmap = ResourceManager.getBitmap("Graphics/Pictures/" + animation.graphic.name);
          if (imageBitmap != null) {
            rect = new gs.Rect(0, 0, Math.round(imageBitmap.width / animation.framesX), Math.round(imageBitmap.height / animation.framesY));
            return bitmap.blt(this.currentX, this.currentY, imageBitmap, rect);
          }
        }
        break;
      case "RT":
        style = null;
        if (token.rtStyleId) {
          style = ui.UIManager.styles["rubyText-" + token.rtStyleId];
        }
        if (!style) {
          style = ui.UIManager.styles["rubyText"];
        }
        font = (ref = style != null ? style.font : void 0) != null ? ref : this.font;
        fs = font.size;
        font.size = font.size || this.font.size / 2;
        if (style && !((ref1 = style.descriptor.font) != null ? ref1.color : void 0)) {
          font.color.set(this.font.color);
        }
        bitmap.font = font;
        bitmap.drawText(this.currentX, bitmap.font.descent, Math.max(token.rbSize.width, token.rtSize.width), bitmap.height, token.rt, 1, 0);
        bitmap.font = this.font;
        font.size = fs;
        return bitmap.drawText(this.currentX, 0 + token.rtSize.height, Math.max(token.rbSize.width, token.rtSize.width), bitmap.height, token.rb, 1, 0);
    }
  };


  /**
  * Creates an a of line-objects. Each line-object is a list of token-objects. 
  * A token-object can be just a string or an object containing more information
  * about how to process the token at runtime.
  * 
  * A line-object also contains additional information like the width and height
  * of the line(in pixels).
  * 
  * If the wordWrap param is set, line-breaks are automatically created if a line
  * doesn't fit into the width of the game object's bitmap.
  * 
  * @method calculateLines
  * @param {string} message - A message creating the line-objects for.
  * @param {boolean} wordWrap - If wordWrap is set to true, line-breaks are automatically created.
  * @param {number} [firstLineWidth=0] - The current width of the first line.
  * @return {Array} An array of line-objects.
   */

  Component_TextRenderer.prototype.calculateLines = function(message, wordWrap, firstLineWidth) {
    var bold, currentWords, descent, height, i, italic, j, len, line, result, size, smallCaps, strikeThrough, t, token, tokenObject, tokens, underline, width, word, words;
    result = [];
    line = new gs.RendererTextLine();
    width = firstLineWidth || 0;
    height = 0;
    descent = this.font.descent;
    currentWords = [];
    size = null;
    this.spaceSize = this.font.measureChar(" ");
    this.fontSize = this.font.size;
    tokens = message.split(/\{([A-z]+):([^\{\}]+)\}|(\n)/gm);
    token = null;
    t = 0;
    underline = this.font.underline;
    strikeThrough = this.font.strikeThrough;
    italic = this.font.italic;
    bold = this.font.bold;
    smallCaps = this.font.smallCaps;
    while (t < tokens.length) {
      token = tokens[t];
      if (t % 4 !== 0) {
        if (token != null) {
          tokenObject = this.createToken(token, tokens[t + 1]);
          if (tokenObject.push != null) {
            Array.prototype.splice.apply(tokens, [t + 3, 0].concat(tokenObject));
          } else if (tokenObject.code == null) {
            tokens[t + 3] = tokenObject + tokens[t + 3];
          } else {
            size = this.measureControlToken(tokenObject);
            if (size) {
              width += size.width;
              height = Math.max(height, size.height);
            }
            line.content.push(tokenObject);
          }
        } else {
          line.height = height || this.font.lineHeight;
          line.width = width;
          line.descent = descent;
          result.push(line);
          line = new gs.RendererTextLine();
          width = 0;
          height = 0;
          descent = this.font.descent;
        }
        t += 2;
      } else if (token.length > 0) {
        words = token.split(" ");
        for (i = j = 0, len = words.length; j < len; i = ++j) {
          word = words[i];
          size = this.font.measureTextPlain(word);
          width += size.width + this.spaceSize.width;
          if ((width - this.spaceSize.width) > this.object.dstRect.width && wordWrap) {
            line.content.push(currentWords.join(" "));
            line.height = height;
            line.width = width - size.width;
            line.descent = descent;
            descent = this.font.descent;
            height = size.height;
            result.push(line);
            line = new gs.RendererTextLine();
            currentWords = [word];
            width = width - (width - size.width);
          } else {
            currentWords.push(word);
          }
          height = Math.max(height, this.font.lineHeight);
        }
        if (currentWords.length > 0) {
          line.content.push(currentWords.join(" "));
          currentWords = [];
        }
      }
      t++;
    }
    if (line.content.length > 0) {
      line.height = height;
      line.width = width;
      line.descent = descent;
      result.push(line);
    }
    this.font.size = this.fontSize;
    this.font.underline = underline;
    this.font.strikeThrough = strikeThrough;
    this.font.italic = italic;
    this.font.bold = bold;
    this.font.smallCaps = smallCaps;
    return result;
  };


  /**
  * Not implemented yet. Should be removed?
  * @method analyzeFormattedText
   */

  Component_TextRenderer.prototype.analyzeFormattedText = function(text, wordWrap) {
    var lines;
    return lines = this.calculateLines(text, wordWrap);
  };


  /**
  * Measures the dimensions of a formatted text in pixels. The result is not
  * pixel-perfect.
  * 
  * @method measureFormattedText
  * @param {string} text - The text to measure.
  * @param {boolean} wordWrap - If wordWrap is set to true, automatically created line-breaks will be calculated.
  * @result {Object} An object containing the width and height of the text.
   */

  Component_TextRenderer.prototype.measureFormattedText = function(text, wordWrap) {
    var j, len, line, lines, size;
    this.font.set(this.object.font);
    size = {
      width: 0,
      height: 0
    };
    lines = this.calculateLines(text, wordWrap);
    for (j = 0, len = lines.length; j < len; j++) {
      line = lines[j];
      size.width = Math.max(line.width + 2, size.width);
      size.height += line.height;
    }
    return size;
  };


  /**
  * Measures the dimensions of a plain text in pixels. Formatting and
  * word-wrapping are not supported.
  *
  * @method measureText
  * @param {string} text - The text to measure.
  * @result {Object} An object containing the width and height of the text.
   */

  Component_TextRenderer.prototype.measureText = function(text) {
    var j, len, line, lineSize, lines, size;
    size = {
      width: 0,
      height: 0
    };
    lines = text.toString().split("\n");
    for (j = 0, len = lines.length; j < len; j++) {
      line = lines[j];
      lineSize = this.object.font.measureText(text);
      size.width = Math.max(size.width, lineSize.width);
      size.height += this.object.font.lineHeight;
    }
    return size;
  };


  /**
  * Searches for a token in a list of tokens and returns the first match.
  *
  * @method findToken
  * @param {number} startIndex - The index in the list of tokens where the search will start.
  * @param {string} code - The code of the token to search for.
  * @param {number} direction - The search direction, can be forward(1) or backward(-1).
  * @param {Object[]} tokens - The list of tokens to search.
  * @result {Object} The first token which matches the specified code or <b>null</b> if the token cannot be found.
   */

  Component_TextRenderer.prototype.findToken = function(startIndex, code, direction, tokens) {
    var i, t, token;
    token = null;
    i = startIndex;
    if (direction === -1) {
      while (i >= 0) {
        t = tokens[i];
        if (t.code === code) {
          token = t;
          break;
        }
        i--;
      }
    }
    return token;
  };


  /**
  * Searches for a specific kind of tokens between a start and an end token.
  *
  * @method findTokensBetween
  * @param {number} startIndex - The index where the search will start.
  * @param {number} endIndex - The index where the search will end.
  * @param {string} code - The code of the token-type to search for.
  * @param {Object[]} tokens - The list of tokens to search.
  * @result {Object[]} List of tokens matching the specified code. Its an empty list if no tokens were found.
   */

  Component_TextRenderer.prototype.findTokensBetween = function(startIndex, endIndex, code, tokens) {
    var e, result, s, token;
    result = [];
    s = startIndex;
    e = endIndex;
    while (s < e) {
      token = tokens[s];
      if (token.code == code) {
        result.push(token);
      }
      s++;
    }
    return result;
  };


  /**
  * Processes a control-token. A control-token is a token which influences
  * the text-rendering like changing the fonts color, size or style.
  *
  * Changes will be automatically applied to the game object's font.
  *
  * @method processControlToken
  * @param {Object} token - A control-token.
   */

  Component_TextRenderer.prototype.processControlToken = function(token) {
    switch (token.code) {
      case "SZ":
        return this.object.font.size = token.value || this.fontSize;
      case "C":
        if (token.value <= 0) {
          return this.object.font.color = Font.defaultColor;
        } else {
          return this.object.font.color = RecordManager.system.colors[token.value - 1] || Font.defaultColor;
        }
        break;
      case "Y":
        switch (token.value) {
          case "U":
            return this.object.font.underline = true;
          case "S":
            return this.object.font.strikeThrough = true;
          case "I":
            return this.object.font.italic = true;
          case "B":
            return this.object.font.bold = true;
          case "C":
            return this.object.font.smallCaps = true;
          case "N":
            this.object.font.underline = false;
            this.object.font.strikeThrough = false;
            this.object.font.italic = false;
            this.object.font.bold = false;
            return this.object.font.smallCaps = false;
        }
    }
  };


  /**
  * Draws a plain text. Formatting and word-wrapping are not supported.
  *
  * @method drawText
  * @param {number} x - The x-coordinate of the text's position.
  * @param {number} y - The y-coordinate of the text's position.
  * @param {number} width - Deprecated. Can be null.
  * @param {number} height - Deprecated. Can be null.
  * @param {string} text - The text to draw.
   */

  Component_TextRenderer.prototype.drawText = function(x, y, width, height, text) {
    var font, i, j, len, line, lines, size;
    lines = text.toString().split("\n");
    font = this.object.font;
    height = font.lineHeight;
    for (i = j = 0, len = lines.length; j < len; i = ++j) {
      line = lines[i];
      size = font.measureText(line);
      this.object.bitmap.drawText(0, i * height, size.width, height, line, 0, 0);
    }
    return null;
  };


  /**
  * Draws a formatted text. 
  * If the wordWrap param is set, line-breaks are automatically created if a line
  * doesn't fit into the width of the game object's bitmap.
  *
  * @method drawFormattedText
  * @param {number} x - The x-coordinate of the text's position.
  * @param {number} y - The y-coordinate of the text's position.
  * @param {number} width - Deprecated. Can be null.
  * @param {number} height - Deprecated. Can be null.
  * @param {string} text - The text to draw.
  * @param {boolean} wordWrap - If wordWrap is set to true, line-breaks are automatically created.
   */

  Component_TextRenderer.prototype.drawFormattedText = function(x, y, width, height, text, wordWrap) {
    var font, j, k, len, len1, line, lines, ref, results, size, token;
    lines = this.calculateLines(text.toString(), wordWrap);
    this.currentX = 0;
    this.currentY = 0;
    this.currentLineHeight = 0;
    results = [];
    for (j = 0, len = lines.length; j < len; j++) {
      line = lines[j];
      ref = line.content;
      for (k = 0, len1 = ref.length; k < len1; k++) {
        token = ref[k];
        if (token.code != null) {
          this.processControlToken(token);
          size = this.measureControlToken(token);
          if (size) {
            this.drawControlToken(token, this.object.bitmap);
            this.currentX += size.width;
          }
        } else if (token.length > 0) {
          font = this.object.font;
          size = font.measureTextPlain(token);
          height = line.height;
          this.object.bitmap.drawText(this.currentX, this.currentY + height - size.height + font.descent - line.descent, size.width, height, token, 0, 0);
          this.currentX += size.width;
          this.currentLineHeight = Math.max(this.currentLineHeight, height);
        }
      }
      this.currentY += this.currentLineHeight || this.object.font.lineHeight;
      this.currentX = 0;
      results.push(this.currentLineHeight = 0);
    }
    return results;
  };

  return Component_TextRenderer;

})(gs.Component);

gs.Component_TextRenderer = Component_TextRenderer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUEsd0NBQUE7RUFBQTs7O0FBQU07O0FBQ0Y7Ozs7Ozs7O0VBUWEsMEJBQUE7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxPQUFELEdBQVc7SUFDWCxJQUFDLENBQUEsT0FBRCxHQUFXO0VBSkY7Ozs7OztBQU1qQixFQUFFLENBQUMsZ0JBQUgsR0FBc0I7O0FBRWhCOzs7O0FBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXVCYSxnQ0FBQTtJQUNULHlEQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjs7QUFFckI7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLElBQUEsQ0FBSyxpQkFBTCxFQUF3QixFQUF4Qjs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7RUEzQ0g7OztBQTZDYjs7Ozs7Ozs7OzttQ0FTQSxlQUFBLEdBQWlCLFNBQUMsSUFBRCxFQUFPLE1BQVA7QUFDYixRQUFBO0lBQUEsS0FBQSxHQUFRO0lBQ1IsSUFBRyxpQkFBSDtNQUNJLE1BQUEsR0FBUyxNQUFPLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBVixDQUFnQixHQUFoQjtNQUNULEtBQUEsR0FBUSxNQUFPLENBQUEsQ0FBQTtNQUNmLElBQUcsTUFBTyxDQUFBLENBQUEsQ0FBUCxLQUFhLEdBQWhCO1FBQ0ksS0FBQSxHQUFRLFdBQVcsQ0FBQyxhQUFhLENBQUMsT0FBUSxDQUFBLFFBQUEsQ0FBUyxNQUFPLENBQUEsQ0FBQSxDQUFoQixDQUFBLEdBQW9CLENBQXBC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QSxpQkFBRCxJQUFzQixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQztNQUNoRCxJQUFDLENBQUEsUUFBRCxHQUFZO21CQUNaLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjtBQWxCekI7O0VBTmU7Ozs7R0FyaEJjLEVBQUUsQ0FBQzs7QUEraUJ4QyxFQUFFLENBQUMsc0JBQUgsR0FBNEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9UZXh0UmVuZGVyZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY2xhc3MgUmVuZGVyZXJUZXh0TGluZVxuICAgICMjIypcbiAgICAqIFN0b3JlcyBhIHRleHQgbGluZS5cbiAgICAqIFxuICAgICogQG1vZHVsZSBncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyXG4gICAgKiBAY2xhc3MgVGV4dExpbmVcbiAgICAqIEBtZW1iZXJvZiBncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgQHdpZHRoID0gMFxuICAgICAgICBAaGVpZ2h0ID0gMFxuICAgICAgICBAZGVzY2VudCA9IDBcbiAgICAgICAgQGNvbnRlbnQgPSBbXVxuICAgICAgICBcbmdzLlJlbmRlcmVyVGV4dExpbmUgPSBSZW5kZXJlclRleHRMaW5lXG4gICAgICAgICAgICBcbmNsYXNzIENvbXBvbmVudF9UZXh0UmVuZGVyZXIgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBBIHRleHQtcmVuZGVyZXIgY29tcG9uZW50IGFsbG93IHRvIGRyYXcgcGxhaW4gb3IgZm9ybWF0dGVkIHRleHQgb24gYVxuICAgICogZ2FtZSBvYmplY3QncyBiaXRtYXAuIEZvciBmb3JtYXR0ZWQgdGV4dCwgZGlmZmVyZW50IHRleHQtY29kZXMgY2FuIGJlXG4gICAgKiB1c2VkIHRvIGFkZCBmb3JtYXR0aW5nIG9yIGRlZmluZSBhIHBsYWNlaG9sZGVyLjxicj48YnI+XG4gICAgKiBcbiAgICAqIEEgdGV4dC1jb2RlIHVzZXMgdGhlIGZvbGxvd2luZyBzeW50YXg6PGJyPjxicj5cbiAgICAqIFxuICAgICoge2NvZGU6dmFsdWV9IDwtIFNpbmdsZSBWYWx1ZTxiciAvPlxuICAgICoge2NvZGU6dmFsdWUxLHZhbHVlMiwuLi59IDwtIE11bHRpcGxlIFZhbHVlczxicj48YnI+XG4gICAgKiBcbiAgICAqIEV4YW1wbGU6PGJyPjxicj5cbiAgICAqIFxuICAgICogXCJUaGlzIGlzIHtZOkl9YSBUZXh0e1k6Tn1cIiA8LSBcImEgVGV4dFwiIHdpbGwgYmUgaXRhbGljIGhlcmUuPGJyPlxuICAgICogXCJUaGUgdmFsdWUgaXMge0dOOjF9XCIgPC0gXCJ7R046MX1cIiB3aWxsIGJlIHJlcGxhY2VkIGZvciB0aGUgdmFsdWUgb2YgdGhlIGdsb2JhbCBudW1iZXIgdmFyaWFibGUgMDAwMS48YnI+PGJyPlxuICAgICogXG4gICAgKiBGb3IgYSBsaXN0IG9mIGFsbCBhdmFpbGFibGUgdGV4dC1jb2RlcyB3aXRoIGV4YW1wbGVzLCBqdXN0IHRha2UgYSBsb29rIGludG8gdGhlIG9mZmljYWwgaGVscC1maWxlLlxuICAgICogXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1RleHRSZW5kZXJlclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBjdXJyZW50WFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjdXJyZW50WCA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgY3VycmVudFlcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY3VycmVudFkgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGN1cnJlbnRMaW5lSGVpZ2h0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGN1cnJlbnRMaW5lSGVpZ2h0ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBmb250XG4gICAgICAgICogQHR5cGUgZ3MuRm9udFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmb250ID0gbmV3IEZvbnQoXCJUaW1lcyBOZXcgUm9tYW5cIiwgMjIpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHNwYWNlU2l6ZVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBzcGFjZVNpemUgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGZvbnRTaXplXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGZvbnRTaXplID0gMFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIHRoZSB0b2tlbi1vYmplY3QgZm9yIGEgbGlzdC1wbGFjZWhvbGRlci4gQSBsaXN0LXBsYWNlaG9sZGVyXG4gICAgKiBhbGxvd3MgdG8gaW5zZXJ0IGEgdmFsdWUgZnJvbSBhIGxpc3QtdmFyaWFibGUuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgY3JlYXRlTGlzdFRva2VuXG4gICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IC0gVGhlIGxpc3QuXG4gICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgLSBUaGUgdmFsdWVzIG9mIHRoZSBsaXN0LXBsYWNlaG9sZGVyIHRleHQtY29kZS5cbiAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRva2VuLW9iamVjdC5cbiAgICAjIyNcbiAgICBjcmVhdGVMaXN0VG9rZW46IChsaXN0LCB2YWx1ZXMpIC0+XG4gICAgICAgIGluZGV4ID0gMFxuICAgICAgICBpZiB2YWx1ZXNbMV0/XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNbMV0uc3BsaXQoXCI6XCIpXG4gICAgICAgICAgICBpbmRleCA9IHZhbHVlc1swXVxuICAgICAgICAgICAgaWYgdmFsdWVzWzBdID09IFwiR1wiXG4gICAgICAgICAgICAgICAgaW5kZXggPSBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLm51bWJlcnNbcGFyc2VJbnQodmFsdWVzWzFdKS0xXVxuICAgICAgICAgICAgZWxzZSBpZiB2YWx1ZXNbMF0gPT0gXCJQXCJcbiAgICAgICAgICAgICAgICBpbmRleCA9IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUucGVyc2lzdGVudE51bWJlcnNbcGFyc2VJbnQodmFsdWVzWzFdKS0xXVxuICAgICAgICAgICAgZWxzZSBpZiB2YWx1ZXNbMF0gPT0gXCJMXCJcbiAgICAgICAgICAgICAgICBpbmRleCA9IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUubnVtYmVyVmFsdWVPZih7IHNjb3BlOiAwLCBpbmRleDogcGFyc2VJbnQodmFsdWVzWzFdKS0xfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIFwiXCIgKyBsaXN0W2luZGV4XVxuICAgICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSB0b2tlbi1vYmplY3QgZm9yIGEgc3BlY2lmaWVkIHRleHQtY29kZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCBjcmVhdGVUb2tlblxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgLSBUaGUgY29kZS90eXBlIG9mIHRoZSB0ZXh0LWNvZGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIHRleHQtY29kZS5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHRva2VuLW9iamVjdC5cbiAgICAjIyNcbiAgICBjcmVhdGVUb2tlbjogKGNvZGUsIHZhbHVlKSAtPlxuICAgICAgICB0b2tlbk9iamVjdCA9IG51bGxcbiAgICAgICAgdmFsdWUgPSBpZiBpc05hTih2YWx1ZSkgdGhlbiB2YWx1ZSBlbHNlIHBhcnNlSW50KHZhbHVlKVxuICAgICAgICBzd2l0Y2ggY29kZVxuICAgICAgICAgICAgd2hlbiBcIlNaXCIgXG4gICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSB7IGNvZGU6IGNvZGUsIHZhbHVlOiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgQGZvbnQuc2l6ZSA9IHRva2VuT2JqZWN0LnZhbHVlIHx8IEBmb250U2l6ZVxuICAgICAgICAgICAgICAgIEBzcGFjZVNpemUgPSBAZm9udC5tZWFzdXJlVGV4dFBsYWluKFwiIFwiKVxuICAgICAgICAgICAgd2hlbiBcIllcIlxuICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0ID0geyBjb2RlOiBjb2RlLCB2YWx1ZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICB3aGVuIFwiVVwiIHRoZW4gQGZvbnQudW5kZXJsaW5lID0geWVzXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gXCJTXCIgdGhlbiBAZm9udC5zdHJpa2VUaHJvdWdoID0geWVzXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gXCJJXCIgdGhlbiBAZm9udC5pdGFsaWMgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgd2hlbiBcIkJcIiB0aGVuIEBmb250LmJvbGQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgd2hlbiBcIkNcIiB0aGVuIEBmb250LnNtYWxsQ2FwcyA9IHllc1xuICAgICAgICAgICAgICAgICAgICB3aGVuIFwiTlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAZm9udC51bmRlcmxpbmUgPSBub1xuICAgICAgICAgICAgICAgICAgICAgICAgQGZvbnQuc3RyaWtlVGhyb3VnaCA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBAZm9udC5pdGFsaWMgPSBub1xuICAgICAgICAgICAgICAgICAgICAgICAgQGZvbnQuYm9sZCA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBAZm9udC5zbWFsbENhcHMgPSBub1xuICAgICAgICAgICAgICAgIEBzcGFjZVNpemUgPSBAZm9udC5tZWFzdXJlVGV4dFBsYWluKFwiIFwiKVxuICAgICAgICAgICAgd2hlbiBcIkdOXCJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBpZiBpc05hTih2YWx1ZSkgdGhlbiB2YWx1ZS5zcGxpdChcIixcIikgZWxzZSBbdmFsdWVdXG4gICAgICAgICAgICAgICAgaWYgdmFsdWVzWzFdXG4gICAgICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0ID0gc3ByaW50ZihcIiVcIit2YWx1ZXNbMV0rXCJkXCIsIChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLm51bWJlcnNbdmFsdWVzWzBdLTFdIHx8IDApKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSAoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5udW1iZXJzW3ZhbHVlc1swXS0xXSB8fCAwKS50b1N0cmluZygpXG4gICAgICAgICAgICB3aGVuIFwiR1RcIiBcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnN0cmluZ3NbdmFsdWUtMV0gfHwgXCJcIilcbiAgICAgICAgICAgIHdoZW4gXCJHU1wiXG4gICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSAoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5ib29sZWFuc1t2YWx1ZS0xXSB8fCBmYWxzZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgd2hlbiBcIkdMXCJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IEBjcmVhdGVMaXN0VG9rZW4oR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5saXN0c1t2YWx1ZXNbMF0tMV0gfHwgW10sIHZhbHVlcylcbiAgICAgICAgICAgIHdoZW4gXCJQTlwiXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gaWYgaXNOYU4odmFsdWUpIHRoZW4gdmFsdWUuc3BsaXQoXCIsXCIpIGVsc2UgW3ZhbHVlXVxuICAgICAgICAgICAgICAgIGlmIHZhbHVlc1sxXVxuICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IHNwcmludGYoXCIlXCIrdmFsdWVzWzFdK1wiZFwiLCAoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5wZXJzaXN0ZW50TnVtYmVyc1t2YWx1ZXNbMF0tMV0gfHwgMCkpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnBlcnNpc3RlbnROdW1iZXJzW3ZhbHVlc1swXS0xXSB8fCAwKS50b1N0cmluZygpXG4gICAgICAgICAgICB3aGVuIFwiUFRcIiAgXG4gICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSAoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5wZXJzaXN0ZW50U3RyaW5nc1t2YWx1ZS0xXSB8fCBcIlwiKVxuICAgICAgICAgICAgd2hlbiBcIlBTXCJcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnBlcnNpc3RlbnRCb29sZWFuc1t2YWx1ZS0xXSB8fCBmYWxzZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgd2hlbiBcIlBMXCJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IEBjcmVhdGVMaXN0VG9rZW4oR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5wZXJzaXN0ZW50TGlzdHNbdmFsdWVzWzBdLTFdIHx8IFtdLCB2YWx1ZXMpXG4gICAgICAgICAgICB3aGVuIFwiTE5cIiBcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBpZiBpc05hTih2YWx1ZSkgdGhlbiB2YWx1ZS5zcGxpdChcIixcIikgZWxzZSBbdmFsdWVdXG4gICAgICAgICAgICAgICAgaWYgdmFsdWVzWzFdIFxuICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IHNwcmludGYoXCIlXCIrdmFsdWVzWzFdK1wiZFwiLCAoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5udW1iZXJWYWx1ZU9mKHsgc2NvcGU6IDAsIGluZGV4OiB2YWx1ZS0xfSkgfHwgMCkpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLm51bWJlclZhbHVlT2YoeyBzY29wZTogMCwgaW5kZXg6IHZhbHVlLTF9KSB8fCAwKS50b1N0cmluZygpXG4gICAgICAgICAgICB3aGVuIFwiTFRcIiBcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnN0cmluZ1ZhbHVlT2YoeyBzY29wZTogMCwgaW5kZXg6IHZhbHVlLTF9KSB8fCBcIlwiKS50b1N0cmluZygpXG4gICAgICAgICAgICB3aGVuIFwiTFNcIlxuICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0ID0gKEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuYm9vbGVhblZhbHVlT2YoeyBzY29wZTogMCwgaW5kZXg6IHZhbHVlLTF9KSB8fCBmYWxzZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgd2hlbiBcIkxMXCJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IEBjcmVhdGVMaXN0VG9rZW4oR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5saXN0VmFsdWVPZih7IHNjb3BlOiAwLCBpbmRleDogdmFsdWVzWzBdLTF9KSB8fCBbXSwgdmFsdWVzKVxuICAgICAgICAgICAgd2hlbiBcIk5cIiBcbiAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IChpZiBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNbdmFsdWUtMV0/IHRoZW4gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzW3ZhbHVlLTFdLm5hbWUgZWxzZSBcIlwiKVxuICAgICAgICAgICAgd2hlbiBcIlJUXCJcbiAgICAgICAgICAgICAgICBwYWlyID0gdmFsdWUuc3BsaXQoXCIvXCIpXG4gICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSB7IGNvZGU6IGNvZGUsIHJ0U3R5bGVJZDogcGFpclsyXSA/IDAsIHJiOiBwYWlyWzBdLCBydDogcGFpclsxXSwgcmJTaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSwgcnRTaXplOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSB9XG4gICAgICAgICAgICB3aGVuIFwiTVwiXG4gICAgICAgICAgICAgICAgbWFjcm8gPSBSZWNvcmRNYW5hZ2VyLnN5c3RlbS50ZXh0TWFjcm9zLmZpcnN0IChtKSAtPiBtLm5hbWUgPT0gdmFsdWVcbiAgICAgICAgICAgICAgICBpZiBtYWNyb1xuICAgICAgICAgICAgICAgICAgICBpZiBtYWNyby50eXBlID09IDAgIyBUZXh0ICsgQ29kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0ID0gbWFjcm8uY29udGVudC5zcGxpdCgvXFx7KFtBLXpdKyk6KFteXFx7XFx9XSspXFx9fChcXG4pL2dtKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5PYmplY3QucG9wKClcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiBtYWNyby50eXBlID09IDEgIyBQbGFjZWhvbGRlciBTY3JpcHQgTWFjcm9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICFtYWNyby5jb250ZW50RnVuY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmNvbnRlbnRGdW5jID0gZXZhbChcIihmdW5jdGlvbihvYmplY3QsIHZhbHVlKXsgI3ttYWNyby5jb250ZW50fSB9KVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSBtYWNyby5jb250ZW50RnVuYyhAb2JqZWN0LCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0ID0gdG9rZW5PYmplY3Quc3BsaXQoL1xceyhbQS16XSspOihbXlxce1xcfV0rKVxcfXwoXFxuKS9nbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuT2JqZWN0LnBvcCgpXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgIyBTY3JpcHQgTWFjcm9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICFtYWNyby5jb250ZW50RnVuY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvLmNvbnRlbnRGdW5jID0gZXZhbChcIihmdW5jdGlvbihvYmplY3QpeyAje21hY3JvLmNvbnRlbnR9IH0pXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IHsgY29kZTogXCJYXCIsIHZhbHVlOiBtYWNyby5jb250ZW50RnVuYyB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0b2tlbk9iamVjdCA9IFwiXCJcbiAgICAgICAgICAgIGVsc2UgICAgXG4gICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSB7IGNvZGU6IGNvZGUsIHZhbHVlOiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiB0b2tlbk9iamVjdFxuICAgICBcbiAgICAjIyMqXG4gICAgKiA8cD5NZWFzdXJlcyBhIGNvbnRyb2wtdG9rZW4uIElmIGEgdG9rZW4gcHJvZHVjZXMgYSB2aXN1YWwgcmVzdWx0IGxpa2UgZGlzcGxheWluZyBhbiBpY29uIHRoZW4gaXQgbXVzdCByZXR1cm4gdGhlIHNpemUgdGFrZW4gYnlcbiAgICAqIHRoZSB2aXN1YWwgcmVzdWx0LiBJZiB0aGUgdG9rZW4gaGFzIG5vIHZpc3VhbCByZXN1bHQsIDxiPm51bGw8L2I+IG11c3QgYmUgcmV0dXJuZWQuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmb3IgZXZlcnkgdG9rZW4gd2hlbiB0aGUgbWVzc2FnZSBpcyBpbml0aWFsaXplZC48L3A+IFxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAqIEByZXR1cm4ge2dzLlNpemV9IFRoZSBzaXplIG9mIHRoZSBhcmVhIHRha2VuIGJ5IHRoZSB2aXN1YWwgcmVzdWx0IG9mIHRoZSB0b2tlbiBvciA8Yj5udWxsPC9iPiBpZiB0aGUgdG9rZW4gaGFzIG5vIHZpc3VhbCByZXN1bHQuXG4gICAgKiBAbWV0aG9kIG1lYXN1cmVDb250cm9sVG9rZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICBcbiAgICBtZWFzdXJlQ29udHJvbFRva2VuOiAodG9rZW4pIC0+ICMgQ2FuIGJlIGltcGxlbWVudGVkIGJ5IGRlcml2ZWQgY2xhc3Nlc1xuICAgICAgICBzaXplID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIHRva2VuLmNvZGVcbiAgICAgICAgICAgIHdoZW4gXCJBXCIgIyBBbmltYXRpb25cbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSBSZWNvcmRNYW5hZ2VyLmFuaW1hdGlvbnNbTWF0aC5tYXgodG9rZW4udmFsdWUtMSwgMCldXG4gICAgICAgICAgICAgICAgaWYgYW5pbWF0aW9uPy5ncmFwaGljLm5hbWU/XG4gICAgICAgICAgICAgICAgICAgIGltYWdlQml0bWFwID0gUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7YW5pbWF0aW9uLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgaW1hZ2VCaXRtYXA/XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gd2lkdGg6IE1hdGgucm91bmQoaW1hZ2VCaXRtYXAud2lkdGggLyBhbmltYXRpb24uZnJhbWVzWCksIGhlaWdodDogTWF0aC5yb3VuZChpbWFnZUJpdG1hcC5oZWlnaHQgLyBhbmltYXRpb24uZnJhbWVzWSlcbiAgICAgICAgICAgIHdoZW4gXCJSVFwiICMgUnVieSBUZXh0XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBudWxsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgdG9rZW4ucnRTdHlsZUlkXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdWkuVUlNYW5hZ2VyLnN0eWxlc1tcInJ1YnlUZXh0LVwiK3Rva2VuLnJ0U3R5bGVJZF1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAhc3R5bGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSB1aS5VSU1hbmFnZXIuc3R5bGVzW1wicnVieVRleHRcIl1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9udCA9IHN0eWxlPy5mb250ID8gQGZvbnRcbiAgICAgICAgICAgICAgICBmcyA9IGZvbnQuc2l6ZVxuICAgICAgICAgICAgICAgIGZvbnQuc2l6ZSA9IGZvbnQuc2l6ZSB8fCBAZm9udC5zaXplIC8gMlxuICAgICAgICAgICAgICAgIHRva2VuLnJiU2l6ZSA9IEBmb250Lm1lYXN1cmVUZXh0UGxhaW4odG9rZW4ucmIpXG4gICAgICAgICAgICAgICAgdG9rZW4ucnRTaXplID0gZm9udC5tZWFzdXJlVGV4dFBsYWluKHRva2VuLnJ0KVxuICAgICAgICAgICAgICAgIGZvbnQuc2l6ZSA9IGZzXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2l6ZSA9IHdpZHRoOiBNYXRoLm1heCh0b2tlbi5yYlNpemUud2lkdGgsIHRva2VuLnJ0U2l6ZS53aWR0aCksIGhlaWdodDogdG9rZW4ucmJTaXplLmhlaWdodCArIHRva2VuLnJ0U2l6ZS5oZWlnaHRcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNpemVcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogPHA+RHJhd3MgdGhlIHZpc3VhbCByZXN1bHQgb2YgYSB0b2tlbiwgbGlrZSBhbiBpY29uIGZvciBleGFtcGxlLCB0byB0aGUgc3BlY2lmaWVkIGJpdG1hcC4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZvciBldmVyeSB0b2tlbiB3aGlsZSB0aGUgdGV4dCBpcyByZW5kZXJlZC48L3A+IFxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAqIEBwYXJhbSB7Z3MuQml0bWFwfSBiaXRtYXAgLSBUaGUgYml0bWFwIHVzZWQgZm9yIHRoZSBjdXJyZW50IHRleHQtbGluZS4gQ2FuIGJlIHVzZWQgdG8gZHJhdyBzb21ldGhpbmcgb24gaXQgbGlrZSBhbiBpY29uLCBldGMuXG4gICAgKiBAbWV0aG9kIGRyYXdDb250cm9sVG9rZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBkcmF3Q29udHJvbFRva2VuOiAodG9rZW4sIGJpdG1hcCkgLT5cbiAgICAgICAgc3dpdGNoIHRva2VuLmNvZGVcbiAgICAgICAgICAgIHdoZW4gXCJBXCIgIyBBbmltYXRpb25cbiAgICAgICAgICAgICAgICBhbmltYXRpb24gPSBSZWNvcmRNYW5hZ2VyLmFuaW1hdGlvbnNbTWF0aC5tYXgodG9rZW4udmFsdWUtMSwgMCldXG4gICAgICAgICAgICAgICAgaWYgYW5pbWF0aW9uPy5ncmFwaGljLm5hbWU/XG4gICAgICAgICAgICAgICAgICAgIGltYWdlQml0bWFwID0gUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7YW5pbWF0aW9uLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgaW1hZ2VCaXRtYXA/XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0ID0gbmV3IGdzLlJlY3QoMCwgMCwgTWF0aC5yb3VuZChpbWFnZUJpdG1hcC53aWR0aCAvIGFuaW1hdGlvbi5mcmFtZXNYKSwgTWF0aC5yb3VuZChpbWFnZUJpdG1hcC5oZWlnaHQgLyBhbmltYXRpb24uZnJhbWVzWSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXAuYmx0KEBjdXJyZW50WCwgQGN1cnJlbnRZLCBpbWFnZUJpdG1hcCwgcmVjdClcbiAgICAgICAgICAgIHdoZW4gXCJSVFwiIFxuICAgICAgICAgICAgICAgIHN0eWxlID0gbnVsbFxuICAgICAgICAgICAgICAgIGlmIHRva2VuLnJ0U3R5bGVJZFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHVpLlVJTWFuYWdlci5zdHlsZXNbXCJydWJ5VGV4dC1cIit0b2tlbi5ydFN0eWxlSWRdXG4gICAgICAgICAgICAgICAgaWYgIXN0eWxlXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gdWkuVUlNYW5hZ2VyLnN0eWxlc1tcInJ1YnlUZXh0XCJdXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvbnQgPSBzdHlsZT8uZm9udCA/IEBmb250XG4gICAgICAgICAgICAgICAgZnMgPSBmb250LnNpemVcbiAgICAgICAgICAgICAgICBmb250LnNpemUgPSBmb250LnNpemUgfHwgQGZvbnQuc2l6ZSAvIDJcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBzdHlsZSBhbmQgIXN0eWxlLmRlc2NyaXB0b3IuZm9udD8uY29sb3JcbiAgICAgICAgICAgICAgICAgICAgZm9udC5jb2xvci5zZXQoQGZvbnQuY29sb3IpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJpdG1hcC5mb250ID0gZm9udFxuICAgICAgICAgICAgICAgIGJpdG1hcC5kcmF3VGV4dChAY3VycmVudFgsIGJpdG1hcC5mb250LmRlc2NlbnQsIE1hdGgubWF4KHRva2VuLnJiU2l6ZS53aWR0aCwgdG9rZW4ucnRTaXplLndpZHRoKSwgYml0bWFwLmhlaWdodCwgdG9rZW4ucnQsIDEsIDApXG4gICAgICAgICAgICAgICAgYml0bWFwLmZvbnQgPSBAZm9udFxuICAgICAgICAgICAgICAgIGZvbnQuc2l6ZSA9IGZzXG4gICAgICAgICAgICAgICAgYml0bWFwLmRyYXdUZXh0KEBjdXJyZW50WCwgMCArIHRva2VuLnJ0U2l6ZS5oZWlnaHQsIE1hdGgubWF4KHRva2VuLnJiU2l6ZS53aWR0aCwgdG9rZW4ucnRTaXplLndpZHRoKSwgYml0bWFwLmhlaWdodCwgdG9rZW4ucmIsIDEsIDApXG4gICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyBhbiBhIG9mIGxpbmUtb2JqZWN0cy4gRWFjaCBsaW5lLW9iamVjdCBpcyBhIGxpc3Qgb2YgdG9rZW4tb2JqZWN0cy4gXG4gICAgKiBBIHRva2VuLW9iamVjdCBjYW4gYmUganVzdCBhIHN0cmluZyBvciBhbiBvYmplY3QgY29udGFpbmluZyBtb3JlIGluZm9ybWF0aW9uXG4gICAgKiBhYm91dCBob3cgdG8gcHJvY2VzcyB0aGUgdG9rZW4gYXQgcnVudGltZS5cbiAgICAqIFxuICAgICogQSBsaW5lLW9iamVjdCBhbHNvIGNvbnRhaW5zIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gbGlrZSB0aGUgd2lkdGggYW5kIGhlaWdodFxuICAgICogb2YgdGhlIGxpbmUoaW4gcGl4ZWxzKS5cbiAgICAqIFxuICAgICogSWYgdGhlIHdvcmRXcmFwIHBhcmFtIGlzIHNldCwgbGluZS1icmVha3MgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBpZiBhIGxpbmVcbiAgICAqIGRvZXNuJ3QgZml0IGludG8gdGhlIHdpZHRoIG9mIHRoZSBnYW1lIG9iamVjdCdzIGJpdG1hcC5cbiAgICAqIFxuICAgICogQG1ldGhvZCBjYWxjdWxhdGVMaW5lc1xuICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBBIG1lc3NhZ2UgY3JlYXRpbmcgdGhlIGxpbmUtb2JqZWN0cyBmb3IuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdvcmRXcmFwIC0gSWYgd29yZFdyYXAgaXMgc2V0IHRvIHRydWUsIGxpbmUtYnJlYWtzIGFyZSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW2ZpcnN0TGluZVdpZHRoPTBdIC0gVGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIGZpcnN0IGxpbmUuXG4gICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgbGluZS1vYmplY3RzLlxuICAgICMjI1xuICAgIGNhbGN1bGF0ZUxpbmVzOiAobWVzc2FnZSwgd29yZFdyYXAsIGZpcnN0TGluZVdpZHRoKSAtPlxuICAgICAgICByZXN1bHQgPSBbXVxuICAgICAgICBsaW5lID0gbmV3IGdzLlJlbmRlcmVyVGV4dExpbmUoKVxuICAgICAgICB3aWR0aCA9IGZpcnN0TGluZVdpZHRoIHx8IDBcbiAgICAgICAgaGVpZ2h0ID0gMFxuICAgICAgICBkZXNjZW50ID0gQGZvbnQuZGVzY2VudFxuICAgICAgICBjdXJyZW50V29yZHMgPSBbXVxuICAgICAgICBzaXplID0gbnVsbFxuICAgICAgICBAc3BhY2VTaXplID0gQGZvbnQubWVhc3VyZUNoYXIoXCIgXCIpXG4gICAgICAgIEBmb250U2l6ZSA9IEBmb250LnNpemVcbiAgICAgICAgXG4gICAgICAgIHRva2VucyA9IG1lc3NhZ2Uuc3BsaXQoL1xceyhbQS16XSspOihbXlxce1xcfV0rKVxcfXwoXFxuKS9nbSlcbiAgICAgICAgdG9rZW4gPSBudWxsXG4gICAgICAgIHQgPSAwXG4gICAgICAgIFxuICAgICAgICB1bmRlcmxpbmUgPSBAZm9udC51bmRlcmxpbmVcbiAgICAgICAgc3RyaWtlVGhyb3VnaCA9IEBmb250LnN0cmlrZVRocm91Z2hcbiAgICAgICAgaXRhbGljID0gQGZvbnQuaXRhbGljXG4gICAgICAgIGJvbGQgPSBAZm9udC5ib2xkXG4gICAgICAgIHNtYWxsQ2FwcyA9IEBmb250LnNtYWxsQ2Fwc1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgdCA8IHRva2Vucy5sZW5ndGhcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW3RdXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIHQgJSA0ICE9IDBcbiAgICAgICAgICAgICAgICBpZiB0b2tlbj9cbiAgICAgICAgICAgICAgICAgICAgdG9rZW5PYmplY3QgPSBAY3JlYXRlVG9rZW4odG9rZW4sIHRva2Vuc1t0KzFdKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgdG9rZW5PYmplY3QucHVzaD9cbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkodG9rZW5zLCBbdCszLCAwXS5jb25jYXQodG9rZW5PYmplY3QpKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIG5vdCB0b2tlbk9iamVjdC5jb2RlP1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zW3QrM10gPSB0b2tlbk9iamVjdCArIHRva2Vuc1t0KzNdXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBAbWVhc3VyZUNvbnRyb2xUb2tlbih0b2tlbk9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBzaXplLndpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBzaXplLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgICNkZXNjZW50ID0gTWF0aC5tYXgoQGZvbnQuZGVzY2VudCwgZGVzY2VudClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuY29udGVudC5wdXNoKHRva2VuT2JqZWN0KVxuICAgICAgICAgICAgICAgIGVsc2UgIyBNdXN0IGJlIGEgbmV3LWxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZS5oZWlnaHQgPSBoZWlnaHQgfHwgQGZvbnQubGluZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICBsaW5lLndpZHRoID0gd2lkdGhcbiAgICAgICAgICAgICAgICAgICAgbGluZS5kZXNjZW50ID0gZGVzY2VudFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsaW5lKVxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gbmV3IGdzLlJlbmRlcmVyVGV4dExpbmUoKVxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDBcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gMFxuICAgICAgICAgICAgICAgICAgICBkZXNjZW50ID0gQGZvbnQuZGVzY2VudFxuICAgICAgICAgICAgICAgIHQgKz0gMlxuICAgICAgICAgICAgZWxzZSBpZiB0b2tlbi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgd29yZHMgPSB0b2tlbi5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICBmb3Igd29yZCwgaSBpbiB3b3Jkc1xuICAgICAgICAgICAgICAgICAgICBzaXplID0gQGZvbnQubWVhc3VyZVRleHRQbGFpbih3b3JkKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gc2l6ZS53aWR0aCArIEBzcGFjZVNpemUud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggLSBAc3BhY2VTaXplLndpZHRoKSA+IEBvYmplY3QuZHN0UmVjdC53aWR0aCBhbmQgd29yZFdyYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuY29udGVudC5wdXNoKGN1cnJlbnRXb3Jkcy5qb2luKFwiIFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLndpZHRoID0gd2lkdGggLSBzaXplLndpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLmRlc2NlbnQgPSBkZXNjZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjZW50ID0gQGZvbnQuZGVzY2VudFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gc2l6ZS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gbmV3IGdzLlJlbmRlcmVyVGV4dExpbmUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRzID0gW3dvcmRdXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHdpZHRoIC0gKHdpZHRoIC0gc2l6ZS53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRzLnB1c2god29yZClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIEBmb250LmxpbmVIZWlnaHQpICAgIFxuICAgICAgICAgICAgICAgIGlmIGN1cnJlbnRXb3Jkcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuY29udGVudC5wdXNoKGN1cnJlbnRXb3Jkcy5qb2luKFwiIFwiKSlcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdvcmRzID0gW11cbiAgICAgICAgICAgIHQrK1xuICAgICAgICAgICAgXG4gICAgICAgIGlmIGxpbmUuY29udGVudC5sZW5ndGggPiAwXG4gICAgICAgICAgICBsaW5lLmhlaWdodCA9IGhlaWdodFxuICAgICAgICAgICAgbGluZS53aWR0aCA9IHdpZHRoXG4gICAgICAgICAgICBsaW5lLmRlc2NlbnQgPSBkZXNjZW50XG4gICAgICAgICAgICByZXN1bHQucHVzaChsaW5lKVxuICAgICAgIFxuICAgICAgICAgXG4gICAgICAgIEBmb250LnNpemUgPSBAZm9udFNpemUgIFxuICAgICAgICBAZm9udC51bmRlcmxpbmUgPSB1bmRlcmxpbmVcbiAgICAgICAgQGZvbnQuc3RyaWtlVGhyb3VnaCA9IHN0cmlrZVRocm91Z2hcbiAgICAgICAgQGZvbnQuaXRhbGljID0gaXRhbGljXG4gICAgICAgIEBmb250LmJvbGQgPSBib2xkXG4gICAgICAgIEBmb250LnNtYWxsQ2FwcyA9IHNtYWxsQ2Fwc1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIFxuICAgICMjIypcbiAgICAqIE5vdCBpbXBsZW1lbnRlZCB5ZXQuIFNob3VsZCBiZSByZW1vdmVkP1xuICAgICogQG1ldGhvZCBhbmFseXplRm9ybWF0dGVkVGV4dFxuICAgICMjI1xuICAgIGFuYWx5emVGb3JtYXR0ZWRUZXh0OiAodGV4dCwgd29yZFdyYXApIC0+XG4gICAgICAgIGxpbmVzID0gQGNhbGN1bGF0ZUxpbmVzKHRleHQsIHdvcmRXcmFwKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBNZWFzdXJlcyB0aGUgZGltZW5zaW9ucyBvZiBhIGZvcm1hdHRlZCB0ZXh0IGluIHBpeGVscy4gVGhlIHJlc3VsdCBpcyBub3RcbiAgICAqIHBpeGVsLXBlcmZlY3QuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgbWVhc3VyZUZvcm1hdHRlZFRleHRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd29yZFdyYXAgLSBJZiB3b3JkV3JhcCBpcyBzZXQgdG8gdHJ1ZSwgYXV0b21hdGljYWxseSBjcmVhdGVkIGxpbmUtYnJlYWtzIHdpbGwgYmUgY2FsY3VsYXRlZC5cbiAgICAqIEByZXN1bHQge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgIyMjXG4gICAgbWVhc3VyZUZvcm1hdHRlZFRleHQ6ICh0ZXh0LCB3b3JkV3JhcCkgLT5cbiAgICAgICAgQGZvbnQuc2V0KEBvYmplY3QuZm9udClcbiAgICAgICAgc2l6ZSA9IHdpZHRoOiAwLCBoZWlnaHQ6IDBcbiAgICAgICAgbGluZXMgPSBAY2FsY3VsYXRlTGluZXModGV4dCwgd29yZFdyYXApXG4gICAgICAgIFxuICAgICAgICBmb3IgbGluZSBpbiBsaW5lc1xuICAgICAgICAgICAgIyBGSVhNRTogV2h5IHdlIG5lZWQgdG8gYWRkICsyPyBDYW4gYmUgcmVtb3ZlZD9cbiAgICAgICAgICAgIHNpemUud2lkdGggPSBNYXRoLm1heChsaW5lLndpZHRoKzIsIHNpemUud2lkdGgpXG4gICAgICAgICAgICBzaXplLmhlaWdodCArPSBsaW5lLmhlaWdodFxuXG4gICAgICAgIHJldHVybiBzaXplXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIE1lYXN1cmVzIHRoZSBkaW1lbnNpb25zIG9mIGEgcGxhaW4gdGV4dCBpbiBwaXhlbHMuIEZvcm1hdHRpbmcgYW5kXG4gICAgKiB3b3JkLXdyYXBwaW5nIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICpcbiAgICAqIEBtZXRob2QgbWVhc3VyZVRleHRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAqIEByZXN1bHQge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgIyMjXG4gICAgbWVhc3VyZVRleHQ6ICh0ZXh0KSAtPlxuICAgICAgICBzaXplID0gd2lkdGg6IDAsIGhlaWdodDogMFxuICAgICAgICBsaW5lcyA9IHRleHQudG9TdHJpbmcoKS5zcGxpdChcIlxcblwiKVxuXG4gICAgICAgIGZvciBsaW5lIGluIGxpbmVzXG4gICAgICAgICAgICBsaW5lU2l6ZSA9IEBvYmplY3QuZm9udC5tZWFzdXJlVGV4dCh0ZXh0KVxuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IE1hdGgubWF4KHNpemUud2lkdGgsIGxpbmVTaXplLndpZHRoKVxuICAgICAgICAgICAgc2l6ZS5oZWlnaHQgKz0gQG9iamVjdC5mb250LmxpbmVIZWlnaHRcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gc2l6ZVxuICAgIFxuICAgICMjIypcbiAgICAqIFNlYXJjaGVzIGZvciBhIHRva2VuIGluIGEgbGlzdCBvZiB0b2tlbnMgYW5kIHJldHVybnMgdGhlIGZpcnN0IG1hdGNoLlxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZFRva2VuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCBpbiB0aGUgbGlzdCBvZiB0b2tlbnMgd2hlcmUgdGhlIHNlYXJjaCB3aWxsIHN0YXJ0LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgLSBUaGUgY29kZSBvZiB0aGUgdG9rZW4gdG8gc2VhcmNoIGZvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gLSBUaGUgc2VhcmNoIGRpcmVjdGlvbiwgY2FuIGJlIGZvcndhcmQoMSkgb3IgYmFja3dhcmQoLTEpLlxuICAgICogQHBhcmFtIHtPYmplY3RbXX0gdG9rZW5zIC0gVGhlIGxpc3Qgb2YgdG9rZW5zIHRvIHNlYXJjaC5cbiAgICAqIEByZXN1bHQge09iamVjdH0gVGhlIGZpcnN0IHRva2VuIHdoaWNoIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBjb2RlIG9yIDxiPm51bGw8L2I+IGlmIHRoZSB0b2tlbiBjYW5ub3QgYmUgZm91bmQuXG4gICAgIyMjICBcbiAgICBmaW5kVG9rZW46IChzdGFydEluZGV4LCBjb2RlLCBkaXJlY3Rpb24sIHRva2VucykgLT5cbiAgICAgICAgdG9rZW4gPSBudWxsXG4gICAgICAgIGkgPSBzdGFydEluZGV4XG4gICAgICAgIGlmIGRpcmVjdGlvbiA9PSAtMVxuICAgICAgICAgICAgd2hpbGUgaSA+PSAwXG4gICAgICAgICAgICAgICAgdCA9IHRva2Vuc1tpXVxuICAgICAgICAgICAgICAgIGlmIHQuY29kZSA9PSBjb2RlXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gdFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGktLVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRva2VuXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNlYXJjaGVzIGZvciBhIHNwZWNpZmljIGtpbmQgb2YgdG9rZW5zIGJldHdlZW4gYSBzdGFydCBhbmQgYW4gZW5kIHRva2VuLlxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZFRva2Vuc0JldHdlZW5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHdoZXJlIHRoZSBzZWFyY2ggd2lsbCBzdGFydC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleCAtIFRoZSBpbmRleCB3aGVyZSB0aGUgc2VhcmNoIHdpbGwgZW5kLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgLSBUaGUgY29kZSBvZiB0aGUgdG9rZW4tdHlwZSB0byBzZWFyY2ggZm9yLlxuICAgICogQHBhcmFtIHtPYmplY3RbXX0gdG9rZW5zIC0gVGhlIGxpc3Qgb2YgdG9rZW5zIHRvIHNlYXJjaC5cbiAgICAqIEByZXN1bHQge09iamVjdFtdfSBMaXN0IG9mIHRva2VucyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGNvZGUuIEl0cyBhbiBlbXB0eSBsaXN0IGlmIG5vIHRva2VucyB3ZXJlIGZvdW5kLlxuICAgICMjIyAgICAgXG4gICAgZmluZFRva2Vuc0JldHdlZW46IChzdGFydEluZGV4LCBlbmRJbmRleCwgY29kZSwgdG9rZW5zKSAtPlxuICAgICAgICByZXN1bHQgPSBbXVxuICAgICAgICBzID0gc3RhcnRJbmRleFxuICAgICAgICBlID0gZW5kSW5kZXhcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIHMgPCBlXG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tzXVxuICAgICAgICAgICAgaWYgYHRva2VuLmNvZGUgPT0gY29kZWBcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0b2tlbilcbiAgICAgICAgICAgIHMrK1xuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogUHJvY2Vzc2VzIGEgY29udHJvbC10b2tlbi4gQSBjb250cm9sLXRva2VuIGlzIGEgdG9rZW4gd2hpY2ggaW5mbHVlbmNlc1xuICAgICogdGhlIHRleHQtcmVuZGVyaW5nIGxpa2UgY2hhbmdpbmcgdGhlIGZvbnRzIGNvbG9yLCBzaXplIG9yIHN0eWxlLlxuICAgICpcbiAgICAqIENoYW5nZXMgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgdG8gdGhlIGdhbWUgb2JqZWN0J3MgZm9udC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByb2Nlc3NDb250cm9sVG9rZW5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAjIyNcbiAgICBwcm9jZXNzQ29udHJvbFRva2VuOiAodG9rZW4pIC0+XG4gICAgICAgIHN3aXRjaCB0b2tlbi5jb2RlXG4gICAgICAgICAgICB3aGVuIFwiU1pcIlxuICAgICAgICAgICAgICAgIEBvYmplY3QuZm9udC5zaXplID0gdG9rZW4udmFsdWUgfHwgQGZvbnRTaXplXG4gICAgICAgICAgICB3aGVuIFwiQ1wiXG4gICAgICAgICAgICAgICAgaWYgdG9rZW4udmFsdWUgPD0gMFxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmZvbnQuY29sb3IgPSBGb250LmRlZmF1bHRDb2xvclxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5mb250LmNvbG9yID0gUmVjb3JkTWFuYWdlci5zeXN0ZW0uY29sb3JzW3Rva2VuLnZhbHVlLTFdIHx8IEZvbnQuZGVmYXVsdENvbG9yXG4gICAgICAgICAgICB3aGVuIFwiWVwiXG4gICAgICAgICAgICAgICAgc3dpdGNoIHRva2VuLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gXCJVXCIgdGhlbiBAb2JqZWN0LmZvbnQudW5kZXJsaW5lID0geWVzXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gXCJTXCIgdGhlbiBAb2JqZWN0LmZvbnQuc3RyaWtlVGhyb3VnaCA9IHllc1xuICAgICAgICAgICAgICAgICAgICB3aGVuIFwiSVwiIHRoZW4gQG9iamVjdC5mb250Lml0YWxpYyA9IHllc1xuICAgICAgICAgICAgICAgICAgICB3aGVuIFwiQlwiIHRoZW4gQG9iamVjdC5mb250LmJvbGQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgd2hlbiBcIkNcIiB0aGVuIEBvYmplY3QuZm9udC5zbWFsbENhcHMgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgd2hlbiBcIk5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5mb250LnVuZGVybGluZSA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmZvbnQuc3RyaWtlVGhyb3VnaCA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmZvbnQuaXRhbGljID0gbm9cbiAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZm9udC5ib2xkID0gbm9cbiAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZm9udC5zbWFsbENhcHMgPSBub1xuICAgICMjIypcbiAgICAqIERyYXdzIGEgcGxhaW4gdGV4dC4gRm9ybWF0dGluZyBhbmQgd29yZC13cmFwcGluZyBhcmUgbm90IHN1cHBvcnRlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRyYXdUZXh0XG4gICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHRleHQncyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGV4dCdzIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gRGVwcmVjYXRlZC4gQ2FuIGJlIG51bGwuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gRGVwcmVjYXRlZC4gQ2FuIGJlIG51bGwuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXcuXG4gICAgIyMjXG4gICAgZHJhd1RleHQ6ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCB0ZXh0KSAtPlxuICAgICAgICBsaW5lcyA9IHRleHQudG9TdHJpbmcoKS5zcGxpdChcIlxcblwiKVxuICAgICAgICBmb250ID0gQG9iamVjdC5mb250XG4gICAgICAgIGhlaWdodCA9IGZvbnQubGluZUhlaWdodFxuICAgICAgICBcbiAgICAgICAgZm9yIGxpbmUsIGkgaW4gbGluZXNcbiAgICAgICAgICAgIHNpemUgPSBmb250Lm1lYXN1cmVUZXh0KGxpbmUpXG4gICAgICAgICAgICBAb2JqZWN0LmJpdG1hcC5kcmF3VGV4dCgwLCBpICogaGVpZ2h0LCBzaXplLndpZHRoLCBoZWlnaHQsIGxpbmUsIDAsIDApXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIERyYXdzIGEgZm9ybWF0dGVkIHRleHQuIFxuICAgICogSWYgdGhlIHdvcmRXcmFwIHBhcmFtIGlzIHNldCwgbGluZS1icmVha3MgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBpZiBhIGxpbmVcbiAgICAqIGRvZXNuJ3QgZml0IGludG8gdGhlIHdpZHRoIG9mIHRoZSBnYW1lIG9iamVjdCdzIGJpdG1hcC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRyYXdGb3JtYXR0ZWRUZXh0XG4gICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHRleHQncyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGV4dCdzIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gRGVwcmVjYXRlZC4gQ2FuIGJlIG51bGwuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gRGVwcmVjYXRlZC4gQ2FuIGJlIG51bGwuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXcuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdvcmRXcmFwIC0gSWYgd29yZFdyYXAgaXMgc2V0IHRvIHRydWUsIGxpbmUtYnJlYWtzIGFyZSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQuXG4gICAgIyMjXG4gICAgZHJhd0Zvcm1hdHRlZFRleHQ6ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCB0ZXh0LCB3b3JkV3JhcCkgLT5cbiAgICAgICAgbGluZXMgPSBAY2FsY3VsYXRlTGluZXModGV4dC50b1N0cmluZygpLCB3b3JkV3JhcClcbiAgICAgICAgQGN1cnJlbnRYID0gMFxuICAgICAgICBAY3VycmVudFkgPSAwXG4gICAgICAgIEBjdXJyZW50TGluZUhlaWdodCA9IDBcblxuICAgICAgICBmb3IgbGluZSBpbiBsaW5lc1xuICAgICAgICAgICAgZm9yIHRva2VuIGluIGxpbmUuY29udGVudFxuICAgICAgICAgICAgICAgIGlmIHRva2VuLmNvZGU/XG4gICAgICAgICAgICAgICAgICAgIEBwcm9jZXNzQ29udHJvbFRva2VuKHRva2VuKVxuICAgICAgICAgICAgICAgICAgICBzaXplID0gQG1lYXN1cmVDb250cm9sVG9rZW4odG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIGlmIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgIEBkcmF3Q29udHJvbFRva2VuKHRva2VuLCBAb2JqZWN0LmJpdG1hcClcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjdXJyZW50WCArPSBzaXplLndpZHRoXG4gICAgICAgICAgICAgICAgZWxzZSBpZiB0b2tlbi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgIGZvbnQgPSBAb2JqZWN0LmZvbnRcbiAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGZvbnQubWVhc3VyZVRleHRQbGFpbih0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gbGluZS5oZWlnaHRcblxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmJpdG1hcC5kcmF3VGV4dChAY3VycmVudFgsIEBjdXJyZW50WSArIGhlaWdodCAtIHNpemUuaGVpZ2h0ICsgZm9udC5kZXNjZW50IC0gbGluZS5kZXNjZW50LCBzaXplLndpZHRoLCBoZWlnaHQsIHRva2VuLCAwLCAwKVxuICAgICAgICAgICAgICAgICAgICBAY3VycmVudFggKz0gc2l6ZS53aWR0aFxuICAgICAgICAgICAgICAgICAgICBAY3VycmVudExpbmVIZWlnaHQgPSBNYXRoLm1heChAY3VycmVudExpbmVIZWlnaHQsIGhlaWdodClcbiAgICAgICAgICAgIEBjdXJyZW50WSArPSBAY3VycmVudExpbmVIZWlnaHQgfHwgQG9iamVjdC5mb250LmxpbmVIZWlnaHRcbiAgICAgICAgICAgIEBjdXJyZW50WCA9IDBcbiAgICAgICAgICAgIEBjdXJyZW50TGluZUhlaWdodCA9IDBcbiAgICAgICAgXG5ncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyID0gQ29tcG9uZW50X1RleHRSZW5kZXJlciJdfQ==
//# sourceURL=Component_TextRenderer_107.js

/**
* An enumeration of game message modes.
*
* ADV - Adventure Mode
* NVL - Novel Mode
*
* @typedef MessageMode
* @memberof vn
 */
var Component_MessageBehavior, MessageMode,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

MessageMode = (function() {
  function MessageMode() {}

  MessageMode.ADV = 0;

  MessageMode.NVL = 1;

  return MessageMode;

})();

vn.MessageMode = MessageMode;

Component_MessageBehavior = (function(superClass) {
  extend(Component_MessageBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_MessageBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A behavior-component to define the behavior of a game-message.
  *
  * @module vn
  * @class Component_MessageBehavior
  * @extends gs.Component
  * @memberof vn
  * @constructor
   */

  function Component_MessageBehavior() {

    /**
    * Reference to game settings.
    * @property settings
    * @type Object
    * @protected
     */
    this.settings = GameManager.settings;

    /**
    * Reference to temporary game settings.
    * @property settings
    * @type Object
    * @protected
     */
    this.tempSettings = GameManager.tempSettings;

    /**
    * Indicates if the message is currently waiting.
    * @property isWaiting
    * @type boolean
    * @readOnly
     */
    this.isWaiting = false;

    /**
    * Indicates if the message is currently running.
    * @property isRunning
    * @type boolean
    * @readOnly
     */
    this.isRunning = false;

    /**
    * Indicates if a voice is currently playing together with the message.
    * @property isVoicePlaying
    * @type boolean
    * @readOnly
     */
    this.isVoicePlaying = false;

    /**
    * Current message caret/cursor position.
    * @property caretPosition
    * @type gs.Point
    * @readOnly
     */
    this.caretPosition = new gs.Point(0, 0);

    /**
    * Current raw message text.
    * @property message
    * @type string
    * @readOnly
     */
    this.message = "";

    /**
    * All currently displayed raw messages.
    * @property messages
    * @type string[]
    * @readOnly
     */
    this.messages = [];

    /**
    * Voice associated with the current message.
    * @property voice
    * @type gs.AudioBufferReference
     */
    this.voice = null;

    /**
    * Indicates if current message is partial. DEPRECATED. Please do not use.
    * @property partial
    * @deprecated
    * @type boolean
    * @readOnly
     */
    this.partial = false;

    /**
    * Indicates if the message is currently waiting in live-preview.
    * @property waitingPreview
    * @type boolean
    * @readOnly
     */
    this.waitingPreview = false;
    this.onMessageFinish = (function(_this) {
      return function(sender) {
        if (!_this.partial) {
          _this.message = "";
        }
        return _this.object.events.emit("finish", _this);
      };
    })(this);
    this.onMessageWaiting = (function(_this) {
      return function(sender) {
        if (!_this.object.textRenderer.isBatched() || !_this.object.textRenderer.isBatchInProgress()) {
          _this.object.textRenderer.waitAtEnd = !_this.partial;
          return _this.object.events.emit("waiting", _this);
        }
      };
    })(this);
  }


  /**
  * Adds event-handlers
  *
  * @method setupEventHandlers
   */

  Component_MessageBehavior.prototype.setupEventHandlers = function() {
    this.object.events.offByOwner("messageFinish", this);
    this.object.events.offByOwner("messageWaiting", this);
    this.object.events.on("messageFinish", gs.CallBack("onMessageFinish", this));
    this.object.events.on("messageWaiting", gs.CallBack("onMessageWaiting", this));
    gs.GlobalEventManager.offByOwner("previewWaiting", this);
    gs.GlobalEventManager.offByOwner("previewRestart", this);
    gs.GlobalEventManager.on("previewWaiting", ((function(_this) {
      return function(sender) {
        return _this.waitingPreview = true;
      };
    })(this)), null, this);
    return gs.GlobalEventManager.on("previewRestart", ((function(_this) {
      return function(sender) {
        return _this.waitingPreview = false;
      };
    })(this)), null, this);
  };


  /**
  * Setup the component. Adds event handlers.
  *
  * @method setup
   */

  Component_MessageBehavior.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Disposes the component.
  *
  * @method toDataBundle
   */

  Component_MessageBehavior.prototype.dispose = function() {
    Component_MessageBehavior.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("previewWaiting", this);
    return gs.GlobalEventManager.offByOwner("previewRestart", this);
  };


  /**
  * Not implemented yet.
  *
  * @method toDataBundle
   */

  Component_MessageBehavior.prototype.toDataBundle = function() {};


  /**
  * Not implemented yet.
  *
  * @method restore
  * @param {Object} bundle - A data bundle.
   */

  Component_MessageBehavior.prototype.restore = function(bundle) {};


  /**
  * Action to show a game message.
  *
  * @method showMessage
  * @param {Object} sender - The sender of this action.
  * @param {Object} params - An object containing the necessary parameters.
   */

  Component_MessageBehavior.prototype.showMessage = function(sender, params) {
    this.partial = params.partial;
    this.message += lcsm(params.message);
    this.addMessage(params.message, null, false, !this.partial);
    if (this.object.textRenderer.isBatched()) {
      return this.object.textRenderer.waitAtEnd = true;
    } else {
      return this.object.textRenderer.waitAtEnd = !this.partial;
    }
  };


  /**
  * Deprecated. Not longer used.
  *
  * @method updateBitmap
   */

  Component_MessageBehavior.prototype.updateBitmap = function() {
    var ref;
    if (!this.object.bitmap || this.object.bitmap.width !== this.object.dstRect.width || this.object.bitmap.height !== this.object.dstRect.height) {
      if ((ref = this.object.bitmap) != null) {
        ref.dispose();
      }
      this.object.bitmap = new Bitmap(this.object.dstRect.width, this.object.dstRect.height);
      return this.object.bitmap.font = this.object.font;
    }
  };


  /**
  * Restores a NVL game message of an array of message-objects. That is
  * necessary to restore a NVL game message from a save-game.
  *
  * @method restoreMessages
  * @param {Array} messages - An array of messages to restore.
   */

  Component_MessageBehavior.prototype.restoreMessages = function(messages) {
    var i, len, message, ref, ref1;
    this.updateBitmap();
    this.clear();
    this.object.opacity = 255;
    this.object.srcRect = new Rect(0, 0, this.object.dstRect.width, this.object.dstRect.height);
    for (i = 0, len = messages.length; i < len; i++) {
      message = messages[i];
      this.object.font.color = new Color(((ref = message.character) != null ? ref.textColor : void 0) || Color.WHITE);
      this.object.textRenderer.drawFormattedTextImmediately(0, 0, this.object.dstRect.width, this.object.dstRect.height, lcsm((ref1 = message.text) != null ? ref1 : message), true);
    }
    return null;
  };


  /**
  * Adds a new message.
  * 
  * @method addMessage
  * @param {string} message - The message.
  * @param {Object} character - Database-Record of a character.
  * @param {boolean} newLine - Indicates if the message should make a line break.
   */

  Component_MessageBehavior.prototype.addMessage = function(message, character, newLine, waitAtEnd) {
    this.object.textRenderer.partialMessage = null;
    this.object.offset = {
      x: 0,
      y: 0
    };
    this.object.visible = true;
    GameManager.messages.push({
      text: message,
      character: character
    });
    this.object.textRenderer.waitAtEnd = waitAtEnd;
    if (newLine) {
      this.object.textRenderer.newLine();
    }
    this.updateBitmap();
    if (character != null) {
      this.object.font.color = new Color((character != null ? character.textColor : void 0) || Color.WHITE);
    }
    this.object.opacity = 255;
    this.object.srcRect = new Rect(0, 0, this.object.dstRect.width, this.object.dstRect.height);
    this.update();
    return this.object.textRenderer.drawFormattedText(0, 0, this.object.dstRect.width, this.object.dstRect.height, message, true);
  };


  /**
  * Clears the game message by deleting/clearing all messages.
  *
  * @method clear
   */

  Component_MessageBehavior.prototype.clear = function() {
    this.object.textRenderer.clear();
    return GameManager.messages = [];
  };


  /**
  * Closes the game message by making it invisible.
  *
  * @method close
   */

  Component_MessageBehavior.prototype.close = function() {
    return this.object.visible = false;
  };


  /**
  * Gets the duration of an associated voice or 0 if no voice is associated.
  *
  * @method voiceDuration
  * @return {number} The duration in frames.
   */

  Component_MessageBehavior.prototype.voiceDuration = function() {
    var duration;
    duration = 0;
    if ((this.voice != null) && (this.settings.autoMessage.waitForVoice || this.settings.timeMessageToVoice)) {
      duration = Math.round((this.voice.source.buffer.duration * this.voice.source.playbackRate.value) * 1000 / 16.6);
    } else {
      duration = 0;
    }
    if (this.tempSettings.skip) {
      return 1;
    } else {
      return duration;
    }
  };


  /**
  * Gets the duration of rendering the game-message.
  *
  * @method messageDuration
  * @return {number} The duration in frames.
   */

  Component_MessageBehavior.prototype.messageDuration = function() {
    var duration;
    duration = this.object.textRenderer.calculateDuration();
    if (this.tempSettings.skip) {
      return 1;
    } else {
      return duration;
    }
  };


  /**
  * Gets the time between two messages in auto-read mode.
  *
  * @method autoMessageTime
  * @return {number} The time in frames.
   */

  Component_MessageBehavior.prototype.autoMessageTime = function() {
    if (this.tempSettings.skip) {
      return 1;
    } else {
      return Math.max(Math.round(this.settings.autoMessage.time * Graphics.frameRate), this.voiceDuration() - this.messageDuration());
    }
  };


  /**
  * Gets the current message speed.
  *
  * @method messageSpeed
  * @return {number} The message speed.
   */

  Component_MessageBehavior.prototype.messageSpeed = function() {
    return 10 - Math.round(GameManager.settings.messageSpeed * 2.5);
  };


  /**
  * Checks if a mouse-button or key was pressed to continue with the message-rendering.
  *
  * @method actionTrigger
  * @return {boolean} If true, the an action-button or action-key is pressed.
   */

  Component_MessageBehavior.prototype.actionTrigger = function() {
    return (gs.ObjectManager.current.input && this.object.visible && this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y) && Input.Mouse.buttons[Input.Mouse.LEFT] === 2) || Input.trigger(Input.C);
  };

  Component_MessageBehavior.prototype.finish = function() {
    this.object.character = null;
    if ((this.object.voice != null) && GameManager.settings.skipVoiceOnAction) {
      return AudioManager.stopSound(this.object.voice.name);
    }
  };

  Component_MessageBehavior.prototype.erase = function() {
    var duration, fading;
    fading = GameManager.tempSettings.messageFading;
    duration = GameManager.tempSettings.skip ? 0 : fading.duration;
    return this.object.animator.disappear(fading.animation, fading.easing, duration, (function(_this) {
      return function() {
        SceneManager.scene.currentCharacter = {
          name: ""
        };
        _this.clear();
        return _this.object.visible = false;
      };
    })(this));
  };


  /**
  * FIXME: Deprecated? It is also a re-definition of gs.Component_Visual.updateOrigin.
  *
  * @method updateOrigin
   */

  Component_MessageBehavior.prototype.updateOrigin = function() {
    var ox, oy, p;
    ox = 0;
    oy = 0;
    if ((this.object.parent != null) && (this.object.parent.dstRect != null)) {
      p = this.object.parent;
      while ((p != null) && (p.dstRect != null)) {
        ox += p.dstRect.x;
        oy += p.dstRect.y;
        p = p.parent;
      }
    }
    this.object.origin.x = ox;
    return this.object.origin.y = oy;
  };


  /**
  * Updates the object. 
  *
  * @method updateObject
  * @private
   */

  Component_MessageBehavior.prototype.updateObject = function() {
    this.updateOrigin();
    if (this.tempSettings.skip && !this.waitingPreview) {
      return this.object.textRenderer.isWaiting = false;
    }
  };


  /**
  * Updates the message.
  *
  * @method updateMessage
  * @private
   */

  Component_MessageBehavior.prototype.updateMessage = function() {
    var ref;
    this.caretPosition = this.object.textRenderer.caretPosition();
    if (this.tempSettings.skip && (this.settings.allowSkipUnreadMessages || ((ref = GameManager.globalData.messages[this.message]) != null ? ref.read : void 0))) {
      this.object.textRenderer.drawImmediately = true;
      this.object.textRenderer.waitAtEnd = this.waitingPreview;
      return this.object.textRenderer.waitAtEndTime = 0;
    } else {
      this.object.textRenderer.drawImmedialty = false;
      this.updateSpeed();
      return this.updateAutoMessage();
    }
  };


  /**
  * Updates the speed of the message. That depends on game-settings if a message
  * is timed to its voice or not.
  *
  * @method updateSpeed
  * @private
   */

  Component_MessageBehavior.prototype.updateSpeed = function() {
    var voiceDuration;
    voiceDuration = this.voiceDuration();
    if (voiceDuration > 0 && this.settings.timeMessageToVoice) {
      return this.object.textRenderer.speed = voiceDuration / this.message.length;
    } else {
      return this.object.textRenderer.speed = this.messageSpeed();
    }
  };


  /**
  * Update auto-read mode.
  *
  * @method updateAutoMessage
  * @private
   */

  Component_MessageBehavior.prototype.updateAutoMessage = function() {
    if (this.settings.autoMessage.stopOnAction && this.actionTrigger()) {
      this.settings.autoMessage.enabled = false;
    }
    if (this.settings.autoMessage.enabled && !this.partial) {
      if (this.object.textRenderer.waitAtEnd) {
        this.object.textRenderer.isWaiting = false;
      }
      this.object.textRenderer.waitAtEndTime = this.autoMessageTime();
      return this.object.textRenderer.waitAtEnd = false;
    } else {
      return this.object.textRenderer.waitAtEndTime = 0;
    }
  };


  /*
  * Updates the game message behavior
  *
  * @method update
   */

  Component_MessageBehavior.prototype.update = function() {
    var ref, ref1, ref2, ref3, ref4, ref5;
    this.object.needsUpdate = true;
    this.updateObject();
    this.updateMessage();
    if (this.character !== this.object.character) {
      gs.GlobalEventManager.emit("talkingEnded", this, {
        character: this.character
      });
      this.character = this.object.character;
    }
    if (this.object.textRenderer.isWaiting !== this.isWaiting || this.object.textRenderer.isRunning !== this.isRunning || (((ref = this.voice) != null ? ref.playing : void 0) && (!((ref1 = this.object.character) != null ? ref1.timeTalkingToVoiceVolume : void 0) || this.voice.averageVolume > this.object.character.talkingVolume)) !== this.isVoicePlaying) {
      this.isWaiting = this.object.textRenderer.isWaiting;
      this.isRunning = this.object.textRenderer.isRunning;
      this.isVoicePlaying = ((ref2 = this.voice) != null ? ref2.playing : void 0) && (!((ref3 = this.object.character) != null ? ref3.timeTalkingToVoiceVolume : void 0) || this.voice.averageVolume > this.object.character.talkingVolume);
      if (!this.tempSettings.skip) {
        if ((ref4 = this.voice) != null ? ref4.playing : void 0) {
          if (!this.isVoicePlaying) {
            gs.GlobalEventManager.emit("talkingEnded", this, {
              character: this.object.character
            });
          } else {
            gs.GlobalEventManager.emit("talkingStarted", this, {
              character: this.object.character
            });
          }
        } else {
          if (this.isWaiting) {
            gs.GlobalEventManager.emit("talkingEnded", this, {
              character: this.object.character
            });
          } else if (this.isRunning) {
            gs.GlobalEventManager.emit("talkingStarted", this, {
              character: this.object.character
            });
          }
        }
      }
    }
    if ((this.object.layoutRect != null) && (((ref5 = this.object.parent) != null ? ref5.dstRect : void 0) != null)) {
      if (this.object.layoutRect.x) {
        this.object.dstRect.x = this.object.layoutRect.x(this.object.parent.dstRect.width);
      }
      if (this.object.layoutRect.y) {
        this.object.dstRect.y = this.object.layoutRect.y(this.object.parent.dstRect.height);
      }
      if (this.object.layoutRect.width) {
        this.object.dstRect.width = this.object.layoutRect.width(this.object.parent.dstRect.width);
      }
      if (this.object.layoutRect.height) {
        return this.object.dstRect.height = this.object.layoutRect.height(this.object.parent.dstRect.height);
      }
    }
  };

  return Component_MessageBehavior;

})(gs.Component);

vn.Component_MessageBehavior = Component_MessageBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFPQTs7Ozs7Ozs7O0FBQUEsSUFBQSxzQ0FBQTtFQUFBOzs7QUFTTTs7O0VBQ0YsV0FBQyxDQUFBLEdBQUQsR0FBTzs7RUFDUCxXQUFDLENBQUEsR0FBRCxHQUFPOzs7Ozs7QUFFWCxFQUFFLENBQUMsV0FBSCxHQUFpQjs7QUFHWDs7OztBQUNGOzs7Ozs7Ozs7c0NBUUEsbUJBQUEsR0FBcUIsU0FBQyxJQUFELEVBQU8sT0FBUDtXQUNqQixJQUFDLENBQUEsa0JBQUQsQ0FBQTtFQURpQjs7O0FBR3JCOzs7Ozs7Ozs7O0VBU2EsbUNBQUE7O0FBQ1Q7Ozs7OztJQU1BLElBQUMsQ0FBQSxRQUFELEdBQVksV0FBVyxDQUFDOztBQUN4Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsV0FBVyxDQUFDOztBQUU1Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGNBQUQsR0FBa0I7O0FBRWxCOzs7Ozs7SUFNQSxJQUFDLENBQUEsYUFBRCxHQUFxQixJQUFBLEVBQUUsQ0FBQyxLQUFILENBQVMsQ0FBVCxFQUFZLENBQVo7O0FBRXJCOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7Ozs7SUFNQSxJQUFDLENBQUEsY0FBRCxHQUFrQjtJQUVsQixJQUFDLENBQUEsZUFBRCxHQUFtQixDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUMsTUFBRDtRQUNmLElBQUcsQ0FBQyxLQUFDLENBQUEsT0FBTDtVQUNJLEtBQUMsQ0FBQSxPQUFELEdBQVcs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QyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBbkIsQ0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQTVDLEVBQWpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBdEI7UUFBNkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBbkIsQ0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQTVDLEVBQWpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBdEI7UUFBaUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBaEIsR0FBd0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBbkIsQ0FBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQWhELEVBQXpEOztNQUNBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBdEI7ZUFBa0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBbkIsQ0FBMEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWpELEVBQTNEO09BSko7O0VBMUJJOzs7O0dBM2E0QixFQUFFLENBQUM7O0FBMGMzQyxFQUFFLENBQUMseUJBQUgsR0FBK0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9NZXNzYWdlQmVoYXZpb3JcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiMjIypcbiogQW4gZW51bWVyYXRpb24gb2YgZ2FtZSBtZXNzYWdlIG1vZGVzLlxuKlxuKiBBRFYgLSBBZHZlbnR1cmUgTW9kZVxuKiBOVkwgLSBOb3ZlbCBNb2RlXG4qXG4qIEB0eXBlZGVmIE1lc3NhZ2VNb2RlXG4qIEBtZW1iZXJvZiB2blxuIyMjXG5jbGFzcyBNZXNzYWdlTW9kZVxuICAgIEBBRFYgPSAwXG4gICAgQE5WTCA9IDFcbiAgICBcbnZuLk1lc3NhZ2VNb2RlID0gTWVzc2FnZU1vZGVcblxuXG5jbGFzcyBDb21wb25lbnRfTWVzc2FnZUJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGJlaGF2aW9yLWNvbXBvbmVudCB0byBkZWZpbmUgdGhlIGJlaGF2aW9yIG9mIGEgZ2FtZS1tZXNzYWdlLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdm5cbiAgICAqIEBjbGFzcyBDb21wb25lbnRfTWVzc2FnZUJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiB2blxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBSZWZlcmVuY2UgdG8gZ2FtZSBzZXR0aW5ncy5cbiAgICAgICAgKiBAcHJvcGVydHkgc2V0dGluZ3NcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAc2V0dGluZ3MgPSBHYW1lTWFuYWdlci5zZXR0aW5nc1xuICAgICAgICAjIyMqXG4gICAgICAgICogUmVmZXJlbmNlIHRvIHRlbXBvcmFyeSBnYW1lIHNldHRpbmdzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzZXR0aW5nc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZW1wU2V0dGluZ3MgPSBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3NcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY3VycmVudGx5IHdhaXRpbmcuXG4gICAgICAgICogQHByb3BlcnR5IGlzV2FpdGluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWVzc2FnZSBpcyBjdXJyZW50bHkgcnVubmluZy5cbiAgICAgICAgKiBAcHJvcGVydHkgaXNSdW5uaW5nXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIGEgdm9pY2UgaXMgY3VycmVudGx5IHBsYXlpbmcgdG9nZXRoZXIgd2l0aCB0aGUgbWVzc2FnZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaXNWb2ljZVBsYXlpbmdcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAaXNWb2ljZVBsYXlpbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1cnJlbnQgbWVzc2FnZSBjYXJldC9jdXJzb3IgcG9zaXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGNhcmV0UG9zaXRpb25cbiAgICAgICAgKiBAdHlwZSBncy5Qb2ludFxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQGNhcmV0UG9zaXRpb24gPSBuZXcgZ3MuUG9pbnQoMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDdXJyZW50IHJhdyBtZXNzYWdlIHRleHQuXG4gICAgICAgICogQHByb3BlcnR5IG1lc3NhZ2VcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBtZXNzYWdlID0gXCJcIlxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFsbCBjdXJyZW50bHkgZGlzcGxheWVkIHJhdyBtZXNzYWdlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgbWVzc2FnZXNcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQG1lc3NhZ2VzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBWb2ljZSBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbWVzc2FnZS5cbiAgICAgICAgKiBAcHJvcGVydHkgdm9pY2VcbiAgICAgICAgKiBAdHlwZSBncy5BdWRpb0J1ZmZlclJlZmVyZW5jZVxuICAgICAgICAjIyNcbiAgICAgICAgQHZvaWNlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiBjdXJyZW50IG1lc3NhZ2UgaXMgcGFydGlhbC4gREVQUkVDQVRFRC4gUGxlYXNlIGRvIG5vdCB1c2UuXG4gICAgICAgICogQHByb3BlcnR5IHBhcnRpYWxcbiAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBwYXJ0aWFsID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY3VycmVudGx5IHdhaXRpbmcgaW4gbGl2ZS1wcmV2aWV3LlxuICAgICAgICAqIEBwcm9wZXJ0eSB3YWl0aW5nUHJldmlld1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0aW5nUHJldmlldyA9IG5vXG4gICAgICBcbiAgICAgICAgQG9uTWVzc2FnZUZpbmlzaCA9IChzZW5kZXIpID0+XG4gICAgICAgICAgICBpZiAhQHBhcnRpYWxcbiAgICAgICAgICAgICAgICBAbWVzc2FnZSA9IFwiXCJcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzLmVtaXQgXCJmaW5pc2hcIiwgdGhpc1xuICAgICAgICAgICAgXG4gICAgICAgIEBvbk1lc3NhZ2VXYWl0aW5nID0gKHNlbmRlcikgPT5cbiAgICAgICAgICAgIGlmICFAb2JqZWN0LnRleHRSZW5kZXJlci5pc0JhdGNoZWQoKSBvciAhQG9iamVjdC50ZXh0UmVuZGVyZXIuaXNCYXRjaEluUHJvZ3Jlc3MoKVxuICAgICAgICAgICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLndhaXRBdEVuZCA9ICFAcGFydGlhbFxuICAgICAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzLmVtaXQgXCJ3YWl0aW5nXCIsIHRoaXNcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBAb2JqZWN0LmV2ZW50cy5vZmZCeU93bmVyKFwibWVzc2FnZUZpbmlzaFwiLCB0aGlzKVxuICAgICAgICBAb2JqZWN0LmV2ZW50cy5vZmZCeU93bmVyKFwibWVzc2FnZVdhaXRpbmdcIiwgdGhpcylcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuZXZlbnRzLm9uIFwibWVzc2FnZUZpbmlzaFwiLCBncy5DYWxsQmFjayhcIm9uTWVzc2FnZUZpbmlzaFwiLCB0aGlzKVxuICAgICAgICBAb2JqZWN0LmV2ZW50cy5vbiBcIm1lc3NhZ2VXYWl0aW5nXCIsIGdzLkNhbGxCYWNrKFwib25NZXNzYWdlV2FpdGluZ1wiLCB0aGlzKVxuICAgICAgICAgICAgXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwicHJldmlld1dhaXRpbmdcIiwgdGhpcylcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJwcmV2aWV3UmVzdGFydFwiLCB0aGlzKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJwcmV2aWV3V2FpdGluZ1wiLCAoKHNlbmRlcikgPT5cbiAgICAgICAgICAgIEB3YWl0aW5nUHJldmlldyA9IHllc1xuICAgICAgICApLCBudWxsLCB0aGlzXG4gICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJwcmV2aWV3UmVzdGFydFwiLCAoKHNlbmRlcikgPT5cbiAgICAgICAgICAgIEB3YWl0aW5nUHJldmlldyA9IG5vXG4gICAgICAgICksIG51bGwsIHRoaXNcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0dXAgdGhlIGNvbXBvbmVudC4gQWRkcyBldmVudCBoYW5kbGVycy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgY29tcG9uZW50LlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjICAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwicHJldmlld1dhaXRpbmdcIiwgdGhpcylcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJwcmV2aWV3UmVzdGFydFwiLCB0aGlzKVxuICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIE5vdCBpbXBsZW1lbnRlZCB5ZXQuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAjIyNcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgIyMjKlxuICAgICogTm90IGltcGxlbWVudGVkIHlldC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBidW5kbGUgLSBBIGRhdGEgYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICByZXN0b3JlOiAoYnVuZGxlKSAtPlxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gdG8gc2hvdyBhIGdhbWUgbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNob3dNZXNzYWdlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gc2VuZGVyIC0gVGhlIHNlbmRlciBvZiB0aGlzIGFjdGlvbi5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IHBhcmFtZXRlcnMuXG4gICAgIyMjXG4gICAgc2hvd01lc3NhZ2U6IChzZW5kZXIsIHBhcmFtcykgLT5cbiAgICAgICAgQHBhcnRpYWwgPSBwYXJhbXMucGFydGlhbFxuICAgICAgICBAbWVzc2FnZSArPSBsY3NtKHBhcmFtcy5tZXNzYWdlKVxuICAgICAgICBcbiAgICAgICAgQGFkZE1lc3NhZ2UocGFyYW1zLm1lc3NhZ2UsIG51bGwsIG5vLCAhQHBhcnRpYWwpXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnRleHRSZW5kZXJlci5pc0JhdGNoZWQoKVxuICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIud2FpdEF0RW5kID0geWVzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLndhaXRBdEVuZCA9ICFAcGFydGlhbFxuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERlcHJlY2F0ZWQuIE5vdCBsb25nZXIgdXNlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUJpdG1hcFxuICAgICMjI1xuICAgIHVwZGF0ZUJpdG1hcDogLT5cbiAgICAgICAgaWYgIUBvYmplY3QuYml0bWFwIG9yIEBvYmplY3QuYml0bWFwLndpZHRoICE9IEBvYmplY3QuZHN0UmVjdC53aWR0aCBvciBAb2JqZWN0LmJpdG1hcC5oZWlnaHQgIT0gQG9iamVjdC5kc3RSZWN0LmhlaWdodFxuICAgICAgICAgICAgQG9iamVjdC5iaXRtYXA/LmRpc3Bvc2UoKVxuICAgICAgICAgICAgQG9iamVjdC5iaXRtYXAgPSBuZXcgQml0bWFwKEBvYmplY3QuZHN0UmVjdC53aWR0aCwgQG9iamVjdC5kc3RSZWN0LmhlaWdodClcbiAgICAgICAgICAgIEBvYmplY3QuYml0bWFwLmZvbnQgPSBAb2JqZWN0LmZvbnRcbiAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyBhIE5WTCBnYW1lIG1lc3NhZ2Ugb2YgYW4gYXJyYXkgb2YgbWVzc2FnZS1vYmplY3RzLiBUaGF0IGlzXG4gICAgKiBuZWNlc3NhcnkgdG8gcmVzdG9yZSBhIE5WTCBnYW1lIG1lc3NhZ2UgZnJvbSBhIHNhdmUtZ2FtZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVNZXNzYWdlc1xuICAgICogQHBhcmFtIHtBcnJheX0gbWVzc2FnZXMgLSBBbiBhcnJheSBvZiBtZXNzYWdlcyB0byByZXN0b3JlLlxuICAgICMjI1xuICAgIHJlc3RvcmVNZXNzYWdlczogKG1lc3NhZ2VzKSAtPlxuICAgICAgICBAdXBkYXRlQml0bWFwKClcbiAgICAgICAgQGNsZWFyKClcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3Qub3BhY2l0eSA9IDI1NVxuICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQpXG4gICAgICAgIFxuICAgICAgICBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlc1xuICAgICAgICAgICAgQG9iamVjdC5mb250LmNvbG9yID0gbmV3IENvbG9yKG1lc3NhZ2UuY2hhcmFjdGVyPy50ZXh0Q29sb3IgfHwgQ29sb3IuV0hJVEUpXG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5kcmF3Rm9ybWF0dGVkVGV4dEltbWVkaWF0ZWx5KDAsIDAsIEBvYmplY3QuZHN0UmVjdC53aWR0aCwgQG9iamVjdC5kc3RSZWN0LmhlaWdodCwgbGNzbShtZXNzYWdlLnRleHQgPyBtZXNzYWdlKSwgeWVzKVxuXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgYSBuZXcgbWVzc2FnZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCBhZGRNZXNzYWdlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGNoYXJhY3RlciAtIERhdGFiYXNlLVJlY29yZCBvZiBhIGNoYXJhY3Rlci5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmV3TGluZSAtIEluZGljYXRlcyBpZiB0aGUgbWVzc2FnZSBzaG91bGQgbWFrZSBhIGxpbmUgYnJlYWsuXG4gICAgIyMjXG4gICAgYWRkTWVzc2FnZTogKG1lc3NhZ2UsIGNoYXJhY3RlciwgbmV3TGluZSwgd2FpdEF0RW5kKSAtPlxuICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5wYXJ0aWFsTWVzc2FnZSA9IG51bGxcbiAgICAgICAgQG9iamVjdC5vZmZzZXQgPSB4OiAwLCB5OiAwXG4gICAgICAgIEBvYmplY3QudmlzaWJsZSA9IHllc1xuICAgICAgICBcbiAgICAgICAgR2FtZU1hbmFnZXIubWVzc2FnZXMucHVzaCh7IHRleHQ6IG1lc3NhZ2UsIGNoYXJhY3RlcjogY2hhcmFjdGVyfSlcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLndhaXRBdEVuZCA9IHdhaXRBdEVuZFxuICAgICAgICBpZiBuZXdMaW5lXG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5uZXdMaW5lKClcbiAgICAgICAgQHVwZGF0ZUJpdG1hcCgpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgY2hhcmFjdGVyP1xuICAgICAgICAgICAgQG9iamVjdC5mb250LmNvbG9yID0gbmV3IENvbG9yKGNoYXJhY3Rlcj8udGV4dENvbG9yIHx8IENvbG9yLldISVRFKVxuICAgICAgICAgICAgXG4gICAgICAgIEBvYmplY3Qub3BhY2l0eSA9IDI1NVxuICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQpXG4gICAgIFxuICAgICAgICBAdXBkYXRlKClcbiAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIuZHJhd0Zvcm1hdHRlZFRleHQoMCwgMCwgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0LCBtZXNzYWdlLCB5ZXMpXG5cbiAgICAjIyMqXG4gICAgKiBDbGVhcnMgdGhlIGdhbWUgbWVzc2FnZSBieSBkZWxldGluZy9jbGVhcmluZyBhbGwgbWVzc2FnZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBjbGVhclxuICAgICMjI1xuICAgIGNsZWFyOiAtPiBcbiAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIuY2xlYXIoKVxuICAgICAgICBHYW1lTWFuYWdlci5tZXNzYWdlcyA9IFtdXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENsb3NlcyB0aGUgZ2FtZSBtZXNzYWdlIGJ5IG1ha2luZyBpdCBpbnZpc2libGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBjbG9zZVxuICAgICMjI1xuICAgIGNsb3NlOiAtPiBcbiAgICAgICAgQG9iamVjdC52aXNpYmxlID0gbm9cbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBkdXJhdGlvbiBvZiBhbiBhc3NvY2lhdGVkIHZvaWNlIG9yIDAgaWYgbm8gdm9pY2UgaXMgYXNzb2NpYXRlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHZvaWNlRHVyYXRpb25cbiAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAjIyNcbiAgICB2b2ljZUR1cmF0aW9uOiAtPlxuICAgICAgICBkdXJhdGlvbiA9IDBcbiAgICAgICAgaWYgQHZvaWNlPyBhbmQgKEBzZXR0aW5ncy5hdXRvTWVzc2FnZS53YWl0Rm9yVm9pY2Ugb3IgQHNldHRpbmdzLnRpbWVNZXNzYWdlVG9Wb2ljZSlcbiAgICAgICAgICAgIGR1cmF0aW9uID0gTWF0aC5yb3VuZCgoQHZvaWNlLnNvdXJjZS5idWZmZXIuZHVyYXRpb24gKiBAdm9pY2Uuc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZSkgKiAxMDAwIC8gMTYuNilcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZHVyYXRpb24gPSAwXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGlmIEB0ZW1wU2V0dGluZ3Muc2tpcCB0aGVuIDEgZWxzZSBkdXJhdGlvblxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBkdXJhdGlvbiBvZiByZW5kZXJpbmcgdGhlIGdhbWUtbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1lc3NhZ2VEdXJhdGlvblxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICMjI1xuICAgIG1lc3NhZ2VEdXJhdGlvbjogLT4gXG4gICAgICAgIGR1cmF0aW9uID0gQG9iamVjdC50ZXh0UmVuZGVyZXIuY2FsY3VsYXRlRHVyYXRpb24oKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGlmIEB0ZW1wU2V0dGluZ3Muc2tpcCB0aGVuIDEgZWxzZSBkdXJhdGlvblxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSB0aW1lIGJldHdlZW4gdHdvIG1lc3NhZ2VzIGluIGF1dG8tcmVhZCBtb2RlLlxuICAgICpcbiAgICAqIEBtZXRob2QgYXV0b01lc3NhZ2VUaW1lXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSB0aW1lIGluIGZyYW1lcy5cbiAgICAjIyNcbiAgICBhdXRvTWVzc2FnZVRpbWU6IC0+IFxuICAgICAgICBpZiBAdGVtcFNldHRpbmdzLnNraXBcbiAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLnJvdW5kKEBzZXR0aW5ncy5hdXRvTWVzc2FnZS50aW1lICogR3JhcGhpY3MuZnJhbWVSYXRlKSwgQHZvaWNlRHVyYXRpb24oKSAtIEBtZXNzYWdlRHVyYXRpb24oKSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IG1lc3NhZ2Ugc3BlZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBtZXNzYWdlU3BlZWRcbiAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG1lc3NhZ2Ugc3BlZWQuXG4gICAgIyMjXG4gICAgbWVzc2FnZVNwZWVkOiAtPiAxMCAtIE1hdGgucm91bmQoR2FtZU1hbmFnZXIuc2V0dGluZ3MubWVzc2FnZVNwZWVkICogMi41KVxuICAgIFxuICAgICMjIypcbiAgICAqIENoZWNrcyBpZiBhIG1vdXNlLWJ1dHRvbiBvciBrZXkgd2FzIHByZXNzZWQgdG8gY29udGludWUgd2l0aCB0aGUgbWVzc2FnZS1yZW5kZXJpbmcuXG4gICAgKlxuICAgICogQG1ldGhvZCBhY3Rpb25UcmlnZ2VyXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0cnVlLCB0aGUgYW4gYWN0aW9uLWJ1dHRvbiBvciBhY3Rpb24ta2V5IGlzIHByZXNzZWQuXG4gICAgIyMjXG4gICAgYWN0aW9uVHJpZ2dlcjogLT4gKGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5pbnB1dCBhbmQgQG9iamVjdC52aXNpYmxlIGFuZCBAb2JqZWN0LmRzdFJlY3QuY29udGFpbnMoSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KSBhbmQgSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAyKSBvciBJbnB1dC50cmlnZ2VyKElucHV0LkMpXG4gICAgXG4gICAgZmluaXNoOiAtPlxuICAgICAgICBAb2JqZWN0LmNoYXJhY3RlciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Qudm9pY2U/IGFuZCBHYW1lTWFuYWdlci5zZXR0aW5ncy5za2lwVm9pY2VPbkFjdGlvblxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BTb3VuZChAb2JqZWN0LnZvaWNlLm5hbWUpXG4gICAgXG4gICAgZXJhc2U6IC0+XG4gICAgICAgIGZhZGluZyA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5tZXNzYWdlRmFkaW5nXG4gICAgICAgIGR1cmF0aW9uID0gaWYgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgdGhlbiAwIGVsc2UgZmFkaW5nLmR1cmF0aW9uXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LmFuaW1hdG9yLmRpc2FwcGVhcihmYWRpbmcuYW5pbWF0aW9uLCBmYWRpbmcuZWFzaW5nLCBkdXJhdGlvbiwgPT5cbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS5jdXJyZW50Q2hhcmFjdGVyID0geyBuYW1lOiBcIlwiIH1cbiAgICAgICAgICAgIEBjbGVhcigpXG4gICAgICAgICAgICBAb2JqZWN0LnZpc2libGUgPSBub1xuICAgICAgICApXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEZJWE1FOiBEZXByZWNhdGVkPyBJdCBpcyBhbHNvIGEgcmUtZGVmaW5pdGlvbiBvZiBncy5Db21wb25lbnRfVmlzdWFsLnVwZGF0ZU9yaWdpbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU9yaWdpblxuICAgICMjI1xuICAgIHVwZGF0ZU9yaWdpbjogLT5cbiAgICAgICAgb3ggPSAwXG4gICAgICAgIG95ID0gMFxuICAgICAgICBpZiBAb2JqZWN0LnBhcmVudD8gYW5kIEBvYmplY3QucGFyZW50LmRzdFJlY3Q/XG4gICAgICAgICAgICBwID0gQG9iamVjdC5wYXJlbnRcbiAgICAgICAgICAgIHdoaWxlIHA/IGFuZCBwLmRzdFJlY3Q/XG4gICAgICAgICAgICAgICAgb3ggKz0gcC5kc3RSZWN0LnhcbiAgICAgICAgICAgICAgICBveSArPSBwLmRzdFJlY3QueVxuICAgICAgICAgICAgICAgIHAgPSBwLnBhcmVudFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgQG9iamVjdC5vcmlnaW4ueCA9IG94XG4gICAgICAgIEBvYmplY3Qub3JpZ2luLnkgPSBveVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvYmplY3QuIFxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlT2JqZWN0XG4gICAgKiBAcHJpdmF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZU9iamVjdDogLT5cbiAgICAgICAgQHVwZGF0ZU9yaWdpbigpXG4gICAgICAgIFxuICAgICAgICBpZiBAdGVtcFNldHRpbmdzLnNraXAgYW5kIG5vdCBAd2FpdGluZ1ByZXZpZXdcbiAgICAgICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLmlzV2FpdGluZyA9IG5vXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU1lc3NhZ2VcbiAgICAqIEBwcml2YXRlXG4gICAgIyMjXG4gICAgdXBkYXRlTWVzc2FnZTogLT5cbiAgICAgICAgQGNhcmV0UG9zaXRpb24gPSBAb2JqZWN0LnRleHRSZW5kZXJlci5jYXJldFBvc2l0aW9uKClcbiAgICAgICAgXG4gICAgICAgIGlmIEB0ZW1wU2V0dGluZ3Muc2tpcCBhbmQgKEBzZXR0aW5ncy5hbGxvd1NraXBVbnJlYWRNZXNzYWdlcyBvciBHYW1lTWFuYWdlci5nbG9iYWxEYXRhLm1lc3NhZ2VzW0BtZXNzYWdlXT8ucmVhZClcbiAgICAgICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLmRyYXdJbW1lZGlhdGVseSA9IHllc1xuICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIud2FpdEF0RW5kID0gQHdhaXRpbmdQcmV2aWV3XG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci53YWl0QXRFbmRUaW1lID0gMFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5kcmF3SW1tZWRpYWx0eSA9IG5vXG4gICAgICAgICAgICBAdXBkYXRlU3BlZWQoKVxuICAgICAgICAgICAgQHVwZGF0ZUF1dG9NZXNzYWdlKClcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHNwZWVkIG9mIHRoZSBtZXNzYWdlLiBUaGF0IGRlcGVuZHMgb24gZ2FtZS1zZXR0aW5ncyBpZiBhIG1lc3NhZ2VcbiAgICAqIGlzIHRpbWVkIHRvIGl0cyB2b2ljZSBvciBub3QuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVTcGVlZFxuICAgICogQHByaXZhdGVcbiAgICAjIyNcbiAgICB1cGRhdGVTcGVlZDogLT5cbiAgICAgICAgdm9pY2VEdXJhdGlvbiA9IEB2b2ljZUR1cmF0aW9uKClcbiAgICAgICAgaWYgdm9pY2VEdXJhdGlvbiA+IDAgYW5kIEBzZXR0aW5ncy50aW1lTWVzc2FnZVRvVm9pY2VcbiAgICAgICAgICAgIEBvYmplY3QudGV4dFJlbmRlcmVyLnNwZWVkID0gdm9pY2VEdXJhdGlvbiAvIEBtZXNzYWdlLmxlbmd0aFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5zcGVlZCA9IEBtZXNzYWdlU3BlZWQoKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlIGF1dG8tcmVhZCBtb2RlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQXV0b01lc3NhZ2VcbiAgICAqIEBwcml2YXRlXG4gICAgIyMjXG4gICAgdXBkYXRlQXV0b01lc3NhZ2U6IC0+XG4gICAgICAgIGlmIEBzZXR0aW5ncy5hdXRvTWVzc2FnZS5zdG9wT25BY3Rpb24gYW5kIEBhY3Rpb25UcmlnZ2VyKClcbiAgICAgICAgICAgIEBzZXR0aW5ncy5hdXRvTWVzc2FnZS5lbmFibGVkID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAc2V0dGluZ3MuYXV0b01lc3NhZ2UuZW5hYmxlZCBhbmQgbm90IEBwYXJ0aWFsXG4gICAgICAgICAgICBpZiBAb2JqZWN0LnRleHRSZW5kZXJlci53YWl0QXRFbmRcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5pc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIud2FpdEF0RW5kVGltZSA9IEBhdXRvTWVzc2FnZVRpbWUoKVxuICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIud2FpdEF0RW5kID0gbm9cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgI0BvYmplY3QudGV4dFJlbmRlcmVyLndhaXRBdEVuZCA9IHllc1xuICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIud2FpdEF0RW5kVGltZSA9IDBcbiAgICAgICAgICAgIFxuICAgICMjI1xuICAgICogVXBkYXRlcyB0aGUgZ2FtZSBtZXNzYWdlIGJlaGF2aW9yXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgQHVwZGF0ZU9iamVjdCgpXG4gICAgICAgIEB1cGRhdGVNZXNzYWdlKClcbiAgICAgICAgXG4gICAgICAgIGlmIEBjaGFyYWN0ZXIgIT0gQG9iamVjdC5jaGFyYWN0ZXIgICBcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwidGFsa2luZ0VuZGVkXCIsIHRoaXMsIGNoYXJhY3RlcjogQGNoYXJhY3RlcilcbiAgICAgICAgICAgIEBjaGFyYWN0ZXIgPSBAb2JqZWN0LmNoYXJhY3RlclxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QudGV4dFJlbmRlcmVyLmlzV2FpdGluZyAhPSBAaXNXYWl0aW5nIG9yIEBvYmplY3QudGV4dFJlbmRlcmVyLmlzUnVubmluZyAhPSBAaXNSdW5uaW5nIG9yIChAdm9pY2U/LnBsYXlpbmcgJiYgKCFAb2JqZWN0LmNoYXJhY3Rlcj8udGltZVRhbGtpbmdUb1ZvaWNlVm9sdW1lIG9yIEB2b2ljZS5hdmVyYWdlVm9sdW1lID4gQG9iamVjdC5jaGFyYWN0ZXIudGFsa2luZ1ZvbHVtZSkpICE9IEBpc1ZvaWNlUGxheWluZ1xuICAgICAgICAgICAgQGlzV2FpdGluZyA9IEBvYmplY3QudGV4dFJlbmRlcmVyLmlzV2FpdGluZ1xuICAgICAgICAgICAgQGlzUnVubmluZyA9IEBvYmplY3QudGV4dFJlbmRlcmVyLmlzUnVubmluZ1xuICAgICAgICAgICAgQGlzVm9pY2VQbGF5aW5nID0gKEB2b2ljZT8ucGxheWluZyAmJiAoIUBvYmplY3QuY2hhcmFjdGVyPy50aW1lVGFsa2luZ1RvVm9pY2VWb2x1bWUgb3IgQHZvaWNlLmF2ZXJhZ2VWb2x1bWUgPiBAb2JqZWN0LmNoYXJhY3Rlci50YWxraW5nVm9sdW1lKSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgbm90IEB0ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgICAgIGlmIEB2b2ljZT8ucGxheWluZ1xuICAgICAgICAgICAgICAgICAgICBpZiBub3QgQGlzVm9pY2VQbGF5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcInRhbGtpbmdFbmRlZFwiLCB0aGlzLCBjaGFyYWN0ZXI6IEBvYmplY3QuY2hhcmFjdGVyKVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcInRhbGtpbmdTdGFydGVkXCIsIHRoaXMsIGNoYXJhY3RlcjogQG9iamVjdC5jaGFyYWN0ZXIpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpZiBAaXNXYWl0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcInRhbGtpbmdFbmRlZFwiLCB0aGlzLCBjaGFyYWN0ZXI6IEBvYmplY3QuY2hhcmFjdGVyKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIEBpc1J1bm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwidGFsa2luZ1N0YXJ0ZWRcIiwgdGhpcywgY2hhcmFjdGVyOiBAb2JqZWN0LmNoYXJhY3RlcilcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QubGF5b3V0UmVjdD8gYW5kIEBvYmplY3QucGFyZW50Py5kc3RSZWN0P1xuICAgICAgICAgICAgaWYgQG9iamVjdC5sYXlvdXRSZWN0LnggdGhlbiBAb2JqZWN0LmRzdFJlY3QueCA9IEBvYmplY3QubGF5b3V0UmVjdC54KEBvYmplY3QucGFyZW50LmRzdFJlY3Qud2lkdGgpXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmxheW91dFJlY3QueSB0aGVuIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC5sYXlvdXRSZWN0LnkoQG9iamVjdC5wYXJlbnQuZHN0UmVjdC5oZWlnaHQpXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmxheW91dFJlY3Qud2lkdGggdGhlbiBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LmxheW91dFJlY3Qud2lkdGgoQG9iamVjdC5wYXJlbnQuZHN0UmVjdC53aWR0aClcbiAgICAgICAgICAgIGlmIEBvYmplY3QubGF5b3V0UmVjdC5oZWlnaHQgdGhlbiBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQG9iamVjdC5sYXlvdXRSZWN0LmhlaWdodChAb2JqZWN0LnBhcmVudC5kc3RSZWN0LmhlaWdodClcbnZuLkNvbXBvbmVudF9NZXNzYWdlQmVoYXZpb3IgPSBDb21wb25lbnRfTWVzc2FnZUJlaGF2aW9yIl19
//# sourceURL=Component_MessageBehavior_119.js
var Component_MessageTextRenderer,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_MessageTextRenderer = (function(superClass) {
  extend(Component_MessageTextRenderer, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_MessageTextRenderer.prototype.onDataBundleRestore = function(data, context) {
    var bitmap, i, j, len, line, ref;
    this.setupEventHandlers();
    debugger;
    if (this.message) {
      this.lines = this.calculateLines(lcsm(this.message), true, 0);
      ref = this.lines;
      for (i = j = 0, len = ref.length; j < len; i = ++j) {
        line = ref[i];
        bitmap = this.createBitmap(line);
        this.sprites[i].bitmap = bitmap;
      }
    }
    return null;
  };


  /**
  *  A text-renderer component to render an animated and interactive message text using
  *  dimensions of the game object's destination-rectangle. The message is displayed
  *  using a sprite for each line instead of drawing to the game object's bitmap object.
  *
  *  @module gs
  *  @class Component_MessageTextRenderer
  *  @extends gs.Component_TextRenderer
  *  @memberof gs
  *  @constructor
   */

  function Component_MessageTextRenderer() {
    Component_MessageTextRenderer.__super__.constructor.apply(this, arguments);

    /**
    * An array containing all sprites of the current message.
    * @property sprites
    * @type gs.Sprite[]
    * @protected
     */
    this.sprites = [];

    /**
    * An array containing all sprites of all messages. In NVL mode
    * a page can contain multiple messages.
    * @property allSprites
    * @type gs.Sprite[]
    * @protected
     */
    this.allSprites = [];

    /**
    * An array containing all line-objects of the current message.
    * @property lines
    * @type gs.TextRendererLine[]
    * @readOnly
     */
    this.lines = null;

    /**
    * The line currently rendered.
    * @property line
    * @type number
    * @readOnly
     */
    this.line = 0;

    /**
    * The line currently rendered.
    * @property currentLine
    * @type number
    * @protected
     */
    this.currentLine = 0;

    /**
    * The height of the line currently rendered.
    * @property currentLineHeight
    * @type number
    * @protected
     */
    this.currentLineHeight = 0;

    /**
    * Index of the current character to draw.
    * @property charIndex
    * @type number
    * @readOnly
     */
    this.charIndex = 0;

    /**
    * Indicates that the a message is currently in progress.
    * @property isRunning
    * @type boolean
    * @readOnly
     */
    this.isRunning = false;

    /**
    * The current x-coordinate of the caret/cursor.
    * @property currentX
    * @type number
    * @readOnly
     */
    this.currentX = 0;

    /**
    * The current y-coordinate of the caret/cursor.
    * @property currentY
    * @type number
    * @readOnly
     */
    this.currentY = 0;

    /**
    * The current sprites used to display the current text-line/part.
    * @property currentSprite
    * @type gs.Sprite
    * @readOnly
     */
    this.currentSprite = null;

    /**
    * Indicates if the message-renderer is currently waiting like for a user-action.
    * @property isWaiting
    * @type boolean
    * @readOnly
     */
    this.isWaiting = false;

    /**
    * Indicates if the message-renderer is currently waiting for a key-press or mouse/touch action.
    * @property waitForKey
    * @type boolean
    * @readOnly
     */
    this.waitForKey = false;

    /**
    * Number of frames the message-renderer should wait before continue.
    * @property waitCounter
    * @type number
     */
    this.waitCounter = 0;

    /**
    * Speed of the message-drawing. The smaller the value, the faster the message is displayed.
    * @property speed
    * @type number
     */
    this.speed = 1;

    /**
    * Indicates if the message should be rendered immedialtely without any animation or delay.
    * @property drawImmediately
    * @type boolean
     */
    this.drawImmediately = false;

    /**
    * Indicates if the message should wait for a user-action or a certain amount of time
    * before finishing.
    * @property waitAtEnd
    * @type boolean
     */
    this.waitAtEnd = true;

    /**
    * The number of frames to wait before finishing a message.
    * before finishing.
    * @property waitAtEndTime
    * @type number
     */
    this.waitAtEndTime = 0;

    /**
    * Indicates if auto word-wrap should be used. Default is <b>true</b>
    * @property wordWrap
    * @type boolean
     */
    this.wordWrap = true;

    /**
    * Custom message speed value coming from a text-code.
    * before finishing.
    * @property wordWrap
    * @type boolean
     */
    this.customSpeed = 0;

    /**
    * Custom game objects which are alive until the current message is erased. Can be used to display
    * animated icons, etc.
    * @property customObjects
    * @type gs.Object_Base[]
     */
    this.customObjects = [];

    /**
    * A hashtable/dictionary object to store custom-data useful like for token-processing. The data must be
    * serializable.
    * @property customObjects
    * @type Object
     */
    this.customData = {};
  }


  /**
  * Serializes the message text-renderer into a data-bundle.
  * @method toDataBundle
  * @return {Object} A data-bundle.
   */

  Component_MessageTextRenderer.prototype.toDataBundle = function() {
    var bundle, ignore, k;
    ignore = ["object", "font", "sprites", "allSprites", "currentSprite", "currentX"];
    bundle = {
      currentSpriteIndex: this.sprites.indexOf(this.currentSprite)
    };
    for (k in this) {
      if (ignore.indexOf(k) === -1) {
        bundle[k] = this[k];
      }
    }
    return bundle;
  };


  /**
  * Disposes the message text-renderer and all sprites used to display
  * the message.
  * @method dispose
   */

  Component_MessageTextRenderer.prototype.dispose = function() {
    var j, len, ref, ref1, results, sprite;
    Component_MessageTextRenderer.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    ref = this.allSprites;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      sprite = ref[j];
      if ((ref1 = sprite.bitmap) != null) {
        ref1.dispose();
      }
      results.push(sprite.dispose());
    }
    return results;
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_MessageTextRenderer.prototype.setupEventHandlers = function() {
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    gs.GlobalEventManager.on("mouseUp", ((function(_this) {
      return function(e) {
        if (_this.object.dstRect.contains(Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y)) {
          if (_this.isWaiting && !(_this.waitCounter > 0 || _this.waitForKey)) {
            e.breakChain = true;
            _this["continue"]();
          } else {
            _this.drawImmediately = true;
            _this.waitCounter = 0;
            _this.waitForKey = false;
            _this.isWaiting = false;
          }
          if (_this.waitForKey) {
            if (Input.Mouse.buttons[Input.Mouse.LEFT] === 2) {
              e.breakChain = true;
              Input.clear();
              _this.waitForKey = false;
              return _this.isWaiting = false;
            }
          }
        }
      };
    })(this)), null, this.object);
    return gs.GlobalEventManager.on("keyUp", ((function(_this) {
      return function(e) {
        if (Input.keys[Input.C] && !_this.isWaiting || (_this.waitCounter > 0 || _this.waitForKey)) {
          _this.drawImmediately = true;
          _this.waitCounter = 0;
          _this.waitForKey = false;
          _this.isWaiting = false;
        }
        if (_this.isWaiting && !_this.waitForKey && !_this.waitCounter && Input.keys[Input.C]) {
          _this["continue"]();
        }
        if (_this.waitForKey) {
          if (Input.keys[Input.C]) {
            Input.clear();
            _this.waitForKey = false;
            return _this.isWaiting = false;
          }
        }
      };
    })(this)), null, this.object);
  };


  /**
  * Sets up the renderer. Registers necessary event handlers.
  * @method setup
   */

  Component_MessageTextRenderer.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Restores the message text-renderer's state from a data-bundle.
  * @method restore
  * @param {Object} bundle - A data-bundle containing message text-renderer state.
   */

  Component_MessageTextRenderer.prototype.restore = function(bundle) {
    var k;
    for (k in bundle) {
      if (k === "currentSpriteIndex") {
        this.currentSprite = this.sprites[bundle.currentSpriteIndex];
      } else {
        this[k] = bundle[k];
      }
    }
    if (this.sprites.length > 0) {
      this.currentY = this.sprites.last().y - this.object.origin.y - this.object.dstRect.y;
      this.line = this.maxLines;
      this.isWaiting = this.isWaiting || this.isRunning;
    }
    return null;
  };


  /**
  * Continues message-processing if currently waiting.
  * @method continue
   */

  Component_MessageTextRenderer.prototype["continue"] = function() {
    var ref, ref1;
    Input.clear();
    this.isWaiting = false;
    if (this.line >= this.lines.length) {
      this.isRunning = false;
      return (ref = this.object.events) != null ? ref.emit("messageFinish", this) : void 0;
    } else {
      if ((ref1 = this.object.events) != null) {
        ref1.emit("messageBatch", this);
      }
      return this.executeBatch();
    }
  };


  /**
  * Updates the text-renderer.
  * @method update
   */

  Component_MessageTextRenderer.prototype.update = function() {
    var j, l, len, len1, object, ref, ref1, ref2, sprite;
    ref = this.allSprites;
    for (j = 0, len = ref.length; j < len; j++) {
      sprite = ref[j];
      sprite.opacity = this.object.opacity;
      sprite.visible = this.object.visible;
      sprite.ox = -this.object.offset.x;
      sprite.oy = -this.object.offset.y;
      sprite.mask.value = this.object.mask.value;
      sprite.mask.vague = this.object.mask.vague;
      sprite.mask.source = this.object.mask.source;
      sprite.mask.type = this.object.mask.type;
    }
    ref1 = this.customObjects;
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      object = ref1[l];
      object.opacity = this.object.opacity;
      object.visible = this.object.visible;
    }
    if (!this.isRunning && this.waitCounter > 0) {
      this.waitCounter--;
      if (this.waitCounter === 0) {
        if ((ref2 = this.object.events) != null) {
          ref2.emit("finish", this);
        }
      }
      return;
    }
    if (this.object.visible) {
      return this.updateLineWriting();
    }
  };


  /**
  * Indicates if its a batched messages.
  *
  * @method isBatched
  * @return If <b>true</b> it is a batched message. Otherwise <b>false</b>
   */

  Component_MessageTextRenderer.prototype.isBatched = function() {
    return this.lines.length > this.maxLines;
  };


  /**
  * Indicates if the batch is still in progress and not done.
  *
  * @method isBatchInProgress
  * @return If <b>true</b> the batched message is still not done. Otherwise <b>false</b>
   */

  Component_MessageTextRenderer.prototype.isBatchInProgress = function() {
    return this.lines.length - this.line > this.maxLines;
  };


  /**
  * Starts displaying the next page of text if a message is too long to fit
  * into one message box.
  *
  * @method executeBatch
   */

  Component_MessageTextRenderer.prototype.executeBatch = function() {
    this.clearAllSprites();
    this.lines = this.lines.slice(this.line);
    this.line = 0;
    this.currentX = 0;
    this.currentY = 0;
    this.currentLineHeight = 0;
    this.tokenIndex = 0;
    this.charIndex = 0;
    this.token = this.lines[this.line].content[this.tokenIndex] || "";
    this.maxLines = this.calculateMaxLines(this.lines);
    this.lineAnimationCount = this.customSpeed || this.speed;
    this.sprites = this.createSprites(this.lines);
    this.allSprites = this.allSprites.concat(this.sprites);
    this.currentSprite = this.sprites[this.line];
    this.currentSprite.x = this.currentX + this.object.origin.x + this.object.dstRect.x;
    return this.drawNext();
  };


  /**
  * Calculates the duration(in frames) the message-renderer needs to display
  * the message.
  *
  * @method calculateDuration
  * @return {number} The duration in frames.
   */

  Component_MessageTextRenderer.prototype.calculateDuration = function() {
    var duration, j, l, len, len1, line, ref, ref1, token;
    duration = 0;
    if (this.lines != null) {
      ref = this.lines;
      for (j = 0, len = ref.length; j < len; j++) {
        line = ref[j];
        ref1 = line.content;
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          token = ref1[l];
          if (token != null) {
            duration += this.calculateDurationForToken(token);
          }
        }
      }
    }
    return duration;
  };


  /**
  * Calculates the duration(in frames) the message-renderer needs to process
  * the specified token.
  *
  * @method calculateDurationForToken
  * @param {string|Object} token - The token.
  * @return {number} The duration in frames.
   */

  Component_MessageTextRenderer.prototype.calculateDurationForToken = function(token) {
    var duration;
    duration = 0;
    switch (token.code) {
      case "W":
        if (token.value !== "A") {
          duration = token.value / 1000 * Graphics.frameRate;
        }
        break;
      default:
        duration = token.length * (this.customSpeed || this.speed);
    }
    return duration;
  };


  /**
  * Calculates the maximum of lines which can be displayed in one message.
  *
  * @method calculateMaxLines
  * @param {Array} lines - An array of line-objects.
  * @return {number} The number of displayable lines.
   */

  Component_MessageTextRenderer.prototype.calculateMaxLines = function(lines) {
    var height, j, len, line, result;
    height = 0;
    result = 0;
    for (j = 0, len = lines.length; j < len; j++) {
      line = lines[j];
      height += line.height + this.lineSpacing();
      if (this.currentY + height > this.object.dstRect.height) {
        break;
      }
      result++;
    }
    return Math.min(lines.length, result);
  };


  /**
  * Processes the next character/token of the message.
  * @method nextChar
  * @private
   */

  Component_MessageTextRenderer.prototype.nextChar = function() {
    this.charIndex++;
    this.lineAnimationCount = this.customSpeed || this.speed;
    if ((this.token.code != null) || this.charIndex >= this.token.length) {
      this.charIndex = 0;
      this.tokenIndex++;
      if (this.tokenIndex >= this.lines[this.line].content.length) {
        this.tokenIndex = 0;
        this.line++;
        this.currentSprite.srcRect.width = this.currentSprite.bitmap.width;
        this.currentSprite = this.sprites[this.line];
        if (this.currentSprite != null) {
          this.currentSprite.x = this.object.origin.x + this.object.dstRect.x;
        }
        if (this.line < this.maxLines) {
          this.currentX = 0;
          return this.token = this.lines[this.line].content[this.tokenIndex] || "";
        }
      } else {
        return this.token = this.lines[this.line].content[this.tokenIndex] || "";
      }
    }
  };


  /**
  * Finishes the message. Depending on the message configuration, the
  * message text-renderer will now wait for a user-action or a certain amount
  * of time.
  *
  * @method finish
   */

  Component_MessageTextRenderer.prototype.finish = function() {
    var ref, ref1, ref2, ref3;
    if (this.waitAtEnd) {
      this.isWaiting = true;
      return (ref = this.object.events) != null ? ref.emit("messageWaiting", this) : void 0;
    } else if (this.waitAtEndTime > 0) {
      this.waitCounter = this.waitAtEndTime;
      this.isRunning = false;
      this.isWaiting = false;
      return (ref1 = this.object.events) != null ? ref1.emit("messageWaiting", this) : void 0;
    } else {
      this.isRunning = false;
      this.isWaiting = false;
      this.waitAtEnd = true;
      if ((ref2 = this.object.events) != null) {
        ref2.emit("messageWaiting", this);
      }
      return (ref3 = this.object.events) != null ? ref3.emit("messageFinish", this) : void 0;
    }
  };


  /**
  * Updates the line writing.
  *
  * @method updateLineWriting
  * @private
   */

  Component_MessageTextRenderer.prototype.updateLineWriting = function() {
    if (this.isRunning && !this.isWaiting && !this.waitForKey && !this.waitCounter > 0) {
      this.lineAnimationCount--;
      if (this.lineAnimationCount <= 0) {
        while (true) {
          if (this.line < this.maxLines) {
            this.nextChar();
          }
          if (this.line >= this.maxLines) {
            this.finish();
          } else {
            this.drawNext();
          }
          if (!(this.drawImmediately && this.isRunning && this.line < this.maxLines)) {
            break;
          }
        }
      }
    }
    if (this.waitForKey) {
      this.isWaiting = true;
    }
    if (this.waitCounter > 0) {
      this.isWaiting = true;
      this.waitCounter--;
      if (this.waitCounter <= 0) {
        return this.isWaiting = false;
      }
    }
  };


  /**
  * <p>Measures a control-token. If a token produces a visual result like displaying an icon then it must return the size taken by
  * the visual result. If the token has no visual result, <b>null</b> must be returned. This method is called for every token when the message is initialized.</p> 
  *
  * <p>This method is not called while the message is running. For that case, see <i>processControlToken</i> method which is called
  * for every token while the message is running.</p>
  *
  * @param {Object} token - A control-token.
  * @return {gs.Size} The size of the area taken by the visual result of the token or <b>null</b> if the token has no visual result.
  * @method analyzeControlToken
  * @protected
   */

  Component_MessageTextRenderer.prototype.measureControlToken = function(token) {
    return Component_MessageTextRenderer.__super__.measureControlToken.call(this, token);
  };


  /**
  * <p>Draws the visual result of a token, like an icon for example, to the specified bitmap. This method is called for every token when the message is initialized and the sprites for each
  * text-line are created.</p> 
  *
  * <p>This method is not called while the message is running. For that case, see <i>processControlToken</i> method which is called
  * for every token while the message is running.</p>
  *
  * @param {Object} token - A control-token.
  * @param {gs.Bitmap} bitmap - The bitmap used for the current text-line. Can be used to draw something on it like an icon, etc.
  * @method drawControlToken
  * @protected
   */

  Component_MessageTextRenderer.prototype.drawControlToken = function(token, bitmap) {
    switch (token.code) {
      case "RT":
        return Component_MessageTextRenderer.__super__.drawControlToken.call(this, token, bitmap);
    }
  };


  /**
  * Processes a control-token. A control-token is a token which influences
  * the text-rendering like changing the fonts color, size or style. Changes 
  * will be automatically applied to the game object's font.
  *
  * For message text-renderer, a few additional control-tokens like
  * speed-change, waiting, etc. needs to be processed here.
  *
  * This method is called for each token while the message is initialized and
  * also while the message is running. See <i>formattingOnly</i> parameter.
  *
  * @param {Object} token - A control-token.
  * @param {boolean} formattingOnly - If <b>true</b> the message is initializing right now and only 
  * format-tokens should be processed which is necessary for the message to calculated sizes correctly.
  * @method processControlToken
  * @protected
   */

  Component_MessageTextRenderer.prototype.processControlToken = function(token, formattingOnly) {
    var animation, bitmap, character, duration, easing, expression, line, linkStart, object, sound, textTokens, values;
    if (formattingOnly) {
      return Component_MessageTextRenderer.__super__.processControlToken.call(this, token);
    }
    switch (token.code) {
      case "X":
        return typeof token.value === "function" ? token.value(this.object) : void 0;
      case "A":
        animation = RecordManager.animations[Math.max(token.value - 1, 0)];
        if ((animation != null ? animation.graphic.name : void 0) != null) {
          bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + animation.graphic.name);
          object = new gs.Object_Animation(animation);
          this.addCustomObject(object);
          this.currentX += Math.round(bitmap.width / animation.framesX);
          return this.currentSprite.srcRect.width += Math.round(bitmap.width / animation.framesX);
        }
        break;
      case "LK":
        if (token.value === 'E') {
          object = new ui.Object_Hotspot();
          object.enabled = true;
          object.setup();
          this.addCustomObject(object);
          object.dstRect.x = this.object.dstRect.x + this.object.origin.x + this.customData.linkData.cx;
          object.dstRect.y = this.object.dstRect.y + this.object.origin.y + this.customData.linkData.cy;
          object.dstRect.width = this.currentX - this.customData.linkData.cx;
          object.dstRect.height = this.currentLineHeight;
          return object.events.on("click", (function(_this) {
            return function(e) {
              return SceneManager.scene.interpreter.callCommonEvent(_this.customData.linkData.commonEventId, null);
            };
          })(this));
        } else {
          return this.customData.linkData = {
            cx: this.currentX,
            cy: this.currentY,
            commonEventId: token.value - 1,
            tokenIndex: this.tokenIndex
          };
        }
        break;
      case "SLK":
        if (token.value === 'E') {
          this.currentSprite.bitmap.clearRect(this.customData.linkData.cx, this.customData.linkData.cy, this.currentX - this.customData.linkData.cx + this.object.font.borderSize * 2, this.currentLineHeight);
          line = this.lines[this.line].content;
          linkStart = this.findToken(this.tokenIndex - 1, "SLK", -1, line);
          textTokens = this.findTokensBetween(this.customData.linkData.tokenIndex, this.tokenIndex, null, line);
          object = new ui.Object_Text();
          object.text = textTokens.join("");
          object.sizeToFit = true;
          object.formatting = true;
          object.wordWrap = false;
          object.ui = new ui.Component_UIBehavior();
          object.enabled = true;
          object.addComponent(object.ui);
          object.addComponent(new gs.Component_HotspotBehavior());
          if (this.customData.linkData.styleIndex === -1) {
            ui.UIManager.addControlStyles(object, ["hyperlink"]);
          } else {
            ui.UIManager.addControlStyles(object, ["hyperlink-" + this.customData.linkData.styleIndex]);
          }
          object.setup();
          this.addCustomObject(object);
          object.dstRect.x = this.object.dstRect.x + this.object.origin.x + this.customData.linkData.cx;
          object.dstRect.y = this.object.dstRect.y + this.object.origin.y + this.customData.linkData.cy;
          return object.events.on("click", (function(_this) {
            return function(e) {
              return SceneManager.scene.interpreter.callCommonEvent(_this.customData.linkData.commonEventId, null);
            };
          })(this));
        } else {
          if (isNaN(token.value)) {
            values = token.value.split(",");
            return this.customData.linkData = {
              cx: this.currentX,
              cy: this.currentY,
              commonEventId: parseInt(values[0]) - 1,
              styleIndex: parseInt(values[1]),
              tokenIndex: this.tokenIndex
            };
          } else {
            return this.customData.linkData = {
              cx: this.currentX,
              cy: this.currentY,
              commonEventId: token.value - 1,
              tokenIndex: this.tokenIndex,
              styleIndex: -1
            };
          }
        }
        break;
      case "E":
        expression = RecordManager.characterExpressions[Math.max(token.value - 1, 0)];
        character = SceneManager.scene.currentCharacter;
        if ((expression != null) && ((character != null ? character.index : void 0) != null)) {
          duration = GameManager.defaults.character.expressionDuration;
          easing = gs.Easings.fromObject(GameManager.defaults.character.changeEasing);
          animation = GameManager.defaults.character.changeAnimation;
          object = SceneManager.scene.characters.first(function(c) {
            return c.rid === character.index;
          });
          return object != null ? object.behavior.changeExpression(expression, animation, easing, duration) : void 0;
        }
        break;
      case "SP":
        sound = RecordManager.system.sounds[token.value - 1];
        return AudioManager.playSound(sound);
      case "S":
        return this.customSpeed = token.value;
      case "W":
        this.drawImmediately = false;
        if (!GameManager.tempSettings.skip) {
          if (token.value === "A") {
            return this.waitForKey = true;
          } else {
            return this.waitCounter = Math.round(token.value / 1000 * Graphics.frameRate);
          }
        }
        break;
      case "WE":
        return this.waitAtEnd = token.value === "Y";
      case "DI":
        return this.drawImmediately = token.value === 1;
      default:
        return Component_MessageTextRenderer.__super__.processControlToken.call(this, token);
    }
  };


  /**
  * Clears/Resets the text-renderer.
  *
  * @method clear
   */

  Component_MessageTextRenderer.prototype.clear = function() {
    var j, len, ref, ref1, ref2, sprite;
    this.charIndex = 0;
    this.currentX = 0;
    this.currentY = 0;
    this.line = 0;
    this.lines = [];
    this.clearCustomObjects();
    if ((ref = this.object.bitmap) != null) {
      ref.clear();
    }
    ref1 = this.allSprites;
    for (j = 0, len = ref1.length; j < len; j++) {
      sprite = ref1[j];
      sprite.dispose();
      if ((ref2 = sprite.bitmap) != null) {
        ref2.dispose();
      }
    }
    return null;
  };


  /**
  * Clears/Disposes all sprites used to display the text-lines/parts.
  *
  * @method clearAllSprites
   */

  Component_MessageTextRenderer.prototype.clearAllSprites = function() {
    var j, len, ref, results, sprite;
    ref = this.allSprites;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      sprite = ref[j];
      sprite.dispose();
      results.push(sprite.bitmap.dispose());
    }
    return results;
  };


  /**
  * Clears/Disposes the sprites used to display the text-lines/parts of the current/last message.
  *
  * @method clearSprites
   */

  Component_MessageTextRenderer.prototype.clearSprites = function() {
    var j, len, ref, results, sprite;
    ref = this.sprites;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      sprite = ref[j];
      sprite.dispose();
      results.push(sprite.bitmap.dispose());
    }
    return results;
  };


  /**
  * Returns the spacing between lines in pixels. By default, the spacing is 4.
  *
  * @method lineSpacing
  * @return {number} The line spacing in pixels.
   */

  Component_MessageTextRenderer.prototype.lineSpacing = function() {
    return 2;
  };


  /**
  * Returns the position of the caret in pixels. The caret is like an invisible
  * cursor pointing to the x/y coordinates of the last rendered character of
  * the message. That position can be used to display a waiting- or processing-animation for example.
  *
  * @method caretPosition
  * @return {Object} An object containing the x and y coordinates of the caret-position.
   */

  Component_MessageTextRenderer.prototype.caretPosition = function() {
    return {
      x: this.currentX,
      y: this.currentY + this.currentLineHeight / 2
    };
  };


  /**
  * Adds a game object to the message which is alive until the message is
  * erased. Can be used to display animationed-icons, etc. in a message.
  *
  * @method addCustomObject
  * @param object {Object} The game object to add.
   */

  Component_MessageTextRenderer.prototype.addCustomObject = function(object) {
    object.dstRect.x = this.object.dstRect.x + this.object.origin.x + this.currentX;
    object.dstRect.y = this.object.dstRect.y + this.object.origin.y + this.currentY;
    object.zIndex = this.object.zIndex + 1;
    object.update();
    SceneManager.scene.addObject(object);
    return this.customObjects.push(object);
  };


  /**
  * Clears the list of custom game objects. All game objects are disposed and removed
  * from the scene.
  *
  * @method addCustomObject
  * @param object {Object} The game object to add.
   */

  Component_MessageTextRenderer.prototype.clearCustomObjects = function() {
    var j, len, object, ref;
    ref = this.customObjects;
    for (j = 0, len = ref.length; j < len; j++) {
      object = ref[j];
      object.dispose();
      SceneManager.scene.removeObject(object);
    }
    return this.customObjects = [];
  };


  /**
  * Creates the bitmap for a specified line-object.
  *
  * @method createBitmap
  * @private
  * @param {Object} line - A line-object.
  * @return {Bitmap} A newly created bitmap containing the line-text.
   */

  Component_MessageTextRenderer.prototype.createBitmap = function(line) {
    var bitmap, j, len, ref, size, token;
    this.font = this.object.font;
    bitmap = new Bitmap(this.object.dstRect.width, line.height);
    bitmap.font = this.font;
    this.currentX = 0;
    ref = line.content;
    for (j = 0, len = ref.length; j < len; j++) {
      token = ref[j];
      if (token.code != null) {
        size = this.measureControlToken(token, bitmap);
        this.drawControlToken(token, bitmap);
        if (size) {
          this.currentX += size.width;
        }
        this.processControlToken(token, true, line);
      } else if (token.length > 0) {
        size = this.font.measureTextPlain(token);
        bitmap.drawText(this.currentX, bitmap.height - (size.height - this.font.descent) - line.descent, size.width, bitmap.height, token, 0, 0);
        this.currentX += size.width;
      }
    }
    return bitmap;
  };


  /**
  * Creates the sprite for a specified line-object.
  *
  * @method createSprite
  * @private
  * @param {Object} line - A line-object.
  * @return {Sprite} A newly created sprite object containing the line-text as bitmap.
   */

  Component_MessageTextRenderer.prototype.createSprite = function(line) {
    var bitmap, sprite;
    bitmap = this.createBitmap(line);
    this.currentX = 0;
    this.waitCounter = 0;
    this.waitForKey = false;
    sprite = new Sprite(Graphics.viewport);
    sprite.bitmap = bitmap;
    sprite.visible = true;
    sprite.z = this.object.zIndex + 1;
    sprite.srcRect = new Rect(0, 0, 0, bitmap.height);
    return sprite;
  };


  /**
  * Creates the sprites for a specified array of line-objects.
  *
  * @method createSprites
  * @private
  * @see gs.Component_MessageTextRenderer.createSprite.
  * @param {Array} lines - An array of line-objects.
  * @return {Array} An array of sprites.
   */

  Component_MessageTextRenderer.prototype.createSprites = function(lines) {
    var i, j, len, line, result, sprite;
    this.fontSize = this.object.font.size;
    result = [];
    for (i = j = 0, len = lines.length; j < len; i = ++j) {
      line = lines[i];
      sprite = this.createSprite(line);
      result.push(sprite);
    }
    return result;
  };


  /**
  * Starts a new line.
  *
  * @method newLine
   */

  Component_MessageTextRenderer.prototype.newLine = function() {
    this.currentX = 0;
    return this.currentY += this.currentLineHeight + this.lineSpacing();
  };


  /**
  * Displays a formatted text immediately without any delays or animations. The
  * Component_TextRenderer.drawFormattedText method from the base-class cannot
  * be used here because it would render to the game object's bitmap object while
  * this method is rendering to the sprites.
  *
  * @method drawFormattedTextImmediately
  * @param {number} x - The x-coordinate of the text's position.
  * @param {number} y - The y-coordinate of the text's position.
  * @param {number} width - Deprecated. Can be null.
  * @param {number} height - Deprecated. Can be null.
  * @param {string} text - The text to draw.
  * @param {boolean} wordWrap - If wordWrap is set to true, line-breaks are automatically created.
   */

  Component_MessageTextRenderer.prototype.drawFormattedTextImmediately = function(x, y, width, height, text, wordWrap) {
    this.drawFormattedText(x, y, width, height, text, wordWrap);
    while (true) {
      this.nextChar();
      if (this.line >= this.maxLines) {
        this.isRunning = false;
      } else {
        this.drawNext();
      }
      if (!this.isRunning) {
        break;
      }
    }
    this.currentY += this.currentLineHeight + this.lineSpacing();
    return null;
  };


  /**
  * Starts the rendering-process for the message.
  *
  * @method drawFormattedText
  * @param {number} x - The x-coordinate of the text's position.
  * @param {number} y - The y-coordinate of the text's position.
  * @param {number} width - Deprecated. Can be null.
  * @param {number} height - Deprecated. Can be null.
  * @param {string} text - The text to draw.
  * @param {boolean} wordWrap - If wordWrap is set to true, line-breaks are automatically created.
   */

  Component_MessageTextRenderer.prototype.drawFormattedText = function(x, y, width, height, text, wordWrap) {
    var ref, ref1;
    text = text || " ";
    this.font.set(this.object.font);
    this.speed = 10 - Math.round(GameManager.settings.messageSpeed * 2.5);
    this.isRunning = true;
    this.drawImmediately = false;
    this.lineAnimationCount = this.customSpeed || this.speed;
    this.currentLineHeight = 0;
    this.isWaiting = false;
    this.waitForKey = false;
    this.charIndex = 0;
    this.token = null;
    this.tokenIndex = 0;
    this.message = text;
    this.line = 0;
    this.currentLine = this.line;
    this.lines = this.calculateLines(lcsm(this.message), wordWrap, this.currentX);
    this.sprites = this.createSprites(this.lines);
    this.allSprites = this.allSprites.concat(this.sprites);
    this.currentSprite = this.sprites[this.line];
    this.currentSprite.x = this.currentX + this.object.origin.x + this.object.dstRect.x;
    this.maxLines = this.calculateMaxLines(this.lines);
    this.token = ((ref = this.lines[this.line]) != null ? ref.content[this.tokenIndex] : void 0) || "";
    if (this.maxLines === 0) {
      if (((ref1 = this.lines[0]) != null ? ref1.content : void 0) === "") {
        return this.finish();
      } else {
        this.maxLines = 1;
        return this.drawNext();
      }
    } else {
      return this.drawNext();
    }
  };


  /**
  * Displays the character or processes the next control-token.
  *
  * @method drawNext
   */

  Component_MessageTextRenderer.prototype.drawNext = function() {
    var lineSpacing, s, size;
    if (this.token.code != null) {
      return this.object.textRenderer.processControlToken(this.token, false);
    } else if (this.token.length > 0) {
      this.char = this.token.charAt(this.charIndex);
      size = this.font.measureTextPlain(this.char);
      s = Graphics.scale;
      lineSpacing = this.lineSpacing();
      if (this.currentLine !== this.line) {
        this.currentLine = this.line;
        this.currentY += this.currentLineHeight + lineSpacing * Graphics.scale;
        this.currentLineHeight = 0;
      }
      this.currentSprite.y = this.object.origin.y + this.object.dstRect.y + this.currentY;
      this.currentSprite.visible = true;
      this.currentSprite.srcRect.width = Math.min(this.currentSprite.srcRect.width + size.width, this.currentSprite.bitmap.width);
      this.currentLineHeight = this.lines[this.line].height;
      return this.currentX = Math.min(this.lines[this.line].width, this.currentX + size.width);
    }
  };

  return Component_MessageTextRenderer;

})(gs.Component_TextRenderer);

gs.Component_MessageTextRenderer = Component_MessageTextRenderer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OzBDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7QUFDakIsUUFBQTtJQUFBLElBQUMsQ0FBQSxrQkFBRCxDQUFBO0FBQ0E7SUFDQSxJQUFHLElBQUMsQ0FBQSxPQUFKO01BQ0ksSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFDLENBQUEsY0FBRCxDQUFnQixJQUFBLENBQUssSUFBQyxDQUFBLE9BQU4sQ0FBaEIsRUFBZ0MsSUFBaEMsRUFBcUMsQ0FBckM7QUFDVDtBQUFBLFdBQUEsNkNBQUE7O1FBQ0ksTUFBQSxHQUFTLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBZDtRQUNULElBQUMsQ0FBQSxPQUFRLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBWixHQUFxQjtBQUZ6QixPQUZKOztBQU1BLFdBQU87RUFUVTs7O0FBV3JCOzs7Ozs7Ozs7Ozs7RUFXYSx1Q0FBQTtJQUNULGdFQUFBLFNBQUE7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsVUFBRCxHQUFjOztBQUNkOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7Ozs7SUFNQSxJQUFDLENBQUEsSUFBRCxHQUFROztBQUVSOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsaUJBQUQsR0FBcUI7O0FBRXJCOzs7Ozs7SUFNQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7Ozs7SUFNQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENB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USxDQUFDO1FBQ3pELElBQUMsQ0FBQSxpQkFBRCxHQUFxQixFQUh6Qjs7TUFLQSxJQUFDLENBQUEsYUFBYSxDQUFDLENBQWYsR0FBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFuQyxHQUF1QyxJQUFDLENBQUE7TUFDM0QsSUFBQyxDQUFBLGFBQWEsQ0FBQyxPQUFmLEdBQXlCO01BQ3pCLElBQUMsQ0FBQSxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQXZCLEdBQStCLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLGFBQWEsQ0FBQyxPQUFPLENBQUMsS0FBdkIsR0FBK0IsSUFBSSxDQUFDLEtBQTdDLEVBQW9ELElBQUMsQ0FBQSxhQUFhLENBQUMsTUFBTSxDQUFDLEtBQTFFO01BRS9CLElBQUMsQ0FBQSxpQkFBRCxHQUFxQixJQUFDLENBQUEsS0FBTSxDQUFBLElBQUMsQ0FBQSxJQUFELENBQU0sQ0FBQzthQUNuQyxJQUFDLENBQUEsUUFBRCxHQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLEtBQU0sQ0FBQSxJQUFDLENBQUEsSUFBRCxDQUFNLENBQUMsS0FBdkIsRUFBOEIsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFJLENBQUMsS0FBL0MsRUFqQlg7O0VBSEM7Ozs7R0ExNkI4QixFQUFFLENBQUM7O0FBaThCL0MsRUFBRSxDQUFDLDZCQUFILEdBQW1DIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfTWVzc2FnZVRleHRSZW5kZXJlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXIgZXh0ZW5kcyBncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyXG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBkZWJ1Z2dlclxuICAgICAgICBpZiBAbWVzc2FnZVxuICAgICAgICAgICAgQGxpbmVzID0gQGNhbGN1bGF0ZUxpbmVzKGxjc20oQG1lc3NhZ2UpLCB5ZXMsIDApXG4gICAgICAgICAgICBmb3IgbGluZSwgaSBpbiBAbGluZXNcbiAgICAgICAgICAgICAgICBiaXRtYXAgPSBAY3JlYXRlQml0bWFwKGxpbmUpXG4gICAgICAgICAgICAgICAgQHNwcml0ZXNbaV0uYml0bWFwID0gYml0bWFwXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqICBBIHRleHQtcmVuZGVyZXIgY29tcG9uZW50IHRvIHJlbmRlciBhbiBhbmltYXRlZCBhbmQgaW50ZXJhY3RpdmUgbWVzc2FnZSB0ZXh0IHVzaW5nXG4gICAgKiAgZGltZW5zaW9ucyBvZiB0aGUgZ2FtZSBvYmplY3QncyBkZXN0aW5hdGlvbi1yZWN0YW5nbGUuIFRoZSBtZXNzYWdlIGlzIGRpc3BsYXllZFxuICAgICogIHVzaW5nIGEgc3ByaXRlIGZvciBlYWNoIGxpbmUgaW5zdGVhZCBvZiBkcmF3aW5nIHRvIHRoZSBnYW1lIG9iamVjdCdzIGJpdG1hcCBvYmplY3QuXG4gICAgKlxuICAgICogIEBtb2R1bGUgZ3NcbiAgICAqICBAY2xhc3MgQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXJcbiAgICAqICBAZXh0ZW5kcyBncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyXG4gICAgKiAgQG1lbWJlcm9mIGdzXG4gICAgKiAgQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgc3ByaXRlcyBvZiB0aGUgY3VycmVudCBtZXNzYWdlLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzcHJpdGVzXG4gICAgICAgICogQHR5cGUgZ3MuU3ByaXRlW11cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAc3ByaXRlcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgc3ByaXRlcyBvZiBhbGwgbWVzc2FnZXMuIEluIE5WTCBtb2RlXG4gICAgICAgICogYSBwYWdlIGNhbiBjb250YWluIG11bHRpcGxlIG1lc3NhZ2VzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbGxTcHJpdGVzXG4gICAgICAgICogQHR5cGUgZ3MuU3ByaXRlW11cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAYWxsU3ByaXRlcyA9IFtdXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBsaW5lLW9iamVjdHMgb2YgdGhlIGN1cnJlbnQgbWVzc2FnZS5cbiAgICAgICAgKiBAcHJvcGVydHkgbGluZXNcbiAgICAgICAgKiBAdHlwZSBncy5UZXh0UmVuZGVyZXJMaW5lW11cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBsaW5lcyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbGluZSBjdXJyZW50bHkgcmVuZGVyZWQuXG4gICAgICAgICogQHByb3BlcnR5IGxpbmVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBsaW5lID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBsaW5lIGN1cnJlbnRseSByZW5kZXJlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgY3VycmVudExpbmVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY3VycmVudExpbmUgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgbGluZSBjdXJyZW50bHkgcmVuZGVyZWQuXG4gICAgICAgICogQHByb3BlcnR5IGN1cnJlbnRMaW5lSGVpZ2h0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGN1cnJlbnRMaW5lSGVpZ2h0ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGV4IG9mIHRoZSBjdXJyZW50IGNoYXJhY3RlciB0byBkcmF3LlxuICAgICAgICAqIEBwcm9wZXJ0eSBjaGFySW5kZXhcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBjaGFySW5kZXggPSAwXG4gICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgYSBtZXNzYWdlIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICAgICAgKiBAcHJvcGVydHkgaXNSdW5uaW5nXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGN1cnJlbnQgeC1jb29yZGluYXRlIG9mIHRoZSBjYXJldC9jdXJzb3IuXG4gICAgICAgICogQHByb3BlcnR5IGN1cnJlbnRYXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAY3VycmVudFggPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGN1cnJlbnQgeS1jb29yZGluYXRlIG9mIHRoZSBjYXJldC9jdXJzb3IuXG4gICAgICAgICogQHByb3BlcnR5IGN1cnJlbnRZXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAY3VycmVudFkgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGN1cnJlbnQgc3ByaXRlcyB1c2VkIHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgdGV4dC1saW5lL3BhcnQuXG4gICAgICAgICogQHByb3BlcnR5IGN1cnJlbnRTcHJpdGVcbiAgICAgICAgKiBAdHlwZSBncy5TcHJpdGVcbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBjdXJyZW50U3ByaXRlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWVzc2FnZS1yZW5kZXJlciBpcyBjdXJyZW50bHkgd2FpdGluZyBsaWtlIGZvciBhIHVzZXItYWN0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpc1dhaXRpbmdcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1lc3NhZ2UtcmVuZGVyZXIgaXMgY3VycmVudGx5IHdhaXRpbmcgZm9yIGEga2V5LXByZXNzIG9yIG1vdXNlL3RvdWNoIGFjdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgd2FpdEZvcktleVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0Rm9yS2V5ID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBOdW1iZXIgb2YgZnJhbWVzIHRoZSBtZXNzYWdlLXJlbmRlcmVyIHNob3VsZCB3YWl0IGJlZm9yZSBjb250aW51ZS5cbiAgICAgICAgKiBAcHJvcGVydHkgd2FpdENvdW50ZXJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0Q291bnRlciA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTcGVlZCBvZiB0aGUgbWVzc2FnZS1kcmF3aW5nLiBUaGUgc21hbGxlciB0aGUgdmFsdWUsIHRoZSBmYXN0ZXIgdGhlIG1lc3NhZ2UgaXMgZGlzcGxheWVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzcGVlZFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHNwZWVkID0gMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgcmVuZGVyZWQgaW1tZWRpYWx0ZWx5IHdpdGhvdXQgYW55IGFuaW1hdGlvbiBvciBkZWxheS5cbiAgICAgICAgKiBAcHJvcGVydHkgZHJhd0ltbWVkaWF0ZWx5XG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQGRyYXdJbW1lZGlhdGVseSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBtZXNzYWdlIHNob3VsZCB3YWl0IGZvciBhIHVzZXItYWN0aW9uIG9yIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZVxuICAgICAgICAqIGJlZm9yZSBmaW5pc2hpbmcuXG4gICAgICAgICogQHByb3BlcnR5IHdhaXRBdEVuZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0QXRFbmQgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGZyYW1lcyB0byB3YWl0IGJlZm9yZSBmaW5pc2hpbmcgYSBtZXNzYWdlLlxuICAgICAgICAqIGJlZm9yZSBmaW5pc2hpbmcuXG4gICAgICAgICogQHByb3BlcnR5IHdhaXRBdEVuZFRpbWVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0QXRFbmRUaW1lID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiBhdXRvIHdvcmQtd3JhcCBzaG91bGQgYmUgdXNlZC4gRGVmYXVsdCBpcyA8Yj50cnVlPC9iPlxuICAgICAgICAqIEBwcm9wZXJ0eSB3b3JkV3JhcFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEB3b3JkV3JhcCA9IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1c3RvbSBtZXNzYWdlIHNwZWVkIHZhbHVlIGNvbWluZyBmcm9tIGEgdGV4dC1jb2RlLlxuICAgICAgICAqIGJlZm9yZSBmaW5pc2hpbmcuXG4gICAgICAgICogQHByb3BlcnR5IHdvcmRXcmFwXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQGN1c3RvbVNwZWVkID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1c3RvbSBnYW1lIG9iamVjdHMgd2hpY2ggYXJlIGFsaXZlIHVudGlsIHRoZSBjdXJyZW50IG1lc3NhZ2UgaXMgZXJhc2VkLiBDYW4gYmUgdXNlZCB0byBkaXNwbGF5XG4gICAgICAgICogYW5pbWF0ZWQgaWNvbnMsIGV0Yy5cbiAgICAgICAgKiBAcHJvcGVydHkgY3VzdG9tT2JqZWN0c1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9CYXNlW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBjdXN0b21PYmplY3RzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBIGhhc2h0YWJsZS9kaWN0aW9uYXJ5IG9iamVjdCB0byBzdG9yZSBjdXN0b20tZGF0YSB1c2VmdWwgbGlrZSBmb3IgdG9rZW4tcHJvY2Vzc2luZy4gVGhlIGRhdGEgbXVzdCBiZVxuICAgICAgICAqIHNlcmlhbGl6YWJsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgY3VzdG9tT2JqZWN0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGN1c3RvbURhdGEgPSB7fVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRleHQtcmVuZGVyZXIgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gQSBkYXRhLWJ1bmRsZS5cbiAgICAjIyNcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGlnbm9yZSA9IFtcIm9iamVjdFwiLCBcImZvbnRcIiwgXCJzcHJpdGVzXCIsIFwiYWxsU3ByaXRlc1wiLCBcImN1cnJlbnRTcHJpdGVcIiwgXCJjdXJyZW50WFwiXVxuICAgICAgICBidW5kbGUgPSB7IGN1cnJlbnRTcHJpdGVJbmRleDogQHNwcml0ZXMuaW5kZXhPZihAY3VycmVudFNwcml0ZSkgfVxuICAgICAgICBcbiAgICAgICAgZm9yIGsgb2YgdGhpc1xuICAgICAgICAgICAgaWYgaWdub3JlLmluZGV4T2YoaykgPT0gLTFcbiAgICAgICAgICAgICAgICBidW5kbGVba10gPSB0aGlzW2tdXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBidW5kbGVcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIG1lc3NhZ2UgdGV4dC1yZW5kZXJlciBhbmQgYWxsIHNwcml0ZXMgdXNlZCB0byBkaXNwbGF5XG4gICAgKiB0aGUgbWVzc2FnZS5cbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlVXBcIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJrZXlVcFwiLCBAb2JqZWN0KVxuICAgICAgICBcbiAgICAgICAgZm9yIHNwcml0ZSBpbiBAYWxsU3ByaXRlc1xuICAgICAgICAgICAgc3ByaXRlLmJpdG1hcD8uZGlzcG9zZSgpXG4gICAgICAgICAgICBzcHJpdGUuZGlzcG9zZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogQWRkcyBldmVudC1oYW5kbGVycyBmb3IgbW91c2UvdG91Y2ggZXZlbnRzXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlVXBcIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJrZXlVcFwiLCBAb2JqZWN0KVxuICAgICAgICBcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VVcFwiLCAoKGUpID0+XG4gICAgICAgICAgICBpZiBAb2JqZWN0LmRzdFJlY3QuY29udGFpbnMoSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICAgICAgICAgIGlmIEBpc1dhaXRpbmcgYW5kIG5vdCAoQHdhaXRDb3VudGVyID4gMCBvciBAd2FpdEZvcktleSlcbiAgICAgICAgICAgICAgICAgICAgZS5icmVha0NoYWluID0geWVzXG4gICAgICAgICAgICAgICAgICAgIEBjb250aW51ZSgpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBAZHJhd0ltbWVkaWF0ZWx5ID0geWVzXG4gICAgICAgICAgICAgICAgICAgIEB3YWl0Q291bnRlciA9IDBcbiAgICAgICAgICAgICAgICAgICAgQHdhaXRGb3JLZXkgPSBub1xuICAgICAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgQHdhaXRGb3JLZXlcbiAgICAgICAgICAgICAgICAgICAgaWYgSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmJyZWFrQ2hhaW4gPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIElucHV0LmNsZWFyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIEB3YWl0Rm9yS2V5ID0gbm9cbiAgICAgICAgICAgICAgICAgICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgKSwgbnVsbCwgQG9iamVjdFxuICAgICAgICBcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwia2V5VXBcIiwgKChlKSA9PlxuICAgICAgICAgICAgaWYgSW5wdXQua2V5c1tJbnB1dC5DXSBhbmQgIUBpc1dhaXRpbmcgb3IgKEB3YWl0Q291bnRlciA+IDAgb3IgQHdhaXRGb3JLZXkpXG4gICAgICAgICAgICAgICAgQGRyYXdJbW1lZGlhdGVseSA9IHllc1xuICAgICAgICAgICAgICAgIEB3YWl0Q291bnRlciA9IDBcbiAgICAgICAgICAgICAgICBAd2FpdEZvcktleSA9IG5vXG4gICAgICAgICAgICAgICAgQGlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAaXNXYWl0aW5nIGFuZCAhQHdhaXRGb3JLZXkgYW5kICFAd2FpdENvdW50ZXIgYW5kIElucHV0LmtleXNbSW5wdXQuQ11cbiAgICAgICAgICAgICAgICBAY29udGludWUoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQHdhaXRGb3JLZXlcbiAgICAgICAgICAgICAgICBpZiBJbnB1dC5rZXlzW0lucHV0LkNdXG4gICAgICAgICAgICAgICAgICAgIElucHV0LmNsZWFyKClcbiAgICAgICAgICAgICAgICAgICAgQHdhaXRGb3JLZXkgPSBub1xuICAgICAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgKSwgbnVsbCwgQG9iamVjdFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlci4gUmVnaXN0ZXJzIG5lY2Vzc2FyeSBldmVudCBoYW5kbGVycy5cbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyMgXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyB0aGUgbWVzc2FnZSB0ZXh0LXJlbmRlcmVyJ3Mgc3RhdGUgZnJvbSBhIGRhdGEtYnVuZGxlLlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYnVuZGxlIC0gQSBkYXRhLWJ1bmRsZSBjb250YWluaW5nIG1lc3NhZ2UgdGV4dC1yZW5kZXJlciBzdGF0ZS5cbiAgICAjIyNcbiAgICByZXN0b3JlOiAoYnVuZGxlKSAtPlxuICAgICAgICBmb3IgayBvZiBidW5kbGVcbiAgICAgICAgICAgIGlmIGsgPT0gXCJjdXJyZW50U3ByaXRlSW5kZXhcIlxuICAgICAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlID0gQHNwcml0ZXNbYnVuZGxlLmN1cnJlbnRTcHJpdGVJbmRleF1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzW2tdID0gYnVuZGxlW2tdXG4gICAgICAgIFxuICAgICAgICBpZiBAc3ByaXRlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICBAY3VycmVudFkgPSBAc3ByaXRlcy5sYXN0KCkueSAtIEBvYmplY3Qub3JpZ2luLnkgLSBAb2JqZWN0LmRzdFJlY3QueVxuICAgICAgICAgICAgQGxpbmUgPSBAbWF4TGluZXNcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSBAaXNXYWl0aW5nIHx8IEBpc1J1bm5pbmdcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbCAgICBcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDb250aW51ZXMgbWVzc2FnZS1wcm9jZXNzaW5nIGlmIGN1cnJlbnRseSB3YWl0aW5nLlxuICAgICogQG1ldGhvZCBjb250aW51ZVxuICAgICMjI1xuICAgIGNvbnRpbnVlOiAtPiBcbiAgICAgICAgSW5wdXQuY2xlYXIoKVxuICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgIFxuICAgICAgICBpZiBAbGluZSA+PSBAbGluZXMubGVuZ3RoXG4gICAgICAgICAgICBAaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwibWVzc2FnZUZpbmlzaFwiLCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcIm1lc3NhZ2VCYXRjaFwiLCB0aGlzKVxuICAgICAgICAgICAgQGV4ZWN1dGVCYXRjaCgpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSB0ZXh0LXJlbmRlcmVyLlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIGZvciBzcHJpdGUgaW4gQGFsbFNwcml0ZXNcbiAgICAgICAgICAgIHNwcml0ZS5vcGFjaXR5ID0gQG9iamVjdC5vcGFjaXR5XG4gICAgICAgICAgICBzcHJpdGUudmlzaWJsZSA9IEBvYmplY3QudmlzaWJsZVxuICAgICAgICAgICAgc3ByaXRlLm94ID0gLUBvYmplY3Qub2Zmc2V0LnhcbiAgICAgICAgICAgIHNwcml0ZS5veSA9IC1Ab2JqZWN0Lm9mZnNldC55XG4gICAgICAgICAgICBzcHJpdGUubWFzay52YWx1ZSA9IEBvYmplY3QubWFzay52YWx1ZVxuICAgICAgICAgICAgc3ByaXRlLm1hc2sudmFndWUgPSBAb2JqZWN0Lm1hc2sudmFndWVcbiAgICAgICAgICAgIHNwcml0ZS5tYXNrLnNvdXJjZSA9IEBvYmplY3QubWFzay5zb3VyY2VcbiAgICAgICAgICAgIHNwcml0ZS5tYXNrLnR5cGUgPSBAb2JqZWN0Lm1hc2sudHlwZVxuICAgIFxuICAgICAgICBmb3Igb2JqZWN0IGluIEBjdXN0b21PYmplY3RzXG4gICAgICAgICAgICBvYmplY3Qub3BhY2l0eSA9IEBvYmplY3Qub3BhY2l0eVxuICAgICAgICAgICAgb2JqZWN0LnZpc2libGUgPSBAb2JqZWN0LnZpc2libGVcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBub3QgQGlzUnVubmluZyBhbmQgQHdhaXRDb3VudGVyID4gMFxuICAgICAgICAgICAgQHdhaXRDb3VudGVyLS1cbiAgICAgICAgICAgIGlmIEB3YWl0Q291bnRlciA9PSAwXG4gICAgICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJmaW5pc2hcIiwgdGhpcylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnZpc2libGVcbiAgICAgICAgICAgIEB1cGRhdGVMaW5lV3JpdGluZygpXG4gICAgICAgICAgICBcbiAgICAgICAgI2lmIEBpc1dhaXRpbmcgYW5kICFAd2FpdEZvcktleSBhbmQgIUB3YWl0Q291bnRlciBhbmQgKElucHV0LnRyaWdnZXIoSW5wdXQuQykpXG4gICAgICAgICMgICAgQGNvbnRpbnVlKClcbiAgICAgXG4gICAgIyMjKlxuICAgICogSW5kaWNhdGVzIGlmIGl0cyBhIGJhdGNoZWQgbWVzc2FnZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBpc0JhdGNoZWRcbiAgICAqIEByZXR1cm4gSWYgPGI+dHJ1ZTwvYj4gaXQgaXMgYSBiYXRjaGVkIG1lc3NhZ2UuIE90aGVyd2lzZSA8Yj5mYWxzZTwvYj5cbiAgICAjIyNcbiAgICBpc0JhdGNoZWQ6IC0+IEBsaW5lcy5sZW5ndGggPiBAbWF4TGluZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGJhdGNoIGlzIHN0aWxsIGluIHByb2dyZXNzIGFuZCBub3QgZG9uZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGlzQmF0Y2hJblByb2dyZXNzXG4gICAgKiBAcmV0dXJuIElmIDxiPnRydWU8L2I+IHRoZSBiYXRjaGVkIG1lc3NhZ2UgaXMgc3RpbGwgbm90IGRvbmUuIE90aGVyd2lzZSA8Yj5mYWxzZTwvYj5cbiAgICAjIyNcbiAgICBpc0JhdGNoSW5Qcm9ncmVzczogLT4gQGxpbmVzLmxlbmd0aCAtIEBsaW5lID4gQG1heExpbmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIGRpc3BsYXlpbmcgdGhlIG5leHQgcGFnZSBvZiB0ZXh0IGlmIGEgbWVzc2FnZSBpcyB0b28gbG9uZyB0byBmaXRcbiAgICAqIGludG8gb25lIG1lc3NhZ2UgYm94LlxuICAgICpcbiAgICAqIEBtZXRob2QgZXhlY3V0ZUJhdGNoXG4gICAgIyMjIFxuICAgIGV4ZWN1dGVCYXRjaDogLT5cbiAgICAgICAgQGNsZWFyQWxsU3ByaXRlcygpXG4gICAgICAgIEBsaW5lcyA9IEBsaW5lcy5zbGljZShAbGluZSlcbiAgICAgICAgQGxpbmUgPSAwXG4gICAgICAgIEBjdXJyZW50WCA9IDBcbiAgICAgICAgQGN1cnJlbnRZID0gMFxuICAgICAgICBAY3VycmVudExpbmVIZWlnaHQgPSAwXG4gICAgICAgIEB0b2tlbkluZGV4ID0gMFxuICAgICAgICBAY2hhckluZGV4ID0gMFxuICAgICAgICBAdG9rZW4gPSBAbGluZXNbQGxpbmVdLmNvbnRlbnRbQHRva2VuSW5kZXhdIHx8IFwiXCI7XG4gICAgICAgIEBtYXhMaW5lcyA9IEBjYWxjdWxhdGVNYXhMaW5lcyhAbGluZXMpXG4gICAgICAgIEBsaW5lQW5pbWF0aW9uQ291bnQgPSBAY3VzdG9tU3BlZWQgfHwgQHNwZWVkXG4gICAgICAgIEBzcHJpdGVzID0gQGNyZWF0ZVNwcml0ZXMoQGxpbmVzKVxuICAgICAgICBAYWxsU3ByaXRlcyA9IEBhbGxTcHJpdGVzLmNvbmNhdChAc3ByaXRlcylcbiAgICAgICAgQGN1cnJlbnRTcHJpdGUgPSBAc3ByaXRlc1tAbGluZV1cbiAgICAgICAgQGN1cnJlbnRTcHJpdGUueCA9IEBjdXJyZW50WCArIEBvYmplY3Qub3JpZ2luLnggKyBAb2JqZWN0LmRzdFJlY3QueFxuICAgICAgICBAZHJhd05leHQoKVxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGN1bGF0ZXMgdGhlIGR1cmF0aW9uKGluIGZyYW1lcykgdGhlIG1lc3NhZ2UtcmVuZGVyZXIgbmVlZHMgdG8gZGlzcGxheVxuICAgICogdGhlIG1lc3NhZ2UuXG4gICAgKlxuICAgICogQG1ldGhvZCBjYWxjdWxhdGVEdXJhdGlvblxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICMjIyAgICBcbiAgICBjYWxjdWxhdGVEdXJhdGlvbjogLT5cbiAgICAgICAgZHVyYXRpb24gPSAwXG4gICAgICAgIFxuICAgICAgICBpZiBAbGluZXM/XG4gICAgICAgICAgICBmb3IgbGluZSBpbiBAbGluZXNcbiAgICAgICAgICAgICAgICBmb3IgdG9rZW4gaW4gbGluZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIHRva2VuP1xuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gQGNhbGN1bGF0ZUR1cmF0aW9uRm9yVG9rZW4odG9rZW4pXG4gICAgICAgIHJldHVybiBkdXJhdGlvblxuICAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxjdWxhdGVzIHRoZSBkdXJhdGlvbihpbiBmcmFtZXMpIHRoZSBtZXNzYWdlLXJlbmRlcmVyIG5lZWRzIHRvIHByb2Nlc3NcbiAgICAqIHRoZSBzcGVjaWZpZWQgdG9rZW4uXG4gICAgKlxuICAgICogQG1ldGhvZCBjYWxjdWxhdGVEdXJhdGlvbkZvclRva2VuXG4gICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHRva2VuIC0gVGhlIHRva2VuLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICMjIyAgICAgICAgICAgICAgICAgICAgXG4gICAgY2FsY3VsYXRlRHVyYXRpb25Gb3JUb2tlbjogKHRva2VuKSAtPlxuICAgICAgICBkdXJhdGlvbiA9IDBcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCB0b2tlbi5jb2RlXG4gICAgICAgICAgICB3aGVuIFwiV1wiXG4gICAgICAgICAgICAgICAgaWYgdG9rZW4udmFsdWUgIT0gXCJBXCJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0b2tlbi52YWx1ZSAvIDEwMDAgKiBHcmFwaGljcy5mcmFtZVJhdGVcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRva2VuLmxlbmd0aCAqIChAY3VzdG9tU3BlZWQgfHwgQHNwZWVkKVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQ2FsY3VsYXRlcyB0aGUgbWF4aW11bSBvZiBsaW5lcyB3aGljaCBjYW4gYmUgZGlzcGxheWVkIGluIG9uZSBtZXNzYWdlLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2FsY3VsYXRlTWF4TGluZXNcbiAgICAqIEBwYXJhbSB7QXJyYXl9IGxpbmVzIC0gQW4gYXJyYXkgb2YgbGluZS1vYmplY3RzLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGRpc3BsYXlhYmxlIGxpbmVzLlxuICAgICMjI1xuICAgIGNhbGN1bGF0ZU1heExpbmVzOiAobGluZXMpIC0+XG4gICAgICAgIGhlaWdodCA9IDBcbiAgICAgICAgcmVzdWx0ID0gMFxuICAgICAgICBmb3IgbGluZSBpbiBsaW5lc1xuICAgICAgICAgICAgICAgIGhlaWdodCArPSBsaW5lLmhlaWdodCArIEBsaW5lU3BhY2luZygpXG4gICAgICAgICAgICAgICAgaWYgQGN1cnJlbnRZK2hlaWdodCA+IChAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIHJlc3VsdCsrXG4gICAgIFxuICAgICAgICByZXR1cm4gTWF0aC5taW4obGluZXMubGVuZ3RoLCByZXN1bHQpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFByb2Nlc3NlcyB0aGUgbmV4dCBjaGFyYWN0ZXIvdG9rZW4gb2YgdGhlIG1lc3NhZ2UuXG4gICAgKiBAbWV0aG9kIG5leHRDaGFyXG4gICAgKiBAcHJpdmF0ZVxuICAgICMjI1xuICAgIG5leHRDaGFyOiAtPlxuICAgICAgICBAY2hhckluZGV4KytcbiAgICAgICAgQGxpbmVBbmltYXRpb25Db3VudCA9IEBjdXN0b21TcGVlZCB8fCBAc3BlZWRcbiAgICAgICAgXG4gICAgICAgIGlmIEB0b2tlbi5jb2RlPyBvciBAY2hhckluZGV4ID49IEB0b2tlbi5sZW5ndGhcbiAgICAgICAgICAgIEBjaGFySW5kZXggPSAwXG4gICAgICAgICAgICBAdG9rZW5JbmRleCsrXG4gICAgICAgICAgICBpZiBAdG9rZW5JbmRleCA+PSBAbGluZXNbQGxpbmVdLmNvbnRlbnQubGVuZ3RoXG4gICAgICAgICAgICAgICAgQHRva2VuSW5kZXggPSAwXG4gICAgICAgICAgICAgICAgQGxpbmUrK1xuICAgICAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlLnNyY1JlY3Qud2lkdGggPSBAY3VycmVudFNwcml0ZS5iaXRtYXAud2lkdGhcbiAgICAgICAgICAgICAgICBAY3VycmVudFNwcml0ZSA9IEBzcHJpdGVzW0BsaW5lXVxuICAgICAgICAgICAgICAgIGlmIEBjdXJyZW50U3ByaXRlP1xuICAgICAgICAgICAgICAgICAgICBAY3VycmVudFNwcml0ZS54ID0gQG9iamVjdC5vcmlnaW4ueCArIEBvYmplY3QuZHN0UmVjdC54XG4gICAgICAgICAgICAgICAgaWYgQGxpbmUgPCBAbWF4TGluZXNcbiAgICAgICAgICAgICAgICAgICAgQGN1cnJlbnRYID0gMFxuICAgICAgICAgICAgICAgICAgICBAdG9rZW4gPSBAbGluZXNbQGxpbmVdLmNvbnRlbnRbQHRva2VuSW5kZXhdIHx8IFwiXCJcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAdG9rZW4gPSBAbGluZXNbQGxpbmVdLmNvbnRlbnRbQHRva2VuSW5kZXhdIHx8IFwiXCJcbiAgICBcbiAgICAjIyMqXG4gICAgKiBGaW5pc2hlcyB0aGUgbWVzc2FnZS4gRGVwZW5kaW5nIG9uIHRoZSBtZXNzYWdlIGNvbmZpZ3VyYXRpb24sIHRoZVxuICAgICogbWVzc2FnZSB0ZXh0LXJlbmRlcmVyIHdpbGwgbm93IHdhaXQgZm9yIGEgdXNlci1hY3Rpb24gb3IgYSBjZXJ0YWluIGFtb3VudFxuICAgICogb2YgdGltZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGZpbmlzaFxuICAgICMjI1xuICAgIGZpbmlzaDogLT5cbiAgICAgICAgaWYgQHdhaXRBdEVuZFxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJtZXNzYWdlV2FpdGluZ1wiLCB0aGlzKVxuICAgICAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgQHdhaXRBdEVuZFRpbWUgPiAwXG4gICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBAd2FpdEF0RW5kVGltZVxuICAgICAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJtZXNzYWdlV2FpdGluZ1wiLCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgQHdhaXRBdEVuZCA9IHllc1xuXG4gICAgICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcIm1lc3NhZ2VXYWl0aW5nXCIsIHRoaXMpXG4gICAgICAgICAgICAjQGNsZWFyQ3VzdG9tT2JqZWN0cygpXG4gICAgICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcIm1lc3NhZ2VGaW5pc2hcIiwgdGhpcylcbiAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGxpbmUgd3JpdGluZy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUxpbmVXcml0aW5nXG4gICAgKiBAcHJpdmF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZUxpbmVXcml0aW5nOiAtPlxuICAgICAgICBpZiBAaXNSdW5uaW5nIGFuZCBub3QgQGlzV2FpdGluZyBhbmQgbm90IEB3YWl0Rm9yS2V5IGFuZCBub3QgQHdhaXRDb3VudGVyID4gMFxuICAgICAgICAgICAgQGxpbmVBbmltYXRpb25Db3VudC0tXG4gICAgICAgICAgICBpZiBAbGluZUFuaW1hdGlvbkNvdW50IDw9IDBcbiAgICAgICAgICAgICAgICBsb29wXG4gICAgICAgICAgICAgICAgICAgIGlmIEBsaW5lIDwgQG1heExpbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBAbmV4dENoYXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIEBsaW5lID49IEBtYXhMaW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgQGZpbmlzaCgpXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIEBkcmF3TmV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgdW5sZXNzIEBkcmF3SW1tZWRpYXRlbHkgYW5kIEBpc1J1bm5pbmcgYW5kIEBsaW5lIDwgQG1heExpbmVzXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQHdhaXRGb3JLZXlcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAd2FpdENvdW50ZXIgPiAwXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAd2FpdENvdW50ZXItLVxuICAgICAgICAgICAgaWYgQHdhaXRDb3VudGVyIDw9IDBcbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgXG4gICAgIFxuICAgICMjIypcbiAgICAqIDxwPk1lYXN1cmVzIGEgY29udHJvbC10b2tlbi4gSWYgYSB0b2tlbiBwcm9kdWNlcyBhIHZpc3VhbCByZXN1bHQgbGlrZSBkaXNwbGF5aW5nIGFuIGljb24gdGhlbiBpdCBtdXN0IHJldHVybiB0aGUgc2l6ZSB0YWtlbiBieVxuICAgICogdGhlIHZpc3VhbCByZXN1bHQuIElmIHRoZSB0b2tlbiBoYXMgbm8gdmlzdWFsIHJlc3VsdCwgPGI+bnVsbDwvYj4gbXVzdCBiZSByZXR1cm5lZC4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZvciBldmVyeSB0b2tlbiB3aGVuIHRoZSBtZXNzYWdlIGlzIGluaXRpYWxpemVkLjwvcD4gXG4gICAgKlxuICAgICogPHA+VGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCB3aGlsZSB0aGUgbWVzc2FnZSBpcyBydW5uaW5nLiBGb3IgdGhhdCBjYXNlLCBzZWUgPGk+cHJvY2Vzc0NvbnRyb2xUb2tlbjwvaT4gbWV0aG9kIHdoaWNoIGlzIGNhbGxlZFxuICAgICogZm9yIGV2ZXJ5IHRva2VuIHdoaWxlIHRoZSBtZXNzYWdlIGlzIHJ1bm5pbmcuPC9wPlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAqIEByZXR1cm4ge2dzLlNpemV9IFRoZSBzaXplIG9mIHRoZSBhcmVhIHRha2VuIGJ5IHRoZSB2aXN1YWwgcmVzdWx0IG9mIHRoZSB0b2tlbiBvciA8Yj5udWxsPC9iPiBpZiB0aGUgdG9rZW4gaGFzIG5vIHZpc3VhbCByZXN1bHQuXG4gICAgKiBAbWV0aG9kIGFuYWx5emVDb250cm9sVG9rZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBtZWFzdXJlQ29udHJvbFRva2VuOiAodG9rZW4pIC0+IHJldHVybiBzdXBlcih0b2tlbilcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogPHA+RHJhd3MgdGhlIHZpc3VhbCByZXN1bHQgb2YgYSB0b2tlbiwgbGlrZSBhbiBpY29uIGZvciBleGFtcGxlLCB0byB0aGUgc3BlY2lmaWVkIGJpdG1hcC4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGZvciBldmVyeSB0b2tlbiB3aGVuIHRoZSBtZXNzYWdlIGlzIGluaXRpYWxpemVkIGFuZCB0aGUgc3ByaXRlcyBmb3IgZWFjaFxuICAgICogdGV4dC1saW5lIGFyZSBjcmVhdGVkLjwvcD4gXG4gICAgKlxuICAgICogPHA+VGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCB3aGlsZSB0aGUgbWVzc2FnZSBpcyBydW5uaW5nLiBGb3IgdGhhdCBjYXNlLCBzZWUgPGk+cHJvY2Vzc0NvbnRyb2xUb2tlbjwvaT4gbWV0aG9kIHdoaWNoIGlzIGNhbGxlZFxuICAgICogZm9yIGV2ZXJ5IHRva2VuIHdoaWxlIHRoZSBtZXNzYWdlIGlzIHJ1bm5pbmcuPC9wPlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAqIEBwYXJhbSB7Z3MuQml0bWFwfSBiaXRtYXAgLSBUaGUgYml0bWFwIHVzZWQgZm9yIHRoZSBjdXJyZW50IHRleHQtbGluZS4gQ2FuIGJlIHVzZWQgdG8gZHJhdyBzb21ldGhpbmcgb24gaXQgbGlrZSBhbiBpY29uLCBldGMuXG4gICAgKiBAbWV0aG9kIGRyYXdDb250cm9sVG9rZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBkcmF3Q29udHJvbFRva2VuOiAodG9rZW4sIGJpdG1hcCkgLT5cbiAgICAgICAgc3dpdGNoIHRva2VuLmNvZGVcbiAgICAgICAgICAgIHdoZW4gXCJSVFwiICMgUnVieSBUZXh0XG4gICAgICAgICAgICAgICAgc3VwZXIodG9rZW4sIGJpdG1hcClcbiAgICAgICAgICAgICAgICBcbiAgICAgXG4gICAgIyMjKlxuICAgICogUHJvY2Vzc2VzIGEgY29udHJvbC10b2tlbi4gQSBjb250cm9sLXRva2VuIGlzIGEgdG9rZW4gd2hpY2ggaW5mbHVlbmNlc1xuICAgICogdGhlIHRleHQtcmVuZGVyaW5nIGxpa2UgY2hhbmdpbmcgdGhlIGZvbnRzIGNvbG9yLCBzaXplIG9yIHN0eWxlLiBDaGFuZ2VzIFxuICAgICogd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgdG8gdGhlIGdhbWUgb2JqZWN0J3MgZm9udC5cbiAgICAqXG4gICAgKiBGb3IgbWVzc2FnZSB0ZXh0LXJlbmRlcmVyLCBhIGZldyBhZGRpdGlvbmFsIGNvbnRyb2wtdG9rZW5zIGxpa2VcbiAgICAqIHNwZWVkLWNoYW5nZSwgd2FpdGluZywgZXRjLiBuZWVkcyB0byBiZSBwcm9jZXNzZWQgaGVyZS5cbiAgICAqXG4gICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgZm9yIGVhY2ggdG9rZW4gd2hpbGUgdGhlIG1lc3NhZ2UgaXMgaW5pdGlhbGl6ZWQgYW5kXG4gICAgKiBhbHNvIHdoaWxlIHRoZSBtZXNzYWdlIGlzIHJ1bm5pbmcuIFNlZSA8aT5mb3JtYXR0aW5nT25seTwvaT4gcGFyYW1ldGVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiAtIEEgY29udHJvbC10b2tlbi5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9ybWF0dGluZ09ubHkgLSBJZiA8Yj50cnVlPC9iPiB0aGUgbWVzc2FnZSBpcyBpbml0aWFsaXppbmcgcmlnaHQgbm93IGFuZCBvbmx5IFxuICAgICogZm9ybWF0LXRva2VucyBzaG91bGQgYmUgcHJvY2Vzc2VkIHdoaWNoIGlzIG5lY2Vzc2FyeSBmb3IgdGhlIG1lc3NhZ2UgdG8gY2FsY3VsYXRlZCBzaXplcyBjb3JyZWN0bHkuXG4gICAgKiBAbWV0aG9kIHByb2Nlc3NDb250cm9sVG9rZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBwcm9jZXNzQ29udHJvbFRva2VuOiAodG9rZW4sIGZvcm1hdHRpbmdPbmx5KSAtPlxuICAgICAgICByZXR1cm4gc3VwZXIodG9rZW4pIGlmIGZvcm1hdHRpbmdPbmx5XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2ggdG9rZW4uY29kZVxuICAgICAgICAgICAgd2hlbiBcIlhcIiAjIFNjcmlwdFxuICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlPyhAb2JqZWN0KVxuICAgICAgICAgICAgd2hlbiBcIkFcIiAjIFBsYXkgQW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gUmVjb3JkTWFuYWdlci5hbmltYXRpb25zW01hdGgubWF4KHRva2VuLnZhbHVlLTEsIDApXVxuICAgICAgICAgICAgICAgIGlmIGFuaW1hdGlvbj8uZ3JhcGhpYy5uYW1lP1xuICAgICAgICAgICAgICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3thbmltYXRpb24uZ3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBuZXcgZ3MuT2JqZWN0X0FuaW1hdGlvbihhbmltYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBAYWRkQ3VzdG9tT2JqZWN0KG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgQGN1cnJlbnRYICs9IE1hdGgucm91bmQoYml0bWFwLndpZHRoIC8gYW5pbWF0aW9uLmZyYW1lc1gpXG4gICAgICAgICAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlLnNyY1JlY3Qud2lkdGggKz0gTWF0aC5yb3VuZChiaXRtYXAud2lkdGggLyBhbmltYXRpb24uZnJhbWVzWClcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgIHdoZW4gXCJMS1wiICMgTGluayAgICAgIFxuICAgICAgICAgICAgICAgIGlmIHRva2VuLnZhbHVlID09ICdFJyAjIEVuZCBMaW5rXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyB1aS5PYmplY3RfSG90c3BvdCgpXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5lbmFibGVkID0geWVzXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5zZXR1cCgpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBAYWRkQ3VzdG9tT2JqZWN0KG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5kc3RSZWN0LnggPSBAb2JqZWN0LmRzdFJlY3QueCArIEBvYmplY3Qub3JpZ2luLnggKyBAY3VzdG9tRGF0YS5saW5rRGF0YS5jeFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC5kc3RSZWN0LnkgKyBAb2JqZWN0Lm9yaWdpbi55ICsgQGN1c3RvbURhdGEubGlua0RhdGEuY3lcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAY3VycmVudFggLSBAY3VzdG9tRGF0YS5saW5rRGF0YS5jeFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHN0UmVjdC5oZWlnaHQgPSBAY3VycmVudExpbmVIZWlnaHRcblxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZXZlbnRzLm9uIFwiY2xpY2tcIiwgKGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUuaW50ZXJwcmV0ZXIuY2FsbENvbW1vbkV2ZW50KEBjdXN0b21EYXRhLmxpbmtEYXRhLmNvbW1vbkV2ZW50SWQsIG51bGwpXG4gICAgICAgICAgICAgICAgZWxzZSAjIEJlZ2luIExpbmtcbiAgICAgICAgICAgICAgICAgICAgQGN1c3RvbURhdGEubGlua0RhdGEgPSB7IGN4OiBAY3VycmVudFgsIGN5OiBAY3VycmVudFksIGNvbW1vbkV2ZW50SWQ6IHRva2VuLnZhbHVlIC0gMSwgdG9rZW5JbmRleDogQHRva2VuSW5kZXggfVxuICAgICAgICAgICAgd2hlbiBcIlNMS1wiICMgU3R5bGVhYmxlIExpbmtcbiAgICAgICAgICAgICAgICBpZiB0b2tlbi52YWx1ZSA9PSAnRScgIyBFbmQgTGlua1xuICAgICAgICAgICAgICAgICAgICBAY3VycmVudFNwcml0ZS5iaXRtYXAuY2xlYXJSZWN0KEBjdXN0b21EYXRhLmxpbmtEYXRhLmN4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjdXN0b21EYXRhLmxpbmtEYXRhLmN5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjdXJyZW50WCAtIEBjdXN0b21EYXRhLmxpbmtEYXRhLmN4ICsgQG9iamVjdC5mb250LmJvcmRlclNpemUqMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY3VycmVudExpbmVIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBAbGluZXNbQGxpbmVdLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgbGlua1N0YXJ0ID0gQGZpbmRUb2tlbihAdG9rZW5JbmRleC0xLCBcIlNMS1wiLCAtMSwgbGluZSlcbiAgICAgICAgICAgICAgICAgICAgdGV4dFRva2VucyA9IEBmaW5kVG9rZW5zQmV0d2VlbihAY3VzdG9tRGF0YS5saW5rRGF0YS50b2tlbkluZGV4LCBAdG9rZW5JbmRleCwgbnVsbCwgbGluZSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyB1aS5PYmplY3RfVGV4dCgpXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC50ZXh0ID0gdGV4dFRva2Vucy5qb2luKFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5zaXplVG9GaXQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmZvcm1hdHRpbmcgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LndvcmRXcmFwID0gbm9cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVpID0gbmV3IHVpLkNvbXBvbmVudF9VSUJlaGF2aW9yKClcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmVuYWJsZWQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFkZENvbXBvbmVudChvYmplY3QudWkpXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5hZGRDb21wb25lbnQobmV3IGdzLkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IoKSlcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiBAY3VzdG9tRGF0YS5saW5rRGF0YS5zdHlsZUluZGV4ID09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICB1aS5VSU1hbmFnZXIuYWRkQ29udHJvbFN0eWxlcyhvYmplY3QsIFtcImh5cGVybGlua1wiXSlcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpLlVJTWFuYWdlci5hZGRDb250cm9sU3R5bGVzKG9iamVjdCwgW1wiaHlwZXJsaW5rLVwiK0BjdXN0b21EYXRhLmxpbmtEYXRhLnN0eWxlSW5kZXhdKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNldHVwKClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIEBhZGRDdXN0b21PYmplY3Qob2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRzdFJlY3QueCA9IEBvYmplY3QuZHN0UmVjdC54ICsgQG9iamVjdC5vcmlnaW4ueCArIEBjdXN0b21EYXRhLmxpbmtEYXRhLmN4XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5kc3RSZWN0LnkgPSBAb2JqZWN0LmRzdFJlY3QueSArIEBvYmplY3Qub3JpZ2luLnkgKyBAY3VzdG9tRGF0YS5saW5rRGF0YS5jeVxuXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5ldmVudHMub24gXCJjbGlja1wiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS5pbnRlcnByZXRlci5jYWxsQ29tbW9uRXZlbnQoQGN1c3RvbURhdGEubGlua0RhdGEuY29tbW9uRXZlbnRJZCwgbnVsbClcbiAgICAgICAgICAgICAgICBlbHNlICMgQmVnaW4gTGlua1xuICAgICAgICAgICAgICAgICAgICBpZiBpc05hTih0b2tlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHRva2VuLnZhbHVlLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgQGN1c3RvbURhdGEubGlua0RhdGEgPSB7IGN4OiBAY3VycmVudFgsIGN5OiBAY3VycmVudFksIGNvbW1vbkV2ZW50SWQ6IHBhcnNlSW50KHZhbHVlc1swXSkgLSAxLCBzdHlsZUluZGV4OiBwYXJzZUludCh2YWx1ZXNbMV0pLCB0b2tlbkluZGV4OiBAdG9rZW5JbmRleCB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjdXN0b21EYXRhLmxpbmtEYXRhID0geyBjeDogQGN1cnJlbnRYLCBjeTogQGN1cnJlbnRZLCBjb21tb25FdmVudElkOiB0b2tlbi52YWx1ZSAtIDEsIHRva2VuSW5kZXg6IEB0b2tlbkluZGV4LCBzdHlsZUluZGV4OiAtMSB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgd2hlbiBcIkVcIiAjIENoYW5nZSBFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbTWF0aC5tYXgodG9rZW4udmFsdWUtMSwgMCldXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gU2NlbmVNYW5hZ2VyLnNjZW5lLmN1cnJlbnRDaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBpZiBleHByZXNzaW9uPyBhbmQgY2hhcmFjdGVyPy5pbmRleD9cbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5jaGFyYWN0ZXIuZXhwcmVzc2lvbkR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChHYW1lTWFuYWdlci5kZWZhdWx0cy5jaGFyYWN0ZXIuY2hhbmdlRWFzaW5nKVxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24gPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5jaGFyYWN0ZXIuY2hhbmdlQW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IFNjZW5lTWFuYWdlci5zY2VuZS5jaGFyYWN0ZXJzLmZpcnN0IChjKSAtPiBjLnJpZCA9PSBjaGFyYWN0ZXIuaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Py5iZWhhdmlvci5jaGFuZ2VFeHByZXNzaW9uKGV4cHJlc3Npb24sIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcbiAgXG4gICAgICAgICAgICB3aGVuIFwiU1BcIiAjIFBsYXkgU291bmRcbiAgICAgICAgICAgICAgICBzb3VuZCA9IFJlY29yZE1hbmFnZXIuc3lzdGVtLnNvdW5kc1t0b2tlbi52YWx1ZS0xXVxuICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5wbGF5U291bmQoc291bmQpXG4gICAgICAgICAgICB3aGVuIFwiU1wiICMgQ2hhbmdlIFNwZWVkXG4gICAgICAgICAgICAgICAgQGN1c3RvbVNwZWVkID0gdG9rZW4udmFsdWVcbiAgICAgICAgICAgIHdoZW4gXCJXXCIgIyBXYWl0XG4gICAgICAgICAgICAgICAgQGRyYXdJbW1lZGlhdGVseSA9IG5vXG4gICAgICAgICAgICAgICAgaWYgIUdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwXG4gICAgICAgICAgICAgICAgICAgIGlmIHRva2VuLnZhbHVlID09IFwiQVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBAd2FpdEZvcktleSA9IHllc1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBNYXRoLnJvdW5kKHRva2VuLnZhbHVlIC8gMTAwMCAqIEdyYXBoaWNzLmZyYW1lUmF0ZSlcbiAgICAgICAgICAgIHdoZW4gXCJXRVwiICMgV2FpdCBhdCBFbmRcbiAgICAgICAgICAgICAgICBAd2FpdEF0RW5kID0gdG9rZW4udmFsdWUgPT0gXCJZXCJcbiAgICAgICAgICAgIHdoZW4gXCJESVwiICMgRHJhdyBJbW1lZGlhbHR5XG4gICAgICAgICAgICAgICAgQGRyYXdJbW1lZGlhdGVseSA9IHRva2VuLnZhbHVlID09IDEgIyBEcmF3IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc3VwZXIodG9rZW4pXG4gICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQ2xlYXJzL1Jlc2V0cyB0aGUgdGV4dC1yZW5kZXJlci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgIyMjXG4gICAgY2xlYXI6IC0+XG4gICAgICAgIEBjaGFySW5kZXggPSAwXG4gICAgICAgIEBjdXJyZW50WCA9IDBcbiAgICAgICAgQGN1cnJlbnRZID0gMFxuICAgICAgICBAbGluZSA9IDBcbiAgICAgICAgQGxpbmVzID0gW11cbiAgICAgICAgQGNsZWFyQ3VzdG9tT2JqZWN0cygpXG4gICAgICAgIEBvYmplY3QuYml0bWFwPy5jbGVhcigpXG4gICAgICAgIFxuICAgICAgICBmb3Igc3ByaXRlIGluIEBhbGxTcHJpdGVzXG4gICAgICAgICAgICBzcHJpdGUuZGlzcG9zZSgpXG4gICAgICAgICAgICBzcHJpdGUuYml0bWFwPy5kaXNwb3NlKClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogQ2xlYXJzL0Rpc3Bvc2VzIGFsbCBzcHJpdGVzIHVzZWQgdG8gZGlzcGxheSB0aGUgdGV4dC1saW5lcy9wYXJ0cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNsZWFyQWxsU3ByaXRlc1xuICAgICMjI1xuICAgIGNsZWFyQWxsU3ByaXRlczogLT5cbiAgICAgICAgZm9yIHNwcml0ZSBpbiBAYWxsU3ByaXRlc1xuICAgICAgICAgICAgc3ByaXRlLmRpc3Bvc2UoKVxuICAgICAgICAgICAgc3ByaXRlLmJpdG1hcC5kaXNwb3NlKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDbGVhcnMvRGlzcG9zZXMgdGhlIHNwcml0ZXMgdXNlZCB0byBkaXNwbGF5IHRoZSB0ZXh0LWxpbmVzL3BhcnRzIG9mIHRoZSBjdXJyZW50L2xhc3QgbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNsZWFyU3ByaXRlc1xuICAgICMjIyAgICAgICAgXG4gICAgY2xlYXJTcHJpdGVzOiAtPlxuICAgICAgICBmb3Igc3ByaXRlIGluIEBzcHJpdGVzXG4gICAgICAgICAgICBzcHJpdGUuZGlzcG9zZSgpXG4gICAgICAgICAgICBzcHJpdGUuYml0bWFwLmRpc3Bvc2UoKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogUmV0dXJucyB0aGUgc3BhY2luZyBiZXR3ZWVuIGxpbmVzIGluIHBpeGVscy4gQnkgZGVmYXVsdCwgdGhlIHNwYWNpbmcgaXMgNC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxpbmVTcGFjaW5nXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBsaW5lIHNwYWNpbmcgaW4gcGl4ZWxzLlxuICAgICMjI1xuICAgIGxpbmVTcGFjaW5nOiAtPiAyXG4gICAgXG4gICAgIyMjKlxuICAgICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIGNhcmV0IGluIHBpeGVscy4gVGhlIGNhcmV0IGlzIGxpa2UgYW4gaW52aXNpYmxlXG4gICAgKiBjdXJzb3IgcG9pbnRpbmcgdG8gdGhlIHgveSBjb29yZGluYXRlcyBvZiB0aGUgbGFzdCByZW5kZXJlZCBjaGFyYWN0ZXIgb2ZcbiAgICAqIHRoZSBtZXNzYWdlLiBUaGF0IHBvc2l0aW9uIGNhbiBiZSB1c2VkIHRvIGRpc3BsYXkgYSB3YWl0aW5nLSBvciBwcm9jZXNzaW5nLWFuaW1hdGlvbiBmb3IgZXhhbXBsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNhcmV0UG9zaXRpb25cbiAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgb2YgdGhlIGNhcmV0LXBvc2l0aW9uLlxuICAgICMjI1xuICAgIGNhcmV0UG9zaXRpb246IC0+IHsgeDogQGN1cnJlbnRYLCB5OiBAY3VycmVudFkgKyBAY3VycmVudExpbmVIZWlnaHQvMiB9XG4gICAgXG4gICAgIyMjKlxuICAgICogQWRkcyBhIGdhbWUgb2JqZWN0IHRvIHRoZSBtZXNzYWdlIHdoaWNoIGlzIGFsaXZlIHVudGlsIHRoZSBtZXNzYWdlIGlzXG4gICAgKiBlcmFzZWQuIENhbiBiZSB1c2VkIHRvIGRpc3BsYXkgYW5pbWF0aW9uZWQtaWNvbnMsIGV0Yy4gaW4gYSBtZXNzYWdlLlxuICAgICpcbiAgICAqIEBtZXRob2QgYWRkQ3VzdG9tT2JqZWN0XG4gICAgKiBAcGFyYW0gb2JqZWN0IHtPYmplY3R9IFRoZSBnYW1lIG9iamVjdCB0byBhZGQuXG4gICAgIyMjXG4gICAgYWRkQ3VzdG9tT2JqZWN0OiAob2JqZWN0KSAtPlxuICAgICAgICBvYmplY3QuZHN0UmVjdC54ID0gQG9iamVjdC5kc3RSZWN0LnggKyBAb2JqZWN0Lm9yaWdpbi54ICsgQGN1cnJlbnRYXG4gICAgICAgIG9iamVjdC5kc3RSZWN0LnkgPSBAb2JqZWN0LmRzdFJlY3QueSArIEBvYmplY3Qub3JpZ2luLnkgKyBAY3VycmVudFlcbiAgICAgICAgb2JqZWN0LnpJbmRleCA9IEBvYmplY3QuekluZGV4ICsgMVxuICAgICAgICBvYmplY3QudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS5hZGRPYmplY3Qob2JqZWN0KVxuICAgICAgICBAY3VzdG9tT2JqZWN0cy5wdXNoKG9iamVjdClcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ2xlYXJzIHRoZSBsaXN0IG9mIGN1c3RvbSBnYW1lIG9iamVjdHMuIEFsbCBnYW1lIG9iamVjdHMgYXJlIGRpc3Bvc2VkIGFuZCByZW1vdmVkXG4gICAgKiBmcm9tIHRoZSBzY2VuZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGFkZEN1c3RvbU9iamVjdFxuICAgICogQHBhcmFtIG9iamVjdCB7T2JqZWN0fSBUaGUgZ2FtZSBvYmplY3QgdG8gYWRkLlxuICAgICMjIyAgIFxuICAgIGNsZWFyQ3VzdG9tT2JqZWN0czogLT5cbiAgICAgICAgZm9yIG9iamVjdCBpbiBAY3VzdG9tT2JqZWN0c1xuICAgICAgICAgICAgb2JqZWN0LmRpc3Bvc2UoKVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLnJlbW92ZU9iamVjdChvYmplY3QpXG4gICAgICAgICAgICBcbiAgICAgICAgQGN1c3RvbU9iamVjdHMgPSBbXVxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgdGhlIGJpdG1hcCBmb3IgYSBzcGVjaWZpZWQgbGluZS1vYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjcmVhdGVCaXRtYXBcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gbGluZSAtIEEgbGluZS1vYmplY3QuXG4gICAgKiBAcmV0dXJuIHtCaXRtYXB9IEEgbmV3bHkgY3JlYXRlZCBiaXRtYXAgY29udGFpbmluZyB0aGUgbGluZS10ZXh0LlxuICAgICMjI1xuICAgIGNyZWF0ZUJpdG1hcDogKGxpbmUpIC0+XG4gICAgICAgIEBmb250ID0gQG9iamVjdC5mb250XG4gICAgICAgIFxuICAgICAgICBiaXRtYXAgPSBuZXcgQml0bWFwKEBvYmplY3QuZHN0UmVjdC53aWR0aCwgbGluZS5oZWlnaHQpXG4gICAgICAgIGJpdG1hcC5mb250ID0gQGZvbnRcbiAgICAgICAgQGN1cnJlbnRYID0gMFxuICAgICAgICBcbiAgICAgICAgZm9yIHRva2VuIGluIGxpbmUuY29udGVudFxuICAgICAgICAgICAgaWYgdG9rZW4uY29kZT9cbiAgICAgICAgICAgICAgICBzaXplID0gQG1lYXN1cmVDb250cm9sVG9rZW4odG9rZW4sIGJpdG1hcClcbiAgICAgICAgICAgICAgICBAZHJhd0NvbnRyb2xUb2tlbih0b2tlbiwgYml0bWFwKVxuICAgICAgICAgICAgICAgIGlmIHNpemUgdGhlbiBAY3VycmVudFggKz0gc2l6ZS53aWR0aFxuICAgICAgICAgICAgICAgIEBwcm9jZXNzQ29udHJvbFRva2VuKHRva2VuLCB5ZXMsIGxpbmUpXG4gICAgICAgICAgICBlbHNlIGlmIHRva2VuLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICBzaXplID0gQGZvbnQubWVhc3VyZVRleHRQbGFpbih0b2tlbikgIFxuICAgICAgICAgICAgICAgIGJpdG1hcC5kcmF3VGV4dChAY3VycmVudFgsIGJpdG1hcC5oZWlnaHQgLSAoc2l6ZS5oZWlnaHQgLSBAZm9udC5kZXNjZW50KSAtIGxpbmUuZGVzY2VudCwgc2l6ZS53aWR0aCwgYml0bWFwLmhlaWdodCwgdG9rZW4sIDAsIDApXG4gICAgICAgICAgICAgICAgQGN1cnJlbnRYICs9IHNpemUud2lkdGhcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGJpdG1hcFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIGEgc3BlY2lmaWVkIGxpbmUtb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlU3ByaXRlXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGxpbmUgLSBBIGxpbmUtb2JqZWN0LlxuICAgICogQHJldHVybiB7U3ByaXRlfSBBIG5ld2x5IGNyZWF0ZWQgc3ByaXRlIG9iamVjdCBjb250YWluaW5nIHRoZSBsaW5lLXRleHQgYXMgYml0bWFwLlxuICAgICMjI1xuICAgIGNyZWF0ZVNwcml0ZTogKGxpbmUpIC0+XG4gICAgICAgIGJpdG1hcCA9IEBjcmVhdGVCaXRtYXAobGluZSlcbiAgICAgICAgXG4gICAgICAgIEBjdXJyZW50WCA9IDBcbiAgICAgICAgQHdhaXRDb3VudGVyID0gMFxuICAgICAgICBAd2FpdEZvcktleSA9IG5vXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHNwcml0ZSA9IG5ldyBTcHJpdGUoR3JhcGhpY3Mudmlld3BvcnQpXG4gICAgICAgIHNwcml0ZS5iaXRtYXAgPSBiaXRtYXBcbiAgICAgICAgc3ByaXRlLnZpc2libGUgPSB5ZXNcbiAgICAgICAgc3ByaXRlLnogPSBAb2JqZWN0LnpJbmRleCArIDFcbiAgICAgICAgXG4gICAgICAgIHNwcml0ZS5zcmNSZWN0ID0gbmV3IFJlY3QoMCwgMCwgMCwgYml0bWFwLmhlaWdodClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzcHJpdGVcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ3JlYXRlcyB0aGUgc3ByaXRlcyBmb3IgYSBzcGVjaWZpZWQgYXJyYXkgb2YgbGluZS1vYmplY3RzLlxuICAgICpcbiAgICAqIEBtZXRob2QgY3JlYXRlU3ByaXRlc1xuICAgICogQHByaXZhdGVcbiAgICAqIEBzZWUgZ3MuQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXIuY3JlYXRlU3ByaXRlLlxuICAgICogQHBhcmFtIHtBcnJheX0gbGluZXMgLSBBbiBhcnJheSBvZiBsaW5lLW9iamVjdHMuXG4gICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2Ygc3ByaXRlcy5cbiAgICAjIyNcbiAgICBjcmVhdGVTcHJpdGVzOiAobGluZXMpIC0+XG4gICAgICAgIEBmb250U2l6ZSA9IEBvYmplY3QuZm9udC5zaXplXG4gICAgICAgIHJlc3VsdCA9IFtdXG4gICAgICAgIGZvciBsaW5lLCBpIGluIGxpbmVzXG4gICAgICAgICAgICBzcHJpdGUgPSBAY3JlYXRlU3ByaXRlKGxpbmUpXG4gICAgICAgICAgICByZXN1bHQucHVzaChzcHJpdGUpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgYSBuZXcgbGluZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG5ld0xpbmVcbiAgICAjIyNcbiAgICBuZXdMaW5lOiAtPlxuICAgICAgICBAY3VycmVudFggPSAwXG4gICAgICAgIEBjdXJyZW50WSArPSBAY3VycmVudExpbmVIZWlnaHQgKyBAbGluZVNwYWNpbmcoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwbGF5cyBhIGZvcm1hdHRlZCB0ZXh0IGltbWVkaWF0ZWx5IHdpdGhvdXQgYW55IGRlbGF5cyBvciBhbmltYXRpb25zLiBUaGVcbiAgICAqIENvbXBvbmVudF9UZXh0UmVuZGVyZXIuZHJhd0Zvcm1hdHRlZFRleHQgbWV0aG9kIGZyb20gdGhlIGJhc2UtY2xhc3MgY2Fubm90XG4gICAgKiBiZSB1c2VkIGhlcmUgYmVjYXVzZSBpdCB3b3VsZCByZW5kZXIgdG8gdGhlIGdhbWUgb2JqZWN0J3MgYml0bWFwIG9iamVjdCB3aGlsZVxuICAgICogdGhpcyBtZXRob2QgaXMgcmVuZGVyaW5nIHRvIHRoZSBzcHJpdGVzLlxuICAgICpcbiAgICAqIEBtZXRob2QgZHJhd0Zvcm1hdHRlZFRleHRJbW1lZGlhdGVseVxuICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB0ZXh0J3MgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHRleHQncyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIERlcHJlY2F0ZWQuIENhbiBiZSBudWxsLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIERlcHJlY2F0ZWQuIENhbiBiZSBudWxsLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3LlxuICAgICogQHBhcmFtIHtib29sZWFufSB3b3JkV3JhcCAtIElmIHdvcmRXcmFwIGlzIHNldCB0byB0cnVlLCBsaW5lLWJyZWFrcyBhcmUgYXV0b21hdGljYWxseSBjcmVhdGVkLlxuICAgICMjI1xuICAgIGRyYXdGb3JtYXR0ZWRUZXh0SW1tZWRpYXRlbHk6ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCB0ZXh0LCB3b3JkV3JhcCkgLT5cbiAgICAgICAgQGRyYXdGb3JtYXR0ZWRUZXh0KHgsIHksIHdpZHRoLCBoZWlnaHQsIHRleHQsIHdvcmRXcmFwKVxuICAgICAgICBcbiAgICAgICAgbG9vcFxuICAgICAgICAgICAgQG5leHRDaGFyKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBsaW5lID49IEBtYXhMaW5lc1xuICAgICAgICAgICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBkcmF3TmV4dCgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBicmVhayB1bmxlc3MgQGlzUnVubmluZ1xuICAgICAgICAgICAgXG4gICAgICAgIEBjdXJyZW50WSArPSBAY3VycmVudExpbmVIZWlnaHQgKyBAbGluZVNwYWNpbmcoKVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSByZW5kZXJpbmctcHJvY2VzcyBmb3IgdGhlIG1lc3NhZ2UuXG4gICAgKlxuICAgICogQG1ldGhvZCBkcmF3Rm9ybWF0dGVkVGV4dFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB0ZXh0J3MgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHRleHQncyBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIERlcHJlY2F0ZWQuIENhbiBiZSBudWxsLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIERlcHJlY2F0ZWQuIENhbiBiZSBudWxsLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3LlxuICAgICogQHBhcmFtIHtib29sZWFufSB3b3JkV3JhcCAtIElmIHdvcmRXcmFwIGlzIHNldCB0byB0cnVlLCBsaW5lLWJyZWFrcyBhcmUgYXV0b21hdGljYWxseSBjcmVhdGVkLlxuICAgICMjI1xuICAgIGRyYXdGb3JtYXR0ZWRUZXh0OiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgdGV4dCwgd29yZFdyYXApIC0+XG4gICAgICAgIHRleHQgPSB0ZXh0IHx8IFwiIFwiICMgVXNlIGEgc3BhY2UgY2hhcmFjdGVyIGlmIG5vIHRleHQgaXMgc3BlY2lmaWVkLlxuICAgICAgICBAZm9udC5zZXQoQG9iamVjdC5mb250KVxuICAgICAgICBAc3BlZWQgPSAxMCAtIE1hdGgucm91bmQoR2FtZU1hbmFnZXIuc2V0dGluZ3MubWVzc2FnZVNwZWVkICogMi41KVxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIEBkcmF3SW1tZWRpYXRlbHkgPSBub1xuICAgICAgICBAbGluZUFuaW1hdGlvbkNvdW50ID0gQGN1c3RvbVNwZWVkIHx8IEBzcGVlZFxuIFxuICAgICAgICBAY3VycmVudExpbmVIZWlnaHQgPSAwXG4gICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICBAd2FpdEZvcktleSA9IG5vXG4gICAgICAgIEBjaGFySW5kZXggPSAwXG4gICAgICAgIEB0b2tlbiA9IG51bGxcbiAgICAgICAgQHRva2VuSW5kZXggPSAwXG4gICAgICAgIEBtZXNzYWdlID0gdGV4dFxuICAgICAgICBAbGluZSA9IDBcbiAgICAgICAgQGN1cnJlbnRMaW5lID0gQGxpbmVcbiAgICAgICAgQGxpbmVzID0gQGNhbGN1bGF0ZUxpbmVzKGxjc20oQG1lc3NhZ2UpLCB3b3JkV3JhcCwgQGN1cnJlbnRYKVxuICAgICAgICBAc3ByaXRlcyA9IEBjcmVhdGVTcHJpdGVzKEBsaW5lcylcbiAgICAgICAgQGFsbFNwcml0ZXMgPSBAYWxsU3ByaXRlcy5jb25jYXQoQHNwcml0ZXMpXG4gICAgICAgIEBjdXJyZW50U3ByaXRlID0gQHNwcml0ZXNbQGxpbmVdXG4gICAgICAgIEBjdXJyZW50U3ByaXRlLnggPSBAY3VycmVudFggKyBAb2JqZWN0Lm9yaWdpbi54ICsgQG9iamVjdC5kc3RSZWN0LnhcbiAgICAgICAgQG1heExpbmVzID0gQGNhbGN1bGF0ZU1heExpbmVzKEBsaW5lcylcbiAgICAgICAgQHRva2VuID0gQGxpbmVzW0BsaW5lXT8uY29udGVudFtAdG9rZW5JbmRleF0gfHwgXCJcIlxuICAgICAgICBcbiAgICAgICAgaWYgQG1heExpbmVzID09IDBcbiAgICAgICAgICAgICMgSWYgZmlyc3QgbGluZSBpcyBlbXB0eSB0aGVuIGl0IGRvZXNuJ3QgZml0IGludG8gY3VycmVudCBsaW5lLCBzbyBmaW5pc2guXG4gICAgICAgICAgICBpZiBAbGluZXNbMF0/LmNvbnRlbnQgPT0gXCJcIlxuICAgICAgICAgICAgICAgIEBmaW5pc2goKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBtYXhMaW5lcyA9IDFcbiAgICAgICAgICAgICAgICBAZHJhd05leHQoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAZHJhd05leHQoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwbGF5cyB0aGUgY2hhcmFjdGVyIG9yIHByb2Nlc3NlcyB0aGUgbmV4dCBjb250cm9sLXRva2VuLlxuICAgICpcbiAgICAqIEBtZXRob2QgZHJhd05leHRcbiAgICAjIyNcbiAgICBkcmF3TmV4dDogLT5cbiAgICAgICAgaWYgQHRva2VuLmNvZGU/XG4gICAgICAgICAgICBAb2JqZWN0LnRleHRSZW5kZXJlci5wcm9jZXNzQ29udHJvbFRva2VuKEB0b2tlbiwgbm8pXG4gICAgICAgIGVsc2UgaWYgQHRva2VuLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIEBjaGFyID0gQHRva2VuLmNoYXJBdChAY2hhckluZGV4KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzaXplID0gQGZvbnQubWVhc3VyZVRleHRQbGFpbihAY2hhcikgIFxuICAgICAgICAgICAgcyA9IEdyYXBoaWNzLnNjYWxlICAgXG4gICAgICAgICAgICBsaW5lU3BhY2luZyA9IEBsaW5lU3BhY2luZygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBjdXJyZW50TGluZSAhPSBAbGluZVxuICAgICAgICAgICAgICAgIEBjdXJyZW50TGluZSA9IEBsaW5lXG4gICAgICAgICAgICAgICAgQGN1cnJlbnRZICs9IEBjdXJyZW50TGluZUhlaWdodCArIGxpbmVTcGFjaW5nICogR3JhcGhpY3Muc2NhbGVcbiAgICAgICAgICAgICAgICBAY3VycmVudExpbmVIZWlnaHQgPSAwXG5cbiAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlLnkgPSBAb2JqZWN0Lm9yaWdpbi55ICsgQG9iamVjdC5kc3RSZWN0LnkgKyBAY3VycmVudFlcbiAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlLnZpc2libGUgPSB5ZXNcbiAgICAgICAgICAgIEBjdXJyZW50U3ByaXRlLnNyY1JlY3Qud2lkdGggPSBNYXRoLm1pbihAY3VycmVudFNwcml0ZS5zcmNSZWN0LndpZHRoICsgc2l6ZS53aWR0aCwgQGN1cnJlbnRTcHJpdGUuYml0bWFwLndpZHRoKVxuICAgICAgICBcbiAgICAgICAgICAgIEBjdXJyZW50TGluZUhlaWdodCA9IEBsaW5lc1tAbGluZV0uaGVpZ2h0XG4gICAgICAgICAgICBAY3VycmVudFggPSBNYXRoLm1pbihAbGluZXNbQGxpbmVdLndpZHRoLCBAY3VycmVudFggKyBzaXplLndpZHRoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbmdzLkNvbXBvbmVudF9NZXNzYWdlVGV4dFJlbmRlcmVyID0gQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXIiXX0=
//# sourceURL=Component_MessageTextRenderer_126.js
var Component_Animator,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Animator = (function(superClass) {
  extend(Component_Animator, superClass);


  /**
  * An animator-component allows to execute different kind of animations 
  * on a game object. The animations are using the game object's 
  * dstRect & offset-property to execute.
  *
  * @module gs
  * @class Component_Animator
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_Animator() {
    Component_Animator.__super__.constructor.apply(this, arguments);

    /**
    * Standard Callback Routine
    * @property callback
    * @type function
    * @private
     */
    this.callback = function(object, animation) {
      return animation.dispose();
    };
    this.onBlendFinish = function(object, animation, callback) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    };
  }


  /**
  * Updates the animator.
  *
  * @method update
   */

  Component_Animator.prototype.update = function() {
    var ref, ref1;
    Component_Animator.__super__.update.apply(this, arguments);
    if (((ref = this.object.mask) != null ? (ref1 = ref.source) != null ? ref1.videoElement : void 0 : void 0) != null) {
      return this.object.mask.source.update();
    }
  };


  /**
  * Moves the game object with a specified speed.
  *
  * @method move
  * @param {number} speedX The speed on x-axis in pixels per frame.
  * @param {number} speedY The speed on y-axis in pixels per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type used for the animation.
   */

  Component_Animator.prototype.move = function(speedX, speedY, duration, easingType) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.move(speedX, speedY, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Moves the game object to a specified position.
  *
  * @method moveTo
  * @param {number} x The x-coordinate of the position.
  * @param {number} y The y-coordinate of the position.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.moveTo = function(x, y, duration, easingType) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.moveTo(x, y, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Moves the game object along a path.
  *
  * @method movePath
  * @param {Object} path The path to follow.
  * @param {gs.AnimationLoopType} loopType The loop-Type.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {Object[]} effects Optional array of effects executed during the path-movement like playing a sound.
   */

  Component_Animator.prototype.movePath = function(path, loopType, duration, easingType, effects) {
    var animation, c;
    c = this.object.findComponent("Component_PathAnimation");
    if (c != null) {
      c.loopType = loopType;
    } else {
      animation = new gs.Component_PathAnimation();
      this.object.addComponent(animation);
      animation.start(path, loopType, duration, easingType, effects, this.callback);
    }
    return animation;
  };


  /**
  * Scrolls the game object with a specified speed.
  *
  * @method scroll
  * @param {number} speedX The speed on x-axis in pixels per frame.
  * @param {number} speedY The speed on y-axis in pixels per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type used for the animation.
   */

  Component_Animator.prototype.scroll = function(speedX, speedY, duration, easingType) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.scroll(speedX, speedY, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Scrolls the game object to a specified position.
  *
  * @method scrollTo
  * @param {number} x The x-coordinate of the position.
  * @param {number} y The y-coordinate of the position.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.scrollTo = function(x, y, duration, easingType) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.scrollTo(x, y, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Scrolls the game object along a path.
  *
  * @method scrollPath
  * @param {Object} path The path to follow.
  * @param {gs.AnimationLoopType} loopType The loop-Type.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.scrollPath = function(path, loopType, duration, easingType) {
    var animation;
    animation = new gs.Component_PathAnimation();
    this.object.addComponent(animation);
    animation.scroll(path, loopType, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Zooms a game object to specified size.
  *
  * @method zoomTo
  * @param {number} x The x-axis zoom-factor.
  * @param {number} y The y-axis zoom-factor.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.zoomTo = function(x, y, duration, easingType) {
    var animation, c;
    c = this.object.findComponent("Component_ZoomAnimation");
    if (c != null) {
      this.object.removeComponent(c);
    }
    animation = new gs.Component_ZoomAnimation();
    this.object.addComponent(animation);
    animation.start(x, y, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Blends a game object to specified opacity.
  *
  * @method blendTo
  * @param {number} opacity The target opacity.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_Animator.prototype.blendTo = function(opacity, duration, easingType, callback) {
    var animation;
    animation = new gs.Component_BlendAnimation();
    this.object.addComponent(animation);
    animation.start(opacity, duration, easingType, gs.CallBack("onBlendFinish", this, callback));
    return animation;
  };


  /**
  * Colors a game object to a specified target color.
  *
  * @method colorTo
  * @param {Color} color The target color.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.colorTo = function(color, duration, easingType) {
    var animation;
    animation = new gs.Component_ColorAnimation();
    this.object.addComponent(animation);
    animation.start(color, duration, easingType, this.callback);
    return animation;
  };


  /**
  * An image animation runs from left to right using the game object's
  * image-property.
  *
  * @method changeImages
  * @param {Array} images An array of image names.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.changeImages = function(images, duration, easingType) {
    var animation;
    animation = new gs.Component_ImageAnimation();
    this.object.addComponent(animation);
    return animation.start(images, duration, easingType, this.callback);
  };


  /**
  * A frame animation which modifies the game object's srcRect property
  * a play an animation.
  *
  * @method changeFrames
  * @param {gs.Rect[]} frames An array of source rectangles (frames).
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */


  /**
  * A frame animation which modifies the game object's srcRect property
  * a play an animation.
  *
  * @method playAnimation
  * @param {gs.Rect[]} frames An array of source rectangles (frames).
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.playAnimation = function(animationRecord) {
    var animation;
    animation = new gs.Component_FrameAnimation(animationRecord);
    this.object.addComponent(animation);
    animation.start(this.callback);
    return animation;
  };


  /**
  * Changes a field of the game object to a specified value.
  *
  * @method change
  * @param {number} Value The target value.
  * @param {string} field The name of the field/property.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.change = function(value, field, duration, easingType) {
    var animation;
    animation = new gs.Component_FieldAnimation();
    this.object.addComponent(animation);
    animation.start(value, field, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Shakes the game object horizontally using the game object's offset-property.
  *
  * @method shake
  * @param {gs.Range} range The horizontal shake-range.
  * @param {number} speed The shake speed.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.shake = function(range, speed, duration, easing) {
    var animation;
    animation = new gs.Component_ShakeAnimation();
    this.object.addComponent(animation);
    animation.start(range, speed, duration, easing, this.callback);
    return animation;
  };


  /**
  * Tints the game object to a specified tone.
  *
  * @method tintTo
  * @param {Tone} tone The target tone.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.tintTo = function(tone, duration, easingType) {
    var animation;
    animation = new gs.Component_TintAnimation();
    this.object.addComponent(animation);
    animation.start(tone, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Rotates the game object around its anchor-point.
  *
  * @method rotate
  * @param {gs.RotationDirection} direction The rotation-direction.
  * @param {number} speed The rotation speed in degrees per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
   */

  Component_Animator.prototype.rotate = function(direction, speed, duration, easingType) {
    var animation;
    animation = new gs.Component_RotateAnimation();
    this.object.addComponent(animation);
    animation.start(direction, speed, duration, easingType, this.callback);
    return animation;
  };


  /**
  * Lets a game object appear on screen using a masking-effect.
  *
  * @method maskIn
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.maskIn = function(mask, duration, easing, callback) {
    var animation;
    animation = new gs.Component_MaskAnimation();
    this.object.addComponent(animation);
    animation.maskIn(mask, duration, easing, function(object, animation) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    });
    return animation;
  };


  /**
  * Description follows...
  *
  * @method maskTo
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.maskTo = function(mask, duration, easing, callback) {
    var animation;
    animation = new gs.Component_MaskAnimation();
    this.object.addComponent(animation);
    animation.maskTo(mask, duration, easing, function(object, animation) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    });
    return animation;
  };


  /**
  * Lets a game object disappear from screen using a masking-effect.
  *
  * @method maskOut
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.maskOut = function(mask, duration, easing, callback) {
    var animation;
    animation = new gs.Component_MaskAnimation();
    this.object.addComponent(animation);
    animation.maskOut(mask, duration, easing, function(object, animation) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    });
    return animation;
  };


  /**
  * Lets a game object appear on screen from left, top, right or bottom using 
  * a move-animation
  *
  * @method moveIn
  * @param {number} x The x-coordinate of the target-position.
  * @param {number} y The y-coordinate of the target-position.
  * @param {number} type The movement-direction from where the game object should move-in.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.moveIn = function(x, y, type, duration, easing, callback) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.moveIn(x, y, type, duration, easing, function(object, animation) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    });
    return animation;
  };


  /**
  * Lets a game object disappear from screen to the left, top, right or bottom using 
  * a move-animation
  *
  * @method moveOut
  * @param {number} type The movement-direction in which the game object should move-out.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.moveOut = function(type, duration, easing, callback) {
    var animation;
    animation = new gs.Component_MoveAnimation();
    this.object.addComponent(animation);
    animation.moveOut(type, duration, easing, function(object, animation) {
      animation.dispose();
      return typeof callback === "function" ? callback(object) : void 0;
    });
    return animation;
  };


  /**
  * Lets a game object appear on screen using blending.
  *
  * @method show
  * @param {number} duration The duration in frames.
  * @param {Object} easing The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.show = function(duration, easing, callback) {
    var ref;
    this.object.opacity = 0;
    if ((ref = this.object.visual) != null) {
      ref.update();
    }
    return this.blendTo(255, duration, easing, callback);
  };


  /**
  * Lets a game object disappear from screen using blending.
  *
  * @method hide
  * @param {number} duration The duration in frames.
  * @param {Object} easing The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.hide = function(duration, easing, callback) {
    this.object.opacity = 255;
    return this.blendTo(0, duration, easing, callback);
  };


  /**
  * Changes visible-property to true. This method is deprecated.
  * 
  * @method open
  * @deprecated
   */

  Component_Animator.prototype.open = function() {
    return this.object.visible = true;
  };


  /**
  * Changes visible-property to false. This method is deprecated.
  * 
  * @method close
  * @deprecated
   */

  Component_Animator.prototype.close = function() {
    return this.object.visible = false;
  };


  /**
  * Flashes the game object.
  *
  * @method flash
  * @param {Color} color The flash-color.
  * @param {number} duration The duration in frames.
   */

  Component_Animator.prototype.flash = function(color, duration) {
    this.object.color = color;
    color = new Color(color);
    color.alpha = 0;
    return this.colorTo(color, duration, gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN]);
  };


  /**
  * Lets a game object appear on screen using a specified animation.
  *
  * @method appear
  * @param {number} x The x-coordinate of the target-position.
  * @param {number} y The y-coordinate of the target-position.
  * @param {gs.AppearAnimationInfo} animation The animation info-object.
  * @param {Object} easing The easing-type.
  * @param {number} duration The duration in frames.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.appear = function(x, y, animation, easing, duration, callback) {
    easing = easing || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    this.object.visible = true;
    if (animation.type === gs.AnimationTypes.MOVEMENT) {
      return this.moveIn(x, y, animation.movement, duration, easing, callback);
    } else if (animation.type === gs.AnimationTypes.MASKING) {
      return this.maskIn(animation.mask, duration, easing, callback);
    } else {
      return this.show(duration, easing, callback);
    }
  };


  /**
  * Lets a game object disappear from screen using a specified animation.
  *
  * @method disappear
  * @param {gs.AppearAnimationInfo} animation The animation info-object.
  * @param {Object} easing The easing-type.
  * @param {number} duration The duration in frames.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_Animator.prototype.disappear = function(animation, easing, duration, callback) {
    this.object.visible = true;
    if (animation.type === gs.AnimationTypes.MOVEMENT) {
      return this.moveOut(animation.movement, duration, easing, callback);
    } else if (animation.type === gs.AnimationTypes.MASKING) {
      return this.maskOut(animation.mask, duration, easing, callback);
    } else {
      return this.hide(duration, easing, callback);
    }
  };

  return Component_Animator;

})(gs.Component);

gs.Animator = Component_Animator;

gs.Component_Animator = Component_Animator;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7O0VBV2EsNEJBQUE7SUFDVCxxREFBQSxTQUFBOztBQUVBOzs7Ozs7SUFNQSxJQUFDLENBQUEsUUFBRCxHQUFZLFNBQUMsTUFBRCxFQUFTLFNBQVQ7YUFBdUIsU0FBUyxDQUFDLE9BQVYsQ0FBQTtJQUF2QjtJQUVaLElBQUMsQ0FBQSxhQUFELEdBQWlCLFNBQUMsTUFBRCxFQUFTLFNBQVQsRUFBb0IsUUFBcEI7TUFDYixTQUFTLENBQUMsT0FBVixDQUFBOzhDQUNBLFNBQVU7SUFGRztFQVhSOzs7QUFnQmI7Ozs7OzsrQkFLQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxnREFBQSxTQUFBO0lBRUEsSUFBRyw4R0FBSDthQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFwQixDQUFBLEVBREo7O0VBSEk7OztBQU1SOzs7Ozs7Ozs7OytCQVNBLElBQUEsR0FBTSxTQUFDLE1BQUQsRUFBUyxNQUFULEVBQWlCLFFBQWpCLEVBQTJCLFVBQTNCO0FBQ0YsUUFBQTtJQUFBLFNBQUEsR0FBZ0IsSUFBQSxFQUFFLENBQUMsdUJBQUgsQ0FBQTtJQUNoQixJQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsQ0FBcUIsU0FBckI7SUFDQSxTQUFTLENBQUMsSUFBVixDQUFlLE1BQWYsRUFBdUIsTUFBdkIsRUFBK0IsUUFBL0IsRUFBeUMsVUFBekMsRUFBcUQsSUFBQyxDQUFBLFFBQXREO0FBRUEsV0FBTztFQUxMOzs7QUFPTjs7Ozs7Ozs7OzsrQkFTQSxNQUFBLEdBQVEsU0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVAsRUFBaUIsVUFBakI7QUFDSixRQUFBO0lBQUEsU0FBQSxHQUFnQixJQUFBLEVBQUUsQ0FBQyx1QkFBSCxDQUFBO0lBQ2hCLElBQUMsQ0FB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RCxJQUFDLENBQUEsT0FBRCxDQUFTLFNBQVMsQ0FBQyxJQUFuQixFQUF5QixRQUF6QixFQUFtQyxNQUFuQyxFQUEyQyxRQUEzQyxFQURDO0tBQUEsTUFBQTthQUdELElBQUMsQ0FBQSxJQUFELENBQU0sUUFBTixFQUFnQixNQUFoQixFQUF3QixRQUF4QixFQUhDOztFQUpFOzs7O0dBN2RrQixFQUFFLENBQUM7O0FBdWVwQyxFQUFFLENBQUMsUUFBSCxHQUFjOztBQUNkLEVBQUUsQ0FBQyxrQkFBSCxHQUF3QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0FuaW1hdG9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfQW5pbWF0b3IgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBBbiBhbmltYXRvci1jb21wb25lbnQgYWxsb3dzIHRvIGV4ZWN1dGUgZGlmZmVyZW50IGtpbmQgb2YgYW5pbWF0aW9ucyBcbiAgICAqIG9uIGEgZ2FtZSBvYmplY3QuIFRoZSBhbmltYXRpb25zIGFyZSB1c2luZyB0aGUgZ2FtZSBvYmplY3QncyBcbiAgICAqIGRzdFJlY3QgJiBvZmZzZXQtcHJvcGVydHkgdG8gZXhlY3V0ZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RhbmRhcmQgQ2FsbGJhY2sgUm91dGluZVxuICAgICAgICAqIEBwcm9wZXJ0eSBjYWxsYmFja1xuICAgICAgICAqIEB0eXBlIGZ1bmN0aW9uXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBjYWxsYmFjayA9IChvYmplY3QsIGFuaW1hdGlvbikgLT4gYW5pbWF0aW9uLmRpc3Bvc2UoKVxuICAgICAgICBcbiAgICAgICAgQG9uQmxlbmRGaW5pc2ggPSAob2JqZWN0LCBhbmltYXRpb24sIGNhbGxiYWNrKSAtPiBcbiAgICAgICAgICAgIGFuaW1hdGlvbi5kaXNwb3NlKClcbiAgICAgICAgICAgIGNhbGxiYWNrPyhvYmplY3QpXG4gICAgICAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBhbmltYXRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QubWFzaz8uc291cmNlPy52aWRlb0VsZW1lbnQ/XG4gICAgICAgICAgICBAb2JqZWN0Lm1hc2suc291cmNlLnVwZGF0ZSgpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBNb3ZlcyB0aGUgZ2FtZSBvYmplY3Qgd2l0aCBhIHNwZWNpZmllZCBzcGVlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1vdmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFggVGhlIHNwZWVkIG9uIHgtYXhpcyBpbiBwaXhlbHMgcGVyIGZyYW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkWSBUaGUgc3BlZWQgb24geS1heGlzIGluIHBpeGVscyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZSB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICMjI1xuICAgIG1vdmU6IChzcGVlZFgsIHNwZWVkWSwgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfTW92ZUFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLm1vdmUoc3BlZWRYLCBzcGVlZFksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIE1vdmVzIHRoZSBnYW1lIG9iamVjdCB0byBhIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1vdmVUb1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICMjIyAgXG4gICAgbW92ZVRvOiAoeCwgeSwgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfTW92ZUFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLm1vdmVUbyh4LCB5LCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgQGNhbGxiYWNrKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIE1vdmVzIHRoZSBnYW1lIG9iamVjdCBhbG9uZyBhIHBhdGguXG4gICAgKlxuICAgICogQG1ldGhvZCBtb3ZlUGF0aFxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhdGggVGhlIHBhdGggdG8gZm9sbG93LlxuICAgICogQHBhcmFtIHtncy5BbmltYXRpb25Mb29wVHlwZX0gbG9vcFR5cGUgVGhlIGxvb3AtVHlwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtPYmplY3RbXX0gZWZmZWN0cyBPcHRpb25hbCBhcnJheSBvZiBlZmZlY3RzIGV4ZWN1dGVkIGR1cmluZyB0aGUgcGF0aC1tb3ZlbWVudCBsaWtlIHBsYXlpbmcgYSBzb3VuZC5cbiAgICAjIyMgIFxuICAgIG1vdmVQYXRoOiAocGF0aCwgbG9vcFR5cGUsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBlZmZlY3RzKSAtPlxuICAgICAgICBjID0gQG9iamVjdC5maW5kQ29tcG9uZW50KFwiQ29tcG9uZW50X1BhdGhBbmltYXRpb25cIilcbiAgICAgICAgXG4gICAgICAgIGlmIGM/XG4gICAgICAgICAgICBjLmxvb3BUeXBlID0gbG9vcFR5cGVcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9QYXRoQW5pbWF0aW9uKClcbiAgICAgICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgICAgIGFuaW1hdGlvbi5zdGFydChwYXRoLCBsb29wVHlwZSwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIGVmZmVjdHMsIEBjYWxsYmFjaylcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogU2Nyb2xscyB0aGUgZ2FtZSBvYmplY3Qgd2l0aCBhIHNwZWNpZmllZCBzcGVlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNjcm9sbFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkWCBUaGUgc3BlZWQgb24geC1heGlzIGluIHBpeGVscyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRZIFRoZSBzcGVlZCBvbiB5LWF4aXMgaW4gcGl4ZWxzIHBlciBmcmFtZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlIHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgIyMjXG4gICAgc2Nyb2xsOiAoc3BlZWRYLCBzcGVlZFksIGR1cmF0aW9uLCBlYXNpbmdUeXBlKSAtPlxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X01vdmVBbmltYXRpb24oKVxuICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChhbmltYXRpb24pXG4gICAgICAgIGFuaW1hdGlvbi5zY3JvbGwoc3BlZWRYLCBzcGVlZFksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNjcm9sbHMgdGhlIGdhbWUgb2JqZWN0IHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2Nyb2xsVG9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgIFxuICAgIHNjcm9sbFRvOiAoeCwgeSwgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfTW92ZUFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLnNjcm9sbFRvKHgsIHksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNjcm9sbHMgdGhlIGdhbWUgb2JqZWN0IGFsb25nIGEgcGF0aC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNjcm9sbFBhdGhcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXRoIFRoZSBwYXRoIHRvIGZvbGxvdy5cbiAgICAqIEBwYXJhbSB7Z3MuQW5pbWF0aW9uTG9vcFR5cGV9IGxvb3BUeXBlIFRoZSBsb29wLVR5cGUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgIFxuICAgIHNjcm9sbFBhdGg6IChwYXRoLCBsb29wVHlwZSwgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfUGF0aEFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLnNjcm9sbChwYXRoLCBsb29wVHlwZSwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIEBjYWxsYmFjaylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cbiAgICBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogWm9vbXMgYSBnYW1lIG9iamVjdCB0byBzcGVjaWZpZWQgc2l6ZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHpvb21Ub1xuICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIHgtYXhpcyB6b29tLWZhY3Rvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSB5LWF4aXMgem9vbS1mYWN0b3IuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgICAgICBcbiAgICB6b29tVG86ICh4LCB5LCBkdXJhdGlvbiwgZWFzaW5nVHlwZSkgLT5cbiAgICAgICAgYyA9IEBvYmplY3QuZmluZENvbXBvbmVudChcIkNvbXBvbmVudF9ab29tQW5pbWF0aW9uXCIpXG4gICAgICAgIGlmIGM/IHRoZW4gQG9iamVjdC5yZW1vdmVDb21wb25lbnQoYylcbiAgICAgICAgXG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfWm9vbUFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KHgsIHksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEJsZW5kcyBhIGdhbWUgb2JqZWN0IHRvIHNwZWNpZmllZCBvcGFjaXR5LlxuICAgICpcbiAgICAqIEBtZXRob2QgYmxlbmRUb1xuICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIHRhcmdldCBvcGFjaXR5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbGxlZCBpZiBibGVuZGluZyBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgIFxuICAgIGJsZW5kVG86IChvcGFjaXR5LCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgY2FsbGJhY2spIC0+XG4gICAgICAgIFxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X0JsZW5kQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBhbmltYXRpb24uc3RhcnQob3BhY2l0eSwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIGdzLkNhbGxCYWNrKFwib25CbGVuZEZpbmlzaFwiLCB0aGlzLCBjYWxsYmFjaykpIFxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblxuXG4gICAgIyMjKlxuICAgICogQ29sb3JzIGEgZ2FtZSBvYmplY3QgdG8gYSBzcGVjaWZpZWQgdGFyZ2V0IGNvbG9yLlxuICAgICpcbiAgICAqIEBtZXRob2QgY29sb3JUb1xuICAgICogQHBhcmFtIHtDb2xvcn0gY29sb3IgVGhlIHRhcmdldCBjb2xvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICMjIyAgXG4gICAgY29sb3JUbzogKGNvbG9yLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSkgLT5cbiAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9Db2xvckFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGNvbG9yLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgQGNhbGxiYWNrKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBbiBpbWFnZSBhbmltYXRpb24gcnVucyBmcm9tIGxlZnQgdG8gcmlnaHQgdXNpbmcgdGhlIGdhbWUgb2JqZWN0J3NcbiAgICAqIGltYWdlLXByb3BlcnR5LlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hhbmdlSW1hZ2VzXG4gICAgKiBAcGFyYW0ge0FycmF5fSBpbWFnZXMgQW4gYXJyYXkgb2YgaW1hZ2UgbmFtZXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgICAgICBcbiAgICBjaGFuZ2VJbWFnZXM6IChpbWFnZXMsIGR1cmF0aW9uLCBlYXNpbmdUeXBlKSAtPlxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X0ltYWdlQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24uc3RhcnQoaW1hZ2VzLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgQGNhbGxiYWNrKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGZyYW1lIGFuaW1hdGlvbiB3aGljaCBtb2RpZmllcyB0aGUgZ2FtZSBvYmplY3QncyBzcmNSZWN0IHByb3BlcnR5XG4gICAgKiBhIHBsYXkgYW4gYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hhbmdlRnJhbWVzXG4gICAgKiBAcGFyYW0ge2dzLlJlY3RbXX0gZnJhbWVzIEFuIGFycmF5IG9mIHNvdXJjZSByZWN0YW5nbGVzIChmcmFtZXMpLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgIyMjICAgICAgXG4gICAgI2NoYW5nZUZyYW1lczogKGZyYW1lcywgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgIyAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uKClcbiAgICAjICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAjICAgIGFuaW1hdGlvbi5zdGFydChmcmFtZXMsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBAY2FsbGJhY2spXG4gICAgICAgXG4gICAgIyMjKlxuICAgICogQSBmcmFtZSBhbmltYXRpb24gd2hpY2ggbW9kaWZpZXMgdGhlIGdhbWUgb2JqZWN0J3Mgc3JjUmVjdCBwcm9wZXJ0eVxuICAgICogYSBwbGF5IGFuIGFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHBsYXlBbmltYXRpb25cbiAgICAqIEBwYXJhbSB7Z3MuUmVjdFtdfSBmcmFtZXMgQW4gYXJyYXkgb2Ygc291cmNlIHJlY3RhbmdsZXMgKGZyYW1lcykuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgICAgIFxuICAgIHBsYXlBbmltYXRpb246IChhbmltYXRpb25SZWNvcmQpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfRnJhbWVBbmltYXRpb24oYW5pbWF0aW9uUmVjb3JkKVxuICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChhbmltYXRpb24pXG4gICAgICAgIGFuaW1hdGlvbi5zdGFydChAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgXG4gICAgIyMjKlxuICAgICogQ2hhbmdlcyBhIGZpZWxkIG9mIHRoZSBnYW1lIG9iamVjdCB0byBhIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNoYW5nZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFZhbHVlIFRoZSB0YXJnZXQgdmFsdWUuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkL3Byb3BlcnR5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgIyMjICAgXG4gICAgY2hhbmdlOiAodmFsdWUsIGZpZWxkLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSkgLT5cbiAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9GaWVsZEFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KHZhbHVlLCBmaWVsZCwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIEBjYWxsYmFjaylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cbiAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTaGFrZXMgdGhlIGdhbWUgb2JqZWN0IGhvcml6b250YWxseSB1c2luZyB0aGUgZ2FtZSBvYmplY3QncyBvZmZzZXQtcHJvcGVydHkuXG4gICAgKlxuICAgICogQG1ldGhvZCBzaGFrZVxuICAgICogQHBhcmFtIHtncy5SYW5nZX0gcmFuZ2UgVGhlIGhvcml6b250YWwgc2hha2UtcmFuZ2UuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWQgVGhlIHNoYWtlIHNwZWVkLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgIyMjIFxuICAgIHNoYWtlOiAocmFuZ2UsIHNwZWVkLCBkdXJhdGlvbiwgZWFzaW5nKSAtPlxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X1NoYWtlQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24uc3RhcnQocmFuZ2UsIHNwZWVkLCBkdXJhdGlvbiwgZWFzaW5nLCBAY2FsbGJhY2spXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFRpbnRzIHRoZSBnYW1lIG9iamVjdCB0byBhIHNwZWNpZmllZCB0b25lLlxuICAgICpcbiAgICAqIEBtZXRob2QgdGludFRvXG4gICAgKiBAcGFyYW0ge1RvbmV9IHRvbmUgVGhlIHRhcmdldCB0b25lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgIyMjIFxuICAgIHRpbnRUbzogKHRvbmUsIGR1cmF0aW9uLCBlYXNpbmdUeXBlKSAtPlxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X1RpbnRBbmltYXRpb24oKVxuICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChhbmltYXRpb24pXG4gICAgICAgIGFuaW1hdGlvbi5zdGFydCh0b25lLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgQGNhbGxiYWNrKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIFJvdGF0ZXMgdGhlIGdhbWUgb2JqZWN0IGFyb3VuZCBpdHMgYW5jaG9yLXBvaW50LlxuICAgICpcbiAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgKiBAcGFyYW0ge2dzLlJvdGF0aW9uRGlyZWN0aW9ufSBkaXJlY3Rpb24gVGhlIHJvdGF0aW9uLWRpcmVjdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCBUaGUgcm90YXRpb24gc3BlZWQgaW4gZGVncmVlcyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAjIyMgXG4gICAgcm90YXRlOiAoZGlyZWN0aW9uLCBzcGVlZCwgZHVyYXRpb24sIGVhc2luZ1R5cGUpIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfUm90YXRlQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24uc3RhcnQoZGlyZWN0aW9uLCBzcGVlZCwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIEBjYWxsYmFjaylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cbiAgICBcbiAgICAjIyMqXG4gICAgKiBMZXRzIGEgZ2FtZSBvYmplY3QgYXBwZWFyIG9uIHNjcmVlbiB1c2luZyBhIG1hc2tpbmctZWZmZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgbWFza0luXG4gICAgKiBAcGFyYW0ge2dzLk1hc2t9IG1hc2sgVGhlIG1hc2sgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgICAgIFxuICAgIG1hc2tJbjogKG1hc2ssIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSAtPlxuICAgICAgICBhbmltYXRpb24gPSBuZXcgZ3MuQ29tcG9uZW50X01hc2tBbmltYXRpb24oKVxuICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChhbmltYXRpb24pXG4gICAgICAgIGFuaW1hdGlvbi5tYXNrSW4obWFzaywgZHVyYXRpb24sIGVhc2luZywgKG9iamVjdCwgYW5pbWF0aW9uKSAtPiBhbmltYXRpb24uZGlzcG9zZSgpOyBjYWxsYmFjaz8ob2JqZWN0KTspXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uXG4gICAgIFxuICAgICMjIypcbiAgICAqIERlc2NyaXB0aW9uIGZvbGxvd3MuLi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1hc2tUb1xuICAgICogQHBhcmFtIHtncy5NYXNrfSBtYXNrIFRoZSBtYXNrIHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICBcbiAgICBtYXNrVG86IChtYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9NYXNrQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24ubWFza1RvKG1hc2ssIGR1cmF0aW9uLCBlYXNpbmcsIChvYmplY3QsIGFuaW1hdGlvbikgLT4gYW5pbWF0aW9uLmRpc3Bvc2UoKTsgY2FsbGJhY2s/KG9iamVjdCk7KVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvblxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMZXRzIGEgZ2FtZSBvYmplY3QgZGlzYXBwZWFyIGZyb20gc2NyZWVuIHVzaW5nIGEgbWFza2luZy1lZmZlY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBtYXNrT3V0XG4gICAgKiBAcGFyYW0ge2dzLk1hc2t9IG1hc2sgVGhlIG1hc2sgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgIFxuICAgIG1hc2tPdXQ6IChtYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9NYXNrQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24ubWFza091dChtYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCAob2JqZWN0LCBhbmltYXRpb24pIC0+IGFuaW1hdGlvbi5kaXNwb3NlKCk7IGNhbGxiYWNrPyhvYmplY3QpOylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cblxuICAgICMjIypcbiAgICAqIExldHMgYSBnYW1lIG9iamVjdCBhcHBlYXIgb24gc2NyZWVuIGZyb20gbGVmdCwgdG9wLCByaWdodCBvciBib3R0b20gdXNpbmcgXG4gICAgKiBhIG1vdmUtYW5pbWF0aW9uXG4gICAgKlxuICAgICogQG1ldGhvZCBtb3ZlSW5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHRhcmdldC1wb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHRhcmdldC1wb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIFRoZSBtb3ZlbWVudC1kaXJlY3Rpb24gZnJvbSB3aGVyZSB0aGUgZ2FtZSBvYmplY3Qgc2hvdWxkIG1vdmUtaW4uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICBcbiAgICBtb3ZlSW46ICh4LCB5LCB0eXBlLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgYW5pbWF0aW9uID0gbmV3IGdzLkNvbXBvbmVudF9Nb3ZlQW5pbWF0aW9uKClcbiAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoYW5pbWF0aW9uKVxuICAgICAgICBhbmltYXRpb24ubW92ZUluKHgsIHksIHR5cGUsIGR1cmF0aW9uLCBlYXNpbmcsIChvYmplY3QsIGFuaW1hdGlvbikgLT4gXG4gICAgICAgICAgICBhbmltYXRpb24uZGlzcG9zZSgpXG4gICAgICAgICAgICBjYWxsYmFjaz8ob2JqZWN0KSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cbiAgICAgIFxuICAgICMjIypcbiAgICAqIExldHMgYSBnYW1lIG9iamVjdCBkaXNhcHBlYXIgZnJvbSBzY3JlZW4gdG8gdGhlIGxlZnQsIHRvcCwgcmlnaHQgb3IgYm90dG9tIHVzaW5nIFxuICAgICogYSBtb3ZlLWFuaW1hdGlvblxuICAgICpcbiAgICAqIEBtZXRob2QgbW92ZU91dFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgVGhlIG1vdmVtZW50LWRpcmVjdGlvbiBpbiB3aGljaCB0aGUgZ2FtZSBvYmplY3Qgc2hvdWxkIG1vdmUtb3V0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuIFxuICAgICMjIyAgICBcbiAgICBtb3ZlT3V0OiAodHlwZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIC0+XG4gICAgICAgIGFuaW1hdGlvbiA9IG5ldyBncy5Db21wb25lbnRfTW92ZUFuaW1hdGlvbigpXG4gICAgICAgIEBvYmplY3QuYWRkQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgYW5pbWF0aW9uLm1vdmVPdXQodHlwZSwgZHVyYXRpb24sIGVhc2luZywgKG9iamVjdCwgYW5pbWF0aW9uKSAtPiBcbiAgICAgICAgICAgIGFuaW1hdGlvbi5kaXNwb3NlKClcbiAgICAgICAgICAgIGNhbGxiYWNrPyhvYmplY3QpXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhbmltYXRpb25cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogTGV0cyBhIGdhbWUgb2JqZWN0IGFwcGVhciBvbiBzY3JlZW4gdXNpbmcgYmxlbmRpbmcuXG4gICAgKlxuICAgICogQG1ldGhvZCBzaG93XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmcgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgIFxuICAgIHNob3c6IChkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQG9iamVjdC5vcGFjaXR5ID0gMFxuICAgICAgICBAb2JqZWN0LnZpc3VhbD8udXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBAYmxlbmRUbygyNTUsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBMZXRzIGEgZ2FtZSBvYmplY3QgZGlzYXBwZWFyIGZyb20gc2NyZWVuIHVzaW5nIGJsZW5kaW5nLlxuICAgICpcbiAgICAqIEBtZXRob2QgaGlkZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICBcbiAgICBoaWRlOiAoZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIC0+XG4gICAgICAgIEBvYmplY3Qub3BhY2l0eSA9IDI1NVxuICAgICAgICByZXR1cm4gQGJsZW5kVG8oMCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spXG4gICAgICAgXG4gICAgIyMjKlxuICAgICogQ2hhbmdlcyB2aXNpYmxlLXByb3BlcnR5IHRvIHRydWUuIFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb3BlblxuICAgICogQGRlcHJlY2F0ZWRcbiAgICAjIyMgICBcbiAgICBvcGVuOiAtPiBAb2JqZWN0LnZpc2libGUgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDaGFuZ2VzIHZpc2libGUtcHJvcGVydHkgdG8gZmFsc2UuIFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgY2xvc2VcbiAgICAqIEBkZXByZWNhdGVkXG4gICAgIyMjICAgXG4gICAgY2xvc2U6IC0+IEBvYmplY3QudmlzaWJsZSA9IG5vXG4gICAgXG4gICAgIyMjKlxuICAgICogRmxhc2hlcyB0aGUgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBmbGFzaFxuICAgICogQHBhcmFtIHtDb2xvcn0gY29sb3IgVGhlIGZsYXNoLWNvbG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgIyMjXG4gICAgZmxhc2g6IChjb2xvciwgZHVyYXRpb24pIC0+XG4gICAgICAgIEBvYmplY3QuY29sb3IgPSBjb2xvclxuICAgICAgICBjb2xvciA9IG5ldyBDb2xvcihjb2xvcilcbiAgICAgICAgY29sb3IuYWxwaGEgPSAwXG4gICAgICAgIHJldHVybiBAY29sb3JUbyhjb2xvciwgZHVyYXRpb24sIGdzLkVhc2luZ3MuRUFTRV9MSU5FQVJbZ3MuRWFzaW5nVHlwZXMuRUFTRV9JTl0pXG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyBhIGdhbWUgb2JqZWN0IGFwcGVhciBvbiBzY3JlZW4gdXNpbmcgYSBzcGVjaWZpZWQgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgYXBwZWFyXG4gICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB0YXJnZXQtcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0geSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSB0YXJnZXQtcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge2dzLkFwcGVhckFuaW1hdGlvbkluZm99IGFuaW1hdGlvbiBUaGUgYW5pbWF0aW9uIGluZm8tb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZyBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICAgXG4gICAgYXBwZWFyOiAoeCwgeSwgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCBjYWxsYmFjaykgLT5cbiAgICAgICAgZWFzaW5nID0gZWFzaW5nIHx8IGdzLkVhc2luZ3MuRUFTRV9MSU5FQVJbZ3MuRWFzaW5nVHlwZXMuRUFTRV9JTl1cbiAgICAgICAgQG9iamVjdC52aXNpYmxlID0geWVzXG5cbiAgICAgICAgaWYgYW5pbWF0aW9uLnR5cGUgPT0gZ3MuQW5pbWF0aW9uVHlwZXMuTU9WRU1FTlRcbiAgICAgICAgICAgIEBtb3ZlSW4oeCwgeSwgYW5pbWF0aW9uLm1vdmVtZW50LCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaylcbiAgICAgICAgZWxzZSBpZiBhbmltYXRpb24udHlwZSA9PSBncy5BbmltYXRpb25UeXBlcy5NQVNLSU5HXG4gICAgICAgICAgICBAbWFza0luKGFuaW1hdGlvbi5tYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHNob3coZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spXG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyBhIGdhbWUgb2JqZWN0IGRpc2FwcGVhciBmcm9tIHNjcmVlbiB1c2luZyBhIHNwZWNpZmllZCBhbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNhcHBlYXJcbiAgICAqIEBwYXJhbSB7Z3MuQXBwZWFyQW5pbWF0aW9uSW5mb30gYW5pbWF0aW9uIFRoZSBhbmltYXRpb24gaW5mby1vYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgICAgICAgXG4gICAgZGlzYXBwZWFyOiAoYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQG9iamVjdC52aXNpYmxlID0geWVzXG4gICAgICAgIGlmIGFuaW1hdGlvbi50eXBlID09IGdzLkFuaW1hdGlvblR5cGVzLk1PVkVNRU5UXG4gICAgICAgICAgICBAbW92ZU91dChhbmltYXRpb24ubW92ZW1lbnQsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKVxuICAgICAgICBlbHNlIGlmIGFuaW1hdGlvbi50eXBlID09IGdzLkFuaW1hdGlvblR5cGVzLk1BU0tJTkdcbiAgICAgICAgICAgIEBtYXNrT3V0KGFuaW1hdGlvbi5tYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGhpZGUoZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spXG4gICAgICAgIFxuXG5ncy5BbmltYXRvciA9IENvbXBvbmVudF9BbmltYXRvclxuZ3MuQ29tcG9uZW50X0FuaW1hdG9yID0gQ29tcG9uZW50X0FuaW1hdG9yIl19
//# sourceURL=Component_Animator_136.js
var Component_Live2D,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Live2D = (function(superClass) {
  extend(Component_Live2D, superClass);


  /**
  * A Live2D component which allows a game-object to become a animated
  * Live2D character.
  *
  * @module vn
  * @class Component_Live2D
  * @extends gs.Component
  * @memberof vn
  * @constructor
   */

  function Component_Live2D() {
    Component_Live2D.__super__.constructor.apply(this, arguments);

    /**
    * The Live2D graphics object.
    * @property l2dObject
    * @type gs.Live2DObject
    * @readOnly
     */
    this.l2dObject = new gs.Live2DObject();

    /**
    * The character's Live2D motion. Set name-property to an empty string
    * to disable motion and use a generated default idle-motion.
    * @property motion
    * @type gs.Live2DMotion
    * @default { name: "", loop: yes }
     */
    this.motion = {
      name: "",
      loop: true

      /**
      * The character's Live2D motion-group. Can be null
      * @property motionGroup
      * @type gs.Live2DMotionGroup
      * @default null
       */
    };
    this.motionGroup = null;

    /**
    * The character's Live2D expression. Set name-property to an empty string
    * to use default expression.
    * @property expression
    * @type gs.Live2DExpression
    * @default { name: "" }
     */
    this.expression = {
      name: ""

      /**
      * @property talkingDuration
      * @type number
      * @protected
       */
    };
    this.talkingDuration = 1;

    /**
    * @property talkingStep
    * @type number
    * @protected
     */
    this.talkingStep = 0;

    /**
    * @property talkingStep
    * @type number[]
    * @protected
     */
    this.talkingSteps = [0, 0.5, 1];
  }


  /**
  * Disposes the component and Live2D object.
  *
  * @method dispose
   */

  Component_Live2D.prototype.dispose = function() {
    return this.l2dObject.dispose();
  };


  /**
  * Updates the character's Live2D motion.
  *
  * @method updateMotion
   */

  Component_Live2D.prototype.updateMotion = function() {
    if (this.motion.name !== this.object.motion.name) {
      this.motion = this.object.motion;
      this.l2dObject.playMotion(this.motion.name, this.motion.fadeInTime);
      return this.l2dObject.loopMotion = this.motion.loop;
    }
  };


  /**
  * Updates the character's Live2D motion-group.
  *
  * @method updateMotionGroup
   */

  Component_Live2D.prototype.updateMotionGroup = function() {
    if (this.motionGroup !== this.object.motionGroup) {
      this.motionGroup = this.object.motionGroup;
      if (this.motionGroup != null) {
        this.l2dObject.playMotionGroup(this.motionGroup.name, this.motionGroup.playType);
        return this.l2dObject.loopMotion = this.motionGroup.loop;
      }
    }
  };


  /**
  * Updates the character's Live2D expression.
  *
  * @method updateExpression
   */

  Component_Live2D.prototype.updateExpression = function() {
    if (this.expression.name !== this.object.expression.name) {
      this.expression = this.object.expression;
      return this.l2dObject.setExpression(this.expression.name, this.expression.fadeInTime);
    }
  };


  /**
  * Updates the Live2D object properties from the game object properties.
  *
  * @method updateProperties
   */

  Component_Live2D.prototype.updateProperties = function() {
    this.l2dObject.model = this.object.model;
    this.object.dstRect.width = this.l2dObject.width;
    this.object.dstRect.height = this.l2dObject.height;
    this.l2dObject.x = this.object.dstRect.x + this.object.offset.x;
    this.l2dObject.y = this.object.dstRect.y + this.object.offset.y;
    this.l2dObject.z = this.object.zIndex;
    this.l2dObject.visible = this.object.visible;
    this.l2dObject.opacity = this.object.opacity;
    this.l2dObject.zoomX = this.object.zoom.x;
    this.l2dObject.zoomY = this.object.zoom.y;
    this.l2dObject.anchor.x = this.object.anchor.x;
    this.l2dObject.anchor.y = this.object.anchor.y;
    return this.l2dObject.angle = this.object.angle;
  };


  /**
  * Updates the optional Live2D object properties from the game object properties.
  *
  * @method updateOptionalProperties
   */

  Component_Live2D.prototype.updateOptionalProperties = function() {
    if (this.object.viewport != null) {
      return this.l2dObject.viewport = this.object.viewport;
    }
  };


  /**
  * Updates the Live2D object and its talking-animation.
  *
  * @method update
   */

  Component_Live2D.prototype.update = function() {
    if ((this.object.model != null) && !this.object.model.initialized) {
      this.object.model.initialize();
    }
    this.updateProperties();
    this.updateMotion();
    this.updateMotionGroup();
    this.updateExpression();
    this.updateOptionalProperties();
    this.l2dObject.update();
    return this.updateTalking();
  };


  /**
  * Updates the Live2D character's talking-animation.
  *
  * @method update
   */

  Component_Live2D.prototype.updateTalking = function() {
    var step;
    step = 0;
    if (this.object.talking) {
      this.l2dObject.talking = true;
      if (AudioManager.voice != null) {
        return this.l2dObject.talkingVolume = (AudioManager.voice.averageVolume || 0) / 100;
      } else {
        this.talkingDuration--;
        if (this.talkingDuration <= 0) {
          while (this.talkingStep === step) {
            step = Math.round(Math.random() * 2);
          }
          this.talkingDuration = 5;
          this.talkingStep = step;
          return this.l2dObject.talkingVolume = this.talkingSteps[step];
        }
      }
    } else {
      return this.l2dObject.talking = false;
    }
  };

  return Component_Live2D;

})(gs.Component);

vn.Component_Live2D = Component_Live2D;

gs.Component_Live2D = Component_Live2D;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSwwQkFBQTtJQUNULG1EQUFBLFNBQUE7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxTQUFELEdBQWlCLElBQUEsRUFBRSxDQUFDLFlBQUgsQ0FBQTs7QUFFakI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsTUFBRCxHQUFVO01BQUEsSUFBQSxFQUFNLEVBQU47TUFBVSxJQUFBLEVBQU07O0FBRTFCOzs7OztTQUZVOztJQVFWLElBQUMsQ0FBQSxXQUFELEdBQWU7O0FBRWY7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsVUFBRCxHQUFjO01BQUEsSUFBQSxFQUFNOztBQUVwQjs7OztTQUZjOztJQU9kLElBQUMsQ0FBQSxlQUFELEdBQW1COztBQUVuQjs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxZQUFELEdBQWdCLENBQUMsQ0FBRCxFQUFJLEdBQUosRUFBUyxDQUFUO0VBeERQOzs7QUEwRGI7Ozs7Ozs2QkFLQSxPQUFBLEdBQVMsU0FBQTtXQUNMLElBQUMsQ0FBQSxTQUFTLENBQUMsT0FBWCxDQUFBO0VBREs7OztBQUdUOzs7Ozs7NkJBS0EsWUFBQSxHQUFjLFNBQUE7SUFDVixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixLQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFsQztNQUNJLElBQUMsQ0FBQSxNQUFELEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQztNQUNsQixJQUFDLENBQUEsU0FBUyxDQUFDLFVBQVgsQ0FBc0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUE5QixFQUFvQyxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQTVDO2FBQ0EsSUFBQyxDQUFBLFNBQVMsQ0FBQyxVQUFYLEdBQXdCLElBQUMsQ0FBQSxN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QUN0QixFQUFFLENBQUMsZ0JBQUgsR0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9MaXZlMkRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9MaXZlMkQgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBBIExpdmUyRCBjb21wb25lbnQgd2hpY2ggYWxsb3dzIGEgZ2FtZS1vYmplY3QgdG8gYmVjb21lIGEgYW5pbWF0ZWRcbiAgICAqIExpdmUyRCBjaGFyYWN0ZXIuXG4gICAgKlxuICAgICogQG1vZHVsZSB2blxuICAgICogQGNsYXNzIENvbXBvbmVudF9MaXZlMkRcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIHZuXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgTGl2ZTJEIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgbDJkT2JqZWN0XG4gICAgICAgICogQHR5cGUgZ3MuTGl2ZTJET2JqZWN0XG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAbDJkT2JqZWN0ID0gbmV3IGdzLkxpdmUyRE9iamVjdCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGNoYXJhY3RlcidzIExpdmUyRCBtb3Rpb24uIFNldCBuYW1lLXByb3BlcnR5IHRvIGFuIGVtcHR5IHN0cmluZ1xuICAgICAgICAqIHRvIGRpc2FibGUgbW90aW9uIGFuZCB1c2UgYSBnZW5lcmF0ZWQgZGVmYXVsdCBpZGxlLW1vdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgbW90aW9uXG4gICAgICAgICogQHR5cGUgZ3MuTGl2ZTJETW90aW9uXG4gICAgICAgICogQGRlZmF1bHQgeyBuYW1lOiBcIlwiLCBsb29wOiB5ZXMgfVxuICAgICAgICAjIyNcbiAgICAgICAgQG1vdGlvbiA9IG5hbWU6IFwiXCIsIGxvb3A6IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjaGFyYWN0ZXIncyBMaXZlMkQgbW90aW9uLWdyb3VwLiBDYW4gYmUgbnVsbFxuICAgICAgICAqIEBwcm9wZXJ0eSBtb3Rpb25Hcm91cFxuICAgICAgICAqIEB0eXBlIGdzLkxpdmUyRE1vdGlvbkdyb3VwXG4gICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAjIyNcbiAgICAgICAgQG1vdGlvbkdyb3VwID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjaGFyYWN0ZXIncyBMaXZlMkQgZXhwcmVzc2lvbi4gU2V0IG5hbWUtcHJvcGVydHkgdG8gYW4gZW1wdHkgc3RyaW5nXG4gICAgICAgICogdG8gdXNlIGRlZmF1bHQgZXhwcmVzc2lvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgZXhwcmVzc2lvblxuICAgICAgICAqIEB0eXBlIGdzLkxpdmUyREV4cHJlc3Npb25cbiAgICAgICAgKiBAZGVmYXVsdCB7IG5hbWU6IFwiXCIgfVxuICAgICAgICAjIyNcbiAgICAgICAgQGV4cHJlc3Npb24gPSBuYW1lOiBcIlwiXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHRhbGtpbmdEdXJhdGlvblxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB0YWxraW5nRHVyYXRpb24gPSAxXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHRhbGtpbmdTdGVwXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHRhbGtpbmdTdGVwID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSB0YWxraW5nU3RlcFxuICAgICAgICAqIEB0eXBlIG51bWJlcltdXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHRhbGtpbmdTdGVwcyA9IFswLCAwLjUsIDFdXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSBjb21wb25lbnQgYW5kIExpdmUyRCBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNwb3NlXG4gICAgIyMjXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgQGwyZE9iamVjdC5kaXNwb3NlKClcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgTGl2ZTJEIG1vdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU1vdGlvblxuICAgICMjIyAgICAgICAgICBcbiAgICB1cGRhdGVNb3Rpb246IC0+XG4gICAgICAgIGlmIEBtb3Rpb24ubmFtZSAhPSBAb2JqZWN0Lm1vdGlvbi5uYW1lXG4gICAgICAgICAgICBAbW90aW9uID0gQG9iamVjdC5tb3Rpb25cbiAgICAgICAgICAgIEBsMmRPYmplY3QucGxheU1vdGlvbihAbW90aW9uLm5hbWUsIEBtb3Rpb24uZmFkZUluVGltZSlcbiAgICAgICAgICAgIEBsMmRPYmplY3QubG9vcE1vdGlvbiA9IEBtb3Rpb24ubG9vcFxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGNoYXJhY3RlcidzIExpdmUyRCBtb3Rpb24tZ3JvdXAuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVNb3Rpb25Hcm91cFxuICAgICMjIyAgICAgICAgICBcbiAgICB1cGRhdGVNb3Rpb25Hcm91cDogLT5cbiAgICAgICAgaWYgQG1vdGlvbkdyb3VwICE9IEBvYmplY3QubW90aW9uR3JvdXBcbiAgICAgICAgICAgIEBtb3Rpb25Hcm91cCA9IEBvYmplY3QubW90aW9uR3JvdXBcbiAgICAgICAgICAgIGlmIEBtb3Rpb25Hcm91cD9cbiAgICAgICAgICAgICAgICBAbDJkT2JqZWN0LnBsYXlNb3Rpb25Hcm91cChAbW90aW9uR3JvdXAubmFtZSwgQG1vdGlvbkdyb3VwLnBsYXlUeXBlKVxuICAgICAgICAgICAgICAgIEBsMmRPYmplY3QubG9vcE1vdGlvbiA9IEBtb3Rpb25Hcm91cC5sb29wXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgTGl2ZTJEIGV4cHJlc3Npb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVFeHByZXNzaW9uXG4gICAgIyMjICAgICAgICAgICAgICBcbiAgICB1cGRhdGVFeHByZXNzaW9uOiAtPlxuICAgICAgICBpZiBAZXhwcmVzc2lvbi5uYW1lICE9IEBvYmplY3QuZXhwcmVzc2lvbi5uYW1lXG4gICAgICAgICAgICBAZXhwcmVzc2lvbiA9IEBvYmplY3QuZXhwcmVzc2lvblxuICAgICAgICAgICAgQGwyZE9iamVjdC5zZXRFeHByZXNzaW9uKEBleHByZXNzaW9uLm5hbWUsIEBleHByZXNzaW9uLmZhZGVJblRpbWUpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBMaXZlMkQgb2JqZWN0IHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVByb3BlcnRpZXNcbiAgICAjIyMgICAgICAgIFxuICAgIHVwZGF0ZVByb3BlcnRpZXM6IC0+XG4gICAgICAgIEBsMmRPYmplY3QubW9kZWwgPSBAb2JqZWN0Lm1vZGVsXG4gICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCA9IEBsMmRPYmplY3Qud2lkdGhcbiAgICAgICAgQG9iamVjdC5kc3RSZWN0LmhlaWdodCA9IEBsMmRPYmplY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBAbDJkT2JqZWN0LnggPSBAb2JqZWN0LmRzdFJlY3QueCArIEBvYmplY3Qub2Zmc2V0LnhcbiAgICAgICAgQGwyZE9iamVjdC55ID0gQG9iamVjdC5kc3RSZWN0LnkgKyBAb2JqZWN0Lm9mZnNldC55XG4gICAgICAgIEBsMmRPYmplY3QueiA9IEBvYmplY3QuekluZGV4XG4gICAgICAgIEBsMmRPYmplY3QudmlzaWJsZSA9IEBvYmplY3QudmlzaWJsZVxuICAgICAgICBAbDJkT2JqZWN0Lm9wYWNpdHkgPSBAb2JqZWN0Lm9wYWNpdHlcbiAgICAgICAgQGwyZE9iamVjdC56b29tWCA9IEBvYmplY3Quem9vbS54XG4gICAgICAgIEBsMmRPYmplY3Quem9vbVkgPSBAb2JqZWN0Lnpvb20ueVxuICAgICAgICBAbDJkT2JqZWN0LmFuY2hvci54ID0gQG9iamVjdC5hbmNob3IueFxuICAgICAgICBAbDJkT2JqZWN0LmFuY2hvci55ID0gQG9iamVjdC5hbmNob3IueVxuICAgICAgICBAbDJkT2JqZWN0LmFuZ2xlID0gQG9iamVjdC5hbmdsZVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvcHRpb25hbCBMaXZlMkQgb2JqZWN0IHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZU9wdGlvbmFsUHJvcGVydGllc1xuICAgICMjIyAgICBcbiAgICB1cGRhdGVPcHRpb25hbFByb3BlcnRpZXM6IC0+XG4gICAgICAgIGlmIEBvYmplY3Qudmlld3BvcnQ/XG4gICAgICAgICAgICBAbDJkT2JqZWN0LnZpZXdwb3J0ID0gQG9iamVjdC52aWV3cG9ydFxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgTGl2ZTJEIG9iamVjdCBhbmQgaXRzIHRhbGtpbmctYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpZiBAb2JqZWN0Lm1vZGVsPyBhbmQgbm90IEBvYmplY3QubW9kZWwuaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIEBvYmplY3QubW9kZWwuaW5pdGlhbGl6ZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgQHVwZGF0ZVByb3BlcnRpZXMoKVxuICAgICAgICBAdXBkYXRlTW90aW9uKClcbiAgICAgICAgQHVwZGF0ZU1vdGlvbkdyb3VwKClcbiAgICAgICAgQHVwZGF0ZUV4cHJlc3Npb24oKVxuICAgICAgICBAdXBkYXRlT3B0aW9uYWxQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIFxuICAgICAgICBAbDJkT2JqZWN0LnVwZGF0ZSgpXG4gICAgICAgIEB1cGRhdGVUYWxraW5nKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBMaXZlMkQgY2hhcmFjdGVyJ3MgdGFsa2luZy1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICAgICAgXG4gICAgdXBkYXRlVGFsa2luZzogLT5cbiAgICAgICAgc3RlcCA9IDBcbiAgICAgICAgaWYgQG9iamVjdC50YWxraW5nXG4gICAgICAgICAgICBAbDJkT2JqZWN0LnRhbGtpbmcgPSB5ZXNcbiAgICAgICAgICAgIGlmIEF1ZGlvTWFuYWdlci52b2ljZT9cbiAgICAgICAgICAgICAgICBAbDJkT2JqZWN0LnRhbGtpbmdWb2x1bWUgPSAoQXVkaW9NYW5hZ2VyLnZvaWNlLmF2ZXJhZ2VWb2x1bWUgfHwgMCkgLyAxMDBcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAdGFsa2luZ0R1cmF0aW9uLS1cbiAgICAgICAgICAgICAgICBpZiBAdGFsa2luZ0R1cmF0aW9uIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgQHRhbGtpbmdTdGVwID09IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyKVxuICAgICAgICAgICAgICAgICAgICBAdGFsa2luZ0R1cmF0aW9uID0gNVxuICAgICAgICAgICAgICAgICAgICBAdGFsa2luZ1N0ZXAgPSBzdGVwXG4gICAgICAgICAgICAgICAgICAgIEBsMmRPYmplY3QudGFsa2luZ1ZvbHVtZSA9IEB0YWxraW5nU3RlcHNbc3RlcF1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGwyZE9iamVjdC50YWxraW5nID0gbm9cbiBcbnZuLkNvbXBvbmVudF9MaXZlMkQgPSBDb21wb25lbnRfTGl2ZTJEICAgICAgIFxuZ3MuQ29tcG9uZW50X0xpdmUyRCA9IENvbXBvbmVudF9MaXZlMkQgIyBEZXByZWNhdGVkIl19
//# sourceURL=Component_Live2D_140.js
var Component_CommonEventBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_CommonEventBehavior = (function(superClass) {
  extend(Component_CommonEventBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_CommonEventBehavior.prototype.onDataBundleRestore = function(data, context) {};


  /**
  * A component which allows a game object to execute common-events.
  *
  * @module gs
  * @class Component_CommonEventBehavior
  * @extends gs.Component
  * @memberof gs
   */

  function Component_CommonEventBehavior() {
    Component_CommonEventBehavior.__super__.constructor.call(this);

    /**
    * @property readyToStart
    * @type boolean
    * @private
     */
    this.readyToStart = false;

    /**
    * @property initialized
    * @type boolean
    * @private
     */
    this.initialized = false;
  }


  /**
  * Serializes the component into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Component_CommonEventBehavior.prototype.toDataBundle = function() {
    return {
      initialized: this.initialized,
      readyToStart: this.readyToStart
    };
  };


  /**
  * Restores the component from a data-bundle
  *
  * @method restore
  * @param {Object} bundle- The data-bundle.
   */

  Component_CommonEventBehavior.prototype.restore = function(data) {
    this.setup();
    this.readyToStart = data.readyToStart;
    return this.initialized = data.initialized;
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_CommonEventBehavior.prototype.setupEventHandlers = function() {
    if (!this.object.interpreter) {
      return;
    }
    if (this.object.record.startCondition === 1) {
      return this.object.interpreter.onFinish = (function(_this) {
        return function() {
          var ref;
          if (!_this.object.record.parallel) {
            return (ref = _this.object.events) != null ? ref.emit("finish", _this) : void 0;
          }
        };
      })(this);
    } else {
      if (this.object.record.parallel) {
        return this.object.interpreter.onFinish = (function(_this) {
          return function(sender) {
            return _this.object.removeComponent(sender);
          };
        })(this);
      } else {
        return this.object.interpreter.onFinish = (function(_this) {
          return function(sender) {
            return _this.object.events.emit("finish", _this);
          };
        })(this);
      }
    }
  };


  /**
  * Initializes the common-event.
  *
  * @method setup
   */

  Component_CommonEventBehavior.prototype.setup = function() {
    GameManager.variableStore.setupLocalVariables(this.object.record);
    this.object.record.parameters = this.object.record.parameters != null ? this.object.record.parameters : [];
    this.object.record.startCondition = this.object.record.startCondition != null ? this.object.record.startCondition : 0;
    this.object.record.parallel = this.object.record.parallel != null ? this.object.record.parallel : false;
    this.object.record.conditionSwitch = this.object.record.conditionSwitch != null ? this.object.record.conditionSwitch : null;
    this.object.record.conditionEnabled = this.object.record.conditionEnabled;
    if (this.object.record.startCondition === 1) {
      this.object.interpreter = new gs.Component_CommandInterpreter();
      this.object.interpreter.onFinish = (function(_this) {
        return function() {
          var ref;
          if (!_this.object.record.parallel) {
            return (ref = _this.object.events) != null ? ref.emit("finish", _this) : void 0;
          }
        };
      })(this);
      this.object.interpreter.context.set(this.object.record.id, this.object.record);
      this.object.addComponent(this.object.interpreter);
    }
    return this.initialized = true;
  };


  /**
  * Starts the common-event interpreter with the specified parameters.
  * 
  * @method start
  * @param {Object} parameters The common-event's parameters which can be configured in database.
   */

  Component_CommonEventBehavior.prototype.start = function(parameters) {
    var ref, ref1;
    this.startParameters = parameters;
    if ((this.object.interpreter != null) && !this.object.interpreter.isRunning) {
      this.object.commands = this.object.record.commands;
      this.readyToStart = true;
      if ((ref = this.object.events) != null) {
        ref.emit("start", this);
      }
    }
    if (this.object.record.startCondition === 0 && this.object.record.parallel) {
      return (ref1 = this.object.events) != null ? ref1.emit("finish", this) : void 0;
    }
  };


  /**
  * Initializes variable-store with the start-up parameters configured for the
  * common-event in Database.
  *
  * @method setupParameters
   */

  Component_CommonEventBehavior.prototype.setupParameters = function(parameters) {
    var i, j, parameter, ref, results, value;
    if ((parameters != null) && (parameters.values != null)) {
      results = [];
      for (i = j = 0, ref = parameters.values.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        value = parameters.values[i];
        parameter = this.object.record.parameters[i];
        if ((parameter != null) && (value != null)) {
          switch (parameter.type) {
            case 1:
              results.push(GameManager.variableStore.setNumberValueTo(parameter.numberVariable, value));
              break;
            case 2:
              results.push(GameManager.variableStore.setBooleanValueTo(parameter.booleanVariable, value));
              break;
            case 3:
              results.push(GameManager.variableStore.setStringValueTo(parameter.stringVariable, value));
              break;
            default:
              results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };


  /**
  * Calls the common-event with the specified parameters.
  *
  * @method call
  * @param {Object} parameters The common-event's parameters which can be configured in database.
   */

  Component_CommonEventBehavior.prototype.call = function(parameters) {
    var interpreter;
    interpreter = this.object.interpreter || new gs.Component_CommandInterpreter();
    this.object.commands = this.object.record.commands;
    interpreter.repeat = false;
    interpreter.context.set(this.object.record.id, this.object.record);
    interpreter.object = this.object;
    this.object.interpreter = interpreter;
    if (this.object.record.parallel) {
      interpreter.onFinish = (function(_this) {
        return function(sender) {
          return _this.object.removeComponent(sender);
        };
      })(this);
      interpreter.start(parameters);
      this.object.addComponent(interpreter);
      return null;
    } else {
      interpreter.onFinish = (function(_this) {
        return function(sender) {
          return _this.object.events.emit("finish", _this);
        };
      })(this);
      return interpreter;
    }
  };


  /**
  * Stops the common-event interpreter.
  *
  * @method stop
   */

  Component_CommonEventBehavior.prototype.stop = function() {
    var ref;
    if (this.object.interpreter != null) {
      this.object.interpreter.stop();
      return (ref = this.object.events) != null ? ref.emit("finish", this) : void 0;
    }
  };


  /**
  * Updates the common-event interpreter.
  *
  * @method update
   */

  Component_CommonEventBehavior.prototype.update = function() {
    if (!this.initialized) {
      this.setup();
    }
    if ((this.object.interpreter != null) && this.readyToStart) {
      this.readyToStart = false;
      this.setupParameters(this.startParameters);
      this.object.interpreter.start();
    }
    if ((this.object.interpreter != null) && this.object.record.startCondition === 1 && !this.object.interpreter.isRunning) {
      if (this.object.record.conditionEnabled) {
        if (GameManager.variableStore.booleanValueOf(this.object.record.conditionSwitch)) {
          return this.start();
        }
      } else {
        return this.start();
      }
    }
  };


  /**
  * Not implemented yet.
  *
  * @method erase
   */

  Component_CommonEventBehavior.prototype.erase = function() {};

  return Component_CommonEventBehavior;

})(gs.Component);

gs.Component_CommonEventBehavior = Component_CommonEventBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OzBDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVAsR0FBQTs7O0FBR3JCOzs7Ozs7Ozs7RUFRYSx1Q0FBQTtJQUNULDZEQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxZQUFELEdBQWdCOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlO0VBZk47OztBQWlCYjs7Ozs7OzswQ0FNQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFdBQU87TUFDSCxXQUFBLEVBQWEsSUFBQyxDQUFBLFdBRFg7TUFFSCxZQUFBLEVBQWMsSUFBQyxDQUFBLFlBRlo7O0VBREc7OztBQU1kOzs7Ozs7OzBDQU1BLE9BQUEsR0FBUyxTQUFDLElBQUQ7SUFDTCxJQUFDLENBQUEsS0FBRCxDQUFBO0lBQ0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsSUFBSSxDQUFDO1dBQ3JCLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBSSxDQUFDO0VBSGY7OztBQU1UOzs7Ozs7MENBS0Esa0JBQUEsR0FBb0IsU0FBQTtJQUNoQixJQUFHLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFaO0FBQTZCLGFBQTdCOztJQUVBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBZixLQUFpQyxDQUFwQzthQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQXBCLEdBQStCLENBQUEsU0FBQSxLQUFBO2VBQUEsU0FBQTtBQUMzQixjQUFBO1VBQUEsSUFBRyxDQUFJLEtBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQXRCOzREQUNrQixDQUFFLElBQWhCLENBQXFCLFFBQXJCLEVBQStCLEtBQS9CLFdBREo7O1FBRDJCO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxFQURuQztLQUFB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Q0FBQSxXQUFSO01BQ0ksSUFBQyxDQUFBLEtBQUQsQ0FBQSxFQURKOztJQUdBLElBQUcsaUNBQUEsSUFBeUIsSUFBQyxDQUFBLFlBQTdCO01BQ0ksSUFBQyxDQUFBLFlBQUQsR0FBZ0I7TUFDaEIsSUFBQyxDQUFBLGVBQUQsQ0FBaUIsSUFBQyxDQUFBLGVBQWxCO01BQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFXLENBQUMsS0FBcEIsQ0FBQSxFQUhKOztJQUtBLElBQUcsaUNBQUEsSUFBeUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBZixLQUFpQyxDQUExRCxJQUFnRSxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQTNGO01BQ0ksSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBbEI7UUFDSSxJQUFHLFdBQVcsQ0FBQyxhQUFhLENBQUMsY0FBMUIsQ0FBeUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBeEQsQ0FBSDtpQkFDSSxJQUFDLENBQUEsS0FBRCxDQUFBLEVBREo7U0FESjtPQUFBLE1BQUE7ZUFJSSxJQUFDLENBQUEsS0FBRCxDQUFBLEVBSko7T0FESjs7RUFUSTs7O0FBZ0JSOzs7Ozs7MENBS0EsS0FBQSxHQUFPLFNBQUEsR0FBQTs7OztHQXZNaUMsRUFBRSxDQUFDOztBQXlNL0MsRUFBRSxDQUFDLDZCQUFILEdBQW1DIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfQ29tbW9uRXZlbnRCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0NvbW1vbkV2ZW50QmVoYXZpb3IgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAjIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGNvbXBvbmVudCB3aGljaCBhbGxvd3MgYSBnYW1lIG9iamVjdCB0byBleGVjdXRlIGNvbW1vbi1ldmVudHMuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9Db21tb25FdmVudEJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoKSAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHJlYWR5VG9TdGFydFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAjIyNcbiAgICAgICAgQHJlYWR5VG9TdGFydCA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGluaXRpYWxpemVkXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICMjI1xuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBjb21wb25lbnQgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IEBpbml0aWFsaXplZCxcbiAgICAgICAgICAgIHJlYWR5VG9TdGFydDogQHJlYWR5VG9TdGFydFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFJlc3RvcmVzIHRoZSBjb21wb25lbnQgZnJvbSBhIGRhdGEtYnVuZGxlXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYnVuZGxlLSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgIFxuICAgIHJlc3RvcmU6IChkYXRhKSAtPlxuICAgICAgICBAc2V0dXAoKVxuICAgICAgICBAcmVhZHlUb1N0YXJ0ID0gZGF0YS5yZWFkeVRvU3RhcnRcbiAgICAgICAgQGluaXRpYWxpemVkID0gZGF0YS5pbml0aWFsaXplZFxuICAgICAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzIGZvciBtb3VzZS90b3VjaCBldmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIGlmICFAb2JqZWN0LmludGVycHJldGVyIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnJlY29yZC5zdGFydENvbmRpdGlvbiA9PSAxXG4gICAgICAgICAgICBAb2JqZWN0LmludGVycHJldGVyLm9uRmluaXNoID0gPT4gXG4gICAgICAgICAgICAgICAgaWYgbm90IEBvYmplY3QucmVjb3JkLnBhcmFsbGVsXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwiZmluaXNoXCIsIHRoaXMpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmIEBvYmplY3QucmVjb3JkLnBhcmFsbGVsXG4gICAgICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlci5vbkZpbmlzaCA9IChzZW5kZXIpID0+IEBvYmplY3QucmVtb3ZlQ29tcG9uZW50KHNlbmRlcilcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmludGVycHJldGVyLm9uRmluaXNoID0gKHNlbmRlcikgPT4gQG9iamVjdC5ldmVudHMuZW1pdChcImZpbmlzaFwiLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgY29tbW9uLWV2ZW50LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyMgIFxuICAgIHNldHVwOiAtPlxuICAgICAgICBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldHVwTG9jYWxWYXJpYWJsZXMoQG9iamVjdC5yZWNvcmQpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LnJlY29yZC5wYXJhbWV0ZXJzID0gaWYgQG9iamVjdC5yZWNvcmQucGFyYW1ldGVycz8gdGhlbiBAb2JqZWN0LnJlY29yZC5wYXJhbWV0ZXJzIGVsc2UgW11cbiAgICAgICAgQG9iamVjdC5yZWNvcmQuc3RhcnRDb25kaXRpb24gPSBpZiBAb2JqZWN0LnJlY29yZC5zdGFydENvbmRpdGlvbj8gdGhlbiBAb2JqZWN0LnJlY29yZC5zdGFydENvbmRpdGlvbiBlbHNlIDBcbiAgICAgICAgQG9iamVjdC5yZWNvcmQucGFyYWxsZWwgPSBpZiBAb2JqZWN0LnJlY29yZC5wYXJhbGxlbD8gdGhlbiBAb2JqZWN0LnJlY29yZC5wYXJhbGxlbCBlbHNlIG5vXG4gICAgICAgIEBvYmplY3QucmVjb3JkLmNvbmRpdGlvblN3aXRjaCA9IGlmIEBvYmplY3QucmVjb3JkLmNvbmRpdGlvblN3aXRjaD8gdGhlbiBAb2JqZWN0LnJlY29yZC5jb25kaXRpb25Td2l0Y2ggZWxzZSBudWxsXG4gICAgICAgIEBvYmplY3QucmVjb3JkLmNvbmRpdGlvbkVuYWJsZWQgPSBAb2JqZWN0LnJlY29yZC5jb25kaXRpb25FbmFibGVkXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnJlY29yZC5zdGFydENvbmRpdGlvbiA9PSAxXG4gICAgICAgICAgICBAb2JqZWN0LmludGVycHJldGVyID0gbmV3IGdzLkNvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXIoKVxuICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlci5vbkZpbmlzaCA9ID0+IFxuICAgICAgICAgICAgICAgIGlmIG5vdCBAb2JqZWN0LnJlY29yZC5wYXJhbGxlbFxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcImZpbmlzaFwiLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIuY29udGV4dC5zZXQoQG9iamVjdC5yZWNvcmQuaWQsIEBvYmplY3QucmVjb3JkKVxuICAgICAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoQG9iamVjdC5pbnRlcnByZXRlcilcblxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgdGhlIGNvbW1vbi1ldmVudCBpbnRlcnByZXRlciB3aXRoIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVycy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgVGhlIGNvbW1vbi1ldmVudCdzIHBhcmFtZXRlcnMgd2hpY2ggY2FuIGJlIGNvbmZpZ3VyZWQgaW4gZGF0YWJhc2UuXG4gICAgIyMjICAgXG4gICAgc3RhcnQ6IChwYXJhbWV0ZXJzKSAtPlxuICAgICAgICBAc3RhcnRQYXJhbWV0ZXJzID0gcGFyYW1ldGVycyAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QuaW50ZXJwcmV0ZXI/IGFuZCBub3QgQG9iamVjdC5pbnRlcnByZXRlci5pc1J1bm5pbmdcbiAgICAgICAgICAgIEBvYmplY3QuY29tbWFuZHMgPSBAb2JqZWN0LnJlY29yZC5jb21tYW5kc1xuICAgICAgICAgICAgQHJlYWR5VG9TdGFydCA9IHllc1xuICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJzdGFydFwiLCB0aGlzKVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QucmVjb3JkLnN0YXJ0Q29uZGl0aW9uID09IDAgYW5kIEBvYmplY3QucmVjb3JkLnBhcmFsbGVsXG4gICAgICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcImZpbmlzaFwiLCB0aGlzKVxuICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB2YXJpYWJsZS1zdG9yZSB3aXRoIHRoZSBzdGFydC11cCBwYXJhbWV0ZXJzIGNvbmZpZ3VyZWQgZm9yIHRoZVxuICAgICogY29tbW9uLWV2ZW50IGluIERhdGFiYXNlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBQYXJhbWV0ZXJzXG4gICAgIyMjXG4gICAgc2V0dXBQYXJhbWV0ZXJzOiAocGFyYW1ldGVycykgLT5cbiAgICAgICAgaWYgcGFyYW1ldGVycz8gYW5kIHBhcmFtZXRlcnMudmFsdWVzP1xuICAgICAgICAgICAgZm9yIGkgaW4gWzAuLi5wYXJhbWV0ZXJzLnZhbHVlcy5sZW5ndGhdXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbWV0ZXJzLnZhbHVlc1tpXVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlciA9IEBvYmplY3QucmVjb3JkLnBhcmFtZXRlcnNbaV1cbiAgICAgICAgICAgICAgICBpZiBwYXJhbWV0ZXI/IGFuZCB2YWx1ZT9cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIHBhcmFtZXRlci50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDEgIyBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldE51bWJlclZhbHVlVG8ocGFyYW1ldGVyLm51bWJlclZhcmlhYmxlLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gMiAjIEJvb2xlYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldEJvb2xlYW5WYWx1ZVRvKHBhcmFtZXRlci5ib29sZWFuVmFyaWFibGUsIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiAzICMgU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5zZXRTdHJpbmdWYWx1ZVRvKHBhcmFtZXRlci5zdHJpbmdWYXJpYWJsZSwgdmFsdWUpXG4gICAgIyMjKlxuICAgICogQ2FsbHMgdGhlIGNvbW1vbi1ldmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgcGFyYW1ldGVycy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNhbGxcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIFRoZSBjb21tb24tZXZlbnQncyBwYXJhbWV0ZXJzIHdoaWNoIGNhbiBiZSBjb25maWd1cmVkIGluIGRhdGFiYXNlLlxuICAgICMjIyBcbiAgICBjYWxsOiAocGFyYW1ldGVycykgLT5cbiAgICAgICAgaW50ZXJwcmV0ZXIgPSBAb2JqZWN0LmludGVycHJldGVyIHx8IG5ldyBncy5Db21wb25lbnRfQ29tbWFuZEludGVycHJldGVyKClcbiAgICAgICAgQG9iamVjdC5jb21tYW5kcyA9IEBvYmplY3QucmVjb3JkLmNvbW1hbmRzXG4gICAgICAgIGludGVycHJldGVyLnJlcGVhdCA9IG5vXG4gICAgICAgIGludGVycHJldGVyLmNvbnRleHQuc2V0KEBvYmplY3QucmVjb3JkLmlkLCBAb2JqZWN0LnJlY29yZClcbiAgICAgICAgaW50ZXJwcmV0ZXIub2JqZWN0ID0gQG9iamVjdFxuICAgICAgICBAb2JqZWN0LmludGVycHJldGVyID0gaW50ZXJwcmV0ZXJcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QucmVjb3JkLnBhcmFsbGVsXG4gICAgICAgICAgICBpbnRlcnByZXRlci5vbkZpbmlzaCA9IChzZW5kZXIpID0+IEBvYmplY3QucmVtb3ZlQ29tcG9uZW50KHNlbmRlcilcbiAgICAgICAgICAgIGludGVycHJldGVyLnN0YXJ0KHBhcmFtZXRlcnMpXG4gICAgICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChpbnRlcnByZXRlcilcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGludGVycHJldGVyLm9uRmluaXNoID0gKHNlbmRlcikgPT4gQG9iamVjdC5ldmVudHMuZW1pdChcImZpbmlzaFwiLCB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIGludGVycHJldGVyXG4gICAgICAgXG4gICAgIyMjKlxuICAgICogU3RvcHMgdGhlIGNvbW1vbi1ldmVudCBpbnRlcnByZXRlci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3BcbiAgICAjIyMgICAgICBcbiAgICBzdG9wOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LmludGVycHJldGVyP1xuICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlci5zdG9wKClcbiAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwiZmluaXNoXCIsIHRoaXMpXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBjb21tb24tZXZlbnQgaW50ZXJwcmV0ZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIGlmIG5vdCBAaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIEBzZXR1cCgpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5pbnRlcnByZXRlcj8gYW5kIEByZWFkeVRvU3RhcnRcbiAgICAgICAgICAgIEByZWFkeVRvU3RhcnQgPSBub1xuICAgICAgICAgICAgQHNldHVwUGFyYW1ldGVycyhAc3RhcnRQYXJhbWV0ZXJzKVxuICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlci5zdGFydCgpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5pbnRlcnByZXRlcj8gYW5kIEBvYmplY3QucmVjb3JkLnN0YXJ0Q29uZGl0aW9uID09IDEgYW5kIG5vdCBAb2JqZWN0LmludGVycHJldGVyLmlzUnVubmluZ1xuICAgICAgICAgICAgaWYgQG9iamVjdC5yZWNvcmQuY29uZGl0aW9uRW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmIEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuYm9vbGVhblZhbHVlT2YoQG9iamVjdC5yZWNvcmQuY29uZGl0aW9uU3dpdGNoKVxuICAgICAgICAgICAgICAgICAgICBAc3RhcnQoKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBzdGFydCgpXG4gICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogTm90IGltcGxlbWVudGVkIHlldC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGVyYXNlXG4gICAgIyMjIFxuICAgIGVyYXNlOiAtPlxuICAgICAgICBcbmdzLkNvbXBvbmVudF9Db21tb25FdmVudEJlaGF2aW9yID0gQ29tcG9uZW50X0NvbW1vbkV2ZW50QmVoYXZpb3IiXX0=
//# sourceURL=Component_CommonEventBehavior_145.js
var Component_EventEmitter,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_EventEmitter = (function(superClass) {
  extend(Component_EventEmitter, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_EventEmitter.prototype.onDataBundleRestore = function(data, context) {
    var handler, handlers, i, j, k, l, list, ref;
    for (k in this.handlers) {
      list = this.handlers[k];
      for (i = l = 0, ref = list.length; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
        handlers = list[i];
        j = 0;
        while (j < handlers.length) {
          handler = handlers[j];
          if (!handler.handler.$vnm_cb) {
            handlers.splice(j, 1);
          } else {
            j++;
          }
        }
      }
    }
    return null;
  };


  /**
  * A component which allow a game object to fire events and manage a list
  * of observers.
  *
  * @module gs
  * @class Component_EventEmitter
  * @extends gs.Component
  * @memberof gs
   */

  function Component_EventEmitter() {
    Component_EventEmitter.__super__.constructor.apply(this, arguments);

    /**
    * List of registered observers.
    *
    * @property handlers
    * @type Object
    * @private
     */
    this.handlers = {};

    /**
    * @property defaultData
    * @type Object
    * @private
     */
    this.defaultData = {};

    /**
    * @property chainInfo
    * @type Object
    * @private
     */
    this.chainInfo = {};

    /**
    * @property needsSort
    * @type boolean
    * @private
     */
    this.needsSort = {};

    /**
    * @property markedForRemove
    * @type Object[]
    * @private
     */
    this.markedForRemove = [];

    /**
    * @property isEmitting
    * @type number
    * @private
     */
    this.isEmitting = 0;
  }


  /**
  * Adds a new observer/listener for a specified event.
  *
  * @method on
  * @param {string} eventName - The event name.
  * @param {function} handler - The handler-function called when the event is fired.
  * @param {Object} [data={}] - An optional info-object passed to the handler-function.
  * @param {Object} [owner=null] - An optional owner-object associated with the observer/listener.
  * @param {number} priority - An optional priority level. An observer/listener with a higher level will receive the event before observers/listeners with a lower level.
  * @return {gs.EventObserver} - The added observer-object.
   */

  Component_EventEmitter.prototype.on = function(eventName, handler, data, owner, priority) {
    var handlerObject;
    priority = priority || 0;
    this.needsSort[eventName] = true;
    if (this.handlers[eventName] == null) {
      this.handlers[eventName] = [];
    }
    if (!this.handlers[eventName][priority]) {
      this.handlers[eventName][priority] = [];
    }
    handlerObject = {
      handler: handler,
      data: data,
      owner: owner,
      eventName: eventName,
      priority: priority
    };
    this.handlers[eventName][priority].push(handlerObject);
    return handlerObject;
  };


  /**
  * Removes an observer/listener from a specified event. If handler parameter
  * is null, all observers for the specified event are removed.
  *
  * @method off
  * @param {string} eventName - The event name.
  * @param {gs.EventObserver} [handler=null] - The observer-object to remove. 
  * If null, all observers for the specified event are removed.
   */

  Component_EventEmitter.prototype.off = function(eventName, handler) {
    var ref, ref1;
    if (this.isEmitting > 0 && handler) {
      return this.markedForRemove.push(handler);
    } else if (handler != null) {
      return (ref = this.handlers[eventName]) != null ? (ref1 = ref[handler.priority]) != null ? ref1.remove(handler) : void 0 : void 0;
    } else {
      return this.handlers[eventName] = [];
    }
  };


  /**
  * Removes all observers/listeners from an event which are belonging to the specified
  * owner.
  *
  * @method offByOwner
  * @param {string} eventName - The event name.
  * @param {Object} owner - The owner.
  * @return {number} Count of removed observers/listeners.
   */

  Component_EventEmitter.prototype.offByOwner = function(eventName, owner) {
    var handler, handlerList, handlers, l, len, len1, m, ref, ref1, results, results1;
    if (this.handlers[eventName]) {
      if (this.isEmitting > 0) {
        ref = this.handlers[eventName];
        results = [];
        for (l = 0, len = ref.length; l < len; l++) {
          handlerList = ref[l];
          handlers = handlerList != null ? handlerList.where(function(x) {
            return x.owner === owner;
          }) : void 0;
          results.push((function() {
            var len1, m, results1;
            results1 = [];
            for (m = 0, len1 = handlers.length; m < len1; m++) {
              handler = handlers[m];
              results1.push(this.markedForRemove.push(handler));
            }
            return results1;
          }).call(this));
        }
        return results;
      } else {
        ref1 = this.handlers[eventName];
        results1 = [];
        for (m = 0, len1 = ref1.length; m < len1; m++) {
          handlerList = ref1[m];
          results1.push(handlerList.removeAll(function(x) {
            return x.owner === owner;
          }));
        }
        return results1;
      }
    }
  };


  /**
  * Emits the specified event. All observers/listeners registered for the
  * specified event are informed.
  *
  * @method emit
  * @param {string} eventName - The name of the event to fire.
  * @param {Object} [sender=null] - The sender of the event.
  * @param {Object} [data={}] - An optional object passed to each handler-function.
   */

  Component_EventEmitter.prototype.emit = function(eventName, sender, data) {
    var count, handler, handlerList, handlerLists, i, l, len, len1, m, n, ref;
    handlerLists = this.handlers[eventName];
    data = data != null ? data : this.defaultData;
    if (handlerLists && this.needsSort[eventName]) {
      this.needsSort[eventName] = false;
      for (l = 0, len = handlerLists.length; l < len; l++) {
        handlerList = handlerLists[l];
        handlerList.sort(function(a, b) {
          if (a.owner && b.owner) {
            if (a.owner.rIndex > b.owner.rIndex) {
              return -1;
            } else if (a.owner.rIndex < b.owner.rIndex) {
              return 1;
            } else {
              return 0;
            }
          } else {
            return -1;
          }
        });
      }
    }
    if (handlerLists != null) {
      for (m = handlerLists.length - 1; m >= 0; m += -1) {
        handlerList = handlerLists[m];
        if (!handlerList) {
          continue;
        }
        i = 0;
        count = handlerList.length;
        this.isEmitting++;
        while (i < count) {
          handler = handlerList[i];
          data.handler = handler;
          data.sender = sender;
          data.data = handler.data;
          if (!handler.owner || (handler.owner.visible == null) || handler.owner.visible) {
            handler.handler(data);
          }
          if (data.breakChain) {
            data.breakChain = false;
            break;
          }
          i++;
        }
        this.isEmitting--;
      }
      if (this.markedForRemove.length > 0) {
        ref = this.markedForRemove;
        for (n = 0, len1 = ref.length; n < len1; n++) {
          handler = ref[n];
          this.handlers[handler.eventName][handler.priority].remove(handler);
        }
        this.markedForRemove = [];
      }
    }
    return null;
  };


  /**
  * Checks if an event-handler with a specified owner exists for the
  * given event.
  *
  * @method checkForOwner
  * @param {string} eventName - The event name.
  * @param {function} owner - The owner to search for.
  * @return {boolean} If <b>true</b>, an event-handler with the specified owner
  * exists for the given event. Otherwise <b>false</b>.
   */

  Component_EventEmitter.prototype.checkForOwner = function(eventName, owner) {
    var handler, l, len, ref, result;
    result = false;
    ref = this.handlers[eventName];
    for (l = 0, len = ref.length; l < len; l++) {
      handler = ref[l];
      if (handler.owner === owner) {
        result = true;
        break;
      }
    }
    return result;
  };


  /**
  * Checks if an event-handler with a specified handler-function exists for the
  * given event.
  *
  * @method checkForHandlerFunction
  * @param {string} eventName - The event name.
  * @param {function} handlerFunction - The handler-function to search for.
  * @return {boolean} If true, an observer witht he specified handler-function
  * exists for the given event. Otherwise false.
   */

  Component_EventEmitter.prototype.checkForHandlerFunction = function(eventName, handlerFunction) {
    var handler, l, len, ref, result;
    result = false;
    if (handlerFunction != null) {
      ref = this.handlers[eventName];
      for (l = 0, len = ref.length; l < len; l++) {
        handler = ref[l];
        if (handler.handler === handlerFunction) {
          result = true;
          break;
        }
      }
    }
    return result;
  };


  /**
  * Not implemented yet.
  * @method update
   */

  Component_EventEmitter.prototype.update = function() {
    return this.object.active = this.object.active && (!this.object.parent || this.object.parent.active);
  };

  return Component_EventEmitter;

})(gs.Component);

gs.Component_EventEmitter = Component_EventEmitter;

gs.EventEmitter = Component_EventEmitter;

gs.GlobalEventManager = new Component_EventEmitter();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsc0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFFRjs7Ozs7Ozs7O21DQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7QUFDakIsUUFBQTtBQUFBLFNBQUEsa0JBQUE7TUFDSSxJQUFBLEdBQU8sSUFBQyxDQUFBLFFBQVMsQ0FBQSxDQUFBO0FBQ2pCLFdBQVMsb0ZBQVQ7UUFDSSxRQUFBLEdBQVcsSUFBSyxDQUFBLENBQUE7UUFDaEIsQ0FBQSxHQUFJO0FBQ0osZUFBTSxDQUFBLEdBQUksUUFBUSxDQUFDLE1BQW5CO1VBQ0ksT0FBQSxHQUFVLFFBQVMsQ0FBQSxDQUFBO1VBRW5CLElBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQXBCO1lBQ0ksUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFESjtXQUFBLE1BQUE7WUFHSSxDQUFBLEdBSEo7O1FBSEo7QUFISjtBQUZKO0FBY0EsV0FBTztFQWZVOzs7QUFnQnJCOzs7Ozs7Ozs7O0VBU2EsZ0NBQUE7SUFDVCx5REFBQSxTQUFBOztBQUVBOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsZUFBRCxHQUFtQjs7QUFFbkI7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYztFQTdDTDs7O0FBK0NiOzs7Ozs7Ozs7Ozs7bUNBV0EsRUFBQSxHQUFJLFNBQUMsU0FBRCxFQUFZLE9BQVosRUFBcUIsSUFBckIsRUFBMkIsS0FBM0IsRUFBa0MsUUFBbEM7QUFDQSxRQUFBO0lBQUEsUUFBQSxHQUFXLFFBQUEsSUFBWTtJQUN2QixJ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VUEsdUJBQUEsR0FBeUIsU0FBQyxTQUFELEVBQVksZUFBWjtBQUNyQixRQUFBO0lBQUEsTUFBQSxHQUFTO0lBRVQsSUFBRyx1QkFBSDtBQUNJO0FBQUEsV0FBQSxxQ0FBQTs7UUFDSSxJQUFHLE9BQU8sQ0FBQyxPQUFSLEtBQW1CLGVBQXRCO1VBQ0ksTUFBQSxHQUFTO0FBQ1QsZ0JBRko7O0FBREosT0FESjs7QUFNQSxXQUFPO0VBVGM7OztBQVd6Qjs7Ozs7bUNBS0EsTUFBQSxHQUFRLFNBQUE7V0FDSixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsR0FBaUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLElBQW1CLENBQUMsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVQsSUFBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBbkM7RUFEaEM7Ozs7R0F6UHlCLEVBQUUsQ0FBQzs7QUE0UHhDLEVBQUUsQ0FBQyxzQkFBSCxHQUE0Qjs7QUFDNUIsRUFBRSxDQUFDLFlBQUgsR0FBa0I7O0FBQ2xCLEVBQUUsQ0FBQyxrQkFBSCxHQUE0QixJQUFBLHNCQUFBLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9FdmVudEVtaXR0ZXIgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wiaGFuZGxlcnNcIl1cbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgZm9yIGsgb2YgQGhhbmRsZXJzXG4gICAgICAgICAgICBsaXN0ID0gQGhhbmRsZXJzW2tdXG4gICAgICAgICAgICBmb3IgaSBpbiBbMC4uLmxpc3QubGVuZ3RoXVxuICAgICAgICAgICAgICAgIGhhbmRsZXJzID0gbGlzdFtpXVxuICAgICAgICAgICAgICAgIGogPSAwXG4gICAgICAgICAgICAgICAgd2hpbGUgaiA8IGhhbmRsZXJzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gaGFuZGxlcnNbal1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICFoYW5kbGVyLmhhbmRsZXIuJHZubV9jYlxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGosIDEpXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBqKytcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICNAaGFuZGxlcnMgPSB7fVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICMjIypcbiAgICAqIEEgY29tcG9uZW50IHdoaWNoIGFsbG93IGEgZ2FtZSBvYmplY3QgdG8gZmlyZSBldmVudHMgYW5kIG1hbmFnZSBhIGxpc3RcbiAgICAqIG9mIG9ic2VydmVycy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0V2ZW50RW1pdHRlclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBMaXN0IG9mIHJlZ2lzdGVyZWQgb2JzZXJ2ZXJzLlxuICAgICAgICAqXG4gICAgICAgICogQHByb3BlcnR5IGhhbmRsZXJzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBoYW5kbGVycyA9IHt9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGRlZmF1bHREYXRhXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBkZWZhdWx0RGF0YSA9IHt9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGNoYWluSW5mb1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICMjI1xuICAgICAgICBAY2hhaW5JbmZvID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgbmVlZHNTb3J0XG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICMjI1xuICAgICAgICBAbmVlZHNTb3J0ID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgbWFya2VkRm9yUmVtb3ZlXG4gICAgICAgICogQHR5cGUgT2JqZWN0W11cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAjIyNcbiAgICAgICAgQG1hcmtlZEZvclJlbW92ZSA9IFtdXG4gICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgaXNFbWl0dGluZ1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICMjI1xuICAgICAgICBAaXNFbWl0dGluZyA9IDBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGEgbmV3IG9ic2VydmVyL2xpc3RlbmVyIGZvciBhIHNwZWNpZmllZCBldmVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG9uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gVGhlIGV2ZW50IG5hbWUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gVGhlIGhhbmRsZXItZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICogQHBhcmFtIHtPYmplY3R9IFtkYXRhPXt9XSAtIEFuIG9wdGlvbmFsIGluZm8tb2JqZWN0IHBhc3NlZCB0byB0aGUgaGFuZGxlci1mdW5jdGlvbi5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3duZXI9bnVsbF0gLSBBbiBvcHRpb25hbCBvd25lci1vYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBvYnNlcnZlci9saXN0ZW5lci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eSAtIEFuIG9wdGlvbmFsIHByaW9yaXR5IGxldmVsLiBBbiBvYnNlcnZlci9saXN0ZW5lciB3aXRoIGEgaGlnaGVyIGxldmVsIHdpbGwgcmVjZWl2ZSB0aGUgZXZlbnQgYmVmb3JlIG9ic2VydmVycy9saXN0ZW5lcnMgd2l0aCBhIGxvd2VyIGxldmVsLlxuICAgICogQHJldHVybiB7Z3MuRXZlbnRPYnNlcnZlcn0gLSBUaGUgYWRkZWQgb2JzZXJ2ZXItb2JqZWN0LlxuICAgICMjIyAgICBcbiAgICBvbjogKGV2ZW50TmFtZSwgaGFuZGxlciwgZGF0YSwgb3duZXIsIHByaW9yaXR5KSAtPlxuICAgICAgICBwcmlvcml0eSA9IHByaW9yaXR5IHx8IDBcbiAgICAgICAgQG5lZWRzU29ydFtldmVudE5hbWVdID0gdHJ1ZVxuICAgICAgICBpZiBub3QgQGhhbmRsZXJzW2V2ZW50TmFtZV0/XG4gICAgICAgICAgICBAaGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdXG4gICAgICAgIGlmIG5vdCBAaGFuZGxlcnNbZXZlbnROYW1lXVtwcmlvcml0eV1cbiAgICAgICAgICAgIEBoYW5kbGVyc1tldmVudE5hbWVdW3ByaW9yaXR5XSA9IFtdXG4gICAgICAgICAgICBcbiAgICAgICAgaGFuZGxlck9iamVjdCA9IHsgaGFuZGxlcjogaGFuZGxlciwgZGF0YTogZGF0YSwgb3duZXI6IG93bmVyLCBldmVudE5hbWU6IGV2ZW50TmFtZSwgcHJpb3JpdHk6IHByaW9yaXR5IH1cbiAgICAgICAgQGhhbmRsZXJzW2V2ZW50TmFtZV1bcHJpb3JpdHldLnB1c2goaGFuZGxlck9iamVjdClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBoYW5kbGVyT2JqZWN0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFJlbW92ZXMgYW4gb2JzZXJ2ZXIvbGlzdGVuZXIgZnJvbSBhIHNwZWNpZmllZCBldmVudC4gSWYgaGFuZGxlciBwYXJhbWV0ZXJcbiAgICAqIGlzIG51bGwsIGFsbCBvYnNlcnZlcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQgYXJlIHJlbW92ZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBvZmZcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBUaGUgZXZlbnQgbmFtZS5cbiAgICAqIEBwYXJhbSB7Z3MuRXZlbnRPYnNlcnZlcn0gW2hhbmRsZXI9bnVsbF0gLSBUaGUgb2JzZXJ2ZXItb2JqZWN0IHRvIHJlbW92ZS4gXG4gICAgKiBJZiBudWxsLCBhbGwgb2JzZXJ2ZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IGFyZSByZW1vdmVkLlxuICAgICMjIyAgICBcbiAgICBvZmY6IChldmVudE5hbWUsIGhhbmRsZXIpIC0+XG4gICAgICAgIGlmIEBpc0VtaXR0aW5nID4gMCBhbmQgaGFuZGxlclxuICAgICAgICAgICAgQG1hcmtlZEZvclJlbW92ZS5wdXNoKGhhbmRsZXIpXG4gICAgICAgIGVsc2UgaWYgaGFuZGxlcj9cbiAgICAgICAgICAgIEBoYW5kbGVyc1tldmVudE5hbWVdP1toYW5kbGVyLnByaW9yaXR5XT8ucmVtb3ZlKGhhbmRsZXIpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBoYW5kbGVyc1tldmVudE5hbWVdID0gW11cbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFJlbW92ZXMgYWxsIG9ic2VydmVycy9saXN0ZW5lcnMgZnJvbSBhbiBldmVudCB3aGljaCBhcmUgYmVsb25naW5nIHRvIHRoZSBzcGVjaWZpZWRcbiAgICAqIG93bmVyLlxuICAgICpcbiAgICAqIEBtZXRob2Qgb2ZmQnlPd25lclxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIFRoZSBldmVudCBuYW1lLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG93bmVyIC0gVGhlIG93bmVyLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBDb3VudCBvZiByZW1vdmVkIG9ic2VydmVycy9saXN0ZW5lcnMuXG4gICAgIyMjXG4gICAgb2ZmQnlPd25lcjogKGV2ZW50TmFtZSwgb3duZXIpIC0+XG4gICAgICAgIGlmIEBoYW5kbGVyc1tldmVudE5hbWVdXG4gICAgICAgICAgICBpZiBAaXNFbWl0dGluZyA+IDBcbiAgICAgICAgICAgICAgICBmb3IgaGFuZGxlckxpc3QgaW4gQGhhbmRsZXJzW2V2ZW50TmFtZV1cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBoYW5kbGVyTGlzdD8ud2hlcmUgKHgpIC0+IHgub3duZXIgPT0gb3duZXJcbiAgICAgICAgICAgICAgICAgICAgZm9yIGhhbmRsZXIgaW4gaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIEBtYXJrZWRGb3JSZW1vdmUucHVzaChoYW5kbGVyKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZvciBoYW5kbGVyTGlzdCBpbiBAaGFuZGxlcnNbZXZlbnROYW1lXVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyTGlzdC5yZW1vdmVBbGwoKHgpIC0+IHgub3duZXIgPT0gb3duZXIpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEVtaXRzIHRoZSBzcGVjaWZpZWQgZXZlbnQuIEFsbCBvYnNlcnZlcnMvbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIHRoZVxuICAgICogc3BlY2lmaWVkIGV2ZW50IGFyZSBpbmZvcm1lZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGVtaXRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc2VuZGVyPW51bGxdIC0gVGhlIHNlbmRlciBvZiB0aGUgZXZlbnQuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW2RhdGE9e31dIC0gQW4gb3B0aW9uYWwgb2JqZWN0IHBhc3NlZCB0byBlYWNoIGhhbmRsZXItZnVuY3Rpb24uXG4gICAgIyMjICAgICAgXG4gICAgZW1pdDogKGV2ZW50TmFtZSwgc2VuZGVyLCBkYXRhKSAtPlxuICAgICAgICBoYW5kbGVyTGlzdHMgPSBAaGFuZGxlcnNbZXZlbnROYW1lXVxuICAgICAgICBkYXRhID0gZGF0YSA/IEBkZWZhdWx0RGF0YVxuICAgICAgICBcbiAgICAgICAgaWYgaGFuZGxlckxpc3RzIGFuZCBAbmVlZHNTb3J0W2V2ZW50TmFtZV1cbiAgICAgICAgICAgIEBuZWVkc1NvcnRbZXZlbnROYW1lXSA9IG5vXG4gICAgICAgICAgICBmb3IgaGFuZGxlckxpc3QgaW4gaGFuZGxlckxpc3RzXG4gICAgICAgICAgICAgICAgaGFuZGxlckxpc3Quc29ydCAoYSwgYikgLT5cbiAgICAgICAgICAgICAgICAgICAgaWYgYS5vd25lciBhbmQgYi5vd25lclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgYS5vd25lci5ySW5kZXggPiBiLm93bmVyLnJJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgYS5vd25lci5ySW5kZXggPCBiLm93bmVyLnJJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBoYW5kbGVyTGlzdHM/XG4gICAgICAgICAgICBmb3IgaGFuZGxlckxpc3QgaW4gaGFuZGxlckxpc3RzIGJ5IC0xXG4gICAgICAgICAgICAgICAgaWYgIWhhbmRsZXJMaXN0IHRoZW4gY29udGludWVcbiAgICAgICAgICAgICAgICBpID0gMFxuICAgICAgICAgICAgICAgIGNvdW50ID0gaGFuZGxlckxpc3QubGVuZ3RoXG4gICAgICAgICAgICAgICAgQGlzRW1pdHRpbmcrK1xuICAgICAgICAgICAgICAgIHdoaWxlIGkgPCBjb3VudFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyID0gaGFuZGxlckxpc3RbaV1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaGFuZGxlciA9IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5zZW5kZXIgPSBzZW5kZXJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5kYXRhID0gaGFuZGxlci5kYXRhXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAhaGFuZGxlci5vd25lciBvciAhaGFuZGxlci5vd25lci52aXNpYmxlPyBvciBoYW5kbGVyLm93bmVyLnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuaGFuZGxlcihkYXRhKSBcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiBkYXRhLmJyZWFrQ2hhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYnJlYWtDaGFpbiA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgICAgQGlzRW1pdHRpbmctLVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQG1hcmtlZEZvclJlbW92ZS5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgZm9yIGhhbmRsZXIgaW4gQG1hcmtlZEZvclJlbW92ZVxuICAgICAgICAgICAgICAgICAgICBAaGFuZGxlcnNbaGFuZGxlci5ldmVudE5hbWVdW2hhbmRsZXIucHJpb3JpdHldLnJlbW92ZShoYW5kbGVyKVxuICAgICAgICAgICAgICAgIEBtYXJrZWRGb3JSZW1vdmUgPSBbXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIFxuICAgIFxuXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIGFuIGV2ZW50LWhhbmRsZXIgd2l0aCBhIHNwZWNpZmllZCBvd25lciBleGlzdHMgZm9yIHRoZVxuICAgICogZ2l2ZW4gZXZlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGVja0Zvck93bmVyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gVGhlIGV2ZW50IG5hbWUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvd25lciAtIFRoZSBvd25lciB0byBzZWFyY2ggZm9yLlxuICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgPGI+dHJ1ZTwvYj4sIGFuIGV2ZW50LWhhbmRsZXIgd2l0aCB0aGUgc3BlY2lmaWVkIG93bmVyXG4gICAgKiBleGlzdHMgZm9yIHRoZSBnaXZlbiBldmVudC4gT3RoZXJ3aXNlIDxiPmZhbHNlPC9iPi5cbiAgICAjIyMgIFxuICAgIGNoZWNrRm9yT3duZXI6IChldmVudE5hbWUsIG93bmVyKSAtPlxuICAgICAgICByZXN1bHQgPSBub1xuICAgICAgICBcbiAgICAgICAgZm9yIGhhbmRsZXIgaW4gQGhhbmRsZXJzW2V2ZW50TmFtZV1cbiAgICAgICAgICAgIGlmIGhhbmRsZXIub3duZXIgPT0gb3duZXJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB5ZXNcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENoZWNrcyBpZiBhbiBldmVudC1oYW5kbGVyIHdpdGggYSBzcGVjaWZpZWQgaGFuZGxlci1mdW5jdGlvbiBleGlzdHMgZm9yIHRoZVxuICAgICogZ2l2ZW4gZXZlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGVja0ZvckhhbmRsZXJGdW5jdGlvblxuICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIFRoZSBldmVudCBuYW1lLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlckZ1bmN0aW9uIC0gVGhlIGhhbmRsZXItZnVuY3Rpb24gdG8gc2VhcmNoIGZvci5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRydWUsIGFuIG9ic2VydmVyIHdpdGh0IGhlIHNwZWNpZmllZCBoYW5kbGVyLWZ1bmN0aW9uXG4gICAgKiBleGlzdHMgZm9yIHRoZSBnaXZlbiBldmVudC4gT3RoZXJ3aXNlIGZhbHNlLlxuICAgICMjIyAgXG4gICAgY2hlY2tGb3JIYW5kbGVyRnVuY3Rpb246IChldmVudE5hbWUsIGhhbmRsZXJGdW5jdGlvbikgLT4gXG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIFxuICAgICAgICBpZiBoYW5kbGVyRnVuY3Rpb24/XG4gICAgICAgICAgICBmb3IgaGFuZGxlciBpbiBAaGFuZGxlcnNbZXZlbnROYW1lXVxuICAgICAgICAgICAgICAgIGlmIGhhbmRsZXIuaGFuZGxlciA9PSBoYW5kbGVyRnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIE5vdCBpbXBsZW1lbnRlZCB5ZXQuXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyBcbiAgICAjIEZJWE1FOiBXaHkgc2hvdWxkIGV2ZW50LWVtaXR0ZXIgaW5mbHVlbmNlIHRoZSBhY3RpdmUtcHJvcGVydHk/XG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBAb2JqZWN0LmFjdGl2ZSA9IEBvYmplY3QuYWN0aXZlIGFuZCAoIUBvYmplY3QucGFyZW50IG9yIEBvYmplY3QucGFyZW50LmFjdGl2ZSlcbiAgICAgICAgXG5ncy5Db21wb25lbnRfRXZlbnRFbWl0dGVyID0gQ29tcG9uZW50X0V2ZW50RW1pdHRlclxuZ3MuRXZlbnRFbWl0dGVyID0gQ29tcG9uZW50X0V2ZW50RW1pdHRlclxuZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyID0gbmV3IENvbXBvbmVudF9FdmVudEVtaXR0ZXIoKSJdfQ==
//# sourceURL=Component_EventEmitter_151.js
var Component_CharacterBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_CharacterBehavior = (function(superClass) {
  extend(Component_CharacterBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_CharacterBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A behavior-component which handles the character-specific behavior like
  * talking and idle.
  *
  * @module vn
  * @class Component_CharacterBehavior
  * @extends gs.Component
  * @memberof vn
  * @constructor
   */

  function Component_CharacterBehavior() {
    Component_CharacterBehavior.__super__.constructor.apply(this, arguments);

    /**
    * @property imageIndex
    * @type number
    * @private
     */
    this.imageIndex = 0;

    /**
    * @property imageDuration
    * @type number
    * @private
     */
    this.imageDuration = 30;

    /**
    * @property idleTime
    * @type number
    * @private
     */
    this.idleTime = 120 + 120 * Math.random();

    /**
    * Indicates if the character is currently talking.
    * @property talking
    * @type boolean
     */
    this.talking = false;

    /**
    * @property initialized
    * @type boolean
    * @private
     */
    this.initialized = false;

    /**
    * Temporary game settings used by this character.
    * @property imageIndex
    * @type number
     */
    this.tempSettings = GameManager.tempSettings;
  }


  /**
  * Adds event-handlers
  *
  * @method setupEventHandlers
   */

  Component_CharacterBehavior.prototype.setupEventHandlers = function() {
    gs.GlobalEventManager.on("talkingStarted", (function(_this) {
      return function(e) {
        var ref;
        if (((ref = e.character) != null ? ref.index : void 0) === _this.object.rid) {
          _this.object.talking = true;
          return _this.imageIndex = 0;
        }
      };
    })(this));
    return gs.GlobalEventManager.on("talkingEnded", (function(_this) {
      return function(e) {
        var ref;
        if (((ref = e.character) != null ? ref.index : void 0) === _this.object.rid) {
          _this.object.talking = false;
          return _this.imageIndex = 0;
        }
      };
    })(this));
  };


  /**
  * Initializes the component. Adds event-handlers.
  *
  * @method setup
   */

  Component_CharacterBehavior.prototype.setup = function() {
    this.initialized = true;
    return this.setupEventHandlers();
  };


  /**
  * Changes the characters expression using blending. If the duration is set
  * to 0 the expression change is executed immediately without animation.
  *
  * @method changeExpression
  * @param {vn.CharacterExpression} expression - The character expression database-record.
  * @param {number} duration - The animation-duration in frames. Pass 0 to skip animation.
  * @param {function} [callback] An optional callback-function called when the change is finished.
   */

  Component_CharacterBehavior.prototype.changeExpression = function(expression, animation, easing, duration, callback) {
    var picture, prevExpression;
    prevExpression = this.object.expression;
    this.object.expression = expression;
    if ((prevExpression != null) && (this.object.expression != null) && prevExpression !== this.object.expression) {
      this.imageIndex = 0;
      picture = new gs.Object_Picture();
      picture.imageFolder = "Graphics/Characters";
      picture.image = prevExpression.idle[0].resource.name;
      picture.update();
      picture.dstRect.x = this.object.dstRect.x + Math.round((this.object.dstRect.width - picture.dstRect.width) / 2);
      picture.dstRect.y = this.object.dstRect.y + Math.round((this.object.dstRect.height - picture.dstRect.height) / 2);
      picture.zIndex = this.object.zIndex - 1;
      picture.update();
      this.object.parent.addObject(picture);
      switch (animation.fading) {
        case 0:
          this.object.animator.appear(this.object.dstRect.x, this.object.dstRect.y, animation, easing, duration, function() {
            picture.dispose();
            return typeof callback === "function" ? callback() : void 0;
          });
          return this.object.update();
        case 1:
          picture.animator.disappear(animation, easing, duration, function(object) {
            return object.dispose();
          });
          picture.update();
          this.object.animator.appear(this.object.dstRect.x, this.object.dstRect.y, animation, easing, duration, function(object) {
            return typeof callback === "function" ? callback() : void 0;
          });
          return this.object.update();
      }
    } else {
      return typeof callback === "function" ? callback() : void 0;
    }
  };


  /**
  * Lets the character start talking.
  *
  * @method startTalking
   */

  Component_CharacterBehavior.prototype.startTalking = function() {
    return this.object.talking = true;
  };


  /**
  * Lets the character stop with talking.
  *
  * @method stopTalking
   */

  Component_CharacterBehavior.prototype.stopTalking = function() {
    return this.object.talking = false;
  };


  /**
  * Updates character's talking-animation.
  *
  * @method updateTalking
  * @protected
   */

  Component_CharacterBehavior.prototype.updateTalking = function() {
    var imageIndex, ref, ref1, speed;
    if (this.tempSettings.skip && ((ref = this.object.expression.talking) != null ? ref.length : void 0) > 0) {
      this.object.talking = false;
      this.imageIndex = 0;
      return this.object.image = this.object.expression.talking[this.imageIndex].resource.name;
    } else if (this.object.expression != null) {
      if (((ref1 = this.object.expression.talking) != null ? ref1.length : void 0) > 0) {
        this.imageDuration--;
        if (this.imageDuration <= 0) {
          imageIndex = this.imageIndex;
          while (imageIndex === this.imageIndex) {
            this.imageIndex = Math.round(Math.random() * (this.object.expression.talking.length - 1));
          }
          speed = this.object.expression.talkingSpeed / 100 * 5;
          this.imageDuration = speed + Math.round(speed * Math.random());
        }
        return this.object.image = this.object.expression.talking[this.imageIndex].resource.name;
      } else {
        return this.updateIdle();
      }
    }
  };


  /**
  * Updates character's idle-animation.
  *
  * @method updateIdle
  * @protected
   */

  Component_CharacterBehavior.prototype.updateIdle = function() {
    var ref;
    if ((this.object.expression != null) && ((ref = this.object.expression.idle) != null ? ref.length : void 0) > 0) {
      if (this.imageDuration <= 0) {
        this.idleTime--;
        if (this.idleTime <= 0) {
          this.idleTime = this.object.expression.idleTime.start + (this.object.expression.idleTime.end - this.object.expression.idleTime.start) * Math.random();
          this.imageDuration = this.object.expression.idleSpeed / 100 * 5;
        }
      }
      if (this.imageDuration > 0) {
        this.imageDuration--;
        if (this.imageDuration <= 0) {
          this.imageIndex++;
          if (this.imageIndex >= this.object.expression.idle.length) {
            this.imageIndex = 0;
            this.imageDuration = 0;
          } else {
            this.imageDuration = this.object.expression.idleSpeed / 100 * 5;
          }
        }
      }
      return this.object.image = this.object.expression.idle[this.imageIndex].resource.name;
    }
  };


  /**
  * Updates character logic & animation-handling.
  *
  * @method update
   */

  Component_CharacterBehavior.prototype.update = function() {
    Component_CharacterBehavior.__super__.update.apply(this, arguments);
    if (!this.initialized) {
      this.setup();
    }
    if (this.object.talking) {
      return this.updateTalking();
    } else {
      return this.updateIdle();
    }
  };

  return Component_CharacterBehavior;

})(gs.Component);

vn.Component_CharacterBehavior = Component_CharacterBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsMkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O3dDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7RUFVYSxxQ0FBQTtJQUNULDhEQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYzs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsYUFBRCxHQUFpQjs7QUFFakI7Ozs7O0lBTUEsSUFBQyxDQUFBLFFBQUQsR0FBWSxHQUFBLEdBQU0sR0FBQSxHQUFNLElBQUksQ0FBQyxNQUFMLENBQUE7O0FBQ3hCOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFFZjs7Ozs7SUFLQSxJQUFDLENBQUEsWUFBRCxHQUFnQixXQUFXLENBQUM7RUEzQ25COzs7QUE2Q2I7Ozs7Ozt3Q0FLQSxrQkFBQSxHQUFvQixTQUFBO0lBQ2hCLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxFQUF0QixDQUF5QixnQkFBekIsRUFBMkMsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFDLENBQUQ7QUFDdkMsWUFBQTtRQUFBLHNDQUFjLENBQUUsZUFBYixLQUFzQixLQUFDLENBQUEsTUFBTSxDQUFDLEdBQWpDO1VBQ0ksS0FBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLEdBQWtCO2lCQUNsQixLQUFDLENBQUEsVUFBRCxHQUFjLEVBRmxCOztNQUR1QztJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBM0M7V0FJQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBdEIsQ0FBeUIsY0FBekIsRUFBeUMsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFDLENBQUQ7QUFDckMsWUFBQTtRQUFBLHNDQUFj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QUFrQixDQUFyQjtVQUNJLElBQUMsQ0FBQSxVQUFEO1VBQ0EsSUFBRyxJQUFDLENBQUEsVUFBRCxJQUFlLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUExQztZQUNJLElBQUMsQ0FBQSxVQUFELEdBQWM7WUFDZCxJQUFDLENBQUEsYUFBRCxHQUFpQixFQUZyQjtXQUFBLE1BQUE7WUFJSSxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFuQixHQUErQixHQUEvQixHQUFxQyxFQUoxRDtXQUZKO1NBRko7O2FBU0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUssQ0FBQSxJQUFDLENBQUEsVUFBRCxDQUFZLENBQUMsUUFBUSxDQUFDLEtBaEJsRTs7RUFEUTs7O0FBbUJaOzs7Ozs7d0NBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSix5REFBQSxTQUFBO0lBQ0EsSUFBRyxDQUFJLElBQUMsQ0FBQSxXQUFSO01BQXlCLElBQUMsQ0FBQSxLQUFELENBQUEsRUFBekI7O0lBRUEsSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQVg7YUFDSSxJQUFDLENBQUEsYUFBRCxDQUFBLEVBREo7S0FBQSxNQUFBO2FBR0ksSUFBQyxDQUFBLFVBQUQsQ0FBQSxFQUhKOztFQUpJOzs7O0dBOU04QixFQUFFLENBQUM7O0FBeU43QyxFQUFFLENBQUMsMkJBQUgsR0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9DaGFyYWN0ZXJCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0NoYXJhY3RlckJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGJlaGF2aW9yLWNvbXBvbmVudCB3aGljaCBoYW5kbGVzIHRoZSBjaGFyYWN0ZXItc3BlY2lmaWMgYmVoYXZpb3IgbGlrZVxuICAgICogdGFsa2luZyBhbmQgaWRsZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHZuXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0NoYXJhY3RlckJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiB2blxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICgpIC0+XG4gICAgICAgIHN1cGVyXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZUluZGV4XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZUluZGV4ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZUR1cmF0aW9uXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZUR1cmF0aW9uID0gMzBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgaWRsZVRpbWVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAjIyNcbiAgICAgICAgXG4gICAgICAgIEBpZGxlVGltZSA9IDEyMCArIDEyMCAqIE1hdGgucmFuZG9tKClcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2hhcmFjdGVyIGlzIGN1cnJlbnRseSB0YWxraW5nLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0YWxraW5nXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHRhbGtpbmcgPSBub1xuICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgaW5pdGlhbGl6ZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbml0aWFsaXplZCA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGVtcG9yYXJ5IGdhbWUgc2V0dGluZ3MgdXNlZCBieSB0aGlzIGNoYXJhY3Rlci5cbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VJbmRleFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHRlbXBTZXR0aW5ncyA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5nc1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJ0YWxraW5nU3RhcnRlZFwiLCAoZSkgPT4gXG4gICAgICAgICAgICBpZiBlLmNoYXJhY3Rlcj8uaW5kZXggPT0gQG9iamVjdC5yaWRcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnRhbGtpbmcgPSB5ZXNcbiAgICAgICAgICAgICAgICBAaW1hZ2VJbmRleCA9IDBcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwidGFsa2luZ0VuZGVkXCIsIChlKSA9PiBcbiAgICAgICAgICAgIGlmIGUuY2hhcmFjdGVyPy5pbmRleCA9PSBAb2JqZWN0LnJpZFxuICAgICAgICAgICAgICAgIEBvYmplY3QudGFsa2luZyA9IG5vXG4gICAgICAgICAgICAgICAgQGltYWdlSW5kZXggPSAwXG4gICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbXBvbmVudC4gQWRkcyBldmVudC1oYW5kbGVycy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBpbml0aWFsaXplZCA9IHllc1xuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDaGFuZ2VzIHRoZSBjaGFyYWN0ZXJzIGV4cHJlc3Npb24gdXNpbmcgYmxlbmRpbmcuIElmIHRoZSBkdXJhdGlvbiBpcyBzZXRcbiAgICAqIHRvIDAgdGhlIGV4cHJlc3Npb24gY2hhbmdlIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hhbmdlRXhwcmVzc2lvblxuICAgICogQHBhcmFtIHt2bi5DaGFyYWN0ZXJFeHByZXNzaW9ufSBleHByZXNzaW9uIC0gVGhlIGNoYXJhY3RlciBleHByZXNzaW9uIGRhdGFiYXNlLXJlY29yZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAtIFRoZSBhbmltYXRpb24tZHVyYXRpb24gaW4gZnJhbWVzLiBQYXNzIDAgdG8gc2tpcCBhbmltYXRpb24uXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBjaGFuZ2UgaXMgZmluaXNoZWQuIFxuICAgICMjI1xuICAgIGNoYW5nZUV4cHJlc3Npb246IChleHByZXNzaW9uLCBhbmltYXRpb24sIGVhc2luZywgZHVyYXRpb24sIGNhbGxiYWNrKSAtPlxuICAgICAgICBwcmV2RXhwcmVzc2lvbiA9IEBvYmplY3QuZXhwcmVzc2lvblxuICAgICAgICBAb2JqZWN0LmV4cHJlc3Npb24gPSBleHByZXNzaW9uXG4gICAgICAgIFxuICAgICAgICBpZiBwcmV2RXhwcmVzc2lvbj8gYW5kIEBvYmplY3QuZXhwcmVzc2lvbj8gYW5kIHByZXZFeHByZXNzaW9uICE9IEBvYmplY3QuZXhwcmVzc2lvblxuICAgICAgICAgICAgQGltYWdlSW5kZXggPSAwXG5cbiAgICAgICAgICAgIHBpY3R1cmUgPSBuZXcgZ3MuT2JqZWN0X1BpY3R1cmUoKVxuICAgICAgICAgICAgcGljdHVyZS5pbWFnZUZvbGRlciA9IFwiR3JhcGhpY3MvQ2hhcmFjdGVyc1wiXG4gICAgICAgICAgICBwaWN0dXJlLmltYWdlID0gcHJldkV4cHJlc3Npb24uaWRsZVswXS5yZXNvdXJjZS5uYW1lXG4gICAgICAgICAgICBwaWN0dXJlLnVwZGF0ZSgpXG4gICAgICAgICAgICBwaWN0dXJlLmRzdFJlY3QueCA9IEBvYmplY3QuZHN0UmVjdC54ICsgTWF0aC5yb3VuZCgoQG9iamVjdC5kc3RSZWN0LndpZHRoIC0gcGljdHVyZS5kc3RSZWN0LndpZHRoKSAvIDIpXG4gICAgICAgICAgICBwaWN0dXJlLmRzdFJlY3QueSA9IEBvYmplY3QuZHN0UmVjdC55ICsgTWF0aC5yb3VuZCgoQG9iamVjdC5kc3RSZWN0LmhlaWdodCAtIHBpY3R1cmUuZHN0UmVjdC5oZWlnaHQpIC8gMilcbiAgICAgICAgICAgIHBpY3R1cmUuekluZGV4ID0gQG9iamVjdC56SW5kZXggLSAxXG4gICAgICAgICAgICBwaWN0dXJlLnVwZGF0ZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQG9iamVjdC5wYXJlbnQuYWRkT2JqZWN0KHBpY3R1cmUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN3aXRjaCBhbmltYXRpb24uZmFkaW5nXG4gICAgICAgICAgICAgICAgd2hlbiAwICMgT3ZlcmxheVxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmFuaW1hdG9yLmFwcGVhcihAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKCkgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZGlzcG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaz8oKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QudXBkYXRlKClcbiAgICAgICAgICAgICAgICB3aGVuIDEgIyBDcm9zcyBGYWRlXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuYW5pbWF0b3IuZGlzYXBwZWFyKGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKG9iamVjdCkgLT4gXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGlzcG9zZSgpKVxuICAgICAgICAgICAgICAgICAgICBwaWN0dXJlLnVwZGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmFuaW1hdG9yLmFwcGVhcihAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKG9iamVjdCkgLT4gXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaz8oKSlcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC51cGRhdGUoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjYWxsYmFjaz8oKVxuICAgICAgICAgICAgXG4gICAgIFxuICAgICMjIypcbiAgICAqIExldHMgdGhlIGNoYXJhY3RlciBzdGFydCB0YWxraW5nLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RhcnRUYWxraW5nXG4gICAgIyMjICAgICAgIFxuICAgIHN0YXJ0VGFsa2luZzogLT4gQG9iamVjdC50YWxraW5nID0geWVzXG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyB0aGUgY2hhcmFjdGVyIHN0b3Agd2l0aCB0YWxraW5nLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RvcFRhbGtpbmdcbiAgICAjIyNcbiAgICBzdG9wVGFsa2luZzogLT4gQG9iamVjdC50YWxraW5nID0gbm9cbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGNoYXJhY3RlcidzIHRhbGtpbmctYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlVGFsa2luZ1xuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIHVwZGF0ZVRhbGtpbmc6IC0+XG4gICAgICAgIGlmIEB0ZW1wU2V0dGluZ3Muc2tpcCBhbmQgQG9iamVjdC5leHByZXNzaW9uLnRhbGtpbmc/Lmxlbmd0aCA+IDBcbiAgICAgICAgICAgIEBvYmplY3QudGFsa2luZyA9IG5vXG4gICAgICAgICAgICBAaW1hZ2VJbmRleCA9IDBcbiAgICAgICAgICAgIEBvYmplY3QuaW1hZ2UgPSBAb2JqZWN0LmV4cHJlc3Npb24udGFsa2luZ1tAaW1hZ2VJbmRleF0ucmVzb3VyY2UubmFtZVxuICAgICAgICBlbHNlIGlmIEBvYmplY3QuZXhwcmVzc2lvbj9cbiAgICAgICAgICAgIGlmIEBvYmplY3QuZXhwcmVzc2lvbi50YWxraW5nPy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgQGltYWdlRHVyYXRpb24tLVxuICAgICAgICAgICAgICAgIGlmIEBpbWFnZUR1cmF0aW9uIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VJbmRleCA9IEBpbWFnZUluZGV4XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIGltYWdlSW5kZXggPT0gQGltYWdlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbWFnZUluZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKEBvYmplY3QuZXhwcmVzc2lvbi50YWxraW5nLmxlbmd0aC0xKSlcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQgPSBAb2JqZWN0LmV4cHJlc3Npb24udGFsa2luZ1NwZWVkIC8gMTAwICogNVxuICAgICAgICAgICAgICAgICAgICBAaW1hZ2VEdXJhdGlvbiA9IHNwZWVkICsgTWF0aC5yb3VuZChzcGVlZCAqIE1hdGgucmFuZG9tKCkpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5pbWFnZSA9IEBvYmplY3QuZXhwcmVzc2lvbi50YWxraW5nW0BpbWFnZUluZGV4XS5yZXNvdXJjZS5uYW1lXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQHVwZGF0ZUlkbGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGNoYXJhY3RlcidzIGlkbGUtYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlSWRsZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICBcbiAgICB1cGRhdGVJZGxlOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LmV4cHJlc3Npb24/IGFuZCBAb2JqZWN0LmV4cHJlc3Npb24uaWRsZT8ubGVuZ3RoID4gMFxuICAgICAgICAgICAgaWYgQGltYWdlRHVyYXRpb24gPD0gMFxuICAgICAgICAgICAgICAgIEBpZGxlVGltZS0tXG4gICAgICAgICAgICAgICAgaWYgQGlkbGVUaW1lIDw9IDBcbiAgICAgICAgICAgICAgICAgICAgQGlkbGVUaW1lID0gQG9iamVjdC5leHByZXNzaW9uLmlkbGVUaW1lLnN0YXJ0ICsgKEBvYmplY3QuZXhwcmVzc2lvbi5pZGxlVGltZS5lbmQgLSBAb2JqZWN0LmV4cHJlc3Npb24uaWRsZVRpbWUuc3RhcnQpICogTWF0aC5yYW5kb20oKVxuICAgICAgICAgICAgICAgICAgICBAaW1hZ2VEdXJhdGlvbiA9IEBvYmplY3QuZXhwcmVzc2lvbi5pZGxlU3BlZWQgLyAxMDAgKiA1XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBpbWFnZUR1cmF0aW9uID4gMFxuICAgICAgICAgICAgICAgIEBpbWFnZUR1cmF0aW9uLS1cbiAgICAgICAgICAgICAgICBpZiBAaW1hZ2VEdXJhdGlvbiA8PSAwXG4gICAgICAgICAgICAgICAgICAgIEBpbWFnZUluZGV4KytcbiAgICAgICAgICAgICAgICAgICAgaWYgQGltYWdlSW5kZXggPj0gQG9iamVjdC5leHByZXNzaW9uLmlkbGUubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW1hZ2VJbmRleCA9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbWFnZUR1cmF0aW9uID0gMFxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW1hZ2VEdXJhdGlvbiA9IEBvYmplY3QuZXhwcmVzc2lvbi5pZGxlU3BlZWQgLyAxMDAgKiA1XG4gICAgICAgICAgICBAb2JqZWN0LmltYWdlID0gQG9iamVjdC5leHByZXNzaW9uLmlkbGVbQGltYWdlSW5kZXhdLnJlc291cmNlLm5hbWVcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGNoYXJhY3RlciBsb2dpYyAmIGFuaW1hdGlvbi1oYW5kbGluZy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICAgICAgICAgICAgICAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIGlmIG5vdCBAaW5pdGlhbGl6ZWQgdGhlbiBAc2V0dXAoKVxuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC50YWxraW5nXG4gICAgICAgICAgICBAdXBkYXRlVGFsa2luZygpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB1cGRhdGVJZGxlKClcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbnZuLkNvbXBvbmVudF9DaGFyYWN0ZXJCZWhhdmlvciA9IENvbXBvbmVudF9DaGFyYWN0ZXJCZWhhdmlvciJdfQ==
//# sourceURL=Component_CharacterBehavior_152.js
var Component_Timer,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Timer = (function(superClass) {
  extend(Component_Timer, superClass);


  /**
  * A component which adds timing-features to a game object. A timer-component
  * can be used as a regular timer or as a stop-watch.
  *
  * @module gs
  * @class Component_Timer
  * @extends gs.Component
  * @memberof gs
   */

  function Component_Timer() {
    Component_Timer.__super__.constructor.call(this);

    /**
    * Indicates if the timer is running. 
    *
    * @property isRunning
    * @type boolean
    * @readOnly
     */
    this.isRunning = false;

    /**
    * @property frameCount
    * @type number
    * @private
     */
    this.frameCount = 0;
  }


  /**
  * Starts the timer. 
  *
  * @method start
   */

  Component_Timer.prototype.start = function() {
    this.isRunning = true;
    if (this.object.stopWatch) {
      return this.frameCount = 0;
    } else {
      return this.frameCount = this.minutes * 60 * 60 + this.seconds * 60;
    }
  };


  /**
  * Stops the timer. 
  *
  * @method stop
   */

  Component_Timer.prototype.stop = function() {
    return this.isRunning = false;
  };


  /**
  * Resumes the timer. 
  *
  * @method resume
   */

  Component_Timer.prototype.resume = function() {
    return this.isRunning = true;
  };


  /**
  * Pauses the timer. 
  *
  * @method pause
   */

  Component_Timer.prototype.pause = function() {
    return this.isRunning = false;
  };


  /**
  * Updates the timer.
  *
  * @method update
   */

  Component_Timer.prototype.update = function() {
    if (this.object.stopWatch) {
      return this.updateStopWatch();
    } else {
      return this.updateTimer();
    }
  };


  /**
  * Updates the regular timer behavior
  *
  * @method updateTimer
   */

  Component_Timer.prototype.updateTimer = function() {
    var ref, seconds;
    if (this.isRunning && this.frameCount === 0) {
      this.isRunning = false;
      if ((ref = this.object.events) != null) {
        ref.emit("finish", this);
      }
    }
    if (!this.isRunning) {
      return;
    }
    seconds = Math.round(this.frameCount / 60);
    this.seconds = seconds % 60;
    this.minutes = Math.floor(seconds / 60);
    return this.frameCount--;
  };


  /**
  * Updates the stop-watch behavior
  *
  * @method updateStopWatch
   */

  Component_Timer.prototype.updateStopWatch = function() {
    var seconds;
    if (!this.isRunning) {
      return;
    }
    seconds = Math.round(this.frameCount / 60);
    this.seconds = seconds % 60;
    this.minutes = Math.floor(seconds / 60);
    return this.frameCount++;
  };

  return Component_Timer;

})(gs.Component);

gs.Component_Timer = Component_Timer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7O0VBU2EseUJBQUE7SUFDVCwrQ0FBQTs7QUFFQTs7Ozs7OztJQU9BLElBQUMsQ0FBQSxTQUFELEdBQWE7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYztFQWpCTDs7O0FBbUJiOzs7Ozs7NEJBS0EsS0FBQSxHQUFPLFNBQUE7SUFDSCxJQUFDLENBQUEsU0FBRCxHQUFhO0lBRWIsSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVg7YUFDSSxJQUFDLENBQUEsVUFBRCxHQUFjLEVBRGxCO0tBQUEsTUFBQTthQUdJLElBQUMsQ0FBQSxVQUFELEdBQWMsSUFBQyxDQUFBLE9BQUQsR0FBVyxFQUFYLEdBQWdCLEVBQWhCLEdBQXFCLElBQUMsQ0FBQSxPQUFELEdBQVcsR0FIbEQ7O0VBSEc7OztBQVFQOzs7Ozs7NEJBS0EsSUFBQSxHQUFNLFNBQUE7V0FBRyxJQUFDLENBQUEsU0FBRCxHQUFhO0VBQWhCOzs7QUFFTjs7Ozs7OzRCQUtBLE1BQUEsR0FBUSxTQUFBO1dBQUcsSUFBQyxDQUFBLFNBQUQsR0FBYTtFQUFoQjs7O0FBRVI7Ozs7Ozs0QkFLQSxLQUFBLEdBQU8sU0FBQTtXQUFHLElBQUMsQ0FBQSxTQUFELEdBQWE7RUFBaEI7OztBQUVQOzs7Ozs7NEJBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBWDthQUNJLElBQUMsQ0FBQSxlQUFELENBQUEsRUFESjtLQUFBLE1BQUE7YUFHSSxJQUFDLENBQUEsV0FBRCxDQUFBLEVBSEo7O0VBREk7OztBQU1SOzs7Ozs7NEJBS0EsV0FBQSxHQUFhLFNBQUE7QUFDVCxRQUFBO0lBQUEsSUFBRyxJQUFDLENBQUEsU0FBRCxJQUFlLElBQUMsQ0FBQSxVQUFELEtBQWUsQ0FBakM7TUFDSSxJQUFDLENBQUEsU0FBRCxHQUFhOztXQUNDLENBQUUsSUFBaEIsQ0FBcUIsUUFBckIsRUFBK0IsSUFBL0I7T0FGSjs7SUFHQSxJQUFHLENBQUksSUFBQyxDQUFBLFNBQVI7QUFBdUIsYUFBdkI7O0lBRUEsT0FBQSxHQUFVLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLFVBQUQsR0FBYyxFQUF6QjtJQUVWLElBQUMsQ0FBQSxPQUFELEdBQVcsT0FBQSxHQUFVO0lBQ3JCLElBQUMsQ0FBQSxPQUFELEdBQVcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxPQUFBLEdBQVUsRUFBckI7V0FFWCxJQUFDLENBQUEsVUFBRDtFQVhTOzs7QUFhYjs7Ozs7OzRCQUtBLGVBQUEsR0FBaUIsU0FBQTtBQUNiLFFBQUE7SUFBQSxJQUFHLENBQUksSUFBQyxDQUFBLFNBQVI7QUFBdUIsYUFBdkI7O0lBRUEsT0FBQSxHQUFVLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLFVBQUQsR0FBYyxFQUF6QjtJQUVWLElBQUMsQ0FBQSxPQUFELEdBQVcsT0FBQSxHQUFVO0lBQ3JCLElBQUMsQ0FBQSxPQUFELEdBQVcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxPQUFBLEdBQVUsRUFBckI7V0FFWCxJQUFDLENBQUEsVUFBRDtFQVJhOzs7O0dBakdTLEVBQUUsQ0FBQzs7QUErR2pDLEVBQUUsQ0FBQyxlQUFILEdBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfVGltZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9UaW1lciBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICMjIypcbiAgICAqIEEgY29tcG9uZW50IHdoaWNoIGFkZHMgdGltaW5nLWZlYXR1cmVzIHRvIGEgZ2FtZSBvYmplY3QuIEEgdGltZXItY29tcG9uZW50XG4gICAgKiBjYW4gYmUgdXNlZCBhcyBhIHJlZ3VsYXIgdGltZXIgb3IgYXMgYSBzdG9wLXdhdGNoLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfVGltZXJcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHRpbWVyIGlzIHJ1bm5pbmcuIFxuICAgICAgICAqXG4gICAgICAgICogQHByb3BlcnR5IGlzUnVubmluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZUNvdW50XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEBmcmFtZUNvdW50ID0gMFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgdGhlIHRpbWVyLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0YXJ0XG4gICAgIyMjXG4gICAgc3RhcnQ6IC0+IFxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnN0b3BXYXRjaFxuICAgICAgICAgICAgQGZyYW1lQ291bnQgPSAwXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBmcmFtZUNvdW50ID0gQG1pbnV0ZXMgKiA2MCAqIDYwICsgQHNlY29uZHMgKiA2MFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTdG9wcyB0aGUgdGltZXIuIFxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RvcFxuICAgICMjIyAgIFxuICAgIHN0b3A6IC0+IEBpc1J1bm5pbmcgPSBub1xuICAgIFxuICAgICMjIypcbiAgICAqIFJlc3VtZXMgdGhlIHRpbWVyLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3VtZVxuICAgICMjI1xuICAgIHJlc3VtZTogLT4gQGlzUnVubmluZyA9IHllc1xuICAgIFxuICAgICMjIypcbiAgICAqIFBhdXNlcyB0aGUgdGltZXIuIFxuICAgICpcbiAgICAqIEBtZXRob2QgcGF1c2VcbiAgICAjIyNcbiAgICBwYXVzZTogLT4gQGlzUnVubmluZyA9IG5vXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHRpbWVyLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnN0b3BXYXRjaFxuICAgICAgICAgICAgQHVwZGF0ZVN0b3BXYXRjaCgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB1cGRhdGVUaW1lcigpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSByZWd1bGFyIHRpbWVyIGJlaGF2aW9yXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVUaW1lclxuICAgICMjI1xuICAgIHVwZGF0ZVRpbWVyOiAtPlxuICAgICAgICBpZiBAaXNSdW5uaW5nIGFuZCBAZnJhbWVDb3VudCA9PSAwXG4gICAgICAgICAgICBAaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwiZmluaXNoXCIsIHRoaXMpXG4gICAgICAgIGlmIG5vdCBAaXNSdW5uaW5nIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBzZWNvbmRzID0gTWF0aC5yb3VuZChAZnJhbWVDb3VudCAvIDYwKVxuICAgICAgICBcbiAgICAgICAgQHNlY29uZHMgPSBzZWNvbmRzICUgNjBcbiAgICAgICAgQG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgICAgICAgXG4gICAgICAgIEBmcmFtZUNvdW50LS1cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgc3RvcC13YXRjaCBiZWhhdmlvclxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlU3RvcFdhdGNoXG4gICAgIyMjXG4gICAgdXBkYXRlU3RvcFdhdGNoOiAtPlxuICAgICAgICBpZiBub3QgQGlzUnVubmluZyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgc2Vjb25kcyA9IE1hdGgucm91bmQoQGZyYW1lQ291bnQgLyA2MClcbiAgICAgICAgXG4gICAgICAgIEBzZWNvbmRzID0gc2Vjb25kcyAlIDYwXG4gICAgICAgIEBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApXG4gICAgICAgIFxuICAgICAgICBAZnJhbWVDb3VudCsrXG4gICAgICAgIFxuICAgICAgICAgICAgXG5cbiAgICAgICAgXG4gXG5ncy5Db21wb25lbnRfVGltZXIgPSBDb21wb25lbnRfVGltZXIiXX0=
//# sourceURL=Component_Timer_156.js
var Component_InputHandler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_InputHandler = (function(superClass) {
  extend(Component_InputHandler, superClass);


  /**
  * The input-handler component is an interface between the input-system
  * of the basic-engine and the game's event-system. In regular this
  * component is used only by game scene to allow its game objects to
  * receive input-events.
  *
  * Those input-events are necessary to solve the problem which game-object
  * responds to a user-action first by building a responder-chain.
  *
  * @module gs
  * @class Component_InputHandler
  * @extends gs.Component
  * @memberof gs
   */

  function Component_InputHandler() {}


  /**
  * Updates the component by checking the input-system and firing
  * an input-event if necessary.
  *
  * @method update
   */

  Component_InputHandler.prototype.update = function() {
    if (Input.Mouse.moved) {
      gs.GlobalEventManager.emit("mouseMoved");
    }
    if (Input.Mouse.buttonDown) {
      gs.GlobalEventManager.emit("mouseDown");
    }
    if (Input.Mouse.buttonUp) {
      gs.GlobalEventManager.emit("mouseUp");
    }
    if (Input.keyDown) {
      gs.GlobalEventManager.emit("keyDown");
    }
    if (Input.keyUp) {
      gs.GlobalEventManager.emit("keyUp");
    }
    if (Input.Mouse.wheelChanged) {
      return gs.GlobalEventManager.emit("mouseWheel");
    }
  };

  return Component_InputHandler;

})(gs.Component);

gs.Component_InputHandler = Component_InputHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsc0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsZ0NBQUEsR0FBQTs7O0FBRWI7Ozs7Ozs7bUNBTUEsTUFBQSxHQUFRLFNBQUE7SUFDSixJQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBZjtNQUNJLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUF0QixDQUEyQixZQUEzQixFQURKOztJQUVBLElBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFmO01BQ0ksRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQXRCLENBQTJCLFdBQTNCLEVBREo7O0lBRUEsSUFBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQWY7TUFDSSxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBdEIsQ0FBMkIsU0FBM0IsRUFESjs7SUFFQSxJQUFHLEtBQUssQ0FBQyxPQUFUO01BQ0ksRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQXRCLENBQTJCLFNBQTNCLEVBREo7O0lBRUEsSUFBRyxLQUFLLENBQUMsS0FBVDtNQUNJLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUF0QixDQUEyQixPQUEzQixFQURKOztJQUVBLElBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxZQUFmO2FBQ0ksRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQXRCLENBQTJCLFlBQTNCLEVBREo7O0VBWEk7Ozs7R0F2QnlCLEVBQUUsQ0FBQzs7QUFxQ3hDLEVBQUUsQ0FBQyxzQkFBSCxHQUE0QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0lucHV0SGFuZGxlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0lucHV0SGFuZGxlciBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICMjIypcbiAgICAqIFRoZSBpbnB1dC1oYW5kbGVyIGNvbXBvbmVudCBpcyBhbiBpbnRlcmZhY2UgYmV0d2VlbiB0aGUgaW5wdXQtc3lzdGVtXG4gICAgKiBvZiB0aGUgYmFzaWMtZW5naW5lIGFuZCB0aGUgZ2FtZSdzIGV2ZW50LXN5c3RlbS4gSW4gcmVndWxhciB0aGlzXG4gICAgKiBjb21wb25lbnQgaXMgdXNlZCBvbmx5IGJ5IGdhbWUgc2NlbmUgdG8gYWxsb3cgaXRzIGdhbWUgb2JqZWN0cyB0b1xuICAgICogcmVjZWl2ZSBpbnB1dC1ldmVudHMuXG4gICAgKlxuICAgICogVGhvc2UgaW5wdXQtZXZlbnRzIGFyZSBuZWNlc3NhcnkgdG8gc29sdmUgdGhlIHByb2JsZW0gd2hpY2ggZ2FtZS1vYmplY3RcbiAgICAqIHJlc3BvbmRzIHRvIGEgdXNlci1hY3Rpb24gZmlyc3QgYnkgYnVpbGRpbmcgYSByZXNwb25kZXItY2hhaW4uXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9JbnB1dEhhbmRsZXJcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudCBieSBjaGVja2luZyB0aGUgaW5wdXQtc3lzdGVtIGFuZCBmaXJpbmdcbiAgICAqIGFuIGlucHV0LWV2ZW50IGlmIG5lY2Vzc2FyeS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgaWYgSW5wdXQuTW91c2UubW92ZWRcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwibW91c2VNb3ZlZFwiKVxuICAgICAgICBpZiBJbnB1dC5Nb3VzZS5idXR0b25Eb3duXG4gICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcIm1vdXNlRG93blwiKVxuICAgICAgICBpZiBJbnB1dC5Nb3VzZS5idXR0b25VcFxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLmVtaXQoXCJtb3VzZVVwXCIpXG4gICAgICAgIGlmIElucHV0LmtleURvd25cbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwia2V5RG93blwiKVxuICAgICAgICBpZiBJbnB1dC5rZXlVcFxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLmVtaXQoXCJrZXlVcFwiKVxuICAgICAgICBpZiBJbnB1dC5Nb3VzZS53aGVlbENoYW5nZWRcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwibW91c2VXaGVlbFwiKVxuICAgICAgICAgICAgXG5ncy5Db21wb25lbnRfSW5wdXRIYW5kbGVyID0gQ29tcG9uZW50X0lucHV0SGFuZGxlciJdfQ==
//# sourceURL=Component_InputHandler_160.js
var Component_CommandInterpreter, InterpreterContext, LivePreviewInfo,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

LivePreviewInfo = (function() {

  /**
  * Stores internal preview-info if the game runs currently in Live-Preview.
  *
  * @module gs
  * @class LivePreviewInfo
  * @memberof gs
   */
  function LivePreviewInfo() {

    /**
    * Timer ID if a timeout for live-preview was configured to exit the game loop after a certain amount of time.
    * @property timeout
    * @type number
     */
    this.timeout = null;

    /**
    * Indicates if Live-Preview is currently waiting for the next user-action. (Selecting another command, etc.)
    * @property waiting
    * @type boolean
     */
    this.waiting = false;

    /**
    * Counts the amount of executed commands since the last 
    * interpreter-pause(waiting, etc.). If its more than 500, the interpreter will automatically pause for 1 frame to 
    * avoid that Live-Preview freezes the Editor in case of endless loops.
    * @property executedCommands
    * @type number
     */
    this.executedCommands = 0;
  }

  return LivePreviewInfo;

})();

gs.LivePreviewInfo = LivePreviewInfo;

InterpreterContext = (function() {
  InterpreterContext.objectCodecBlackList = ["owner"];


  /**
  * Describes an interpreter-context which holds information about
  * the interpreter's owner and also unique ID used for accessing correct
  * local variables.
  *
  * @module gs
  * @class InterpreterContext
  * @memberof gs
  * @param {number|string} id - A unique ID
  * @param {Object} owner - The owner of the interpreter
   */

  function InterpreterContext(id, owner) {

    /**
    * A unique numeric or textual ID used for accessing correct local variables.
    * @property id
    * @type number|string
     */
    this.id = id;

    /**
    * The owner of the interpreter (e.g. current scene, etc.).
    * @property owner
    * @type Object
     */
    this.owner = owner;
  }


  /**
  * Sets the context's data.
  * @param {number|string} id - A unique ID
  * @param {Object} owner - The owner of the interpreter
  * @method set
   */

  InterpreterContext.prototype.set = function(id, owner) {
    this.id = id;
    return this.owner = owner;
  };

  return InterpreterContext;

})();

gs.InterpreterContext = InterpreterContext;

Component_CommandInterpreter = (function(superClass) {
  extend(Component_CommandInterpreter, superClass);

  Component_CommandInterpreter.objectCodecBlackList = ["settings", "object", "command", "onMessageADVWaiting", "onMessageADVDisappear", "onMessageADVFinish"];


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_CommandInterpreter.prototype.onDataBundleRestore = function(data, context) {};


  /**
  * A component which allows a game object to process commands like for
  * scene-objects. For each command a command-function exists. To add
  * own custom commands to the interpreter just create a sub-class and
  * override the gs.Component_CommandInterpreter.assignCommand method
  * and assign the command-function for your custom-command.
  *
  * @module gs
  * @class Component_CommandInterpreter
  * @extends gs.Component
  * @memberof gs
   */

  function Component_CommandInterpreter() {
    Component_CommandInterpreter.__super__.constructor.call(this);

    /**
    * Wait-Counter in frames. If greater than 0, the interpreter will for that amount of frames before continue.
    * @property waitCounter
    * @type number
     */
    this.waitCounter = 0;

    /**
    * Index to the next command to execute.
    * @property pointer
    * @type number
     */
    this.pointer = 0;

    /**
    * Stores states of conditions.
    * @property conditions
    * @type number
    * @protected
     */
    this.conditions = [];

    /**
    * Stores states of loops.
    * @property loops
    * @type number
    * @protected
     */
    this.loops = [];
    this.timers = [];

    /**
    * Indicates if the interpreter is currently running.
    * @property isRunning
    * @type boolean
    * @readOnly
     */
    this.isRunning = false;

    /**
    * Indicates if the interpreter is currently waiting.
    * @property isWaiting
    * @type boolean
     */
    this.isWaiting = false;

    /**
    * Indicates if the interpreter is currently waiting until a message processed by another context like a Common Event
    * is finished.
    * FIXME: Conflict handling can be removed maybe. 
    * @property isWaitingForMessage
    * @type boolean
     */
    this.isWaitingForMessage = false;

    /**
    * Stores internal preview-info if the game runs currently in Live-Preview.
    * <ul>
    * <li>previewInfo.timeout - Timer ID if a timeout for live-preview was configured to exit the game loop after a certain amount of time.</li>
    * <li>previewInfo.waiting - Indicates if Live-Preview is currently waiting for the next user-action. (Selecting another command, etc.)</li>
    * <li>previewInfo.executedCommands - Counts the amount of executed commands since the last 
    * interpreter-pause(waiting, etc.). If its more than 500, the interpreter will automatically pause for 1 frame to 
    * avoid that Live-Preview freezes the Editor in case of endless loops.</li>
    * </ul>
    * @property previewInfo
    * @type boolean
    * @protected
     */
    this.previewInfo = new gs.LivePreviewInfo();

    /**
    * Stores Live-Preview related info passed from the VN Maker editor like the command-index the player clicked on, etc.
    * @property previewData
    * @type Object
    * @protected
     */
    this.previewData = null;

    /**
    * Indicates if the interpreter automatically repeats execution after the last command was executed.
    * @property repeat
    * @type boolean
     */
    this.repeat = false;

    /**
    * The execution context of the interpreter.
    * @property context
    * @type gs.InterpreterContext
    * @protected
     */
    this.context = new gs.InterpreterContext(0, null);

    /**
    * Sub-Interpreter from a Common Event Call. The interpreter will wait until the sub-interpreter is done and set back to
    * <b>null</b>.
    * @property subInterpreter
    * @type gs.Component_CommandInterpreter
    * @protected
     */
    this.subInterpreter = null;

    /**
    * Current indent-level of execution
    * @property indent
    * @type number
    * @protected
     */
    this.indent = 0;

    /**
    * Stores information about for what the interpreter is currently waiting for like for a ADV message, etc. to
    * restore probably when loaded from a save-game.
    * @property waitingFor
    * @type Object
    * @protected
     */
    this.waitingFor = {};

    /**
    * Stores interpreter related settings like how to handle messages, etc.
    * @property settings
    * @type Object
    * @protected
     */
    this.settings = {
      message: {
        byId: {},
        autoErase: true,
        waitAtEnd: true,
        backlog: true
      },
      screen: {
        pan: new gs.Point(0, 0)
      }
    };
    this.onMessageADVWaiting = (function(_this) {
      return function(e) {
        var messageObject;
        messageObject = e.sender.object;
        if (!_this.messageSettings().waitAtEnd) {
          if (_this.params.waitForCompletion) {
            _this.isWaiting = false;
          }
          messageObject.textRenderer.isWaiting = false;
          messageObject.textRenderer.isRunning = false;
        }
        messageObject.events.off("waiting", e.handler);
        if (_this.messageSettings().backlog) {
          return GameManager.backlog.push({
            character: messageObject.character,
            message: messageObject.behavior.message,
            choices: []
          });
        }
      };
    })(this);
    this.onMessageADVDisappear = (function(_this) {
      return function(messageObject, waitForCompletion) {
        SceneManager.scene.currentCharacter = {
          name: ""
        };
        messageObject.behavior.clear();
        messageObject.visible = false;
        if (waitForCompletion) {
          _this.isWaiting = false;
        }
        return _this.waitingFor.messageADV = null;
      };
    })(this);

    /**
    * Called when a ADV message finishes. 
    *
    * @method onMessageNVLFinish
    * @return {Object} Event Object containing additional data.
    * @protected
     */
    this.onMessageADVFinish = (function(_this) {
      return function(e) {
        var commands, duration, fading, messageObject, pointer;
        if (!_this.messageSettings().waitAtEnd) {
          return;
        }
        messageObject = e.sender.object;
        GameManager.globalData.messages[lcsm(e.data.params.message)] = {
          read: true
        };
        GameManager.saveGlobalData();
        if (e.data.params.waitForCompletion) {
          _this.isWaiting = false;
        }
        _this.waitingFor.messageADV = null;
        pointer = _this.pointer;
        commands = _this.object.commands;
        messageObject.events.off("finish", e.handler);
        messageObject.character = null;
        if ((messageObject.voice != null) && GameManager.settings.skipVoiceOnAction) {
          AudioManager.stopSound(messageObject.voice.name);
        }
        if (!_this.isMessageCommand(pointer, commands) && _this.messageSettings().autoErase) {
          _this.isWaiting = true;
          _this.waitingFor.messageADV = e.data.params;
          fading = GameManager.tempSettings.messageFading;
          duration = GameManager.tempSettings.skip ? 0 : fading.duration;
          messageObject.waitForCompletion = e.data.params.waitForCompletion;
          return messageObject.animator.disappear(fading.animation, fading.easing, duration, gs.CallBack("onMessageADVDisappear", _this, e.data.params.waitForCompletion));
        }
      };
    })(this);
  }


  /**
  * Serializes the interpreter into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Component_CommandInterpreter.prototype.toDataBundle = function() {
    if (this.isInputDataCommand(Math.max(this.pointer - 1, 0), this.object.commands)) {
      return {
        pointer: Math.max(this.pointer - 1, 0),
        choice: this.choice,
        conditions: this.conditions,
        loops: this.loops,
        labels: this.labels,
        isWaiting: false,
        isRunning: this.isRunning,
        waitCounter: this.waitCounter,
        waitingFor: this.waitingFor,
        indent: this.indent,
        settings: this.settings
      };
    } else {
      return {
        pointer: this.pointer,
        choice: this.choice,
        conditions: this.conditions,
        loops: this.loops,
        labels: this.labels,
        isWaiting: this.isWaiting,
        isRunning: this.isRunning,
        waitCounter: this.waitCounter,
        waitingFor: this.waitingFor,
        indent: this.indent,
        settings: this.settings
      };
    }
  };


  /**
   * Previews the current scene at the specified pointer. This method is called from the
   * VN Maker Scene-Editor if live-preview is enabled and the user clicked on a command.
   *
   * @method preview
   */

  Component_CommandInterpreter.prototype.preview = function() {
    var scene;
    GameManager.tempFields.choices = [];
    GameManager.setupCursor();
    this.previewData = $PARAMS.preview;
    gs.GlobalEventManager.emit("previewRestart");
    if (this.previewInfo.timeout) {
      clearTimeout(this.previewInfo.timeout);
    }
    if (Graphics.stopped) {
      Graphics.stopped = false;
      Graphics.onEachFrame(gs.Main.frameCallback);
    }
    scene = new vn.Object_Scene();
    scene.sceneData.uid = this.previewData.scene.uid;
    return SceneManager.switchTo(scene);
  };


  /**
   * Sets up the interpreter.
   *
   * @method setup
   */

  Component_CommandInterpreter.prototype.setup = function() {
    this.previewData = $PARAMS.preview;
    if (this.previewData) {
      return gs.GlobalEventManager.on("mouseDown", ((function(_this) {
        return function() {
          if (_this.previewInfo.waiting) {
            if (_this.previewInfo.timeout) {
              clearTimeout(_this.previewInfo.timeout);
            }
            _this.previewInfo.waiting = false;
            GameManager.tempSettings.skip = false;
            _this.previewData = null;
            return gs.GlobalEventManager.emit("previewRestart");
          }
        };
      })(this)), null, this.object);
    }
  };


  /**
   * Disposes the interpreter.
   *
   * @method dispose
   */

  Component_CommandInterpreter.prototype.dispose = function() {
    if (this.previewData) {
      gs.GlobalEventManager.offByOwner("mouseDown", this.object);
    }
    return Component_CommandInterpreter.__super__.dispose.apply(this, arguments);
  };


  /**
  * Restores the interpreter from a data-bundle
  *
  * @method restore
  * @param {Object} bundle- The data-bundle.
   */

  Component_CommandInterpreter.prototype.restore = function() {};


  /**
  * Gets the game message for novel-mode.
  *
  * @method messageObjectNVL
  * @return {ui.Object_Message} The NVL game message object.
   */

  Component_CommandInterpreter.prototype.messageObjectNVL = function() {
    return gs.ObjectManager.current.objectById("gameMessageNVL_message");
  };


  /**
  * Gets the game message for adventure-mode.
  *
  * @method messageObjectADV
  * @return {ui.Object_Message} The ADV game message object.
   */

  Component_CommandInterpreter.prototype.messageObjectADV = function() {
    return gs.ObjectManager.current.objectById("gameMessage_message");
  };


  /**
  * Starts the interpreter
  *
  * @method start
   */

  Component_CommandInterpreter.prototype.start = function() {
    this.conditions = [];
    this.loops = [];
    this.indent = 0;
    this.pointer = 0;
    return this.isRunning = true;
  };


  /**
  * Stops the interpreter
  *
  * @method stop
   */

  Component_CommandInterpreter.prototype.stop = function() {
    return this.isRunning = false;
  };


  /**
  * Resumes the interpreter
  *
  * @method resume
   */

  Component_CommandInterpreter.prototype.resume = function() {
    return this.isRunning = true;
  };


  /**
  * Updates the interpreter and executes all commands until the next wait is 
  * triggered by a command. So in the case of an endless-loop the method will 
  * never return.
  *
  * @method update
   */

  Component_CommandInterpreter.prototype.update = function() {
    if (this.subInterpreter != null) {
      this.subInterpreter.update();
      return;
    }
    GameManager.variableStore.setupTempVariables(this.context);
    if (((this.object.commands == null) || this.pointer >= this.object.commands.length) && !this.isWaiting) {
      if (this.repeat) {
        this.start();
      } else if (this.isRunning) {
        this.isRunning = false;
        if (this.onFinish != null) {
          this.onFinish(this);
        }
        return;
      }
    }
    if (!this.isRunning) {
      return;
    }
    if (!this.object.commands.optimized) {
      DataOptimizer.optimizeEventCommands(this.object.commands);
    }
    if (this.waitCounter > 0) {
      this.waitCounter--;
      this.isWaiting = this.waitCounter > 0;
      return;
    }
    if (this.isWaitingForMessage) {
      this.isWaiting = true;
      if (!this.isProcessingMessageInOtherContext()) {
        this.isWaiting = false;
        this.isWaitingForMessage = false;
      } else {
        return;
      }
    }
    if (GameManager.inLivePreview) {
      while (!(this.isWaiting || this.previewInfo.waiting) && this.pointer < this.object.commands.length && this.isRunning) {
        this.executeCommand(this.pointer);
        this.previewInfo.executedCommands++;
        if (this.previewInfo.executedCommands > 500) {
          this.previewInfo.executedCommands = 0;
          this.isWaiting = true;
          this.waitCounter = 1;
        }
      }
    } else {
      while (!(this.isWaiting || this.previewInfo.waiting) && this.pointer < this.object.commands.length && this.isRunning) {
        this.executeCommand(this.pointer);
      }
    }
    if (this.pointer >= this.object.commands.length && !this.isWaiting) {
      if (this.repeat) {
        return this.start();
      } else if (this.isRunning) {
        this.isRunning = false;
        if (this.onFinish != null) {
          return this.onFinish(this);
        }
      }
    }
  };


  /**
  * Assigns the correct command-function to the specified command-object if 
  * necessary.
  *
  * @method assignCommand
   */

  Component_CommandInterpreter.prototype.assignCommand = function(command) {
    switch (command.id) {
      case "gs.Idle":
        return command.execute = this.commandIdle;
      case "gs.StartTimer":
        return command.execute = this.commandStartTimer;
      case "gs.StopTimer":
        return command.execute = this.commandStopTimer;
      case "gs.WaitCommand":
        return command.execute = this.commandWait;
      case "gs.LoopCommand":
        return command.execute = this.commandLoop;
      case "gs.BreakLoopCommand":
        return command.execute = this.commandBreakLoop;
      case "gs.Comment":
        return command.execute = function() {
          return 0;
        };
      case "gs.EmptyCommand":
        return command.execute = function() {
          return 0;
        };
      case "gs.ListAdd":
        return command.execute = this.commandListAdd;
      case "gs.ListPop":
        return command.execute = this.commandListPop;
      case "gs.ListShift":
        return command.execute = this.commandListShift;
      case "gs.ListRemoveAt":
        return command.execute = this.commandListRemoveAt;
      case "gs.ListInsertAt":
        return command.execute = this.commandListInsertAt;
      case "gs.ListValueAt":
        return command.execute = this.commandListValueAt;
      case "gs.ListShuffle":
        return command.execute = this.commandListShuffle;
      case "gs.ListSort":
        return command.execute = this.commandListSort;
      case "gs.ListIndexOf":
        return command.execute = this.commandListIndexOf;
      case "gs.ListSet":
        return command.execute = this.commandListSet;
      case "gs.ListCopy":
        return command.execute = this.commandListCopy;
      case "gs.ListLength":
        return command.execute = this.commandListLength;
      case "gs.ChangeNumberVariables":
        return command.execute = this.commandChangeNumberVariables;
      case "gs.ChangeBooleanVariables":
        return command.execute = this.commandChangeBooleanVariables;
      case "gs.ChangeStringVariables":
        return command.execute = this.commandChangeStringVariables;
      case "gs.CheckSwitch":
        return command.execute = this.commandCheckSwitch;
      case "gs.CheckNumberVariable":
        return command.execute = this.commandCheckNumberVariable;
      case "gs.CheckTextVariable":
        return command.execute = this.commandCheckTextVariable;
      case "gs.Condition":
        return command.execute = this.commandCondition;
      case "gs.ConditionElse":
        return command.execute = this.commandConditionElse;
      case "gs.ConditionElseIf":
        return command.execute = this.commandConditionElseIf;
      case "gs.Label":
        return command.execute = this.commandLabel;
      case "gs.JumpToLabel":
        return command.execute = this.commandJumpToLabel;
      case "gs.SetMessageArea":
        return command.execute = this.commandSetMessageArea;
      case "gs.ShowMessage":
        return command.execute = this.commandShowMessage;
      case "gs.ShowPartialMessage":
        return command.execute = this.commandShowPartialMessage;
      case "gs.MessageFading":
        return command.execute = this.commandMessageFading;
      case "gs.MessageSettings":
        return command.execute = this.commandMessageSettings;
      case "gs.CreateMessageArea":
        return command.execute = this.commandCreateMessageArea;
      case "gs.EraseMessageArea":
        return command.execute = this.commandEraseMessageArea;
      case "gs.SetTargetMessage":
        return command.execute = this.commandSetTargetMessage;
      case "vn.MessageBoxDefaults":
        return command.execute = this.commandMessageBoxDefaults;
      case "vn.MessageBoxVisibility":
        return command.execute = this.commandMessageBoxVisibility;
      case "vn.MessageVisibility":
        return command.execute = this.commandMessageVisibility;
      case "vn.BacklogVisibility":
        return command.execute = this.commandBacklogVisibility;
      case "vn.ShowMessageNVL":
        return command.execute = this.commandShowMessageNVL;
      case "gs.ClearMessage":
        return command.execute = this.commandClearMessage;
      case "vn.ClosePageNVL":
        return command.execute = this.commandClosePageNVL;
      case "gs.ChangeWeather":
        return command.execute = this.commandChangeWeather;
      case "gs.FreezeScreen":
        return command.execute = this.commandFreezeScreen;
      case "gs.ScreenTransition":
        return command.execute = this.commandScreenTransition;
      case "gs.ShakeScreen":
        return command.execute = this.commandShakeScreen;
      case "gs.TintScreen":
        return command.execute = this.commandTintScreen;
      case "gs.FlashScreen":
        return command.execute = this.commandFlashScreen;
      case "gs.ZoomScreen":
        return command.execute = this.commandZoomScreen;
      case "gs.RotateScreen":
        return command.execute = this.commandRotateScreen;
      case "gs.PanScreen":
        return command.execute = this.commandPanScreen;
      case "gs.ScreenEffect":
        return command.execute = this.commandScreenEffect;
      case "gs.ShowVideo":
        return command.execute = this.commandShowVideo;
      case "gs.MoveVideo":
        return command.execute = this.commandMoveVideo;
      case "gs.MoveVideoPath":
        return command.execute = this.commandMoveVideoPath;
      case "gs.TintVideo":
        return command.execute = this.commandTintVideo;
      case "gs.FlashVideo":
        return command.execute = this.commandFlashVideo;
      case "gs.CropVideo":
        return command.execute = this.commandCropVideo;
      case "gs.RotateVideo":
        return command.execute = this.commandRotateVideo;
      case "gs.ZoomVideo":
        return command.execute = this.commandZoomVideo;
      case "gs.BlendVideo":
        return command.execute = this.commandBlendVideo;
      case "gs.MaskVideo":
        return command.execute = this.commandMaskVideo;
      case "gs.VideoMotionBlur":
        return command.execute = this.commandVideoMotionBlur;
      case "gs.VideoDefaults":
        return command.execute = this.commandVideoDefaults;
      case "gs.EraseVideo":
        return command.execute = this.commandEraseVideo;
      case "gs.ShowImageMap":
        return command.execute = this.commandShowImageMap;
      case "gs.EraseImageMap":
        return command.execute = this.commandEraseImageMap;
      case "gs.AddHotspot":
        return command.execute = this.commandAddHotspot;
      case "gs.EraseHotspot":
        return command.execute = this.commandEraseHotspot;
      case "gs.ChangeHotspotState":
        return command.execute = this.commandChangeHotspotState;
      case "gs.ShowPicture":
        return command.execute = this.commandShowPicture;
      case "gs.MovePicture":
        return command.execute = this.commandMovePicture;
      case "gs.MovePicturePath":
        return command.execute = this.commandMovePicturePath;
      case "gs.TintPicture":
        return command.execute = this.commandTintPicture;
      case "gs.FlashPicture":
        return command.execute = this.commandFlashPicture;
      case "gs.CropPicture":
        return command.execute = this.commandCropPicture;
      case "gs.RotatePicture":
        return command.execute = this.commandRotatePicture;
      case "gs.ZoomPicture":
        return command.execute = this.commandZoomPicture;
      case "gs.BlendPicture":
        return command.execute = this.commandBlendPicture;
      case "gs.ShakePicture":
        return command.execute = this.commandShakePicture;
      case "gs.MaskPicture":
        return command.execute = this.commandMaskPicture;
      case "gs.PictureEffect":
        return command.execute = this.commandPictureEffect;
      case "gs.PictureMotionBlur":
        return command.execute = this.commandPictureMotionBlur;
      case "gs.PictureDefaults":
        return command.execute = this.commandPictureDefaults;
      case "gs.PlayPictureAnimation":
        return command.execute = this.commandPlayPictureAnimation;
      case "gs.ErasePicture":
        return command.execute = this.commandErasePicture;
      case "gs.InputNumber":
        return command.execute = this.commandInputNumber;
      case "vn.Choice":
        return command.execute = this.commandShowChoice;
      case "vn.ChoiceTimer":
        return command.execute = this.commandChoiceTimer;
      case "vn.ShowChoices":
        return command.execute = this.commandShowChoices;
      case "vn.UnlockCG":
        return command.execute = this.commandUnlockCG;
      case "vn.L2DJoinScene":
        return command.execute = this.commandL2DJoinScene;
      case "vn.L2DExitScene":
        return command.execute = this.commandL2DExitScene;
      case "vn.L2DMotion":
        return command.execute = this.commandL2DMotion;
      case "vn.L2DMotionGroup":
        return command.execute = this.commandL2DMotionGroup;
      case "vn.L2DExpression":
        return command.execute = this.commandL2DExpression;
      case "vn.L2DMove":
        return command.execute = this.commandL2DMove;
      case "vn.L2DParameter":
        return command.execute = this.commandL2DParameter;
      case "vn.L2DDefaults":
        return command.execute = this.commandL2DDefaults;
      case "vn.CharacterJoinScene":
        return command.execute = this.commandCharacterJoinScene;
      case "vn.CharacterExitScene":
        return command.execute = this.commandCharacterExitScene;
      case "vn.CharacterChangeExpression":
        return command.execute = this.commandCharacterChangeExpression;
      case "vn.CharacterSetParameter":
        return command.execute = this.commandCharacterSetParameter;
      case "vn.CharacterGetParameter":
        return command.execute = this.commandCharacterGetParameter;
      case "vn.CharacterDefaults":
        return command.execute = this.commandCharacterDefaults;
      case "vn.ZoomCharacter":
        return command.execute = this.commandZoomCharacter;
      case "vn.RotateCharacter":
        return command.execute = this.commandRotateCharacter;
      case "vn.BlendCharacter":
        return command.execute = this.commandBlendCharacter;
      case "vn.ShakeCharacter":
        return command.execute = this.commandShakeCharacter;
      case "vn.MaskCharacter":
        return command.execute = this.commandMaskCharacter;
      case "vn.MoveCharacter":
        return command.execute = this.commandMoveCharacter;
      case "vn.MoveCharacterPath":
        return command.execute = this.commandMoveCharacterPath;
      case "vn.FlashCharacter":
        return command.execute = this.commandFlashCharacter;
      case "vn.CharacterMotionBlur":
        return command.execute = this.commandCharacterMotionBlur;
      case "vn.ChangeBackground":
        return command.execute = this.commandChangeBackground;
      case "vn.ShakeBackground":
        return command.execute = this.commandShakeBackground;
      case "vn.ScrollBackground":
        return command.execute = this.commandScrollBackground;
      case "vn.ScrollBackgroundTo":
        return command.execute = this.commandScrollBackgroundTo;
      case "vn.ScrollBackgroundPath":
        return command.execute = this.commandScrollBackgroundPath;
      case "vn.ZoomBackground":
        return command.execute = this.commandZoomBackground;
      case "vn.TintBackground":
        return command.execute = this.commandTintBackground;
      case "vn.BlendBackground":
        return command.execute = this.commandBlendBackground;
      case "vn.MaskBackground":
        return command.execute = this.commandMaskBackground;
      case "vn.BackgroundMotionBlur":
        return command.execute = this.commandBackgroundMotionBlur;
      case "vn.BackgroundEffect":
        return command.execute = this.commandBackgroundEffect;
      case "vn.BackgroundDefaults":
        return command.execute = this.commandBackgroundDefaults;
      case "vn.ChangeScene":
        return command.execute = this.commandChangeScene;
      case "vn.CallScene":
        return command.execute = this.commandCallScene;
      case "vn.SwitchToLayout":
        return command.execute = this.commandSwitchToLayout;
      case "gs.ChangeTransition":
        return command.execute = this.commandChangeTransition;
      case "gs.ChangeWindowSkin":
        return command.execute = this.commandChangeWindowSkin;
      case "gs.ChangeScreenTransitions":
        return command.execute = this.commandChangeScreenTransitions;
      case "vn.UIAccess":
        return command.execute = this.commandUIAccess;
      case "gs.PlayVideo":
        return command.execute = this.commandPlayVideo;
      case "gs.PlayMusic":
        return command.execute = this.commandPlayMusic;
      case "gs.StopMusic":
        return command.execute = this.commandStopMusic;
      case "gs.PlaySound":
        return command.execute = this.commandPlaySound;
      case "gs.PauseMusic":
        return command.execute = this.commandPauseMusic;
      case "gs.ResumeMusic":
        return command.execute = this.commandResumeMusic;
      case "gs.AudioDefaults":
        return command.execute = this.commandAudioDefaults;
      case "gs.EndCommonEvent":
        return command.execute = this.commandEndCommonEvent;
      case "gs.CallCommonEvent":
        return command.execute = this.commandCallCommonEvent;
      case "gs.ChangeTimer":
        return command.execute = this.commandChangeTimer;
      case "gs.ShowText":
        return command.execute = this.commandShowText;
      case "gs.RefreshText":
        return command.execute = this.commandRefreshText;
      case "gs.TextMotionBlur":
        return command.execute = this.commandTextMotionBlur;
      case "gs.MoveText":
        return command.execute = this.commandMoveText;
      case "gs.MoveTextPath":
        return command.execute = this.commandMoveTextPath;
      case "gs.RotateText":
        return command.execute = this.commandRotateText;
      case "gs.ZoomText":
        return command.execute = this.commandZoomText;
      case "gs.BlendText":
        return command.execute = this.commandBlendText;
      case "gs.ColorText":
        return command.execute = this.commandColorText;
      case "gs.EraseText":
        return command.execute = this.commandEraseText;
      case "gs.TextDefaults":
        return command.execute = this.commandTextDefaults;
      case "gs.ChangeTextSettings":
        return command.execute = this.commandChangeTextSettings;
      case "gs.InputText":
        return command.execute = this.commandInputText;
      case "gs.InputName":
        return command.execute = this.commandInputName;
      case "gs.SavePersistentData":
        return command.execute = this.commandSavePersistentData;
      case "gs.PrepareSaveGame":
        return command.execute = this.commandPrepareSaveGame;
      case "gs.SaveGame":
        return command.execute = this.commandSaveGame;
      case "gs.LoadGame":
        return command.execute = this.commandLoadGame;
      case "gs.GetInputData":
        return command.execute = this.commandGetInputData;
      case "gs.WaitForInput":
        return command.execute = this.commandWaitForInput;
      case "vn.GetGameData":
        return command.execute = this.commandGetGameData;
      case "vn.SetGameData":
        return command.execute = this.commandSetGameData;
      case "vn.GetObjectData":
        return command.execute = this.commandGetObjectData;
      case "vn.SetObjectData":
        return command.execute = this.commandSetObjectData;
      case "vn.ChangeSounds":
        return command.execute = this.commandChangeSounds;
      case "vn.ChangeColors":
        return command.execute = this.commandChangeColors;
      case "gs.ChangeScreenCursor":
        return command.execute = this.commandChangeScreenCursor;
      case "gs.ResetGlobalData":
        return command.execute = this.commandResetGlobalData;
      case "gs.Script":
        return command.execute = this.commandScript;
    }
  };


  /**
  * Executes the command at the specified index and increases the command-pointer.
  *
  * @method executeCommand
   */

  Component_CommandInterpreter.prototype.executeCommand = function(index) {
    var indent;
    this.command = this.object.commands[index];
    if (this.previewData) {
      if (this.pointer < this.previewData.pointer) {
        GameManager.tempSettings.skip = true;
        GameManager.tempSettings.skipTime = 0;
      } else {
        GameManager.tempSettings.skip = this.previewData.settings.animationDisabled;
        GameManager.tempSettings.skipTime = 0;
        this.previewInfo.waiting = true;
        gs.GlobalEventManager.emit("previewWaiting");
        if (this.previewData.settings.animationDisabled || this.previewData.settings.animationTime > 0) {
          this.previewInfo.timeout = setTimeout((function() {
            return Graphics.stopped = true;
          }), this.previewData.settings.animationTime * 1000);
        }
      }
    }
    if (this.command.execute != null) {
      this.command.interpreter = this;
      if ((this.command.params.duration != null) && GameManager.tempSettings.skip) {
        this.command.duration = this.command.params.duration;
        this.command.params.duration = GameManager.tempSettings.skipTime;
        if (this.command.params.fieldFlags) {
          this.command.durationFlags = this.command.params.fieldFlags.duration;
          this.command.params.fieldFlags.duration = this.command.params.fieldFlags.duration & ~gs.CommandFieldFlags.LOCKED;
        }
      } else if (this.command.duration != null) {
        this.command.params.duration = this.command.duration;
        if (this.command.durationFlags != null) {
          this.command.params.fieldFlags.duration = this.command.durationFlags;
        }
      }
      if (this.command.indent === this.indent) {
        this.command.execute();
      }
      this.pointer++;
      this.command = this.object.commands[this.pointer];
      if (this.command != null) {
        indent = this.command.indent;
      } else {
        indent = this.indent;
        while (indent > 0 && (this.loops[indent] == null)) {
          indent--;
        }
      }
      if (indent < this.indent) {
        this.indent = indent;
        if (this.loops[this.indent] != null) {
          this.pointer = this.loops[this.indent];
          this.command = this.object.commands[this.pointer];
          return this.command.interpreter = this;
        }
      }
    } else {
      this.assignCommand(this.command);
      if (this.command.execute != null) {
        this.command.interpreter = this;
        if ((this.command.params.duration != null) && GameManager.tempSettings.skip) {
          this.command.duration = this.command.params.duration;
          this.command.params.duration = GameManager.tempSettings.skipTime;
          if (this.command.params.fieldFlags) {
            this.command.durationFlags = this.command.params.fieldFlags.duration;
            this.command.params.fieldFlags.duration = this.command.params.fieldFlags.duration & ~gs.CommandFieldFlags.LOCKED;
          }
        } else if (this.command.duration != null) {
          this.command.params.duration = this.command.duration;
          if (this.command.durationFlags != null) {
            this.command.params.fieldFlags.duration = this.command.durationFlags;
          }
        }
        if (this.command.indent === this.indent) {
          this.command.execute();
        }
        this.pointer++;
        this.command = this.object.commands[this.pointer];
        if (this.command != null) {
          indent = this.command.indent;
        } else {
          indent = this.indent;
          while (indent > 0 && (this.loops[indent] == null)) {
            indent--;
          }
        }
        if (indent < this.indent) {
          this.indent = indent;
          if (this.loops[this.indent] != null) {
            this.pointer = this.loops[this.indent];
            this.command = this.object.commands[this.pointer];
            return this.command.interpreter = this;
          }
        }
      } else {
        return this.pointer++;
      }
    }
  };


  /**
  * Skips all commands until a command with the specified indent-level is 
  * found. So for example: To jump from a Condition-Command to the next
  * Else-Command just pass the indent-level of the Condition/Else command.
  *
  * @method skip
  * @param {number} indent - The indent-level.
  * @param {boolean} backward - If true the skip runs backward.
   */

  Component_CommandInterpreter.prototype.skip = function(indent, backward) {
    var results, results1;
    if (backward) {
      this.pointer--;
      results = [];
      while (this.pointer > 0 && this.object.commands[this.pointer].indent !== indent) {
        results.push(this.pointer--);
      }
      return results;
    } else {
      this.pointer++;
      results1 = [];
      while (this.pointer < this.object.commands.length && this.object.commands[this.pointer].indent !== indent) {
        results1.push(this.pointer++);
      }
      return results1;
    }
  };


  /**
  * Checks if the command at the specified pointer-index is a game message
  * related command.
  *
  * @method isMessageCommand
  * @param {number} pointer - The pointer/index.
  * @param {Object[]} commands - The list of commands to check.
  * @return {boolean} <b>true</b> if its a game message related command. Otherwise <b>false</b>.
   */

  Component_CommandInterpreter.prototype.isMessageCommand = function(pointer, commands) {
    var result;
    result = true;
    if (pointer >= commands.length || (commands[pointer].id !== "gs.InputNumber" && commands[pointer].id !== "vn.Choice" && commands[pointer].id !== "gs.InputText" && commands[pointer].id !== "gs.InputName")) {
      result = false;
    }
    return result;
  };


  /**
  * Checks if the command at the specified pointer-index asks for user-input like
  * the Input Number or Input Text command.
  *
  * @method isInputDataCommand
  * @param {number} pointer - The pointer/index.
  * @param {Object[]} commands - The list of commands to check.
  * @return {boolean} <b>true</b> if its an input-data command. Otherwise <b>false</b>
   */

  Component_CommandInterpreter.prototype.isInputDataCommand = function(pointer, commands) {
    return pointer < commands.length && (commands[pointer].id === "gs.InputNumber" || commands[pointer].id === "gs.InputText" || commands[pointer].id === "vn.Choice" || commands[pointer].id === "vn.ShowChoices");
  };


  /**
  * Checks if a game message is currently running by another interpreter like a
  * common-event interpreter.
  *
  * @method isProcessingMessageInOtherContext
  * @return {boolean} <b>true</b> a game message is running in another context. Otherwise <b>false</b>
   */

  Component_CommandInterpreter.prototype.isProcessingMessageInOtherContext = function() {
    var gm, result, s;
    result = false;
    gm = GameManager;
    s = SceneManager.scene;
    result = ((s.inputNumberWindow != null) && s.inputNumberWindow.visible && s.inputNumberWindow.executionContext !== this.context) || ((s.inputTextWindow != null) && s.inputTextWindow.active && s.inputTextWindow.executionContext !== this.context);
    return result;
  };


  /**
  * If a game message is currently running by an other interpreter like a common-event
  * interpreter, this method trigger a wait until the other interpreter is finished
  * with the game message.
  *
  * @method waitForMessage
  * @return {boolean} <b>true</b> a game message is running in another context. Otherwise <b>false</b>
   */

  Component_CommandInterpreter.prototype.waitForMessage = function() {
    this.isWaitingForMessage = true;
    this.isWaiting = true;
    return this.pointer--;
  };


  /**
  * Gets the value the number variable at the specified index.
  *
  * @method numberValueAtIndex
  * @param {number} scope - The variable's scope.
  * @param {number} index - The index of the variable to get the value from.
  * @return {Number} The value of the variable.
   */

  Component_CommandInterpreter.prototype.numberValueAtIndex = function(scope, index) {
    return GameManager.variableStore.numberValueAtIndex(scope, index);
  };


  /**
  * Gets the value of a (possible) number variable. If a constant number value is specified, this method
  * does nothing an just returns that constant value. That's to make it more comfortable to just pass a value which
  * can be calculated by variable but also be just a constant value.
  *
  * @method numberValueOf
  * @param {number|Object} object - A number variable or constant number value.
  * @return {Number} The value of the variable.
   */

  Component_CommandInterpreter.prototype.numberValueOf = function(object) {
    return GameManager.variableStore.numberValueOf(object);
  };


  /**
  * It does the same like <b>numberValueOf</b> with one difference: If the specified object
  * is a variable, it's value is considered as a duration-value in milliseconds and automatically converted
  * into frames.
  *
  * @method durationValueOf
  * @param {number|Object} object - A number variable or constant number value.
  * @return {Number} The value of the variable.
   */

  Component_CommandInterpreter.prototype.durationValueOf = function(object) {
    if (object && (object.index != null)) {
      return Math.round(GameManager.variableStore.numberValueOf(object) / 1000 * Graphics.frameRate);
    } else {
      return GameManager.variableStore.numberValueOf(object);
    }
  };


  /**
  * Gets a position ({x, y}) for the specified predefined object position configured in 
  * Database - System.
  *
  * @method predefinedObjectPosition
  * @param {number} position - The index/ID of the predefined object position to set.
  * @param {gs.Object_Base} object - The game object to set the position for.
  * @param {Object} params - The params object of the scene command.
  * @return {Object} The position {x, y}.
   */

  Component_CommandInterpreter.prototype.predefinedObjectPosition = function(position, object, params) {
    var f, objectPosition;
    objectPosition = RecordManager.system.objectPositions[position];
    if (!objectPosition) {
      return {
        x: 0,
        y: 0
      };
    }
    if (objectPosition.func == null) {
      f = eval("(function(object, params){" + objectPosition.script + "})");
      objectPosition.func = f;
    }
    return objectPosition.func(object, params) || {
      x: 0,
      y: 0
    };
  };


  /**
  * Sets the value of a number variable at the specified index.
  *
  * @method setNumberValueAtIndex
  * @param {number} scope - The variable's scope.
  * @param {number} index - The index of the variable to set.
  * @param {number} value - The number value to set the variable to.
   */

  Component_CommandInterpreter.prototype.setNumberValueAtIndex = function(scope, index, value) {
    return GameManager.variableStore.setNumberValueAtIndex(scope, index, value);
  };


  /**
  * Sets the value of a number variable.
  *
  * @method setNumberValueTo
  * @param {number} variable - The variable to set.
  * @param {number} value - The number value to set the variable to.
   */

  Component_CommandInterpreter.prototype.setNumberValueTo = function(variable, value) {
    return GameManager.variableStore.setNumberValueTo(variable, value);
  };


  /**
  * Sets the value of a list variable.
  *
  * @method setListObjectTo
  * @param {Object} variable - The variable to set.
  * @param {Object} value - The list object to set the variable to.
   */

  Component_CommandInterpreter.prototype.setListObjectTo = function(variable, value) {
    return GameManager.variableStore.setListObjectTo(variable, value);
  };


  /**
  * Sets the value of a boolean/switch variable.
  *
  * @method setBooleanValueTo
  * @param {Object} variable - The variable to set.
  * @param {boolean} value - The boolean value to set the variable to.
   */

  Component_CommandInterpreter.prototype.setBooleanValueTo = function(variable, value) {
    return GameManager.variableStore.setBooleanValueTo(variable, value);
  };


  /**
  * Sets the value of a string/text variable.
  *
  * @method setStringValueTo
  * @param {Object} variable - The variable to set.
  * @param {string} value - The string/text value to set the variable to.
   */

  Component_CommandInterpreter.prototype.setStringValueTo = function(variable, value) {
    return GameManager.variableStore.setStringValueTo(variable, value);
  };


  /**
  * Gets the value of a (possible) string variable. If a constant string value is specified, this method
  * does nothing an just returns that constant value. That's to make it more comfortable to just pass a value which
  * can be calculated by variable but also be just a constant value.
  *
  * @method stringValueOf
  * @param {string|Object} object - A string variable or constant string value.
  * @return {string} The value of the variable.
   */

  Component_CommandInterpreter.prototype.stringValueOf = function(object) {
    return GameManager.variableStore.stringValueOf(object);
  };


  /**
  * Gets the value of a (possible) boolean variable. If a constant boolean value is specified, this method
  * does nothing an just returns that constant value. That's to make it more comfortable to just pass a value which
  * can be calculated by variable but also be just a constant value.
  *
  * @method booleanValueOf
  * @param {boolean|Object} object - A boolean variable or constant boolean value.
  * @return {boolean} The value of the variable.
   */

  Component_CommandInterpreter.prototype.booleanValueOf = function(object) {
    return GameManager.variableStore.booleanValueOf(object);
  };


  /**
  * Gets the value of a (possible) list variable.
  *
  * @method listObjectOf
  * @param {Object} object - A list variable.
  * @return {Object} The value of the list variable.
   */

  Component_CommandInterpreter.prototype.listObjectOf = function(object) {
    return GameManager.variableStore.listObjectOf(object);
  };


  /**
  * Compares two object using the specified operation and returns the result.
  *
  * @method compare
  * @param {Object} a - Object A.
  * @param {Object} b - Object B.
  * @param {number} operation - The compare-operation to compare Object A with Object B.
  * <ul>
  * <li>0 = Equal To</li>
  * <li>1 = Not Equal To</li>
  * <li>2 = Greater Than</li>
  * <li>3 = Greater or Equal To</li>
  * <li>4 = Less Than</li>
  * <li>5 = Less or Equal To</li>
  * </ul>
  * @return {boolean} The comparison result.
   */

  Component_CommandInterpreter.prototype.compare = function(a, b, operation) {
    switch (operation) {
      case 0:
        return a == b;
      case 1:
        return a != b;
      case 2:
        return a > b;
      case 3:
        return a >= b;
      case 4:
        return a < b;
      case 5:
        return a <= b;
    }
  };


  /**
  * Shakes a game object.
  *
  * @method shakeObject
  * @param {gs.Object_Base} object - The game object to shake.
  * @return {Object} A params object containing additional info about the shake-animation.
   */

  Component_CommandInterpreter.prototype.shakeObject = function(object, params) {
    var duration, easing;
    duration = Math.max(Math.round(this.durationValueOf(params.duration)), 2);
    easing = gs.Easings.fromObject(params.easing);
    object.animator.shake({
      x: this.numberValueOf(params.range.x),
      y: this.numberValueOf(params.range.y)
    }, this.numberValueOf(params.speed) / 100, duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Lets the interpreter wait for the completion of a running operation like an animation, etc.
  *
  * @method waitForCompletion
  * @param {gs.Object_Base} object - The game object the operation is executed on. Can be <b>null</b>.
  * @return {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.waitForCompletion = function(object, params) {
    var duration;
    duration = this.durationValueOf(params.duration);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Erases a game object.
  *
  * @method eraseObject
  * @param {gs.Object_Base} object - The game object to erase.
  * @return {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.eraseObject = function(object, params) {
    var duration, easing;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.disappear(params.animation, easing, duration, (function(_this) {
      return function(sender) {
        return sender.dispose();
      };
    })(this));
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Shows a game object on screen.
  *
  * @method showObject
  * @param {gs.Object_Base} object - The game object to show.
  * @param {gs.Point} position - The position where the game object should be shown.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.showObject = function(object, position, params) {
    var duration, easing, x, y;
    x = this.numberValueOf(position.x);
    y = this.numberValueOf(position.y);
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.appear(x, y, params.animation, easing, duration);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Moves a game object.
  *
  * @method moveObject
  * @param {gs.Object_Base} object - The game object to move.
  * @param {gs.Point} position - The position to move the game object to.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.moveObject = function(object, position, params) {
    var duration, easing, p, x, y;
    if (params.positionType === 0) {
      p = this.predefinedObjectPosition(params.predefinedPositionId, object, params);
      x = p.x;
      y = p.y;
    } else {
      x = this.numberValueOf(position.x);
      y = this.numberValueOf(position.y);
    }
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.moveTo(x, y, duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Moves a game object along a path.
  *
  * @method moveObjectPath
  * @param {gs.Object_Base} object - The game object to move.
  * @param {Object} path - The path to move the game object along.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.moveObjectPath = function(object, path, params) {
    var duration, easing, ref;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.movePath(path.data, params.loopType, duration, easing, (ref = path.effects) != null ? ref.data : void 0);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Scrolls a scrollable game object along a path.
  *
  * @method scrollObjectPath
  * @param {gs.Object_Base} object - The game object to scroll.
  * @param {Object} path - The path to scroll the game object along.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.scrollObjectPath = function(object, path, params) {
    var duration, easing;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.scrollPath(path, params.loopType, duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Zooms/Scales a game object.
  *
  * @method zoomObject
  * @param {gs.Object_Base} object - The game object to zoom.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.zoomObject = function(object, params) {
    var duration, easing;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.zoomTo(this.numberValueOf(params.zooming.x) / 100, this.numberValueOf(params.zooming.y) / 100, duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Rotates a game object.
  *
  * @method rotateObject
  * @param {gs.Object_Base} object - The game object to rotate.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.rotateObject = function(object, params) {
    var duration, easing;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.rotate(params.direction, this.numberValueOf(params.speed) / 100, duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Blends a game object.
  *
  * @method blendObject
  * @param {gs.Object_Base} object - The game object to blend.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.blendObject = function(object, params) {
    var duration, easing;
    easing = gs.Easings.fromObject(params.easing);
    duration = this.durationValueOf(params.duration);
    object.animator.blendTo(this.numberValueOf(params.opacity), duration, easing);
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Executes a masking-effect on a game object..
  *
  * @method maskObject
  * @param {gs.Object_Base} object - The game object to execute a masking-effect on.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.maskObject = function(object, params) {
    var duration, easing, ref, ref1, ref2;
    easing = gs.Easings.fromObject(params.easing);
    if (params.mask.type === 0) {
      object.mask.type = 0;
      object.mask.ox = this.numberValueOf(params.mask.ox);
      object.mask.oy = this.numberValueOf(params.mask.oy);
      if (((ref = object.mask.source) != null ? ref.videoElement : void 0) != null) {
        object.mask.source.pause();
      }
      if (params.mask.sourceType === 0) {
        object.mask.source = ResourceManager.getBitmap("Graphics/Masks/" + ((ref1 = params.mask.graphic) != null ? ref1.name : void 0));
      } else {
        object.mask.source = ResourceManager.getVideo("Movies/" + ((ref2 = params.mask.video) != null ? ref2.name : void 0));
        if (object.mask.source) {
          object.mask.source.play();
          object.mask.source.loop = true;
        }
      }
    } else {
      duration = this.durationValueOf(params.duration);
      object.animator.maskTo(params.mask, duration, easing);
    }
    if (params.waitForCompletion && !(duration === 0)) {
      this.isWaiting = true;
      return this.waitCounter = duration;
    }
  };


  /**
  * Executes an effect on a game object.
  *
  * @method objectEffect
  * @param {gs.Object_Base} object - The game object to execute a masking-effect on.
  * @param {Object} A params object containing additional info.
   */

  Component_CommandInterpreter.prototype.objectEffect = function(object, params) {
    object.effects.wobble.enabled = params.power > 0;
    object.effects.wobble.power = params.power / 10000;
    object.effects.wobble.speed = params.speed / 100;
    object.effects.wobble.vertical = params.orientation === 0 || params.orientation === 2;
    return object.effects.wobble.horizontal = params.orientation === 1 || params.orientation === 2;
  };


  /**
  * Executes an action like for a hotspot.
  *
  * @method executeAction
  * @param {Object} action - Action-Data.
  * @param {boolean} stateValue - In case of switch-binding, the switch is set to this value.
   */

  Component_CommandInterpreter.prototype.executeAction = function(action, stateValue) {
    var ref;
    switch (action.type) {
      case 0:
        if (action.labelIndex) {
          return this.pointer = action.labelIndex;
        } else {
          return this.jumpToLabel(action.label);
        }
        break;
      case 1:
        return this.callCommonEvent(action.commonEventId);
      case 2:
        return this.setBooleanValueTo(action["switch"], stateValue);
      case 3:
        return this.callScene((ref = action.scene) != null ? ref.uid : void 0);
    }
  };


  /**
  * Calls a common event and returns the sub-interpreter for it.
  *
  * @method callCommonEvent
  * @param {number} id - The ID of the common event to call.
  * @param {Object} parameters - Optional common event parameters.
  * @param {boolean} wait - Indicates if the interpreter should be stay in waiting-mode even if the sub-interpreter is finished.
   */

  Component_CommandInterpreter.prototype.callCommonEvent = function(id, parameters, wait) {
    var commonEvent, ref;
    commonEvent = GameManager.commonEvents[id];
    if (commonEvent != null) {
      SceneManager.scene.commonEventContainer.addObject(commonEvent);
      if ((ref = commonEvent.events) != null) {
        ref.on("finish", (function(_this) {
          return function(e) {
            SceneManager.scene.commonEventContainer.removeObject(e.sender.object);
            e.sender.object.events.off("finish");
            _this.subInterpreter = null;
            return _this.isWaiting = wait != null ? wait : false;
          };
        })(this));
      }
      GameManager.variableStore.setupLocalVariables(commonEvent.record);
      GameManager.variableStore.setupTempVariables(commonEvent.record);
      this.subInterpreter = commonEvent.behavior.call(parameters || []);
      if (this.subInterpreter != null) {
        this.isWaiting = true;
        this.subInterpreter.start();
        return this.subInterpreter.update();
      }
    }
  };


  /**
  * Calls a scene and returns the sub-interpreter for it.
  *
  * @method callScene
  * @param {String} uid - The UID of the scene to call.
   */

  Component_CommandInterpreter.prototype.callScene = function(uid) {
    var object, sceneDocument;
    sceneDocument = DataManager.getDocument(uid);
    if (sceneDocument != null) {
      this.isWaiting = true;
      this.subInterpreter = new gs.Component_CommandInterpreter();
      object = {
        commands: sceneDocument.items.commands
      };
      this.subInterpreter.repeat = false;
      this.subInterpreter.context.set(sceneDocument.uid, sceneDocument);
      this.subInterpreter.object = object;
      this.subInterpreter.onFinish = (function(_this) {
        return function(sender) {
          _this.isWaiting = false;
          return _this.subInterpreter = null;
        };
      })(this);
      this.subInterpreter.start();
      return this.subInterpreter.update();
    }
  };


  /**
  * Calls a common event and returns the sub-interpreter for it.
  *
  * @method storeListValue
  * @param {number} id - The ID of the common event to call.
  * @param {Object} parameters - Optional common event parameters.
  * @param {boolean} wait - Indicates if the interpreter should be stay in waiting-mode even if the sub-interpreter is finished.
   */

  Component_CommandInterpreter.prototype.storeListValue = function(variable, list, value, valueType) {
    switch (valueType) {
      case 0:
        return this.setNumberValueTo(variable, (!isNaN(value) ? value : 0));
      case 1:
        return this.setBooleanValueTo(variable, (value ? 1 : 0));
      case 2:
        return this.setStringValueTo(variable, value.toString());
      case 3:
        return this.setListObjectTo(variable, (value.length != null ? value : []));
    }
  };


  /**
  * @method jumpToLabel
   */

  Component_CommandInterpreter.prototype.jumpToLabel = function(label) {
    var i, k, ref, results;
    if (!label) {
      return;
    }
    this.waitCounter = 0;
    this.isWaiting = false;
    results = [];
    for (i = k = 0, ref = this.object.commands.length; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
      if (this.object.commands[i].id === "gs.Label" && this.object.commands[i].params.name === label) {
        this.pointer = i;
        break;
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * Gets the current message box object depending on game mode (ADV or NVL).
  *
  * @method messageBoxObject
  * @return {gs.Object_Base} The message box object.
  * @protected
   */

  Component_CommandInterpreter.prototype.messageBoxObject = function() {
    if (SceneManager.scene.layout.visible) {
      return gs.ObjectManager.current.objectById("messageBox");
    } else {
      return gs.ObjectManager.current.objectById("messageBoxNVL");
    }
  };


  /**
  * Gets the current message object depending on game mode (ADV or NVL).
  *
  * @method messageObject
  * @return {ui.Object_Message} The message object.
  * @protected
   */

  Component_CommandInterpreter.prototype.messageObject = function() {
    if (SceneManager.scene.layout.visible) {
      return gs.ObjectManager.current.objectById("gameMessage_message");
    } else {
      return gs.ObjectManager.current.objectById("gameMessageNVL_message");
    }
  };


  /**
  * Gets the current message ID depending on game mode (ADV or NVL).
  *
  * @method messageObjectId
  * @return {string} The message object ID.
  * @protected
   */

  Component_CommandInterpreter.prototype.messageObjectId = function() {
    if (SceneManager.scene.layout.visible) {
      return "gameMessage_message";
    } else {
      return "gameMessageNVL_message";
    }
  };


  /**
  * Gets the current message settings.
  *
  * @method messageSettings
  * @return {Object} The message settings
  * @protected
   */

  Component_CommandInterpreter.prototype.messageSettings = function() {
    var ref, ref1, ref2, ref3, settings;
    settings = this.settings.message.byId[(ref = (ref1 = this.settings.message.target) != null ? ref1.id : void 0) != null ? ref : this.messageObjectId()];
    if (!settings) {
      settings = {
        waitAtEnd: true,
        autoErase: true,
        backlog: true
      };
      this.settings.message.byId[(ref2 = (ref3 = this.settings.message.target) != null ? ref3.id : void 0) != null ? ref2 : this.messageObjectId()] = settings;
    }
    return settings;
  };


  /**
  * Gets the current target message object where all message commands are executed on.
  *
  * @method targetMessage
  * @return {ui.Object_Message} The target message object.
  * @protected
   */

  Component_CommandInterpreter.prototype.targetMessage = function() {
    var message, ref, ref1, ref2, target;
    message = this.messageObject();
    target = this.settings.message.target;
    if (target != null) {
      switch (target.type) {
        case 0:
          message = (ref = gs.ObjectManager.current.objectById(target.id)) != null ? ref : this.messageObject();
          break;
        case 1:
          message = (ref1 = (ref2 = SceneManager.scene.messageAreas[target.id]) != null ? ref2.message : void 0) != null ? ref1 : this.messageObject();
      }
    }
    return message;
  };


  /**
  * Gets the current target message box containing the current target message.
  *
  * @method targetMessageBox
  * @return {ui.Object_UIElement} The target message box.
  * @protected
   */

  Component_CommandInterpreter.prototype.targetMessageBox = function() {
    var messageBox, ref, ref1, target;
    messageBox = this.messageObject();
    target = this.settings.message.target;
    if (target != null) {
      switch (target.type) {
        case 0:
          messageBox = (ref = gs.ObjectManager.current.objectById(target.id)) != null ? ref : this.messageObject();
          break;
        case 1:
          messageBox = (ref1 = gs.ObjectManager.current.objectById("customGameMessage_" + target.id)) != null ? ref1 : this.messageObject();
      }
    }
    return messageBox;
  };


  /**
  * Called after an input number dialog was accepted by the user. It takes the user's input and puts
  * it in the configured number variable.
  *
  * @method onInputNumberFinish
  * @return {Object} Event Object containing additional data like the number, etc.
  * @protected
   */

  Component_CommandInterpreter.prototype.onInputNumberFinish = function(e) {
    this.messageObject().behavior.clear();
    this.setNumberValueTo(this.waitingFor.inputNumber.variable, parseInt(ui.Component_FormulaHandler.fieldValue(e.sender, e.number)));
    this.isWaiting = false;
    this.waitingFor.inputNumber = null;
    return SceneManager.scene.inputNumberBox.dispose();
  };


  /**
  * Called after an input text dialog was accepted by the user. It takes the user's text input and puts
  * it in the configured string variable.
  *
  * @method onInputTextFinish
  * @return {Object} Event Object containing additional data like the text, etc.
  * @protected
   */

  Component_CommandInterpreter.prototype.onInputTextFinish = function(e) {
    this.messageObject().behavior.clear();
    this.setStringValueTo(this.waitingFor.inputText.variable, ui.Component_FormulaHandler.fieldValue(e.sender, e.text).replace(/_/g, ""));
    this.isWaiting = false;
    this.waitingFor.inputText = null;
    return SceneManager.scene.inputTextBox.dispose();
  };


  /**
  * Called after a choice was selected by the user. It jumps to the corresponding label
  * and also puts the choice into backlog.
  *
  * @method onChoiceAccept
  * @return {Object} Event Object containing additional data like the label, etc.
  * @protected
   */

  Component_CommandInterpreter.prototype.onChoiceAccept = function(e) {
    var duration, fading, messageObject, scene;
    scene = SceneManager.scene;
    scene.choiceTimer.behavior.stop();
    e.isSelected = true;
    delete e.sender;
    GameManager.backlog.push({
      character: {
        name: ""
      },
      message: "",
      choice: e,
      choices: $tempFields.choices,
      isChoice: true
    });
    GameManager.tempFields.choices = [];
    messageObject = this.messageObject();
    if (messageObject != null ? messageObject.visible : void 0) {
      this.isWaiting = true;
      fading = GameManager.tempSettings.messageFading;
      duration = GameManager.tempSettings.skip ? 0 : fading.duration;
      messageObject.animator.disappear(fading.animation, fading.easing, duration, (function(_this) {
        return function() {
          messageObject.behavior.clear();
          messageObject.visible = false;
          _this.isWaiting = false;
          _this.waitingFor.choice = null;
          return _this.executeAction(e.action, true);
        };
      })(this));
    } else {
      this.isWaiting = false;
      this.executeAction(e.action, true);
    }
    return scene.choiceWindow.dispose();
  };


  /**
  * Called when a NVL message finishes. 
  *
  * @method onMessageNVLFinish
  * @return {Object} Event Object containing additional data.
  * @protected
   */

  Component_CommandInterpreter.prototype.onMessageNVLFinish = function(e) {
    var messageObject;
    messageObject = gs.ObjectManager.current.objectById("gameMessageNVL_message");
    messageObject.character = null;
    messageObject.events.off("finish", e.handler);
    this.isWaiting = false;
    this.waitingFor.messageNVL = null;
    if ((messageObject.voice != null) && GameManager.settings.skipVoiceOnAction) {
      return AudioManager.stopSound(messageObject.voice.name);
    }
  };


  /**
  * Idle
  * @method commandIdle
  * @protected
   */

  Component_CommandInterpreter.prototype.commandIdle = function() {
    return this.interpreter.isWaiting = true;
  };


  /**
  * Start Timer
  * @method commandStartTimer
  * @protected
   */

  Component_CommandInterpreter.prototype.commandStartTimer = function() {
    var number, timers;
    timers = this.interpreter.timers;
    number = this.interpreter.numberValueOf(this.params.number);
    if (timers[number] != null) {
      clearInterval(timers[number]);
      timers[number] = null;
    }
    return timers[number] = setInterval(((function(_this) {
      return function(params) {
        switch (params.action.type) {
          case 0:
            if (params.labelIndex != null) {
              return _this.interpreter.pointer = params.labelIndex;
            } else {
              return _this.interpreter.jumpToLabel(params.action.data.label);
            }
            break;
          case 1:
            return _this.interpreter.callCommonEvent(params.commonEventId);
        }
      };
    })(this)), this.interpreter.numberValueOf(this.params.interval), this.params);
  };


  /**
  * Stop Timer
  * @method commandStopTimer
  * @protected
   */

  Component_CommandInterpreter.prototype.commandStopTimer = function() {
    var number, timers;
    timers = this.interpreter.timers;
    number = this.interpreter.numberValueOf(this.params.number);
    if (timers[number] != null) {
      clearInterval(timers[number]);
      return timers[number] = null;
    }
  };


  /**
  * Wait
  * @method commandWait
  * @protected
   */

  Component_CommandInterpreter.prototype.commandWait = function() {
    var time;
    time = this.interpreter.durationValueOf(this.params.time);
    if ((time != null) && time > 0 && !this.interpreter.previewData) {
      this.interpreter.waitCounter = time;
      return this.interpreter.isWaiting = true;
    }
  };


  /**
  * Loop
  * @method commandLoop
  * @protected
   */

  Component_CommandInterpreter.prototype.commandLoop = function() {
    this.interpreter.loops[this.interpreter.indent] = this.interpreter.pointer;
    return this.interpreter.indent++;
  };


  /**
  * Break Loop
  * @method commandBreakLoop
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBreakLoop = function() {
    var indent;
    indent = this.indent;
    while ((this.interpreter.loops[indent] == null) && indent > 0) {
      indent--;
    }
    this.interpreter.loops[indent] = null;
    return this.interpreter.indent = indent;
  };


  /**
  * @method commandListAdd
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListAdd = function() {
    var list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    switch (this.params.valueType) {
      case 0:
        list.push(this.interpreter.numberValueOf(this.params.numberValue));
        break;
      case 1:
        list.push(this.interpreter.booleanValueOf(this.params.switchValue));
        break;
      case 2:
        list.push(this.interpreter.stringValueOf(this.params.stringValue));
        break;
      case 3:
        list.push(this.interpreter.listObjectOf(this.params.listValue));
    }
    return this.interpreter.setListObjectTo(this.params.listVariable, list);
  };


  /**
  * @method commandListPop
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListPop = function() {
    var list, ref, value;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    value = (ref = list.pop()) != null ? ref : 0;
    return this.interpreter.storeListValue(this.params.targetVariable, list, value, this.params.valueType);
  };


  /**
  * @method commandListShift
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListShift = function() {
    var list, ref, value;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    value = (ref = list.shift()) != null ? ref : 0;
    return this.interpreter.storeListValue(this.params.targetVariable, list, value, this.params.valueType);
  };


  /**
  * @method commandListIndexOf
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListIndexOf = function() {
    var list, value;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    value = -1;
    switch (this.params.valueType) {
      case 0:
        value = list.indexOf(this.interpreter.numberValueOf(this.params.numberValue));
        break;
      case 1:
        value = list.indexOf(this.interpreter.booleanValueOf(this.params.switchValue));
        break;
      case 2:
        value = list.indexOf(this.interpreter.stringValueOf(this.params.stringValue));
        break;
      case 3:
        value = list.indexOf(this.interpreter.listObjectOf(this.params.listValue));
    }
    return this.interpreter.setNumberValueTo(this.params.targetVariable, value);
  };


  /**
  * @method commandListValueAt
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListValueAt = function() {
    var index, list, ref, value;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    index = this.interpreter.numberValueOf(this.params.index);
    if (index >= 0 && index < list.length) {
      value = (ref = list[index]) != null ? ref : 0;
      return this.interpreter.storeListValue(this.params.targetVariable, list, value, this.params.valueType);
    }
  };


  /**
  * @method commandListRemoveAt
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListRemoveAt = function() {
    var index, list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    index = this.interpreter.numberValueOf(this.params.index);
    if (index >= 0 && index < list.length) {
      return list.splice(index, 1);
    }
  };


  /**
  * @method commandListInsertAt
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListInsertAt = function() {
    var index, list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    index = this.interpreter.numberValueOf(this.params.index);
    if (index >= 0 && index < list.length) {
      switch (this.params.valueType) {
        case 0:
          list.splice(index, 0, this.interpreter.numberValueOf(this.params.numberValue));
          break;
        case 1:
          list.splice(index, 0, this.interpreter.booleanValueOf(this.params.switchValue));
          break;
        case 2:
          list.splice(index, 0, this.interpreter.stringValueOf(this.params.stringValue));
          break;
        case 3:
          list.splice(index, 0, this.interpreter.listObjectOf(this.params.listValue));
      }
      return this.interpreter.setListObjectTo(this.params.listVariable, list);
    }
  };


  /**
  * @method commandListSet
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListSet = function() {
    var index, list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    index = this.interpreter.numberValueOf(this.params.index);
    if (index >= 0) {
      switch (this.params.valueType) {
        case 0:
          list[index] = this.interpreter.numberValueOf(this.params.numberValue);
          break;
        case 1:
          list[index] = this.interpreter.booleanValueOf(this.params.switchValue);
          break;
        case 2:
          list[index] = this.interpreter.stringValueOf(this.params.stringValue);
          break;
        case 3:
          list[index] = this.interpreter.listObjectOf(this.params.listValue);
      }
      return this.interpreter.setListObjectTo(this.params.listVariable, list);
    }
  };


  /**
  * @method commandListCopy
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListCopy = function() {
    var copy, list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    copy = Object.deepCopy(list);
    return this.interpreter.setListObjectTo(this.params.targetVariable, copy);
  };


  /**
  * @method commandListLength
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListLength = function() {
    var list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    return this.interpreter.setNumberValueTo(this.params.targetVariable, list.length);
  };


  /**
  * @method commandListShuffle
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListShuffle = function() {
    var i, j, k, list, ref, results, tempi, tempj;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    if (list.length === 0) {
      return;
    }
    results = [];
    for (i = k = ref = list.length - 1; ref <= 1 ? k <= 1 : k >= 1; i = ref <= 1 ? ++k : --k) {
      j = Math.floor(Math.random() * (i + 1));
      tempi = list[i];
      tempj = list[j];
      list[i] = tempj;
      results.push(list[j] = tempi);
    }
    return results;
  };


  /**
  * @method commandListSort
  * @protected
   */

  Component_CommandInterpreter.prototype.commandListSort = function() {
    var list;
    list = this.interpreter.listObjectOf(this.params.listVariable);
    if (list.length === 0) {
      return;
    }
    switch (this.params.sortOrder) {
      case 0:
        return list.sort(function(a, b) {
          if (a < b) {
            return -1;
          }
          if (a > b) {
            return 1;
          }
          return 0;
        });
      case 1:
        return list.sort(function(a, b) {
          if (a > b) {
            return -1;
          }
          if (a < b) {
            return 1;
          }
          return 0;
        });
    }
  };


  /**
  * @method commandChangeNumberVariables
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeNumberVariables = function() {
    var diff, end, i, index, k, ref, ref1, scope, source, start;
    source = 0;
    switch (this.params.source) {
      case 0:
        source = this.interpreter.numberValueOf(this.params.sourceValue);
        break;
      case 1:
        start = this.interpreter.numberValueOf(this.params.sourceRandom.start);
        end = this.interpreter.numberValueOf(this.params.sourceRandom.end);
        diff = end - start;
        source = Math.floor(start + Math.random() * (diff + 1));
        break;
      case 2:
        source = this.interpreter.numberValueAtIndex(this.params.sourceScope, this.interpreter.numberValueOf(this.params.sourceReference) - 1);
        break;
      case 3:
        source = this.interpreter.numberValueOfGameData(this.params.sourceValue1);
        break;
      case 4:
        source = this.interpreter.numberValueOfDatabaseData(this.params.sourceValue1);
    }
    switch (this.params.target) {
      case 0:
        switch (this.params.operation) {
          case 0:
            this.interpreter.setNumberValueTo(this.params.targetVariable, source);
            break;
          case 1:
            this.interpreter.setNumberValueTo(this.params.targetVariable, this.interpreter.numberValueOf(this.params.targetVariable) + source);
            break;
          case 2:
            this.interpreter.setNumberValueTo(this.params.targetVariable, this.interpreter.numberValueOf(this.params.targetVariable) - source);
            break;
          case 3:
            this.interpreter.setNumberValueTo(this.params.targetVariable, this.interpreter.numberValueOf(this.params.targetVariable) * source);
            break;
          case 4:
            this.interpreter.setNumberValueTo(this.params.targetVariable, this.interpreter.numberValueOf(this.params.targetVariable) / source);
            break;
          case 5:
            this.interpreter.setNumberValueTo(this.params.targetVariable, this.interpreter.numberValueOf(this.params.targetVariable) % source);
        }
        break;
      case 1:
        scope = this.params.targetScope;
        start = this.params.targetRange.start - 1;
        end = this.params.targetRange.end - 1;
        for (i = k = ref = start, ref1 = end; ref <= ref1 ? k <= ref1 : k >= ref1; i = ref <= ref1 ? ++k : --k) {
          switch (this.params.operation) {
            case 0:
              this.interpreter.setNumberValueAtIndex(scope, i, source);
              break;
            case 1:
              this.interpreter.setNumberValueAtIndex(scope, i, this.interpreter.numberValueAtIndex(scope, i) + source);
              break;
            case 2:
              this.interpreter.setNumberValueAtIndex(scope, i, this.interpreter.numberValueAtIndex(scope, i) - source);
              break;
            case 3:
              this.interpreter.setNumberValueAtIndex(scope, i, this.interpreter.numberValueAtIndex(scope, i) * source);
              break;
            case 4:
              this.interpreter.setNumberValueAtIndex(scope, i, this.interpreter.numberValueAtIndex(scope, i) / source);
              break;
            case 5:
              this.interpreter.setNumberValueAtIndex(scope, i, this.interpreter.numberValueAtIndex(scope, i) % source);
          }
        }
        break;
      case 2:
        index = this.interpreter.numberValueOf(this.params.targetReference) - 1;
        switch (this.params.operation) {
          case 0:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, source);
            break;
          case 1:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, this.interpreter.numberValueAtIndex(this.params.targetScope, index) + source);
            break;
          case 2:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, this.interpreter.numberValueAtIndex(this.params.targetScope, index) - source);
            break;
          case 3:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, this.interpreter.numberValueAtIndex(this.params.targetScope, index) * source);
            break;
          case 4:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, this.interpreter.numberValueAtIndex(this.params.targetScope, index) / source);
            break;
          case 5:
            this.interpreter.setNumberValueAtIndex(this.params.targetScope, index, this.interpreter.numberValueAtIndex(this.params.targetScope, index) % source);
        }
    }
    return null;
  };


  /**
  * @method commandChangeBooleanVariables
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeBooleanVariables = function() {
    var i, k, ref, ref1, source, targetValue, variable;
    source = this.interpreter.booleanValueOf(this.params.value);
    switch (this.params.target) {
      case 0:
        if (source === 2) {
          targetValue = this.interpreter.booleanValueOf(this.params.targetVariable);
          this.interpreter.setBooleanValueTo(this.params.targetVariable, targetValue ? 0 : 1);
        } else {
          this.interpreter.setBooleanValueTo(this.params.targetVariable, source);
        }
        break;
      case 1:
        variable = {
          index: 0,
          scope: this.params.targetRangeScope
        };
        for (i = k = ref = this.params.rangeStart - 1, ref1 = this.params.rangeEnd - 1; ref <= ref1 ? k <= ref1 : k >= ref1; i = ref <= ref1 ? ++k : --k) {
          variable.index = i;
          if (source === 2) {
            targetValue = this.interpreter.booleanValueOf(variable);
            this.interpreter.setBooleanValueTo(variable, targetValue ? 0 : 1);
          } else {
            this.interpreter.setBooleanValueTo(variable, source);
          }
        }
    }
    return null;
  };


  /**
  * @method commandChangeStringVariables
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeStringVariables = function() {
    var ex, i, k, ref, ref1, source, variable;
    source = "";
    switch (this.params.valueType) {
      case 0:
        source = lcs(this.params.textValue);
        break;
      case 1:
        source = this.interpreter.stringValueOf(this.params.valueVariable);
        break;
      case 2:
        source = this.interpreter.stringValueOfDatabaseData(this.params.databaseData);
        break;
      case 2:
        try {
          source = eval(this.params.script);
        } catch (error) {
          ex = error;
          source = "ERR: " + ex.message;
        }
    }
    switch (this.params.target) {
      case 0:
        switch (this.params.operation) {
          case 0:
            this.interpreter.setStringValueTo(this.params.targetVariable, source);
            break;
          case 1:
            this.interpreter.setStringValueTo(this.params.targetVariable, this.interpreter.stringValueOf(this.params.targetVariable) + source);
            break;
          case 2:
            this.interpreter.setStringValueTo(this.params.targetVariable, this.interpreter.stringValueOf(this.params.targetVariable).toUpperCase());
            break;
          case 3:
            this.interpreter.setStringValueTo(this.params.targetVariable, this.interpreter.stringValueOf(this.params.targetVariable).toLowerCase());
        }
        break;
      case 1:
        variable = {
          index: 0,
          scope: this.params.targetRangeScope
        };
        for (i = k = ref = this.params.rangeStart - 1, ref1 = this.params.rangeEnd - 1; ref <= ref1 ? k <= ref1 : k >= ref1; i = ref <= ref1 ? ++k : --k) {
          variable.index = i;
          switch (this.params.operation) {
            case 0:
              this.interpreter.setStringValueTo(variable, source);
              break;
            case 1:
              this.interpreter.setStringValueTo(variable, this.interpreter.stringValueOf(variable) + source);
              break;
            case 2:
              this.interpreter.setStringValueTo(variable, this.interpreter.stringValueOf(variable).toUpperCase());
              break;
            case 3:
              this.interpreter.setStringValueTo(variable, this.interpreter.stringValueOf(variable).toLowerCase());
          }
        }
    }
    return null;
  };


  /**
  * @method commandCheckSwitch
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCheckSwitch = function() {
    var result;
    result = this.interpreter.booleanValueOf(this.params.targetVariable) && this.params.value;
    if (result) {
      return this.interpreter.pointer = this.params.labelIndex;
    }
  };


  /**
  * @method commandNumberCondition
  * @protected
   */

  Component_CommandInterpreter.prototype.commandNumberCondition = function() {
    var result;
    result = this.interpreter.compare(this.interpreter.numberValueOf(this.params.targetVariable), this.interpreter.numberValueOf(this.params.value), this.params.operation);
    this.interpreter.conditions[this.interpreter.indent] = result;
    if (result) {
      return this.interpreter.indent++;
    }
  };


  /**
  * @method commandCondition
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCondition = function() {
    var result;
    switch (this.params.valueType) {
      case 0:
        result = this.interpreter.compare(this.interpreter.numberValueOf(this.params.variable), this.interpreter.numberValueOf(this.params.numberValue), this.params.operation);
        break;
      case 1:
        result = this.interpreter.compare(this.interpreter.booleanValueOf(this.params.variable), this.interpreter.booleanValueOf(this.params.switchValue), this.params.operation);
        break;
      case 2:
        result = this.interpreter.compare(this.interpreter.stringValueOf(this.params.variable), this.interpreter.stringValueOf(this.params.textValue), this.params.operation);
    }
    this.interpreter.conditions[this.interpreter.indent] = result;
    if (result) {
      return this.interpreter.indent++;
    }
  };


  /**
  * @method commandConditionElse
  * @protected
   */

  Component_CommandInterpreter.prototype.commandConditionElse = function() {
    if (!this.interpreter.conditions[this.interpreter.indent]) {
      return this.interpreter.indent++;
    }
  };


  /**
  * @method commandConditionElseIf
  * @protected
   */

  Component_CommandInterpreter.prototype.commandConditionElseIf = function() {
    if (!this.interpreter.conditions[this.interpreter.indent]) {
      return this.interpreter.commandCondition.call(this);
    }
  };


  /**
  * @method commandCheckNumberVariable
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCheckNumberVariable = function() {
    var result;
    result = this.interpreter.compare(this.interpreter.numberValueOf(this.params.targetVariable), this.interpreter.numberValueOf(this.params.value), this.params.operation);
    if (result) {
      return this.interpreter.pointer = this.params.labelIndex;
    }
  };


  /**
  * @method commandCheckTextVariable
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCheckTextVariable = function() {
    var result, text1, text2;
    result = false;
    text1 = this.interpreter.stringValueOf(this.params.targetVariable);
    text2 = this.interpreter.stringValueOf(this.params.value);
    switch (this.params.operation) {
      case 0:
        result = text1 === text2;
        break;
      case 1:
        result = text1 !== text2;
        break;
      case 2:
        result = text1.length > text2.length;
        break;
      case 3:
        result = text1.length >= text2.length;
        break;
      case 4:
        result = text1.length < text2.length;
        break;
      case 5:
        result = text1.length <= text2.length;
    }
    if (result) {
      return this.interpreter.pointer = this.params.labelIndex;
    }
  };


  /**
  * @method commandLabel
  * @protected
   */

  Component_CommandInterpreter.prototype.commandLabel = function() {};


  /**
  * @method commandJumpToLabel
  * @protected
   */

  Component_CommandInterpreter.prototype.commandJumpToLabel = function() {
    var label;
    label = this.params.labelIndex;
    if (label != null) {
      return this.interpreter.pointer = label;
    } else {
      return this.interpreter.jumpToLabel(this.params.name);
    }
  };


  /**
  * @method commandClearMessage
  * @protected
   */

  Component_CommandInterpreter.prototype.commandClearMessage = function() {
    var messageObject, scene;
    scene = SceneManager.scene;
    messageObject = this.interpreter.targetMessage();
    if (messageObject == null) {
      return;
    }
    return messageObject.message.clear();
  };


  /**
  * @method commandClosePageNVL
  * @protected
   */

  Component_CommandInterpreter.prototype.commandClosePageNVL = function() {
    var messageBox, messageObject, scene;
    scene = SceneManager.scene;
    messageObject = gs.ObjectManager.current.objectById("gameMessageNVL_message");
    if (messageObject == null) {
      return;
    }
    messageObject.message.clear();
    messageBox = gs.ObjectManager.current.objectById("messageBoxNVL");
    if (messageBox && this.params.visible !== messageBox.visible) {
      return messageBox.visible = false;
    }
  };


  /**
  * @method commandMessageBoxDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMessageBoxDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.messageBox;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      return defaults.disappearAnimation = this.params.disappearAnimation;
    }
  };


  /**
  * @method commandShowMessageNVL
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowMessageNVL = function() {
    var character, messageObject, ref, ref1, ref2, scene, voiceSettings;
    scene = SceneManager.scene;
    scene.messageMode = vn.MessageMode.NVL;
    character = RecordManager.characters[this.params.characterId];
    scene.layout.visible = false;
    scene.layoutNVL.visible = true;
    messageObject = gs.ObjectManager.current.objectById("gameMessageNVL_message");
    if (messageObject == null) {
      return;
    }
    if ((ref = this.interpreter.messageBoxObject()) != null) {
      ref.visible = true;
    }
    messageObject.character = character;
    messageObject.message.addMessage(lcsm(this.params.message), character, !this.params.partial && GameManager.messages.length > 0, true);
    if (this.interpreter.messageSettings().backlog) {
      GameManager.backlog.push({
        character: character,
        message: lcsm(this.params.message),
        choices: []
      });
    }
    messageObject.events.on("finish", (function(_this) {
      return function(e) {
        return _this.interpreter.onMessageNVLFinish(e);
      };
    })(this));
    voiceSettings = GameManager.settings.voicesByCharacter[(ref1 = messageObject.character) != null ? ref1.index : void 0];
    if ((this.params.voice != null) && GameManager.settings.voiceEnabled && (!voiceSettings || voiceSettings.enabled)) {
      if (GameManager.settings.skipVoiceOnAction || !((ref2 = AudioManager.voice) != null ? ref2.playing : void 0)) {
        messageObject.voice = this.params.voice;
        AudioManager.playVoice(this.params.voice);
      }
    } else {
      AudioManager.voice = null;
    }
    this.interpreter.isWaiting = true;
    return this.interpreter.waitingFor.messageNVL = this.params;
  };


  /**
  * @method commandShowMessage
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowMessage = function() {
    var animation, character, defaults, duration, easing, expression, ref, scene, showMessage;
    scene = SceneManager.scene;
    scene.messageMode = vn.MessageMode.ADV;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    showMessage = (function(_this) {
      return function() {
        var messageObject, ref, settings, voiceSettings;
        character = RecordManager.characters[_this.params.characterId];
        scene.layout.visible = true;
        scene.layoutNVL.visible = false;
        messageObject = _this.interpreter.targetMessage();
        if (messageObject == null) {
          return;
        }
        scene.currentCharacter = character;
        messageObject.character = character;
        messageObject.opacity = 255;
        messageObject.message.showMessage(_this.interpreter, _this.params);
        messageObject.events.offByOwner("finish", _this.interpreter);
        messageObject.events.offByOwner("waiting", _this.interpreter);
        messageObject.events.on("finish", gs.CallBack("onMessageADVFinish", _this.interpreter), {
          params: _this.params
        }, _this.interpreter);
        messageObject.events.on("waiting", gs.CallBack("onMessageADVWaiting", _this.interpreter), null, _this.interpreter);
        settings = GameManager.settings;
        voiceSettings = settings.voicesByCharacter[character.index];
        if ((_this.params.voice != null) && GameManager.settings.voiceEnabled && (!voiceSettings || voiceSettings > 0)) {
          if ((GameManager.settings.skipVoiceOnAction || !((ref = AudioManager.voice) != null ? ref.playing : void 0)) && !GameManager.tempSettings.skip) {
            messageObject.voice = _this.params.voice;
            return messageObject.behavior.voice = AudioManager.playVoice(_this.params.voice);
          }
        } else {
          return messageObject.behavior.voice = null;
        }
      };
    })(this);
    if ((this.params.expressionId != null) && (character != null)) {
      expression = RecordManager.characterExpressions[this.params.expressionId || 0];
      defaults = GameManager.defaults.character;
      duration = !gs.CommandFieldFlags.isLocked(this.params.fieldFlags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.expressionDuration;
      easing = gs.Easings.fromObject(defaults.changeEasing);
      animation = defaults.changeAnimation;
      character.behavior.changeExpression(expression, animation, easing, duration, (function(_this) {
        return function() {
          return showMessage();
        };
      })(this));
    } else {
      showMessage();
    }
    this.interpreter.isWaiting = (ref = this.params.waitForCompletion) != null ? ref : true;
    return this.interpreter.waitingFor.messageADV = this.params;
  };


  /**
  * @method commandSetMessageArea
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSetMessageArea = function() {
    var messageLayout, number, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    if (scene.messageAreas[number]) {
      messageLayout = scene.messageAreas[number].layout;
      messageLayout.dstRect.x = this.params.box.x;
      messageLayout.dstRect.y = this.params.box.y;
      messageLayout.dstRect.width = this.params.box.size.width;
      messageLayout.dstRect.height = this.params.box.size.height;
      return messageLayout.needsUpdate = true;
    }
  };


  /**
  * @method commandMessageFading
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMessageFading = function() {
    return GameManager.tempSettings.messageFading = {
      duration: this.interpreter.durationValueOf(this.params.duration),
      animation: this.params.animation,
      easing: gs.Easings.fromObject(this.params.easing)
    };
  };


  /**
  * @method commandMessageSettings
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMessageSettings = function() {
    var flags, font, fontName, fontSize, isLocked, messageObject;
    messageObject = this.interpreter.targetMessage();
    if (!messageObject) {
      return;
    }
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.autoErase)) {
      this.interpreter.messageSettings().autoErase = this.params.autoErase;
    }
    if (!isLocked(flags.waitAtEnd)) {
      this.interpreter.messageSettings().waitAtEnd = this.params.waitAtEnd;
    }
    if (!isLocked(flags.backlog)) {
      this.interpreter.messageSettings().backlog = this.params.backlog;
    }
    fontName = !isLocked(flags.font) ? this.params.font : messageObject.font.name;
    fontSize = !isLocked(flags.size) ? this.params.size : messageObject.font.size;
    font = messageObject.font;
    if (!isLocked(flags.font) || !isLocked(flags.size)) {
      messageObject.font = new Font(fontName, fontSize);
    }
    messageObject.font.color = (flags.color != null) && !isLocked(flags.color) ? new Color(this.params.color) : font.color;
    messageObject.font.border = (flags.outline != null) && !isLocked(flags.outline) ? this.params.outline : font.border;
    messageObject.font.borderColor = (flags.borderColor != null) && !isLocked(flags.borderColor) ? new Color(this.params.outlineColor) : new Color(font.borderColor);
    messageObject.font.shadow = (flags.shadow != null) && !isLocked(flags.shadow) ? this.params.shadow : font.shadow;
    messageObject.font.shadowColor = (flags.shadowColor != null) && !isLocked(flags.shadowColor) ? new Color(this.params.shadowColor) : new Color(font.shadowColor);
    messageObject.font.bold = font.bold;
    messageObject.font.italic = font.italic;
    return messageObject.font.smallCaps = font.smallCaps;
  };


  /**
  * @method commandCreateMessageArea
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCreateMessageArea = function() {
    var message, messageLayout, number, scene;
    number = this.interpreter.numberValueOf(this.params.number);
    scene = SceneManager.scene;
    if (!scene.messageAreas[number]) {
      messageLayout = ui.UIManager.createControlFromDescriptor({
        type: "ui.CustomGameMessage",
        id: "customGameMessage_" + number,
        params: {
          id: "customGameMessage_" + number
        }
      }, this.interpreter.object);
      message = gs.ObjectManager.current.objectById("customGameMessage_" + number + "_message");
      messageLayout.dstRect.x = this.params.box.x;
      messageLayout.dstRect.y = this.params.box.y;
      messageLayout.dstRect.width = this.params.box.size.width;
      messageLayout.dstRect.height = this.params.box.size.height;
      messageLayout.needsUpdate = true;
      return scene.messageAreas[number] = {
        message: message,
        layout: messageLayout
      };
    }
  };


  /**
  * @method commandEraseMessageArea
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEraseMessageArea = function() {
    var area, number, scene;
    number = this.interpreter.numberValueOf(this.params.number);
    scene = SceneManager.scene;
    area = scene.messageAreas[number];
    return area != null ? area.layout.dispose() : void 0;
  };


  /**
  * @method commandSetTargetMessage
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSetTargetMessage = function() {
    var message, ref, scene, target;
    message = this.interpreter.targetMessage();
    if (message != null) {
      message.textRenderer.isWaiting = false;
    }
    if (message != null) {
      message.behavior.isWaiting = false;
    }
    scene = SceneManager.scene;
    target = {
      type: this.params.type,
      id: null
    };
    switch (this.params.type) {
      case 0:
        target.id = this.params.id;
        break;
      case 1:
        target.id = this.interpreter.numberValueOf(this.params.number);
    }
    this.interpreter.settings.message.target = target;
    if (this.params.clear) {
      return (ref = this.interpreter.targetMessage()) != null ? ref.behavior.clear() : void 0;
    }
  };


  /**
  * @method commandBacklogVisibility
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBacklogVisibility = function() {
    var control;
    if (this.params.visible) {
      control = gs.ObjectManager.current.objectById("backlogBox");
      if (control == null) {
        control = gs.ObjectManager.current.objectById("backlog");
      }
      if (control != null) {
        control.dispose();
      }
      if (this.params.backgroundVisible) {
        return control = SceneManager.scene.behavior.createControl(this, {
          descriptor: "ui.MessageBacklogBox"
        });
      } else {
        return control = SceneManager.scene.behavior.createControl(this, {
          descriptor: "ui.MessageBacklog"
        });
      }
    } else {
      control = gs.ObjectManager.current.objectById("backlogBox");
      if (control == null) {
        control = gs.ObjectManager.current.objectById("backlog");
      }
      return control != null ? control.dispose() : void 0;
    }
  };


  /**
  * @method commandMessageVisibility
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMessageVisibility = function() {
    var animation, defaults, duration, easing, flags, isLocked, message;
    defaults = GameManager.defaults.messageBox;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    message = this.interpreter.targetMessage();
    if ((message == null) || this.params.visible === message.visible) {
      return;
    }
    if (this.params.visible) {
      duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
      easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.appearEasing);
      animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
      message.animator.appear(message.dstRect.x, message.dstRect.y, this.params.animation, easing, duration);
    } else {
      duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
      easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.disappearEasing);
      animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
      message.animator.disappear(animation, easing, duration, function() {
        return message.visible = false;
      });
    }
    message.update();
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandMessageBoxVisibility
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMessageBoxVisibility = function() {
    var animation, defaults, duration, easing, flags, isLocked, messageBox;
    defaults = GameManager.defaults.messageBox;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    messageBox = this.interpreter.messageBoxObject();
    if ((messageBox == null) || this.params.visible === messageBox.visible) {
      return;
    }
    if (this.params.visible) {
      duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
      easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.appearEasing);
      animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
      messageBox.animator.appear(messageBox.dstRect.x, messageBox.dstRect.y, this.params.animation, easing, duration);
    } else {
      duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
      easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.disappearEasing);
      animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
      messageBox.animator.disappear(animation, easing, duration, function() {
        return messageBox.visible = false;
      });
    }
    messageBox.update();
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandUIAccess
  * @protected
   */

  Component_CommandInterpreter.prototype.commandUIAccess = function() {
    var flags, isLocked;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.generalMenu)) {
      GameManager.tempSettings.menuAccess = this.interpreter.booleanValueOf(this.params.generalMenu);
    }
    if (!isLocked(flags.saveMenu)) {
      GameManager.tempSettings.saveMenuAccess = this.interpreter.booleanValueOf(this.params.saveMenu);
    }
    if (!isLocked(flags.loadMenu)) {
      GameManager.tempSettings.loadMenuAccess = this.interpreter.booleanValueOf(this.params.loadMenu);
    }
    if (!isLocked(flags.backlog)) {
      return GameManager.tempSettings.backlogAccess = this.interpreter.booleanValueOf(this.params.backlog);
    }
  };


  /**
  * @method commandUnlockCG
  * @protected
   */

  Component_CommandInterpreter.prototype.commandUnlockCG = function() {
    var cg;
    cg = RecordManager.cgGallery[this.interpreter.numberValueOf(this.params.cgId)];
    if (cg != null) {
      GameManager.globalData.cgGallery[cg.index] = {
        unlocked: true
      };
      return GameManager.saveGlobalData();
    }
  };


  /**
  * @method commandL2DMove
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DMove = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.moveObject(character, this.params.position, this.params);
  };


  /**
  * @method commandL2DMotionGroup
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DMotionGroup = function() {
    var character, motions, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    character.motionGroup = {
      name: this.params.data.motionGroup,
      loop: this.params.loop,
      playType: this.params.playType
    };
    if (this.params.waitForCompletion && !this.params.loop) {
      motions = character.model.motionsByGroup[character.motionGroup.name];
      if (motions != null) {
        this.interpreter.isWaiting = true;
        return this.interpreter.waitCounter = motions.sum(function(m) {
          return m.getDurationMSec() / 16.6;
        });
      }
    }
  };


  /**
  * @method commandL2DMotion
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DMotion = function() {
    var character, defaults, fadeInTime, flags, isLocked, motion, scene;
    defaults = GameManager.defaults.live2d;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    fadeInTime = !isLocked(flags.fadeInTime) ? this.params.fadeInTime : defaults.motionFadeInTime;
    character.motion = {
      name: this.params.data.motion,
      fadeInTime: fadeInTime,
      loop: this.params.loop
    };
    character.motionGroup = null;
    if (this.params.waitForCompletion && !this.params.loop) {
      motion = character.model.motions[character.motion.name];
      if (motion != null) {
        this.interpreter.isWaiting = true;
        return this.interpreter.waitCounter = motion.getDurationMSec() / 16.6;
      }
    }
  };


  /**
  * @method commandL2DExpression
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DExpression = function() {
    var character, defaults, fadeInTime, flags, isLocked, scene;
    defaults = GameManager.defaults.live2d;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    fadeInTime = !isLocked(flags.fadeInTime) ? this.params.fadeInTime : defaults.expressionFadeInTime;
    return character.expression = {
      name: this.params.data.expression,
      fadeInTime: fadeInTime
    };
  };


  /**
  * @method commandL2DExitScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DExitScene = function() {
    var defaults;
    defaults = GameManager.defaults.live2d;
    return this.interpreter.commandCharacterExitScene.call(this, defaults);
  };


  /**
  * @method commandL2DParameter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DParameter = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return character.visual.l2dObject.setParameter(this.params.param.name, this.interpreter.numberValueOf(this.params.param.value));
  };


  /**
  * @method commandL2DDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.live2d;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags.motionFadeInTime)) {
      defaults.motionFadeInTime = this.interpreter.numberValueOf(this.params.motionFadeInTime);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      return defaults.disappearAnimation = this.params.disappearAnimation;
    }
  };


  /**
  * @method commandL2DJoinScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandL2DJoinScene = function() {
    var animation, character, defaults, duration, easing, flags, isLocked, motionBlur, origin, p, record, scene, x, y, zIndex;
    defaults = GameManager.defaults.live2d;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    record = RecordManager.characters[this.interpreter.numberValueOf(this.params.characterId)];
    if (!record || scene.characters.first(function(v) {
      return v.rid === record.index;
    })) {
      return;
    }
    if (this.params.positionType === 1) {
      x = this.params.position.x;
      y = this.params.position.y;
    } else if (this.params.positionType === 2) {
      x = this.interpreter.numberValueOf(this.params.position.x);
      y = this.interpreter.numberValueOf(this.params.position.y);
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    zIndex = !isLocked(flags.zOrder) ? this.interpreter.numberValueOf(this.params.zOrder) : defaults.zOrder;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    motionBlur = !isLocked(flags["motionBlur.enabled"]) ? this.params.motionBlur : defaults.motionBlur;
    origin = !isLocked(flags.origin) ? this.params.origin : defaults.origin;
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    character = new vn.Object_Live2DCharacter(record);
    character.modelName = this.params.model.name;
    character.model = ResourceManager.getLive2DModel("Live2D/" + this.params.model.name);
    if (character.model.motions) {
      character.motion = {
        name: Object.keys(character.model.motions)[0] || "",
        fadeInTime: 0,
        loop: true
      };
    }
    character.dstRect.x = x;
    character.dstRect.y = y;
    character.anchor.x = !origin ? 0 : 0.5;
    character.anchor.y = !origin ? 0 : 0.5;
    character.blendMode = this.interpreter.numberValueOf(this.params.blendMode);
    character.zoom.x = this.params.position.zoom.d;
    character.zoom.y = this.params.position.zoom.d;
    character.zIndex = zIndex;
    character.update();
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, character, this.params);
      character.dstRect.x = p.x;
      character.dstRect.y = p.y;
    }
    return scene.behavior.addCharacter(character, false, {
      animation: animation,
      duration: duration,
      easing: easing,
      motionBlur: motionBlur
    });
  };


  /**
  * @method commandCharacterJoinScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterJoinScene = function() {
    var angle, animation, bitmap, character, defaults, duration, easing, flags, isLocked, mirror, motionBlur, origin, p, record, ref, ref1, ref2, scene, x, y, zIndex, zoom;
    defaults = GameManager.defaults.character;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    record = RecordManager.characters[this.params.characterId];
    if (!record || scene.characters.first(function(v) {
      return v.rid === record.index && !v.disposed;
    })) {
      return;
    }
    character = new vn.Object_Character(record, null, scene);
    character.expression = RecordManager.characterExpressions[((ref = this.params.expressionId) != null ? ref : record.defaultExpressionId) || 0];
    if (character.expression != null) {
      bitmap = ResourceManager.getBitmap("Graphics/Characters/" + ((ref1 = character.expression.idle[0]) != null ? ref1.resource.name : void 0));
    }
    mirror = false;
    angle = 0;
    zoom = 1;
    if (this.params.positionType === 1) {
      x = this.interpreter.numberValueOf(this.params.position.x);
      y = this.interpreter.numberValueOf(this.params.position.y);
      mirror = this.params.position.horizontalFlip;
      angle = this.params.position.angle || 0;
      zoom = this.params.position.zoom || 1;
    } else if (this.params.positionType === 2) {
      x = this.interpreter.numberValueOf(this.params.position.x);
      y = this.interpreter.numberValueOf(this.params.position.y);
      mirror = false;
      angle = 0;
      zoom = 1;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    origin = !isLocked(flags.origin) ? this.params.origin : defaults.origin;
    zIndex = !isLocked(flags.zOrder) ? this.interpreter.numberValueOf(this.params.zOrder) : defaults.zOrder;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    motionBlur = !isLocked(flags["motionBlur.enabled"]) ? this.params.motionBlur : defaults.motionBlur;
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    if (character.expression != null) {
      bitmap = ResourceManager.getBitmap("Graphics/Characters/" + ((ref2 = character.expression.idle[0]) != null ? ref2.resource.name : void 0));
      if (this.params.origin === 1 && (bitmap != null)) {
        x += (bitmap.width * zoom - bitmap.width) / 2;
        y += (bitmap.height * zoom - bitmap.height) / 2;
      }
    }
    character.mirror = mirror;
    character.anchor.x = !origin ? 0 : 0.5;
    character.anchor.y = !origin ? 0 : 0.5;
    character.zoom.x = zoom;
    character.zoom.y = zoom;
    character.dstRect.x = x;
    character.dstRect.y = y;
    character.zIndex = zIndex || 200;
    character.blendMode = this.interpreter.numberValueOf(this.params.blendMode);
    character.angle = angle;
    character.setup();
    character.update();
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, character, this.params);
      character.dstRect.x = p.x;
      character.dstRect.y = p.y;
    }
    return scene.behavior.addCharacter(character, false, {
      animation: animation,
      duration: duration,
      easing: easing,
      motionBlur: motionBlur
    });
  };


  /**
  * @method commandCharacterExitScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterExitScene = function(defaults) {
    var animation, character, duration, easing, flags, isLocked, scene;
    defaults = defaults || GameManager.defaults.character;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.disappearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    return scene.behavior.removeCharacter(character, {
      animation: animation,
      duration: duration,
      easing: easing
    });
  };


  /**
  * @method commandCharacterChangeExpression
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterChangeExpression = function() {
    var animation, character, defaults, duration, easing, expression, flags, isLocked, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    defaults = GameManager.defaults.character;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.expressionDuration;
    expression = RecordManager.characterExpressions[this.params.expressionId || 0];
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.changeEasing);
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.changeAnimation;
    character.behavior.changeExpression(expression, this.params.animation, easing, duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandCharacterSetParameter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterSetParameter = function() {
    var params, value;
    params = GameManager.characterParams[this.params.characterId];
    if ((params == null) || (this.params.param == null)) {
      return;
    }
    switch (this.params.valueType) {
      case 0:
        switch (this.params.param.type) {
          case 0:
            return params[this.params.param.name] = this.interpreter.numberValueOf(this.params.numberValue);
          case 1:
            return params[this.params.param.name] = this.interpreter.numberValueOf(this.params.numberValue).toString();
          case 2:
            return params[this.params.param.name] = this.interpreter.numberValueOf(this.params.numberValue) > 0;
        }
        break;
      case 1:
        switch (this.params.param.type) {
          case 0:
            value = this.interpreter.booleanValueOf(this.params.switchValue);
            return params[this.params.param.name] = value ? 1 : 0;
          case 1:
            value = this.interpreter.booleanValueOf(this.params.switchValue);
            return params[this.params.param.name] = value ? "ON" : "OFF";
          case 2:
            return params[this.params.param.name] = this.interpreter.booleanValueOf(this.params.switchValue);
        }
        break;
      case 2:
        switch (this.params.param.type) {
          case 0:
            value = this.interpreter.stringValueOf(this.params.textValue);
            return params[this.params.param.name] = value.length;
          case 1:
            return params[this.params.param.name] = this.interpreter.stringValueOf(this.params.textValue);
          case 2:
            return params[this.params.param.name] = this.interpreter.stringValueOf(this.params.textValue) === "ON";
        }
    }
  };


  /**
  * @method commandCharacterGetParameter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterGetParameter = function() {
    var params, value;
    params = GameManager.characterParams[this.params.characterId];
    if ((params == null) || (this.params.param == null)) {
      return;
    }
    value = params[this.params.param.name];
    switch (this.params.valueType) {
      case 0:
        switch (this.params.param.type) {
          case 0:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, value);
          case 1:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, value != null ? value.length : 0);
          case 2:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, value ? 1 : 0);
        }
        break;
      case 1:
        switch (this.params.param.type) {
          case 0:
            return this.interpreter.setBooleanValueTo(this.params.targetVariable, value > 0);
          case 1:
            return this.interpreter.setBooleanValueTo(this.params.targetVariable, value === "ON");
          case 2:
            return this.interpreter.setBooleanValueTo(this.params.targetVariable, value);
        }
        break;
      case 2:
        switch (this.params.param.type) {
          case 0:
            return this.interpreter.setStringValueTo(this.params.targetVariable, value != null ? value.toString() : "");
          case 1:
            return this.interpreter.setStringValueTo(this.params.targetVariable, value);
          case 2:
            return this.interpreter.setStringValueTo(this.params.targetVariable, value ? "ON" : "OFF");
        }
    }
  };


  /**
  * @method commandCharacterMotionBlur
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterMotionBlur = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return character.motionBlur.set(this.params.motionBlur);
  };


  /**
  * @method commandCharacterDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCharacterDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.character;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.expressionDuration)) {
      defaults.expressionDuration = this.interpreter.durationValueOf(this.params.expressionDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      defaults.disappearAnimation = this.params.disappearAnimation;
    }
    if (!isLocked(flags["motionBlur.enabled"])) {
      defaults.motionBlur = this.params.motionBlur;
    }
    if (!isLocked(flags.origin)) {
      return defaults.origin = this.params.origin;
    }
  };


  /**
  * @method commandFlashCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandFlashCharacter = function() {
    var character, duration, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    duration = this.interpreter.durationValueOf(this.params.duration);
    character.animator.flash(new Color(this.params.color), duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandZoomCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomCharacter = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.zoomObject(character, this.params);
  };


  /**
  * @method commandRotateCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRotateCharacter = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.rotateObject(character, this.params);
  };


  /**
  * @method commandBlendCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBlendCharacter = function() {
    var character;
    character = SceneManager.scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.blendObject(character, this.params);
  };


  /**
  * @method commandShakeCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShakeCharacter = function() {
    var character;
    character = SceneManager.scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.shakeObject(character, this.params);
  };


  /**
  * @method commandMaskCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMaskCharacter = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.maskObject(character, this.params);
  };


  /**
  * @method commandMoveCharacter
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveCharacter = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.moveObject(character, this.params.position, this.params);
  };


  /**
  * @method commandMoveCharacterPath
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveCharacterPath = function() {
    var character, scene;
    scene = SceneManager.scene;
    character = scene.characters.first((function(_this) {
      return function(v) {
        return v.rid === _this.params.characterId;
      };
    })(this));
    if (character == null) {
      return;
    }
    return this.interpreter.moveObjectPath(character, this.params.path, this.params);
  };


  /**
  * @method commandShakeBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShakeBackground = function() {
    var background;
    background = SceneManager.scene.backgrounds[this.interpreter.numberValueOf(this.params.layer)];
    if (background == null) {
      return;
    }
    return this.interpreter.shakeObject(background, this.params);
  };


  /**
  * @method commandScrollBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScrollBackground = function() {
    var duration, easing, horizontalSpeed, layer, ref, scene, verticalSpeed;
    scene = SceneManager.scene;
    duration = this.interpreter.durationValueOf(this.params.duration);
    horizontalSpeed = this.interpreter.numberValueOf(this.params.horizontalSpeed);
    verticalSpeed = this.interpreter.numberValueOf(this.params.verticalSpeed);
    easing = gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut);
    layer = this.interpreter.numberValueOf(this.params.layer);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    return (ref = scene.backgrounds[layer]) != null ? ref.animator.move(horizontalSpeed, verticalSpeed, duration, easing) : void 0;
  };


  /**
  * @method commandScrollBackgroundTo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScrollBackgroundTo = function() {
    var background, duration, easing, layer, p, scene, x, y;
    scene = SceneManager.scene;
    duration = this.interpreter.durationValueOf(this.params.duration);
    x = this.interpreter.numberValueOf(this.params.background.location.x);
    y = this.interpreter.numberValueOf(this.params.background.location.y);
    easing = gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut);
    layer = this.interpreter.numberValueOf(this.params.layer);
    background = scene.backgrounds[layer];
    if (!background) {
      return;
    }
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, background, this.params);
      x = p.x;
      y = p.y;
    }
    return background.animator.moveTo(x, y, duration, easing);
  };


  /**
  * @method commandScrollBackgroundPath
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScrollBackgroundPath = function() {
    var background, scene;
    scene = SceneManager.scene;
    background = scene.backgrounds[this.interpreter.numberValueOf(this.params.layer)];
    if (background == null) {
      return;
    }
    return this.interpreter.moveObjectPath(background, this.params.path, this.params);
  };


  /**
  * @method commandMaskBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMaskBackground = function() {
    var background, scene;
    scene = SceneManager.scene;
    background = scene.backgrounds[this.interpreter.numberValueOf(this.params.layer)];
    if (background == null) {
      return;
    }
    return this.interpreter.maskObject(background, this.params);
  };


  /**
  * @method commandZoomBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomBackground = function() {
    var duration, easing, layer, ref, scene, x, y;
    scene = SceneManager.scene;
    duration = this.interpreter.durationValueOf(this.params.duration);
    x = this.interpreter.numberValueOf(this.params.zooming.x);
    y = this.interpreter.numberValueOf(this.params.zooming.y);
    easing = gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut);
    layer = this.interpreter.numberValueOf(this.params.layer);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    return (ref = scene.backgrounds[layer]) != null ? ref.animator.zoomTo(x / 100, y / 100, duration, easing) : void 0;
  };


  /**
  * @method commandTintBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTintBackground = function() {
    var background, duration, easing, layer, scene;
    scene = SceneManager.scene;
    layer = this.interpreter.numberValueOf(this.params.layer);
    background = scene.backgrounds[layer];
    if (background == null) {
      return;
    }
    duration = this.interpreter.durationValueOf(this.params.duration);
    easing = gs.Easings.fromObject(this.params.easing);
    background.animator.tintTo(this.params.tone, duration, easing);
    return this.interpreter.waitForCompletion(background, this.params);
  };


  /**
  * @method commandBlendBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBlendBackground = function() {
    var background, layer;
    layer = this.interpreter.numberValueOf(this.params.layer);
    background = SceneManager.scene.backgrounds[layer];
    if (background == null) {
      return;
    }
    return this.interpreter.blendObject(background, this.params);
  };


  /**
  * @method commandBackgroundEffect
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBackgroundEffect = function() {
    var background, layer;
    layer = this.interpreter.numberValueOf(this.params.layer);
    background = SceneManager.scene.backgrounds[layer];
    if (background == null) {
      return;
    }
    return this.interpreter.objectEffect(background, this.params);
  };


  /**
  * @method commandBackgroundDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBackgroundDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.background;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.duration)) {
      defaults.duration = this.interpreter.durationValueOf(this.params.duration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["easing.type"])) {
      defaults.easing = this.params.easing;
    }
    if (!isLocked(flags["animation.type"])) {
      defaults.animation = this.params.animation;
    }
    if (!isLocked(flags.origin)) {
      defaults.origin = this.params.origin;
    }
    if (!isLocked(flags.loopHorizontal)) {
      defaults.loopHorizontal = this.params.loopHorizontal;
    }
    if (!isLocked(flags.loopVertical)) {
      return defaults.loopVertical = this.params.loopVertical;
    }
  };


  /**
  * @method commandBackgroundMotionBlur
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBackgroundMotionBlur = function() {
    var background, layer;
    layer = this.interpreter.numberValueOf(this.params.layer);
    background = SceneManager.scene.backgrounds[layer];
    if (background == null) {
      return;
    }
    return background.motionBlur.set(this.params.motionBlur);
  };


  /**
  * @method commandChangeBackground
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeBackground = function() {
    var animation, defaults, duration, easing, flags, isLocked, layer, loopH, loopV, origin, scene, zIndex;
    defaults = GameManager.defaults.background;
    scene = SceneManager.scene;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.duration;
    loopH = !isLocked(flags.loopHorizontal) ? this.params.loopHorizontal : defaults.loopHorizontal;
    loopV = !isLocked(flags.loopVertical) ? this.params.loopVertical : defaults.loopVertical;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.animation;
    origin = !isLocked(flags.origin) ? this.params.origin : defaults.origin;
    zIndex = !isLocked(flags.zOrder) ? this.interpreter.numberValueOf(this.params.zOrder) : defaults.zOrder;
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      this.interpreter.waitCounter = duration;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromObject(this.params.easing) : gs.Easings.fromObject(defaults.easing);
    layer = this.interpreter.numberValueOf(this.params.layer);
    scene.behavior.changeBackground(this.params.graphic, false, animation, easing, duration, 0, 0, layer, loopH, loopV);
    if (scene.backgrounds[layer]) {
      scene.backgrounds[layer].anchor.x = origin === 0 ? 0 : 0.5;
      scene.backgrounds[layer].anchor.y = origin === 0 ? 0 : 0.5;
      scene.backgrounds[layer].blendMode = this.interpreter.numberValueOf(this.params.blendMode);
      scene.backgrounds[layer].zIndex = zIndex;
      if (origin === 1) {
        scene.backgrounds[layer].dstRect.x = scene.backgrounds[layer].dstRect.x;
        scene.backgrounds[layer].dstRect.y = scene.backgrounds[layer].dstRect.y;
      }
      scene.backgrounds[layer].setup();
      return scene.backgrounds[layer].update();
    }
  };


  /**
  * @method commandCallScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCallScene = function() {
    return this.interpreter.callScene(this.params.scene.uid);
  };


  /**
  * @method commandChangeScene
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeScene = function() {
    var duration, flags, isLocked, newScene, scene, uid;
    if (GameManager.inLivePreview) {
      return;
    }
    scene = SceneManager.scene;
    if (!this.params.erasePictures) {
      scene.removeObject(scene.pictureContainer);
    }
    if (!this.params.eraseTexts) {
      scene.removeObject(scene.textContainer);
    }
    if (!this.params.eraseVideos) {
      scene.removeObject(scene.videoContainer);
    }
    if (this.params.scene) {
      GameManager.sceneData = {
        uid: uid = this.params.scene.uid,
        pictures: scene.pictures,
        texts: scene.texts,
        videos: scene.videos
      };
      flags = this.params.fieldFlags || {};
      isLocked = gs.CommandFieldFlags.isLocked;
      newScene = new vn.Object_Scene();
      newScene.sceneData = {
        uid: uid = this.params.scene.uid,
        pictures: scene.pictures,
        texts: scene.texts,
        videos: scene.videos
      };
      duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : SceneManager.transitionData.duration;
      SceneManager.switchTo(newScene);
    } else {
      SceneManager.switchTo(null);
    }
    this.interpreter.waitCounter = 1;
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandSwitchToLayout
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSwitchToLayout = function() {
    var scene;
    if (GameManager.inLivePreview) {
      return;
    }
    if (ui.UIManager.layouts[this.params.layout.name] != null) {
      scene = new gs.Object_Layout(this.params.layout.name);
      SceneManager.switchTo(scene, this.params.savePrevious);
      this.interpreter.waitCounter = 1;
      return this.interpreter.isWaiting = true;
    }
  };


  /**
  * @method commandChangeTransition
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeTransition = function() {
    var flags, isLocked;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.duration)) {
      SceneManager.transitionData.duration = this.params.duration;
    }
    if (!isLocked(flags.graphic)) {
      SceneManager.transitionData.graphic = this.params.graphic;
    }
    if (!isLocked(flags.vague)) {
      return SceneManager.transitionData.vague = this.params.vague;
    }
  };


  /**
  * @method commandFreezeScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandFreezeScreen = function() {
    return Graphics.freeze();
  };


  /**
  * @method commandScreenTransition
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScreenTransition = function() {
    var bitmap, defaults, duration, flags, graphicName, isLocked, ref, ref1, vague;
    defaults = GameManager.defaults.scene;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    graphicName = !isLocked(flags.graphic) ? (ref = this.params.graphic) != null ? ref.name : void 0 : (ref1 = SceneManager.transitionData.graphic) != null ? ref1.name : void 0;
    if (graphicName) {
      bitmap = !isLocked(flags.graphic) ? ResourceManager.getBitmap("Graphics/Masks/" + graphicName) : ResourceManager.getBitmap("Graphics/Masks/" + graphicName);
    }
    vague = !isLocked(flags.vague) ? this.interpreter.numberValueOf(this.params.vague) : SceneManager.transitionData.vague;
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : SceneManager.transitionData.duration;
    this.interpreter.isWaiting = !GameManager.inLivePreview;
    this.interpreter.waitCounter = duration;
    return Graphics.transition(duration, bitmap, vague);
  };


  /**
  * @method commandShakeScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShakeScreen = function() {
    if (SceneManager.scene.viewport == null) {
      return;
    }
    return this.interpreter.shakeObject(SceneManager.scene.viewport, this.params);
  };


  /**
  * @method commandTintScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTintScreen = function() {
    var duration;
    duration = this.interpreter.durationValueOf(this.params.duration);
    SceneManager.scene.viewport.animator.tintTo(new Tone(this.params.tone), duration, gs.Easings.EASE_LINEAR[0]);
    if (this.params.waitForCompletion && duration > 0) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method command    reen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomScreen = function() {
    var duration, easing, pan, scene;
    easing = gs.Easings.fromObject(this.params.easing);
    duration = this.interpreter.durationValueOf(this.params.duration);
    scene = SceneManager.scene;
    pan = this.interpreter.settings.screen.pan;

    /*
    for background in scene.backgrounds
        if background
            background.anchor.x = -((background.dstRect.x - pan.x) / (background.dstRect.width))
            background.anchor.y = -((background.dstRect.y - pan.y) / (background.dstRect.height))
            #@interpreter.zoomObject(background, @params)
            background.animator.zoomTo(@interpreter.numberValueOf(@params.zooming.x) / 100, @interpreter.numberValueOf(@params.zooming.y) / 100, duration, easing)
    
    for character in scene.characters
        if character
            character.anchor.x = -((character.dstRect.x - pan.x) / (character.dstRect.width))
            character.anchor.y = -((character.dstRect.y - pan.y) / (character.dstRect.height))
            #@interpreter.zoomObject(character, @params)
            character.animator.zoomTo(@interpreter.numberValueOf(@params.zooming.x) / 100, @interpreter.numberValueOf(@params.zooming.y) / 100, duration, easing)
     */
    SceneManager.scene.viewport.anchor.x = 0.5;
    SceneManager.scene.viewport.anchor.y = 0.5;
    SceneManager.scene.viewport.animator.zoomTo(this.interpreter.numberValueOf(this.params.zooming.x) / 100, this.interpreter.numberValueOf(this.params.zooming.y) / 100, duration, easing);
    return this.interpreter.waitForCompletion(null, this.params);
  };


  /**
  * @method commandPanScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPanScreen = function() {
    var duration, easing, scene, viewport;
    scene = SceneManager.scene;
    duration = this.interpreter.durationValueOf(this.params.duration);
    easing = gs.Easings.fromObject(this.params.easing);
    this.interpreter.settings.screen.pan.x -= this.params.position.x;
    this.interpreter.settings.screen.pan.y -= this.params.position.y;
    viewport = SceneManager.scene.viewport;
    viewport.animator.scrollTo(-this.params.position.x + viewport.dstRect.x, -this.params.position.y + viewport.dstRect.y, duration, easing);
    return this.interpreter.waitForCompletion(null, this.params);
  };


  /**
  * @method commandRotateScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRotateScreen = function() {
    var duration, easing, pan, scene;
    scene = SceneManager.scene;
    easing = gs.Easings.fromObject(this.params.easing);
    duration = this.interpreter.durationValueOf(this.params.duration);
    pan = this.interpreter.settings.screen.pan;
    SceneManager.scene.viewport.anchor.x = 0.5;
    SceneManager.scene.viewport.anchor.y = 0.5;
    SceneManager.scene.viewport.animator.rotate(this.params.direction, this.interpreter.numberValueOf(this.params.speed) / 100, duration, easing);
    return this.interpreter.waitForCompletion(null, this.params);
  };


  /**
  * @method commandFlashScreen
  * @protected
   */

  Component_CommandInterpreter.prototype.commandFlashScreen = function() {
    var duration;
    duration = this.interpreter.durationValueOf(this.params.duration);
    SceneManager.scene.viewport.animator.flash(new Color(this.params.color), duration, gs.Easings.EASE_LINEAR[0]);
    if (this.params.waitForCompletion && duration !== 0) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandScreenEffect
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScreenEffect = function() {
    var wobble;
    switch (this.params.type) {
      case 0:
        wobble = SceneManager.scene.viewport.effects.wobble;
        wobble.enabled = this.params.power > 0;
        wobble.power = this.params.power / 10000;
        wobble.speed = this.params.speed / 100;
        wobble.vertical = this.params.orientation === 0 || this.params.orientation === 2;
        return wobble.horizontal = this.params.orientation === 1 || this.params.orientation === 2;
      case 1:
        SceneManager.scene.viewport.visual.viewport.effects.blur.enabled = true;
        return SceneManager.scene.viewport.visual.viewport.effects.blur.passes = this.params.passes;
    }
  };


  /**
  * @method commandVideoDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandVideoDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.video;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      defaults.disappearAnimation = this.params.disappearAnimation;
    }
    if (!isLocked(flags["motionBlur.enabled"])) {
      defaults.motionBlur = this.params.motionBlur;
    }
    if (!isLocked(flags.origin)) {
      return defaults.origin = this.params.origin;
    }
  };


  /**
  * @method commandShowVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowVideo = function() {
    var animation, defaults, duration, easing, flags, isLocked, number, origin, p, ref, scene, video, videos, x, y, zIndex;
    defaults = GameManager.defaults.video;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    videos = scene.videos;
    if (videos[number] == null) {
      videos[number] = new gs.Object_Video();
    }
    x = this.interpreter.numberValueOf(this.params.position.x);
    y = this.interpreter.numberValueOf(this.params.position.y);
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    origin = !isLocked(flags.origin) ? this.params.origin : defaults.origin;
    zIndex = !isLocked(flags.zOrder) ? this.interpreter.numberValueOf(this.params.zOrder) : defaults.zOrder;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    video = videos[number];
    video.video = (ref = this.params.video) != null ? ref.name : void 0;
    video.loop = true;
    video.dstRect.x = x;
    video.dstRect.y = y;
    video.blendMode = this.interpreter.numberValueOf(this.params.blendMode);
    video.anchor.x = origin === 0 ? 0 : 0.5;
    video.anchor.y = origin === 0 ? 0 : 0.5;
    video.zIndex = zIndex || (1000 + number);
    video.update();
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, video, this.params);
      video.dstRect.x = p.x;
      video.dstRect.y = p.y;
    }
    video.animator.appear(x, y, animation, easing, duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandMoveVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandMovePicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandMoveVideoPath
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveVideoPath = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandMovePicturePath.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandRotateVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRotateVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandRotatePicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandZoomVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandZoomPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandBlendVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBlendVideo = function() {
    var video;
    video = SceneManager.scene.videos[this.interpreter.numberValueOf(this.params.number)];
    if (video == null) {
      return;
    }
    return this.interpreter.blendObject(video, this.params);
  };


  /**
  * @method commandTintVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTintVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandTintPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandFlashVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandFlashVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandFlashPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandCropVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCropVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandCropPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandVideoMotionBlur
  * @protected
   */

  Component_CommandInterpreter.prototype.commandVideoMotionBlur = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandPictureMotionBlur.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandMaskVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMaskVideo = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.videos;
    this.interpreter.commandMaskPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandEraseVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEraseVideo = function() {
    var animation, defaults, duration, easing, flags, isLocked, number, scene, video;
    defaults = GameManager.defaults.video;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    video = scene.videos[number];
    if (video == null) {
      return;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.disappearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
    video.animator.disappear(animation, easing, duration, (function(_this) {
      return function(sender) {
        return sender.dispose();
      };
    })(this));
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandShowImageMap
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowImageMap = function() {
    var ref, ref1, ref2, ref3, ref4, ref5, scene;
    scene = SceneManager.scene;
    if ((ref = scene.imageMap) != null) {
      ref.dispose();
    }
    scene.imageMap = new gs.Object_ImageMap();
    scene.imageMap.dstRect.x = 0;
    scene.imageMap.dstRect.y = 0;
    scene.imageMap.hotspots = this.params.hotspots;
    scene.imageMap.images = [(ref1 = this.params.ground) != null ? ref1.name : void 0, (ref2 = this.params.hover) != null ? ref2.name : void 0, (ref3 = this.params.unselected) != null ? ref3.name : void 0, (ref4 = this.params.selected) != null ? ref4.name : void 0, (ref5 = this.params.selectedHover) != null ? ref5.name : void 0];
    scene.imageMap.events.on("jumpTo", (function(_this) {
      return function(e) {
        _this.interpreter.jumpToLabel(e.label);
        return _this.interpreter.isWaiting = false;
      };
    })(this));
    scene.imageMap.events.on("callCommonEvent", (function(_this) {
      return function(e) {
        _this.interpreter.callCommonEvent(e.commonEventId, [], !e.finish);
        return _this.interpreter.isWaiting = false;
      };
    })(this));
    scene.imageMap.setup();
    scene.addObject(scene.imageMap);
    scene.imageMap.update();
    this.interpreter.showObject(scene.imageMap, {
      x: 0,
      y: 0
    }, this.params);
    this.interpreter.isWaiting = true;
    if (this.params.waitForCompletion) {
      this.interpreter.waitCounter = 0;
    }
    return scene.imageMap.events.on("finish", (function(_this) {
      return function(sender) {
        return _this.interpreter.isWaiting = false;
      };
    })(this));
  };


  /**
  * @method commandEraseImageMap
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEraseImageMap = function() {
    var scene;
    scene = SceneManager.scene;
    if (scene.imageMap == null) {
      return;
    }
    scene.imageMap.events.emit("finish", scene.imageMap);
    this.interpreter.eraseObject(scene.imageMap, this.params);
    return scene.imageMap = null;
  };


  /**
  * @method commandAddHotspot
  * @protected
   */

  Component_CommandInterpreter.prototype.commandAddHotspot = function() {
    var dragging, hotspot, hotspots, number, picture, ref, ref1, ref2, ref3, ref4, ref5, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    hotspots = scene.hotspots;
    if (hotspots[number] == null) {
      hotspots[number] = new gs.Object_Hotspot();
    }
    hotspot = hotspots[number];
    switch (this.params.positionType) {
      case 0:
        hotspot.dstRect.x = this.params.box.x;
        hotspot.dstRect.y = this.params.box.y;
        hotspot.dstRect.width = this.params.box.size.width;
        hotspot.dstRect.height = this.params.box.size.height;
        break;
      case 1:
        hotspot.dstRect.x = this.interpreter.numberValueOf(this.params.box.x);
        hotspot.dstRect.y = this.interpreter.numberValueOf(this.params.box.y);
        hotspot.dstRect.width = this.interpreter.numberValueOf(this.params.box.size.width);
        hotspot.dstRect.height = this.interpreter.numberValueOf(this.params.box.size.height);
        break;
      case 2:
        picture = scene.pictures[this.interpreter.numberValueOf(this.params.pictureNumber)];
        if (picture != null) {
          hotspot.target = picture;
        }
    }
    hotspot.behavior.shape = (ref = this.params.shape) != null ? ref : gs.HotspotShape.RECTANGLE;
    hotspot.images = [((ref1 = this.params.baseGraphic) != null ? ref1.name : void 0) || this.interpreter.stringValueOf(this.params.baseGraphic) || (picture != null ? picture.image : void 0), ((ref2 = this.params.hoverGraphic) != null ? ref2.name : void 0) || this.interpreter.stringValueOf(this.params.hoverGraphic), ((ref3 = this.params.selectedGraphic) != null ? ref3.name : void 0) || this.interpreter.stringValueOf(this.params.selectedGraphic), ((ref4 = this.params.selectedHoverGraphic) != null ? ref4.name : void 0) || this.interpreter.stringValueOf(this.params.selectedHoverGraphic), ((ref5 = this.params.unselectedGraphic) != null ? ref5.name : void 0) || this.interpreter.stringValueOf(this.params.unselectedGraphic)];
    if (this.params.actions.onClick.type !== 0 || this.params.actions.onClick.label) {
      hotspot.events.on("click", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onClick, false);
        };
      })(this));
    }
    if (this.params.actions.onEnter.type !== 0 || this.params.actions.onEnter.label) {
      hotspot.events.on("enter", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onEnter, true);
        };
      })(this));
    }
    if (this.params.actions.onLeave.type !== 0 || this.params.actions.onLeave.label) {
      hotspot.events.on("leave", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onLeave, false);
        };
      })(this));
    }
    if (this.params.actions.onDrag.type !== 0 || this.params.actions.onDrag.label) {
      hotspot.events.on("dragStart", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onDrag, true);
        };
      })(this));
      hotspot.events.on("drag", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onDrag, true);
        };
      })(this));
      hotspot.events.on("dragEnd", (function(_this) {
        return function() {
          return _this.interpreter.executeAction(_this.params.actions.onDrag, false);
        };
      })(this));
    }
    if (this.params.actions.onSelect.type !== 0 || this.params.actions.onSelect.label || this.params.actions.onDeselect.type !== 0 || this.params.actions.onDeselect.label) {
      hotspot.events.on("stateChanged", (function(_this) {
        return function(e) {
          if (e.sender.behavior.selected) {
            return _this.interpreter.executeAction(_this.params.actions.onSelect, true);
          } else {
            return _this.interpreter.executeAction(_this.params.actions.onDeselect, false);
          }
        };
      })(this));
    }
    hotspot.selectable = true;
    hotspot.setup();
    if (this.params.dragging.enabled) {
      dragging = this.params.dragging;
      hotspot.draggable = {
        rect: new Rect(dragging.rect.x, dragging.rect.y, dragging.rect.size.width, dragging.rect.size.height),
        axisX: dragging.horizontal,
        axisY: dragging.vertical
      };
      hotspot.addComponent(new ui.Component_Draggable());
      return hotspot.events.on("drag", (function(_this) {
        return function(e) {
          var drag;
          drag = e.sender.draggable;
          if (_this.params.dragging.horizontal) {
            return _this.interpreter.setNumberValueTo(_this.params.dragging.variable, Math.round((e.sender.dstRect.x - drag.rect.x) / (drag.rect.width - e.sender.dstRect.width) * 100));
          } else {
            return _this.interpreter.setNumberValueTo(_this.params.dragging.variable, Math.round((e.sender.dstRect.y - drag.rect.y) / (drag.rect.height - e.sender.dstRect.height) * 100));
          }
        };
      })(this));
    }
  };


  /**
  * @method commandChangeHotspotState
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeHotspotState = function() {
    var flags, hotspot, isLocked, number, scene;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    hotspot = scene.hotspots[number];
    if (!hotspot) {
      return;
    }
    if (!isLocked(flags.selected)) {
      hotspot.behavior.selected = this.interpreter.booleanValueOf(this.params.selected);
    }
    if (!isLocked(flags.enabled)) {
      hotspot.behavior.enabled = this.interpreter.booleanValueOf(this.params.enabled);
    }
    hotspot.behavior.updateInput();
    return hotspot.behavior.updateImage();
  };


  /**
  * @method commandEraseHotspot
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEraseHotspot = function() {
    var number, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    if (scene.hotspots[number] != null) {
      scene.hotspots[number].dispose();
      return scene.hotspotContainer.eraseObject(number);
    }
  };


  /**
  * @method commandPictureDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPictureDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.picture;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      defaults.disappearAnimation = this.params.disappearAnimation;
    }
    if (!isLocked(flags["motionBlur.enabled"])) {
      defaults.motionBlur = this.params.motionBlur;
    }
    if (!isLocked(flags.origin)) {
      return defaults.origin = this.params.origin;
    }
  };

  Component_CommandInterpreter.prototype.createPicture = function(graphic, params) {
    var animation, bitmap, defaults, duration, easing, flags, isLocked, number, origin, picture, pictures, ref, ref1, scene, x, y, zIndex;
    defaults = GameManager.defaults.picture;
    flags = params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.numberValueOf(params.number);
    pictures = scene.pictures;
    if (pictures[number] == null) {
      pictures[number] = new gs.Object_Picture();
    }
    x = this.numberValueOf(params.position.x);
    y = this.numberValueOf(params.position.y);
    picture = pictures[number];
    picture.image = graphic != null ? graphic.name : void 0;
    bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + (graphic != null ? graphic.name : void 0));
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.numberValueOf(params.easing.type), params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.durationValueOf(params.duration) : defaults.appearDuration;
    origin = !isLocked(flags.origin) ? params.origin : defaults.origin;
    zIndex = !isLocked(flags.zOrder) ? this.numberValueOf(params.zOrder) : defaults.zOrder;
    animation = !isLocked(flags["animation.type"]) ? params.animation : defaults.appearAnimation;
    picture.mirror = params.position.horizontalFlip;
    picture.angle = params.position.angle || 0;
    picture.zoom.x = ((ref = params.position.data) != null ? ref.zoom : void 0) || 1;
    picture.zoom.y = ((ref1 = params.position.data) != null ? ref1.zoom : void 0) || 1;
    picture.blendMode = this.numberValueOf(params.blendMode);
    if (params.origin === 1 && (bitmap != null)) {
      x += (bitmap.width * picture.zoom.x - bitmap.width) / 2;
      y += (bitmap.height * picture.zoom.y - bitmap.height) / 2;
    }
    picture.dstRect.x = x;
    picture.dstRect.y = y;
    picture.anchor.x = origin === 1 ? 0.5 : 0;
    picture.anchor.y = origin === 1 ? 0.5 : 0;
    picture.zIndex = zIndex || (700 + number);
    picture.update();
    return picture;
  };


  /**
  * @method commandShowPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowPicture = function() {
    var animation, defaults, duration, easing, flags, isLocked, p, picture;
    defaults = GameManager.defaults.picture;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    picture = this.interpreter.createPicture(this.params.graphic, this.params);
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, picture, this.params);
      picture.dstRect.x = p.x;
      picture.dstRect.y = p.y;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    picture.animator.appear(picture.dstRect.x, picture.dstRect.y, animation, easing, duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandPlayPictureAnimation
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPlayPictureAnimation = function() {
    var animation, bitmap, component, defaults, duration, easing, flags, isLocked, p, picture, record;
    defaults = GameManager.defaults.picture;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    picture = null;
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    if (this.params.animationId != null) {
      record = RecordManager.animations[this.params.animationId];
      if (record != null) {
        picture = this.interpreter.createPicture(record.graphic, this.params);
        component = picture.findComponent("Component_FrameAnimation");
        if (component != null) {
          component.refresh(record);
          component.start();
        } else {
          component = new gs.Component_FrameAnimation(record);
          picture.addComponent(component);
        }
        component.update();
        if (this.params.positionType === 0) {
          p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, picture, this.params);
          picture.dstRect.x = p.x;
          picture.dstRect.y = p.y;
        }
        picture.animator.appear(picture.dstRect.x, picture.dstRect.y, animation, easing, duration);
      }
    } else {
      picture = SceneManager.scene.pictures[this.interpreter.numberValueOf(this.params.number)];
      animation = picture != null ? picture.findComponent("Component_FrameAnimation") : void 0;
      if (animation != null) {
        picture.removeComponent(animation);
        bitmap = ResourceManager.getBitmap("Graphics/Animations/" + picture.image);
        if (bitmap != null) {
          picture.srcRect.set(0, 0, bitmap.width, bitmap.height);
          picture.dstRect.width = picture.srcRect.width;
          picture.dstRect.height = picture.srcRect.height;
        }
      }
    }
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandMovePicturePath
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMovePicturePath = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    return this.interpreter.moveObjectPath(picture, this.params.path, this.params);
  };


  /**
  * @method commandMovePicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMovePicture = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    return this.interpreter.moveObject(picture, this.params.picture.position, this.params);
  };


  /**
  * @method commandTintPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTintPicture = function() {
    var duration, easing, number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    duration = this.interpreter.durationValueOf(this.params.duration);
    easing = gs.Easings.fromObject(this.params.easing);
    picture.animator.tintTo(this.params.tone, duration, easing);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandFlashPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandFlashPicture = function() {
    var duration, number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    duration = this.interpreter.durationValueOf(this.params.duration);
    picture.animator.flash(new Color(this.params.color), duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandCropPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCropPicture = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    picture.srcRect.x = this.interpreter.numberValueOf(this.params.x);
    picture.srcRect.y = this.interpreter.numberValueOf(this.params.y);
    picture.srcRect.width = this.interpreter.numberValueOf(this.params.width);
    picture.srcRect.height = this.interpreter.numberValueOf(this.params.height);
    picture.dstRect.width = this.interpreter.numberValueOf(this.params.width);
    return picture.dstRect.height = this.interpreter.numberValueOf(this.params.height);
  };


  /**
  * @method commandRotatePicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRotatePicture = function() {
    var actualDuration, duration, easing, number, picture, scene, speed;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    easing = gs.Easings.fromObject(this.params.easing);
    if (GameManager.tempSettings.skip) {
      actualDuration = this.interpreter.durationValueOf(this.params.duration);
      duration = this.interpreter.durationValueOf(this.duration);
      speed = this.interpreter.numberValueOf(this.params.speed) / 100;
      speed = Math.round(duration / (actualDuration || 1) * speed);
      picture.animator.rotate(this.params.direction, speed, actualDuration || 1, easing);
      duration = actualDuration;
    } else {
      duration = this.interpreter.durationValueOf(this.params.duration);
      picture.animator.rotate(this.params.direction, this.interpreter.numberValueOf(this.params.speed) / 100, duration, easing);
    }
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandZoomPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomPicture = function() {
    var duration, easing, number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    easing = gs.Easings.fromObject(this.params.easing);
    duration = this.interpreter.durationValueOf(this.params.duration);
    picture.animator.zoomTo(this.interpreter.numberValueOf(this.params.zooming.x) / 100, this.interpreter.numberValueOf(this.params.zooming.y) / 100, duration, easing);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandBlendPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBlendPicture = function() {
    var picture;
    picture = SceneManager.scene.pictures[this.interpreter.numberValueOf(this.params.number)];
    if (picture == null) {
      return;
    }
    return this.interpreter.blendObject(picture, this.params);
  };


  /**
  * @method commandShakePicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShakePicture = function() {
    var picture;
    picture = SceneManager.scene.pictures[this.interpreter.numberValueOf(this.params.number)];
    if (picture == null) {
      return;
    }
    return this.interpreter.shakeObject(picture, this.params);
  };


  /**
  * @method commandMaskPicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMaskPicture = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    return this.interpreter.maskObject(picture, this.params);
  };


  /**
  * @method commandPictureMotionBlur
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPictureMotionBlur = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    return picture.motionBlur.set(this.params.motionBlur);
  };


  /**
  * @method commandPictureEffect
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPictureEffect = function() {
    var number, picture, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    return this.interpreter.objectEffect(picture, this.params);
  };


  /**
  * @method commandErasePicture
  * @protected
   */

  Component_CommandInterpreter.prototype.commandErasePicture = function() {
    var animation, defaults, duration, easing, flags, isLocked, number, picture, scene;
    defaults = GameManager.defaults.picture;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    picture = scene.pictures[number];
    if (picture == null) {
      return;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.disappearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
    picture.animator.disappear(animation, easing, duration, (function(_this) {
      return function(sender) {
        sender.dispose();
        return scene.pictures[number] = null;
      };
    })(this));
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandInputNumber
  * @protected
   */

  Component_CommandInterpreter.prototype.commandInputNumber = function() {
    var scene;
    scene = SceneManager.scene;
    this.interpreter.isWaiting = true;
    if (this.interpreter.isProcessingMessageInOtherContext()) {
      this.interpreter.waitForMessage();
      return;
    }
    if ((GameManager.settings.allowChoiceSkip || this.interpreter.preview) && GameManager.tempSettings.skip) {
      this.interpreter.isWaiting = false;
      this.interpreter.messageObject().behavior.clear();
      this.interpreter.setNumberValueTo(this.params.variable, 0);
      return;
    }
    $tempFields.digits = this.params.digits;
    scene.behavior.showInputNumber(this.params.digits, gs.CallBack("onInputNumberFinish", this.interpreter, this.params));
    return this.interpreter.waitingFor.inputNumber = this.params;
  };


  /**
  * @method commandChoiceTimer
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChoiceTimer = function() {
    var scene;
    scene = SceneManager.scene;
    GameManager.tempFields.choiceTimer = scene.choiceTimer;
    GameManager.tempFields.choiceTimerVisible = this.params.visible;
    if (this.params.enabled) {
      scene.choiceTimer.behavior.seconds = this.interpreter.numberValueOf(this.params.seconds);
      scene.choiceTimer.behavior.minutes = this.interpreter.numberValueOf(this.params.minutes);
      scene.choiceTimer.behavior.start();
      return scene.choiceTimer.events.on("finish", (function(_this) {
        return function(sender) {
          var defaultChoice, ref;
          if (scene.choiceWindow && ((ref = GameManager.tempFields.choices) != null ? ref.length : void 0) > 0) {
            defaultChoice = (GameManager.tempFields.choices.first(function(c) {
              return c.isDefault;
            })) || GameManager.tempFields.choices[0];
            return scene.choiceWindow.events.emit("selectionAccept", scene.choiceWindow, {
              labelIndex: defaultChoice.action.labelIndex
            });
          }
        };
      })(this));
    } else {
      return scene.choiceTimer.stop();
    }
  };


  /**
  * @method commandShowChoices
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowChoices = function() {
    var choices, defaultChoice, messageObject, pointer, scene;
    scene = SceneManager.scene;
    pointer = this.interpreter.pointer;
    choices = GameManager.tempFields.choices;
    if ((GameManager.settings.allowChoiceSkip || this.interpreter.previewData) && GameManager.tempSettings.skip) {
      messageObject = this.interpreter.messageObject();
      if (messageObject != null ? messageObject.visible : void 0) {
        messageObject.behavior.clear();
      }
      defaultChoice = (choices.first(function(c) {
        return c.isDefault;
      })) || choices[0];
      if (defaultChoice.action.labelIndex != null) {
        return this.interpreter.pointer = defaultChoice.action.labelIndex;
      } else {
        return this.interpreter.jumpToLabel(defaultChoice.action.label);
      }
    } else {
      if (choices.length > 0) {
        this.interpreter.isWaiting = true;
        return scene.behavior.showChoices(choices, gs.CallBack("onChoiceAccept", this.interpreter, {
          pointer: pointer,
          params: this.params
        }));
      }
    }
  };


  /**
  * @method commandShowChoice
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowChoice = function() {
    var choices, command, commands, dstRect, index, pointer, scene;
    scene = SceneManager.scene;
    commands = this.interpreter.object.commands;
    command = null;
    index = 0;
    pointer = this.interpreter.pointer;
    choices = null;
    dstRect = null;
    switch (this.params.positionType) {
      case 0:
        dstRect = null;
        break;
      case 1:
        dstRect = new Rect(this.params.box.x, this.params.box.y, this.params.box.size.width, this.params.box.size.height);
    }
    if (!GameManager.tempFields.choices) {
      GameManager.tempFields.choices = [];
    }
    choices = GameManager.tempFields.choices;
    return choices.push({
      dstRect: dstRect,
      text: this.params.text,
      index: index,
      action: this.params.action,
      isSelected: false,
      isDefault: this.params.defaultChoice,
      isEnabled: this.interpreter.booleanValueOf(this.params.enabled)
    });
  };


  /**
  * @method commandOpenMenu
  * @protected
   */

  Component_CommandInterpreter.prototype.commandOpenMenu = function() {
    SceneManager.switchTo(new gs.Object_Layout("menuLayout"), true);
    this.interpreter.waitCounter = 1;
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandOpenLoadMenu
  * @protected
   */

  Component_CommandInterpreter.prototype.commandOpenLoadMenu = function() {
    SceneManager.switchTo(new gs.Object_Layout("loadMenuLayout"), true);
    this.interpreter.waitCounter = 1;
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandOpenSaveMenu
  * @protected
   */

  Component_CommandInterpreter.prototype.commandOpenSaveMenu = function() {
    SceneManager.switchTo(new gs.Object_Layout("saveMenuLayout"), true);
    this.interpreter.waitCounter = 1;
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandReturnToTitle
  * @protected
   */

  Component_CommandInterpreter.prototype.commandReturnToTitle = function() {
    SceneManager.clear();
    SceneManager.switchTo(new gs.Object_Layout("titleLayout"));
    this.interpreter.waitCounter = 1;
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandPlayVideo
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPlayVideo = function() {
    var ref, scene;
    if ((GameManager.inLivePreview || GameManager.settings.allowVideoSkip) && GameManager.tempSettings.skip) {
      return;
    }
    GameManager.tempSettings.skip = false;
    scene = SceneManager.scene;
    if (((ref = this.params.video) != null ? ref.name : void 0) != null) {
      scene.video = ResourceManager.getVideo("Movies/" + this.params.video.name);
      this.videoSprite = new Sprite(Graphics.viewport);
      this.videoSprite.srcRect = new Rect(0, 0, scene.video.width, scene.video.height);
      this.videoSprite.video = scene.video;
      this.videoSprite.zoomX = Graphics.width / scene.video.width;
      this.videoSprite.zoomY = Graphics.height / scene.video.height;
      this.videoSprite.z = 99999999;
      scene.video.onEnded = (function(_this) {
        return function() {
          _this.interpreter.isWaiting = false;
          _this.videoSprite.dispose();
          return scene.video = null;
        };
      })(this);
      scene.video.volume = this.params.volume / 100;
      scene.video.playbackRate = this.params.playbackRate / 100;
      this.interpreter.isWaiting = true;
      return scene.video.play();
    }
  };


  /**
  * @method commandAudioDefaults
  * @protected
   */

  Component_CommandInterpreter.prototype.commandAudioDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.musicFadeInDuration)) {
      defaults.musicFadeInDuration = this.params.musicFadeInDuration;
    }
    if (!isLocked(flags.musicFadeOutDuration)) {
      defaults.musicFadeOutDuration = this.params.musicFadeOutDuration;
    }
    if (!isLocked(flags.musicVolume)) {
      defaults.musicVolume = this.params.musicVolume;
    }
    if (!isLocked(flags.musicPlaybackRate)) {
      defaults.musicPlaybackRate = this.params.musicPlaybackRate;
    }
    if (!isLocked(flags.soundVolume)) {
      defaults.soundVolume = this.params.soundVolume;
    }
    if (!isLocked(flags.soundPlaybackRate)) {
      defaults.soundPlaybackRate = this.params.soundPlaybackRate;
    }
    if (!isLocked(flags.voiceVolume)) {
      defaults.voiceVolume = this.params.voiceVolume;
    }
    if (!isLocked(flags.voicePlaybackRate)) {
      return defaults.voicePlaybackRate = this.params.voicePlaybackRate;
    }
  };


  /**
  * @method commandPlayMusic
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPlayMusic = function() {
    var defaults, fadeDuration, flags, isLocked, music, playRange, playTime, playbackRate, volume;
    if (this.params.music == null) {
      return;
    }
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (GameManager.settings.bgmEnabled) {
      fadeDuration = !isLocked(flags.fadeInDuration) ? this.params.fadeInDuration : defaults.musicFadeInDuration;
      volume = !isLocked(flags["music.volume"]) ? this.params.music.volume : defaults.musicVolume;
      playbackRate = !isLocked(flags["music.playbackRate"]) ? this.params.music.playbackRate : defaults.musicPlaybackRate;
      music = {
        name: this.params.music.name,
        volume: volume,
        playbackRate: playbackRate
      };
      if (this.params.playType === 1) {
        playTime = {
          min: this.params.playTime.min * 60,
          max: this.params.playTime.max * 60
        };
        playRange = {
          start: this.params.playRange.start * 60,
          end: this.params.playRange.end * 60
        };
        return AudioManager.playMusicRandom(music, fadeDuration, this.params.layer || 0, playTime, playRange);
      } else {
        return AudioManager.playMusic(this.params.music.name, volume, playbackRate, fadeDuration, this.params.layer || 0);
      }
    }
  };


  /**
  * @method commandStopMusic
  * @protected
   */

  Component_CommandInterpreter.prototype.commandStopMusic = function() {
    var defaults, fadeDuration, flags, isLocked;
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    fadeDuration = !isLocked(flags.fadeOutDuration) ? this.params.fadeOutDuration : defaults.musicFadeOutDuration;
    return AudioManager.stopMusic(fadeDuration, this.interpreter.numberValueOf(this.params.layer));
  };


  /**
  * @method commandPauseMusic
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPauseMusic = function() {
    var defaults, fadeDuration, flags, isLocked;
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    fadeDuration = !isLocked(flags.fadeOutDuration) ? this.params.fadeOutDuration : defaults.musicFadeOutDuration;
    return AudioManager.stopMusic(fadeDuration, this.interpreter.numberValueOf(this.params.layer));
  };


  /**
  * @method commandResumeMusic
  * @protected
   */

  Component_CommandInterpreter.prototype.commandResumeMusic = function() {
    var defaults, fadeDuration, flags, isLocked;
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    fadeDuration = !isLocked(flags.fadeInDuration) ? this.params.fadeInDuration : defaults.musicFadeInDuration;
    return AudioManager.resumeMusic(fadeDuration, this.interpreter.numberValueOf(this.params.layer));
  };


  /**
  * @method commandPlaySound
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPlaySound = function() {
    var defaults, flags, isLocked, playbackRate, volume;
    defaults = GameManager.defaults.audio;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (GameManager.settings.soundEnabled && !GameManager.tempSettings.skip) {
      volume = !isLocked(flags["sound.volume"]) ? this.params.sound.volume : defaults.soundVolume;
      playbackRate = !isLocked(flags["sound.playbackRate"]) ? this.params.sound.playbackRate : defaults.soundPlaybackRate;
      return AudioManager.playSound(this.params.sound.name, volume, playbackRate, this.params.musicEffect);
    }
  };


  /**
  * @method commandEndCommonEvent
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEndCommonEvent = function() {
    var event, eventId;
    eventId = this.interpreter.numberValueOf(this.params.commonEventId);
    event = GameManager.commonEvents[eventId];
    return event != null ? event.behavior.stop() : void 0;
  };


  /**
  * @method commandCallCommonEvent
  * @protected
   */

  Component_CommandInterpreter.prototype.commandCallCommonEvent = function() {
    var eventId, scene;
    scene = SceneManager.scene;
    eventId = this.interpreter.numberValueOf(this.params.commonEventId);
    return this.interpreter.callCommonEvent(eventId, this.params.parameters);
  };


  /**
  * @method commandChangeTextSettings
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeTextSettings = function() {
    var flags, font, fontName, fontSize, isLocked, number, scene, textSprite, texts;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    texts = scene.texts;
    if (texts[number] == null) {
      texts[number] = new gs.Object_Text();
      texts[number].visible = false;
    }
    textSprite = texts[number];
    font = textSprite.font;
    fontName = textSprite.font.name;
    fontSize = textSprite.font.size;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.font)) {
      fontName = this.interpreter.stringValueOf(this.params.font);
    }
    if (!isLocked(flags.size)) {
      fontSize = this.interpreter.numberValueOf(this.params.size);
    }
    if (!isLocked(flags.font) || !isLocked(flags.size)) {
      textSprite.font = new Font(fontName, fontSize);
    }
    textSprite.font.color = !isLocked(flags.color) ? new Color(this.params.color) : font.color;
    textSprite.font.border = !isLocked(flags.border) ? this.params.outline : font.border;
    textSprite.font.borderColor = !isLocked(flags.borderColor) ? new Color(this.params.outlineColor) : new Color(font.borderColor);
    textSprite.font.shadow = !isLocked(flags.shadow) ? this.params.shadow : font.shadow;
    textSprite.font.shadowColor = !isLocked(flags.shadowColor) ? new Color(this.params.shadowColor) : new Color(font.shadowColor);
    textSprite.behavior.refresh();
    return textSprite.update();
  };


  /**
  * @method commandChangeTextSettings
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTextDefaults = function() {
    var defaults, flags, isLocked;
    defaults = GameManager.defaults.text;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    if (!isLocked(flags.appearDuration)) {
      defaults.appearDuration = this.interpreter.durationValueOf(this.params.appearDuration);
    }
    if (!isLocked(flags.disappearDuration)) {
      defaults.disappearDuration = this.interpreter.durationValueOf(this.params.disappearDuration);
    }
    if (!isLocked(flags.zOrder)) {
      defaults.zOrder = this.interpreter.numberValueOf(this.params.zOrder);
    }
    if (!isLocked(flags["appearEasing.type"])) {
      defaults.appearEasing = this.params.appearEasing;
    }
    if (!isLocked(flags["appearAnimation.type"])) {
      defaults.appearAnimation = this.params.appearAnimation;
    }
    if (!isLocked(flags["disappearEasing.type"])) {
      defaults.disappearEasing = this.params.disappearEasing;
    }
    if (!isLocked(flags["disappearAnimation.type"])) {
      defaults.disappearAnimation = this.params.disappearAnimation;
    }
    if (!isLocked(flags["motionBlur.enabled"])) {
      defaults.motionBlur = this.params.motionBlur;
    }
    if (!isLocked(flags.origin)) {
      return defaults.origin = this.params.origin;
    }
  };


  /**
  * @method commandShowText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandShowText = function() {
    var animation, defaults, duration, easing, flags, isLocked, number, origin, p, scene, text, textObject, texts, x, y, zIndex;
    defaults = GameManager.defaults.text;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    text = this.params.text;
    texts = scene.texts;
    if (texts[number] == null) {
      texts[number] = new gs.Object_Text();
    }
    x = this.interpreter.numberValueOf(this.params.position.x);
    y = this.interpreter.numberValueOf(this.params.position.y);
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.appearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.appearDuration;
    origin = !isLocked(flags.origin) ? this.params.origin : defaults.origin;
    zIndex = !isLocked(flags.zOrder) ? this.interpreter.numberValueOf(this.params.zOrder) : defaults.zOrder;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.appearAnimation;
    textObject = texts[number];
    textObject.text = text;
    textObject.dstRect.x = x;
    textObject.dstRect.y = y;
    textObject.blendMode = this.interpreter.numberValueOf(this.params.blendMode);
    textObject.anchor.x = origin === 0 ? 0 : 0.5;
    textObject.anchor.y = origin === 0 ? 0 : 0.5;
    textObject.zIndex = zIndex || (700 + number);
    textObject.sizeToFit = true;
    textObject.formatting = true;
    textObject.update();
    if (this.params.positionType === 0) {
      p = this.interpreter.predefinedObjectPosition(this.params.predefinedPositionId, textObject, this.params);
      textObject.dstRect.x = p.x;
      textObject.dstRect.y = p.y;
    }
    textObject.animator.appear(x, y, animation, easing, duration);
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandTextMotionBlur
  * @protected
   */

  Component_CommandInterpreter.prototype.commandTextMotionBlur = function() {
    var number, scene, text;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    text = scene.texts[number];
    if (text == null) {
      return;
    }
    return text.motionBlur.set(this.params.motionBlur);
  };


  /**
  * @method commandRefreshText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRefreshText = function() {
    var number, scene, texts;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    texts = scene.texts;
    if (texts[number] == null) {
      return;
    }
    return texts[number].behavior.refresh();
  };


  /**
  * @method commandMoveText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveText = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.texts;
    this.interpreter.commandMovePicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandMoveTextPath
  * @protected
   */

  Component_CommandInterpreter.prototype.commandMoveTextPath = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.texts;
    this.interpreter.commandMovePicturePath.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandRotateText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandRotateText = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.texts;
    this.interpreter.commandRotatePicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandZoomText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandZoomText = function() {
    var number, pictures, scene;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    pictures = scene.pictures;
    scene.pictures = scene.texts;
    this.interpreter.commandZoomPicture.call(this);
    return scene.pictures = pictures;
  };


  /**
  * @method commandBlendText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandBlendText = function() {
    var text;
    text = SceneManager.scene.texts[this.interpreter.numberValueOf(this.params.number)];
    if (text == null) {
      return;
    }
    return this.interpreter.blendObject(text, this.params);
  };


  /**
  * @method commandColorText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandColorText = function() {
    var duration, easing, number, scene, text;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    text = scene.texts[number];
    duration = this.interpreter.durationValueOf(this.params.duration);
    easing = gs.Easings.fromObject(this.params.easing);
    if (text != null) {
      text.animator.colorTo(new Color(this.params.color), duration, easing);
      if (this.params.waitForCompletion && !(duration === 0)) {
        this.interpreter.isWaiting = true;
        return this.interpreter.waitCounter = duration;
      }
    }
  };


  /**
  * @method commandEraseText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandEraseText = function() {
    var animation, defaults, duration, easing, flags, isLocked, number, scene, text;
    defaults = GameManager.defaults.text;
    flags = this.params.fieldFlags || {};
    isLocked = gs.CommandFieldFlags.isLocked;
    scene = SceneManager.scene;
    number = this.interpreter.numberValueOf(this.params.number);
    text = scene.texts[number];
    if (text == null) {
      return;
    }
    easing = !isLocked(flags["easing.type"]) ? gs.Easings.fromValues(this.interpreter.numberValueOf(this.params.easing.type), this.params.easing.inOut) : gs.Easings.fromObject(defaults.disappearEasing);
    duration = !isLocked(flags.duration) ? this.interpreter.durationValueOf(this.params.duration) : defaults.disappearDuration;
    animation = !isLocked(flags["animation.type"]) ? this.params.animation : defaults.disappearAnimation;
    text.animator.disappear(animation, easing, duration, (function(_this) {
      return function(sender) {
        sender.dispose();
        return scene.texts[number] = null;
      };
    })(this));
    if (this.params.waitForCompletion && !(duration === 0)) {
      this.interpreter.isWaiting = true;
      return this.interpreter.waitCounter = duration;
    }
  };


  /**
  * @method commandInputText
  * @protected
   */

  Component_CommandInterpreter.prototype.commandInputText = function() {
    var scene;
    scene = SceneManager.scene;
    if ((GameManager.settings.allowChoiceSkip || this.interpreter.preview) && GameManager.tempSettings.skip) {
      this.interpreter.messageObject().behavior.clear();
      this.interpreter.setStringValueTo(this.params.variable, "");
      return;
    }
    this.interpreter.isWaiting = true;
    if (this.interpreter.isProcessingMessageInOtherContext()) {
      this.interpreter.waitForMessage();
      return;
    }
    $tempFields.letters = this.params.letters;
    scene.behavior.showInputText(this.params.letters, gs.CallBack("onInputTextFinish", this.interpreter, this.interpreter));
    return this.interpreter.waitingFor.inputText = this.params;
  };


  /**
  * @method commandSavePersistentData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSavePersistentData = function() {
    return GameManager.saveGlobalData();
  };


  /**
  * @method commandPrepareSaveGame
  * @protected
   */

  Component_CommandInterpreter.prototype.commandPrepareSaveGame = function() {
    if (this.interpreter.previewData != null) {
      return;
    }
    this.interpreter.pointer++;
    GameManager.prepareSaveGame(this.params.snapshot);
    return this.interpreter.pointer--;
  };


  /**
  * @method commandSaveGame
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSaveGame = function() {
    if (this.interpreter.previewData != null) {
      return;
    }
    return GameManager.save(this.interpreter.numberValueOf(this.params.slot) - 1);
  };


  /**
  * @method commandLoadGame
  * @protected
   */

  Component_CommandInterpreter.prototype.commandLoadGame = function() {
    if (this.interpreter.previewData != null) {
      return;
    }
    return GameManager.load(this.interpreter.numberValueOf(this.params.slot) - 1);
  };


  /**
  * @method commandWaitForInput
  * @protected
   */

  Component_CommandInterpreter.prototype.commandWaitForInput = function() {
    var f;
    gs.GlobalEventManager.offByOwner("mouseDown", this.object);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    gs.GlobalEventManager.offByOwner("keyDown", this.object);
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    f = (function(_this) {
      return function() {
        var executeAction;
        executeAction = false;
        if (Input.Mouse.isButton(_this.params.key)) {
          executeAction = Input.Mouse.buttons[_this.params.key] === _this.params.state;
        } else {
          executeAction = Input.keys[_this.params.key] === _this.params.state;
        }
        if (executeAction) {
          _this.interpreter.isWaiting = false;
          gs.GlobalEventManager.offByOwner("mouseDown", _this.object);
          gs.GlobalEventManager.offByOwner("mouseUp", _this.object);
          gs.GlobalEventManager.offByOwner("keyDown", _this.object);
          return gs.GlobalEventManager.offByOwner("keyUp", _this.object);
        }
      };
    })(this);
    gs.GlobalEventManager.on("mouseDown", f, null, this.object);
    gs.GlobalEventManager.on("mouseUp", f, null, this.object);
    gs.GlobalEventManager.on("keyDown", f, null, this.object);
    gs.GlobalEventManager.on("KeyUp", f, null, this.object);
    return this.interpreter.isWaiting = true;
  };


  /**
  * @method commandGetInputData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandGetInputData = function() {
    switch (this.params.field) {
      case 0:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.A]);
      case 1:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.B]);
      case 2:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.X]);
      case 3:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.Y]);
      case 4:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.L]);
      case 5:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.R]);
      case 6:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.START]);
      case 7:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.keys[Input.SELECT]);
      case 8:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.x);
      case 9:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.y);
      case 10:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.wheel);
      case 11:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.buttons[Input.Mouse.LEFT]);
      case 12:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.buttons[Input.Mouse.RIGHT]);
      case 13:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Input.Mouse.buttons[Input.Mouse.MIDDLE]);
    }
  };


  /**
  * @method commandGetGameData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandGetGameData = function() {
    var ref, ref1, settings, tempSettings;
    tempSettings = GameManager.tempSettings;
    settings = GameManager.settings;
    switch (this.params.field) {
      case 0:
        return this.interpreter.setStringValueTo(this.params.targetVariable, SceneManager.scene.sceneDocument.uid);
      case 1:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(Graphics.frameCount / 60));
      case 2:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(Graphics.frameCount / 60 / 60));
      case 3:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(Graphics.frameCount / 60 / 60 / 60));
      case 4:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, new Date().getDate());
      case 5:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, new Date().getDay());
      case 6:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, new Date().getMonth());
      case 7:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, new Date().getFullYear());
      case 8:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.allowSkip);
      case 9:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.allowSkipUnreadMessages);
      case 10:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, settings.messageSpeed);
      case 11:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.autoMessage.enabled);
      case 12:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, settings.autoMessage.time);
      case 13:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.autoMessage.waitForVoice);
      case 14:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.autoMessage.stopOnAction);
      case 15:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.timeMessageToVoice);
      case 16:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.allowVideoSkip);
      case 17:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.allowChoiceSkip);
      case 18:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.skipVoiceOnAction);
      case 19:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.fullScreen);
      case 20:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.adjustAspectRatio);
      case 21:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.confirmation);
      case 22:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, settings.bgmVolume);
      case 23:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, settings.voiceVolume);
      case 24:
        return this.interpreter.setNumberValueTo(this.params.targetVariable, settings.seVolume);
      case 25:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.bgmEnabled);
      case 26:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.voiceEnabled);
      case 27:
        return this.interpreter.setBooleanValueTo(this.params.targetVariable, settings.seEnabled);
      case 28:
        return this.interpreter.setStringValueTo(this.params.targetVariable, ((ref = LanguageManager.language) != null ? ref.code : void 0) || "");
      case 29:
        return this.interpreter.setStringValueTo(this.params.targetVariable, ((ref1 = LanguageManager.language) != null ? ref1.name : void 0) || "");
    }
  };


  /**
  * @method commandSetGameData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSetGameData = function() {
    var settings, tempSettings;
    tempSettings = GameManager.tempSettings;
    settings = GameManager.settings;
    switch (this.params.field) {
      case 0:
        return settings.allowSkip = this.interpreter.booleanValueOf(this.params.switchValue);
      case 1:
        return settings.allowSkipUnreadMessages = this.interpreter.booleanValueOf(this.params.switchValue);
      case 2:
        return settings.messageSpeed = this.interpreter.numberValueOf(this.params.numberValue);
      case 3:
        return settings.autoMessage.enabled = this.interpreter.booleanValueOf(this.params.switchValue);
      case 4:
        return settings.autoMessage.time = this.interpreter.numberValueOf(this.params.numberValue);
      case 5:
        return settings.autoMessage.waitForVoice = this.interpreter.booleanValueOf(this.params.switchValue);
      case 6:
        return settings.autoMessage.stopOnAction = this.interpreter.booleanValueOf(this.params.switchValue);
      case 7:
        return settings.timeMessageToVoice = this.interpreter.booleanValueOf(this.params.switchValue);
      case 8:
        return settings.allowVideoSkip = this.interpreter.booleanValueOf(this.params.switchValue);
      case 9:
        return settings.allowChoiceSkip = this.interpreter.booleanValueOf(this.params.switchValue);
      case 10:
        return settings.skipVoiceOnAction = this.interpreter.booleanValueOf(this.params.switchValue);
      case 11:
        settings.fullScreen = this.interpreter.booleanValueOf(this.params.switchValue);
        if (settings.fullScreen) {
          return SceneManager.scene.enterFullScreen();
        } else {
          return SceneManager.scene.leaveFullScreen();
        }
        break;
      case 12:
        settings.adjustAspectRatio = this.interpreter.booleanValueOf(this.params.switchValue);
        Graphics.keepRatio = settings.adjustAspectRatio;
        return Graphics.onResize();
      case 13:
        return settings.confirmation = this.interpreter.booleanValueOf(this.params.switchValue);
      case 14:
        return settings.bgmVolume = this.interpreter.numberValueOf(this.params.numberValue);
      case 15:
        return settings.voiceVolume = this.interpreter.numberValueOf(this.params.numberValue);
      case 16:
        return settings.seVolume = this.interpreter.numberValueOf(this.params.numberValue);
      case 17:
        return settings.bgmEnabled = this.interpreter.booleanValueOf(this.params.switchValue);
      case 18:
        return settings.voiceEnabled = this.interpreter.booleanValueOf(this.params.switchValue);
      case 19:
        return settings.seEnabled = this.interpreter.booleanValueOf(this.params.switchValue);
    }
  };


  /**
  * @method commandGetObjectData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandGetObjectData = function() {
    var area, field, object, ref, ref1;
    switch (this.params.objectType) {
      case 0:
        object = SceneManager.scene.pictures[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 1:
        object = SceneManager.scene.backgrounds[this.interpreter.numberValueOf(this.params.layer)];
        break;
      case 2:
        object = SceneManager.scene.texts[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 3:
        object = SceneManager.scene.videos[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 4:
        object = SceneManager.scene.characters.first((function(_this) {
          return function(v) {
            return v.rid === _this.params.characterId;
          };
        })(this));
        break;
      case 5:
        object = gs.ObjectManager.current.objectById("messageBox");
        break;
      case 6:
        area = SceneManager.scene.messageAreas[this.interpreter.numberValueOf(this.params.number)];
        object = area != null ? area.layout : void 0;
        break;
      case 7:
        object = SceneManager.scene.hotspots[this.interpreter.numberValueOf(this.params.number)];
    }
    if (object != null) {
      field = this.params.field;
      if (this.params.objectType === 4) {
        switch (this.params.field) {
          case 0:
            this.interpreter.setNumberValueTo(this.params.targetVariable, ((ref = RecordManager.characters[this.params.characterId]) != null ? ref.index : void 0) || 0);
            break;
          case 1:
            this.interpreter.setStringValueTo(this.params.targetVariable, ((ref1 = RecordManager.characters[this.params.characterId]) != null ? ref1.name : void 0) || "");
        }
        field -= 2;
      }
      if (field >= 0) {
        switch (field) {
          case 0:
            switch (this.params.objectType) {
              case 2:
                return this.interpreter.setStringValueTo(this.params.targetVariable, object.text || "");
              case 3:
                return this.interpreter.setStringValueTo(this.params.targetVariable, object.video || "");
              default:
                return this.interpreter.setStringValueTo(this.params.targetVariable, object.image || "");
            }
            break;
          case 1:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.dstRect.x);
          case 2:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.dstRect.y);
          case 3:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(object.anchor.x * 100));
          case 4:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(object.anchor.y * 100));
          case 5:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(object.zoom.x * 100));
          case 6:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, Math.round(object.zoom.y * 100));
          case 7:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.dstRect.width);
          case 8:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.dstRect.height);
          case 9:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.zIndex);
          case 10:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.opacity);
          case 11:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.angle);
          case 12:
            return this.interpreter.setBooleanValueTo(this.params.targetVariable, object.visible);
          case 13:
            return this.interpreter.setNumberValueTo(this.params.targetVariable, object.blendMode);
          case 14:
            return this.interpreter.setBooleanValueTo(this.params.targetVariable, object.mirror);
        }
      }
    }
  };


  /**
  * @method commandSetObjectData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandSetObjectData = function() {
    var area, field, object, ref;
    switch (this.params.objectType) {
      case 0:
        object = SceneManager.scene.pictures[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 1:
        object = SceneManager.scene.backgrounds[this.interpreter.numberValueOf(this.params.layer)];
        break;
      case 2:
        object = SceneManager.scene.texts[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 3:
        object = SceneManager.scene.videos[this.interpreter.numberValueOf(this.params.number)];
        break;
      case 4:
        object = SceneManager.scene.characters.first((function(_this) {
          return function(v) {
            return v.rid === _this.params.characterId;
          };
        })(this));
        break;
      case 5:
        object = gs.ObjectManager.current.objectById("messageBox");
        break;
      case 6:
        area = SceneManager.scene.messageAreas[this.interpreter.numberValueOf(this.params.number)];
        object = area != null ? area.layout : void 0;
        break;
      case 7:
        object = SceneManager.scene.hotspots[this.interpreter.numberValueOf(this.params.number)];
    }
    if (object != null) {
      field = this.params.field;
      if (this.params.objectType === 4) {
        switch (field) {
          case 0:
            object.name = this.interpreter.stringValueOf(this.params.textValue);
            if ((ref = RecordManager.characters[object.rid]) != null) {
              ref.name = object.name;
            }
        }
        field--;
      }
      if (field >= 0) {
        switch (field) {
          case 0:
            switch (this.params.objectType) {
              case 2:
                return object.text = this.interpreter.stringValueOf(this.params.textValue);
              case 3:
                return object.video = this.interpreter.stringValueOf(this.params.textValue);
              default:
                return object.image = this.interpreter.stringValueOf(this.params.textValue);
            }
            break;
          case 1:
            return object.dstRect.x = this.interpreter.numberValueOf(this.params.numberValue);
          case 2:
            return object.dstRect.y = this.interpreter.numberValueOf(this.params.numberValue);
          case 3:
            return object.anchor.x = this.interpreter.numberValueOf(this.params.numberValue) / 100;
          case 4:
            return object.anchor.y = this.interpreter.numberValueOf(this.params.numberValue) / 100;
          case 5:
            return object.zoom.x = this.interpreter.numberValueOf(this.params.numberValue) / 100;
          case 6:
            return object.zoom.y = this.interpreter.numberValueOf(this.params.numberValue) / 100;
          case 7:
            return object.zIndex = this.interpreter.numberValueOf(this.params.numberValue);
          case 8:
            return object.opacity = this.interpreter.numberValueOf(this.params.numberValue);
          case 9:
            return object.angle = this.interpreter.numberValueOf(this.params.numberValue);
          case 10:
            return object.visible = this.interpreter.booleanValueOf(this.params.switchValue);
          case 11:
            return object.blendMode = this.interpreter.numberValueOf(this.params.numberValue);
          case 12:
            return object.mirror = this.interpreter.booleanValueOf(this.params.switchValue);
        }
      }
    }
  };


  /**
  * @method commandChangeSounds
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeSounds = function() {
    var fieldFlags, i, k, len, ref, results, sound, sounds;
    sounds = RecordManager.system.sounds;
    fieldFlags = this.params.fieldFlags || {};
    ref = this.params.sounds;
    results = [];
    for (i = k = 0, len = ref.length; k < len; i = ++k) {
      sound = ref[i];
      if (!gs.CommandFieldFlags.isLocked(fieldFlags["sounds." + i])) {
        results.push(sounds[i] = this.params.sounds[i]);
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * @method commandChangeColors
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeColors = function() {
    var color, colors, fieldFlags, i, k, len, ref, results;
    colors = RecordManager.system.colors;
    fieldFlags = this.params.fieldFlags || {};
    ref = this.params.colors;
    results = [];
    for (i = k = 0, len = ref.length; k < len; i = ++k) {
      color = ref[i];
      if (!gs.CommandFieldFlags.isLocked(fieldFlags["colors." + i])) {
        results.push(colors[i] = new gs.Color(this.params.colors[i]));
      } else {
        results.push(void 0);
      }
    }
    return results;
  };


  /**
  * @method commandChangeScreenCursor
  * @protected
   */

  Component_CommandInterpreter.prototype.commandChangeScreenCursor = function() {
    var bitmap, ref;
    if (((ref = this.params.graphic) != null ? ref.name : void 0) != null) {
      bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + this.params.graphic.name);
      return Graphics.setCursorBitmap(bitmap, this.params.hx, this.params.hy);
    } else {
      return Graphics.setCursorBitmap(null, 0, 0);
    }
  };


  /**
  * @method commandResetGlobalData
  * @protected
   */

  Component_CommandInterpreter.prototype.commandResetGlobalData = function() {
    return GameManager.resetGlobalData();
  };


  /**
  * @method commandScript
  * @protected
   */

  Component_CommandInterpreter.prototype.commandScript = function() {
    var ex;
    this.interpreter.commandTintPicture;
    try {
      if (!this.params.scriptFunc) {
        this.params.scriptFunc = eval("(function(){" + this.params.script + "})");
      }
      return this.params.scriptFunc();
    } catch (error) {
      ex = error;
      return console.log(ex);
    }
  };

  return Component_CommandInterpreter;

})(gs.Component);

window.CommandInterpreter = Component_CommandInterpreter;

gs.Component_CommandInterpreter = Component_CommandInterpreter;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUEsaUVBQUE7RUFBQTs7O0FBQU07O0FBQ0Y7Ozs7Ozs7RUFPYSx5QkFBQTs7QUFDVDs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsZ0JBQUQsR0FBb0I7RUF0Qlg7Ozs7OztBQXdCakIsRUFBRSxDQUFDLGVBQUgsR0FBcUI7O0FBRWY7RUFDRixrQkFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsT0FBRDs7O0FBQ3hCOzs7Ozs7Ozs7Ozs7RUFXYSw0QkFBQyxFQUFELEVBQUssS0FBTDs7QUFDVDs7Ozs7SUFLQSxJQUFDLENBQUEsRUFBRCxHQUFNOztBQUVOOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7RUFiQTs7O0FBZWI7Ozs7Ozs7K0JBTUEsR0FBQSxHQUFLLFNBQUMsRUFBRCxFQUFLLEtBQUw7SUFDRCxJQUFDLENBQUEsRUFBRCxHQUFNO1dBQ04sSUFBQyxDQUFBLEtBQUQsR0FBUztFQUZSOzs7Ozs7QUFJVCxFQUFFLENBQUMsa0JBQUgsR0FBd0I7O0FBRWxCOzs7RUFDRiw0QkFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsVUFBRCxFQUFhLFFBQWIsRUFBdUIsU0FBdkIsRUFBa0MscUJBQWxDLEVBQXlELHVCQUF6RCxFQUFrRixvQkFBbEY7OztBQUV4Qjs7Ozs7Ozs7O3lDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVAsR0FBQTs7O0FBR3JCOzs7Ozs7Ozs7Ozs7O0VBWWEsc0NBQUE7SUFDVCw0REFBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7OztJQU1BLElBQUMsQ0FBQSxVQUFELEdBQWM7O0FBRWQ7Ozs7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PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY2xhc3MgTGl2ZVByZXZpZXdJbmZvXG4gICAgIyMjKlxuICAgICogU3RvcmVzIGludGVybmFsIHByZXZpZXctaW5mbyBpZiB0aGUgZ2FtZSBydW5zIGN1cnJlbnRseSBpbiBMaXZlLVByZXZpZXcuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIExpdmVQcmV2aWV3SW5mb1xuICAgICogQG1lbWJlcm9mIGdzXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaW1lciBJRCBpZiBhIHRpbWVvdXQgZm9yIGxpdmUtcHJldmlldyB3YXMgY29uZmlndXJlZCB0byBleGl0IHRoZSBnYW1lIGxvb3AgYWZ0ZXIgYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0aW1lb3V0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAdGltZW91dCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgTGl2ZS1QcmV2aWV3IGlzIGN1cnJlbnRseSB3YWl0aW5nIGZvciB0aGUgbmV4dCB1c2VyLWFjdGlvbi4gKFNlbGVjdGluZyBhbm90aGVyIGNvbW1hbmQsIGV0Yy4pXG4gICAgICAgICogQHByb3BlcnR5IHdhaXRpbmdcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAd2FpdGluZyA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ291bnRzIHRoZSBhbW91bnQgb2YgZXhlY3V0ZWQgY29tbWFuZHMgc2luY2UgdGhlIGxhc3QgXG4gICAgICAgICogaW50ZXJwcmV0ZXItcGF1c2Uod2FpdGluZywgZXRjLikuIElmIGl0cyBtb3JlIHRoYW4gNTAwLCB0aGUgaW50ZXJwcmV0ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IHBhdXNlIGZvciAxIGZyYW1lIHRvIFxuICAgICAgICAqIGF2b2lkIHRoYXQgTGl2ZS1QcmV2aWV3IGZyZWV6ZXMgdGhlIEVkaXRvciBpbiBjYXNlIG9mIGVuZGxlc3MgbG9vcHMuXG4gICAgICAgICogQHByb3BlcnR5IGV4ZWN1dGVkQ29tbWFuZHNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBleGVjdXRlZENvbW1hbmRzID0gMFxuICAgICAgICBcbmdzLkxpdmVQcmV2aWV3SW5mbyA9IExpdmVQcmV2aWV3SW5mb1xuICAgICAgICBcbmNsYXNzIEludGVycHJldGVyQ29udGV4dFxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcIm93bmVyXCJdXG4gICAgIyMjKlxuICAgICogRGVzY3JpYmVzIGFuIGludGVycHJldGVyLWNvbnRleHQgd2hpY2ggaG9sZHMgaW5mb3JtYXRpb24gYWJvdXRcbiAgICAqIHRoZSBpbnRlcnByZXRlcidzIG93bmVyIGFuZCBhbHNvIHVuaXF1ZSBJRCB1c2VkIGZvciBhY2Nlc3NpbmcgY29ycmVjdFxuICAgICogbG9jYWwgdmFyaWFibGVzLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBJbnRlcnByZXRlckNvbnRleHRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBpZCAtIEEgdW5pcXVlIElEXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb3duZXIgLSBUaGUgb3duZXIgb2YgdGhlIGludGVycHJldGVyXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChpZCwgb3duZXIpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBBIHVuaXF1ZSBudW1lcmljIG9yIHRleHR1YWwgSUQgdXNlZCBmb3IgYWNjZXNzaW5nIGNvcnJlY3QgbG9jYWwgdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAgICAqIEB0eXBlIG51bWJlcnxzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBpZCA9IGlkXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG93bmVyIG9mIHRoZSBpbnRlcnByZXRlciAoZS5nLiBjdXJyZW50IHNjZW5lLCBldGMuKS5cbiAgICAgICAgKiBAcHJvcGVydHkgb3duZXJcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBvd25lciA9IG93bmVyXG4gICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgY29udGV4dCdzIGRhdGEuXG4gICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGlkIC0gQSB1bmlxdWUgSURcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvd25lciAtIFRoZSBvd25lciBvZiB0aGUgaW50ZXJwcmV0ZXJcbiAgICAqIEBtZXRob2Qgc2V0XG4gICAgIyMjICAgIFxuICAgIHNldDogKGlkLCBvd25lcikgLT5cbiAgICAgICAgQGlkID0gaWRcbiAgICAgICAgQG93bmVyID0gb3duZXJcbiAgICAgICAgXG5ncy5JbnRlcnByZXRlckNvbnRleHQgPSBJbnRlcnByZXRlckNvbnRleHRcblxuY2xhc3MgQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlciBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcInNldHRpbmdzXCIsIFwib2JqZWN0XCIsIFwiY29tbWFuZFwiLCBcIm9uTWVzc2FnZUFEVldhaXRpbmdcIiwgXCJvbk1lc3NhZ2VBRFZEaXNhcHBlYXJcIiwgXCJvbk1lc3NhZ2VBRFZGaW5pc2hcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGNvbXBvbmVudCB3aGljaCBhbGxvd3MgYSBnYW1lIG9iamVjdCB0byBwcm9jZXNzIGNvbW1hbmRzIGxpa2UgZm9yXG4gICAgKiBzY2VuZS1vYmplY3RzLiBGb3IgZWFjaCBjb21tYW5kIGEgY29tbWFuZC1mdW5jdGlvbiBleGlzdHMuIFRvIGFkZFxuICAgICogb3duIGN1c3RvbSBjb21tYW5kcyB0byB0aGUgaW50ZXJwcmV0ZXIganVzdCBjcmVhdGUgYSBzdWItY2xhc3MgYW5kXG4gICAgKiBvdmVycmlkZSB0aGUgZ3MuQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlci5hc3NpZ25Db21tYW5kIG1ldGhvZFxuICAgICogYW5kIGFzc2lnbiB0aGUgY29tbWFuZC1mdW5jdGlvbiBmb3IgeW91ciBjdXN0b20tY29tbWFuZC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKCkgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFdhaXQtQ291bnRlciBpbiBmcmFtZXMuIElmIGdyZWF0ZXIgdGhhbiAwLCB0aGUgaW50ZXJwcmV0ZXIgd2lsbCBmb3IgdGhhdCBhbW91bnQgb2YgZnJhbWVzIGJlZm9yZSBjb250aW51ZS5cbiAgICAgICAgKiBAcHJvcGVydHkgd2FpdENvdW50ZXJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0Q291bnRlciA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRleCB0byB0aGUgbmV4dCBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gICAgICAgICogQHByb3BlcnR5IHBvaW50ZXJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBwb2ludGVyID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBzdGF0ZXMgb2YgY29uZGl0aW9ucy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29uZGl0aW9uc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb25kaXRpb25zID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgc3RhdGVzIG9mIGxvb3BzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBsb29wc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBsb29wcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIEZJWE1FOiBTaG91bGQgbm90IGJlIHN0b3JlZCBpbiB0aGUgaW50ZXJwcmV0ZXIuXG4gICAgICAgIEB0aW1lcnMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgaW50ZXJwcmV0ZXIgaXMgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICAgICogQHByb3BlcnR5IGlzUnVubmluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgaW50ZXJwcmV0ZXIgaXMgY3VycmVudGx5IHdhaXRpbmcuXG4gICAgICAgICogQHByb3BlcnR5IGlzV2FpdGluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgaW50ZXJwcmV0ZXIgaXMgY3VycmVudGx5IHdhaXRpbmcgdW50aWwgYSBtZXNzYWdlIHByb2Nlc3NlZCBieSBhbm90aGVyIGNvbnRleHQgbGlrZSBhIENvbW1vbiBFdmVudFxuICAgICAgICAqIGlzIGZpbmlzaGVkLlxuICAgICAgICAqIEZJWE1FOiBDb25mbGljdCBoYW5kbGluZyBjYW4gYmUgcmVtb3ZlZCBtYXliZS4gXG4gICAgICAgICogQHByb3BlcnR5IGlzV2FpdGluZ0Zvck1lc3NhZ2VcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAaXNXYWl0aW5nRm9yTWVzc2FnZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGludGVybmFsIHByZXZpZXctaW5mbyBpZiB0aGUgZ2FtZSBydW5zIGN1cnJlbnRseSBpbiBMaXZlLVByZXZpZXcuXG4gICAgICAgICogPHVsPlxuICAgICAgICAqIDxsaT5wcmV2aWV3SW5mby50aW1lb3V0IC0gVGltZXIgSUQgaWYgYSB0aW1lb3V0IGZvciBsaXZlLXByZXZpZXcgd2FzIGNvbmZpZ3VyZWQgdG8gZXhpdCB0aGUgZ2FtZSBsb29wIGFmdGVyIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZS48L2xpPlxuICAgICAgICAqIDxsaT5wcmV2aWV3SW5mby53YWl0aW5nIC0gSW5kaWNhdGVzIGlmIExpdmUtUHJldmlldyBpcyBjdXJyZW50bHkgd2FpdGluZyBmb3IgdGhlIG5leHQgdXNlci1hY3Rpb24uIChTZWxlY3RpbmcgYW5vdGhlciBjb21tYW5kLCBldGMuKTwvbGk+XG4gICAgICAgICogPGxpPnByZXZpZXdJbmZvLmV4ZWN1dGVkQ29tbWFuZHMgLSBDb3VudHMgdGhlIGFtb3VudCBvZiBleGVjdXRlZCBjb21tYW5kcyBzaW5jZSB0aGUgbGFzdCBcbiAgICAgICAgKiBpbnRlcnByZXRlci1wYXVzZSh3YWl0aW5nLCBldGMuKS4gSWYgaXRzIG1vcmUgdGhhbiA1MDAsIHRoZSBpbnRlcnByZXRlciB3aWxsIGF1dG9tYXRpY2FsbHkgcGF1c2UgZm9yIDEgZnJhbWUgdG8gXG4gICAgICAgICogYXZvaWQgdGhhdCBMaXZlLVByZXZpZXcgZnJlZXplcyB0aGUgRWRpdG9yIGluIGNhc2Ugb2YgZW5kbGVzcyBsb29wcy48L2xpPlxuICAgICAgICAqIDwvdWw+XG4gICAgICAgICogQHByb3BlcnR5IHByZXZpZXdJbmZvXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBwcmV2aWV3SW5mbyA9IG5ldyBncy5MaXZlUHJldmlld0luZm8oKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBMaXZlLVByZXZpZXcgcmVsYXRlZCBpbmZvIHBhc3NlZCBmcm9tIHRoZSBWTiBNYWtlciBlZGl0b3IgbGlrZSB0aGUgY29tbWFuZC1pbmRleCB0aGUgcGxheWVyIGNsaWNrZWQgb24sIGV0Yy5cbiAgICAgICAgKiBAcHJvcGVydHkgcHJldmlld0RhdGFcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAcHJldmlld0RhdGEgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBpbnRlcnByZXRlciBhdXRvbWF0aWNhbGx5IHJlcGVhdHMgZXhlY3V0aW9uIGFmdGVyIHRoZSBsYXN0IGNvbW1hbmQgd2FzIGV4ZWN1dGVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXBlYXRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAcmVwZWF0ID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZXhlY3V0aW9uIGNvbnRleHQgb2YgdGhlIGludGVycHJldGVyLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb250ZXh0XG4gICAgICAgICogQHR5cGUgZ3MuSW50ZXJwcmV0ZXJDb250ZXh0XG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbnRleHQgPSBuZXcgZ3MuSW50ZXJwcmV0ZXJDb250ZXh0KDAsIG51bGwpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3ViLUludGVycHJldGVyIGZyb20gYSBDb21tb24gRXZlbnQgQ2FsbC4gVGhlIGludGVycHJldGVyIHdpbGwgd2FpdCB1bnRpbCB0aGUgc3ViLWludGVycHJldGVyIGlzIGRvbmUgYW5kIHNldCBiYWNrIHRvXG4gICAgICAgICogPGI+bnVsbDwvYj4uXG4gICAgICAgICogQHByb3BlcnR5IHN1YkludGVycHJldGVyXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBzdWJJbnRlcnByZXRlciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDdXJyZW50IGluZGVudC1sZXZlbCBvZiBleGVjdXRpb25cbiAgICAgICAgKiBAcHJvcGVydHkgaW5kZW50XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGluZGVudCA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgZm9yIHdoYXQgdGhlIGludGVycHJldGVyIGlzIGN1cnJlbnRseSB3YWl0aW5nIGZvciBsaWtlIGZvciBhIEFEViBtZXNzYWdlLCBldGMuIHRvXG4gICAgICAgICogcmVzdG9yZSBwcm9iYWJseSB3aGVuIGxvYWRlZCBmcm9tIGEgc2F2ZS1nYW1lLlxuICAgICAgICAqIEBwcm9wZXJ0eSB3YWl0aW5nRm9yXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHdhaXRpbmdGb3IgPSB7fVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBpbnRlcnByZXRlciByZWxhdGVkIHNldHRpbmdzIGxpa2UgaG93IHRvIGhhbmRsZSBtZXNzYWdlcywgZXRjLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzZXR0aW5nc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBzZXR0aW5ncyA9IHsgbWVzc2FnZTogeyBieUlkOiB7fSwgYXV0b0VyYXNlOiB5ZXMsIHdhaXRBdEVuZDogeWVzLCBiYWNrbG9nOiB5ZXMgfSwgc2NyZWVuOiB7IHBhbjogbmV3IGdzLlBvaW50KDAsIDApIH0gfVxuICAgICAgIFxuICAgICAgIFxuICAgICAgICBAb25NZXNzYWdlQURWV2FpdGluZyA9IChlKSA9PlxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdCA9IGUuc2VuZGVyLm9iamVjdFxuICAgICAgICAgICAgaWYgIUBtZXNzYWdlU2V0dGluZ3MoKS53YWl0QXRFbmRcbiAgICAgICAgICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QudGV4dFJlbmRlcmVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdC50ZXh0UmVuZGVyZXIuaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QuZXZlbnRzLm9mZiBcIndhaXRpbmdcIiwgZS5oYW5kbGVyXG4gICAgICAgICAgICBpZiBAbWVzc2FnZVNldHRpbmdzKCkuYmFja2xvZ1xuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmJhY2tsb2cucHVzaCh7IGNoYXJhY3RlcjogbWVzc2FnZU9iamVjdC5jaGFyYWN0ZXIsIG1lc3NhZ2U6IG1lc3NhZ2VPYmplY3QuYmVoYXZpb3IubWVzc2FnZSwgY2hvaWNlczogW10gfSkgXG4gICAgICAgICAgICBcbiAgICAgICAgQG9uTWVzc2FnZUFEVkRpc2FwcGVhciA9IChtZXNzYWdlT2JqZWN0LCB3YWl0Rm9yQ29tcGxldGlvbikgPT5cbiAgICAgICAgICAgICNAd2FpdGluZ0Zvci5tZXNzYWdlQURWLmZhZGluZ0luUHJvZ3Jlc3MgPSBub1xuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLmN1cnJlbnRDaGFyYWN0ZXIgPSB7IG5hbWU6IFwiXCIgfVxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5iZWhhdmlvci5jbGVhcigpXG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0LnZpc2libGUgPSBub1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiB3YWl0Rm9yQ29tcGxldGlvbiAgICBcbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgIEB3YWl0aW5nRm9yLm1lc3NhZ2VBRFYgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ2FsbGVkIHdoZW4gYSBBRFYgbWVzc2FnZSBmaW5pc2hlcy4gXG4gICAgICAgICpcbiAgICAgICAgKiBAbWV0aG9kIG9uTWVzc2FnZU5WTEZpbmlzaFxuICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgT2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBkYXRhLlxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjICBcbiAgICAgICAgQG9uTWVzc2FnZUFEVkZpbmlzaCA9IChlKSA9PlxuICAgICAgICAgICAgaWYgbm90IEBtZXNzYWdlU2V0dGluZ3MoKS53YWl0QXRFbmQgdGhlbiByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdCA9IGUuc2VuZGVyLm9iamVjdCAjQHRhcmdldE1lc3NhZ2UoKSBcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdsb2JhbERhdGEubWVzc2FnZXNbbGNzbShlLmRhdGEucGFyYW1zLm1lc3NhZ2UpXSA9IHsgcmVhZDogeWVzIH1cbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnNhdmVHbG9iYWxEYXRhKClcbiAgICAgICAgICAgIGlmIGUuZGF0YS5wYXJhbXMud2FpdEZvckNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgIEB3YWl0aW5nRm9yLm1lc3NhZ2VBRFYgPSBudWxsXG4gICAgICAgICAgICBwb2ludGVyID0gQHBvaW50ZXJcbiAgICAgICAgICAgIGNvbW1hbmRzID0gQG9iamVjdC5jb21tYW5kc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAjbWVzc2FnZU9iamVjdC5iZWhhdmlvci5maW5pc2goKVxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5ldmVudHMub2ZmIFwiZmluaXNoXCIsIGUuaGFuZGxlclxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0LmNoYXJhY3RlciA9IG51bGxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgbWVzc2FnZU9iamVjdC52b2ljZT8gYW5kIEdhbWVNYW5hZ2VyLnNldHRpbmdzLnNraXBWb2ljZU9uQWN0aW9uXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BTb3VuZChtZXNzYWdlT2JqZWN0LnZvaWNlLm5hbWUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIG5vdCBAaXNNZXNzYWdlQ29tbWFuZChwb2ludGVyLCBjb21tYW5kcykgYW5kIEBtZXNzYWdlU2V0dGluZ3MoKS5hdXRvRXJhc2VcbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICAgICAgQHdhaXRpbmdGb3IubWVzc2FnZUFEViA9IGUuZGF0YS5wYXJhbXNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZhZGluZyA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5tZXNzYWdlRmFkaW5nXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSBpZiBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcCB0aGVuIDAgZWxzZSBmYWRpbmcuZHVyYXRpb25cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0LndhaXRGb3JDb21wbGV0aW9uID0gZS5kYXRhLnBhcmFtcy53YWl0Rm9yQ29tcGxldGlvblxuICAgICAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QuYW5pbWF0b3IuZGlzYXBwZWFyKGZhZGluZy5hbmltYXRpb24sIGZhZGluZy5lYXNpbmcsIGR1cmF0aW9uLCBncy5DYWxsQmFjayhcIm9uTWVzc2FnZUFEVkRpc2FwcGVhclwiLCB0aGlzLCBlLmRhdGEucGFyYW1zLndhaXRGb3JDb21wbGV0aW9uKSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAjbWVzc2FnZU9iamVjdC5iZWhhdmlvci5lcmFzZSgpXG4gICAgICAgICAgICAgICAgI0B3YWl0aW5nRm9yLm1lc3NhZ2VBRFYgPSBlLmRhdGEucGFyYW1zXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgaW50ZXJwcmV0ZXIgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGlmIEBpc0lucHV0RGF0YUNvbW1hbmQoTWF0aC5tYXgoQHBvaW50ZXIgLSAxLCAwKSwgQG9iamVjdC5jb21tYW5kcykgXG4gICAgICAgICAgICBwb2ludGVyOiBNYXRoLm1heChAcG9pbnRlciAtIDEgLCAwKSxcbiAgICAgICAgICAgIGNob2ljZTogQGNob2ljZSwgXG4gICAgICAgICAgICBjb25kaXRpb25zOiBAY29uZGl0aW9ucywgXG4gICAgICAgICAgICBsb29wczogQGxvb3BzLFxuICAgICAgICAgICAgbGFiZWxzOiBAbGFiZWxzLFxuICAgICAgICAgICAgaXNXYWl0aW5nOiBubyxcbiAgICAgICAgICAgIGlzUnVubmluZzogQGlzUnVubmluZyxcbiAgICAgICAgICAgIHdhaXRDb3VudGVyOiBAd2FpdENvdW50ZXIsXG4gICAgICAgICAgICB3YWl0aW5nRm9yOiBAd2FpdGluZ0ZvcixcbiAgICAgICAgICAgIGluZGVudDogQGluZGVudCxcbiAgICAgICAgICAgIHNldHRpbmdzOiBAc2V0dGluZ3NcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcG9pbnRlcjogQHBvaW50ZXIsXG4gICAgICAgICAgICBjaG9pY2U6IEBjaG9pY2UsIFxuICAgICAgICAgICAgY29uZGl0aW9uczogQGNvbmRpdGlvbnMsIFxuICAgICAgICAgICAgbG9vcHM6IEBsb29wcyxcbiAgICAgICAgICAgIGxhYmVsczogQGxhYmVscyxcbiAgICAgICAgICAgIGlzV2FpdGluZzogQGlzV2FpdGluZyxcbiAgICAgICAgICAgIGlzUnVubmluZzogQGlzUnVubmluZyxcbiAgICAgICAgICAgIHdhaXRDb3VudGVyOiBAd2FpdENvdW50ZXIsXG4gICAgICAgICAgICB3YWl0aW5nRm9yOiBAd2FpdGluZ0ZvcixcbiAgICAgICAgICAgIGluZGVudDogQGluZGVudCxcbiAgICAgICAgICAgIHNldHRpbmdzOiBAc2V0dGluZ3NcbiAgICBcbiAgICAjIyMqXG4gICAgIyBQcmV2aWV3cyB0aGUgY3VycmVudCBzY2VuZSBhdCB0aGUgc3BlY2lmaWVkIHBvaW50ZXIuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBmcm9tIHRoZVxuICAgICMgVk4gTWFrZXIgU2NlbmUtRWRpdG9yIGlmIGxpdmUtcHJldmlldyBpcyBlbmFibGVkIGFuZCB0aGUgdXNlciBjbGlja2VkIG9uIGEgY29tbWFuZC5cbiAgICAjXG4gICAgIyBAbWV0aG9kIHByZXZpZXdcbiAgICAjIyNcbiAgICBwcmV2aWV3OiAtPlxuICAgICAgICBHYW1lTWFuYWdlci50ZW1wRmllbGRzLmNob2ljZXMgPSBbXVxuICAgICAgICBHYW1lTWFuYWdlci5zZXR1cEN1cnNvcigpXG4gICAgICAgIEBwcmV2aWV3RGF0YSA9ICRQQVJBTVMucHJldmlld1xuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcInByZXZpZXdSZXN0YXJ0XCIpXG4gICAgICAgIGlmIEBwcmV2aWV3SW5mby50aW1lb3V0XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoQHByZXZpZXdJbmZvLnRpbWVvdXQpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgR3JhcGhpY3Muc3RvcHBlZFxuICAgICAgICAgICAgR3JhcGhpY3Muc3RvcHBlZCA9IG5vXG4gICAgICAgICAgICBHcmFwaGljcy5vbkVhY2hGcmFtZShncy5NYWluLmZyYW1lQ2FsbGJhY2spXG4gICAgICAgXG4gICAgICAgIHNjZW5lID0gbmV3IHZuLk9iamVjdF9TY2VuZSgpIFxuICAgIFxuICAgICAgICBzY2VuZS5zY2VuZURhdGEudWlkID0gQHByZXZpZXdEYXRhLnNjZW5lLnVpZCAgICBcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKHNjZW5lKVxuICAgIFxuICAgICMjIypcbiAgICAjIFNldHMgdXAgdGhlIGludGVycHJldGVyLlxuICAgICNcbiAgICAjIEBtZXRob2Qgc2V0dXBcbiAgICAjIyMgICAgXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBwcmV2aWV3RGF0YSA9ICRQQVJBTVMucHJldmlld1xuICAgICAgICBpZiBAcHJldmlld0RhdGFcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm1vdXNlRG93blwiLCAoPT5cbiAgICAgICAgICAgICAgICBpZiBAcHJldmlld0luZm8ud2FpdGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiBAcHJldmlld0luZm8udGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KEBwcmV2aWV3SW5mby50aW1lb3V0KVxuICAgICAgICAgICAgICAgICAgICBAcHJldmlld0luZm8ud2FpdGluZyA9IG5vXG4gICAgICAgICAgICAgICAgICAgICNAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgPSBub1xuICAgICAgICAgICAgICAgICAgICBAcHJldmlld0RhdGEgPSBudWxsXG4gICAgICAgICAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwicHJldmlld1Jlc3RhcnRcIilcbiAgICAgICAgICAgICAgICApLCBudWxsLCBAb2JqZWN0XG4gICAgIFxuICAgICMjIypcbiAgICAjIERpc3Bvc2VzIHRoZSBpbnRlcnByZXRlci5cbiAgICAjXG4gICAgIyBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyMgICAgICAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgaWYgQHByZXZpZXdEYXRhXG4gICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlRG93blwiLCBAb2JqZWN0KVxuICAgICAgICAgXG4gICAgICAgICAgIFxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyB0aGUgaW50ZXJwcmV0ZXIgZnJvbSBhIGRhdGEtYnVuZGxlXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYnVuZGxlLSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgICBcbiAgICByZXN0b3JlOiAtPlxuICAgICMgICAgT2JqZWN0Lm1peGluKHRoaXMsIGJ1bmRsZSlcbiAgICAgICAgXG4gICAgICAgIyBpZiBAd2FpdGluZ0Zvci5tZXNzYWdlTlZMXG4gICAgIyAgICAgICAgQG1lc3NhZ2VPYmplY3ROVkwoKS5ldmVudHMub24gXCJmaW5pc2hcIiwgKChlKSA9PiBAb25NZXNzYWdlTlZMRmluaXNoKGUpKSwgcGFyYW1zOiBAd2FpdGluZ0Zvci5tZXNzYWdlTlZMXG4gICAgIyAgICBpZiBAd2FpdGluZ0Zvci5tZXNzYWdlQURWXG4gICAgICMgICAgICAgQG1lc3NhZ2VPYmplY3RBRFYoKS5ldmVudHMub24gXCJmaW5pc2hcIiwgKChlKSA9PiBAb25NZXNzYWdlQURWRmluaXNoKGUpKSwgcGFyYW1zOiBAd2FpdGluZ0Zvci5tZXNzYWdlQURWXG4gICAgICAgICAgICAjaWYgQHdhaXRpbmdGb3IubWVzc2FnZUFEVi5mYWRpbmdJblByb2dyZXNzXG4gICAgICAgICAgICAjICAgIEBvbk1lc3NhZ2VBRFZEaXNhcHBlYXIoQHRhcmdldE1lc3NhZ2UoKSwgQHdhaXRpbmdGb3IubWVzc2FnZUFEVi53YWl0Rm9yQ29tcGxldGlvbilcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgdGhlIGdhbWUgbWVzc2FnZSBmb3Igbm92ZWwtbW9kZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1lc3NhZ2VPYmplY3ROVkxcbiAgICAqIEByZXR1cm4ge3VpLk9iamVjdF9NZXNzYWdlfSBUaGUgTlZMIGdhbWUgbWVzc2FnZSBvYmplY3QuXG4gICAgIyMjICAgICAgICAgICBcbiAgICBtZXNzYWdlT2JqZWN0TlZMOiAtPiBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcImdhbWVNZXNzYWdlTlZMX21lc3NhZ2VcIilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBnYW1lIG1lc3NhZ2UgZm9yIGFkdmVudHVyZS1tb2RlLlxuICAgICpcbiAgICAqIEBtZXRob2QgbWVzc2FnZU9iamVjdEFEVlxuICAgICogQHJldHVybiB7dWkuT2JqZWN0X01lc3NhZ2V9IFRoZSBBRFYgZ2FtZSBtZXNzYWdlIG9iamVjdC5cbiAgICAjIyMgICAgICAgICAgIFxuICAgIG1lc3NhZ2VPYmplY3RBRFY6IC0+IFxuICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcImdhbWVNZXNzYWdlX21lc3NhZ2VcIilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgdGhlIGludGVycHJldGVyXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICMjIyAgIFxuICAgIHN0YXJ0OiAtPlxuICAgICAgICBAY29uZGl0aW9ucyA9IFtdXG4gICAgICAgIEBsb29wcyA9IFtdXG4gICAgICAgIEBpbmRlbnQgPSAwXG4gICAgICAgIEBwb2ludGVyID0gMFxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFN0b3BzIHRoZSBpbnRlcnByZXRlclxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RvcFxuICAgICMjIyAgIFxuICAgIHN0b3A6IC0+XG4gICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN1bWVzIHRoZSBpbnRlcnByZXRlclxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdW1lXG4gICAgIyMjICBcbiAgICByZXN1bWU6IC0+XG4gICAgICAgIEBpc1J1bm5pbmcgPSB5ZXMgICAgICAgIFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBpbnRlcnByZXRlciBhbmQgZXhlY3V0ZXMgYWxsIGNvbW1hbmRzIHVudGlsIHRoZSBuZXh0IHdhaXQgaXMgXG4gICAgKiB0cmlnZ2VyZWQgYnkgYSBjb21tYW5kLiBTbyBpbiB0aGUgY2FzZSBvZiBhbiBlbmRsZXNzLWxvb3AgdGhlIG1ldGhvZCB3aWxsIFxuICAgICogbmV2ZXIgcmV0dXJuLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpZiBAc3ViSW50ZXJwcmV0ZXI/XG4gICAgICAgICAgICBAc3ViSW50ZXJwcmV0ZXIudXBkYXRlKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICAgICAgR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5zZXR1cFRlbXBWYXJpYWJsZXMoQGNvbnRleHQpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKG5vdCBAb2JqZWN0LmNvbW1hbmRzPyBvciBAcG9pbnRlciA+PSBAb2JqZWN0LmNvbW1hbmRzLmxlbmd0aCkgYW5kIG5vdCBAaXNXYWl0aW5nXG4gICAgICAgICAgICBpZiBAcmVwZWF0XG4gICAgICAgICAgICAgICAgQHN0YXJ0KClcbiAgICAgICAgICAgIGVsc2UgaWYgQGlzUnVubmluZ1xuICAgICAgICAgICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICAgICAgICAgIGlmIEBvbkZpbmlzaD8gdGhlbiBAb25GaW5pc2godGhpcylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICBpZiBub3QgQGlzUnVubmluZyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgaWYgbm90IEBvYmplY3QuY29tbWFuZHMub3B0aW1pemVkXG4gICAgICAgICAgICBEYXRhT3B0aW1pemVyLm9wdGltaXplRXZlbnRDb21tYW5kcyhAb2JqZWN0LmNvbW1hbmRzKVxuXG4gICAgICAgIGlmIEB3YWl0Q291bnRlciA+IDBcbiAgICAgICAgICAgIEB3YWl0Q291bnRlci0tXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0gQHdhaXRDb3VudGVyID4gMFxuICAgICAgICAgICAgcmV0dXJuICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQGlzV2FpdGluZ0Zvck1lc3NhZ2VcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIGlmIG5vdCBAaXNQcm9jZXNzaW5nTWVzc2FnZUluT3RoZXJDb250ZXh0KClcbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nRm9yTWVzc2FnZSA9IG5vXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIEdhbWVNYW5hZ2VyLmluTGl2ZVByZXZpZXdcbiAgICAgICAgICAgIHdoaWxlIG5vdCAoQGlzV2FpdGluZyBvciBAcHJldmlld0luZm8ud2FpdGluZykgYW5kIEBwb2ludGVyIDwgQG9iamVjdC5jb21tYW5kcy5sZW5ndGggYW5kIEBpc1J1bm5pbmdcbiAgICAgICAgICAgICAgICBAZXhlY3V0ZUNvbW1hbmQoQHBvaW50ZXIpXG4gICAgICAgICAgICAgICAgQHByZXZpZXdJbmZvLmV4ZWN1dGVkQ29tbWFuZHMrK1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBwcmV2aWV3SW5mby5leGVjdXRlZENvbW1hbmRzID4gNTAwXG4gICAgICAgICAgICAgICAgICAgIEBwcmV2aWV3SW5mby5leGVjdXRlZENvbW1hbmRzID0gMFxuICAgICAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICAgICAgICAgIEB3YWl0Q291bnRlciA9IDFcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd2hpbGUgbm90IChAaXNXYWl0aW5nIG9yIEBwcmV2aWV3SW5mby53YWl0aW5nKSBhbmQgQHBvaW50ZXIgPCBAb2JqZWN0LmNvbW1hbmRzLmxlbmd0aCBhbmQgQGlzUnVubmluZ1xuICAgICAgICAgICAgICAgIEBleGVjdXRlQ29tbWFuZChAcG9pbnRlcilcbiAgICAgXG4gICAgICAgICAgXG4gICAgICAgIGlmIEBwb2ludGVyID49IEBvYmplY3QuY29tbWFuZHMubGVuZ3RoIGFuZCBub3QgQGlzV2FpdGluZ1xuICAgICAgICAgICAgaWYgQHJlcGVhdFxuICAgICAgICAgICAgICAgIEBzdGFydCgpXG4gICAgICAgICAgICBlbHNlIGlmIEBpc1J1bm5pbmdcbiAgICAgICAgICAgICAgICBAaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgICAgICBpZiBAb25GaW5pc2g/IHRoZW4gQG9uRmluaXNoKHRoaXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogQXNzaWducyB0aGUgY29ycmVjdCBjb21tYW5kLWZ1bmN0aW9uIHRvIHRoZSBzcGVjaWZpZWQgY29tbWFuZC1vYmplY3QgaWYgXG4gICAgKiBuZWNlc3NhcnkuXG4gICAgKlxuICAgICogQG1ldGhvZCBhc3NpZ25Db21tYW5kXG4gICAgIyMjICAgICAgXG4gICAgYXNzaWduQ29tbWFuZDogKGNvbW1hbmQpIC0+XG4gICAgICAgIHN3aXRjaCBjb21tYW5kLmlkXG4gICAgICAgICAgICB3aGVuIFwiZ3MuSWRsZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRJZGxlXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU3RhcnRUaW1lclwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTdGFydFRpbWVyXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU3RvcFRpbWVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFN0b3BUaW1lclxuICAgICAgICAgICAgd2hlbiBcImdzLldhaXRDb21tYW5kXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFdhaXRcbiAgICAgICAgICAgIHdoZW4gXCJncy5Mb29wQ29tbWFuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMb29wXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQnJlYWtMb29wQ29tbWFuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRCcmVha0xvb3BcbiAgICAgICAgICAgIHdoZW4gXCJncy5Db21tZW50XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSAtPiAwXG4gICAgICAgICAgICB3aGVuIFwiZ3MuRW1wdHlDb21tYW5kXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSAtPiAwXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGlzdEFkZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMaXN0QWRkXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGlzdFBvcFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMaXN0UG9wXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGlzdFNoaWZ0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZExpc3RTaGlmdFxuICAgICAgICAgICAgd2hlbiBcImdzLkxpc3RSZW1vdmVBdFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMaXN0UmVtb3ZlQXRcbiAgICAgICAgICAgIHdoZW4gXCJncy5MaXN0SW5zZXJ0QXRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTGlzdEluc2VydEF0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGlzdFZhbHVlQXRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTGlzdFZhbHVlQXRcbiAgICAgICAgICAgIHdoZW4gXCJncy5MaXN0U2h1ZmZsZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMaXN0U2h1ZmZsZVxuICAgICAgICAgICAgd2hlbiBcImdzLkxpc3RTb3J0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZExpc3RTb3J0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGlzdEluZGV4T2ZcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTGlzdEluZGV4T2ZcbiAgICAgICAgICAgIHdoZW4gXCJncy5MaXN0U2V0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZExpc3RTZXRcbiAgICAgICAgICAgIHdoZW4gXCJncy5MaXN0Q29weVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMaXN0Q29weVxuICAgICAgICAgICAgd2hlbiBcImdzLkxpc3RMZW5ndGhcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTGlzdExlbmd0aFxuICAgICAgICAgICAgd2hlbiBcImdzLkNoYW5nZU51bWJlclZhcmlhYmxlc1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFuZ2VOdW1iZXJWYXJpYWJsZXNcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGFuZ2VCb29sZWFuVmFyaWFibGVzXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZUJvb2xlYW5WYXJpYWJsZXNcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGFuZ2VTdHJpbmdWYXJpYWJsZXNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhbmdlU3RyaW5nVmFyaWFibGVzXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hlY2tTd2l0Y2hcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hlY2tTd2l0Y2hcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGVja051bWJlclZhcmlhYmxlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoZWNrTnVtYmVyVmFyaWFibGVcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGVja1RleHRWYXJpYWJsZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGVja1RleHRWYXJpYWJsZVxuICAgICAgICAgICAgd2hlbiBcImdzLkNvbmRpdGlvblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDb25kaXRpb25cbiAgICAgICAgICAgIHdoZW4gXCJncy5Db25kaXRpb25FbHNlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENvbmRpdGlvbkVsc2VcbiAgICAgICAgICAgIHdoZW4gXCJncy5Db25kaXRpb25FbHNlSWZcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ29uZGl0aW9uRWxzZUlmXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTGFiZWxcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTGFiZWxcbiAgICAgICAgICAgIHdoZW4gXCJncy5KdW1wVG9MYWJlbFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRKdW1wVG9MYWJlbFxuICAgICAgICAgICAgd2hlbiBcImdzLlNldE1lc3NhZ2VBcmVhXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNldE1lc3NhZ2VBcmVhXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2hvd01lc3NhZ2VcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hvd01lc3NhZ2VcbiAgICAgICAgICAgIHdoZW4gXCJncy5TaG93UGFydGlhbE1lc3NhZ2VcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hvd1BhcnRpYWxNZXNzYWdlXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTWVzc2FnZUZhZGluZ1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRNZXNzYWdlRmFkaW5nXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTWVzc2FnZVNldHRpbmdzXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZE1lc3NhZ2VTZXR0aW5nc1xuICAgICAgICAgICAgd2hlbiBcImdzLkNyZWF0ZU1lc3NhZ2VBcmVhXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENyZWF0ZU1lc3NhZ2VBcmVhXG4gICAgICAgICAgICB3aGVuIFwiZ3MuRXJhc2VNZXNzYWdlQXJlYVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRFcmFzZU1lc3NhZ2VBcmVhXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2V0VGFyZ2V0TWVzc2FnZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTZXRUYXJnZXRNZXNzYWdlXG4gICAgICAgICAgICB3aGVuIFwidm4uTWVzc2FnZUJveERlZmF1bHRzXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZE1lc3NhZ2VCb3hEZWZhdWx0c1xuICAgICAgICAgICAgd2hlbiBcInZuLk1lc3NhZ2VCb3hWaXNpYmlsaXR5XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZE1lc3NhZ2VCb3hWaXNpYmlsaXR5XG4gICAgICAgICAgICB3aGVuIFwidm4uTWVzc2FnZVZpc2liaWxpdHlcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTWVzc2FnZVZpc2liaWxpdHlcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5CYWNrbG9nVmlzaWJpbGl0eVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRCYWNrbG9nVmlzaWJpbGl0eVxuICAgICAgICAgICAgd2hlbiBcInZuLlNob3dNZXNzYWdlTlZMXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNob3dNZXNzYWdlTlZMXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2xlYXJNZXNzYWdlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENsZWFyTWVzc2FnZVxuICAgICAgICAgICAgd2hlbiBcInZuLkNsb3NlUGFnZU5WTFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDbG9zZVBhZ2VOVkxcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGFuZ2VXZWF0aGVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZVdlYXRoZXJcbiAgICAgICAgICAgIHdoZW4gXCJncy5GcmVlemVTY3JlZW5cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRnJlZXplU2NyZWVuXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2NyZWVuVHJhbnNpdGlvblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTY3JlZW5UcmFuc2l0aW9uXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2hha2VTY3JlZW5cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hha2VTY3JlZW5cbiAgICAgICAgICAgIHdoZW4gXCJncy5UaW50U2NyZWVuXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFRpbnRTY3JlZW5cbiAgICAgICAgICAgIHdoZW4gXCJncy5GbGFzaFNjcmVlblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRGbGFzaFNjcmVlblxuICAgICAgICAgICAgd2hlbiBcImdzLlpvb21TY3JlZW5cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kWm9vbVNjcmVlblxuICAgICAgICAgICAgd2hlbiBcImdzLlJvdGF0ZVNjcmVlblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSb3RhdGVTY3JlZW5cbiAgICAgICAgICAgIHdoZW4gXCJncy5QYW5TY3JlZW5cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kUGFuU2NyZWVuXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2NyZWVuRWZmZWN0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNjcmVlbkVmZmVjdFxuICAgICAgICAgICAgd2hlbiBcImdzLlNob3dWaWRlb1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTaG93VmlkZW9cbiAgICAgICAgICAgIHdoZW4gXCJncy5Nb3ZlVmlkZW9cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZVZpZGVvXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTW92ZVZpZGVvUGF0aFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRNb3ZlVmlkZW9QYXRoXG4gICAgICAgICAgICB3aGVuIFwiZ3MuVGludFZpZGVvXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFRpbnRWaWRlb1xuICAgICAgICAgICAgd2hlbiBcImdzLkZsYXNoVmlkZW9cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRmxhc2hWaWRlb1xuICAgICAgICAgICAgd2hlbiBcImdzLkNyb3BWaWRlb1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDcm9wVmlkZW9cbiAgICAgICAgICAgIHdoZW4gXCJncy5Sb3RhdGVWaWRlb1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSb3RhdGVWaWRlb1xuICAgICAgICAgICAgd2hlbiBcImdzLlpvb21WaWRlb1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRab29tVmlkZW9cbiAgICAgICAgICAgIHdoZW4gXCJncy5CbGVuZFZpZGVvXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEJsZW5kVmlkZW9cbiAgICAgICAgICAgIHdoZW4gXCJncy5NYXNrVmlkZW9cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTWFza1ZpZGVvXG4gICAgICAgICAgICB3aGVuIFwiZ3MuVmlkZW9Nb3Rpb25CbHVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFZpZGVvTW90aW9uQmx1clxuICAgICAgICAgICAgd2hlbiBcImdzLlZpZGVvRGVmYXVsdHNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kVmlkZW9EZWZhdWx0c1xuICAgICAgICAgICAgd2hlbiBcImdzLkVyYXNlVmlkZW9cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRXJhc2VWaWRlb1xuICAgICAgICAgICAgd2hlbiBcImdzLlNob3dJbWFnZU1hcFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTaG93SW1hZ2VNYXBcbiAgICAgICAgICAgIHdoZW4gXCJncy5FcmFzZUltYWdlTWFwXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEVyYXNlSW1hZ2VNYXBcbiAgICAgICAgICAgIHdoZW4gXCJncy5BZGRIb3RzcG90XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEFkZEhvdHNwb3RcbiAgICAgICAgICAgIHdoZW4gXCJncy5FcmFzZUhvdHNwb3RcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRXJhc2VIb3RzcG90XG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlSG90c3BvdFN0YXRlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZUhvdHNwb3RTdGF0ZVxuICAgICAgICAgICAgd2hlbiBcImdzLlNob3dQaWN0dXJlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNob3dQaWN0dXJlXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTW92ZVBpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZVBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5Nb3ZlUGljdHVyZVBhdGhcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZVBpY3R1cmVQYXRoXG4gICAgICAgICAgICB3aGVuIFwiZ3MuVGludFBpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kVGludFBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5GbGFzaFBpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRmxhc2hQaWN0dXJlXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ3JvcFBpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ3JvcFBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5Sb3RhdGVQaWN0dXJlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFJvdGF0ZVBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5ab29tUGljdHVyZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRab29tUGljdHVyZVxuICAgICAgICAgICAgd2hlbiBcImdzLkJsZW5kUGljdHVyZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRCbGVuZFBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5TaGFrZVBpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hha2VQaWN0dXJlXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTWFza1BpY3R1cmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTWFza1BpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5QaWN0dXJlRWZmZWN0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFBpY3R1cmVFZmZlY3RcbiAgICAgICAgICAgIHdoZW4gXCJncy5QaWN0dXJlTW90aW9uQmx1clwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRQaWN0dXJlTW90aW9uQmx1clxuICAgICAgICAgICAgd2hlbiBcImdzLlBpY3R1cmVEZWZhdWx0c1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRQaWN0dXJlRGVmYXVsdHNcbiAgICAgICAgICAgIHdoZW4gXCJncy5QbGF5UGljdHVyZUFuaW1hdGlvblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRQbGF5UGljdHVyZUFuaW1hdGlvblxuICAgICAgICAgICAgd2hlbiBcImdzLkVyYXNlUGljdHVyZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRFcmFzZVBpY3R1cmVcbiAgICAgICAgICAgIHdoZW4gXCJncy5JbnB1dE51bWJlclwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRJbnB1dE51bWJlclxuICAgICAgICAgICAgd2hlbiBcInZuLkNob2ljZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTaG93Q2hvaWNlXG4gICAgICAgICAgICB3aGVuIFwidm4uQ2hvaWNlVGltZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hvaWNlVGltZXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5TaG93Q2hvaWNlc1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTaG93Q2hvaWNlc1xuICAgICAgICAgICAgd2hlbiBcInZuLlVubG9ja0NHXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFVubG9ja0NHXG4gICAgICAgICAgICB3aGVuIFwidm4uTDJESm9pblNjZW5lXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEwyREpvaW5TY2VuZVxuICAgICAgICAgICAgd2hlbiBcInZuLkwyREV4aXRTY2VuZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMMkRFeGl0U2NlbmVcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5MMkRNb3Rpb25cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTDJETW90aW9uXG4gICAgICAgICAgICB3aGVuIFwidm4uTDJETW90aW9uR3JvdXBcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTDJETW90aW9uR3JvdXBcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5MMkRFeHByZXNzaW9uXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEwyREV4cHJlc3Npb25cbiAgICAgICAgICAgIHdoZW4gXCJ2bi5MMkRNb3ZlXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEwyRE1vdmVcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5MMkRQYXJhbWV0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTDJEUGFyYW1ldGVyXG4gICAgICAgICAgICB3aGVuIFwidm4uTDJERGVmYXVsdHNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTDJERGVmYXVsdHNcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5DaGFyYWN0ZXJKb2luU2NlbmVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhcmFjdGVySm9pblNjZW5lXG4gICAgICAgICAgICB3aGVuIFwidm4uQ2hhcmFjdGVyRXhpdFNjZW5lXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYXJhY3RlckV4aXRTY2VuZVxuICAgICAgICAgICAgd2hlbiBcInZuLkNoYXJhY3RlckNoYW5nZUV4cHJlc3Npb25cIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhcmFjdGVyQ2hhbmdlRXhwcmVzc2lvblxuICAgICAgICAgICAgd2hlbiBcInZuLkNoYXJhY3RlclNldFBhcmFtZXRlclwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFyYWN0ZXJTZXRQYXJhbWV0ZXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5DaGFyYWN0ZXJHZXRQYXJhbWV0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhcmFjdGVyR2V0UGFyYW1ldGVyXG4gICAgICAgICAgICB3aGVuIFwidm4uQ2hhcmFjdGVyRGVmYXVsdHNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhcmFjdGVyRGVmYXVsdHNcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5ab29tQ2hhcmFjdGVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFpvb21DaGFyYWN0ZXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5Sb3RhdGVDaGFyYWN0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kUm90YXRlQ2hhcmFjdGVyXG4gICAgICAgICAgICB3aGVuIFwidm4uQmxlbmRDaGFyYWN0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQmxlbmRDaGFyYWN0ZXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5TaGFrZUNoYXJhY3RlclwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTaGFrZUNoYXJhY3RlclxuICAgICAgICAgICAgd2hlbiBcInZuLk1hc2tDaGFyYWN0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTWFza0NoYXJhY3RlclxuICAgICAgICAgICAgd2hlbiBcInZuLk1vdmVDaGFyYWN0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZUNoYXJhY3RlclxuICAgICAgICAgICAgd2hlbiBcInZuLk1vdmVDaGFyYWN0ZXJQYXRoXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZE1vdmVDaGFyYWN0ZXJQYXRoXG4gICAgICAgICAgICB3aGVuIFwidm4uRmxhc2hDaGFyYWN0ZXJcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kRmxhc2hDaGFyYWN0ZXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5DaGFyYWN0ZXJNb3Rpb25CbHVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYXJhY3Rlck1vdGlvbkJsdXJcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5DaGFuZ2VCYWNrZ3JvdW5kXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZUJhY2tncm91bmRcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5TaGFrZUJhY2tncm91bmRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hha2VCYWNrZ3JvdW5kXG4gICAgICAgICAgICB3aGVuIFwidm4uU2Nyb2xsQmFja2dyb3VuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTY3JvbGxCYWNrZ3JvdW5kXG4gICAgICAgICAgICB3aGVuIFwidm4uU2Nyb2xsQmFja2dyb3VuZFRvXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNjcm9sbEJhY2tncm91bmRUb1xuICAgICAgICAgICAgd2hlbiBcInZuLlNjcm9sbEJhY2tncm91bmRQYXRoXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFNjcm9sbEJhY2tncm91bmRQYXRoXG4gICAgICAgICAgICB3aGVuIFwidm4uWm9vbUJhY2tncm91bmRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kWm9vbUJhY2tncm91bmRcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5UaW50QmFja2dyb3VuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRUaW50QmFja2dyb3VuZFxuICAgICAgICAgICAgd2hlbiBcInZuLkJsZW5kQmFja2dyb3VuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRCbGVuZEJhY2tncm91bmRcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5NYXNrQmFja2dyb3VuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRNYXNrQmFja2dyb3VuZFxuICAgICAgICAgICAgd2hlbiBcInZuLkJhY2tncm91bmRNb3Rpb25CbHVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEJhY2tncm91bmRNb3Rpb25CbHVyXG4gICAgICAgICAgICB3aGVuIFwidm4uQmFja2dyb3VuZEVmZmVjdFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRCYWNrZ3JvdW5kRWZmZWN0XG4gICAgICAgICAgICB3aGVuIFwidm4uQmFja2dyb3VuZERlZmF1bHRzXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEJhY2tncm91bmREZWZhdWx0c1xuICAgICAgICAgICAgd2hlbiBcInZuLkNoYW5nZVNjZW5lXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZVNjZW5lXG4gICAgICAgICAgICB3aGVuIFwidm4uQ2FsbFNjZW5lXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENhbGxTY2VuZVxuICAgICAgICAgICAgd2hlbiBcInZuLlN3aXRjaFRvTGF5b3V0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFN3aXRjaFRvTGF5b3V0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlVHJhbnNpdGlvblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFuZ2VUcmFuc2l0aW9uXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlV2luZG93U2tpblwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFuZ2VXaW5kb3dTa2luXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlU2NyZWVuVHJhbnNpdGlvbnNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhbmdlU2NyZWVuVHJhbnNpdGlvbnNcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5VSUFjY2Vzc1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRVSUFjY2Vzc1xuICAgICAgICAgICAgd2hlbiBcImdzLlBsYXlWaWRlb1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRQbGF5VmlkZW9cbiAgICAgICAgICAgIHdoZW4gXCJncy5QbGF5TXVzaWNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kUGxheU11c2ljXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU3RvcE11c2ljXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFN0b3BNdXNpY1xuICAgICAgICAgICAgd2hlbiBcImdzLlBsYXlTb3VuZFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRQbGF5U291bmRcbiAgICAgICAgICAgIHdoZW4gXCJncy5QYXVzZU11c2ljXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFBhdXNlTXVzaWNcbiAgICAgICAgICAgIHdoZW4gXCJncy5SZXN1bWVNdXNpY1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSZXN1bWVNdXNpY1xuICAgICAgICAgICAgd2hlbiBcImdzLkF1ZGlvRGVmYXVsdHNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQXVkaW9EZWZhdWx0c1xuICAgICAgICAgICAgd2hlbiBcImdzLkVuZENvbW1vbkV2ZW50XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZEVuZENvbW1vbkV2ZW50XG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2FsbENvbW1vbkV2ZW50XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENhbGxDb21tb25FdmVudFxuICAgICAgICAgICAgd2hlbiBcImdzLkNoYW5nZVRpbWVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZVRpbWVyXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2hvd1RleHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2hvd1RleHRcbiAgICAgICAgICAgIHdoZW4gXCJncy5SZWZyZXNoVGV4dFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSZWZyZXNoVGV4dFxuICAgICAgICAgICAgd2hlbiBcImdzLlRleHRNb3Rpb25CbHVyXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFRleHRNb3Rpb25CbHVyXG4gICAgICAgICAgICB3aGVuIFwiZ3MuTW92ZVRleHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZVRleHRcbiAgICAgICAgICAgIHdoZW4gXCJncy5Nb3ZlVGV4dFBhdGhcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kTW92ZVRleHRQYXRoXG4gICAgICAgICAgICB3aGVuIFwiZ3MuUm90YXRlVGV4dFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSb3RhdGVUZXh0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuWm9vbVRleHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kWm9vbVRleHRcbiAgICAgICAgICAgIHdoZW4gXCJncy5CbGVuZFRleHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQmxlbmRUZXh0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ29sb3JUZXh0XCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENvbG9yVGV4dFxuICAgICAgICAgICAgd2hlbiBcImdzLkVyYXNlVGV4dFwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRFcmFzZVRleHQgXG4gICAgICAgICAgICB3aGVuIFwiZ3MuVGV4dERlZmF1bHRzXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZFRleHREZWZhdWx0c1xuICAgICAgICAgICAgd2hlbiBcImdzLkNoYW5nZVRleHRTZXR0aW5nc1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFuZ2VUZXh0U2V0dGluZ3NcbiAgICAgICAgICAgIHdoZW4gXCJncy5JbnB1dFRleHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kSW5wdXRUZXh0XG4gICAgICAgICAgICB3aGVuIFwiZ3MuSW5wdXROYW1lXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZElucHV0TmFtZVxuICAgICAgICAgICAgd2hlbiBcImdzLlNhdmVQZXJzaXN0ZW50RGF0YVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTYXZlUGVyc2lzdGVudERhdGFcbiAgICAgICAgICAgIHdoZW4gXCJncy5QcmVwYXJlU2F2ZUdhbWVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kUHJlcGFyZVNhdmVHYW1lXG4gICAgICAgICAgICB3aGVuIFwiZ3MuU2F2ZUdhbWVcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2F2ZUdhbWVcbiAgICAgICAgICAgIHdoZW4gXCJncy5Mb2FkR2FtZVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRMb2FkR2FtZVxuICAgICAgICAgICAgd2hlbiBcImdzLkdldElucHV0RGF0YVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRHZXRJbnB1dERhdGFcbiAgICAgICAgICAgIHdoZW4gXCJncy5XYWl0Rm9ySW5wdXRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kV2FpdEZvcklucHV0XG4gICAgICAgICAgICB3aGVuIFwidm4uR2V0R2FtZURhdGFcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kR2V0R2FtZURhdGFcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5TZXRHYW1lRGF0YVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRTZXRHYW1lRGF0YVxuICAgICAgICAgICAgd2hlbiBcInZuLkdldE9iamVjdERhdGFcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kR2V0T2JqZWN0RGF0YVxuICAgICAgICAgICAgd2hlbiBcInZuLlNldE9iamVjdERhdGFcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2V0T2JqZWN0RGF0YVxuICAgICAgICAgICAgd2hlbiBcInZuLkNoYW5nZVNvdW5kc1wiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRDaGFuZ2VTb3VuZHNcbiAgICAgICAgICAgIHdoZW4gXCJ2bi5DaGFuZ2VDb2xvcnNcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kQ2hhbmdlQ29sb3JzXG4gICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlU2NyZWVuQ3Vyc29yXCIgdGhlbiBjb21tYW5kLmV4ZWN1dGUgPSBAY29tbWFuZENoYW5nZVNjcmVlbkN1cnNvclxuICAgICAgICAgICAgd2hlbiBcImdzLlJlc2V0R2xvYmFsRGF0YVwiIHRoZW4gY29tbWFuZC5leGVjdXRlID0gQGNvbW1hbmRSZXNldEdsb2JhbERhdGFcbiAgICAgICAgICAgIHdoZW4gXCJncy5TY3JpcHRcIiB0aGVuIGNvbW1hbmQuZXhlY3V0ZSA9IEBjb21tYW5kU2NyaXB0XG4gICAgXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBhbmQgaW5jcmVhc2VzIHRoZSBjb21tYW5kLXBvaW50ZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCBleGVjdXRlQ29tbWFuZFxuICAgICMjIyAgICAgICBcbiAgICBleGVjdXRlQ29tbWFuZDogKGluZGV4KSAtPlxuICAgICAgICBAY29tbWFuZCA9IEBvYmplY3QuY29tbWFuZHNbaW5kZXhdXG5cbiAgICAgICAgaWYgQHByZXZpZXdEYXRhXG4gICAgICAgICAgICBpZiBAcG9pbnRlciA8IEBwcmV2aWV3RGF0YS5wb2ludGVyXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgPSB5ZXNcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFRpbWUgPSAwXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgPSBAcHJldmlld0RhdGEuc2V0dGluZ3MuYW5pbWF0aW9uRGlzYWJsZWRcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFRpbWUgPSAwXG4gICAgICAgICAgICAgICAgQHByZXZpZXdJbmZvLndhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIuZW1pdChcInByZXZpZXdXYWl0aW5nXCIpXG4gICAgICAgICAgICAgICAgaWYgQHByZXZpZXdEYXRhLnNldHRpbmdzLmFuaW1hdGlvbkRpc2FibGVkIG9yIEBwcmV2aWV3RGF0YS5zZXR0aW5ncy5hbmltYXRpb25UaW1lID4gMFxuICAgICAgICAgICAgICAgICAgICBAcHJldmlld0luZm8udGltZW91dCA9IHNldFRpbWVvdXQgKC0+IEdyYXBoaWNzLnN0b3BwZWQgPSB5ZXMpLCAoQHByZXZpZXdEYXRhLnNldHRpbmdzLmFuaW1hdGlvblRpbWUpKjEwMDBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgQGNvbW1hbmQuZXhlY3V0ZT9cbiAgICAgICAgICAgIEBjb21tYW5kLmludGVycHJldGVyID0gdGhpc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAY29tbWFuZC5wYXJhbXMuZHVyYXRpb24/IGFuZCBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgICAgIEBjb21tYW5kLmR1cmF0aW9uID0gQGNvbW1hbmQucGFyYW1zLmR1cmF0aW9uXG4gICAgICAgICAgICAgICAgQGNvbW1hbmQucGFyYW1zLmR1cmF0aW9uID0gR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXBUaW1lXG4gICAgICAgICAgICAgICAgaWYgQGNvbW1hbmQucGFyYW1zLmZpZWxkRmxhZ3NcbiAgICAgICAgICAgICAgICAgICAgQGNvbW1hbmQuZHVyYXRpb25GbGFncyA9ICBAY29tbWFuZC5wYXJhbXMuZmllbGRGbGFncy5kdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBAY29tbWFuZC5wYXJhbXMuZmllbGRGbGFncy5kdXJhdGlvbiA9IEBjb21tYW5kLnBhcmFtcy5maWVsZEZsYWdzLmR1cmF0aW9uICYgfmdzLkNvbW1hbmRGaWVsZEZsYWdzLkxPQ0tFRFxuICAgICAgICAgICAgZWxzZSBpZiBAY29tbWFuZC5kdXJhdGlvbj9cbiAgICAgICAgICAgICAgICBAY29tbWFuZC5wYXJhbXMuZHVyYXRpb24gPSBAY29tbWFuZC5kdXJhdGlvblxuICAgICAgICAgICAgICAgIGlmIEBjb21tYW5kLmR1cmF0aW9uRmxhZ3M/XG4gICAgICAgICAgICAgICAgICAgIEBjb21tYW5kLnBhcmFtcy5maWVsZEZsYWdzLmR1cmF0aW9uID0gQGNvbW1hbmQuZHVyYXRpb25GbGFnc1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQGNvbW1hbmQuZXhlY3V0ZSgpIGlmIEBjb21tYW5kLmluZGVudCA9PSBAaW5kZW50XG4gICAgICAgICAgICBAcG9pbnRlcisrXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBjb21tYW5kID0gQG9iamVjdC5jb21tYW5kc1tAcG9pbnRlcl1cbiAgICAgICAgICAgIGlmIEBjb21tYW5kP1xuICAgICAgICAgICAgICAgIGluZGVudCA9IEBjb21tYW5kLmluZGVudFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGluZGVudCA9IEBpbmRlbnRcbiAgICAgICAgICAgICAgICB3aGlsZSBpbmRlbnQgPiAwIGFuZCAobm90IEBsb29wc1tpbmRlbnRdPylcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50LS1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBpbmRlbnQgPCBAaW5kZW50XG4gICAgICAgICAgICAgICAgQGluZGVudCA9IGluZGVudFxuICAgICAgICAgICAgICAgIGlmIEBsb29wc1tAaW5kZW50XT9cbiAgICAgICAgICAgICAgICAgICAgQHBvaW50ZXIgPSBAbG9vcHNbQGluZGVudF1cbiAgICAgICAgICAgICAgICAgICAgQGNvbW1hbmQgPSBAb2JqZWN0LmNvbW1hbmRzW0Bwb2ludGVyXVxuICAgICAgICAgICAgICAgICAgICBAY29tbWFuZC5pbnRlcnByZXRlciA9IHRoaXNcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGFzc2lnbkNvbW1hbmQoQGNvbW1hbmQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAY29tbWFuZC5leGVjdXRlP1xuICAgICAgICAgICAgICAgIEBjb21tYW5kLmludGVycHJldGVyID0gdGhpc1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBjb21tYW5kLnBhcmFtcy5kdXJhdGlvbj8gYW5kIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwXG4gICAgICAgICAgICAgICAgICAgIEBjb21tYW5kLmR1cmF0aW9uID0gQGNvbW1hbmQucGFyYW1zLmR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIEBjb21tYW5kLnBhcmFtcy5kdXJhdGlvbiA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwVGltZVxuICAgICAgICAgICAgICAgICAgICBpZiBAY29tbWFuZC5wYXJhbXMuZmllbGRGbGFnc1xuICAgICAgICAgICAgICAgICAgICAgICAgQGNvbW1hbmQuZHVyYXRpb25GbGFncyA9ICBAY29tbWFuZC5wYXJhbXMuZmllbGRGbGFncy5kdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgQGNvbW1hbmQucGFyYW1zLmZpZWxkRmxhZ3MuZHVyYXRpb24gPSBAY29tbWFuZC5wYXJhbXMuZmllbGRGbGFncy5kdXJhdGlvbiAmIH5ncy5Db21tYW5kRmllbGRGbGFncy5MT0NLRURcbiAgICAgICAgICAgICAgICBlbHNlIGlmIEBjb21tYW5kLmR1cmF0aW9uP1xuICAgICAgICAgICAgICAgICAgICBAY29tbWFuZC5wYXJhbXMuZHVyYXRpb24gPSBAY29tbWFuZC5kdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiBAY29tbWFuZC5kdXJhdGlvbkZsYWdzP1xuICAgICAgICAgICAgICAgICAgICAgICAgQGNvbW1hbmQucGFyYW1zLmZpZWxkRmxhZ3MuZHVyYXRpb24gPSBAY29tbWFuZC5kdXJhdGlvbkZsYWdzXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEBjb21tYW5kLmV4ZWN1dGUoKSBpZiBAY29tbWFuZC5pbmRlbnQgPT0gQGluZGVudFxuICAgICAgICAgICAgICAgIEBwb2ludGVyKytcbiAgICAgICAgICAgICAgICBAY29tbWFuZCA9IEBvYmplY3QuY29tbWFuZHNbQHBvaW50ZXJdXG4gICAgICAgICAgICAgICAgaWYgQGNvbW1hbmQ/XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCA9IEBjb21tYW5kLmluZGVudFxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ID0gQGluZGVudFxuICAgICAgICAgICAgICAgICAgICB3aGlsZSBpbmRlbnQgPiAwIGFuZCAobm90IEBsb29wc1tpbmRlbnRdPylcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGVudC0tXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBpbmRlbnQgPCBAaW5kZW50XG4gICAgICAgICAgICAgICAgICAgIEBpbmRlbnQgPSBpbmRlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgQGxvb3BzW0BpbmRlbnRdP1xuICAgICAgICAgICAgICAgICAgICAgICAgQHBvaW50ZXIgPSBAbG9vcHNbQGluZGVudF1cbiAgICAgICAgICAgICAgICAgICAgICAgIEBjb21tYW5kID0gQG9iamVjdC5jb21tYW5kc1tAcG9pbnRlcl1cbiAgICAgICAgICAgICAgICAgICAgICAgIEBjb21tYW5kLmludGVycHJldGVyID0gdGhpc1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBwb2ludGVyKytcbiAgICAjIyMqXG4gICAgKiBTa2lwcyBhbGwgY29tbWFuZHMgdW50aWwgYSBjb21tYW5kIHdpdGggdGhlIHNwZWNpZmllZCBpbmRlbnQtbGV2ZWwgaXMgXG4gICAgKiBmb3VuZC4gU28gZm9yIGV4YW1wbGU6IFRvIGp1bXAgZnJvbSBhIENvbmRpdGlvbi1Db21tYW5kIHRvIHRoZSBuZXh0XG4gICAgKiBFbHNlLUNvbW1hbmQganVzdCBwYXNzIHRoZSBpbmRlbnQtbGV2ZWwgb2YgdGhlIENvbmRpdGlvbi9FbHNlIGNvbW1hbmQuXG4gICAgKlxuICAgICogQG1ldGhvZCBza2lwXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZW50IC0gVGhlIGluZGVudC1sZXZlbC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYmFja3dhcmQgLSBJZiB0cnVlIHRoZSBza2lwIHJ1bnMgYmFja3dhcmQuXG4gICAgIyMjICAgXG4gICAgc2tpcDogKGluZGVudCwgYmFja3dhcmQpIC0+XG4gICAgICAgIGlmIGJhY2t3YXJkXG4gICAgICAgICAgICBAcG9pbnRlci0tXG4gICAgICAgICAgICB3aGlsZSBAcG9pbnRlciA+IDAgYW5kIEBvYmplY3QuY29tbWFuZHNbQHBvaW50ZXJdLmluZGVudCAhPSBpbmRlbnRcbiAgICAgICAgICAgICAgICBAcG9pbnRlci0tXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBwb2ludGVyKytcbiAgICAgICAgICAgIHdoaWxlIEBwb2ludGVyIDwgQG9iamVjdC5jb21tYW5kcy5sZW5ndGggYW5kIEBvYmplY3QuY29tbWFuZHNbQHBvaW50ZXJdLmluZGVudCAhPSBpbmRlbnRcbiAgICAgICAgICAgICAgICBAcG9pbnRlcisrXG4gICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIHRoZSBjb21tYW5kIGF0IHRoZSBzcGVjaWZpZWQgcG9pbnRlci1pbmRleCBpcyBhIGdhbWUgbWVzc2FnZVxuICAgICogcmVsYXRlZCBjb21tYW5kLlxuICAgICpcbiAgICAqIEBtZXRob2QgaXNNZXNzYWdlQ29tbWFuZFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXIgLSBUaGUgcG9pbnRlci9pbmRleC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0W119IGNvbW1hbmRzIC0gVGhlIGxpc3Qgb2YgY29tbWFuZHMgdG8gY2hlY2suXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSA8Yj50cnVlPC9iPiBpZiBpdHMgYSBnYW1lIG1lc3NhZ2UgcmVsYXRlZCBjb21tYW5kLiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+LlxuICAgICMjIyBcbiAgICBpc01lc3NhZ2VDb21tYW5kOiAocG9pbnRlciwgY29tbWFuZHMpIC0+XG4gICAgICAgIHJlc3VsdCA9IHllc1xuICAgICAgICBpZiBwb2ludGVyID49IGNvbW1hbmRzLmxlbmd0aCBvciAoY29tbWFuZHNbcG9pbnRlcl0uaWQgIT0gXCJncy5JbnB1dE51bWJlclwiIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZHNbcG9pbnRlcl0uaWQgIT0gXCJ2bi5DaG9pY2VcIiBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzW3BvaW50ZXJdLmlkICE9IFwiZ3MuSW5wdXRUZXh0XCIgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kc1twb2ludGVyXS5pZCAhPSBcImdzLklucHV0TmFtZVwiKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDaGVja3MgaWYgdGhlIGNvbW1hbmQgYXQgdGhlIHNwZWNpZmllZCBwb2ludGVyLWluZGV4IGFza3MgZm9yIHVzZXItaW5wdXQgbGlrZVxuICAgICogdGhlIElucHV0IE51bWJlciBvciBJbnB1dCBUZXh0IGNvbW1hbmQuXG4gICAgKlxuICAgICogQG1ldGhvZCBpc0lucHV0RGF0YUNvbW1hbmRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVyIC0gVGhlIHBvaW50ZXIvaW5kZXguXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSBjb21tYW5kcyAtIFRoZSBsaXN0IG9mIGNvbW1hbmRzIHRvIGNoZWNrLlxuICAgICogQHJldHVybiB7Ym9vbGVhbn0gPGI+dHJ1ZTwvYj4gaWYgaXRzIGFuIGlucHV0LWRhdGEgY29tbWFuZC4gT3RoZXJ3aXNlIDxiPmZhbHNlPC9iPlxuICAgICMjIyAgICAgXG4gICAgaXNJbnB1dERhdGFDb21tYW5kOiAocG9pbnRlciwgY29tbWFuZHMpIC0+XG4gICAgICAgIHBvaW50ZXIgPCBjb21tYW5kcy5sZW5ndGggYW5kIChcbiAgICAgICAgICAgIGNvbW1hbmRzW3BvaW50ZXJdLmlkID09IFwiZ3MuSW5wdXROdW1iZXJcIiBvclxuICAgICAgICAgICAgY29tbWFuZHNbcG9pbnRlcl0uaWQgPT0gXCJncy5JbnB1dFRleHRcIiBvclxuICAgICAgICAgICAgY29tbWFuZHNbcG9pbnRlcl0uaWQgPT0gXCJ2bi5DaG9pY2VcIiBvclxuICAgICAgICAgICAgY29tbWFuZHNbcG9pbnRlcl0uaWQgPT0gXCJ2bi5TaG93Q2hvaWNlc1wiXG4gICAgICAgIClcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIGEgZ2FtZSBtZXNzYWdlIGlzIGN1cnJlbnRseSBydW5uaW5nIGJ5IGFub3RoZXIgaW50ZXJwcmV0ZXIgbGlrZSBhXG4gICAgKiBjb21tb24tZXZlbnQgaW50ZXJwcmV0ZXIuXG4gICAgKlxuICAgICogQG1ldGhvZCBpc1Byb2Nlc3NpbmdNZXNzYWdlSW5PdGhlckNvbnRleHRcbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IDxiPnRydWU8L2I+IGEgZ2FtZSBtZXNzYWdlIGlzIHJ1bm5pbmcgaW4gYW5vdGhlciBjb250ZXh0LiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+XG4gICAgIyMjICAgICBcbiAgICBpc1Byb2Nlc3NpbmdNZXNzYWdlSW5PdGhlckNvbnRleHQ6IC0+XG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIGdtID0gR2FtZU1hbmFnZXJcbiAgICAgICAgcyA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgKHMuaW5wdXROdW1iZXJXaW5kb3c/IGFuZCBzLmlucHV0TnVtYmVyV2luZG93LnZpc2libGUgYW5kIHMuaW5wdXROdW1iZXJXaW5kb3cuZXhlY3V0aW9uQ29udGV4dCAhPSBAY29udGV4dCkgb3JcbiAgICAgICAgICAgICAgICAgKHMuaW5wdXRUZXh0V2luZG93PyBhbmQgcy5pbnB1dFRleHRXaW5kb3cuYWN0aXZlIGFuZCBzLmlucHV0VGV4dFdpbmRvdy5leGVjdXRpb25Db250ZXh0ICE9IEBjb250ZXh0KVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIFxuICAgICMjIypcbiAgICAqIElmIGEgZ2FtZSBtZXNzYWdlIGlzIGN1cnJlbnRseSBydW5uaW5nIGJ5IGFuIG90aGVyIGludGVycHJldGVyIGxpa2UgYSBjb21tb24tZXZlbnRcbiAgICAqIGludGVycHJldGVyLCB0aGlzIG1ldGhvZCB0cmlnZ2VyIGEgd2FpdCB1bnRpbCB0aGUgb3RoZXIgaW50ZXJwcmV0ZXIgaXMgZmluaXNoZWRcbiAgICAqIHdpdGggdGhlIGdhbWUgbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHdhaXRGb3JNZXNzYWdlXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSA8Yj50cnVlPC9iPiBhIGdhbWUgbWVzc2FnZSBpcyBydW5uaW5nIGluIGFub3RoZXIgY29udGV4dC4gT3RoZXJ3aXNlIDxiPmZhbHNlPC9iPlxuICAgICMjIyAgICAgICBcbiAgICB3YWl0Rm9yTWVzc2FnZTogLT5cbiAgICAgICAgQGlzV2FpdGluZ0Zvck1lc3NhZ2UgPSB5ZXNcbiAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICBAcG9pbnRlci0tXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgdmFsdWUgdGhlIG51bWJlciB2YXJpYWJsZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICpcbiAgICAqIEBtZXRob2QgbnVtYmVyVmFsdWVBdEluZGV4XG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2NvcGUgLSBUaGUgdmFyaWFibGUncyBzY29wZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgdmFyaWFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICMjIyAgICAgXG4gICAgbnVtYmVyVmFsdWVBdEluZGV4OiAoc2NvcGUsIGluZGV4KSAtPiBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLm51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaW5kZXgpXG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSAocG9zc2libGUpIG51bWJlciB2YXJpYWJsZS4gSWYgYSBjb25zdGFudCBudW1iZXIgdmFsdWUgaXMgc3BlY2lmaWVkLCB0aGlzIG1ldGhvZFxuICAgICogZG9lcyBub3RoaW5nIGFuIGp1c3QgcmV0dXJucyB0aGF0IGNvbnN0YW50IHZhbHVlLiBUaGF0J3MgdG8gbWFrZSBpdCBtb3JlIGNvbWZvcnRhYmxlIHRvIGp1c3QgcGFzcyBhIHZhbHVlIHdoaWNoXG4gICAgKiBjYW4gYmUgY2FsY3VsYXRlZCBieSB2YXJpYWJsZSBidXQgYWxzbyBiZSBqdXN0IGEgY29uc3RhbnQgdmFsdWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBudW1iZXJWYWx1ZU9mXG4gICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IG9iamVjdCAtIEEgbnVtYmVyIHZhcmlhYmxlIG9yIGNvbnN0YW50IG51bWJlciB2YWx1ZS5cbiAgICAqIEByZXR1cm4ge051bWJlcn0gVGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAjIyMgICAgIFxuICAgIG51bWJlclZhbHVlT2Y6IChvYmplY3QpIC0+IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUubnVtYmVyVmFsdWVPZihvYmplY3QpXG4gICAgXG4gICAgIyMjKlxuICAgICogSXQgZG9lcyB0aGUgc2FtZSBsaWtlIDxiPm51bWJlclZhbHVlT2Y8L2I+IHdpdGggb25lIGRpZmZlcmVuY2U6IElmIHRoZSBzcGVjaWZpZWQgb2JqZWN0XG4gICAgKiBpcyBhIHZhcmlhYmxlLCBpdCdzIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXMgYSBkdXJhdGlvbi12YWx1ZSBpbiBtaWxsaXNlY29uZHMgYW5kIGF1dG9tYXRpY2FsbHkgY29udmVydGVkXG4gICAgKiBpbnRvIGZyYW1lcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGR1cmF0aW9uVmFsdWVPZlxuICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBvYmplY3QgLSBBIG51bWJlciB2YXJpYWJsZSBvciBjb25zdGFudCBudW1iZXIgdmFsdWUuXG4gICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgIyMjICAgICBcbiAgICBkdXJhdGlvblZhbHVlT2Y6IChvYmplY3QpIC0+IFxuICAgICAgICBpZiBvYmplY3QgYW5kIG9iamVjdC5pbmRleD9cbiAgICAgICAgICAgIE1hdGgucm91bmQoR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5udW1iZXJWYWx1ZU9mKG9iamVjdCkgLyAxMDAwICogR3JhcGhpY3MuZnJhbWVSYXRlKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLm51bWJlclZhbHVlT2Yob2JqZWN0KVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIGEgcG9zaXRpb24gKHt4LCB5fSkgZm9yIHRoZSBzcGVjaWZpZWQgcHJlZGVmaW5lZCBvYmplY3QgcG9zaXRpb24gY29uZmlndXJlZCBpbiBcbiAgICAqIERhdGFiYXNlIC0gU3lzdGVtLlxuICAgICpcbiAgICAqIEBtZXRob2QgcHJlZGVmaW5lZE9iamVjdFBvc2l0aW9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb24gLSBUaGUgaW5kZXgvSUQgb2YgdGhlIHByZWRlZmluZWQgb2JqZWN0IHBvc2l0aW9uIHRvIHNldC5cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IG9iamVjdCAtIFRoZSBnYW1lIG9iamVjdCB0byBzZXQgdGhlIHBvc2l0aW9uIGZvci5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1zIG9iamVjdCBvZiB0aGUgc2NlbmUgY29tbWFuZC5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHBvc2l0aW9uIHt4LCB5fS5cbiAgICAjIyNcbiAgICBwcmVkZWZpbmVkT2JqZWN0UG9zaXRpb246IChwb3NpdGlvbiwgb2JqZWN0LCBwYXJhbXMpIC0+XG4gICAgICAgIG9iamVjdFBvc2l0aW9uID0gUmVjb3JkTWFuYWdlci5zeXN0ZW0ub2JqZWN0UG9zaXRpb25zW3Bvc2l0aW9uXVxuICAgICAgICBpZiAhb2JqZWN0UG9zaXRpb24gdGhlbiByZXR1cm4geyB4OiAwLCB5OiAwIH1cbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBvYmplY3RQb3NpdGlvbi5mdW5jP1xuICAgICAgICAgICAgZiA9IGV2YWwoXCIoZnVuY3Rpb24ob2JqZWN0LCBwYXJhbXMpe1wiICsgb2JqZWN0UG9zaXRpb24uc2NyaXB0ICsgXCJ9KVwiKVxuICAgICAgICAgICAgb2JqZWN0UG9zaXRpb24uZnVuYyA9IGZcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvYmplY3RQb3NpdGlvbi5mdW5jKG9iamVjdCwgcGFyYW1zKSB8fCB7IHg6IDAsIHk6IDAgfVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIG51bWJlciB2YXJpYWJsZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0TnVtYmVyVmFsdWVBdEluZGV4XG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2NvcGUgLSBUaGUgdmFyaWFibGUncyBzY29wZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgdmFyaWFibGUgdG8gc2V0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIG51bWJlciB2YWx1ZSB0byBzZXQgdGhlIHZhcmlhYmxlIHRvLlxuICAgICMjI1xuICAgIHNldE51bWJlclZhbHVlQXRJbmRleDogKHNjb3BlLCBpbmRleCwgdmFsdWUpIC0+IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuc2V0TnVtYmVyVmFsdWVBdEluZGV4KHNjb3BlLCBpbmRleCwgdmFsdWUpXG4gICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBudW1iZXIgdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXROdW1iZXJWYWx1ZVRvXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFyaWFibGUgLSBUaGUgdmFyaWFibGUgdG8gc2V0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIG51bWJlciB2YWx1ZSB0byBzZXQgdGhlIHZhcmlhYmxlIHRvLlxuICAgICMjI1xuICAgIHNldE51bWJlclZhbHVlVG86ICh2YXJpYWJsZSwgdmFsdWUpIC0+IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuc2V0TnVtYmVyVmFsdWVUbyh2YXJpYWJsZSwgdmFsdWUpXG4gICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBsaXN0IHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0TGlzdE9iamVjdFRvXG4gICAgKiBAcGFyYW0ge09iamVjdH0gdmFyaWFibGUgLSBUaGUgdmFyaWFibGUgdG8gc2V0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIC0gVGhlIGxpc3Qgb2JqZWN0IHRvIHNldCB0aGUgdmFyaWFibGUgdG8uXG4gICAgIyMjXG4gICAgc2V0TGlzdE9iamVjdFRvOiAodmFyaWFibGUsIHZhbHVlKSAtPiBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldExpc3RPYmplY3RUbyh2YXJpYWJsZSwgdmFsdWUpXG5cbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIGJvb2xlYW4vc3dpdGNoIHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0Qm9vbGVhblZhbHVlVG9cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZSAtIFRoZSB2YXJpYWJsZSB0byBzZXQuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVGhlIGJvb2xlYW4gdmFsdWUgdG8gc2V0IHRoZSB2YXJpYWJsZSB0by5cbiAgICAjIyNcbiAgICBzZXRCb29sZWFuVmFsdWVUbzogKHZhcmlhYmxlLCB2YWx1ZSkgLT4gR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5zZXRCb29sZWFuVmFsdWVUbyh2YXJpYWJsZSwgdmFsdWUpXG4gICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBzdHJpbmcvdGV4dCB2YXJpYWJsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldFN0cmluZ1ZhbHVlVG9cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZSAtIFRoZSB2YXJpYWJsZSB0byBzZXQuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgc3RyaW5nL3RleHQgdmFsdWUgdG8gc2V0IHRoZSB2YXJpYWJsZSB0by5cbiAgICAjIyNcbiAgICBzZXRTdHJpbmdWYWx1ZVRvOiAodmFyaWFibGUsIHZhbHVlKSAtPiBHYW1lTWFuYWdlci52YXJpYWJsZVN0b3JlLnNldFN0cmluZ1ZhbHVlVG8odmFyaWFibGUsIHZhbHVlKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSAocG9zc2libGUpIHN0cmluZyB2YXJpYWJsZS4gSWYgYSBjb25zdGFudCBzdHJpbmcgdmFsdWUgaXMgc3BlY2lmaWVkLCB0aGlzIG1ldGhvZFxuICAgICogZG9lcyBub3RoaW5nIGFuIGp1c3QgcmV0dXJucyB0aGF0IGNvbnN0YW50IHZhbHVlLiBUaGF0J3MgdG8gbWFrZSBpdCBtb3JlIGNvbWZvcnRhYmxlIHRvIGp1c3QgcGFzcyBhIHZhbHVlIHdoaWNoXG4gICAgKiBjYW4gYmUgY2FsY3VsYXRlZCBieSB2YXJpYWJsZSBidXQgYWxzbyBiZSBqdXN0IGEgY29uc3RhbnQgdmFsdWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzdHJpbmdWYWx1ZU9mXG4gICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG9iamVjdCAtIEEgc3RyaW5nIHZhcmlhYmxlIG9yIGNvbnN0YW50IHN0cmluZyB2YWx1ZS5cbiAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAjIyMgXG4gICAgc3RyaW5nVmFsdWVPZjogKG9iamVjdCkgLT4gR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5zdHJpbmdWYWx1ZU9mKG9iamVjdClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiBhIChwb3NzaWJsZSkgYm9vbGVhbiB2YXJpYWJsZS4gSWYgYSBjb25zdGFudCBib29sZWFuIHZhbHVlIGlzIHNwZWNpZmllZCwgdGhpcyBtZXRob2RcbiAgICAqIGRvZXMgbm90aGluZyBhbiBqdXN0IHJldHVybnMgdGhhdCBjb25zdGFudCB2YWx1ZS4gVGhhdCdzIHRvIG1ha2UgaXQgbW9yZSBjb21mb3J0YWJsZSB0byBqdXN0IHBhc3MgYSB2YWx1ZSB3aGljaFxuICAgICogY2FuIGJlIGNhbGN1bGF0ZWQgYnkgdmFyaWFibGUgYnV0IGFsc28gYmUganVzdCBhIGNvbnN0YW50IHZhbHVlLlxuICAgICpcbiAgICAqIEBtZXRob2QgYm9vbGVhblZhbHVlT2ZcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IG9iamVjdCAtIEEgYm9vbGVhbiB2YXJpYWJsZSBvciBjb25zdGFudCBib29sZWFuIHZhbHVlLlxuICAgICogQHJldHVybiB7Ym9vbGVhbn0gVGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAjIyMgXG4gICAgYm9vbGVhblZhbHVlT2Y6IChvYmplY3QpIC0+IEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuYm9vbGVhblZhbHVlT2Yob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgdGhlIHZhbHVlIG9mIGEgKHBvc3NpYmxlKSBsaXN0IHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgbGlzdE9iamVjdE9mXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gQSBsaXN0IHZhcmlhYmxlLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgdmFsdWUgb2YgdGhlIGxpc3QgdmFyaWFibGUuXG4gICAgIyMjIFxuICAgIGxpc3RPYmplY3RPZjogKG9iamVjdCkgLT4gR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5saXN0T2JqZWN0T2Yob2JqZWN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIENvbXBhcmVzIHR3byBvYmplY3QgdXNpbmcgdGhlIHNwZWNpZmllZCBvcGVyYXRpb24gYW5kIHJldHVybnMgdGhlIHJlc3VsdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNvbXBhcmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBhIC0gT2JqZWN0IEEuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYiAtIE9iamVjdCBCLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IG9wZXJhdGlvbiAtIFRoZSBjb21wYXJlLW9wZXJhdGlvbiB0byBjb21wYXJlIE9iamVjdCBBIHdpdGggT2JqZWN0IEIuXG4gICAgKiA8dWw+XG4gICAgKiA8bGk+MCA9IEVxdWFsIFRvPC9saT5cbiAgICAqIDxsaT4xID0gTm90IEVxdWFsIFRvPC9saT5cbiAgICAqIDxsaT4yID0gR3JlYXRlciBUaGFuPC9saT5cbiAgICAqIDxsaT4zID0gR3JlYXRlciBvciBFcXVhbCBUbzwvbGk+XG4gICAgKiA8bGk+NCA9IExlc3MgVGhhbjwvbGk+XG4gICAgKiA8bGk+NSA9IExlc3Mgb3IgRXF1YWwgVG88L2xpPlxuICAgICogPC91bD5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRoZSBjb21wYXJpc29uIHJlc3VsdC5cbiAgICAjIyMgXG4gICAgY29tcGFyZTogKGEsIGIsIG9wZXJhdGlvbikgLT5cbiAgICAgICAgc3dpdGNoIG9wZXJhdGlvblxuICAgICAgICAgICAgd2hlbiAwIHRoZW4gcmV0dXJuIGBhID09IGJgXG4gICAgICAgICAgICB3aGVuIDEgdGhlbiByZXR1cm4gYGEgIT0gYmBcbiAgICAgICAgICAgIHdoZW4gMiB0aGVuIHJldHVybiBhID4gYlxuICAgICAgICAgICAgd2hlbiAzIHRoZW4gcmV0dXJuIGEgPj0gYlxuICAgICAgICAgICAgd2hlbiA0IHRoZW4gcmV0dXJuIGEgPCBiXG4gICAgICAgICAgICB3aGVuIDUgdGhlbiByZXR1cm4gYSA8PSBiXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNoYWtlcyBhIGdhbWUgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2hha2VPYmplY3RcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IG9iamVjdCAtIFRoZSBnYW1lIG9iamVjdCB0byBzaGFrZS5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gQSBwYXJhbXMgb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBpbmZvIGFib3V0IHRoZSBzaGFrZS1hbmltYXRpb24uXG4gICAgIyMjICAgICAgICBcbiAgICBzaGFrZU9iamVjdDogKG9iamVjdCwgcGFyYW1zKSAtPlxuICAgICAgICBkdXJhdGlvbiA9IE1hdGgubWF4KE1hdGgucm91bmQoQGR1cmF0aW9uVmFsdWVPZihwYXJhbXMuZHVyYXRpb24pKSwgMilcbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KHBhcmFtcy5lYXNpbmcpXG4gICAgICAgIFxuICAgICAgICBvYmplY3QuYW5pbWF0b3Iuc2hha2UoeyB4OiBAbnVtYmVyVmFsdWVPZihwYXJhbXMucmFuZ2UueCksIHk6IEBudW1iZXJWYWx1ZU9mKHBhcmFtcy5yYW5nZS55KSB9LCBAbnVtYmVyVmFsdWVPZihwYXJhbXMuc3BlZWQpIC8gMTAwLCBkdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIExldHMgdGhlIGludGVycHJldGVyIHdhaXQgZm9yIHRoZSBjb21wbGV0aW9uIG9mIGEgcnVubmluZyBvcGVyYXRpb24gbGlrZSBhbiBhbmltYXRpb24sIGV0Yy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHdhaXRGb3JDb21wbGV0aW9uXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdGhlIG9wZXJhdGlvbiBpcyBleGVjdXRlZCBvbi4gQ2FuIGJlIDxiPm51bGw8L2I+LlxuICAgICogQHJldHVybiB7T2JqZWN0fSBBIHBhcmFtcyBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm8uXG4gICAgIyMjICBcbiAgICB3YWl0Rm9yQ29tcGxldGlvbjogKG9iamVjdCwgcGFyYW1zKSAtPlxuICAgICAgICBkdXJhdGlvbiA9IEBkdXJhdGlvblZhbHVlT2YocGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICBpZiBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEB3YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogRXJhc2VzIGEgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBlcmFzZU9iamVjdFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIGVyYXNlLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBBIHBhcmFtcyBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm8uXG4gICAgIyMjICAgICAgXG4gICAgZXJhc2VPYmplY3Q6IChvYmplY3QsIHBhcmFtcykgLT5cbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KHBhcmFtcy5lYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gQGR1cmF0aW9uVmFsdWVPZihwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIG9iamVjdC5hbmltYXRvci5kaXNhcHBlYXIocGFyYW1zLmFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKHNlbmRlcikgPT4gc2VuZGVyLmRpc3Bvc2UoKSlcbiAgICAgICAgXG4gICAgICAgIGlmIHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gZHVyYXRpb24gXG4gICAgXG4gICAgIyMjKlxuICAgICogU2hvd3MgYSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgKlxuICAgICogQG1ldGhvZCBzaG93T2JqZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gc2hvdy5cbiAgICAqIEBwYXJhbSB7Z3MuUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBnYW1lIG9iamVjdCBzaG91bGQgYmUgc2hvd24uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gQSBwYXJhbXMgb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBpbmZvLlxuICAgICMjIyAgICAgICAgICBcbiAgICBzaG93T2JqZWN0OiAob2JqZWN0LCBwb3NpdGlvbiwgcGFyYW1zKSAtPlxuICAgICAgICB4ID0gQG51bWJlclZhbHVlT2YocG9zaXRpb24ueClcbiAgICAgICAgeSA9IEBudW1iZXJWYWx1ZU9mKHBvc2l0aW9uLnkpXG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChwYXJhbXMuZWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IEBkdXJhdGlvblZhbHVlT2YocGFyYW1zLmR1cmF0aW9uKVxuICAgICAgXG4gICAgICAgIG9iamVjdC5hbmltYXRvci5hcHBlYXIoeCwgeSwgcGFyYW1zLmFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIGlmIHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgXG4gICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIE1vdmVzIGEgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBtb3ZlT2JqZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gbW92ZS5cbiAgICAqIEBwYXJhbSB7Z3MuUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIHRvIG1vdmUgdGhlIGdhbWUgb2JqZWN0IHRvLlxuICAgICogQHBhcmFtIHtPYmplY3R9IEEgcGFyYW1zIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mby5cbiAgICAjIyMgXG4gICAgbW92ZU9iamVjdDogKG9iamVjdCwgcG9zaXRpb24sIHBhcmFtcykgLT5cbiAgICAgICAgaWYgcGFyYW1zLnBvc2l0aW9uVHlwZSA9PSAwXG4gICAgICAgICAgICBwID0gQHByZWRlZmluZWRPYmplY3RQb3NpdGlvbihwYXJhbXMucHJlZGVmaW5lZFBvc2l0aW9uSWQsIG9iamVjdCwgcGFyYW1zKVxuICAgICAgICAgICAgeCA9IHAueFxuICAgICAgICAgICAgeSA9IHAueVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB4ID0gQG51bWJlclZhbHVlT2YocG9zaXRpb24ueClcbiAgICAgICAgICAgIHkgPSBAbnVtYmVyVmFsdWVPZihwb3NpdGlvbi55KVxuICAgIFxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21PYmplY3QocGFyYW1zLmVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBAZHVyYXRpb25WYWx1ZU9mKHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIG9iamVjdC5hbmltYXRvci5tb3ZlVG8oeCwgeSwgZHVyYXRpb24sIGVhc2luZylcbiAgICBcbiAgICAgICAgaWYgcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogTW92ZXMgYSBnYW1lIG9iamVjdCBhbG9uZyBhIHBhdGguXG4gICAgKlxuICAgICogQG1ldGhvZCBtb3ZlT2JqZWN0UGF0aFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIG1vdmUuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGF0aCAtIFRoZSBwYXRoIHRvIG1vdmUgdGhlIGdhbWUgb2JqZWN0IGFsb25nLlxuICAgICogQHBhcmFtIHtPYmplY3R9IEEgcGFyYW1zIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mby5cbiAgICAjIyMgXG4gICAgbW92ZU9iamVjdFBhdGg6IChvYmplY3QsIHBhdGgsIHBhcmFtcykgLT5cbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KHBhcmFtcy5lYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gQGR1cmF0aW9uVmFsdWVPZihwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIG9iamVjdC5hbmltYXRvci5tb3ZlUGF0aChwYXRoLmRhdGEsIHBhcmFtcy5sb29wVHlwZSwgZHVyYXRpb24sIGVhc2luZywgcGF0aC5lZmZlY3RzPy5kYXRhKVxuICAgIFxuICAgICAgICBpZiBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEB3YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogU2Nyb2xscyBhIHNjcm9sbGFibGUgZ2FtZSBvYmplY3QgYWxvbmcgYSBwYXRoLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2Nyb2xsT2JqZWN0UGF0aFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIHNjcm9sbC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXRoIC0gVGhlIHBhdGggdG8gc2Nyb2xsIHRoZSBnYW1lIG9iamVjdCBhbG9uZy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBBIHBhcmFtcyBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm8uXG4gICAgIyMjICAgICAgICBcbiAgICBzY3JvbGxPYmplY3RQYXRoOiAob2JqZWN0LCBwYXRoLCBwYXJhbXMpIC0+XG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChwYXJhbXMuZWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IEBkdXJhdGlvblZhbHVlT2YocGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICBvYmplY3QuYW5pbWF0b3Iuc2Nyb2xsUGF0aChwYXRoLCBwYXJhbXMubG9vcFR5cGUsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgXG4gICAgICAgIGlmIHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFpvb21zL1NjYWxlcyBhIGdhbWUgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2Qgem9vbU9iamVjdFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIHpvb20uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gQSBwYXJhbXMgb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBpbmZvLlxuICAgICMjIyBcbiAgICB6b29tT2JqZWN0OiAob2JqZWN0LCBwYXJhbXMpIC0+XG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChwYXJhbXMuZWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IEBkdXJhdGlvblZhbHVlT2YocGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICBvYmplY3QuYW5pbWF0b3Iuem9vbVRvKEBudW1iZXJWYWx1ZU9mKHBhcmFtcy56b29taW5nLngpIC8gMTAwLCBAbnVtYmVyVmFsdWVPZihwYXJhbXMuem9vbWluZy55KSAvIDEwMCwgZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgXG4gICAgICAgIGlmIHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFJvdGF0ZXMgYSBnYW1lIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJvdGF0ZU9iamVjdFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gb2JqZWN0IC0gVGhlIGdhbWUgb2JqZWN0IHRvIHJvdGF0ZS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBBIHBhcmFtcyBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm8uXG4gICAgIyMjIFxuICAgIHJvdGF0ZU9iamVjdDogKG9iamVjdCwgcGFyYW1zKSAtPlxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21PYmplY3QocGFyYW1zLmVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBAZHVyYXRpb25WYWx1ZU9mKHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgb2JqZWN0LmFuaW1hdG9yLnJvdGF0ZShwYXJhbXMuZGlyZWN0aW9uLCBAbnVtYmVyVmFsdWVPZihwYXJhbXMuc3BlZWQpIC8gMTAwLCBkdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEJsZW5kcyBhIGdhbWUgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgYmxlbmRPYmplY3RcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IG9iamVjdCAtIFRoZSBnYW1lIG9iamVjdCB0byBibGVuZC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBBIHBhcmFtcyBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm8uXG4gICAgIyMjXG4gICAgYmxlbmRPYmplY3Q6IChvYmplY3QsIHBhcmFtcykgLT5cbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KHBhcmFtcy5lYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gQGR1cmF0aW9uVmFsdWVPZihwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIG9iamVjdC5hbmltYXRvci5ibGVuZFRvKEBudW1iZXJWYWx1ZU9mKHBhcmFtcy5vcGFjaXR5KSwgZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgXG4gICAgICAgIGlmIHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgbWFza2luZy1lZmZlY3Qgb24gYSBnYW1lIG9iamVjdC4uXG4gICAgKlxuICAgICogQG1ldGhvZCBtYXNrT2JqZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gZXhlY3V0ZSBhIG1hc2tpbmctZWZmZWN0IG9uLlxuICAgICogQHBhcmFtIHtPYmplY3R9IEEgcGFyYW1zIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mby5cbiAgICAjIyMgXG4gICAgbWFza09iamVjdDogKG9iamVjdCwgcGFyYW1zKSAtPlxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21PYmplY3QocGFyYW1zLmVhc2luZylcbiAgICAgIFxuICAgICAgICBpZiBwYXJhbXMubWFzay50eXBlID09IDBcbiAgICAgICAgICAgIG9iamVjdC5tYXNrLnR5cGUgPSAwXG4gICAgICAgICAgICBvYmplY3QubWFzay5veCA9IEBudW1iZXJWYWx1ZU9mKHBhcmFtcy5tYXNrLm94KVxuICAgICAgICAgICAgb2JqZWN0Lm1hc2sub3kgPSBAbnVtYmVyVmFsdWVPZihwYXJhbXMubWFzay5veSlcbiAgICAgICAgICAgIGlmIG9iamVjdC5tYXNrLnNvdXJjZT8udmlkZW9FbGVtZW50P1xuICAgICAgICAgICAgICAgIG9iamVjdC5tYXNrLnNvdXJjZS5wYXVzZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBwYXJhbXMubWFzay5zb3VyY2VUeXBlID09IDBcbiAgICAgICAgICAgICAgICBvYmplY3QubWFzay5zb3VyY2UgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3twYXJhbXMubWFzay5ncmFwaGljPy5uYW1lfVwiKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9iamVjdC5tYXNrLnNvdXJjZSA9IFJlc291cmNlTWFuYWdlci5nZXRWaWRlbyhcIk1vdmllcy8je3BhcmFtcy5tYXNrLnZpZGVvPy5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIGlmIG9iamVjdC5tYXNrLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICBvYmplY3QubWFzay5zb3VyY2UucGxheSgpXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXNrLnNvdXJjZS5sb29wID0geWVzXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGR1cmF0aW9uID0gQGR1cmF0aW9uVmFsdWVPZihwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgICAgICBvYmplY3QuYW5pbWF0b3IubWFza1RvKHBhcmFtcy5tYXNrLCBkdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAd2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGFuIGVmZmVjdCBvbiBhIGdhbWUgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2Qgb2JqZWN0RWZmZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgLSBUaGUgZ2FtZSBvYmplY3QgdG8gZXhlY3V0ZSBhIG1hc2tpbmctZWZmZWN0IG9uLlxuICAgICogQHBhcmFtIHtPYmplY3R9IEEgcGFyYW1zIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mby5cbiAgICAjIyMgXG4gICAgb2JqZWN0RWZmZWN0OiAob2JqZWN0LCBwYXJhbXMpIC0+XG4gICAgICAgIG9iamVjdC5lZmZlY3RzLndvYmJsZS5lbmFibGVkID0gcGFyYW1zLnBvd2VyID4gMFxuICAgICAgICBvYmplY3QuZWZmZWN0cy53b2JibGUucG93ZXIgPSBwYXJhbXMucG93ZXIgLyAxMDAwMFxuICAgICAgICBvYmplY3QuZWZmZWN0cy53b2JibGUuc3BlZWQgPSBwYXJhbXMuc3BlZWQgLyAxMDBcbiAgICAgICAgb2JqZWN0LmVmZmVjdHMud29iYmxlLnZlcnRpY2FsID0gcGFyYW1zLm9yaWVudGF0aW9uID09IDAgb3IgcGFyYW1zLm9yaWVudGF0aW9uID09IDJcbiAgICAgICAgb2JqZWN0LmVmZmVjdHMud29iYmxlLmhvcml6b250YWwgPSBwYXJhbXMub3JpZW50YXRpb24gPT0gMSBvciBwYXJhbXMub3JpZW50YXRpb24gPT0gMlxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGFuIGFjdGlvbiBsaWtlIGZvciBhIGhvdHNwb3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBleGVjdXRlQWN0aW9uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIC0gQWN0aW9uLURhdGEuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlVmFsdWUgLSBJbiBjYXNlIG9mIHN3aXRjaC1iaW5kaW5nLCB0aGUgc3dpdGNoIGlzIHNldCB0byB0aGlzIHZhbHVlLlxuICAgICMjI1xuICAgIGV4ZWN1dGVBY3Rpb246IChhY3Rpb24sIHN0YXRlVmFsdWUpIC0+XG4gICAgICAgIHN3aXRjaCBhY3Rpb24udHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgSnVtcCBUbyBMYWJlbFxuICAgICAgICAgICAgICAgIGlmIGFjdGlvbi5sYWJlbEluZGV4XG4gICAgICAgICAgICAgICAgICAgIEBwb2ludGVyID0gYWN0aW9uLmxhYmVsSW5kZXhcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIEBqdW1wVG9MYWJlbChhY3Rpb24ubGFiZWwpXG4gICAgICAgICAgICB3aGVuIDEgIyBDYWxsIENvbW1vbiBFdmVudFxuICAgICAgICAgICAgICAgIEBjYWxsQ29tbW9uRXZlbnQoYWN0aW9uLmNvbW1vbkV2ZW50SWQpXG4gICAgICAgICAgICB3aGVuIDIgIyBCaW5kIFRvIFN3aXRjaFxuICAgICAgICAgICAgICAgIEBzZXRCb29sZWFuVmFsdWVUbyhhY3Rpb24uc3dpdGNoLCBzdGF0ZVZhbHVlKVxuICAgICAgICAgICAgd2hlbiAzICMgQ2FsbCBTY2VuZVxuICAgICAgICAgICAgICAgIEBjYWxsU2NlbmUoYWN0aW9uLnNjZW5lPy51aWQpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIENhbGxzIGEgY29tbW9uIGV2ZW50IGFuZCByZXR1cm5zIHRoZSBzdWItaW50ZXJwcmV0ZXIgZm9yIGl0LlxuICAgICpcbiAgICAqIEBtZXRob2QgY2FsbENvbW1vbkV2ZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gaWQgLSBUaGUgSUQgb2YgdGhlIGNvbW1vbiBldmVudCB0byBjYWxsLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPcHRpb25hbCBjb21tb24gZXZlbnQgcGFyYW1ldGVycy5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FpdCAtIEluZGljYXRlcyBpZiB0aGUgaW50ZXJwcmV0ZXIgc2hvdWxkIGJlIHN0YXkgaW4gd2FpdGluZy1tb2RlIGV2ZW4gaWYgdGhlIHN1Yi1pbnRlcnByZXRlciBpcyBmaW5pc2hlZC5cbiAgICAjIyMgXG4gICAgY2FsbENvbW1vbkV2ZW50OiAoaWQsIHBhcmFtZXRlcnMsIHdhaXQpIC0+XG4gICAgICAgIGNvbW1vbkV2ZW50ID0gR2FtZU1hbmFnZXIuY29tbW9uRXZlbnRzW2lkXVxuICAgICAgICBcbiAgICAgICAgaWYgY29tbW9uRXZlbnQ/XG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUuY29tbW9uRXZlbnRDb250YWluZXIuYWRkT2JqZWN0KGNvbW1vbkV2ZW50KVxuICAgICAgICAgICAgY29tbW9uRXZlbnQuZXZlbnRzPy5vbiBcImZpbmlzaFwiLCAoZSkgPT5cbiAgICAgICAgICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUuY29tbW9uRXZlbnRDb250YWluZXIucmVtb3ZlT2JqZWN0KGUuc2VuZGVyLm9iamVjdClcbiAgICAgICAgICAgICAgICBlLnNlbmRlci5vYmplY3QuZXZlbnRzLm9mZiBcImZpbmlzaFwiXG4gICAgICAgICAgICAgICAgQHN1YkludGVycHJldGVyID0gbnVsbFxuICAgICAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB3YWl0ID8gbm9cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgR2FtZU1hbmFnZXIudmFyaWFibGVTdG9yZS5zZXR1cExvY2FsVmFyaWFibGVzKGNvbW1vbkV2ZW50LnJlY29yZClcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuc2V0dXBUZW1wVmFyaWFibGVzKGNvbW1vbkV2ZW50LnJlY29yZClcbiAgICAgICAgICAgIEBzdWJJbnRlcnByZXRlciA9IGNvbW1vbkV2ZW50LmJlaGF2aW9yLmNhbGwocGFyYW1ldGVycyB8fCBbXSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQHN1YkludGVycHJldGVyP1xuICAgICAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgICAgICBAc3ViSW50ZXJwcmV0ZXIuc3RhcnQoKVxuICAgICAgICAgICAgICAgIEBzdWJJbnRlcnByZXRlci51cGRhdGUoKVxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGxzIGEgc2NlbmUgYW5kIHJldHVybnMgdGhlIHN1Yi1pbnRlcnByZXRlciBmb3IgaXQuXG4gICAgKlxuICAgICogQG1ldGhvZCBjYWxsU2NlbmVcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1aWQgLSBUaGUgVUlEIG9mIHRoZSBzY2VuZSB0byBjYWxsLlxuICAgICMjIyAgICAgICAgIFxuICAgIGNhbGxTY2VuZTogKHVpZCkgLT5cbiAgICAgICAgc2NlbmVEb2N1bWVudCA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50KHVpZClcbiAgICAgICAgXG4gICAgICAgIGlmIHNjZW5lRG9jdW1lbnQ/XG4gICAgICAgICAgICBAaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAc3ViSW50ZXJwcmV0ZXIgPSBuZXcgZ3MuQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlcigpXG4gICAgICAgICAgICBvYmplY3QgPSB7IGNvbW1hbmRzOiBzY2VuZURvY3VtZW50Lml0ZW1zLmNvbW1hbmRzIH1cbiAgICAgICAgICAgIEBzdWJJbnRlcnByZXRlci5yZXBlYXQgPSBub1xuICAgICAgICAgICAgQHN1YkludGVycHJldGVyLmNvbnRleHQuc2V0KHNjZW5lRG9jdW1lbnQudWlkLCBzY2VuZURvY3VtZW50KVxuICAgICAgICAgICAgQHN1YkludGVycHJldGVyLm9iamVjdCA9IG9iamVjdFxuICAgICAgICAgICAgQHN1YkludGVycHJldGVyLm9uRmluaXNoID0gKHNlbmRlcikgPT4gXG4gICAgICAgICAgICAgICAgQGlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICAgICAgQHN1YkludGVycHJldGVyID0gbnVsbFxuICAgICAgICAgICAgQHN1YkludGVycHJldGVyLnN0YXJ0KClcbiAgICAgICAgICAgIEBzdWJJbnRlcnByZXRlci51cGRhdGUoKVxuICAgICAgICAgICAgXG4gIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxscyBhIGNvbW1vbiBldmVudCBhbmQgcmV0dXJucyB0aGUgc3ViLWludGVycHJldGVyIGZvciBpdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0b3JlTGlzdFZhbHVlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaWQgLSBUaGUgSUQgb2YgdGhlIGNvbW1vbiBldmVudCB0byBjYWxsLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPcHRpb25hbCBjb21tb24gZXZlbnQgcGFyYW1ldGVycy5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2FpdCAtIEluZGljYXRlcyBpZiB0aGUgaW50ZXJwcmV0ZXIgc2hvdWxkIGJlIHN0YXkgaW4gd2FpdGluZy1tb2RlIGV2ZW4gaWYgdGhlIHN1Yi1pbnRlcnByZXRlciBpcyBmaW5pc2hlZC5cbiAgICAjIyMgICAgICAgIFxuICAgIHN0b3JlTGlzdFZhbHVlOiAodmFyaWFibGUsIGxpc3QsIHZhbHVlLCB2YWx1ZVR5cGUpIC0+XG4gICAgICAgIHN3aXRjaCB2YWx1ZVR5cGVcbiAgICAgICAgICAgIHdoZW4gMCAjIE51bWJlciBWYWx1ZVxuICAgICAgICAgICAgICAgIEBzZXROdW1iZXJWYWx1ZVRvKHZhcmlhYmxlLCAoaWYgIWlzTmFOKHZhbHVlKSB0aGVuIHZhbHVlIGVsc2UgMCkpXG4gICAgICAgICAgICB3aGVuIDEgIyBTd2l0Y2ggVmFsdWVcbiAgICAgICAgICAgICAgICBAc2V0Qm9vbGVhblZhbHVlVG8odmFyaWFibGUsIChpZiB2YWx1ZSB0aGVuIDEgZWxzZSAwKSlcbiAgICAgICAgICAgIHdoZW4gMiAjIFRleHQgVmFsdWVcbiAgICAgICAgICAgICAgICBAc2V0U3RyaW5nVmFsdWVUbyh2YXJpYWJsZSwgdmFsdWUudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIHdoZW4gMyAjIExpc3QgVmFsdWVcbiAgICAgICAgICAgICAgICBAc2V0TGlzdE9iamVjdFRvKHZhcmlhYmxlLCAoaWYgdmFsdWUubGVuZ3RoPyB0aGVuIHZhbHVlIGVsc2UgW10pKSBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBqdW1wVG9MYWJlbFxuICAgICMjIyAgICAgICAgIFxuICAgIGp1bXBUb0xhYmVsOiAobGFiZWwpIC0+XG4gICAgICAgIHJldHVybiBpZiBub3QgbGFiZWxcbiAgICAgICAgQHdhaXRDb3VudGVyID0gMFxuICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgZm9yIGkgaW4gWzAuLi5Ab2JqZWN0LmNvbW1hbmRzLmxlbmd0aF1cbiAgICAgICAgICAgIGlmIEBvYmplY3QuY29tbWFuZHNbaV0uaWQgPT0gXCJncy5MYWJlbFwiIGFuZCBAb2JqZWN0LmNvbW1hbmRzW2ldLnBhcmFtcy5uYW1lID09IGxhYmVsXG4gICAgICAgICAgICAgICAgQHBvaW50ZXIgPSBpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IG1lc3NhZ2UgYm94IG9iamVjdCBkZXBlbmRpbmcgb24gZ2FtZSBtb2RlIChBRFYgb3IgTlZMKS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1lc3NhZ2VCb3hPYmplY3RcbiAgICAqIEByZXR1cm4ge2dzLk9iamVjdF9CYXNlfSBUaGUgbWVzc2FnZSBib3ggb2JqZWN0LlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgIFxuICAgIG1lc3NhZ2VCb3hPYmplY3Q6IC0+XG4gICAgICAgIGlmIFNjZW5lTWFuYWdlci5zY2VuZS5sYXlvdXQudmlzaWJsZVxuICAgICAgICAgICAgcmV0dXJuIGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwibWVzc2FnZUJveFwiKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJtZXNzYWdlQm94TlZMXCIpXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IG1lc3NhZ2Ugb2JqZWN0IGRlcGVuZGluZyBvbiBnYW1lIG1vZGUgKEFEViBvciBOVkwpLlxuICAgICpcbiAgICAqIEBtZXRob2QgbWVzc2FnZU9iamVjdFxuICAgICogQHJldHVybiB7dWkuT2JqZWN0X01lc3NhZ2V9IFRoZSBtZXNzYWdlIG9iamVjdC5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgXG4gICAgbWVzc2FnZU9iamVjdDogLT5cbiAgICAgICAgaWYgU2NlbmVNYW5hZ2VyLnNjZW5lLmxheW91dC52aXNpYmxlXG4gICAgICAgICAgICByZXR1cm4gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJnYW1lTWVzc2FnZV9tZXNzYWdlXCIpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcImdhbWVNZXNzYWdlTlZMX21lc3NhZ2VcIilcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IG1lc3NhZ2UgSUQgZGVwZW5kaW5nIG9uIGdhbWUgbW9kZSAoQURWIG9yIE5WTCkuXG4gICAgKlxuICAgICogQG1ldGhvZCBtZXNzYWdlT2JqZWN0SWRcbiAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1lc3NhZ2Ugb2JqZWN0IElELlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgXG4gICAgbWVzc2FnZU9iamVjdElkOiAtPlxuICAgICAgICBpZiBTY2VuZU1hbmFnZXIuc2NlbmUubGF5b3V0LnZpc2libGVcbiAgICAgICAgICAgIHJldHVybiBcImdhbWVNZXNzYWdlX21lc3NhZ2VcIlxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gXCJnYW1lTWVzc2FnZU5WTF9tZXNzYWdlXCJcbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IG1lc3NhZ2Ugc2V0dGluZ3MuXG4gICAgKlxuICAgICogQG1ldGhvZCBtZXNzYWdlU2V0dGluZ3NcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG1lc3NhZ2Ugc2V0dGluZ3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIG1lc3NhZ2VTZXR0aW5nczogLT5cbiAgICAgICAgc2V0dGluZ3MgPSBAc2V0dGluZ3MubWVzc2FnZS5ieUlkW0BzZXR0aW5ncy5tZXNzYWdlLnRhcmdldD8uaWQgPyBAbWVzc2FnZU9iamVjdElkKCldXG4gICAgICAgIGlmICFzZXR0aW5nc1xuICAgICAgICAgICAgc2V0dGluZ3MgPSB7IHdhaXRBdEVuZDogeWVzLCBhdXRvRXJhc2U6IHllcywgYmFja2xvZzogeWVzIH1cbiAgICAgICAgICAgIEBzZXR0aW5ncy5tZXNzYWdlLmJ5SWRbQHNldHRpbmdzLm1lc3NhZ2UudGFyZ2V0Py5pZCA/IEBtZXNzYWdlT2JqZWN0SWQoKV0gPSBzZXR0aW5nc1xuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBzZXR0aW5nc1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSBjdXJyZW50IHRhcmdldCBtZXNzYWdlIG9iamVjdCB3aGVyZSBhbGwgbWVzc2FnZSBjb21tYW5kcyBhcmUgZXhlY3V0ZWQgb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB0YXJnZXRNZXNzYWdlXG4gICAgKiBAcmV0dXJuIHt1aS5PYmplY3RfTWVzc2FnZX0gVGhlIHRhcmdldCBtZXNzYWdlIG9iamVjdC5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICBcbiAgICB0YXJnZXRNZXNzYWdlOiAtPlxuICAgICAgICBtZXNzYWdlID0gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICB0YXJnZXQgPSBAc2V0dGluZ3MubWVzc2FnZS50YXJnZXRcbiAgICAgICAgaWYgdGFyZ2V0P1xuICAgICAgICAgICAgc3dpdGNoIHRhcmdldC50eXBlXG4gICAgICAgICAgICAgICAgd2hlbiAwICMgTGF5b3V0LUJhc2VkXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZCh0YXJnZXQuaWQpID8gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICAgICAgICAgIHdoZW4gMSAjIEN1c3RvbVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gU2NlbmVNYW5hZ2VyLnNjZW5lLm1lc3NhZ2VBcmVhc1t0YXJnZXQuaWRdPy5tZXNzYWdlID8gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgY3VycmVudCB0YXJnZXQgbWVzc2FnZSBib3ggY29udGFpbmluZyB0aGUgY3VycmVudCB0YXJnZXQgbWVzc2FnZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRhcmdldE1lc3NhZ2VCb3hcbiAgICAqIEByZXR1cm4ge3VpLk9iamVjdF9VSUVsZW1lbnR9IFRoZSB0YXJnZXQgbWVzc2FnZSBib3guXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICBcbiAgICB0YXJnZXRNZXNzYWdlQm94OiAtPlxuICAgICAgICBtZXNzYWdlQm94ID0gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICB0YXJnZXQgPSBAc2V0dGluZ3MubWVzc2FnZS50YXJnZXRcbiAgICAgICAgaWYgdGFyZ2V0P1xuICAgICAgICAgICAgc3dpdGNoIHRhcmdldC50eXBlXG4gICAgICAgICAgICAgICAgd2hlbiAwICMgTGF5b3V0LUJhc2VkXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCb3ggPSBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZCh0YXJnZXQuaWQpID8gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICAgICAgICAgIHdoZW4gMSAjIEN1c3RvbVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQm94ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJjdXN0b21HYW1lTWVzc2FnZV9cIit0YXJnZXQuaWQpID8gQG1lc3NhZ2VPYmplY3QoKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VCb3hcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGFmdGVyIGFuIGlucHV0IG51bWJlciBkaWFsb2cgd2FzIGFjY2VwdGVkIGJ5IHRoZSB1c2VyLiBJdCB0YWtlcyB0aGUgdXNlcidzIGlucHV0IGFuZCBwdXRzXG4gICAgKiBpdCBpbiB0aGUgY29uZmlndXJlZCBudW1iZXIgdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBvbklucHV0TnVtYmVyRmluaXNoXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IE9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgZGF0YSBsaWtlIHRoZSBudW1iZXIsIGV0Yy5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgb25JbnB1dE51bWJlckZpbmlzaDogKGUpIC0+XG4gICAgICAgIEBtZXNzYWdlT2JqZWN0KCkuYmVoYXZpb3IuY2xlYXIoKVxuICAgICAgICBAc2V0TnVtYmVyVmFsdWVUbyhAd2FpdGluZ0Zvci5pbnB1dE51bWJlci52YXJpYWJsZSwgcGFyc2VJbnQodWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoZS5zZW5kZXIsIGUubnVtYmVyKSkpXG4gICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICBAd2FpdGluZ0Zvci5pbnB1dE51bWJlciA9IG51bGxcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLmlucHV0TnVtYmVyQm94LmRpc3Bvc2UoKVxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGxlZCBhZnRlciBhbiBpbnB1dCB0ZXh0IGRpYWxvZyB3YXMgYWNjZXB0ZWQgYnkgdGhlIHVzZXIuIEl0IHRha2VzIHRoZSB1c2VyJ3MgdGV4dCBpbnB1dCBhbmQgcHV0c1xuICAgICogaXQgaW4gdGhlIGNvbmZpZ3VyZWQgc3RyaW5nIHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgb25JbnB1dFRleHRGaW5pc2hcbiAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgT2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBkYXRhIGxpa2UgdGhlIHRleHQsIGV0Yy5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgb25JbnB1dFRleHRGaW5pc2g6IChlKSAtPlxuICAgICAgICBAbWVzc2FnZU9iamVjdCgpLmJlaGF2aW9yLmNsZWFyKClcbiAgICAgICAgQHNldFN0cmluZ1ZhbHVlVG8oQHdhaXRpbmdGb3IuaW5wdXRUZXh0LnZhcmlhYmxlLCB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShlLnNlbmRlciwgZS50ZXh0KS5yZXBsYWNlKC9fL2csIFwiXCIpKVxuICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgQHdhaXRpbmdGb3IuaW5wdXRUZXh0ID0gbnVsbFxuICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUuaW5wdXRUZXh0Qm94LmRpc3Bvc2UoKVxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGxlZCBhZnRlciBhIGNob2ljZSB3YXMgc2VsZWN0ZWQgYnkgdGhlIHVzZXIuIEl0IGp1bXBzIHRvIHRoZSBjb3JyZXNwb25kaW5nIGxhYmVsXG4gICAgKiBhbmQgYWxzbyBwdXRzIHRoZSBjaG9pY2UgaW50byBiYWNrbG9nLlxuICAgICpcbiAgICAqIEBtZXRob2Qgb25DaG9pY2VBY2NlcHRcbiAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgT2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBkYXRhIGxpa2UgdGhlIGxhYmVsLCBldGMuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBvbkNob2ljZUFjY2VwdDogKGUpIC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIHNjZW5lLmNob2ljZVRpbWVyLmJlaGF2aW9yLnN0b3AoKVxuICAgICAgICBcbiAgICAgICAgZS5pc1NlbGVjdGVkID0geWVzXG4gICAgICAgIGRlbGV0ZSBlLnNlbmRlclxuICAgICAgICBcbiAgICAgICAgR2FtZU1hbmFnZXIuYmFja2xvZy5wdXNoKHsgY2hhcmFjdGVyOiB7IG5hbWU6IFwiXCIgfSwgbWVzc2FnZTogXCJcIiwgY2hvaWNlOiBlLCBjaG9pY2VzOiAkdGVtcEZpZWxkcy5jaG9pY2VzLCBpc0Nob2ljZTogeWVzIH0pXG4gICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlcyA9IFtdXG4gICAgICAgIG1lc3NhZ2VPYmplY3QgPSBAbWVzc2FnZU9iamVjdCgpXG4gICAgICAgIGlmIG1lc3NhZ2VPYmplY3Q/LnZpc2libGVcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIGZhZGluZyA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5tZXNzYWdlRmFkaW5nXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGlmIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwIHRoZW4gMCBlbHNlIGZhZGluZy5kdXJhdGlvblxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5hbmltYXRvci5kaXNhcHBlYXIoZmFkaW5nLmFuaW1hdGlvbiwgZmFkaW5nLmVhc2luZywgZHVyYXRpb24sID0+XG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5iZWhhdmlvci5jbGVhcigpXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdC52aXNpYmxlID0gbm9cbiAgICAgICAgICAgICAgICBAaXNXYWl0aW5nID0gbm9cbiAgICAgICAgICAgICAgICBAd2FpdGluZ0Zvci5jaG9pY2UgPSBudWxsXG4gICAgICAgICAgICAgICAgQGV4ZWN1dGVBY3Rpb24oZS5hY3Rpb24sIHRydWUpXG4gICAgICAgICAgICApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgQGV4ZWN1dGVBY3Rpb24oZS5hY3Rpb24sIHRydWUpXG4gICAgICAgIHNjZW5lLmNob2ljZVdpbmRvdy5kaXNwb3NlKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgd2hlbiBhIE5WTCBtZXNzYWdlIGZpbmlzaGVzLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIG9uTWVzc2FnZU5WTEZpbmlzaFxuICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBPYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGRhdGEuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgICBcbiAgICBvbk1lc3NhZ2VOVkxGaW5pc2g6IChlKSAtPlxuICAgICAgICBtZXNzYWdlT2JqZWN0ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJnYW1lTWVzc2FnZU5WTF9tZXNzYWdlXCIpXG4gICAgICAgIG1lc3NhZ2VPYmplY3QuY2hhcmFjdGVyID0gbnVsbFxuICAgICAgICBtZXNzYWdlT2JqZWN0LmV2ZW50cy5vZmYgXCJmaW5pc2hcIiwgZS5oYW5kbGVyXG4gICAgICAgIEBpc1dhaXRpbmcgPSBub1xuICAgICAgICBAd2FpdGluZ0Zvci5tZXNzYWdlTlZMID0gbnVsbFxuICAgICAgICBpZiBtZXNzYWdlT2JqZWN0LnZvaWNlPyBhbmQgR2FtZU1hbmFnZXIuc2V0dGluZ3Muc2tpcFZvaWNlT25BY3Rpb25cbiAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5zdG9wU291bmQobWVzc2FnZU9iamVjdC52b2ljZS5uYW1lKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBJZGxlXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRJZGxlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRJZGxlOiAtPlxuICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RhcnQgVGltZXJcbiAgICAqIEBtZXRob2QgY29tbWFuZFN0YXJ0VGltZXJcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRTdGFydFRpbWVyOiAtPlxuICAgICAgICB0aW1lcnMgPSBAaW50ZXJwcmV0ZXIudGltZXJzXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBpZiB0aW1lcnNbbnVtYmVyXT9cbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJzW251bWJlcl0pXG4gICAgICAgICAgICB0aW1lcnNbbnVtYmVyXSA9IG51bGxcbiAgICAgICAgICAgIFxuICAgICAgICB0aW1lcnNbbnVtYmVyXSA9IHNldEludGVydmFsICgocGFyYW1zKSA9PlxuICAgICAgICAgICAgc3dpdGNoIHBhcmFtcy5hY3Rpb24udHlwZVxuICAgICAgICAgICAgICAgIHdoZW4gMCAjIEp1bXAgVG8gTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgaWYgcGFyYW1zLmxhYmVsSW5kZXg/XG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIucG9pbnRlciA9IHBhcmFtcy5sYWJlbEluZGV4XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5qdW1wVG9MYWJlbChwYXJhbXMuYWN0aW9uLmRhdGEubGFiZWwpXG4gICAgICAgICAgICAgICAgd2hlbiAxICMgQ2FsbCBDb21tb24gRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLmNhbGxDb21tb25FdmVudChwYXJhbXMuY29tbW9uRXZlbnRJZClcbiAgICAgICAgKSwgQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5pbnRlcnZhbCksIEBwYXJhbXMgXG4gICAgIFxuICAgICMjIypcbiAgICAqIFN0b3AgVGltZXJcbiAgICAqIEBtZXRob2QgY29tbWFuZFN0b3BUaW1lclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIGNvbW1hbmRTdG9wVGltZXI6IC0+XG4gICAgICAgIHRpbWVycyA9IEBpbnRlcnByZXRlci50aW1lcnNcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIGlmIHRpbWVyc1tudW1iZXJdP1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcnNbbnVtYmVyXSlcbiAgICAgICAgICAgIHRpbWVyc1tudW1iZXJdID0gbnVsbFxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogV2FpdFxuICAgICogQG1ldGhvZCBjb21tYW5kV2FpdFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kV2FpdDogLT5cbiAgICAgICAgdGltZSA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy50aW1lKSBcbiAgICAgICAgXG4gICAgICAgIGlmIHRpbWU/IGFuZCB0aW1lID4gMCBhbmQgIUBpbnRlcnByZXRlci5wcmV2aWV3RGF0YVxuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gdGltZVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMb29wXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRMb29wXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRMb29wOiAtPlxuICAgICAgICBAaW50ZXJwcmV0ZXIubG9vcHNbQGludGVycHJldGVyLmluZGVudF0gPSBAaW50ZXJwcmV0ZXIucG9pbnRlclxuICAgICAgICBAaW50ZXJwcmV0ZXIuaW5kZW50KytcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQnJlYWsgTG9vcFxuICAgICogQG1ldGhvZCBjb21tYW5kQnJlYWtMb29wXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRCcmVha0xvb3A6IC0+XG4gICAgICAgIGluZGVudCA9IEBpbmRlbnRcbiAgICAgICAgd2hpbGUgbm90IEBpbnRlcnByZXRlci5sb29wc1tpbmRlbnRdPyBhbmQgaW5kZW50ID4gMFxuICAgICAgICAgICAgaW5kZW50LS1cbiAgICAgICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIubG9vcHNbaW5kZW50XSA9IG51bGxcbiAgICAgICAgQGludGVycHJldGVyLmluZGVudCA9IGluZGVudFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExpc3RBZGRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIGNvbW1hbmRMaXN0QWRkOiAtPlxuICAgICAgICBsaXN0ID0gQGludGVycHJldGVyLmxpc3RPYmplY3RPZihAcGFyYW1zLmxpc3RWYXJpYWJsZSlcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLnZhbHVlVHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyIFZhbHVlXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpKVxuICAgICAgICAgICAgd2hlbiAxICMgU3dpdGNoIFZhbHVlXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKSlcbiAgICAgICAgICAgIHdoZW4gMiAjIFRleHQgVmFsdWVcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy5zdHJpbmdWYWx1ZSkpXG4gICAgICAgICAgICB3aGVuIDMgIyBMaXN0IFZhbHVlXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFsdWUpKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TGlzdE9iamVjdFRvKEBwYXJhbXMubGlzdFZhcmlhYmxlLCBsaXN0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExpc3RQb3BcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZExpc3RQb3A6IC0+XG4gICAgICAgIGxpc3QgPSBAaW50ZXJwcmV0ZXIubGlzdE9iamVjdE9mKEBwYXJhbXMubGlzdFZhcmlhYmxlKVxuICAgICAgICB2YWx1ZSA9IGxpc3QucG9wKCkgPyAwXG5cbiAgICAgICAgQGludGVycHJldGVyLnN0b3JlTGlzdFZhbHVlKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIGxpc3QsIHZhbHVlLCBAcGFyYW1zLnZhbHVlVHlwZSlcbiAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTGlzdFNoaWZ0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRMaXN0U2hpZnQ6IC0+XG4gICAgICAgIGxpc3QgPSBAaW50ZXJwcmV0ZXIubGlzdE9iamVjdE9mKEBwYXJhbXMubGlzdFZhcmlhYmxlKVxuICAgICAgICB2YWx1ZSA9IGxpc3Quc2hpZnQoKSA/IDBcblxuICAgICAgICBAaW50ZXJwcmV0ZXIuc3RvcmVMaXN0VmFsdWUoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgbGlzdCwgdmFsdWUsIEBwYXJhbXMudmFsdWVUeXBlKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExpc3RJbmRleE9mXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRMaXN0SW5kZXhPZjogLT5cbiAgICAgICAgbGlzdCA9IEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFyaWFibGUpXG4gICAgICAgIHZhbHVlID0gLTFcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLnZhbHVlVHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyIFZhbHVlXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsaXN0LmluZGV4T2YoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSkpXG4gICAgICAgICAgICB3aGVuIDEgIyBTd2l0Y2ggVmFsdWVcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxpc3QuaW5kZXhPZihAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSkpXG4gICAgICAgICAgICB3aGVuIDIgIyBUZXh0IFZhbHVlXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsaXN0LmluZGV4T2YoQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy5zdHJpbmdWYWx1ZSkpXG4gICAgICAgICAgICB3aGVuIDMgIyBMaXN0IFZhbHVlXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBsaXN0LmluZGV4T2YoQGludGVycHJldGVyLmxpc3RPYmplY3RPZihAcGFyYW1zLmxpc3RWYWx1ZSkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHZhbHVlKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRMaXN0VmFsdWVBdFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZExpc3RWYWx1ZUF0OiAtPlxuICAgICAgICBsaXN0ID0gQGludGVycHJldGVyLmxpc3RPYmplY3RPZihAcGFyYW1zLmxpc3RWYXJpYWJsZSlcbiAgICAgICAgaW5kZXggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmluZGV4KVxuICAgICAgICBcbiAgICAgICAgaWYgaW5kZXggPj0gMCBhbmQgaW5kZXggPCBsaXN0Lmxlbmd0aFxuICAgICAgICAgICAgdmFsdWUgPSBsaXN0W2luZGV4XSA/IDBcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5zdG9yZUxpc3RWYWx1ZShAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBsaXN0LCB2YWx1ZSwgQHBhcmFtcy52YWx1ZVR5cGUpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExpc3RSZW1vdmVBdFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICBcbiAgICBjb21tYW5kTGlzdFJlbW92ZUF0OiAtPlxuICAgICAgICBsaXN0ID0gQGludGVycHJldGVyLmxpc3RPYmplY3RPZihAcGFyYW1zLmxpc3RWYXJpYWJsZSlcbiAgICAgICAgaW5kZXggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmluZGV4KVxuICAgICAgICBcbiAgICAgICAgaWYgaW5kZXggPj0gMCBhbmQgaW5kZXggPCBsaXN0Lmxlbmd0aFxuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTGlzdEluc2VydEF0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgIFxuICAgIGNvbW1hbmRMaXN0SW5zZXJ0QXQ6IC0+XG4gICAgICAgIGxpc3QgPSBAaW50ZXJwcmV0ZXIubGlzdE9iamVjdE9mKEBwYXJhbXMubGlzdFZhcmlhYmxlKVxuICAgICAgICBpbmRleCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuaW5kZXgpXG4gICAgICAgIFxuICAgICAgICBpZiBpbmRleCA+PSAwIGFuZCBpbmRleCA8IGxpc3QubGVuZ3RoXG4gICAgICAgICAgICBzd2l0Y2ggQHBhcmFtcy52YWx1ZVR5cGVcbiAgICAgICAgICAgICAgICB3aGVuIDAgIyBOdW1iZXIgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpKVxuICAgICAgICAgICAgICAgIHdoZW4gMSAjIFN3aXRjaCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMCwgQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpKVxuICAgICAgICAgICAgICAgIHdoZW4gMiAjIFRleHQgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMuc3RyaW5nVmFsdWUpKVxuICAgICAgICAgICAgICAgIHdoZW4gMyAjIExpc3QgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRMaXN0T2JqZWN0VG8oQHBhcmFtcy5saXN0VmFyaWFibGUsIGxpc3QpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTGlzdFNldFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgXG4gICAgY29tbWFuZExpc3RTZXQ6IC0+XG4gICAgICAgIGxpc3QgPSBAaW50ZXJwcmV0ZXIubGlzdE9iamVjdE9mKEBwYXJhbXMubGlzdFZhcmlhYmxlKVxuICAgICAgICBpbmRleCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuaW5kZXgpXG4gICAgICAgIFxuICAgICAgICBpZiBpbmRleCA+PSAwXG4gICAgICAgICAgICBzd2l0Y2ggQHBhcmFtcy52YWx1ZVR5cGVcbiAgICAgICAgICAgICAgICB3aGVuIDAgIyBOdW1iZXIgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdFtpbmRleF0gPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlclZhbHVlKVxuICAgICAgICAgICAgICAgIHdoZW4gMSAjIFN3aXRjaCBWYWx1ZVxuICAgICAgICAgICAgICAgICAgICBsaXN0W2luZGV4XSA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgICAgIHdoZW4gMiAjIFRleHQgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdFtpbmRleF0gPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnN0cmluZ1ZhbHVlKVxuICAgICAgICAgICAgICAgIHdoZW4gMyAjIExpc3QgVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgbGlzdFtpbmRleF0gPSBAaW50ZXJwcmV0ZXIubGlzdE9iamVjdE9mKEBwYXJhbXMubGlzdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRMaXN0T2JqZWN0VG8oQHBhcmFtcy5saXN0VmFyaWFibGUsIGxpc3QpICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTGlzdENvcHlcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgXG4gICAgY29tbWFuZExpc3RDb3B5OiAtPlxuICAgICAgICBsaXN0ID0gQGludGVycHJldGVyLmxpc3RPYmplY3RPZihAcGFyYW1zLmxpc3RWYXJpYWJsZSlcbiAgICAgICAgY29weSA9IE9iamVjdC5kZWVwQ29weShsaXN0KVxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLnNldExpc3RPYmplY3RUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBjb3B5KSBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTGlzdExlbmd0aFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kTGlzdExlbmd0aDogLT5cbiAgICAgICAgbGlzdCA9IEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFyaWFibGUpXG5cbiAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgbGlzdC5sZW5ndGgpIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRMaXN0U2h1ZmZsZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRMaXN0U2h1ZmZsZTogLT5cbiAgICAgICAgbGlzdCA9IEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFyaWFibGUpXG4gICAgICAgIGlmIGxpc3QubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGZvciBpIGluIFtsaXN0Lmxlbmd0aC0xLi4xXVxuICAgICAgICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpKzEpKVxuICAgICAgICAgICAgdGVtcGkgPSBsaXN0W2ldXG4gICAgICAgICAgICB0ZW1waiA9IGxpc3Rbal1cbiAgICAgICAgICAgIGxpc3RbaV0gPSB0ZW1walxuICAgICAgICAgICAgbGlzdFtqXSA9IHRlbXBpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExpc3RTb3J0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgIFxuICAgIGNvbW1hbmRMaXN0U29ydDogLT5cbiAgICAgICAgbGlzdCA9IEBpbnRlcnByZXRlci5saXN0T2JqZWN0T2YoQHBhcmFtcy5saXN0VmFyaWFibGUpXG4gICAgICAgIGlmIGxpc3QubGVuZ3RoID09IDAgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLnNvcnRPcmRlclxuICAgICAgICAgICAgd2hlbiAwICMgQXNjZW5kaW5nXG4gICAgICAgICAgICAgICAgbGlzdC5zb3J0IChhLCBiKSAtPiBcbiAgICAgICAgICAgICAgICAgICAgaWYgYSA8IGIgdGhlbiByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgYSA+IGIgdGhlbiByZXR1cm4gMVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICAgICAgd2hlbiAxICMgRGVzY2VuZGluZ1xuICAgICAgICAgICAgICAgIGxpc3Quc29ydCAoYSwgYikgLT5cbiAgICAgICAgICAgICAgICAgICAgaWYgYSA+IGIgdGhlbiByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgYSA8IGIgdGhlbiByZXR1cm4gMVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VOdW1iZXJWYXJpYWJsZXNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZENoYW5nZU51bWJlclZhcmlhYmxlczogLT5cbiAgICAgICAgc291cmNlID0gMFxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMuc291cmNlXG4gICAgICAgICAgICB3aGVuIDAgIyBDb25zdGFudCBWYWx1ZSAvIFZhcmlhYmxlIFZhbHVlXG4gICAgICAgICAgICAgICAgc291cmNlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5zb3VyY2VWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMSAjIFJhbmRvbVxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5zb3VyY2VSYW5kb20uc3RhcnQpXG4gICAgICAgICAgICAgICAgZW5kID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5zb3VyY2VSYW5kb20uZW5kKVxuICAgICAgICAgICAgICAgIGRpZmYgPSBlbmQgLSBzdGFydFxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IE1hdGguZmxvb3Ioc3RhcnQgKyBNYXRoLnJhbmRvbSgpICogKGRpZmYrMSkpXG4gICAgICAgICAgICB3aGVuIDIgIyBQb2ludGVyXG4gICAgICAgICAgICAgICAgc291cmNlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlQXRJbmRleChAcGFyYW1zLnNvdXJjZVNjb3BlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnNvdXJjZVJlZmVyZW5jZSktMSlcbiAgICAgICAgICAgIHdoZW4gMyAjIEdhbWUgRGF0YVxuICAgICAgICAgICAgICAgIHNvdXJjZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mR2FtZURhdGEoQHBhcmFtcy5zb3VyY2VWYWx1ZTEpXG4gICAgICAgICAgICB3aGVuIDQgIyBEYXRhYmFzZSBEYXRhXG4gICAgICAgICAgICAgICAgc291cmNlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2ZEYXRhYmFzZURhdGEoQHBhcmFtcy5zb3VyY2VWYWx1ZTEpXG4gICAgICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMudGFyZ2V0XG4gICAgICAgICAgICB3aGVuIDAgIyBWYXJpYWJsZVxuICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSArIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3ViXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSAtIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAzICMgTXVsXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSAqIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA0ICMgRGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSAvIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA1ICMgTW9kXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSAlIHNvdXJjZSlcbiAgICAgICAgICAgIHdoZW4gMSAjIFJhbmdlXG4gICAgICAgICAgICAgICAgc2NvcGUgPSBAcGFyYW1zLnRhcmdldFNjb3BlXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBAcGFyYW1zLnRhcmdldFJhbmdlLnN0YXJ0LTFcbiAgICAgICAgICAgICAgICBlbmQgPSBAcGFyYW1zLnRhcmdldFJhbmdlLmVuZC0xXG4gICAgICAgICAgICAgICAgZm9yIGkgaW4gW3N0YXJ0Li5lbmRdXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiAwICMgU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaSwgc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaSwgQGludGVycHJldGVyLm51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaSkgKyBzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDIgIyBTdWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KHNjb3BlLCBpLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KHNjb3BlLCBpKSAtIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gMyAjIE11bFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZUF0SW5kZXgoc2NvcGUsIGksIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZUF0SW5kZXgoc2NvcGUsIGkpICogc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiA0ICMgRGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaSwgQGludGVycHJldGVyLm51bWJlclZhbHVlQXRJbmRleChzY29wZSwgaSkgLyBzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDUgIyBNb2RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KHNjb3BlLCBpLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KHNjb3BlLCBpKSAlIHNvdXJjZSlcbiAgICAgICAgICAgIHdoZW4gMiAjIFJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIGluZGV4ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy50YXJnZXRSZWZlcmVuY2UpIC0gMVxuICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZUF0SW5kZXgoQHBhcmFtcy50YXJnZXRTY29wZSwgaW5kZXgsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4LCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4KSArIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3ViXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4LCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4KSAtIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAzICMgTXVsXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4LCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4KSAqIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA0ICMgRGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4LCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4KSAvIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA1ICMgTW9kXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4LCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVBdEluZGV4KEBwYXJhbXMudGFyZ2V0U2NvcGUsIGluZGV4KSAlIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VCb29sZWFuVmFyaWFibGVzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRDaGFuZ2VCb29sZWFuVmFyaWFibGVzOiAtPlxuICAgICAgICBzb3VyY2UgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy52YWx1ZSlcblxuICAgICAgICBzd2l0Y2ggQHBhcmFtcy50YXJnZXRcbiAgICAgICAgICAgIHdoZW4gMCAjIFZhcmlhYmxlXG4gICAgICAgICAgICAgICAgaWYgc291cmNlID09IDIgIyBUcmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUpXG4gICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRCb29sZWFuVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBpZiB0YXJnZXRWYWx1ZSB0aGVuIDAgZWxzZSAxKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNvdXJjZSlcbiAgICAgICAgICAgIHdoZW4gMSAjIFJhbmdlXG4gICAgICAgICAgICAgICAgdmFyaWFibGUgPSB7IGluZGV4OiAwLCBzY29wZTogQHBhcmFtcy50YXJnZXRSYW5nZVNjb3BlIH1cbiAgICAgICAgICAgICAgICBmb3IgaSBpbiBbKEBwYXJhbXMucmFuZ2VTdGFydC0xKS4uKEBwYXJhbXMucmFuZ2VFbmQtMSldXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlLmluZGV4ID0gaVxuICAgICAgICAgICAgICAgICAgICBpZiBzb3VyY2UgPT0gMiAjIFRyaWdnZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFZhbHVlID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKHZhcmlhYmxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKHZhcmlhYmxlLCBpZiB0YXJnZXRWYWx1ZSB0aGVuIDAgZWxzZSAxKVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8odmFyaWFibGUsIHNvdXJjZSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VTdHJpbmdWYXJpYWJsZXNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZENoYW5nZVN0cmluZ1ZhcmlhYmxlczogLT5cbiAgICAgICAgc291cmNlID0gXCJcIlxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMudmFsdWVUeXBlXG4gICAgICAgICAgICB3aGVuIDAgIyBDb25zdGFudCBUZXh0XG4gICAgICAgICAgICAgICAgc291cmNlID0gbGNzKEBwYXJhbXMudGV4dFZhbHVlKVxuICAgICAgICAgICAgd2hlbiAxICMgVmFyaWFibGVcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnZhbHVlVmFyaWFibGUpXG4gICAgICAgICAgICB3aGVuIDIgIyBEYXRhYmFzZSBEYXRhXG4gICAgICAgICAgICAgICAgc291cmNlID0gQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2ZEYXRhYmFzZURhdGEoQHBhcmFtcy5kYXRhYmFzZURhdGEpXG4gICAgICAgICAgICB3aGVuIDIgIyBTY3JpcHRcbiAgICAgICAgICAgICAgICB0cnlcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gZXZhbChAcGFyYW1zLnNjcmlwdClcbiAgICAgICAgICAgICAgICBjYXRjaCBleFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBcIkVSUjogXCIgKyBleC5tZXNzYWdlXG4gICAgICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMudGFyZ2V0XG4gICAgICAgICAgICB3aGVuIDAgIyBWYXJpYWJsZVxuICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9wZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnRhcmdldFZhcmlhYmxlKSArIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgVG8gVXBwZXItQ2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSkudG9VcHBlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAzICMgVG8gTG93ZXItQ2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSkudG9Mb3dlckNhc2UoKSlcblxuICAgICAgICAgICAgd2hlbiAxICMgUmFuZ2VcbiAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IHsgaW5kZXg6IDAsIHNjb3BlOiBAcGFyYW1zLnRhcmdldFJhbmdlU2NvcGUgfVxuICAgICAgICAgICAgICAgIGZvciBpIGluIFtAcGFyYW1zLnJhbmdlU3RhcnQtMS4uQHBhcmFtcy5yYW5nZUVuZC0xXVxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5pbmRleCA9IGlcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIEBwYXJhbXMub3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyh2YXJpYWJsZSwgc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8odmFyaWFibGUsIEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKHZhcmlhYmxlKSArIHNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gMiAjIFRvIFVwcGVyLUNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyh2YXJpYWJsZSwgQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YodmFyaWFibGUpLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDMgIyBUbyBMb3dlci1DYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8odmFyaWFibGUsIEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKHZhcmlhYmxlKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGVja1N3aXRjaFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZENoZWNrU3dpdGNoOiAtPlxuICAgICAgICByZXN1bHQgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSkgJiYgQHBhcmFtcy52YWx1ZVxuICAgICAgICBpZiByZXN1bHRcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5wb2ludGVyID0gQHBhcmFtcy5sYWJlbEluZGV4XG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTnVtYmVyQ29uZGl0aW9uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgXG4gICAgY29tbWFuZE51bWJlckNvbmRpdGlvbjogLT5cbiAgICAgICAgcmVzdWx0ID0gQGludGVycHJldGVyLmNvbXBhcmUoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSksIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMudmFsdWUpLCBAcGFyYW1zLm9wZXJhdGlvbilcbiAgICAgICAgQGludGVycHJldGVyLmNvbmRpdGlvbnNbQGludGVycHJldGVyLmluZGVudF0gPSByZXN1bHRcbiAgICAgICAgXG4gICAgICAgIGlmIHJlc3VsdFxuICAgICAgICAgICAgQGludGVycHJldGVyLmluZGVudCsrXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ29uZGl0aW9uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgIFxuICAgIGNvbW1hbmRDb25kaXRpb246IC0+XG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLnZhbHVlVHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQGludGVycHJldGVyLmNvbXBhcmUoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy52YXJpYWJsZSksIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpLCBAcGFyYW1zLm9wZXJhdGlvbilcbiAgICAgICAgICAgIHdoZW4gMSAjIFN3aXRjaFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBpbnRlcnByZXRlci5jb21wYXJlKEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnZhcmlhYmxlKSwgQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpLCBAcGFyYW1zLm9wZXJhdGlvbilcbiAgICAgICAgICAgIHdoZW4gMiAjIFRleHRcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBAaW50ZXJwcmV0ZXIuY29tcGFyZShAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnZhcmlhYmxlKSwgQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50ZXh0VmFsdWUpLCBAcGFyYW1zLm9wZXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5jb25kaXRpb25zW0BpbnRlcnByZXRlci5pbmRlbnRdID0gcmVzdWx0XG4gICAgICAgIGlmIHJlc3VsdFxuICAgICAgICAgICAgQGludGVycHJldGVyLmluZGVudCsrICAgIFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDb25kaXRpb25FbHNlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgXG4gICAgY29tbWFuZENvbmRpdGlvbkVsc2U6IC0+XG4gICAgICAgIGlmIG5vdCBAaW50ZXJwcmV0ZXIuY29uZGl0aW9uc1tAaW50ZXJwcmV0ZXIuaW5kZW50XVxuICAgICAgICAgICAgQGludGVycHJldGVyLmluZGVudCsrXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ29uZGl0aW9uRWxzZUlmXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBjb21tYW5kQ29uZGl0aW9uRWxzZUlmOiAtPlxuICAgICAgICBpZiBub3QgQGludGVycHJldGVyLmNvbmRpdGlvbnNbQGludGVycHJldGVyLmluZGVudF1cbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kQ29uZGl0aW9uLmNhbGwodGhpcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGVja051bWJlclZhcmlhYmxlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBjb21tYW5kQ2hlY2tOdW1iZXJWYXJpYWJsZTogLT5cbiAgICAgICAgcmVzdWx0ID0gQGludGVycHJldGVyLmNvbXBhcmUoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSksIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMudmFsdWUpLCBAcGFyYW1zLm9wZXJhdGlvbilcbiAgICAgICAgaWYgcmVzdWx0XG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIucG9pbnRlciA9IEBwYXJhbXMubGFiZWxJbmRleFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENoZWNrVGV4dFZhcmlhYmxlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICBcbiAgICBjb21tYW5kQ2hlY2tUZXh0VmFyaWFibGU6IC0+XG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIHRleHQxID0gQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50YXJnZXRWYXJpYWJsZSlcbiAgICAgICAgdGV4dDIgPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnZhbHVlKVxuICAgICAgICBzd2l0Y2ggQHBhcmFtcy5vcGVyYXRpb25cbiAgICAgICAgICAgIHdoZW4gMCB0aGVuIHJlc3VsdCA9IHRleHQxID09IHRleHQyXG4gICAgICAgICAgICB3aGVuIDEgdGhlbiByZXN1bHQgPSB0ZXh0MSAhPSB0ZXh0MlxuICAgICAgICAgICAgd2hlbiAyIHRoZW4gcmVzdWx0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoXG4gICAgICAgICAgICB3aGVuIDMgdGhlbiByZXN1bHQgPSB0ZXh0MS5sZW5ndGggPj0gdGV4dDIubGVuZ3RoXG4gICAgICAgICAgICB3aGVuIDQgdGhlbiByZXN1bHQgPSB0ZXh0MS5sZW5ndGggPCB0ZXh0Mi5sZW5ndGhcbiAgICAgICAgICAgIHdoZW4gNSB0aGVuIHJlc3VsdCA9IHRleHQxLmxlbmd0aCA8PSB0ZXh0Mi5sZW5ndGhcbiAgICAgICAgICAgIFxuICAgICAgICBpZiByZXN1bHRcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5wb2ludGVyID0gQHBhcmFtcy5sYWJlbEluZGV4XG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZExhYmVsXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgY29tbWFuZExhYmVsOiAtPiAjIERvZXMgTm90aGluZ1xuICAgICAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRKdW1wVG9MYWJlbFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICAgXG4gICAgY29tbWFuZEp1bXBUb0xhYmVsOiAtPlxuICAgICAgICBsYWJlbCA9IEBwYXJhbXMubGFiZWxJbmRleCAjQGludGVycHJldGVyLmxhYmVsc1tAcGFyYW1zLm5hbWVdXG4gICAgICAgIGlmIGxhYmVsP1xuICAgICAgICAgICAgQGludGVycHJldGVyLnBvaW50ZXIgPSBsYWJlbFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuanVtcFRvTGFiZWwoQHBhcmFtcy5uYW1lKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDbGVhck1lc3NhZ2VcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgIFxuICAgIGNvbW1hbmRDbGVhck1lc3NhZ2U6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG1lc3NhZ2VPYmplY3QgPSBAaW50ZXJwcmV0ZXIudGFyZ2V0TWVzc2FnZSgpXG4gICAgICAgIGlmIG5vdCBtZXNzYWdlT2JqZWN0PyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgbWVzc2FnZU9iamVjdC5tZXNzYWdlLmNsZWFyKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDbG9zZVBhZ2VOVkxcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZENsb3NlUGFnZU5WTDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbWVzc2FnZU9iamVjdCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiZ2FtZU1lc3NhZ2VOVkxfbWVzc2FnZVwiKVxuICAgICAgICBpZiBub3QgbWVzc2FnZU9iamVjdD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIG1lc3NhZ2VPYmplY3QubWVzc2FnZS5jbGVhcigpXG4gICAgICAgIFxuICAgICAgICBtZXNzYWdlQm94ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJtZXNzYWdlQm94TlZMXCIpXG4gICAgICAgIGlmIG1lc3NhZ2VCb3ggYW5kIEBwYXJhbXMudmlzaWJsZSAhPSBtZXNzYWdlQm94LnZpc2libGVcbiAgICAgICAgICAgIG1lc3NhZ2VCb3gudmlzaWJsZSA9IG5vXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTWVzc2FnZUJveERlZmF1bHRzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRNZXNzYWdlQm94RGVmYXVsdHM6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMubWVzc2FnZUJveFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5kaXNhcHBlYXJEdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kaXNhcHBlYXJEdXJhdGlvbilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnpPcmRlcikgdGhlbiBkZWZhdWx0cy56T3JkZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpPcmRlcilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5hcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5kaXNhcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5kaXNhcHBlYXJBbmltYXRpb25cbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTaG93TWVzc2FnZU5WTFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZFNob3dNZXNzYWdlTlZMOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBzY2VuZS5tZXNzYWdlTW9kZSA9IHZuLk1lc3NhZ2VNb2RlLk5WTFxuICAgICAgICBjaGFyYWN0ZXIgPSBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNbQHBhcmFtcy5jaGFyYWN0ZXJJZF1cbiAgXG4gICAgICAgIHNjZW5lLmxheW91dC52aXNpYmxlID0gbm9cbiAgICAgICAgc2NlbmUubGF5b3V0TlZMLnZpc2libGUgPSB5ZXNcbiAgICAgICAgbWVzc2FnZU9iamVjdCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiZ2FtZU1lc3NhZ2VOVkxfbWVzc2FnZVwiKVxuICAgICAgICBpZiBub3QgbWVzc2FnZU9iamVjdD8gdGhlbiByZXR1cm5cblxuICAgICAgICBAaW50ZXJwcmV0ZXIubWVzc2FnZUJveE9iamVjdCgpPy52aXNpYmxlID0gdHJ1ZVxuICAgICAgICBtZXNzYWdlT2JqZWN0LmNoYXJhY3RlciA9IGNoYXJhY3RlclxuICAgICAgICBtZXNzYWdlT2JqZWN0Lm1lc3NhZ2UuYWRkTWVzc2FnZShsY3NtKEBwYXJhbXMubWVzc2FnZSksIGNoYXJhY3RlciwgIUBwYXJhbXMucGFydGlhbCBhbmQgR2FtZU1hbmFnZXIubWVzc2FnZXMubGVuZ3RoID4gMCwgeWVzKVxuICAgICAgICBcbiAgICAgICAgaWYgQGludGVycHJldGVyLm1lc3NhZ2VTZXR0aW5ncygpLmJhY2tsb2dcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmJhY2tsb2cucHVzaCh7IGNoYXJhY3RlcjogY2hhcmFjdGVyLCBtZXNzYWdlOiBsY3NtKEBwYXJhbXMubWVzc2FnZSksIGNob2ljZXM6IFtdIH0pXG5cbiAgICAgICAgbWVzc2FnZU9iamVjdC5ldmVudHMub24gXCJmaW5pc2hcIiwgKGUpID0+IEBpbnRlcnByZXRlci5vbk1lc3NhZ2VOVkxGaW5pc2goZSlcblxuICAgICAgICB2b2ljZVNldHRpbmdzID0gR2FtZU1hbmFnZXIuc2V0dGluZ3Mudm9pY2VzQnlDaGFyYWN0ZXJbbWVzc2FnZU9iamVjdC5jaGFyYWN0ZXI/LmluZGV4XVxuICAgICAgICBpZiBAcGFyYW1zLnZvaWNlPyBhbmQgR2FtZU1hbmFnZXIuc2V0dGluZ3Mudm9pY2VFbmFibGVkIGFuZCAoIXZvaWNlU2V0dGluZ3Mgb3Igdm9pY2VTZXR0aW5ncy5lbmFibGVkKVxuICAgICAgICAgICAgaWYgR2FtZU1hbmFnZXIuc2V0dGluZ3Muc2tpcFZvaWNlT25BY3Rpb24gb3Igbm90IChBdWRpb01hbmFnZXIudm9pY2U/LnBsYXlpbmcpXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdC52b2ljZSA9IEBwYXJhbXMudm9pY2VcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIucGxheVZvaWNlKEBwYXJhbXMudm9pY2UpICAgICBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnZvaWNlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdGluZ0Zvci5tZXNzYWdlTlZMID0gQHBhcmFtc1xuICAgIFxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNob3dNZXNzYWdlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kU2hvd01lc3NhZ2U6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIHNjZW5lLm1lc3NhZ2VNb2RlID0gdm4uTWVzc2FnZU1vZGUuQURWXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgXG4gICAgICAgIFxuICAgICAgICAjaWYgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgYW5kIEBpbnRlcnByZXRlci5wcmV2aWV3RGF0YSBhbmQgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvblxuICAgICAgICAjICAgIGlmIEBpbnRlcnByZXRlci5tZXNzYWdlU2V0dGluZ3MoKS5iYWNrbG9nXG4gICAgICAgICMgICAgICAgIEdhbWVNYW5hZ2VyLmJhY2tsb2cucHVzaCh7IGNoYXJhY3RlcjogY2hhcmFjdGVyLCBtZXNzYWdlOiBsY3MoQHBhcmFtcy5tZXNzYWdlKSwgY2hvaWNlczogW10gfSkgICAgXG4gICAgICAgICMgICAgcmV0dXJuICAgIFxuICAgICAgICBcbiAgICAgICAgc2hvd01lc3NhZ2UgPSA9PlxuICAgICAgICAgICAgY2hhcmFjdGVyID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzW0BwYXJhbXMuY2hhcmFjdGVySWRdXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNjZW5lLmxheW91dC52aXNpYmxlID0geWVzXG4gICAgICAgICAgICBzY2VuZS5sYXlvdXROVkwudmlzaWJsZSA9IG5vXG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0ID0gQGludGVycHJldGVyLnRhcmdldE1lc3NhZ2UoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgbm90IG1lc3NhZ2VPYmplY3Q/IHRoZW4gcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNjZW5lLmN1cnJlbnRDaGFyYWN0ZXIgPSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QuY2hhcmFjdGVyID0gY2hhcmFjdGVyXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3Qub3BhY2l0eSA9IDI1NVxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5tZXNzYWdlLnNob3dNZXNzYWdlKEBpbnRlcnByZXRlciwgQHBhcmFtcylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5ldmVudHMub2ZmQnlPd25lcihcImZpbmlzaFwiLCBAaW50ZXJwcmV0ZXIpXG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0LmV2ZW50cy5vZmZCeU93bmVyKFwid2FpdGluZ1wiLCBAaW50ZXJwcmV0ZXIpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QuZXZlbnRzLm9uKFwiZmluaXNoXCIsIGdzLkNhbGxCYWNrKFwib25NZXNzYWdlQURWRmluaXNoXCIsIEBpbnRlcnByZXRlciksIHBhcmFtczogQHBhcmFtcywgQGludGVycHJldGVyKVxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5ldmVudHMub24oXCJ3YWl0aW5nXCIsIGdzLkNhbGxCYWNrKFwib25NZXNzYWdlQURWV2FpdGluZ1wiLCBAaW50ZXJwcmV0ZXIpLCBudWxsLCBAaW50ZXJwcmV0ZXIpICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldHRpbmdzID0gR2FtZU1hbmFnZXIuc2V0dGluZ3NcbiAgICAgICAgICAgIHZvaWNlU2V0dGluZ3MgPSBzZXR0aW5ncy52b2ljZXNCeUNoYXJhY3RlcltjaGFyYWN0ZXIuaW5kZXhdXG4gICAgICBcbiAgICAgICAgICAgIGlmIEBwYXJhbXMudm9pY2U/IGFuZCBHYW1lTWFuYWdlci5zZXR0aW5ncy52b2ljZUVuYWJsZWQgYW5kICghdm9pY2VTZXR0aW5ncyBvciB2b2ljZVNldHRpbmdzID4gMClcbiAgICAgICAgICAgICAgICBpZiAoR2FtZU1hbmFnZXIuc2V0dGluZ3Muc2tpcFZvaWNlT25BY3Rpb24gb3IgIUF1ZGlvTWFuYWdlci52b2ljZT8ucGxheWluZykgYW5kICFHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0LnZvaWNlID0gQHBhcmFtcy52b2ljZVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0LmJlaGF2aW9yLnZvaWNlID0gQXVkaW9NYW5hZ2VyLnBsYXlWb2ljZShAcGFyYW1zLnZvaWNlKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QuYmVoYXZpb3Iudm9pY2UgPSBudWxsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMuZXhwcmVzc2lvbklkPyBhbmQgY2hhcmFjdGVyP1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbQHBhcmFtcy5leHByZXNzaW9uSWQgfHwgMF1cbiAgICAgICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuY2hhcmFjdGVyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGlmICFncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZChAcGFyYW1zLmZpZWxkRmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmV4cHJlc3Npb25EdXJhdGlvblxuICAgICAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KGRlZmF1bHRzLmNoYW5nZUVhc2luZylcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IGRlZmF1bHRzLmNoYW5nZUFuaW1hdGlvblxuICAgICAgICAgICAgY2hhcmFjdGVyLmJlaGF2aW9yLmNoYW5nZUV4cHJlc3Npb24oZXhwcmVzc2lvbiwgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCA9PlxuICAgICAgICAgICAgICAgIHNob3dNZXNzYWdlKClcbiAgICAgICAgICAgIClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2hvd01lc3NhZ2UoKVxuICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0gQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiA/IHllc1xuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdGluZ0Zvci5tZXNzYWdlQURWID0gQHBhcmFtc1xuICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2V0TWVzc2FnZUFyZWFcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICBcbiAgICBjb21tYW5kU2V0TWVzc2FnZUFyZWE6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBcbiAgICAgICAgaWYgc2NlbmUubWVzc2FnZUFyZWFzW251bWJlcl1cbiAgICAgICAgICAgIG1lc3NhZ2VMYXlvdXQgPSBzY2VuZS5tZXNzYWdlQXJlYXNbbnVtYmVyXS5sYXlvdXRcbiAgICAgICAgICAgIG1lc3NhZ2VMYXlvdXQuZHN0UmVjdC54ID0gQHBhcmFtcy5ib3gueFxuICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LnkgPSBAcGFyYW1zLmJveC55XG4gICAgICAgICAgICBtZXNzYWdlTGF5b3V0LmRzdFJlY3Qud2lkdGggPSBAcGFyYW1zLmJveC5zaXplLndpZHRoXG4gICAgICAgICAgICBtZXNzYWdlTGF5b3V0LmRzdFJlY3QuaGVpZ2h0ID0gQHBhcmFtcy5ib3guc2l6ZS5oZWlnaHRcbiAgICAgICAgICAgIG1lc3NhZ2VMYXlvdXQubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE1lc3NhZ2VGYWRpbmdcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZE1lc3NhZ2VGYWRpbmc6IC0+XG4gICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5tZXNzYWdlRmFkaW5nID0gZHVyYXRpb246IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbiksIGFuaW1hdGlvbjogQHBhcmFtcy5hbmltYXRpb24sIGVhc2luZzogZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNZXNzYWdlU2V0dGluZ3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRNZXNzYWdlU2V0dGluZ3M6IC0+XG4gICAgICAgIG1lc3NhZ2VPYmplY3QgPSBAaW50ZXJwcmV0ZXIudGFyZ2V0TWVzc2FnZSgpXG4gICAgICAgIGlmICFtZXNzYWdlT2JqZWN0IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYXV0b0VyYXNlKVxuICAgICAgICAgICAgQGludGVycHJldGVyLm1lc3NhZ2VTZXR0aW5ncygpLmF1dG9FcmFzZSA9IEBwYXJhbXMuYXV0b0VyYXNlXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLndhaXRBdEVuZClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5tZXNzYWdlU2V0dGluZ3MoKS53YWl0QXRFbmQgPSBAcGFyYW1zLndhaXRBdEVuZFxuICAgICAgICAgICAgXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5iYWNrbG9nKVxuICAgICAgICAgICAgQGludGVycHJldGVyLm1lc3NhZ2VTZXR0aW5ncygpLmJhY2tsb2cgPSBAcGFyYW1zLmJhY2tsb2dcbiAgICAgICAgICAgIFxuICAgICAgICBmb250TmFtZSA9IGlmICFpc0xvY2tlZChmbGFncy5mb250KSB0aGVuIEBwYXJhbXMuZm9udCBlbHNlIG1lc3NhZ2VPYmplY3QuZm9udC5uYW1lXG4gICAgICAgIGZvbnRTaXplID0gaWYgIWlzTG9ja2VkKGZsYWdzLnNpemUpIHRoZW4gQHBhcmFtcy5zaXplIGVsc2UgbWVzc2FnZU9iamVjdC5mb250LnNpemVcbiAgICAgICAgZm9udCA9IG1lc3NhZ2VPYmplY3QuZm9udFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZm9udCkgb3IgIWlzTG9ja2VkKGZsYWdzLnNpemUpXG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0LmZvbnQgPSBuZXcgRm9udChmb250TmFtZSwgZm9udFNpemUpXG4gICAgICAgICAgICBcbiAgICAgICAgbWVzc2FnZU9iamVjdC5mb250LmNvbG9yID0gaWYgZmxhZ3MuY29sb3I/IGFuZCAhaXNMb2NrZWQoZmxhZ3MuY29sb3IpIHRoZW4gbmV3IENvbG9yKEBwYXJhbXMuY29sb3IpIGVsc2UgZm9udC5jb2xvclxuICAgICAgICBtZXNzYWdlT2JqZWN0LmZvbnQuYm9yZGVyID0gaWYgZmxhZ3Mub3V0bGluZT8gYW5kICFpc0xvY2tlZChmbGFncy5vdXRsaW5lKSB0aGVuIEBwYXJhbXMub3V0bGluZSBlbHNlIGZvbnQuYm9yZGVyXG4gICAgICAgIG1lc3NhZ2VPYmplY3QuZm9udC5ib3JkZXJDb2xvciA9IGlmIGZsYWdzLmJvcmRlckNvbG9yPyBhbmQgIWlzTG9ja2VkKGZsYWdzLmJvcmRlckNvbG9yKSB0aGVuIG5ldyBDb2xvcihAcGFyYW1zLm91dGxpbmVDb2xvcikgZWxzZSBuZXcgQ29sb3IoZm9udC5ib3JkZXJDb2xvcilcbiAgICAgICAgbWVzc2FnZU9iamVjdC5mb250LnNoYWRvdyA9IGlmIGZsYWdzLnNoYWRvdz8gYW5kICFpc0xvY2tlZChmbGFncy5zaGFkb3cpdGhlbiBAcGFyYW1zLnNoYWRvdyBlbHNlIGZvbnQuc2hhZG93XG4gICAgICAgIG1lc3NhZ2VPYmplY3QuZm9udC5zaGFkb3dDb2xvciA9IGlmIGZsYWdzLnNoYWRvd0NvbG9yPyBhbmQgIWlzTG9ja2VkKGZsYWdzLnNoYWRvd0NvbG9yKSB0aGVuIG5ldyBDb2xvcihAcGFyYW1zLnNoYWRvd0NvbG9yKSBlbHNlIG5ldyBDb2xvcihmb250LnNoYWRvd0NvbG9yKVxuICAgICAgICBtZXNzYWdlT2JqZWN0LmZvbnQuYm9sZCA9IGZvbnQuYm9sZFxuICAgICAgICBtZXNzYWdlT2JqZWN0LmZvbnQuaXRhbGljID0gZm9udC5pdGFsaWNcbiAgICAgICAgbWVzc2FnZU9iamVjdC5mb250LnNtYWxsQ2FwcyA9IGZvbnQuc21hbGxDYXBzXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDcmVhdGVNZXNzYWdlQXJlYVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgXG4gICAgY29tbWFuZENyZWF0ZU1lc3NhZ2VBcmVhOiAtPlxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgXG4gICAgICAgIGlmICFzY2VuZS5tZXNzYWdlQXJlYXNbbnVtYmVyXVxuICAgICAgICAgICAgbWVzc2FnZUxheW91dCA9IHVpLlVJTWFuYWdlci5jcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3IodHlwZTogXCJ1aS5DdXN0b21HYW1lTWVzc2FnZVwiLCBpZDogXCJjdXN0b21HYW1lTWVzc2FnZV9cIitudW1iZXIsIHBhcmFtczogeyBpZDogXCJjdXN0b21HYW1lTWVzc2FnZV9cIitudW1iZXIgfSwgQGludGVycHJldGVyLm9iamVjdClcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcImN1c3RvbUdhbWVNZXNzYWdlX1wiK251bWJlcitcIl9tZXNzYWdlXCIpXG4gICAgICAgICAgICAjbWVzc2FnZSA9IG5ldyB1aS5PYmplY3RfTWVzc2FnZSgpXG4gICAgICAgICAgICBtZXNzYWdlTGF5b3V0LmRzdFJlY3QueCA9IEBwYXJhbXMuYm94LnhcbiAgICAgICAgICAgIG1lc3NhZ2VMYXlvdXQuZHN0UmVjdC55ID0gQHBhcmFtcy5ib3gueVxuICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LndpZHRoID0gQHBhcmFtcy5ib3guc2l6ZS53aWR0aFxuICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LmhlaWdodCA9IEBwYXJhbXMuYm94LnNpemUuaGVpZ2h0XG4gICAgICAgICAgICBtZXNzYWdlTGF5b3V0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgIFxuICAgICAgICAgICAgc2NlbmUubWVzc2FnZUFyZWFzW251bWJlcl0gPSBtZXNzYWdlOiBtZXNzYWdlLCBsYXlvdXQ6IG1lc3NhZ2VMYXlvdXRcbiAgICAgICAgICAgICNzY2VuZS5tZXNzYWdlc1tudW1iZXJdID0gbWVzc2FnZVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEVyYXNlTWVzc2FnZUFyZWFcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIGNvbW1hbmRFcmFzZU1lc3NhZ2VBcmVhOiAtPlxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgYXJlYSA9IHNjZW5lLm1lc3NhZ2VBcmVhc1tudW1iZXJdIFxuICAgICAgICBhcmVhPy5sYXlvdXQuZGlzcG9zZSgpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTZXRUYXJnZXRNZXNzYWdlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kU2V0VGFyZ2V0TWVzc2FnZTogLT5cbiAgICAgICAgbWVzc2FnZSA9IEBpbnRlcnByZXRlci50YXJnZXRNZXNzYWdlKClcbiAgICAgICAgbWVzc2FnZT8udGV4dFJlbmRlcmVyLmlzV2FpdGluZyA9IGZhbHNlXG4gICAgICAgIG1lc3NhZ2U/LmJlaGF2aW9yLmlzV2FpdGluZyA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICB0YXJnZXQgPSB7IHR5cGU6IEBwYXJhbXMudHlwZSwgaWQ6IG51bGwgfVxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMudHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTGF5b3V0LWJhc2VkXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmlkID0gQHBhcmFtcy5pZFxuICAgICAgICAgICAgd2hlbiAxICMgQ3VzdG9tXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmlkID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5zZXR0aW5ncy5tZXNzYWdlLnRhcmdldCA9IHRhcmdldFxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5jbGVhclxuICAgICAgICAgICAgQGludGVycHJldGVyLnRhcmdldE1lc3NhZ2UoKT8uYmVoYXZpb3IuY2xlYXIoKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQmFja2xvZ1Zpc2liaWxpdHlcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIGNvbW1hbmRCYWNrbG9nVmlzaWJpbGl0eTogLT5cbiAgICAgICAgaWYgQHBhcmFtcy52aXNpYmxlIFxuICAgICAgICAgICAgY29udHJvbCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiYmFja2xvZ0JveFwiKVxuICAgICAgICAgICAgaWYgbm90IGNvbnRyb2w/IHRoZW4gY29udHJvbCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiYmFja2xvZ1wiKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBjb250cm9sP1xuICAgICAgICAgICAgICAgIGNvbnRyb2wuZGlzcG9zZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBwYXJhbXMuYmFja2dyb3VuZFZpc2libGVcbiAgICAgICAgICAgICAgICBjb250cm9sID0gU2NlbmVNYW5hZ2VyLnNjZW5lLmJlaGF2aW9yLmNyZWF0ZUNvbnRyb2wodGhpcywgeyBkZXNjcmlwdG9yOiBcInVpLk1lc3NhZ2VCYWNrbG9nQm94XCIgfSlcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250cm9sID0gU2NlbmVNYW5hZ2VyLnNjZW5lLmJlaGF2aW9yLmNyZWF0ZUNvbnRyb2wodGhpcywgeyBkZXNjcmlwdG9yOiBcInVpLk1lc3NhZ2VCYWNrbG9nXCIgfSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29udHJvbCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiYmFja2xvZ0JveFwiKVxuICAgICAgICAgICAgaWYgbm90IGNvbnRyb2w/IHRoZW4gY29udHJvbCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiYmFja2xvZ1wiKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb250cm9sPy5kaXNwb3NlKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNZXNzYWdlVmlzaWJpbGl0eVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kTWVzc2FnZVZpc2liaWxpdHk6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMubWVzc2FnZUJveFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBtZXNzYWdlID0gQGludGVycHJldGVyLnRhcmdldE1lc3NhZ2UoKVxuICAgICAgICBpZiBub3QgbWVzc2FnZT8gb3IgQHBhcmFtcy52aXNpYmxlID09IG1lc3NhZ2UudmlzaWJsZSB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy52aXNpYmxlXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5kdXJhdGlvbikgdGhlbiBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pIGVsc2UgZGVmYXVsdHMuYXBwZWFyRHVyYXRpb25cbiAgICAgICAgICAgIGVhc2luZyA9IGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGdzLkVhc2luZ3MuZnJvbU9iamVjdChAcGFyYW1zLmVhc2luZykgZWxzZSBncy5FYXNpbmdzLmZyb21PYmplY3QoZGVmYXVsdHMuYXBwZWFyRWFzaW5nKVxuICAgICAgICAgICAgYW5pbWF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiYW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gQHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgICAgIG1lc3NhZ2UuYW5pbWF0b3IuYXBwZWFyKG1lc3NhZ2UuZHN0UmVjdC54LCBtZXNzYWdlLmRzdFJlY3QueSwgQHBhcmFtcy5hbmltYXRpb24sIGVhc2luZywgZHVyYXRpb24pXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvblxuICAgICAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5kaXNhcHBlYXJFYXNpbmcpXG4gICAgICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmRpc2FwcGVhckFuaW1hdGlvblxuICAgICAgICAgICAgbWVzc2FnZS5hbmltYXRvci5kaXNhcHBlYXIoYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCAtPiBtZXNzYWdlLnZpc2libGUgPSBubylcbiAgICAgICAgbWVzc2FnZS51cGRhdGUoKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE1lc3NhZ2VCb3hWaXNpYmlsaXR5XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRNZXNzYWdlQm94VmlzaWJpbGl0eTogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5tZXNzYWdlQm94XG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgXG4gICAgICAgIG1lc3NhZ2VCb3ggPSBAaW50ZXJwcmV0ZXIubWVzc2FnZUJveE9iamVjdCgpXG4gICAgICAgIGlmIG5vdCBtZXNzYWdlQm94PyBvciBAcGFyYW1zLnZpc2libGUgPT0gbWVzc2FnZUJveC52aXNpYmxlIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLnZpc2libGVcbiAgICAgICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5hcHBlYXJEdXJhdGlvblxuICAgICAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5hcHBlYXJFYXNpbmcpXG4gICAgICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmFwcGVhckFuaW1hdGlvblxuICAgICAgICAgICAgbWVzc2FnZUJveC5hbmltYXRvci5hcHBlYXIobWVzc2FnZUJveC5kc3RSZWN0LngsIG1lc3NhZ2VCb3guZHN0UmVjdC55LCBAcGFyYW1zLmFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmRpc2FwcGVhckR1cmF0aW9uXG4gICAgICAgICAgICBlYXNpbmcgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJlYXNpbmcudHlwZVwiXSkgdGhlbiBncy5FYXNpbmdzLmZyb21PYmplY3QoQHBhcmFtcy5lYXNpbmcpIGVsc2UgZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KGRlZmF1bHRzLmRpc2FwcGVhckVhc2luZylcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIEBwYXJhbXMuYW5pbWF0aW9uIGVsc2UgZGVmYXVsdHMuZGlzYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgICAgICBtZXNzYWdlQm94LmFuaW1hdG9yLmRpc2FwcGVhcihhbmltYXRpb24sIGVhc2luZywgZHVyYXRpb24sIC0+IG1lc3NhZ2VCb3gudmlzaWJsZSA9IG5vKVxuICAgICAgICBtZXNzYWdlQm94LnVwZGF0ZSgpXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFVJQWNjZXNzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRVSUFjY2VzczogLT5cbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmdlbmVyYWxNZW51KVxuICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLm1lbnVBY2Nlc3MgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5nZW5lcmFsTWVudSlcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnNhdmVNZW51KVxuICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNhdmVNZW51QWNjZXNzID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc2F2ZU1lbnUpXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5sb2FkTWVudSlcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5sb2FkTWVudUFjY2VzcyA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLmxvYWRNZW51KVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYmFja2xvZylcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5iYWNrbG9nQWNjZXNzID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuYmFja2xvZylcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFVubG9ja0NHXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgY29tbWFuZFVubG9ja0NHOiAtPlxuICAgICAgICBjZyA9IFJlY29yZE1hbmFnZXIuY2dHYWxsZXJ5W0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuY2dJZCldXG4gICAgICAgIFxuICAgICAgICBpZiBjZz9cbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdsb2JhbERhdGEuY2dHYWxsZXJ5W2NnLmluZGV4XSA9IHsgdW5sb2NrZWQ6IHllcyB9XG4gICAgICAgICAgICBHYW1lTWFuYWdlci5zYXZlR2xvYmFsRGF0YSgpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEwyRE1vdmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgIFxuICAgIGNvbW1hbmRMMkRNb3ZlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjaGFyYWN0ZXIgPSBzY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkIFxuICAgICAgICBpZiBub3QgY2hhcmFjdGVyPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLm1vdmVPYmplY3QoY2hhcmFjdGVyLCBAcGFyYW1zLnBvc2l0aW9uLCBAcGFyYW1zKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEwyRE1vdGlvbkdyb3VwXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgXG4gICAgY29tbWFuZEwyRE1vdGlvbkdyb3VwOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjaGFyYWN0ZXIgPSBzY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkIFxuICAgICAgICBpZiBub3QgY2hhcmFjdGVyPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY2hhcmFjdGVyLm1vdGlvbkdyb3VwID0geyBuYW1lOiBAcGFyYW1zLmRhdGEubW90aW9uR3JvdXAsIGxvb3A6IEBwYXJhbXMubG9vcCwgcGxheVR5cGU6IEBwYXJhbXMucGxheVR5cGUgfVxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgQHBhcmFtcy5sb29wXG4gICAgICAgICAgICBtb3Rpb25zID0gY2hhcmFjdGVyLm1vZGVsLm1vdGlvbnNCeUdyb3VwW2NoYXJhY3Rlci5tb3Rpb25Hcm91cC5uYW1lXVxuICAgICAgICAgICAgaWYgbW90aW9ucz9cbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gbW90aW9ucy5zdW0gKG0pIC0+IG0uZ2V0RHVyYXRpb25NU2VjKCkgLyAxNi42XG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTDJETW90aW9uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kTDJETW90aW9uOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLmxpdmUyZFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG4gICAgICAgIGZhZGVJblRpbWUgPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZmFkZUluVGltZSkgdGhlbiBAcGFyYW1zLmZhZGVJblRpbWUgZWxzZSBkZWZhdWx0cy5tb3Rpb25GYWRlSW5UaW1lXG4gICAgICAgIGNoYXJhY3Rlci5tb3Rpb24gPSB7IG5hbWU6IEBwYXJhbXMuZGF0YS5tb3Rpb24sIGZhZGVJblRpbWU6IGZhZGVJblRpbWUsIGxvb3A6IEBwYXJhbXMubG9vcCB9XG4gICAgICAgIGNoYXJhY3Rlci5tb3Rpb25Hcm91cCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCBAcGFyYW1zLmxvb3BcbiAgICAgICAgICAgIG1vdGlvbiA9IGNoYXJhY3Rlci5tb2RlbC5tb3Rpb25zW2NoYXJhY3Rlci5tb3Rpb24ubmFtZV1cbiAgICAgICAgICAgIGlmIG1vdGlvbj9cbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gbW90aW9uLmdldER1cmF0aW9uTVNlYygpIC8gMTYuNlxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEwyREV4cHJlc3Npb25cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZEwyREV4cHJlc3Npb246IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMubGl2ZTJkXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgY2hhcmFjdGVyID0gc2NlbmUuY2hhcmFjdGVycy5maXJzdCAodikgPT4gdi5yaWQgPT0gQHBhcmFtcy5jaGFyYWN0ZXJJZCBcbiAgICAgICAgaWYgbm90IGNoYXJhY3Rlcj8gdGhlbiByZXR1cm5cbiAgICAgICAgZmFkZUluVGltZSA9IGlmICFpc0xvY2tlZChmbGFncy5mYWRlSW5UaW1lKSB0aGVuIEBwYXJhbXMuZmFkZUluVGltZSBlbHNlIGRlZmF1bHRzLmV4cHJlc3Npb25GYWRlSW5UaW1lXG4gICAgICAgIFxuICAgICAgICBjaGFyYWN0ZXIuZXhwcmVzc2lvbiA9IHsgbmFtZTogQHBhcmFtcy5kYXRhLmV4cHJlc3Npb24sIGZhZGVJblRpbWU6IGZhZGVJblRpbWUgfVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRMMkRFeGl0U2NlbmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRMMkRFeGl0U2NlbmU6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMubGl2ZTJkXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kQ2hhcmFjdGVyRXhpdFNjZW5lLmNhbGwodGhpcywgZGVmYXVsdHMpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTDJEUGFyYW1ldGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRMMkRQYXJhbWV0ZXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBjaGFyYWN0ZXIudmlzdWFsLmwyZE9iamVjdC5zZXRQYXJhbWV0ZXIoQHBhcmFtcy5wYXJhbS5uYW1lLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnBhcmFtLnZhbHVlKSlcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTDJERGVmYXVsdHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZEwyRERlZmF1bHRzOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLmxpdmUyZFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5kaXNhcHBlYXJEdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kaXNhcHBlYXJEdXJhdGlvbilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnpPcmRlcikgdGhlbiBkZWZhdWx0cy56T3JkZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpPcmRlcilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLm1vdGlvbkZhZGVJblRpbWUpIHRoZW4gZGVmYXVsdHMubW90aW9uRmFkZUluVGltZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubW90aW9uRmFkZUluVGltZSlcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5hcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5kaXNhcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5kaXNhcHBlYXJBbmltYXRpb25cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTDJESm9pblNjZW5lXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgXG4gICAgY29tbWFuZEwyREpvaW5TY2VuZTogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5saXZlMmRcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICByZWNvcmQgPSBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5jaGFyYWN0ZXJJZCldXG4gICAgICAgIHJldHVybiBpZiAhcmVjb3JkIG9yIHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpIC0+IHYucmlkID09IHJlY29yZC5pbmRleFxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5wb3NpdGlvblR5cGUgPT0gMVxuICAgICAgICAgICAgeCA9IEBwYXJhbXMucG9zaXRpb24ueFxuICAgICAgICAgICAgeSA9IEBwYXJhbXMucG9zaXRpb24ueVxuICAgICAgICBlbHNlIGlmIEBwYXJhbXMucG9zaXRpb25UeXBlID09IDJcbiAgICAgICAgICAgIHggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnBvc2l0aW9uLngpXG4gICAgICAgICAgICB5ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5wb3NpdGlvbi55KVxuICAgICAgICAgICAgXG4gICAgICAgIGVhc2luZyA9IGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGdzLkVhc2luZ3MuZnJvbVZhbHVlcyhAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmVhc2luZy50eXBlKSwgQHBhcmFtcy5lYXNpbmcuaW5PdXQpIGVsc2UgZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KGRlZmF1bHRzLmFwcGVhckVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmFwcGVhckR1cmF0aW9uXG4gICAgICAgIHpJbmRleCA9IGlmICFpc0xvY2tlZChmbGFncy56T3JkZXIpIHRoZW4gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56T3JkZXIpIGVsc2UgZGVmYXVsdHMuek9yZGVyXG4gICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIEBwYXJhbXMuYW5pbWF0aW9uIGVsc2UgZGVmYXVsdHMuYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIG1vdGlvbkJsdXIgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJtb3Rpb25CbHVyLmVuYWJsZWRcIl0pIHRoZW4gQHBhcmFtcy5tb3Rpb25CbHVyIGVsc2UgZGVmYXVsdHMubW90aW9uQmx1clxuICAgICAgICBvcmlnaW4gPSBpZiAhaXNMb2NrZWQoZmxhZ3Mub3JpZ2luKSB0aGVuIEBwYXJhbXMub3JpZ2luIGVsc2UgZGVmYXVsdHMub3JpZ2luXG5cbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICAgICAgIFxuXG4gICAgICAgIGNoYXJhY3RlciA9IG5ldyB2bi5PYmplY3RfTGl2ZTJEQ2hhcmFjdGVyKHJlY29yZClcbiAgICAgICAgY2hhcmFjdGVyLm1vZGVsTmFtZSA9IEBwYXJhbXMubW9kZWwubmFtZVxuICAgICAgICBjaGFyYWN0ZXIubW9kZWwgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0TGl2ZTJETW9kZWwoXCJMaXZlMkQvI3tAcGFyYW1zLm1vZGVsLm5hbWV9XCIpXG4gICAgICAgIGNoYXJhY3Rlci5tb3Rpb24gPSB7IG5hbWU6IE9iamVjdC5rZXlzKGNoYXJhY3Rlci5tb2RlbC5tb3Rpb25zKVswXXx8XCJcIiwgZmFkZUluVGltZTogMCwgbG9vcDogdHJ1ZSB9IGlmIGNoYXJhY3Rlci5tb2RlbC5tb3Rpb25zXG4gICAgICAgICNjaGFyYWN0ZXIuZXhwcmVzc2lvbiA9IHsgbmFtZTogT2JqZWN0LmtleXMoY2hhcmFjdGVyLm1vZGVsLmV4cHJlc3Npb25zKVswXSwgZmFkZUluVGltZTogMCB9IGlmIGNoYXJhY3Rlci5tb2RlbC5leHByZXNzaW9uc1xuICAgICAgICBjaGFyYWN0ZXIuZHN0UmVjdC54ID0geFxuICAgICAgICBjaGFyYWN0ZXIuZHN0UmVjdC55ID0geVxuICAgICAgICBjaGFyYWN0ZXIuYW5jaG9yLnggPSBpZiAhb3JpZ2luIHRoZW4gMCBlbHNlIDAuNVxuICAgICAgICBjaGFyYWN0ZXIuYW5jaG9yLnkgPSBpZiAhb3JpZ2luIHRoZW4gMCBlbHNlIDAuNVxuICAgICAgICBcbiAgICAgICAgY2hhcmFjdGVyLmJsZW5kTW9kZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuYmxlbmRNb2RlKVxuICAgICAgICBjaGFyYWN0ZXIuem9vbS54ID0gQHBhcmFtcy5wb3NpdGlvbi56b29tLmRcbiAgICAgICAgY2hhcmFjdGVyLnpvb20ueSA9IEBwYXJhbXMucG9zaXRpb24uem9vbS5kXG4gICAgICAgIGNoYXJhY3Rlci56SW5kZXggPSB6SW5kZXhcbiAgICAgICAgXG4gICAgICAgIGNoYXJhY3Rlci51cGRhdGUoKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5wb3NpdGlvblR5cGUgPT0gMFxuICAgICAgICAgICAgcCA9IEBpbnRlcnByZXRlci5wcmVkZWZpbmVkT2JqZWN0UG9zaXRpb24oQHBhcmFtcy5wcmVkZWZpbmVkUG9zaXRpb25JZCwgY2hhcmFjdGVyLCBAcGFyYW1zKVxuICAgICAgICAgICAgY2hhcmFjdGVyLmRzdFJlY3QueCA9IHAueFxuICAgICAgICAgICAgY2hhcmFjdGVyLmRzdFJlY3QueSA9IHAueVxuICAgICAgICBcbiAgICAgICAgc2NlbmUuYmVoYXZpb3IuYWRkQ2hhcmFjdGVyKGNoYXJhY3Rlciwgbm8sIHsgYW5pbWF0aW9uOiBhbmltYXRpb24sIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmcsIG1vdGlvbkJsdXI6IG1vdGlvbkJsdXJ9KVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENoYXJhY3RlckpvaW5TY2VuZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIGNvbW1hbmRDaGFyYWN0ZXJKb2luU2NlbmU6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuY2hhcmFjdGVyXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgcmVjb3JkID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzW0BwYXJhbXMuY2hhcmFjdGVySWRdXG4gICAgICAgIHJldHVybiBpZiAhcmVjb3JkIG9yIHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpIC0+IHYucmlkID09IHJlY29yZC5pbmRleCBhbmQgIXYuZGlzcG9zZWRcbiAgICAgICAgXG4gICAgICAgIGNoYXJhY3RlciA9IG5ldyB2bi5PYmplY3RfQ2hhcmFjdGVyKHJlY29yZCwgbnVsbCwgc2NlbmUpXG4gICAgICAgIGNoYXJhY3Rlci5leHByZXNzaW9uID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJFeHByZXNzaW9uc1tAcGFyYW1zLmV4cHJlc3Npb25JZCA/IHJlY29yZC5kZWZhdWx0RXhwcmVzc2lvbklkfHwwXSAjY2hhcmFjdGVyLmV4cHJlc3Npb25cbiAgICAgICAgaWYgY2hhcmFjdGVyLmV4cHJlc3Npb24/XG4gICAgICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2NoYXJhY3Rlci5leHByZXNzaW9uLmlkbGVbMF0/LnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgIFxuICAgICAgICBtaXJyb3IgPSBub1xuICAgICAgICBhbmdsZSA9IDBcbiAgICAgICAgem9vbSA9IDFcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMucG9zaXRpb25UeXBlID09IDFcbiAgICAgICAgICAgIHggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnBvc2l0aW9uLngpXG4gICAgICAgICAgICB5ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5wb3NpdGlvbi55KVxuICAgICAgICAgICAgbWlycm9yID0gQHBhcmFtcy5wb3NpdGlvbi5ob3Jpem9udGFsRmxpcFxuICAgICAgICAgICAgYW5nbGUgPSBAcGFyYW1zLnBvc2l0aW9uLmFuZ2xlfHwwXG4gICAgICAgICAgICB6b29tID0gQHBhcmFtcy5wb3NpdGlvbi56b29tIHx8IDFcbiAgICAgICAgZWxzZSBpZiBAcGFyYW1zLnBvc2l0aW9uVHlwZSA9PSAyXG4gICAgICAgICAgICB4ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5wb3NpdGlvbi54KVxuICAgICAgICAgICAgeSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMucG9zaXRpb24ueSlcbiAgICAgICAgICAgIG1pcnJvciA9IG5vXG4gICAgICAgICAgICBhbmdsZSA9IDBcbiAgICAgICAgICAgIHpvb20gPSAxXG4gICAgICAgIFxuICAgICAgICBlYXNpbmcgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJlYXNpbmcudHlwZVwiXSkgdGhlbiBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5hcHBlYXJFYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5hcHBlYXJEdXJhdGlvblxuICAgICAgICBvcmlnaW4gPSBpZiAhaXNMb2NrZWQoZmxhZ3Mub3JpZ2luKSB0aGVuIEBwYXJhbXMub3JpZ2luIGVsc2UgZGVmYXVsdHMub3JpZ2luXG4gICAgICAgIHpJbmRleCA9IGlmICFpc0xvY2tlZChmbGFncy56T3JkZXIpIHRoZW4gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56T3JkZXIpIGVsc2UgZGVmYXVsdHMuek9yZGVyXG4gICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIEBwYXJhbXMuYW5pbWF0aW9uIGVsc2UgZGVmYXVsdHMuYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIG1vdGlvbkJsdXIgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJtb3Rpb25CbHVyLmVuYWJsZWRcIl0pIHRoZW4gQHBhcmFtcy5tb3Rpb25CbHVyIGVsc2UgZGVmYXVsdHMubW90aW9uQmx1clxuICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgICAgIFxuICAgICAgICBpZiBjaGFyYWN0ZXIuZXhwcmVzc2lvbj9cbiAgICAgICAgICAgIGJpdG1hcCA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9DaGFyYWN0ZXJzLyN7Y2hhcmFjdGVyLmV4cHJlc3Npb24uaWRsZVswXT8ucmVzb3VyY2UubmFtZX1cIilcbiAgICAgICAgICAgIGlmIEBwYXJhbXMub3JpZ2luID09IDEgYW5kIGJpdG1hcD9cbiAgICAgICAgICAgICAgICB4ICs9IChiaXRtYXAud2lkdGgqem9vbS1iaXRtYXAud2lkdGgpLzJcbiAgICAgICAgICAgICAgICB5ICs9IChiaXRtYXAuaGVpZ2h0Knpvb20tYml0bWFwLmhlaWdodCkvMlxuICAgICAgICAgICAgICAgIFxuICAgICAgICBjaGFyYWN0ZXIubWlycm9yID0gbWlycm9yXG4gICAgICAgIGNoYXJhY3Rlci5hbmNob3IueCA9IGlmICFvcmlnaW4gdGhlbiAwIGVsc2UgMC41XG4gICAgICAgIGNoYXJhY3Rlci5hbmNob3IueSA9IGlmICFvcmlnaW4gdGhlbiAwIGVsc2UgMC41XG4gICAgICAgIGNoYXJhY3Rlci56b29tLnggPSB6b29tXG4gICAgICAgIGNoYXJhY3Rlci56b29tLnkgPSB6b29tXG4gICAgICAgIGNoYXJhY3Rlci5kc3RSZWN0LnggPSB4XG4gICAgICAgIGNoYXJhY3Rlci5kc3RSZWN0LnkgPSB5XG4gICAgICAgIGNoYXJhY3Rlci56SW5kZXggPSB6SW5kZXggfHwgIDIwMFxuICAgICAgICBjaGFyYWN0ZXIuYmxlbmRNb2RlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5ibGVuZE1vZGUpXG4gICAgICAgIGNoYXJhY3Rlci5hbmdsZSA9IGFuZ2xlXG4gICAgICAgIGNoYXJhY3Rlci5zZXR1cCgpXG4gICAgICAgIGNoYXJhY3Rlci51cGRhdGUoKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5wb3NpdGlvblR5cGUgPT0gMFxuICAgICAgICAgICAgcCA9IEBpbnRlcnByZXRlci5wcmVkZWZpbmVkT2JqZWN0UG9zaXRpb24oQHBhcmFtcy5wcmVkZWZpbmVkUG9zaXRpb25JZCwgY2hhcmFjdGVyLCBAcGFyYW1zKVxuICAgICAgICAgICAgY2hhcmFjdGVyLmRzdFJlY3QueCA9IHAueFxuICAgICAgICAgICAgY2hhcmFjdGVyLmRzdFJlY3QueSA9IHAueVxuICAgICAgICBcbiAgICAgICAgc2NlbmUuYmVoYXZpb3IuYWRkQ2hhcmFjdGVyKGNoYXJhY3Rlciwgbm8sIHsgYW5pbWF0aW9uOiBhbmltYXRpb24sIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmcsIG1vdGlvbkJsdXI6IG1vdGlvbkJsdXJ9KVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENoYXJhY3RlckV4aXRTY2VuZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIGNvbW1hbmRDaGFyYWN0ZXJFeGl0U2NlbmU6IChkZWZhdWx0cykgLT5cbiAgICAgICAgZGVmYXVsdHMgPSBkZWZhdWx0cyB8fCBHYW1lTWFuYWdlci5kZWZhdWx0cy5jaGFyYWN0ZXJcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgY2hhcmFjdGVyID0gc2NlbmUuY2hhcmFjdGVycy5maXJzdCAodikgPT4gdi5yaWQgPT0gQHBhcmFtcy5jaGFyYWN0ZXJJZFxuICAgICAgICBcbiAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tVmFsdWVzKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuZWFzaW5nLnR5cGUpLCBAcGFyYW1zLmVhc2luZy5pbk91dCkgZWxzZSBncy5FYXNpbmdzLmZyb21PYmplY3QoZGVmYXVsdHMuZGlzYXBwZWFyRWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5kdXJhdGlvbikgdGhlbiBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pIGVsc2UgZGVmYXVsdHMuZGlzYXBwZWFyRHVyYXRpb25cbiAgICAgICAgYW5pbWF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiYW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gQHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5kaXNhcHBlYXJBbmltYXRpb25cbiAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgICAgICAgICAgXG4gICAgICAgIHNjZW5lLmJlaGF2aW9yLnJlbW92ZUNoYXJhY3RlcihjaGFyYWN0ZXIsIHsgYW5pbWF0aW9uOiBhbmltYXRpb24sIGR1cmF0aW9uOiBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmd9KSAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhcmFjdGVyQ2hhbmdlRXhwcmVzc2lvblxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgXG4gICAgY29tbWFuZENoYXJhY3RlckNoYW5nZUV4cHJlc3Npb246IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuY2hhcmFjdGVyXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5leHByZXNzaW9uRHVyYXRpb25cbiAgICAgICAgZXhwcmVzc2lvbiA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbQHBhcmFtcy5leHByZXNzaW9uSWQgfHwgMF1cbiAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5jaGFuZ2VFYXNpbmcpXG4gICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIEBwYXJhbXMuYW5pbWF0aW9uIGVsc2UgZGVmYXVsdHMuY2hhbmdlQW5pbWF0aW9uXG4gICAgICAgIFxuICAgICAgICBjaGFyYWN0ZXIuYmVoYXZpb3IuY2hhbmdlRXhwcmVzc2lvbihleHByZXNzaW9uLCBAcGFyYW1zLmFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcblxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENoYXJhY3RlclNldFBhcmFtZXRlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICBcbiAgICBjb21tYW5kQ2hhcmFjdGVyU2V0UGFyYW1ldGVyOiAtPlxuICAgICAgICBwYXJhbXMgPSBHYW1lTWFuYWdlci5jaGFyYWN0ZXJQYXJhbXNbQHBhcmFtcy5jaGFyYWN0ZXJJZF1cbiAgICAgICAgaWYgbm90IHBhcmFtcz8gb3Igbm90IEBwYXJhbXMucGFyYW0/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBzd2l0Y2ggQHBhcmFtcy52YWx1ZVR5cGVcbiAgICAgICAgICAgIHdoZW4gMCAjIE51bWJlciBWYWx1ZVxuICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLnBhcmFtLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbQHBhcmFtcy5wYXJhbS5uYW1lXSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMSAjIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tAcGFyYW1zLnBhcmFtLm5hbWVdID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDIgIyBTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tAcGFyYW1zLnBhcmFtLm5hbWVdID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSkgPiAwXG4gICAgICAgICAgICB3aGVuIDEgIyBTd2l0Y2ggVmFsdWVcbiAgICAgICAgICAgICAgICBzd2l0Y2ggQHBhcmFtcy5wYXJhbS50eXBlXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMCAjIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tAcGFyYW1zLnBhcmFtLm5hbWVdID0gaWYgdmFsdWUgdGhlbiAxIGVsc2UgMFxuICAgICAgICAgICAgICAgICAgICB3aGVuIDEgIyBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW0BwYXJhbXMucGFyYW0ubmFtZV0gPSBpZiB2YWx1ZSB0aGVuIFwiT05cIiBlbHNlIFwiT0ZGXCJcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbQHBhcmFtcy5wYXJhbS5uYW1lXSA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgd2hlbiAyICMgVGV4dCBWYWx1ZVxuICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLnBhcmFtLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMudGV4dFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW0BwYXJhbXMucGFyYW0ubmFtZV0gPSB2YWx1ZS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW0BwYXJhbXMucGFyYW0ubmFtZV0gPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnRleHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNbQHBhcmFtcy5wYXJhbS5uYW1lXSA9IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMudGV4dFZhbHVlKSA9PSBcIk9OXCJcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhcmFjdGVyR2V0UGFyYW1ldGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRDaGFyYWN0ZXJHZXRQYXJhbWV0ZXI6IC0+XG4gICAgICAgIHBhcmFtcyA9IEdhbWVNYW5hZ2VyLmNoYXJhY3RlclBhcmFtc1tAcGFyYW1zLmNoYXJhY3RlcklkXVxuICAgICAgICBpZiBub3QgcGFyYW1zPyBvciBub3QgQHBhcmFtcy5wYXJhbT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIHZhbHVlID0gcGFyYW1zW0BwYXJhbXMucGFyYW0ubmFtZV1cbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLnZhbHVlVHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTnVtYmVyIFZhbHVlXG4gICAgICAgICAgICAgICAgc3dpdGNoIEBwYXJhbXMucGFyYW0udHlwZVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDEgIyBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBpZiB2YWx1ZT8gdGhlbiB2YWx1ZS5sZW5ndGggZWxzZSAwKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDIgIyBTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIGlmIHZhbHVlIHRoZW4gMSBlbHNlIDApXG4gICAgICAgICAgICB3aGVuIDEgIyBTd2l0Y2ggVmFsdWVcbiAgICAgICAgICAgICAgICBzd2l0Y2ggQHBhcmFtcy5wYXJhbS50eXBlXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMCAjIE51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHZhbHVlID4gMClcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHZhbHVlID09IFwiT05cIilcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgdmFsdWUpXG4gICAgICAgICAgICB3aGVuIDIgIyBUZXh0IFZhbHVlXG4gICAgICAgICAgICAgICAgc3dpdGNoIEBwYXJhbXMucGFyYW0udHlwZVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIGlmIHZhbHVlPyB0aGVuIHZhbHVlLnRvU3RyaW5nKCkgZWxzZSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDEgIyBUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBpZiB2YWx1ZSB0aGVuIFwiT05cIiBlbHNlIFwiT0ZGXCIpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhcmFjdGVyTW90aW9uQmx1clxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIGNvbW1hbmRDaGFyYWN0ZXJNb3Rpb25CbHVyOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjaGFyYWN0ZXIgPSBzY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG5cbiAgICAgICAgY2hhcmFjdGVyLm1vdGlvbkJsdXIuc2V0KEBwYXJhbXMubW90aW9uQmx1cilcbiAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhcmFjdGVyRGVmYXVsdHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZENoYXJhY3RlckRlZmF1bHRzOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLmNoYXJhY3RlclxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5kaXNhcHBlYXJEdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kaXNhcHBlYXJEdXJhdGlvbilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmV4cHJlc3Npb25EdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5leHByZXNzaW9uRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZXhwcmVzc2lvbkR1cmF0aW9uKVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3Muek9yZGVyKSB0aGVuIGRlZmF1bHRzLnpPcmRlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuek9yZGVyKVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhcHBlYXJFYXNpbmcudHlwZVwiXSkgdGhlbiBkZWZhdWx0cy5hcHBlYXJFYXNpbmcgPSBAcGFyYW1zLmFwcGVhckVhc2luZ1xuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhcHBlYXJBbmltYXRpb24udHlwZVwiXSkgdGhlbiBkZWZhdWx0cy5hcHBlYXJBbmltYXRpb24gPSBAcGFyYW1zLmFwcGVhckFuaW1hdGlvblxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJkaXNhcHBlYXJFYXNpbmcudHlwZVwiXSkgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJFYXNpbmcgPSBAcGFyYW1zLmRpc2FwcGVhckVhc2luZ1xuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJkaXNhcHBlYXJBbmltYXRpb24udHlwZVwiXSkgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJBbmltYXRpb24gPSBAcGFyYW1zLmRpc2FwcGVhckFuaW1hdGlvblxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJtb3Rpb25CbHVyLmVuYWJsZWRcIl0pIHRoZW4gZGVmYXVsdHMubW90aW9uQmx1ciA9IEBwYXJhbXMubW90aW9uQmx1clxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3Mub3JpZ2luKSB0aGVuIGRlZmF1bHRzLm9yaWdpbiA9IEBwYXJhbXMub3JpZ2luXG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEZsYXNoQ2hhcmFjdGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgXG4gICAgY29tbWFuZEZsYXNoQ2hhcmFjdGVyOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjaGFyYWN0ZXIgPSBzY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkICAgICAgICAgICAgICAgIFxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgY2hhcmFjdGVyLmFuaW1hdG9yLmZsYXNoKG5ldyBDb2xvcihAcGFyYW1zLmNvbG9yKSwgZHVyYXRpb24pXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kWm9vbUNoYXJhY3RlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICBcbiAgICBjb21tYW5kWm9vbUNoYXJhY3RlcjogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgY2hhcmFjdGVyID0gc2NlbmUuY2hhcmFjdGVycy5maXJzdCAodikgPT4gdi5yaWQgPT0gQHBhcmFtcy5jaGFyYWN0ZXJJZCAgICAgIFxuICAgICAgICBpZiBub3QgY2hhcmFjdGVyPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLnpvb21PYmplY3QoY2hhcmFjdGVyLCBAcGFyYW1zKVxuXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUm90YXRlQ2hhcmFjdGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRSb3RhdGVDaGFyYWN0ZXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgICAgICBcbiAgICAgICAgaWYgbm90IGNoYXJhY3Rlcj8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5yb3RhdGVPYmplY3QoY2hhcmFjdGVyLCBAcGFyYW1zKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRCbGVuZENoYXJhY3RlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRCbGVuZENoYXJhY3RlcjogLT5cbiAgICAgICAgY2hhcmFjdGVyID0gU2NlbmVNYW5hZ2VyLnNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgICAgICBcbiAgICAgICAgaWYgbm90IGNoYXJhY3Rlcj8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5ibGVuZE9iamVjdChjaGFyYWN0ZXIsIEBwYXJhbXMpIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTaGFrZUNoYXJhY3RlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRTaGFrZUNoYXJhY3RlcjogLT4gXG4gICAgICAgIGNoYXJhY3RlciA9IFNjZW5lTWFuYWdlci5zY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkICAgICAgXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG4gICAgICAgIEBpbnRlcnByZXRlci5zaGFrZU9iamVjdChjaGFyYWN0ZXIsIEBwYXJhbXMpICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNYXNrQ2hhcmFjdGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZE1hc2tDaGFyYWN0ZXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgICAgICBcbiAgICAgICAgaWYgbm90IGNoYXJhY3Rlcj8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5tYXNrT2JqZWN0KGNoYXJhY3RlciwgQHBhcmFtcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNb3ZlQ2hhcmFjdGVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRNb3ZlQ2hhcmFjdGVyOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjaGFyYWN0ZXIgPSBzY2VuZS5jaGFyYWN0ZXJzLmZpcnN0ICh2KSA9PiB2LnJpZCA9PSBAcGFyYW1zLmNoYXJhY3RlcklkICAgICAgXG4gICAgICAgIGlmIG5vdCBjaGFyYWN0ZXI/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIubW92ZU9iamVjdChjaGFyYWN0ZXIsIEBwYXJhbXMucG9zaXRpb24sIEBwYXJhbXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTW92ZUNoYXJhY3RlclBhdGhcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kTW92ZUNoYXJhY3RlclBhdGg6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGNoYXJhY3RlciA9IHNjZW5lLmNoYXJhY3RlcnMuZmlyc3QgKHYpID0+IHYucmlkID09IEBwYXJhbXMuY2hhcmFjdGVySWQgICAgICBcbiAgICAgICAgaWYgbm90IGNoYXJhY3Rlcj8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5tb3ZlT2JqZWN0UGF0aChjaGFyYWN0ZXIsIEBwYXJhbXMucGF0aCwgQHBhcmFtcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTaGFrZUJhY2tncm91bmRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZFNoYWtlQmFja2dyb3VuZDogLT4gXG4gICAgICAgIGJhY2tncm91bmQgPSBTY2VuZU1hbmFnZXIuc2NlbmUuYmFja2dyb3VuZHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcildXG4gICAgICAgIGlmIG5vdCBiYWNrZ3JvdW5kPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLnNoYWtlT2JqZWN0KGJhY2tncm91bmQsIEBwYXJhbXMpXG5cbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTY3JvbGxCYWNrZ3JvdW5kXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kU2Nyb2xsQmFja2dyb3VuZDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIGhvcml6b250YWxTcGVlZCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuaG9yaXpvbnRhbFNwZWVkKVxuICAgICAgICB2ZXJ0aWNhbFNwZWVkID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy52ZXJ0aWNhbFNwZWVkKVxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KVxuICAgICAgICBsYXllciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgIFxuICAgICAgICBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl0/LmFuaW1hdG9yLm1vdmUoaG9yaXpvbnRhbFNwZWVkLCB2ZXJ0aWNhbFNwZWVkLCBkdXJhdGlvbiwgZWFzaW5nKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNjcm9sbEJhY2tncm91bmRUb1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgXG4gICAgY29tbWFuZFNjcm9sbEJhY2tncm91bmRUbzogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIHggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmJhY2tncm91bmQubG9jYXRpb24ueClcbiAgICAgICAgeSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuYmFja2dyb3VuZC5sb2NhdGlvbi55KVxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KVxuICAgICAgICBsYXllciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpXG4gICAgICAgIGJhY2tncm91bmQgPSBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl1cbiAgICAgICAgaWYgIWJhY2tncm91bmQgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5wb3NpdGlvblR5cGUgPT0gMFxuICAgICAgICAgICAgcCA9IEBpbnRlcnByZXRlci5wcmVkZWZpbmVkT2JqZWN0UG9zaXRpb24oQHBhcmFtcy5wcmVkZWZpbmVkUG9zaXRpb25JZCwgYmFja2dyb3VuZCwgQHBhcmFtcylcbiAgICAgICAgICAgIHggPSBwLnhcbiAgICAgICAgICAgIHkgPSBwLnlcbiAgICAgXG4gICAgICAgIGJhY2tncm91bmQuYW5pbWF0b3IubW92ZVRvKHgsIHksIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2Nyb2xsQmFja2dyb3VuZFBhdGhcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kU2Nyb2xsQmFja2dyb3VuZFBhdGg6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGJhY2tncm91bmQgPSBzY2VuZS5iYWNrZ3JvdW5kc1tAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmxheWVyKV1cbiAgICAgICAgcmV0dXJuIHVubGVzcyBiYWNrZ3JvdW5kP1xuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLm1vdmVPYmplY3RQYXRoKGJhY2tncm91bmQsIEBwYXJhbXMucGF0aCwgQHBhcmFtcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNYXNrQmFja2dyb3VuZFxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRNYXNrQmFja2dyb3VuZDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgYmFja2dyb3VuZCA9IHNjZW5lLmJhY2tncm91bmRzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpXVxuICAgICAgICByZXR1cm4gdW5sZXNzIGJhY2tncm91bmQ/XG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIubWFza09iamVjdChiYWNrZ3JvdW5kLCBAcGFyYW1zKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRab29tQmFja2dyb3VuZFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICBcbiAgICBjb21tYW5kWm9vbUJhY2tncm91bmQ6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICB4ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56b29taW5nLngpXG4gICAgICAgIHkgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpvb21pbmcueSlcbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tVmFsdWVzKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuZWFzaW5nLnR5cGUpLCBAcGFyYW1zLmVhc2luZy5pbk91dClcbiAgICAgICAgbGF5ZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmxheWVyKVxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgICAgICAgICAgXG4gICAgICAgIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXT8uYW5pbWF0b3Iuem9vbVRvKHggLyAxMDAsIHkgLyAxMDAsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kVGludEJhY2tncm91bmRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kVGludEJhY2tncm91bmQ6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGxheWVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcilcbiAgICAgICAgYmFja2dyb3VuZCA9IHNjZW5lLmJhY2tncm91bmRzW2xheWVyXVxuICAgICAgICBpZiBub3QgYmFja2dyb3VuZD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICBlYXNpbmcgPSBncy5FYXNpbmdzLmZyb21PYmplY3QoQHBhcmFtcy5lYXNpbmcpXG4gICAgICAgIGJhY2tncm91bmQuYW5pbWF0b3IudGludFRvKEBwYXJhbXMudG9uZSwgZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci53YWl0Rm9yQ29tcGxldGlvbihiYWNrZ3JvdW5kLCBAcGFyYW1zKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEJsZW5kQmFja2dyb3VuZFxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRCbGVuZEJhY2tncm91bmQ6IC0+XG4gICAgICAgIGxheWVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcilcbiAgICAgICAgYmFja2dyb3VuZCA9IFNjZW5lTWFuYWdlci5zY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl1cbiAgICAgICAgaWYgbm90IGJhY2tncm91bmQ/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuYmxlbmRPYmplY3QoYmFja2dyb3VuZCwgQHBhcmFtcykgXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEJhY2tncm91bmRFZmZlY3RcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIGNvbW1hbmRCYWNrZ3JvdW5kRWZmZWN0OiAtPlxuICAgICAgICBsYXllciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpXG4gICAgICAgIGJhY2tncm91bmQgPSBTY2VuZU1hbmFnZXIuc2NlbmUuYmFja2dyb3VuZHNbbGF5ZXJdXG4gICAgICAgIGlmIG5vdCBiYWNrZ3JvdW5kPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLm9iamVjdEVmZmVjdChiYWNrZ3JvdW5kLCBAcGFyYW1zKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEJhY2tncm91bmREZWZhdWx0c1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIGNvbW1hbmRCYWNrZ3JvdW5kRGVmYXVsdHM6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuYmFja2dyb3VuZFxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy56T3JkZXIpIHRoZW4gZGVmYXVsdHMuek9yZGVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56T3JkZXIpXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmVhc2luZyA9IEBwYXJhbXMuZWFzaW5nXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmFuaW1hdGlvbiA9IEBwYXJhbXMuYW5pbWF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5vcmlnaW4pIHRoZW4gZGVmYXVsdHMub3JpZ2luID0gQHBhcmFtcy5vcmlnaW5cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmxvb3BIb3Jpem9udGFsKSB0aGVuIGRlZmF1bHRzLmxvb3BIb3Jpem9udGFsID0gQHBhcmFtcy5sb29wSG9yaXpvbnRhbFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MubG9vcFZlcnRpY2FsKSB0aGVuIGRlZmF1bHRzLmxvb3BWZXJ0aWNhbCA9IEBwYXJhbXMubG9vcFZlcnRpY2FsXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQmFja2dyb3VuZE1vdGlvbkJsdXJcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRCYWNrZ3JvdW5kTW90aW9uQmx1cjogLT5cbiAgICAgICAgbGF5ZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmxheWVyKVxuICAgICAgICBiYWNrZ3JvdW5kID0gU2NlbmVNYW5hZ2VyLnNjZW5lLmJhY2tncm91bmRzW2xheWVyXVxuICAgICAgICBpZiBub3QgYmFja2dyb3VuZD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGJhY2tncm91bmQubW90aW9uQmx1ci5zZXQoQHBhcmFtcy5tb3Rpb25CbHVyKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VCYWNrZ3JvdW5kXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICBcbiAgICBjb21tYW5kQ2hhbmdlQmFja2dyb3VuZDogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5iYWNrZ3JvdW5kXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmR1cmF0aW9uXG4gICAgICAgIGxvb3BIID0gaWYgIWlzTG9ja2VkKGZsYWdzLmxvb3BIb3Jpem9udGFsKSB0aGVuIEBwYXJhbXMubG9vcEhvcml6b250YWwgZWxzZSBkZWZhdWx0cy5sb29wSG9yaXpvbnRhbFxuICAgICAgICBsb29wViA9IGlmICFpc0xvY2tlZChmbGFncy5sb29wVmVydGljYWwpIHRoZW4gQHBhcmFtcy5sb29wVmVydGljYWwgZWxzZSBkZWZhdWx0cy5sb29wVmVydGljYWxcbiAgICAgICAgYW5pbWF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiYW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gQHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5hbmltYXRpb25cbiAgICAgICAgb3JpZ2luID0gaWYgIWlzTG9ja2VkKGZsYWdzLm9yaWdpbikgdGhlbiBAcGFyYW1zLm9yaWdpbiBlbHNlIGRlZmF1bHRzLm9yaWdpblxuICAgICAgICB6SW5kZXggPSBpZiAhaXNMb2NrZWQoZmxhZ3Muek9yZGVyKSB0aGVuIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuek9yZGVyKSBlbHNlIGRlZmF1bHRzLnpPcmRlclxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICAgICBcbiAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gIGdzLkVhc2luZ3MuZnJvbU9iamVjdChAcGFyYW1zLmVhc2luZykgZWxzZSBncy5FYXNpbmdzLmZyb21PYmplY3QoZGVmYXVsdHMuZWFzaW5nKVxuICAgICAgICBsYXllciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpXG4gICAgICAgIHNjZW5lLmJlaGF2aW9yLmNoYW5nZUJhY2tncm91bmQoQHBhcmFtcy5ncmFwaGljLCBubywgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCAwLCAwLCBsYXllciwgbG9vcEgsIGxvb3BWKVxuICAgICAgICBcbiAgICAgICAgaWYgc2NlbmUuYmFja2dyb3VuZHNbbGF5ZXJdXG4gICAgICAgICAgICBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl0uYW5jaG9yLnggPSBpZiBvcmlnaW4gPT0gMCB0aGVuIDAgZWxzZSAwLjVcbiAgICAgICAgICAgIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5hbmNob3IueSA9IGlmIG9yaWdpbiA9PSAwIHRoZW4gMCBlbHNlIDAuNVxuICAgICAgICAgICAgc2NlbmUuYmFja2dyb3VuZHNbbGF5ZXJdLmJsZW5kTW9kZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuYmxlbmRNb2RlKVxuICAgICAgICAgICAgc2NlbmUuYmFja2dyb3VuZHNbbGF5ZXJdLnpJbmRleCA9IHpJbmRleFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBvcmlnaW4gPT0gMVxuICAgICAgICAgICAgICAgIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5kc3RSZWN0LnggPSBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl0uZHN0UmVjdC54IyArIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5iaXRtYXAud2lkdGgvMlxuICAgICAgICAgICAgICAgIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5kc3RSZWN0LnkgPSBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl0uZHN0UmVjdC55IyArIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5iaXRtYXAuaGVpZ2h0LzJcbiAgICAgICAgICAgIHNjZW5lLmJhY2tncm91bmRzW2xheWVyXS5zZXR1cCgpXG4gICAgICAgICAgICBzY2VuZS5iYWNrZ3JvdW5kc1tsYXllcl0udXBkYXRlKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDYWxsU2NlbmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICBcbiAgICBjb21tYW5kQ2FsbFNjZW5lOiAtPlxuICAgICAgICBAaW50ZXJwcmV0ZXIuY2FsbFNjZW5lKEBwYXJhbXMuc2NlbmUudWlkKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VTY2VuZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgIFxuICAgIGNvbW1hbmRDaGFuZ2VTY2VuZTogLT5cbiAgICAgICAgaWYgR2FtZU1hbmFnZXIuaW5MaXZlUHJldmlldyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgaWYgIUBwYXJhbXMuZXJhc2VQaWN0dXJlc1xuICAgICAgICAgICAgc2NlbmUucmVtb3ZlT2JqZWN0KHNjZW5lLnBpY3R1cmVDb250YWluZXIpXG4gICAgICAgIGlmICFAcGFyYW1zLmVyYXNlVGV4dHNcbiAgICAgICAgICAgIHNjZW5lLnJlbW92ZU9iamVjdChzY2VuZS50ZXh0Q29udGFpbmVyKVxuICAgICAgICBpZiAhQHBhcmFtcy5lcmFzZVZpZGVvc1xuICAgICAgICAgICAgc2NlbmUucmVtb3ZlT2JqZWN0KHNjZW5lLnZpZGVvQ29udGFpbmVyKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy5zY2VuZVxuICAgICAgICAgICAgR2FtZU1hbmFnZXIuc2NlbmVEYXRhID0gdWlkOiB1aWQgPSBAcGFyYW1zLnNjZW5lLnVpZCwgcGljdHVyZXM6IHNjZW5lLnBpY3R1cmVzLCB0ZXh0czogc2NlbmUudGV4dHMsIHZpZGVvczogc2NlbmUudmlkZW9zXG4gICAgICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICAgICAgbmV3U2NlbmUgPSBuZXcgdm4uT2JqZWN0X1NjZW5lKClcbiAgICAgICAgICAgIG5ld1NjZW5lLnNjZW5lRGF0YSA9IHVpZDogdWlkID0gQHBhcmFtcy5zY2VuZS51aWQsIHBpY3R1cmVzOiBzY2VuZS5waWN0dXJlcywgdGV4dHM6IHNjZW5lLnRleHRzLCB2aWRlb3M6IHNjZW5lLnZpZGVvc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBTY2VuZU1hbmFnZXIudHJhbnNpdGlvbkRhdGEuZHVyYXRpb25cbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zd2l0Y2hUbyhuZXdTY2VuZSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKG51bGwpXG4gICAgICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gMVxuICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU3dpdGNoVG9MYXlvdXRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZFN3aXRjaFRvTGF5b3V0OiAtPlxuICAgICAgICBpZiBHYW1lTWFuYWdlci5pbkxpdmVQcmV2aWV3IHRoZW4gcmV0dXJuXG4gICAgICAgIGlmIHVpLlVJTWFuYWdlci5sYXlvdXRzW0BwYXJhbXMubGF5b3V0Lm5hbWVdP1xuICAgICAgICAgICAgc2NlbmUgPSBuZXcgZ3MuT2JqZWN0X0xheW91dChAcGFyYW1zLmxheW91dC5uYW1lKVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKHNjZW5lLCBAcGFyYW1zLnNhdmVQcmV2aW91cylcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IDFcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VUcmFuc2l0aW9uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRDaGFuZ2VUcmFuc2l0aW9uOiAtPlxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIudHJhbnNpdGlvbkRhdGEuZHVyYXRpb24gPSBAcGFyYW1zLmR1cmF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5ncmFwaGljKVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnRyYW5zaXRpb25EYXRhLmdyYXBoaWMgPSBAcGFyYW1zLmdyYXBoaWNcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnZhZ3VlKVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnRyYW5zaXRpb25EYXRhLnZhZ3VlID0gQHBhcmFtcy52YWd1ZVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRGcmVlemVTY3JlZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICBcbiAgICBjb21tYW5kRnJlZXplU2NyZWVuOiAtPiBcbiAgICAgICAgR3JhcGhpY3MuZnJlZXplKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTY3JlZW5UcmFuc2l0aW9uXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kU2NyZWVuVHJhbnNpdGlvbjogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5zY2VuZVxuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIGdyYXBoaWNOYW1lID0gaWYgIWlzTG9ja2VkKGZsYWdzLmdyYXBoaWMpIHRoZW4gQHBhcmFtcy5ncmFwaGljPy5uYW1lIGVsc2UgU2NlbmVNYW5hZ2VyLnRyYW5zaXRpb25EYXRhLmdyYXBoaWM/Lm5hbWVcbiAgICAgICAgXG4gICAgICAgIGlmIGdyYXBoaWNOYW1lXG4gICAgICAgICAgICBiaXRtYXAgPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZ3JhcGhpYykgdGhlbiBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3tncmFwaGljTmFtZX1cIikgZWxzZSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3tncmFwaGljTmFtZX1cIilcbiAgICAgICAgdmFndWUgPSBpZiAhaXNMb2NrZWQoZmxhZ3MudmFndWUpIHRoZW4gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy52YWd1ZSkgZWxzZSBTY2VuZU1hbmFnZXIudHJhbnNpdGlvbkRhdGEudmFndWVcbiAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIFNjZW5lTWFuYWdlci50cmFuc2l0aW9uRGF0YS5kdXJhdGlvblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9ICFHYW1lTWFuYWdlci5pbkxpdmVQcmV2aWV3XG4gICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgR3JhcGhpY3MudHJhbnNpdGlvbihkdXJhdGlvbiwgYml0bWFwLCB2YWd1ZSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTaGFrZVNjcmVlblxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRTaGFrZVNjcmVlbjogLT5cbiAgICAgICAgaWYgbm90IFNjZW5lTWFuYWdlci5zY2VuZS52aWV3cG9ydD8gdGhlbiByZXR1cm4gICAgICAgICAgICAgICAgXG4gICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5zaGFrZU9iamVjdChTY2VuZU1hbmFnZXIuc2NlbmUudmlld3BvcnQsIEBwYXJhbXMpICBcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRUaW50U2NyZWVuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRUaW50U2NyZWVuOiAtPlxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZXdwb3J0LmFuaW1hdG9yLnRpbnRUbyhuZXcgVG9uZShAcGFyYW1zLnRvbmUpLCBkdXJhdGlvbiwgZ3MuRWFzaW5ncy5FQVNFX0xJTkVBUlswXSlcbiAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgZHVyYXRpb24gPiAwXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZCAgICByZWVuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kWm9vbVNjcmVlbjogLT5cbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcblxuICAgICAgICBwYW4gPSBAaW50ZXJwcmV0ZXIuc2V0dGluZ3Muc2NyZWVuLnBhblxuICAgICAgICAjIyNcbiAgICAgICAgZm9yIGJhY2tncm91bmQgaW4gc2NlbmUuYmFja2dyb3VuZHNcbiAgICAgICAgICAgIGlmIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLmFuY2hvci54ID0gLSgoYmFja2dyb3VuZC5kc3RSZWN0LnggLSBwYW4ueCkgLyAoYmFja2dyb3VuZC5kc3RSZWN0LndpZHRoKSlcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLmFuY2hvci55ID0gLSgoYmFja2dyb3VuZC5kc3RSZWN0LnkgLSBwYW4ueSkgLyAoYmFja2dyb3VuZC5kc3RSZWN0LmhlaWdodCkpXG4gICAgICAgICAgICAgICAgI0BpbnRlcnByZXRlci56b29tT2JqZWN0KGJhY2tncm91bmQsIEBwYXJhbXMpXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5hbmltYXRvci56b29tVG8oQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56b29taW5nLngpIC8gMTAwLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpvb21pbmcueSkgLyAxMDAsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgIFxuICAgICAgICBmb3IgY2hhcmFjdGVyIGluIHNjZW5lLmNoYXJhY3RlcnNcbiAgICAgICAgICAgIGlmIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5hbmNob3IueCA9IC0oKGNoYXJhY3Rlci5kc3RSZWN0LnggLSBwYW4ueCkgLyAoY2hhcmFjdGVyLmRzdFJlY3Qud2lkdGgpKVxuICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5hbmNob3IueSA9IC0oKGNoYXJhY3Rlci5kc3RSZWN0LnkgLSBwYW4ueSkgLyAoY2hhcmFjdGVyLmRzdFJlY3QuaGVpZ2h0KSlcbiAgICAgICAgICAgICAgICAjQGludGVycHJldGVyLnpvb21PYmplY3QoY2hhcmFjdGVyLCBAcGFyYW1zKVxuICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5hbmltYXRvci56b29tVG8oQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56b29taW5nLngpIC8gMTAwLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpvb21pbmcueSkgLyAxMDAsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgICMjI1xuICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUudmlld3BvcnQuYW5jaG9yLnggPSAwLjVcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZXdwb3J0LmFuY2hvci55ID0gMC41XG4gICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS52aWV3cG9ydC5hbmltYXRvci56b29tVG8oQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56b29taW5nLngpIC8gMTAwLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpvb21pbmcueSkgLyAxMDAsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdEZvckNvbXBsZXRpb24obnVsbCwgQHBhcmFtcylcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUGFuU2NyZWVuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgXG4gICAgY29tbWFuZFBhblNjcmVlbjogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChAcGFyYW1zLmVhc2luZylcbiAgICAgICAgQGludGVycHJldGVyLnNldHRpbmdzLnNjcmVlbi5wYW4ueCAtPSBAcGFyYW1zLnBvc2l0aW9uLnhcbiAgICAgICAgQGludGVycHJldGVyLnNldHRpbmdzLnNjcmVlbi5wYW4ueSAtPSBAcGFyYW1zLnBvc2l0aW9uLnlcbiAgICAgICAgdmlld3BvcnQgPSBTY2VuZU1hbmFnZXIuc2NlbmUudmlld3BvcnRcbiAgICAgICAgI2ZvciBiYWNrZ3JvdW5kIGluIHNjZW5lLmJhY2tncm91bmRzXG4gICAgICAgICMgICAgaWYgYmFja2dyb3VuZFxuICAgICAgICAjICAgICAgICBwb3NpdGlvbiA9IHg6IC1AcGFyYW1zLnBvc2l0aW9uLnggKyBiYWNrZ3JvdW5kLmRzdFJlY3QueCwgeTogLUBwYXJhbXMucG9zaXRpb24ueSArIGJhY2tncm91bmQuZHN0UmVjdC55XG4gICAgICAgICMgICAgICAgIEBpbnRlcnByZXRlci5tb3ZlT2JqZWN0KGJhY2tncm91bmQsIHBvc2l0aW9uLCBAcGFyYW1zKVxuICAgICAgICBcbiAgICAgICAgI2ZvciBjaGFyYWN0ZXIgaW4gc2NlbmUuY2hhcmFjdGVyc1xuICAgICAgICAjICAgIGlmIGNoYXJhY3RlclxuICAgICAgICAjICAgICAgICBwb3NpdGlvbiA9IHg6IC1AcGFyYW1zLnBvc2l0aW9uLnggKyBjaGFyYWN0ZXIuZHN0UmVjdC54LCB5OiAtQHBhcmFtcy5wb3NpdGlvbi55ICsgY2hhcmFjdGVyLmRzdFJlY3QueVxuICAgICAgICAjICAgICAgICBAaW50ZXJwcmV0ZXIubW92ZU9iamVjdChjaGFyYWN0ZXIsIHBvc2l0aW9uLCBAcGFyYW1zKVxuICAgICAgICBcbiAgICAgICAgdmlld3BvcnQuYW5pbWF0b3Iuc2Nyb2xsVG8oLUBwYXJhbXMucG9zaXRpb24ueCArIHZpZXdwb3J0LmRzdFJlY3QueCwgLUBwYXJhbXMucG9zaXRpb24ueSArIHZpZXdwb3J0LmRzdFJlY3QueSwgZHVyYXRpb24sIGVhc2luZykgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdEZvckNvbXBsZXRpb24obnVsbCwgQHBhcmFtcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRSb3RhdGVTY3JlZW5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFJvdGF0ZVNjcmVlbjogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgXG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChAcGFyYW1zLmVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIHBhbiA9IEBpbnRlcnByZXRlci5zZXR0aW5ncy5zY3JlZW4ucGFuXG5cbiAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZXdwb3J0LmFuY2hvci54ID0gMC41XG4gICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS52aWV3cG9ydC5hbmNob3IueSA9IDAuNVxuICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUudmlld3BvcnQuYW5pbWF0b3Iucm90YXRlKEBwYXJhbXMuZGlyZWN0aW9uLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnNwZWVkKSAvIDEwMCwgZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci53YWl0Rm9yQ29tcGxldGlvbihudWxsLCBAcGFyYW1zKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRGbGFzaFNjcmVlblxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgIFxuICAgIGNvbW1hbmRGbGFzaFNjcmVlbjogLT5cbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS52aWV3cG9ydC5hbmltYXRvci5mbGFzaChuZXcgQ29sb3IoQHBhcmFtcy5jb2xvciksIGR1cmF0aW9uLCBncy5FYXNpbmdzLkVBU0VfTElORUFSWzBdKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgZHVyYXRpb24gIT0gMFxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTY3JlZW5FZmZlY3RcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgXG4gICAgY29tbWFuZFNjcmVlbkVmZmVjdDogLT5cbiAgICAgICAgc3dpdGNoIEBwYXJhbXMudHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgV29iYmxlXG4gICAgICAgICAgICAgICAgd29iYmxlID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZXdwb3J0LmVmZmVjdHMud29iYmxlXG4gICAgICAgICAgICAgICAgd29iYmxlLmVuYWJsZWQgPSBAcGFyYW1zLnBvd2VyID4gMFxuICAgICAgICAgICAgICAgIHdvYmJsZS5wb3dlciA9IEBwYXJhbXMucG93ZXIgLyAxMDAwMFxuICAgICAgICAgICAgICAgIHdvYmJsZS5zcGVlZCA9IEBwYXJhbXMuc3BlZWQgLyAxMDBcbiAgICAgICAgICAgICAgICB3b2JibGUudmVydGljYWwgPSBAcGFyYW1zLm9yaWVudGF0aW9uID09IDAgb3IgQHBhcmFtcy5vcmllbnRhdGlvbiA9PSAyXG4gICAgICAgICAgICAgICAgd29iYmxlLmhvcml6b250YWwgPSBAcGFyYW1zLm9yaWVudGF0aW9uID09IDEgb3IgQHBhcmFtcy5vcmllbnRhdGlvbiA9PSAyXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGVuIDEgIyBCbHVyXG4gICAgICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZXdwb3J0LnZpc3VhbC52aWV3cG9ydC5lZmZlY3RzLmJsdXIuZW5hYmxlZCA9IHllc1xuICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS52aWV3cG9ydC52aXN1YWwudmlld3BvcnQuZWZmZWN0cy5ibHVyLnBhc3NlcyA9IEBwYXJhbXMucGFzc2VzXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kVmlkZW9EZWZhdWx0c1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICBcbiAgICBjb21tYW5kVmlkZW9EZWZhdWx0czogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy52aWRlb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5kaXNhcHBlYXJEdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kaXNhcHBlYXJEdXJhdGlvbilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnpPcmRlcikgdGhlbiBkZWZhdWx0cy56T3JkZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpPcmRlcilcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5hcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyRWFzaW5nLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyRWFzaW5nID0gQHBhcmFtcy5kaXNhcHBlYXJFYXNpbmdcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wiZGlzYXBwZWFyQW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyQW5pbWF0aW9uID0gQHBhcmFtcy5kaXNhcHBlYXJBbmltYXRpb25cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzW1wibW90aW9uQmx1ci5lbmFibGVkXCJdKSB0aGVuIGRlZmF1bHRzLm1vdGlvbkJsdXIgPSBAcGFyYW1zLm1vdGlvbkJsdXJcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLm9yaWdpbikgdGhlbiBkZWZhdWx0cy5vcmlnaW4gPSBAcGFyYW1zLm9yaWdpblxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNob3dWaWRlb1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZFNob3dWaWRlbzogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy52aWRlb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICB2aWRlb3MgPSBzY2VuZS52aWRlb3NcbiAgICAgICAgaWYgbm90IHZpZGVvc1tudW1iZXJdPyB0aGVuIHZpZGVvc1tudW1iZXJdID0gbmV3IGdzLk9iamVjdF9WaWRlbygpXG4gICAgICAgIFxuICAgICAgICB4ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5wb3NpdGlvbi54KVxuICAgICAgICB5ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5wb3NpdGlvbi55KVxuICAgICAgICBcbiAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tVmFsdWVzKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuZWFzaW5nLnR5cGUpLCBAcGFyYW1zLmVhc2luZy5pbk91dCkgZWxzZSBncy5FYXNpbmdzLmZyb21PYmplY3QoZGVmYXVsdHMuYXBwZWFyRWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5kdXJhdGlvbikgdGhlbiBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pIGVsc2UgZGVmYXVsdHMuYXBwZWFyRHVyYXRpb25cbiAgICAgICAgb3JpZ2luID0gaWYgIWlzTG9ja2VkKGZsYWdzLm9yaWdpbikgdGhlbiBAcGFyYW1zLm9yaWdpbiBlbHNlIGRlZmF1bHRzLm9yaWdpblxuICAgICAgICB6SW5kZXggPSBpZiAhaXNMb2NrZWQoZmxhZ3Muek9yZGVyKSB0aGVuIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuek9yZGVyKSBlbHNlIGRlZmF1bHRzLnpPcmRlclxuICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmFwcGVhckFuaW1hdGlvblxuICAgICAgICBcbiAgICAgICAgdmlkZW8gPSB2aWRlb3NbbnVtYmVyXVxuICAgICAgICB2aWRlby52aWRlbyA9IEBwYXJhbXMudmlkZW8/Lm5hbWVcbiAgICAgICAgdmlkZW8ubG9vcCA9IHllc1xuICAgICAgICB2aWRlby5kc3RSZWN0LnggPSB4XG4gICAgICAgIHZpZGVvLmRzdFJlY3QueSA9IHlcbiAgICAgICAgdmlkZW8uYmxlbmRNb2RlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5ibGVuZE1vZGUpXG4gICAgICAgIHZpZGVvLmFuY2hvci54ID0gaWYgb3JpZ2luID09IDAgdGhlbiAwIGVsc2UgMC41XG4gICAgICAgIHZpZGVvLmFuY2hvci55ID0gaWYgb3JpZ2luID09IDAgdGhlbiAwIGVsc2UgMC41XG4gICAgICAgIHZpZGVvLnpJbmRleCA9IHpJbmRleCB8fCAgKDEwMDAgKyBudW1iZXIpXG4gICAgICAgIHZpZGVvLnVwZGF0ZSgpXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLnBvc2l0aW9uVHlwZSA9PSAwXG4gICAgICAgICAgICBwID0gQGludGVycHJldGVyLnByZWRlZmluZWRPYmplY3RQb3NpdGlvbihAcGFyYW1zLnByZWRlZmluZWRQb3NpdGlvbklkLCB2aWRlbywgQHBhcmFtcylcbiAgICAgICAgICAgIHZpZGVvLmRzdFJlY3QueCA9IHAueFxuICAgICAgICAgICAgdmlkZW8uZHN0UmVjdC55ID0gcC55XG4gICAgICAgICAgICBcbiAgICAgICAgdmlkZW8uYW5pbWF0b3IuYXBwZWFyKHgsIHksIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTW92ZVZpZGVvXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kTW92ZVZpZGVvOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZXMgPSBzY2VuZS5waWN0dXJlc1xuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHNjZW5lLnZpZGVvc1xuICAgICAgICBAaW50ZXJwcmV0ZXIuY29tbWFuZE1vdmVQaWN0dXJlLmNhbGwodGhpcylcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBwaWN0dXJlc1xuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE1vdmVWaWRlb1BhdGhcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICBcbiAgICBjb21tYW5kTW92ZVZpZGVvUGF0aDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBzY2VuZS52aWRlb3NcbiAgICAgICAgQGludGVycHJldGVyLmNvbW1hbmRNb3ZlUGljdHVyZVBhdGguY2FsbCh0aGlzKVxuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHBpY3R1cmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUm90YXRlVmlkZW9cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFJvdGF0ZVZpZGVvOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZXMgPSBzY2VuZS5waWN0dXJlc1xuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHNjZW5lLnZpZGVvc1xuICAgICAgICBAaW50ZXJwcmV0ZXIuY29tbWFuZFJvdGF0ZVBpY3R1cmUuY2FsbCh0aGlzKVxuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHBpY3R1cmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kWm9vbVZpZGVvXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRab29tVmlkZW86IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBwaWN0dXJlcyA9IHNjZW5lLnBpY3R1cmVzXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gc2NlbmUudmlkZW9zXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kWm9vbVBpY3R1cmUuY2FsbCh0aGlzKVxuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHBpY3R1cmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQmxlbmRWaWRlb1xuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRCbGVuZFZpZGVvOiAtPlxuICAgICAgICB2aWRlbyA9IFNjZW5lTWFuYWdlci5zY2VuZS52aWRlb3NbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICBpZiBub3QgdmlkZW8/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuYmxlbmRPYmplY3QodmlkZW8sIEBwYXJhbXMpIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRUaW50VmlkZW9cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFRpbnRWaWRlbzogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBzY2VuZS52aWRlb3NcbiAgICAgICAgQGludGVycHJldGVyLmNvbW1hbmRUaW50UGljdHVyZS5jYWxsKHRoaXMpXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gcGljdHVyZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRGbGFzaFZpZGVvXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRGbGFzaFZpZGVvOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZXMgPSBzY2VuZS5waWN0dXJlc1xuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHNjZW5lLnZpZGVvc1xuICAgICAgICBAaW50ZXJwcmV0ZXIuY29tbWFuZEZsYXNoUGljdHVyZS5jYWxsKHRoaXMpXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gcGljdHVyZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDcm9wVmlkZW9cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZENyb3BWaWRlbzogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBzY2VuZS52aWRlb3NcbiAgICAgICAgQGludGVycHJldGVyLmNvbW1hbmRDcm9wUGljdHVyZS5jYWxsKHRoaXMpXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gcGljdHVyZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRWaWRlb01vdGlvbkJsdXJcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRWaWRlb01vdGlvbkJsdXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBwaWN0dXJlcyA9IHNjZW5lLnBpY3R1cmVzXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gc2NlbmUudmlkZW9zXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kUGljdHVyZU1vdGlvbkJsdXIuY2FsbCh0aGlzKVxuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHBpY3R1cmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTWFza1ZpZGVvXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRNYXNrVmlkZW86IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBwaWN0dXJlcyA9IHNjZW5lLnBpY3R1cmVzXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gc2NlbmUudmlkZW9zXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kTWFza1BpY3R1cmUuY2FsbCh0aGlzKVxuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHBpY3R1cmVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kRXJhc2VWaWRlb1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZEVyYXNlVmlkZW86IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMudmlkZW9cbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgdmlkZW8gPSBzY2VuZS52aWRlb3NbbnVtYmVyXVxuICAgICAgICBpZiBub3QgdmlkZW8/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBlYXNpbmcgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJlYXNpbmcudHlwZVwiXSkgdGhlbiBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5kaXNhcHBlYXJFYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvblxuICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmRpc2FwcGVhckFuaW1hdGlvblxuICAgICAgICBcbiAgICAgICAgdmlkZW8uYW5pbWF0b3IuZGlzYXBwZWFyKGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKHNlbmRlcikgPT4gXG4gICAgICAgICAgICBzZW5kZXIuZGlzcG9zZSgpXG4gICAgICAgICAgIyAgc2VuZGVyLnZpZGVvLnBhdXNlKClcbiAgICAgICAgKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb24gXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2hvd0ltYWdlTWFwXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICBcbiAgICBjb21tYW5kU2hvd0ltYWdlTWFwOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBzY2VuZS5pbWFnZU1hcD8uZGlzcG9zZSgpXG4gICAgICAgIHNjZW5lLmltYWdlTWFwID0gbmV3IGdzLk9iamVjdF9JbWFnZU1hcCgpXG4gICAgICAgIHNjZW5lLmltYWdlTWFwLmRzdFJlY3QueCA9IDBcbiAgICAgICAgc2NlbmUuaW1hZ2VNYXAuZHN0UmVjdC55ID0gMFxuICAgICAgICBzY2VuZS5pbWFnZU1hcC5ob3RzcG90cyA9IEBwYXJhbXMuaG90c3BvdHNcbiAgICAgICAgc2NlbmUuaW1hZ2VNYXAuaW1hZ2VzID0gW1xuICAgICAgICAgICAgQHBhcmFtcy5ncm91bmQ/Lm5hbWUsXG4gICAgICAgICAgICBAcGFyYW1zLmhvdmVyPy5uYW1lLFxuICAgICAgICAgICAgQHBhcmFtcy51bnNlbGVjdGVkPy5uYW1lLFxuICAgICAgICAgICAgQHBhcmFtcy5zZWxlY3RlZD8ubmFtZSxcbiAgICAgICAgICAgIEBwYXJhbXMuc2VsZWN0ZWRIb3Zlcj8ubmFtZVxuICAgICAgICBdXG4gICAgICAgIFxuICAgICAgICBzY2VuZS5pbWFnZU1hcC5ldmVudHMub24gXCJqdW1wVG9cIiwgKGUpID0+XG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuanVtcFRvTGFiZWwoZS5sYWJlbClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSBub1xuICAgICAgICAgICAgXG4gICAgICAgIHNjZW5lLmltYWdlTWFwLmV2ZW50cy5vbiBcImNhbGxDb21tb25FdmVudFwiLCAoZSkgPT5cbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5jYWxsQ29tbW9uRXZlbnQoZS5jb21tb25FdmVudElkLCBbXSwgIWUuZmluaXNoKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICBcbiAgICAgICAgc2NlbmUuaW1hZ2VNYXAuc2V0dXAoKVxuICAgICAgICBzY2VuZS5hZGRPYmplY3Qoc2NlbmUuaW1hZ2VNYXApXG4gICAgICAgIHNjZW5lLmltYWdlTWFwLnVwZGF0ZSgpXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuc2hvd09iamVjdChzY2VuZS5pbWFnZU1hcCwge3g6MCwgeTowfSwgQHBhcmFtcylcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvblxuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gMFxuICAgICAgICAgICAgXG4gICAgICAgIHNjZW5lLmltYWdlTWFwLmV2ZW50cy5vbiBcImZpbmlzaFwiLCAoc2VuZGVyKSA9PlxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICMgQGludGVycHJldGVyLmVyYXNlT2JqZWN0KHNjZW5lLmltYWdlTWFwLCBAcGFyYW1zKVxuICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEVyYXNlSW1hZ2VNYXBcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgY29tbWFuZEVyYXNlSW1hZ2VNYXA6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGlmIG5vdCBzY2VuZS5pbWFnZU1hcD8gdGhlbiByZXR1cm5cbiBcbiAgICAgICAgc2NlbmUuaW1hZ2VNYXAuZXZlbnRzLmVtaXQoXCJmaW5pc2hcIiwgc2NlbmUuaW1hZ2VNYXApXG4gICAgICAgIEBpbnRlcnByZXRlci5lcmFzZU9iamVjdChzY2VuZS5pbWFnZU1hcCwgQHBhcmFtcylcbiAgICAgICAgc2NlbmUuaW1hZ2VNYXAgPSBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQWRkSG90c3BvdFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIGNvbW1hbmRBZGRIb3RzcG90OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgaG90c3BvdHMgPSBzY2VuZS5ob3RzcG90c1xuICAgICBcbiAgICAgICAgaWYgbm90IGhvdHNwb3RzW251bWJlcl0/XG4gICAgICAgICAgICBob3RzcG90c1tudW1iZXJdID0gbmV3IGdzLk9iamVjdF9Ib3RzcG90KClcbiAgICAgICAgICAgIFxuICAgICAgICBob3RzcG90ID0gaG90c3BvdHNbbnVtYmVyXVxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMucG9zaXRpb25UeXBlXG4gICAgICAgICAgICB3aGVuIDAgIyBEaXJlY3RcbiAgICAgICAgICAgICAgICBob3RzcG90LmRzdFJlY3QueCA9IEBwYXJhbXMuYm94LnhcbiAgICAgICAgICAgICAgICBob3RzcG90LmRzdFJlY3QueSA9IEBwYXJhbXMuYm94LnlcbiAgICAgICAgICAgICAgICBob3RzcG90LmRzdFJlY3Qud2lkdGggPSBAcGFyYW1zLmJveC5zaXplLndpZHRoXG4gICAgICAgICAgICAgICAgaG90c3BvdC5kc3RSZWN0LmhlaWdodCA9IEBwYXJhbXMuYm94LnNpemUuaGVpZ2h0XG4gICAgICAgICAgICB3aGVuIDEgIyBDYWxjdWxhdGVkXG4gICAgICAgICAgICAgICAgaG90c3BvdC5kc3RSZWN0LnggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmJveC54KVxuICAgICAgICAgICAgICAgIGhvdHNwb3QuZHN0UmVjdC55ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5ib3gueSlcbiAgICAgICAgICAgICAgICBob3RzcG90LmRzdFJlY3Qud2lkdGggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmJveC5zaXplLndpZHRoKVxuICAgICAgICAgICAgICAgIGhvdHNwb3QuZHN0UmVjdC5oZWlnaHQgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmJveC5zaXplLmhlaWdodClcbiAgICAgICAgICAgIHdoZW4gMiAjIEJpbmQgdG8gUGljdHVyZVxuICAgICAgICAgICAgICAgIHBpY3R1cmUgPSBzY2VuZS5waWN0dXJlc1tAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnBpY3R1cmVOdW1iZXIpXVxuICAgICAgICAgICAgICAgIGlmIHBpY3R1cmU/XG4gICAgICAgICAgICAgICAgICAgIGhvdHNwb3QudGFyZ2V0ID0gcGljdHVyZVxuICAgICAgICBcbiAgICAgICAgaG90c3BvdC5iZWhhdmlvci5zaGFwZSA9IEBwYXJhbXMuc2hhcGUgPyBncy5Ib3RzcG90U2hhcGUuUkVDVEFOR0xFICAgICAgICAgICAgXG4gICAgICAgIGhvdHNwb3QuaW1hZ2VzID0gW1xuICAgICAgICAgICAgQHBhcmFtcy5iYXNlR3JhcGhpYz8ubmFtZSB8fCBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLmJhc2VHcmFwaGljKSB8fCBwaWN0dXJlPy5pbWFnZSxcbiAgICAgICAgICAgIEBwYXJhbXMuaG92ZXJHcmFwaGljPy5uYW1lIHx8IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMuaG92ZXJHcmFwaGljKSxcbiAgICAgICAgICAgIEBwYXJhbXMuc2VsZWN0ZWRHcmFwaGljPy5uYW1lIHx8IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMuc2VsZWN0ZWRHcmFwaGljKSxcbiAgICAgICAgICAgIEBwYXJhbXMuc2VsZWN0ZWRIb3ZlckdyYXBoaWM/Lm5hbWUgfHwgQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy5zZWxlY3RlZEhvdmVyR3JhcGhpYyksXG4gICAgICAgICAgICBAcGFyYW1zLnVuc2VsZWN0ZWRHcmFwaGljPy5uYW1lIHx8IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMudW5zZWxlY3RlZEdyYXBoaWMpXG4gICAgICAgIF1cbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMuYWN0aW9ucy5vbkNsaWNrLnR5cGUgIT0gMCBvciBAcGFyYW1zLmFjdGlvbnMub25DbGljay5sYWJlbCAgICAgICAgXG4gICAgICAgICAgICBob3RzcG90LmV2ZW50cy5vbiBcImNsaWNrXCIsID0+IEBpbnRlcnByZXRlci5leGVjdXRlQWN0aW9uKEBwYXJhbXMuYWN0aW9ucy5vbkNsaWNrLCBubylcbiAgICAgICAgaWYgQHBhcmFtcy5hY3Rpb25zLm9uRW50ZXIudHlwZSAhPSAwIG9yIEBwYXJhbXMuYWN0aW9ucy5vbkVudGVyLmxhYmVsICAgICAgICBcbiAgICAgICAgICAgIGhvdHNwb3QuZXZlbnRzLm9uIFwiZW50ZXJcIiwgPT4gQGludGVycHJldGVyLmV4ZWN1dGVBY3Rpb24oQHBhcmFtcy5hY3Rpb25zLm9uRW50ZXIsIHllcylcbiAgICAgICAgaWYgQHBhcmFtcy5hY3Rpb25zLm9uTGVhdmUudHlwZSAhPSAwIG9yIEBwYXJhbXMuYWN0aW9ucy5vbkxlYXZlLmxhYmVsICAgICAgICBcbiAgICAgICAgICAgIGhvdHNwb3QuZXZlbnRzLm9uIFwibGVhdmVcIiwgPT4gQGludGVycHJldGVyLmV4ZWN1dGVBY3Rpb24oQHBhcmFtcy5hY3Rpb25zLm9uTGVhdmUsIG5vKVxuICAgICAgICBpZiBAcGFyYW1zLmFjdGlvbnMub25EcmFnLnR5cGUgIT0gMCBvciBAcGFyYW1zLmFjdGlvbnMub25EcmFnLmxhYmVsICAgICAgICBcbiAgICAgICAgICAgIGhvdHNwb3QuZXZlbnRzLm9uIFwiZHJhZ1N0YXJ0XCIsID0+IEBpbnRlcnByZXRlci5leGVjdXRlQWN0aW9uKEBwYXJhbXMuYWN0aW9ucy5vbkRyYWcsIHllcylcbiAgICAgICAgICAgIGhvdHNwb3QuZXZlbnRzLm9uIFwiZHJhZ1wiLCA9PiBAaW50ZXJwcmV0ZXIuZXhlY3V0ZUFjdGlvbihAcGFyYW1zLmFjdGlvbnMub25EcmFnLCB5ZXMpXG4gICAgICAgICAgICBob3RzcG90LmV2ZW50cy5vbiBcImRyYWdFbmRcIiwgPT4gQGludGVycHJldGVyLmV4ZWN1dGVBY3Rpb24oQHBhcmFtcy5hY3Rpb25zLm9uRHJhZywgbm8pXG4gICAgICAgIGlmIEBwYXJhbXMuYWN0aW9ucy5vblNlbGVjdC50eXBlICE9IDAgb3IgQHBhcmFtcy5hY3Rpb25zLm9uU2VsZWN0LmxhYmVsIG9yXG4gICAgICAgICAgIEBwYXJhbXMuYWN0aW9ucy5vbkRlc2VsZWN0LnR5cGUgIT0gMCBvciBAcGFyYW1zLmFjdGlvbnMub25EZXNlbGVjdC5sYWJlbCAgICBcbiAgICAgICAgICAgIGhvdHNwb3QuZXZlbnRzLm9uIFwic3RhdGVDaGFuZ2VkXCIsIChlKSA9PlxuICAgICAgICAgICAgICAgIGlmIGUuc2VuZGVyLmJlaGF2aW9yLnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5leGVjdXRlQWN0aW9uKEBwYXJhbXMuYWN0aW9ucy5vblNlbGVjdCwgeWVzKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLmV4ZWN1dGVBY3Rpb24oQHBhcmFtcy5hY3Rpb25zLm9uRGVzZWxlY3QsIG5vKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBob3RzcG90LnNlbGVjdGFibGUgPSB5ZXNcbiAgICAgICAgaG90c3BvdC5zZXR1cCgpXG5cbiAgICAgICAgaWYgQHBhcmFtcy5kcmFnZ2luZy5lbmFibGVkXG4gICAgICAgICAgICBkcmFnZ2luZyA9IEBwYXJhbXMuZHJhZ2dpbmdcbiAgICAgICAgICAgIGhvdHNwb3QuZHJhZ2dhYmxlID0geyBcbiAgICAgICAgICAgICAgICByZWN0OiBuZXcgUmVjdChkcmFnZ2luZy5yZWN0LngsIGRyYWdnaW5nLnJlY3QueSwgZHJhZ2dpbmcucmVjdC5zaXplLndpZHRoLCBkcmFnZ2luZy5yZWN0LnNpemUuaGVpZ2h0KSwgXG4gICAgICAgICAgICAgICAgYXhpc1g6IGRyYWdnaW5nLmhvcml6b250YWwsIFxuICAgICAgICAgICAgICAgIGF4aXNZOiBkcmFnZ2luZy52ZXJ0aWNhbCBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhvdHNwb3QuYWRkQ29tcG9uZW50KG5ldyB1aS5Db21wb25lbnRfRHJhZ2dhYmxlKCkpXG4gICAgICAgICAgICBob3RzcG90LmV2ZW50cy5vbiBcImRyYWdcIiwgKGUpID0+IFxuICAgICAgICAgICAgICAgIGRyYWcgPSBlLnNlbmRlci5kcmFnZ2FibGVcbiAgICAgICAgICAgICAgICBpZiBAcGFyYW1zLmRyYWdnaW5nLmhvcml6b250YWxcbiAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy5kcmFnZ2luZy52YXJpYWJsZSwgTWF0aC5yb3VuZCgoZS5zZW5kZXIuZHN0UmVjdC54LWRyYWcucmVjdC54KSAvIChkcmFnLnJlY3Qud2lkdGgtZS5zZW5kZXIuZHN0UmVjdC53aWR0aCkgKiAxMDApKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy5kcmFnZ2luZy52YXJpYWJsZSwgTWF0aC5yb3VuZCgoZS5zZW5kZXIuZHN0UmVjdC55LWRyYWcucmVjdC55KSAvIChkcmFnLnJlY3QuaGVpZ2h0LWUuc2VuZGVyLmRzdFJlY3QuaGVpZ2h0KSAqIDEwMCkpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhbmdlSG90c3BvdFN0YXRlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgXG4gICAgY29tbWFuZENoYW5nZUhvdHNwb3RTdGF0ZTogLT5cbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgaG90c3BvdCA9IHNjZW5lLmhvdHNwb3RzW251bWJlcl1cbiAgICAgICAgcmV0dXJuIGlmICFob3RzcG90XG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3Muc2VsZWN0ZWQpIHRoZW4gaG90c3BvdC5iZWhhdmlvci5zZWxlY3RlZCA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnNlbGVjdGVkKVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZW5hYmxlZCkgdGhlbiBob3RzcG90LmJlaGF2aW9yLmVuYWJsZWQgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5lbmFibGVkKVxuICAgICAgICBcbiAgICAgICAgaG90c3BvdC5iZWhhdmlvci51cGRhdGVJbnB1dCgpXG4gICAgICAgIGhvdHNwb3QuYmVoYXZpb3IudXBkYXRlSW1hZ2UoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRFcmFzZUhvdHNwb3RcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICBcbiAgICBjb21tYW5kRXJhc2VIb3RzcG90OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgXG4gICAgICAgIGlmIHNjZW5lLmhvdHNwb3RzW251bWJlcl0/XG4gICAgICAgICAgICBzY2VuZS5ob3RzcG90c1tudW1iZXJdLmRpc3Bvc2UoKVxuICAgICAgICAgICAgc2NlbmUuaG90c3BvdENvbnRhaW5lci5lcmFzZU9iamVjdChudW1iZXIpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRQaWN0dXJlRGVmYXVsdHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICBcbiAgICBjb21tYW5kUGljdHVyZURlZmF1bHRzOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnBpY3R1cmVcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmFwcGVhckR1cmF0aW9uKSB0aGVuIGRlZmF1bHRzLmFwcGVhckR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmFwcGVhckR1cmF0aW9uKVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZGlzYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZGlzYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy56T3JkZXIpIHRoZW4gZGVmYXVsdHMuek9yZGVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56T3JkZXIpXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImFwcGVhckVhc2luZy50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmFwcGVhckVhc2luZyA9IEBwYXJhbXMuYXBwZWFyRWFzaW5nXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImFwcGVhckFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmFwcGVhckFuaW1hdGlvbiA9IEBwYXJhbXMuYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImRpc2FwcGVhckVhc2luZy50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmRpc2FwcGVhckVhc2luZyA9IEBwYXJhbXMuZGlzYXBwZWFyRWFzaW5nXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImRpc2FwcGVhckFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmRpc2FwcGVhckFuaW1hdGlvbiA9IEBwYXJhbXMuZGlzYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcIm1vdGlvbkJsdXIuZW5hYmxlZFwiXSkgdGhlbiBkZWZhdWx0cy5tb3Rpb25CbHVyID0gQHBhcmFtcy5tb3Rpb25CbHVyXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5vcmlnaW4pIHRoZW4gZGVmYXVsdHMub3JpZ2luID0gQHBhcmFtcy5vcmlnaW5cbiAgICBcbiAgICBcbiAgICBjcmVhdGVQaWN0dXJlOiAoZ3JhcGhpYywgcGFyYW1zKSAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnBpY3R1cmVcbiAgICAgICAgZmxhZ3MgPSBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBudW1iZXJWYWx1ZU9mKHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgaWYgbm90IHBpY3R1cmVzW251bWJlcl0/XG4gICAgICAgICAgICBwaWN0dXJlc1tudW1iZXJdID0gbmV3IGdzLk9iamVjdF9QaWN0dXJlKClcbiAgICAgICAgXG4gICAgICAgIHggPSBAbnVtYmVyVmFsdWVPZihwYXJhbXMucG9zaXRpb24ueClcbiAgICAgICAgeSA9IEBudW1iZXJWYWx1ZU9mKHBhcmFtcy5wb3NpdGlvbi55KVxuXG4gICAgICAgIHBpY3R1cmUgPSBwaWN0dXJlc1tudW1iZXJdXG4gICAgICAgIHBpY3R1cmUuaW1hZ2UgPSBncmFwaGljPy5uYW1lXG4gICAgICAgIGJpdG1hcCA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2dyYXBoaWM/Lm5hbWV9XCIpXG4gICAgICAgIGVhc2luZyA9IGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGdzLkVhc2luZ3MuZnJvbVZhbHVlcyhAbnVtYmVyVmFsdWVPZihwYXJhbXMuZWFzaW5nLnR5cGUpLCBwYXJhbXMuZWFzaW5nLmluT3V0KSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5hcHBlYXJFYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBkdXJhdGlvblZhbHVlT2YocGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmFwcGVhckR1cmF0aW9uXG4gICAgICAgIG9yaWdpbiA9IGlmICFpc0xvY2tlZChmbGFncy5vcmlnaW4pIHRoZW4gcGFyYW1zLm9yaWdpbiBlbHNlIGRlZmF1bHRzLm9yaWdpblxuICAgICAgICB6SW5kZXggPSBpZiAhaXNMb2NrZWQoZmxhZ3Muek9yZGVyKSB0aGVuIEBudW1iZXJWYWx1ZU9mKHBhcmFtcy56T3JkZXIpIGVsc2UgZGVmYXVsdHMuek9yZGVyXG4gICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5hcHBlYXJBbmltYXRpb25cbiAgICBcbiAgICAgICAgcGljdHVyZS5taXJyb3IgPSBwYXJhbXMucG9zaXRpb24uaG9yaXpvbnRhbEZsaXBcbiAgICAgICAgcGljdHVyZS5hbmdsZSA9IHBhcmFtcy5wb3NpdGlvbi5hbmdsZSB8fCAwXG4gICAgICAgIHBpY3R1cmUuem9vbS54ID0gKHBhcmFtcy5wb3NpdGlvbi5kYXRhPy56b29tfHwxKVxuICAgICAgICBwaWN0dXJlLnpvb20ueSA9IChwYXJhbXMucG9zaXRpb24uZGF0YT8uem9vbXx8MSlcbiAgICAgICAgcGljdHVyZS5ibGVuZE1vZGUgPSBAbnVtYmVyVmFsdWVPZihwYXJhbXMuYmxlbmRNb2RlKVxuICAgICAgICBcbiAgICAgICAgaWYgcGFyYW1zLm9yaWdpbiA9PSAxIGFuZCBiaXRtYXA/XG4gICAgICAgICAgICB4ICs9IChiaXRtYXAud2lkdGgqcGljdHVyZS56b29tLngtYml0bWFwLndpZHRoKS8yXG4gICAgICAgICAgICB5ICs9IChiaXRtYXAuaGVpZ2h0KnBpY3R1cmUuem9vbS55LWJpdG1hcC5oZWlnaHQpLzJcbiAgICAgICAgICAgIFxuICAgICAgICBwaWN0dXJlLmRzdFJlY3QueCA9IHhcbiAgICAgICAgcGljdHVyZS5kc3RSZWN0LnkgPSB5XG4gICAgICAgIHBpY3R1cmUuYW5jaG9yLnggPSBpZiBvcmlnaW4gPT0gMSB0aGVuIDAuNSBlbHNlIDBcbiAgICAgICAgcGljdHVyZS5hbmNob3IueSA9IGlmIG9yaWdpbiA9PSAxIHRoZW4gMC41IGVsc2UgMFxuICAgICAgICBwaWN0dXJlLnpJbmRleCA9IHpJbmRleCB8fCAgKDcwMCArIG51bWJlcilcbiAgICAgICAgXG4gICAgICAgIHBpY3R1cmUudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwaWN0dXJlXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2hvd1BpY3R1cmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZFNob3dQaWN0dXJlOiAtPiBcbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5waWN0dXJlXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgcGljdHVyZSA9IEBpbnRlcnByZXRlci5jcmVhdGVQaWN0dXJlKEBwYXJhbXMuZ3JhcGhpYywgQHBhcmFtcylcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMucG9zaXRpb25UeXBlID09IDBcbiAgICAgICAgICAgIHAgPSBAaW50ZXJwcmV0ZXIucHJlZGVmaW5lZE9iamVjdFBvc2l0aW9uKEBwYXJhbXMucHJlZGVmaW5lZFBvc2l0aW9uSWQsIHBpY3R1cmUsIEBwYXJhbXMpXG4gICAgICAgICAgICBwaWN0dXJlLmRzdFJlY3QueCA9IHAueFxuICAgICAgICAgICAgcGljdHVyZS5kc3RSZWN0LnkgPSBwLnlcbiAgICAgICAgICAgIFxuICAgICAgICBlYXNpbmcgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJlYXNpbmcudHlwZVwiXSkgdGhlbiBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5hcHBlYXJFYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5hcHBlYXJEdXJhdGlvblxuICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmFwcGVhckFuaW1hdGlvblxuICAgIFxuICAgICAgICBwaWN0dXJlLmFuaW1hdG9yLmFwcGVhcihwaWN0dXJlLmRzdFJlY3QueCwgcGljdHVyZS5kc3RSZWN0LnksIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUGxheVBpY3R1cmVBbmltYXRpb25cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFBsYXlQaWN0dXJlQW5pbWF0aW9uOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnBpY3R1cmVcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBwaWN0dXJlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgZWFzaW5nID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiZWFzaW5nLnR5cGVcIl0pIHRoZW4gZ3MuRWFzaW5ncy5mcm9tVmFsdWVzKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuZWFzaW5nLnR5cGUpLCBAcGFyYW1zLmVhc2luZy5pbk91dCkgZWxzZSBncy5FYXNpbmdzLmZyb21PYmplY3QoZGVmYXVsdHMuYXBwZWFyRWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5kdXJhdGlvbikgdGhlbiBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pIGVsc2UgZGVmYXVsdHMuYXBwZWFyRHVyYXRpb25cbiAgICAgICAgYW5pbWF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiYW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gQHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMuYW5pbWF0aW9uSWQ/XG4gICAgICAgICAgICByZWNvcmQgPSBSZWNvcmRNYW5hZ2VyLmFuaW1hdGlvbnNbQHBhcmFtcy5hbmltYXRpb25JZF1cbiAgICAgICAgICAgIGlmIHJlY29yZD9cbiAgICAgICAgICAgICAgICBwaWN0dXJlID0gQGludGVycHJldGVyLmNyZWF0ZVBpY3R1cmUocmVjb3JkLmdyYXBoaWMsIEBwYXJhbXMpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gcGljdHVyZS5maW5kQ29tcG9uZW50KFwiQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uXCIpXG4gICAgICAgICAgICAgICAgaWYgY29tcG9uZW50P1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQucmVmcmVzaChyZWNvcmQpXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdGFydCgpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBuZXcgZ3MuQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uKHJlY29yZClcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZS5hZGRDb21wb25lbnQoY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb21wb25lbnQudXBkYXRlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBAcGFyYW1zLnBvc2l0aW9uVHlwZSA9PSAwXG4gICAgICAgICAgICAgICAgICAgIHAgPSBAaW50ZXJwcmV0ZXIucHJlZGVmaW5lZE9iamVjdFBvc2l0aW9uKEBwYXJhbXMucHJlZGVmaW5lZFBvc2l0aW9uSWQsIHBpY3R1cmUsIEBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZHN0UmVjdC54ID0gcC54XG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZHN0UmVjdC55ID0gcC55XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBpY3R1cmUuYW5pbWF0b3IuYXBwZWFyKHBpY3R1cmUuZHN0UmVjdC54LCBwaWN0dXJlLmRzdFJlY3QueSwgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBwaWN0dXJlID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnBpY3R1cmVzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgIGFuaW1hdGlvbiA9IHBpY3R1cmU/LmZpbmRDb21wb25lbnQoXCJDb21wb25lbnRfRnJhbWVBbmltYXRpb25cIilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgYW5pbWF0aW9uP1xuICAgICAgICAgICAgICAgIHBpY3R1cmUucmVtb3ZlQ29tcG9uZW50KGFuaW1hdGlvbilcbiAgICAgICAgICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQW5pbWF0aW9ucy8je3BpY3R1cmUuaW1hZ2V9XCIpXG4gICAgICAgICAgICAgICAgaWYgYml0bWFwP1xuICAgICAgICAgICAgICAgICAgICBwaWN0dXJlLnNyY1JlY3Quc2V0KDAsIDAsIGJpdG1hcC53aWR0aCwgYml0bWFwLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZS5kc3RSZWN0LndpZHRoID0gcGljdHVyZS5zcmNSZWN0LndpZHRoXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZHN0UmVjdC5oZWlnaHQgPSBwaWN0dXJlLnNyY1JlY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTW92ZVBpY3R1cmVQYXRoXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgXG4gICAgY29tbWFuZE1vdmVQaWN0dXJlUGF0aDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmUgPSBzY2VuZS5waWN0dXJlc1tudW1iZXJdXG4gICAgICAgIGlmIG5vdCBwaWN0dXJlPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLm1vdmVPYmplY3RQYXRoKHBpY3R1cmUsIEBwYXJhbXMucGF0aCwgQHBhcmFtcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRNb3ZlUGljdHVyZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZE1vdmVQaWN0dXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIubW92ZU9iamVjdChwaWN0dXJlLCBAcGFyYW1zLnBpY3R1cmUucG9zaXRpb24sIEBwYXJhbXMpXG4gICAgICAgXG5cbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRUaW50UGljdHVyZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgXG4gICAgY29tbWFuZFRpbnRQaWN0dXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKVxuICAgICAgICBwaWN0dXJlLmFuaW1hdG9yLnRpbnRUbyhAcGFyYW1zLnRvbmUsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEZsYXNoUGljdHVyZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kRmxhc2hQaWN0dXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBwaWN0dXJlPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgZHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZHVyYXRpb24pXG4gICAgICAgIHBpY3R1cmUuYW5pbWF0b3IuZmxhc2gobmV3IENvbG9yKEBwYXJhbXMuY29sb3IpLCBkdXJhdGlvbilcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ3JvcFBpY3R1cmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICBcbiAgICBjb21tYW5kQ3JvcFBpY3R1cmU6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBwaWN0dXJlID0gc2NlbmUucGljdHVyZXNbbnVtYmVyXVxuICAgICAgICBpZiBub3QgcGljdHVyZT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIHBpY3R1cmUuc3JjUmVjdC54ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy54KVxuICAgICAgICBwaWN0dXJlLnNyY1JlY3QueSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMueSlcbiAgICAgICAgcGljdHVyZS5zcmNSZWN0LndpZHRoID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy53aWR0aClcbiAgICAgICAgcGljdHVyZS5zcmNSZWN0LmhlaWdodCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuaGVpZ2h0KVxuICAgICAgICBcbiAgICAgICAgcGljdHVyZS5kc3RSZWN0LndpZHRoID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy53aWR0aClcbiAgICAgICAgcGljdHVyZS5kc3RSZWN0LmhlaWdodCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuaGVpZ2h0KVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFJvdGF0ZVBpY3R1cmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgIFxuICAgIGNvbW1hbmRSb3RhdGVQaWN0dXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIGVhc2luZyA9IGdzLkVhc2luZ3MuZnJvbU9iamVjdChAcGFyYW1zLmVhc2luZylcbiAgICAgICAgXG4gICAgICAgIGlmIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwXG4gICAgICAgICAgICBhY3R1YWxEdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgICAgIGR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAZHVyYXRpb24pXG4gICAgICAgICAgICBzcGVlZCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuc3BlZWQpIC8gMTAwXG4gICAgICAgICAgICBzcGVlZCA9IE1hdGgucm91bmQoZHVyYXRpb24gLyAoYWN0dWFsRHVyYXRpb258fDEpICogc3BlZWQpXG4gICAgICAgICAgICBwaWN0dXJlLmFuaW1hdG9yLnJvdGF0ZShAcGFyYW1zLmRpcmVjdGlvbiwgc3BlZWQsIGFjdHVhbER1cmF0aW9ufHwxLCBlYXNpbmcpXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGFjdHVhbER1cmF0aW9uXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKVxuICAgICAgICAgICAgcGljdHVyZS5hbmltYXRvci5yb3RhdGUoQHBhcmFtcy5kaXJlY3Rpb24sIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuc3BlZWQpIC8gMTAwLCBkdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy53YWl0Rm9yQ29tcGxldGlvbiBhbmQgbm90IChkdXJhdGlvbiA9PSAwKVxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gZHVyYXRpb25cbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRab29tUGljdHVyZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgIFxuICAgIGNvbW1hbmRab29tUGljdHVyZTogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmUgPSBzY2VuZS5waWN0dXJlc1tudW1iZXJdXG4gICAgICAgIGlmIG5vdCBwaWN0dXJlPyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKVxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgcGljdHVyZS5hbmltYXRvci56b29tVG8oQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56b29taW5nLngpIC8gMTAwLCBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpvb21pbmcueSkgLyAxMDAsIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEJsZW5kUGljdHVyZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRCbGVuZFBpY3R1cmU6IC0+XG4gICAgICAgIHBpY3R1cmUgPSBTY2VuZU1hbmFnZXIuc2NlbmUucGljdHVyZXNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICBpZiBub3QgcGljdHVyZT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5ibGVuZE9iamVjdChwaWN0dXJlLCBAcGFyYW1zKSBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2hha2VQaWN0dXJlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZFNoYWtlUGljdHVyZTogLT4gXG4gICAgICAgIHBpY3R1cmUgPSBTY2VuZU1hbmFnZXIuc2NlbmUucGljdHVyZXNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICBpZiBub3QgcGljdHVyZT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5zaGFrZU9iamVjdChwaWN0dXJlLCBAcGFyYW1zKSAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kTWFza1BpY3R1cmVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgY29tbWFuZE1hc2tQaWN0dXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIubWFza09iamVjdChwaWN0dXJlLCBAcGFyYW1zKVxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFBpY3R1cmVNb3Rpb25CbHVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgXG4gICAgY29tbWFuZFBpY3R1cmVNb3Rpb25CbHVyOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBwaWN0dXJlLm1vdGlvbkJsdXIuc2V0KEBwYXJhbXMubW90aW9uQmx1cilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRQaWN0dXJlRWZmZWN0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRQaWN0dXJlRWZmZWN0OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZSA9IHNjZW5lLnBpY3R1cmVzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHBpY3R1cmU/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIub2JqZWN0RWZmZWN0KHBpY3R1cmUsIEBwYXJhbXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kRXJhc2VQaWN0dXJlXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZEVyYXNlUGljdHVyZTogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5waWN0dXJlXG4gICAgICAgIGZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIGlzTG9ja2VkID0gZ3MuQ29tbWFuZEZpZWxkRmxhZ3MuaXNMb2NrZWRcbiAgICAgICAgXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICBwaWN0dXJlID0gc2NlbmUucGljdHVyZXNbbnVtYmVyXVxuICAgICAgICBpZiBub3QgcGljdHVyZT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIGVhc2luZyA9IGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGdzLkVhc2luZ3MuZnJvbVZhbHVlcyhAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmVhc2luZy50eXBlKSwgQHBhcmFtcy5lYXNpbmcuaW5PdXQpIGVsc2UgZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KGRlZmF1bHRzLmRpc2FwcGVhckVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmRpc2FwcGVhckR1cmF0aW9uXG4gICAgICAgIGFuaW1hdGlvbiA9IGlmICFpc0xvY2tlZChmbGFnc1tcImFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIEBwYXJhbXMuYW5pbWF0aW9uIGVsc2UgZGVmYXVsdHMuZGlzYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIFxuICAgICAgICBwaWN0dXJlLmFuaW1hdG9yLmRpc2FwcGVhcihhbmltYXRpb24sIGVhc2luZywgZHVyYXRpb24sIFxuICAgICAgICAgICAgKHNlbmRlcikgPT4gXG4gICAgICAgICAgICAgICAgc2VuZGVyLmRpc3Bvc2UoKVxuICAgICAgICAgICAgICAgIHNjZW5lLnBpY3R1cmVzW251bWJlcl0gPSBudWxsXG4gICAgICAgIClcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMud2FpdEZvckNvbXBsZXRpb24gYW5kIG5vdCAoZHVyYXRpb24gPT0gMClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uIFxuICAgICAgICAgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kSW5wdXROdW1iZXJcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kSW5wdXROdW1iZXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgaWYgQGludGVycHJldGVyLmlzUHJvY2Vzc2luZ01lc3NhZ2VJbk90aGVyQ29udGV4dCgpXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdEZvck1lc3NhZ2UoKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLnNldHRpbmdzLmFsbG93Q2hvaWNlU2tpcHx8QGludGVycHJldGVyLnByZXZpZXcpIGFuZCBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIubWVzc2FnZU9iamVjdCgpLmJlaGF2aW9yLmNsZWFyKClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudmFyaWFibGUsIDApXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICAkdGVtcEZpZWxkcy5kaWdpdHMgPSBAcGFyYW1zLmRpZ2l0c1xuICAgICAgICBzY2VuZS5iZWhhdmlvci5zaG93SW5wdXROdW1iZXIoQHBhcmFtcy5kaWdpdHMsIGdzLkNhbGxCYWNrKFwib25JbnB1dE51bWJlckZpbmlzaFwiLCBAaW50ZXJwcmV0ZXIsIEBwYXJhbXMpKVxuICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdGluZ0Zvci5pbnB1dE51bWJlciA9IEBwYXJhbXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaG9pY2VUaW1lclxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRDaG9pY2VUaW1lcjogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgXG4gICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlVGltZXIgPSBzY2VuZS5jaG9pY2VUaW1lclxuICAgICAgICBHYW1lTWFuYWdlci50ZW1wRmllbGRzLmNob2ljZVRpbWVyVmlzaWJsZSA9IEBwYXJhbXMudmlzaWJsZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLmVuYWJsZWRcbiAgICAgICAgICAgIHNjZW5lLmNob2ljZVRpbWVyLmJlaGF2aW9yLnNlY29uZHMgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnNlY29uZHMpXG4gICAgICAgICAgICBzY2VuZS5jaG9pY2VUaW1lci5iZWhhdmlvci5taW51dGVzID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5taW51dGVzKVxuICAgICAgICAgICAgc2NlbmUuY2hvaWNlVGltZXIuYmVoYXZpb3Iuc3RhcnQoKVxuICAgICAgICAgICAgc2NlbmUuY2hvaWNlVGltZXIuZXZlbnRzLm9uIFwiZmluaXNoXCIsIChzZW5kZXIpID0+XG4gICAgICAgICAgICAgICAgaWYgIHNjZW5lLmNob2ljZVdpbmRvdyBhbmQgR2FtZU1hbmFnZXIudGVtcEZpZWxkcy5jaG9pY2VzPy5sZW5ndGggPiAwICAgIFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hvaWNlID0gKEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlcy5maXJzdCAoYykgLT4gYy5pc0RlZmF1bHQpIHx8IEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlc1swXVxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5jaG9pY2VXaW5kb3cuZXZlbnRzLmVtaXQoXCJzZWxlY3Rpb25BY2NlcHRcIiwgc2NlbmUuY2hvaWNlV2luZG93LCB7IGxhYmVsSW5kZXg6IGRlZmF1bHRDaG9pY2UuYWN0aW9uLmxhYmVsSW5kZXggfSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2NlbmUuY2hvaWNlVGltZXIuc3RvcCgpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNob3dDaG9pY2VzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZFNob3dDaG9pY2VzOiAtPiAgXG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIHBvaW50ZXIgPSBAaW50ZXJwcmV0ZXIucG9pbnRlclxuICAgICAgICBjaG9pY2VzID0gR2FtZU1hbmFnZXIudGVtcEZpZWxkcy5jaG9pY2VzXG4gICAgICAgIFxuICAgICAgICBpZiAoR2FtZU1hbmFnZXIuc2V0dGluZ3MuYWxsb3dDaG9pY2VTa2lwfHxAaW50ZXJwcmV0ZXIucHJldmlld0RhdGEpIGFuZCBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdCA9IEBpbnRlcnByZXRlci5tZXNzYWdlT2JqZWN0KClcbiAgICAgICAgICAgIGlmIG1lc3NhZ2VPYmplY3Q/LnZpc2libGVcbiAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0LmJlaGF2aW9yLmNsZWFyKClcbiAgICAgICAgICAgIGRlZmF1bHRDaG9pY2UgPSAoY2hvaWNlcy5maXJzdCgoYykgLT4gYy5pc0RlZmF1bHQpKSB8fCBjaG9pY2VzWzBdICAgIFxuICAgICAgICAgICAgaWYgZGVmYXVsdENob2ljZS5hY3Rpb24ubGFiZWxJbmRleD9cbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIucG9pbnRlciA9IGRlZmF1bHRDaG9pY2UuYWN0aW9uLmxhYmVsSW5kZXhcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuanVtcFRvTGFiZWwoZGVmYXVsdENob2ljZS5hY3Rpb24ubGFiZWwpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlmIGNob2ljZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgICAgICAgICAgICBzY2VuZS5iZWhhdmlvci5zaG93Q2hvaWNlcyhjaG9pY2VzLCBncy5DYWxsQmFjayhcIm9uQ2hvaWNlQWNjZXB0XCIsIEBpbnRlcnByZXRlciwgeyBwb2ludGVyOiBwb2ludGVyLCBwYXJhbXM6IEBwYXJhbXMgfSkpXG4gICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2hvd0Nob2ljZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgXG4gICAgY29tbWFuZFNob3dDaG9pY2U6IC0+IFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBjb21tYW5kcyA9IEBpbnRlcnByZXRlci5vYmplY3QuY29tbWFuZHNcbiAgICAgICAgY29tbWFuZCA9IG51bGxcbiAgICAgICAgaW5kZXggPSAwXG4gICAgICAgIHBvaW50ZXIgPSBAaW50ZXJwcmV0ZXIucG9pbnRlclxuICAgICAgICBjaG9pY2VzID0gbnVsbFxuICAgICAgICBkc3RSZWN0ID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIEBwYXJhbXMucG9zaXRpb25UeXBlXG4gICAgICAgICAgICB3aGVuIDAgIyBBdXRvXG4gICAgICAgICAgICAgICAgZHN0UmVjdCA9IG51bGxcbiAgICAgICAgICAgIHdoZW4gMSAjIERpcmVjdFxuICAgICAgICAgICAgICAgIGRzdFJlY3QgPSBuZXcgUmVjdChAcGFyYW1zLmJveC54LCBAcGFyYW1zLmJveC55LCBAcGFyYW1zLmJveC5zaXplLndpZHRoLCBAcGFyYW1zLmJveC5zaXplLmhlaWdodClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgIUdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlc1xuICAgICAgICAgICAgR2FtZU1hbmFnZXIudGVtcEZpZWxkcy5jaG9pY2VzID0gW11cbiAgICAgICAgY2hvaWNlcyA9IEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlc1xuICAgICAgICBjaG9pY2VzLnB1c2goeyBcbiAgICAgICAgICAgIGRzdFJlY3Q6IGRzdFJlY3QsIFxuICAgICAgICAgICAgI3RleHQ6IGxjcyhAcGFyYW1zLnRleHQpLCBcbiAgICAgICAgICAgIHRleHQ6IEBwYXJhbXMudGV4dCwgXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsIFxuICAgICAgICAgICAgYWN0aW9uOiBAcGFyYW1zLmFjdGlvbiwgXG4gICAgICAgICAgICBpc1NlbGVjdGVkOiBubywgXG4gICAgICAgICAgICBpc0RlZmF1bHQ6IEBwYXJhbXMuZGVmYXVsdENob2ljZSwgXG4gICAgICAgICAgICBpc0VuYWJsZWQ6IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLmVuYWJsZWQpIH0pXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kT3Blbk1lbnVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICBcbiAgICBjb21tYW5kT3Blbk1lbnU6IC0+XG4gICAgICAgIFNjZW5lTWFuYWdlci5zd2l0Y2hUbyhuZXcgZ3MuT2JqZWN0X0xheW91dChcIm1lbnVMYXlvdXRcIiksIHRydWUpXG4gICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IDFcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE9wZW5Mb2FkTWVudVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZE9wZW5Mb2FkTWVudTogLT5cbiAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKG5ldyBncy5PYmplY3RfTGF5b3V0KFwibG9hZE1lbnVMYXlvdXRcIiksIHRydWUpXG4gICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IDFcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRPcGVuU2F2ZU1lbnVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRPcGVuU2F2ZU1lbnU6IC0+XG4gICAgICAgIFNjZW5lTWFuYWdlci5zd2l0Y2hUbyhuZXcgZ3MuT2JqZWN0X0xheW91dChcInNhdmVNZW51TGF5b3V0XCIpLCB0cnVlKVxuICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSAxXG4gICAgICAgIEBpbnRlcnByZXRlci5pc1dhaXRpbmcgPSB5ZXNcbiAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFJldHVyblRvVGl0bGVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRSZXR1cm5Ub1RpdGxlOiAtPlxuICAgICAgICBTY2VuZU1hbmFnZXIuY2xlYXIoKVxuICAgICAgICBTY2VuZU1hbmFnZXIuc3dpdGNoVG8obmV3IGdzLk9iamVjdF9MYXlvdXQoXCJ0aXRsZUxheW91dFwiKSlcbiAgICAgICAgQGludGVycHJldGVyLndhaXRDb3VudGVyID0gMVxuICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG5cbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRQbGF5VmlkZW9cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFBsYXlWaWRlbzogLT5cbiAgICAgICAgaWYgKEdhbWVNYW5hZ2VyLmluTGl2ZVByZXZpZXcgb3IgR2FtZU1hbmFnZXIuc2V0dGluZ3MuYWxsb3dWaWRlb1NraXApIGFuZCBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcCB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgPSBub1xuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhcmFtcy52aWRlbz8ubmFtZT9cbiAgICAgICAgICAgIHNjZW5lLnZpZGVvID0gUmVzb3VyY2VNYW5hZ2VyLmdldFZpZGVvKFwiTW92aWVzLyN7QHBhcmFtcy52aWRlby5uYW1lfVwiKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBAdmlkZW9TcHJpdGUgPSBuZXcgU3ByaXRlKEdyYXBoaWNzLnZpZXdwb3J0KVxuICAgICAgICAgICAgQHZpZGVvU3ByaXRlLnNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBzY2VuZS52aWRlby53aWR0aCwgc2NlbmUudmlkZW8uaGVpZ2h0KVxuICAgICAgICAgICAgQHZpZGVvU3ByaXRlLnZpZGVvID0gc2NlbmUudmlkZW9cbiAgICAgICAgICAgIEB2aWRlb1Nwcml0ZS56b29tWCA9IEdyYXBoaWNzLndpZHRoIC8gc2NlbmUudmlkZW8ud2lkdGhcbiAgICAgICAgICAgIEB2aWRlb1Nwcml0ZS56b29tWSA9IEdyYXBoaWNzLmhlaWdodCAvIHNjZW5lLnZpZGVvLmhlaWdodFxuICAgICAgICAgICAgQHZpZGVvU3ByaXRlLnogPSA5OTk5OTk5OVxuICAgICAgICAgICAgc2NlbmUudmlkZW8ub25FbmRlZCA9ID0+XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICAgICAgQHZpZGVvU3ByaXRlLmRpc3Bvc2UoKVxuICAgICAgICAgICAgICAgIHNjZW5lLnZpZGVvID0gbnVsbFxuICAgICAgICAgICAgc2NlbmUudmlkZW8udm9sdW1lID0gQHBhcmFtcy52b2x1bWUgLyAxMDBcbiAgICAgICAgICAgIHNjZW5lLnZpZGVvLnBsYXliYWNrUmF0ZSA9IEBwYXJhbXMucGxheWJhY2tSYXRlIC8gMTAwXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBzY2VuZS52aWRlby5wbGF5KClcbiAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQXVkaW9EZWZhdWx0c1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kQXVkaW9EZWZhdWx0czogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MubXVzaWNGYWRlSW5EdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5tdXNpY0ZhZGVJbkR1cmF0aW9uID0gQHBhcmFtcy5tdXNpY0ZhZGVJbkR1cmF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5tdXNpY0ZhZGVPdXREdXJhdGlvbikgdGhlbiBkZWZhdWx0cy5tdXNpY0ZhZGVPdXREdXJhdGlvbiA9IEBwYXJhbXMubXVzaWNGYWRlT3V0RHVyYXRpb25cbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLm11c2ljVm9sdW1lKSB0aGVuIGRlZmF1bHRzLm11c2ljVm9sdW1lID0gQHBhcmFtcy5tdXNpY1ZvbHVtZVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MubXVzaWNQbGF5YmFja1JhdGUpIHRoZW4gZGVmYXVsdHMubXVzaWNQbGF5YmFja1JhdGUgPSBAcGFyYW1zLm11c2ljUGxheWJhY2tSYXRlXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5zb3VuZFZvbHVtZSkgdGhlbiBkZWZhdWx0cy5zb3VuZFZvbHVtZSA9IEBwYXJhbXMuc291bmRWb2x1bWVcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnNvdW5kUGxheWJhY2tSYXRlKSB0aGVuIGRlZmF1bHRzLnNvdW5kUGxheWJhY2tSYXRlID0gQHBhcmFtcy5zb3VuZFBsYXliYWNrUmF0ZVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3Mudm9pY2VWb2x1bWUpIHRoZW4gZGVmYXVsdHMudm9pY2VWb2x1bWUgPSBAcGFyYW1zLnZvaWNlVm9sdW1lXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy52b2ljZVBsYXliYWNrUmF0ZSkgdGhlbiBkZWZhdWx0cy52b2ljZVBsYXliYWNrUmF0ZSA9IEBwYXJhbXMudm9pY2VQbGF5YmFja1JhdGVcbiAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUGxheU11c2ljXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZFBsYXlNdXNpYzogLT5cbiAgICAgICAgaWYgbm90IEBwYXJhbXMubXVzaWM/IHRoZW4gcmV0dXJuXG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuYXVkaW9cbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGlmIEdhbWVNYW5hZ2VyLnNldHRpbmdzLmJnbUVuYWJsZWRcbiAgICAgICAgICAgIGZhZGVEdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5mYWRlSW5EdXJhdGlvbikgdGhlbiBAcGFyYW1zLmZhZGVJbkR1cmF0aW9uIGVsc2UgZGVmYXVsdHMubXVzaWNGYWRlSW5EdXJhdGlvblxuICAgICAgICAgICAgdm9sdW1lID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wibXVzaWMudm9sdW1lXCJdKSB0aGVuIEBwYXJhbXMubXVzaWMudm9sdW1lIGVsc2UgZGVmYXVsdHMubXVzaWNWb2x1bWVcbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZSA9IGlmICFpc0xvY2tlZChmbGFnc1tcIm11c2ljLnBsYXliYWNrUmF0ZVwiXSkgdGhlbiBAcGFyYW1zLm11c2ljLnBsYXliYWNrUmF0ZSBlbHNlIGRlZmF1bHRzLm11c2ljUGxheWJhY2tSYXRlXG4gICAgICAgICAgICBtdXNpYyA9IHsgbmFtZTogQHBhcmFtcy5tdXNpYy5uYW1lLCB2b2x1bWU6IHZvbHVtZSwgcGxheWJhY2tSYXRlOiBwbGF5YmFja1JhdGUgfVxuICAgICAgICAgICAgaWYgQHBhcmFtcy5wbGF5VHlwZSA9PSAxXG4gICAgICAgICAgICAgICAgcGxheVRpbWUgPSBtaW46IEBwYXJhbXMucGxheVRpbWUubWluICogNjAsIG1heDogQHBhcmFtcy5wbGF5VGltZS5tYXggKiA2MFxuICAgICAgICAgICAgICAgIHBsYXlSYW5nZSA9IHN0YXJ0OiBAcGFyYW1zLnBsYXlSYW5nZS5zdGFydCAqIDYwLCBlbmQ6IEBwYXJhbXMucGxheVJhbmdlLmVuZCAqIDYwXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlNdXNpY1JhbmRvbShtdXNpYywgZmFkZUR1cmF0aW9uLCBAcGFyYW1zLmxheWVyIHx8IDAsIHBsYXlUaW1lLCBwbGF5UmFuZ2UpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlNdXNpYyhAcGFyYW1zLm11c2ljLm5hbWUsIHZvbHVtZSwgcGxheWJhY2tSYXRlLCBmYWRlRHVyYXRpb24sIEBwYXJhbXMubGF5ZXIgfHwgMClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTdG9wTXVzaWNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kU3RvcE11c2ljOiAtPiBcbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIGZhZGVEdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5mYWRlT3V0RHVyYXRpb24pIHRoZW4gQHBhcmFtcy5mYWRlT3V0RHVyYXRpb24gZWxzZSBkZWZhdWx0cy5tdXNpY0ZhZGVPdXREdXJhdGlvblxuICAgICAgICBcbiAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BNdXNpYyhmYWRlRHVyYXRpb24sIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFBhdXNlTXVzaWNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kUGF1c2VNdXNpYzogLT5cbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIGZhZGVEdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5mYWRlT3V0RHVyYXRpb24pIHRoZW4gQHBhcmFtcy5mYWRlT3V0RHVyYXRpb24gZWxzZSBkZWZhdWx0cy5tdXNpY0ZhZGVPdXREdXJhdGlvblxuICAgICAgICBcbiAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BNdXNpYyhmYWRlRHVyYXRpb24sIEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubGF5ZXIpKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFJlc3VtZU11c2ljXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgY29tbWFuZFJlc3VtZU11c2ljOiAtPiBcbiAgICAgICAgZGVmYXVsdHMgPSBHYW1lTWFuYWdlci5kZWZhdWx0cy5hdWRpb1xuICAgICAgICBmbGFncyA9IEBwYXJhbXMuZmllbGRGbGFncyB8fCB7fVxuICAgICAgICBpc0xvY2tlZCA9IGdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkXG4gICAgICAgIGZhZGVEdXJhdGlvbiA9IGlmICFpc0xvY2tlZChmbGFncy5mYWRlSW5EdXJhdGlvbikgdGhlbiBAcGFyYW1zLmZhZGVJbkR1cmF0aW9uIGVsc2UgZGVmYXVsdHMubXVzaWNGYWRlSW5EdXJhdGlvblxuICAgICAgICBcbiAgICAgICAgQXVkaW9NYW5hZ2VyLnJlc3VtZU11c2ljKGZhZGVEdXJhdGlvbiwgQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcikpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUGxheVNvdW5kXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRQbGF5U291bmQ6IC0+XG4gICAgICAgIGRlZmF1bHRzID0gR2FtZU1hbmFnZXIuZGVmYXVsdHMuYXVkaW9cbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgaWYgR2FtZU1hbmFnZXIuc2V0dGluZ3Muc291bmRFbmFibGVkIGFuZCAhR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXBcbiAgICAgICAgICAgIHZvbHVtZSA9IGlmICFpc0xvY2tlZChmbGFnc1tcInNvdW5kLnZvbHVtZVwiXSkgdGhlbiBAcGFyYW1zLnNvdW5kLnZvbHVtZSBlbHNlIGRlZmF1bHRzLnNvdW5kVm9sdW1lXG4gICAgICAgICAgICBwbGF5YmFja1JhdGUgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJzb3VuZC5wbGF5YmFja1JhdGVcIl0pIHRoZW4gQHBhcmFtcy5zb3VuZC5wbGF5YmFja1JhdGUgZWxzZSBkZWZhdWx0cy5zb3VuZFBsYXliYWNrUmF0ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIucGxheVNvdW5kKEBwYXJhbXMuc291bmQubmFtZSwgdm9sdW1lLCBwbGF5YmFja1JhdGUsIEBwYXJhbXMubXVzaWNFZmZlY3QpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kRW5kQ29tbW9uRXZlbnRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyNcbiAgICBjb21tYW5kRW5kQ29tbW9uRXZlbnQ6IC0+XG4gICAgICAgIGV2ZW50SWQgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmNvbW1vbkV2ZW50SWQpXG4gICAgICAgIGV2ZW50ID0gR2FtZU1hbmFnZXIuY29tbW9uRXZlbnRzW2V2ZW50SWRdIFxuICAgICAgICBldmVudD8uYmVoYXZpb3Iuc3RvcCgpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2FsbENvbW1vbkV2ZW50XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRDYWxsQ29tbW9uRXZlbnQ6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIGV2ZW50SWQgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmNvbW1vbkV2ZW50SWQpXG4gICAgICAgIEBpbnRlcnByZXRlci5jYWxsQ29tbW9uRXZlbnQoZXZlbnRJZCwgQHBhcmFtcy5wYXJhbWV0ZXJzKVxuICAgICBcbiAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhbmdlVGV4dFNldHRpbmdzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRDaGFuZ2VUZXh0U2V0dGluZ3M6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICB0ZXh0cyA9IHNjZW5lLnRleHRzXG4gICAgICAgIGlmIG5vdCB0ZXh0c1tudW1iZXJdPyBcbiAgICAgICAgICAgIHRleHRzW251bWJlcl0gPSBuZXcgZ3MuT2JqZWN0X1RleHQoKVxuICAgICAgICAgICAgdGV4dHNbbnVtYmVyXS52aXNpYmxlID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgdGV4dFNwcml0ZSA9IHRleHRzW251bWJlcl1cbiAgICAgICAgZm9udCA9IHRleHRTcHJpdGUuZm9udFxuICAgICAgICBmb250TmFtZSA9IHRleHRTcHJpdGUuZm9udC5uYW1lXG4gICAgICAgIGZvbnRTaXplID0gdGV4dFNwcml0ZS5mb250LnNpemVcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZm9udCkgdGhlbiBmb250TmFtZSA9IEBpbnRlcnByZXRlci5zdHJpbmdWYWx1ZU9mKEBwYXJhbXMuZm9udClcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLnNpemUpIHRoZW4gZm9udFNpemUgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnNpemUpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmZvbnQpIG9yICFpc0xvY2tlZChmbGFncy5zaXplKVxuICAgICAgICAgICAgdGV4dFNwcml0ZS5mb250ID0gbmV3IEZvbnQoZm9udE5hbWUsIGZvbnRTaXplKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHRleHRTcHJpdGUuZm9udC5jb2xvciA9IGlmICFpc0xvY2tlZChmbGFncy5jb2xvcikgdGhlbiBuZXcgQ29sb3IoQHBhcmFtcy5jb2xvcikgZWxzZSBmb250LmNvbG9yXG4gICAgICAgIHRleHRTcHJpdGUuZm9udC5ib3JkZXIgPSBpZiAhaXNMb2NrZWQoZmxhZ3MuYm9yZGVyKXRoZW4gQHBhcmFtcy5vdXRsaW5lIGVsc2UgZm9udC5ib3JkZXJcbiAgICAgICAgdGV4dFNwcml0ZS5mb250LmJvcmRlckNvbG9yID0gaWYgIWlzTG9ja2VkKGZsYWdzLmJvcmRlckNvbG9yKSB0aGVuIG5ldyBDb2xvcihAcGFyYW1zLm91dGxpbmVDb2xvcikgZWxzZSBuZXcgQ29sb3IoZm9udC5ib3JkZXJDb2xvcilcbiAgICAgICAgdGV4dFNwcml0ZS5mb250LnNoYWRvdyA9IGlmICFpc0xvY2tlZChmbGFncy5zaGFkb3cpdGhlbiBAcGFyYW1zLnNoYWRvdyBlbHNlIGZvbnQuc2hhZG93XG4gICAgICAgIHRleHRTcHJpdGUuZm9udC5zaGFkb3dDb2xvciA9IGlmICFpc0xvY2tlZChmbGFncy5zaGFkb3dDb2xvcikgdGhlbiBuZXcgQ29sb3IoQHBhcmFtcy5zaGFkb3dDb2xvcikgZWxzZSBuZXcgQ29sb3IoZm9udC5zaGFkb3dDb2xvcilcbiAgICAgICAgdGV4dFNwcml0ZS5iZWhhdmlvci5yZWZyZXNoKClcbiAgICAgICAgdGV4dFNwcml0ZS51cGRhdGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRDaGFuZ2VUZXh0U2V0dGluZ3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICBcbiAgICBjb21tYW5kVGV4dERlZmF1bHRzOiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnRleHRcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBcbiAgICAgICAgaWYgIWlzTG9ja2VkKGZsYWdzLmFwcGVhckR1cmF0aW9uKSB0aGVuIGRlZmF1bHRzLmFwcGVhckR1cmF0aW9uID0gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmFwcGVhckR1cmF0aW9uKVxuICAgICAgICBpZiAhaXNMb2NrZWQoZmxhZ3MuZGlzYXBwZWFyRHVyYXRpb24pIHRoZW4gZGVmYXVsdHMuZGlzYXBwZWFyRHVyYXRpb24gPSBAaW50ZXJwcmV0ZXIuZHVyYXRpb25WYWx1ZU9mKEBwYXJhbXMuZGlzYXBwZWFyRHVyYXRpb24pXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy56T3JkZXIpIHRoZW4gZGVmYXVsdHMuek9yZGVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy56T3JkZXIpXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImFwcGVhckVhc2luZy50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmFwcGVhckVhc2luZyA9IEBwYXJhbXMuYXBwZWFyRWFzaW5nXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImFwcGVhckFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmFwcGVhckFuaW1hdGlvbiA9IEBwYXJhbXMuYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImRpc2FwcGVhckVhc2luZy50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmRpc2FwcGVhckVhc2luZyA9IEBwYXJhbXMuZGlzYXBwZWFyRWFzaW5nXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcImRpc2FwcGVhckFuaW1hdGlvbi50eXBlXCJdKSB0aGVuIGRlZmF1bHRzLmRpc2FwcGVhckFuaW1hdGlvbiA9IEBwYXJhbXMuZGlzYXBwZWFyQW5pbWF0aW9uXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFnc1tcIm1vdGlvbkJsdXIuZW5hYmxlZFwiXSkgdGhlbiBkZWZhdWx0cy5tb3Rpb25CbHVyID0gQHBhcmFtcy5tb3Rpb25CbHVyXG4gICAgICAgIGlmICFpc0xvY2tlZChmbGFncy5vcmlnaW4pIHRoZW4gZGVmYXVsdHMub3JpZ2luID0gQHBhcmFtcy5vcmlnaW5cbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTaG93VGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZFNob3dUZXh0OiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnRleHRcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgdGV4dCA9IEBwYXJhbXMudGV4dFxuICAgICAgICB0ZXh0cyA9IHNjZW5lLnRleHRzXG4gICAgICAgIGlmIG5vdCB0ZXh0c1tudW1iZXJdPyB0aGVuIHRleHRzW251bWJlcl0gPSBuZXcgZ3MuT2JqZWN0X1RleHQoKVxuICAgICAgICBcbiAgICAgICAgeCA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMucG9zaXRpb24ueClcbiAgICAgICAgeSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMucG9zaXRpb24ueSlcbiAgICAgICAgXG4gICAgICAgIGVhc2luZyA9IGlmICFpc0xvY2tlZChmbGFnc1tcImVhc2luZy50eXBlXCJdKSB0aGVuIGdzLkVhc2luZ3MuZnJvbVZhbHVlcyhAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLmVhc2luZy50eXBlKSwgQHBhcmFtcy5lYXNpbmcuaW5PdXQpIGVsc2UgZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KGRlZmF1bHRzLmFwcGVhckVhc2luZylcbiAgICAgICAgZHVyYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3MuZHVyYXRpb24pIHRoZW4gQGludGVycHJldGVyLmR1cmF0aW9uVmFsdWVPZihAcGFyYW1zLmR1cmF0aW9uKSBlbHNlIGRlZmF1bHRzLmFwcGVhckR1cmF0aW9uXG4gICAgICAgIG9yaWdpbiA9IGlmICFpc0xvY2tlZChmbGFncy5vcmlnaW4pIHRoZW4gQHBhcmFtcy5vcmlnaW4gZWxzZSBkZWZhdWx0cy5vcmlnaW5cbiAgICAgICAgekluZGV4ID0gaWYgIWlzTG9ja2VkKGZsYWdzLnpPcmRlcikgdGhlbiBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLnpPcmRlcikgZWxzZSBkZWZhdWx0cy56T3JkZXJcbiAgICAgICAgYW5pbWF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzW1wiYW5pbWF0aW9uLnR5cGVcIl0pIHRoZW4gQHBhcmFtcy5hbmltYXRpb24gZWxzZSBkZWZhdWx0cy5hcHBlYXJBbmltYXRpb25cbiAgICAgICAgXG4gICAgICAgIHRleHRPYmplY3QgPSB0ZXh0c1tudW1iZXJdXG4gICAgICAgIHRleHRPYmplY3QudGV4dCA9IHRleHRcbiAgICAgICAgdGV4dE9iamVjdC5kc3RSZWN0LnggPSB4IFxuICAgICAgICB0ZXh0T2JqZWN0LmRzdFJlY3QueSA9IHkgXG4gICAgICAgIHRleHRPYmplY3QuYmxlbmRNb2RlID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5ibGVuZE1vZGUpXG4gICAgICAgIHRleHRPYmplY3QuYW5jaG9yLnggPSBpZiBvcmlnaW4gPT0gMCB0aGVuIDAgZWxzZSAwLjVcbiAgICAgICAgdGV4dE9iamVjdC5hbmNob3IueSA9IGlmIG9yaWdpbiA9PSAwIHRoZW4gMCBlbHNlIDAuNVxuICAgICAgICB0ZXh0T2JqZWN0LnpJbmRleCA9IHpJbmRleCB8fCAgKDcwMCArIG51bWJlcilcbiAgICAgICAgdGV4dE9iamVjdC5zaXplVG9GaXQgPSB5ZXNcbiAgICAgICAgdGV4dE9iamVjdC5mb3JtYXR0aW5nID0geWVzXG4gICAgICAgIHRleHRPYmplY3QudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIGlmIEBwYXJhbXMucG9zaXRpb25UeXBlID09IDBcbiAgICAgICAgICAgIHAgPSBAaW50ZXJwcmV0ZXIucHJlZGVmaW5lZE9iamVjdFBvc2l0aW9uKEBwYXJhbXMucHJlZGVmaW5lZFBvc2l0aW9uSWQsIHRleHRPYmplY3QsIEBwYXJhbXMpXG4gICAgICAgICAgICB0ZXh0T2JqZWN0LmRzdFJlY3QueCA9IHAueFxuICAgICAgICAgICAgdGV4dE9iamVjdC5kc3RSZWN0LnkgPSBwLnlcbiAgICAgICAgICAgIFxuICAgICAgICB0ZXh0T2JqZWN0LmFuaW1hdG9yLmFwcGVhcih4LCB5LCBhbmltYXRpb24sIGVhc2luZywgZHVyYXRpb24pXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvblxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFRleHRNb3Rpb25CbHVyXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICBcbiAgICBjb21tYW5kVGV4dE1vdGlvbkJsdXI6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICB0ZXh0ID0gc2NlbmUudGV4dHNbbnVtYmVyXVxuICAgICAgICBpZiBub3QgdGV4dD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIHRleHQubW90aW9uQmx1ci5zZXQoQHBhcmFtcy5tb3Rpb25CbHVyKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRSZWZyZXNoVGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgY29tbWFuZFJlZnJlc2hUZXh0OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgdGV4dHMgPSBzY2VuZS50ZXh0c1xuICAgICAgICBpZiBub3QgdGV4dHNbbnVtYmVyXT8gdGhlbiByZXR1cm5cblxuICAgICAgICB0ZXh0c1tudW1iZXJdLmJlaGF2aW9yLnJlZnJlc2goKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE1vdmVUZXh0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRNb3ZlVGV4dDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBzY2VuZS50ZXh0c1xuICAgICAgICBAaW50ZXJwcmV0ZXIuY29tbWFuZE1vdmVQaWN0dXJlLmNhbGwodGhpcylcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBwaWN0dXJlc1xuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZE1vdmVUZXh0UGF0aFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICBcbiAgICBjb21tYW5kTW92ZVRleHRQYXRoOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZXMgPSBzY2VuZS5waWN0dXJlc1xuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHNjZW5lLnRleHRzXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kTW92ZVBpY3R1cmVQYXRoLmNhbGwodGhpcylcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBwaWN0dXJlc1xuICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRSb3RhdGVUZXh0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRSb3RhdGVUZXh0OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgcGljdHVyZXMgPSBzY2VuZS5waWN0dXJlc1xuICAgICAgICBzY2VuZS5waWN0dXJlcyA9IHNjZW5lLnRleHRzXG4gICAgICAgIEBpbnRlcnByZXRlci5jb21tYW5kUm90YXRlUGljdHVyZS5jYWxsKHRoaXMpXG4gICAgICAgIHNjZW5lLnBpY3R1cmVzID0gcGljdHVyZXMgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kWm9vbVRleHRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgIFxuICAgIGNvbW1hbmRab29tVGV4dDogLT5cbiAgICAgICAgc2NlbmUgPSBTY2VuZU1hbmFnZXIuc2NlbmVcbiAgICAgICAgbnVtYmVyID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXG4gICAgICAgIHBpY3R1cmVzID0gc2NlbmUucGljdHVyZXNcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBzY2VuZS50ZXh0c1xuICAgICAgICBAaW50ZXJwcmV0ZXIuY29tbWFuZFpvb21QaWN0dXJlLmNhbGwodGhpcylcbiAgICAgICAgc2NlbmUucGljdHVyZXMgPSBwaWN0dXJlcyAgICBcbiAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEJsZW5kVGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRCbGVuZFRleHQ6IC0+XG4gICAgICAgIHRleHQgPSBTY2VuZU1hbmFnZXIuc2NlbmUudGV4dHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICBpZiBub3QgdGV4dD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5ibGVuZE9iamVjdCh0ZXh0LCBAcGFyYW1zKSAgXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENvbG9yVGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIGNvbW1hbmRDb2xvclRleHQ6IC0+XG4gICAgICAgIHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lXG4gICAgICAgIG51bWJlciA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKVxuICAgICAgICB0ZXh0ID0gc2NlbmUudGV4dHNbbnVtYmVyXVxuICAgICAgICBkdXJhdGlvbiA9IEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbilcbiAgICAgICAgZWFzaW5nID0gZ3MuRWFzaW5ncy5mcm9tT2JqZWN0KEBwYXJhbXMuZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgdGV4dD9cbiAgICAgICAgICAgIHRleHQuYW5pbWF0b3IuY29sb3JUbyhuZXcgQ29sb3IoQHBhcmFtcy5jb2xvciksIGR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci53YWl0Q291bnRlciA9IGR1cmF0aW9uIFxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEVyYXNlVGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICBcbiAgICBjb21tYW5kRXJhc2VUZXh0OiAtPlxuICAgICAgICBkZWZhdWx0cyA9IEdhbWVNYW5hZ2VyLmRlZmF1bHRzLnRleHRcbiAgICAgICAgZmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgaXNMb2NrZWQgPSBncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZFxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBudW1iZXIgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcilcbiAgICAgICAgdGV4dCA9IHNjZW5lLnRleHRzW251bWJlcl1cbiAgICAgICAgaWYgbm90IHRleHQ/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBlYXNpbmcgPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJlYXNpbmcudHlwZVwiXSkgdGhlbiBncy5FYXNpbmdzLmZyb21WYWx1ZXMoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5lYXNpbmcudHlwZSksIEBwYXJhbXMuZWFzaW5nLmluT3V0KSBlbHNlIGdzLkVhc2luZ3MuZnJvbU9iamVjdChkZWZhdWx0cy5kaXNhcHBlYXJFYXNpbmcpXG4gICAgICAgIGR1cmF0aW9uID0gaWYgIWlzTG9ja2VkKGZsYWdzLmR1cmF0aW9uKSB0aGVuIEBpbnRlcnByZXRlci5kdXJhdGlvblZhbHVlT2YoQHBhcmFtcy5kdXJhdGlvbikgZWxzZSBkZWZhdWx0cy5kaXNhcHBlYXJEdXJhdGlvblxuICAgICAgICBhbmltYXRpb24gPSBpZiAhaXNMb2NrZWQoZmxhZ3NbXCJhbmltYXRpb24udHlwZVwiXSkgdGhlbiBAcGFyYW1zLmFuaW1hdGlvbiBlbHNlIGRlZmF1bHRzLmRpc2FwcGVhckFuaW1hdGlvblxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHRleHQuYW5pbWF0b3IuZGlzYXBwZWFyKGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgKHNlbmRlcikgPT4gXG4gICAgICAgICAgICBzZW5kZXIuZGlzcG9zZSgpXG4gICAgICAgICAgICBzY2VuZS50ZXh0c1tudW1iZXJdID0gbnVsbFxuICAgICAgICApXG4gICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLndhaXRGb3JDb21wbGV0aW9uIGFuZCBub3QgKGR1cmF0aW9uID09IDApXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIud2FpdENvdW50ZXIgPSBkdXJhdGlvbiBcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZElucHV0VGV4dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kSW5wdXRUZXh0OiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBpZiAoR2FtZU1hbmFnZXIuc2V0dGluZ3MuYWxsb3dDaG9pY2VTa2lwfHxAaW50ZXJwcmV0ZXIucHJldmlldykgYW5kIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIubWVzc2FnZU9iamVjdCgpLmJlaGF2aW9yLmNsZWFyKClcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudmFyaWFibGUsIFwiXCIpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICBAaW50ZXJwcmV0ZXIuaXNXYWl0aW5nID0geWVzXG4gICAgICAgIGlmIEBpbnRlcnByZXRlci5pc1Byb2Nlc3NpbmdNZXNzYWdlSW5PdGhlckNvbnRleHQoKVxuICAgICAgICAgICAgQGludGVycHJldGVyLndhaXRGb3JNZXNzYWdlKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICAgICAgJHRlbXBGaWVsZHMubGV0dGVycyA9IEBwYXJhbXMubGV0dGVyc1xuICAgICAgICBzY2VuZS5iZWhhdmlvci5zaG93SW5wdXRUZXh0KEBwYXJhbXMubGV0dGVycywgZ3MuQ2FsbEJhY2soXCJvbklucHV0VGV4dEZpbmlzaFwiLCBAaW50ZXJwcmV0ZXIsIEBpbnRlcnByZXRlcikpICBcbiAgICAgICAgQGludGVycHJldGVyLndhaXRpbmdGb3IuaW5wdXRUZXh0ID0gQHBhcmFtc1xuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNhdmVQZXJzaXN0ZW50RGF0YVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kU2F2ZVBlcnNpc3RlbnREYXRhOiAtPiBHYW1lTWFuYWdlci5zYXZlR2xvYmFsRGF0YSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUHJlcGFyZVNhdmVHYW1lXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNvbW1hbmRQcmVwYXJlU2F2ZUdhbWU6IC0+XG4gICAgICAgIGlmIEBpbnRlcnByZXRlci5wcmV2aWV3RGF0YT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBpbnRlcnByZXRlci5wb2ludGVyKytcbiAgICAgICAgR2FtZU1hbmFnZXIucHJlcGFyZVNhdmVHYW1lKEBwYXJhbXMuc25hcHNob3QpXG4gICAgICAgIEBpbnRlcnByZXRlci5wb2ludGVyLS1cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kU2F2ZUdhbWVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgY29tbWFuZFNhdmVHYW1lOiAtPlxuICAgICAgICBpZiBAaW50ZXJwcmV0ZXIucHJldmlld0RhdGE/IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBHYW1lTWFuYWdlci5zYXZlKEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMuc2xvdCkgLSAxKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRMb2FkR2FtZVxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kTG9hZEdhbWU6IC0+XG4gICAgICAgIGlmIEBpbnRlcnByZXRlci5wcmV2aWV3RGF0YT8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEdhbWVNYW5hZ2VyLmxvYWQoQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5zbG90KSAtIDEpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFdhaXRGb3JJbnB1dFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjb21tYW5kV2FpdEZvcklucHV0OiAtPlxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlRG93blwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlVXBcIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJrZXlEb3duXCIsIEBvYmplY3QpXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwia2V5VXBcIiwgQG9iamVjdClcbiAgICAgICAgXG4gICAgICAgIGYgPSA9PlxuICAgICAgICAgICAgZXhlY3V0ZUFjdGlvbiA9IG5vXG4gICAgICAgICAgICBpZiBJbnB1dC5Nb3VzZS5pc0J1dHRvbihAcGFyYW1zLmtleSlcbiAgICAgICAgICAgICAgICBleGVjdXRlQWN0aW9uID0gSW5wdXQuTW91c2UuYnV0dG9uc1tAcGFyYW1zLmtleV0gPT0gQHBhcmFtcy5zdGF0ZVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGV4ZWN1dGVBY3Rpb24gPSBJbnB1dC5rZXlzW0BwYXJhbXMua2V5XSA9PSBAcGFyYW1zLnN0YXRlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBleGVjdXRlQWN0aW9uXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IG5vXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlRG93blwiLCBAb2JqZWN0KVxuICAgICAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCBAb2JqZWN0KVxuICAgICAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwia2V5RG93blwiLCBAb2JqZWN0KVxuICAgICAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwia2V5VXBcIiwgQG9iamVjdClcbiAgICAgICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZURvd25cIiwgZiwgbnVsbCwgQG9iamVjdFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZVVwXCIsIGYsIG51bGwsIEBvYmplY3RcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwia2V5RG93blwiLCBmLCBudWxsLCBAb2JqZWN0XG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIktleVVwXCIsIGYsIG51bGwsIEBvYmplY3RcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgQGludGVycHJldGVyLmlzV2FpdGluZyA9IHllc1xuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZEdldElucHV0RGF0YVxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRHZXRJbnB1dERhdGE6IC0+XG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLmZpZWxkXG4gICAgICAgICAgICB3aGVuIDAgIyBCdXR0b24gQVxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuQV0pXG4gICAgICAgICAgICB3aGVuIDEgIyBCdXR0b24gQlxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuQl0pXG4gICAgICAgICAgICB3aGVuIDIgIyBCdXR0b24gWFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuWF0pXG4gICAgICAgICAgICB3aGVuIDMgIyBCdXR0b24gWVxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuWV0pXG4gICAgICAgICAgICB3aGVuIDQgIyBCdXR0b24gTFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuTF0pXG4gICAgICAgICAgICB3aGVuIDUgIyBCdXR0b24gUlxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0LmtleXNbSW5wdXQuUl0pXG4gICAgICAgICAgICB3aGVuIDYgIyBCdXR0b24gU1RBUlRcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBJbnB1dC5rZXlzW0lucHV0LlNUQVJUXSlcbiAgICAgICAgICAgIHdoZW4gNyAjIEJ1dHRvbiBTRUxFQ1RcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBJbnB1dC5rZXlzW0lucHV0LlNFTEVDVF0pXG4gICAgICAgICAgICB3aGVuIDggIyBNb3VzZSBYXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgSW5wdXQuTW91c2UueClcbiAgICAgICAgICAgIHdoZW4gOSAjIE1vdXNlIFlcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBJbnB1dC5Nb3VzZS55KVxuICAgICAgICAgICAgd2hlbiAxMCAjIE1vdXNlIFdoZWVsXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgSW5wdXQuTW91c2Uud2hlZWwpXG4gICAgICAgICAgICB3aGVuIDExICMgTW91c2UgTGVmdFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIElucHV0Lk1vdXNlLmJ1dHRvbnNbSW5wdXQuTW91c2UuTEVGVF0pXG4gICAgICAgICAgICB3aGVuIDEyICMgTW91c2UgUmlnaHRcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBJbnB1dC5Nb3VzZS5idXR0b25zW0lucHV0Lk1vdXNlLlJJR0hUXSlcbiAgICAgICAgICAgIHdoZW4gMTMgIyBNb3VzZSBNaWRkbGVcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBJbnB1dC5Nb3VzZS5idXR0b25zW0lucHV0Lk1vdXNlLk1JRERMRV0pXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kR2V0R2FtZURhdGFcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICBcbiAgICBjb21tYW5kR2V0R2FtZURhdGE6IC0+XG4gICAgICAgIHRlbXBTZXR0aW5ncyA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5nc1xuICAgICAgICBzZXR0aW5ncyA9IEdhbWVNYW5hZ2VyLnNldHRpbmdzXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLmZpZWxkXG4gICAgICAgICAgICB3aGVuIDAgIyBTY2VuZSBJRFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIFNjZW5lTWFuYWdlci5zY2VuZS5zY2VuZURvY3VtZW50LnVpZClcbiAgICAgICAgICAgIHdoZW4gMSAjIEdhbWUgVGltZSAtIFNlY29uZHNcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBNYXRoLnJvdW5kKEdyYXBoaWNzLmZyYW1lQ291bnQgLyA2MCkpXG4gICAgICAgICAgICB3aGVuIDIgIyBHYW1lIFRpbWUgLSBNaW51dGVzXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgTWF0aC5yb3VuZChHcmFwaGljcy5mcmFtZUNvdW50IC8gNjAgLyA2MCkpXG4gICAgICAgICAgICB3aGVuIDMgIyBHYW1lIFRpbWUgLSBIb3Vyc1xuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIE1hdGgucm91bmQoR3JhcGhpY3MuZnJhbWVDb3VudCAvIDYwIC8gNjAgLyA2MCkpXG4gICAgICAgICAgICB3aGVuIDQgIyBEYXRlIC0gRGF5IG9mIE1vbnRoXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgbmV3IERhdGUoKS5nZXREYXRlKCkpXG4gICAgICAgICAgICB3aGVuIDUgIyBEYXRlIC0gRGF5IG9mIFdlZWtcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBuZXcgRGF0ZSgpLmdldERheSgpKVxuICAgICAgICAgICAgd2hlbiA2ICMgRGF0ZSAtIE1vbnRoXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgbmV3IERhdGUoKS5nZXRNb250aCgpKVxuICAgICAgICAgICAgd2hlbiA3ICMgRGF0ZSAtIFllYXJcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpXG4gICAgICAgICAgICB3aGVuIDhcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MuYWxsb3dTa2lwKVxuICAgICAgICAgICAgd2hlbiA5XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLmFsbG93U2tpcFVucmVhZE1lc3NhZ2VzKVxuICAgICAgICAgICAgd2hlbiAxMFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLm1lc3NhZ2VTcGVlZClcbiAgICAgICAgICAgIHdoZW4gMTFcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MuYXV0b01lc3NhZ2UuZW5hYmxlZClcbiAgICAgICAgICAgIHdoZW4gMTJcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBzZXR0aW5ncy5hdXRvTWVzc2FnZS50aW1lKVxuICAgICAgICAgICAgd2hlbiAxM1xuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRCb29sZWFuVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBzZXR0aW5ncy5hdXRvTWVzc2FnZS53YWl0Rm9yVm9pY2UpXG4gICAgICAgICAgICB3aGVuIDE0XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLmF1dG9NZXNzYWdlLnN0b3BPbkFjdGlvbilcbiAgICAgICAgICAgIHdoZW4gMTVcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MudGltZU1lc3NhZ2VUb1ZvaWNlKVxuICAgICAgICAgICAgd2hlbiAxNlxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRCb29sZWFuVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBzZXR0aW5ncy5hbGxvd1ZpZGVvU2tpcClcbiAgICAgICAgICAgIHdoZW4gMTdcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MuYWxsb3dDaG9pY2VTa2lwKVxuICAgICAgICAgICAgd2hlbiAxOFxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRCb29sZWFuVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBzZXR0aW5ncy5za2lwVm9pY2VPbkFjdGlvbilcbiAgICAgICAgICAgIHdoZW4gMTlcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MuZnVsbFNjcmVlbilcbiAgICAgICAgICAgIHdoZW4gMjBcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3MuYWRqdXN0QXNwZWN0UmF0aW8pXG4gICAgICAgICAgICB3aGVuIDIxXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLmNvbmZpcm1hdGlvbilcbiAgICAgICAgICAgIHdoZW4gMjJcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBzZXR0aW5ncy5iZ21Wb2x1bWUpXG4gICAgICAgICAgICB3aGVuIDIzXG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3Mudm9pY2VWb2x1bWUpXG4gICAgICAgICAgICB3aGVuIDI0XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3Muc2VWb2x1bWUpXG4gICAgICAgICAgICB3aGVuIDI1XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLmJnbUVuYWJsZWQpXG4gICAgICAgICAgICB3aGVuIDI2XG4gICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldEJvb2xlYW5WYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIHNldHRpbmdzLnZvaWNlRW5hYmxlZClcbiAgICAgICAgICAgIHdoZW4gMjdcbiAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgc2V0dGluZ3Muc2VFbmFibGVkKVxuICAgICAgICAgICAgd2hlbiAyOCAjIExhbmd1YWdlIC0gQ29kZVxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIExhbmd1YWdlTWFuYWdlci5sYW5ndWFnZT8uY29kZSB8fCBcIlwiKVxuICAgICAgICAgICAgd2hlbiAyOSAjIExhbmd1YWdlIC0gTmFtZVxuICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRTdHJpbmdWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIExhbmd1YWdlTWFuYWdlci5sYW5ndWFnZT8ubmFtZSB8fCBcIlwiKSAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTZXRHYW1lRGF0YVxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRTZXRHYW1lRGF0YTogLT5cbiAgICAgICAgdGVtcFNldHRpbmdzID0gR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzXG4gICAgICAgIHNldHRpbmdzID0gR2FtZU1hbmFnZXIuc2V0dGluZ3NcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAcGFyYW1zLmZpZWxkXG4gICAgICAgICAgICB3aGVuIDBcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5hbGxvd1NraXAgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMVxuICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsbG93U2tpcFVucmVhZE1lc3NhZ2VzID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5tZXNzYWdlU3BlZWQgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlclZhbHVlKVxuICAgICAgICAgICAgd2hlbiAzXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuYXV0b01lc3NhZ2UuZW5hYmxlZCA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgd2hlbiA0XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuYXV0b01lc3NhZ2UudGltZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDVcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5hdXRvTWVzc2FnZS53YWl0Rm9yVm9pY2UgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gNlxuICAgICAgICAgICAgICAgIHNldHRpbmdzLmF1dG9NZXNzYWdlLnN0b3BPbkFjdGlvbiA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgd2hlbiA3XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MudGltZU1lc3NhZ2VUb1ZvaWNlID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDhcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5hbGxvd1ZpZGVvU2tpcCA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgd2hlbiA5XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuYWxsb3dDaG9pY2VTa2lwID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDEwXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2tpcFZvaWNlT25BY3Rpb24gPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMTFcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5mdWxsU2NyZWVuID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICAgICAgaWYgc2V0dGluZ3MuZnVsbFNjcmVlblxuICAgICAgICAgICAgICAgICAgICBTY2VuZU1hbmFnZXIuc2NlbmUuZW50ZXJGdWxsU2NyZWVuKClcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZS5sZWF2ZUZ1bGxTY3JlZW4oKVxuICAgICAgICAgICAgd2hlbiAxMlxuICAgICAgICAgICAgICAgIHNldHRpbmdzLmFkanVzdEFzcGVjdFJhdGlvID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICAgICAgR3JhcGhpY3Mua2VlcFJhdGlvID0gc2V0dGluZ3MuYWRqdXN0QXNwZWN0UmF0aW9cbiAgICAgICAgICAgICAgICBHcmFwaGljcy5vblJlc2l6ZSgpXG4gICAgICAgICAgICB3aGVuIDEzXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29uZmlybWF0aW9uID0gQGludGVycHJldGVyLmJvb2xlYW5WYWx1ZU9mKEBwYXJhbXMuc3dpdGNoVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDE0XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuYmdtVm9sdW1lID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMTVcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52b2ljZVZvbHVtZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpXG4gICAgICAgICAgICB3aGVuIDE2XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2VWb2x1bWUgPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlclZhbHVlKVxuICAgICAgICAgICAgd2hlbiAxN1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLmJnbUVuYWJsZWQgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMThcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy52b2ljZUVuYWJsZWQgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSlcbiAgICAgICAgICAgIHdoZW4gMTlcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZUVuYWJsZWQgPSBAaW50ZXJwcmV0ZXIuYm9vbGVhblZhbHVlT2YoQHBhcmFtcy5zd2l0Y2hWYWx1ZSkgICAgICAgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kR2V0T2JqZWN0RGF0YVxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIGNvbW1hbmRHZXRPYmplY3REYXRhOiAtPlxuICAgICAgICBzd2l0Y2ggQHBhcmFtcy5vYmplY3RUeXBlXG4gICAgICAgICAgICB3aGVuIDAgIyBQaWN0dXJlXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnBpY3R1cmVzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgIHdoZW4gMSAjIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuYmFja2dyb3VuZHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcildXG4gICAgICAgICAgICB3aGVuIDIgIyBUZXh0XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnRleHRzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgIHdoZW4gMyAjIE1vdmllXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZGVvc1tAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcildXG4gICAgICAgICAgICB3aGVuIDQgIyBDaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuY2hhcmFjdGVycy5maXJzdCAodikgPT4gdi5yaWQgPT0gQHBhcmFtcy5jaGFyYWN0ZXJJZFxuICAgICAgICAgICAgd2hlbiA1ICMgTWVzc2FnZSBCb3hcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcIm1lc3NhZ2VCb3hcIilcbiAgICAgICAgICAgIHdoZW4gNiAjIE1lc3NhZ2UgQXJlYVxuICAgICAgICAgICAgICAgIGFyZWEgPSBTY2VuZU1hbmFnZXIuc2NlbmUubWVzc2FnZUFyZWFzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgICAgICBvYmplY3QgPSBhcmVhPy5sYXlvdXRcbiAgICAgICAgICAgIHdoZW4gNyAjIEhvdHNwb3RcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuaG90c3BvdHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIG9iamVjdD9cbiAgICAgICAgICAgIGZpZWxkID0gQHBhcmFtcy5maWVsZFxuICAgICAgICAgICAgaWYgQHBhcmFtcy5vYmplY3RUeXBlID09IDQgIyBDaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggQHBhcmFtcy5maWVsZFxuICAgICAgICAgICAgICAgICAgICB3aGVuIDAgIyBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzW0BwYXJhbXMuY2hhcmFjdGVySWRdPy5pbmRleCB8fCAwKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDEgIyBOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNbQHBhcmFtcy5jaGFyYWN0ZXJJZF0/Lm5hbWUgfHwgXCJcIilcbiAgICAgICAgICAgICAgICBmaWVsZCAtPSAyXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBmaWVsZCA+PSAwXG4gICAgICAgICAgICAgICAgc3dpdGNoIGZpZWxkXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMCAjIFJlc291cmNlIE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9iamVjdFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgb2JqZWN0LnRleHQgfHwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldFN0cmluZ1ZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgb2JqZWN0LnZpZGVvIHx8IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0U3RyaW5nVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBvYmplY3QuaW1hZ2UgfHwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgUG9zaXRpb24gLSBYXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0TnVtYmVyVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBvYmplY3QuZHN0UmVjdC54KVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDIgIyBQb3NpdGlvbiAtIFlcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIG9iamVjdC5kc3RSZWN0LnkpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMyAjIEFuY2hvciAtIFhcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIE1hdGgucm91bmQob2JqZWN0LmFuY2hvci54ICogMTAwKSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA0ICMgQW5jaG9yIC0gWVxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgTWF0aC5yb3VuZChvYmplY3QuYW5jaG9yLnkgKiAxMDApKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDUgIyBab29tIC0gWFxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgTWF0aC5yb3VuZChvYmplY3Quem9vbS54ICogMTAwKSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA2ICMgWm9vbSAtIFlcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIE1hdGgucm91bmQob2JqZWN0Lnpvb20ueSAqIDEwMCkpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gNyAjIFNpemUgLSBXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgb2JqZWN0LmRzdFJlY3Qud2lkdGgpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gOCAjIFNpemUgLSBIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIG9iamVjdC5kc3RSZWN0LmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA5ICMgWi1JbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgQGludGVycHJldGVyLnNldE51bWJlclZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgb2JqZWN0LnpJbmRleClcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxMCAjIE9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIG9iamVjdC5vcGFjaXR5KVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDExICMgQW5nbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIG9iamVjdC5hbmdsZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxMiAjIFZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXRCb29sZWFuVmFsdWVUbyhAcGFyYW1zLnRhcmdldFZhcmlhYmxlLCBvYmplY3QudmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxMyAjIEJsZW5kIE1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIEBpbnRlcnByZXRlci5zZXROdW1iZXJWYWx1ZVRvKEBwYXJhbXMudGFyZ2V0VmFyaWFibGUsIG9iamVjdC5ibGVuZE1vZGUpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMTQgIyBGbGlwcGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBAaW50ZXJwcmV0ZXIuc2V0Qm9vbGVhblZhbHVlVG8oQHBhcmFtcy50YXJnZXRWYXJpYWJsZSwgb2JqZWN0Lm1pcnJvcilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBAbWV0aG9kIGNvbW1hbmRTZXRPYmplY3REYXRhXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgICAgIFxuICAgIGNvbW1hbmRTZXRPYmplY3REYXRhOiAtPlxuICAgICAgICBzd2l0Y2ggQHBhcmFtcy5vYmplY3RUeXBlXG4gICAgICAgICAgICB3aGVuIDAgIyBQaWN0dXJlXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnBpY3R1cmVzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgIHdoZW4gMSAjIEJhY2tncm91bmRcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuYmFja2dyb3VuZHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5sYXllcildXG4gICAgICAgICAgICB3aGVuIDIgIyBUZXh0XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnRleHRzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgIHdoZW4gMyAjIE1vdmllXG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gU2NlbmVNYW5hZ2VyLnNjZW5lLnZpZGVvc1tAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlcildXG4gICAgICAgICAgICB3aGVuIDQgIyBDaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuY2hhcmFjdGVycy5maXJzdCAodikgPT4gdi5yaWQgPT0gQHBhcmFtcy5jaGFyYWN0ZXJJZFxuICAgICAgICAgICAgd2hlbiA1ICMgTWVzc2FnZSBCb3hcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQub2JqZWN0QnlJZChcIm1lc3NhZ2VCb3hcIilcbiAgICAgICAgICAgIHdoZW4gNiAjIE1lc3NhZ2UgQXJlYVxuICAgICAgICAgICAgICAgIGFyZWEgPSBTY2VuZU1hbmFnZXIuc2NlbmUubWVzc2FnZUFyZWFzW0BpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyKV1cbiAgICAgICAgICAgICAgICBvYmplY3QgPSBhcmVhPy5sYXlvdXRcbiAgICAgICAgICAgIHdoZW4gNyAjIEhvdHNwb3RcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBTY2VuZU1hbmFnZXIuc2NlbmUuaG90c3BvdHNbQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXIpXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBpZiBvYmplY3Q/XG4gICAgICAgICAgICBmaWVsZCA9IEBwYXJhbXMuZmllbGRcbiAgICAgICAgICAgIGlmIEBwYXJhbXMub2JqZWN0VHlwZSA9PSA0ICMgQ2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgc3dpdGNoIGZpZWxkXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMCAjIE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5uYW1lID0gQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50ZXh0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlcnNbb2JqZWN0LnJpZF0/Lm5hbWUgPSBvYmplY3QubmFtZVxuICAgICAgICAgICAgICAgIGZpZWxkLS1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGZpZWxkID49IDBcbiAgICAgICAgICAgICAgICBzd2l0Y2ggZmllbGRcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAwICMgUmVzb3VyY2UgTmFtZSAvIFRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCBAcGFyYW1zLm9iamVjdFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnRleHQgPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnRleHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIDNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZpZGVvID0gQGludGVycHJldGVyLnN0cmluZ1ZhbHVlT2YoQHBhcmFtcy50ZXh0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2UgPSBAaW50ZXJwcmV0ZXIuc3RyaW5nVmFsdWVPZihAcGFyYW1zLnRleHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAxICMgUG9zaXRpb24gLSBYXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHN0UmVjdC54ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAyICMgUG9zaXRpb24gLSBZXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHN0UmVjdC55ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiAzICMgQW5jaG9yIC0gWFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFuY2hvci54ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSkgLyAxMDBcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA0ICMgQW5jaG9yIC0gWVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmFuY2hvci55ID0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSkgLyAxMDBcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA1ICMgWm9vbSAtIFhcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC56b29tLnggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlclZhbHVlKSAvIDEwMFxuICAgICAgICAgICAgICAgICAgICB3aGVuIDYgIyBab29tIC0gWVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lnpvb20ueSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpIC8gMTAwXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gNyAjIFotSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC56SW5kZXggPSBAaW50ZXJwcmV0ZXIubnVtYmVyVmFsdWVPZihAcGFyYW1zLm51bWJlclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDggIyBPcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Qub3BhY2l0eT0gQGludGVycHJldGVyLm51bWJlclZhbHVlT2YoQHBhcmFtcy5udW1iZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgd2hlbiA5ICMgQW5nbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5hbmdsZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHdoZW4gMTAgIyBWaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudmlzaWJsZSA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB3aGVuIDExICMgQmxlbmQgTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJsZW5kTW9kZSA9IEBpbnRlcnByZXRlci5udW1iZXJWYWx1ZU9mKEBwYXJhbXMubnVtYmVyVmFsdWUpICAgIFxuICAgICAgICAgICAgICAgICAgICB3aGVuIDEyICMgRmxpcHBlZFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1pcnJvciA9IEBpbnRlcnByZXRlci5ib29sZWFuVmFsdWVPZihAcGFyYW1zLnN3aXRjaFZhbHVlKSAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhbmdlU291bmRzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgIFxuICAgIGNvbW1hbmRDaGFuZ2VTb3VuZHM6IC0+XG4gICAgICAgIHNvdW5kcyA9IFJlY29yZE1hbmFnZXIuc3lzdGVtLnNvdW5kc1xuICAgICAgICBmaWVsZEZsYWdzID0gQHBhcmFtcy5maWVsZEZsYWdzIHx8IHt9XG4gICAgICAgIFxuICAgICAgICBmb3Igc291bmQsIGkgaW4gQHBhcmFtcy5zb3VuZHNcbiAgICAgICAgICAgIGlmICFncy5Db21tYW5kRmllbGRGbGFncy5pc0xvY2tlZChmaWVsZEZsYWdzW1wic291bmRzLlwiK2ldKVxuICAgICAgICAgICAgICAgIHNvdW5kc1tpXSA9IEBwYXJhbXMuc291bmRzW2ldXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kQ2hhbmdlQ29sb3JzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgY29tbWFuZENoYW5nZUNvbG9yczogLT5cbiAgICAgICAgY29sb3JzID0gUmVjb3JkTWFuYWdlci5zeXN0ZW0uY29sb3JzXG4gICAgICAgIGZpZWxkRmxhZ3MgPSBAcGFyYW1zLmZpZWxkRmxhZ3MgfHwge31cbiAgICAgICAgXG4gICAgICAgIGZvciBjb2xvciwgaSBpbiBAcGFyYW1zLmNvbG9yc1xuICAgICAgICAgICAgaWYgIWdzLkNvbW1hbmRGaWVsZEZsYWdzLmlzTG9ja2VkKGZpZWxkRmxhZ3NbXCJjb2xvcnMuXCIraV0pXG4gICAgICAgICAgICAgICAgY29sb3JzW2ldID0gbmV3IGdzLkNvbG9yKEBwYXJhbXMuY29sb3JzW2ldKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZENoYW5nZVNjcmVlbkN1cnNvclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgIFxuICAgIGNvbW1hbmRDaGFuZ2VTY3JlZW5DdXJzb3I6IC0+XG4gICAgICAgIGlmIEBwYXJhbXMuZ3JhcGhpYz8ubmFtZT9cbiAgICAgICAgICAgIGJpdG1hcCA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je0BwYXJhbXMuZ3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICAgICAgR3JhcGhpY3Muc2V0Q3Vyc29yQml0bWFwKGJpdG1hcCwgQHBhcmFtcy5oeCwgQHBhcmFtcy5oeSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgR3JhcGhpY3Muc2V0Q3Vyc29yQml0bWFwKG51bGwsIDAsIDApXG4gICAgXG4gICAgIyMjKlxuICAgICogQG1ldGhvZCBjb21tYW5kUmVzZXRHbG9iYWxEYXRhXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICBcbiAgICBjb21tYW5kUmVzZXRHbG9iYWxEYXRhOiAtPlxuICAgICAgICBHYW1lTWFuYWdlci5yZXNldEdsb2JhbERhdGEoKVxuICAgIFxuICAgICMjIypcbiAgICAqIEBtZXRob2QgY29tbWFuZFNjcmlwdFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICBcbiAgICBjb21tYW5kU2NyaXB0OiAtPlxuICAgICAgICB0aGlzLmludGVycHJldGVyLmNvbW1hbmRUaW50UGljdHVyZVxuICAgICAgICB0cnlcbiAgICAgICAgICAgIGlmICFAcGFyYW1zLnNjcmlwdEZ1bmNcbiAgICAgICAgICAgICAgICBAcGFyYW1zLnNjcmlwdEZ1bmMgPSBldmFsKFwiKGZ1bmN0aW9uKCl7XCIgKyBAcGFyYW1zLnNjcmlwdCArIFwifSlcIilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEBwYXJhbXMuc2NyaXB0RnVuYygpXG4gICAgICAgIGNhdGNoIGV4XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhleClcbiAgICAgICAgICAgIFxud2luZG93LkNvbW1hbmRJbnRlcnByZXRlciA9IENvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXJcbmdzLkNvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXIgPSBDb21wb25lbnRfQ29tbWFuZEludGVycHJldGVyXG4gICAgXG4gICAgICAgIFxuICAgICAgICAiXX0=
//# sourceURL=Component_CommandInterpreter_162.js
(function() {


}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19
//# sourceURL=UI_165.js
var Component_TextBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_TextBehavior = (function(superClass) {
  extend(Component_TextBehavior, superClass);

  Component_TextBehavior.memoryUsage = 0;


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_TextBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.refresh();
  };


  /**
  * 
  *
  * @module gs
  * @class Component_TextBehavior
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_TextBehavior() {
    Component_TextBehavior.__super__.constructor.call(this);

    /**
    * @property text
    * @type string
    * @protected
     */
    this.text = "";

    /**
    * @property text
    * @type string
    * @protected
     */
    this.font = new Font(gs.Fonts.TEXT);

    /**
    * @property format
    * @type string
    * @protected
     */
    this.format = null;
  }


  /**
  * Disposes the component and bitmap.
  *
  * @method dispose
   */

  Component_TextBehavior.prototype.dispose = function() {
    if (this.object.bitmap != null) {
      this.object.bitmap.dispose();
      return this.object.bitmap = null;
    }
  };


  /**
  * Redraws the texts on game object's bitmap.
  *
  * @method redraw
   */

  Component_TextBehavior.prototype.redraw = function() {
    var ref, text;
    if (this.text != null) {
      this.object.bitmap.clear();
      this.object.bitmap.font = this.object.font;
      text = lcs(this.text);
      if (this.format != null) {
        text = sprintf(this.format, text);
      }
      if (this.object.formatting) {
        return this.object.textRenderer.drawFormattedText(0, 0, this.object.dstRect.width, this.object.bitmap.font.size, text, (ref = this.object.wordWrap) != null ? ref : true);
      } else {
        return this.object.textRenderer.drawText(0, 0, this.object.bitmap.width, this.object.bitmap.font.size, text);
      }
    }
  };


  /**
  * Updates the game object's <b>dstRect</b> so that the text fits in. That only works
  * if the game object's <b>sizeToFit</b> property is set.
  *
  * @method refreshSize
   */

  Component_TextBehavior.prototype.refreshSize = function() {
    var ref, size, text;
    if (this.object.text == null) {
      return;
    }
    this.text = this.object.text;
    text = lcs(this.text).toString();
    if (this.format != null) {
      text = sprintf(this.format, text);
    }
    if (this.object.sizeToFit) {
      this.object.font = this.object.font || this.font;
      if (this.object.formatting) {
        size = this.object.textRenderer.measureFormattedText(text, (ref = this.object.wordWrap) != null ? ref : true);
      } else {
        size = this.object.textRenderer.measureText(text);
      }
      if (!(this.object.sizeToFit.horizontal != null) || this.object.sizeToFit.horizontal) {
        this.object.dstRect.width = size.width;
      }
      if (!(this.object.sizeToFit.vertical != null) || this.object.sizeToFit.vertical) {
        return this.object.dstRect.height = size.height;
      }
    }
  };


  /**
  * Refreshes the texts on game object's bitmap.
  *
  * @method refresh
   */

  Component_TextBehavior.prototype.refresh = function() {
    var height, ref, ref1, ref2, width;
    if (this.object.text == null) {
      return;
    }
    width = ((ref = this.object.bitmap) != null ? ref.width : void 0) || 0;
    height = ((ref1 = this.object.bitmap) != null ? ref1.height : void 0) || 0;
    this.refreshSize();
    if (!this.object.bitmap || width !== this.object.dstRect.width || height !== this.object.dstRect.height) {
      if ((ref2 = this.object.bitmap) != null) {
        ref2.dispose();
      }
      this.object.bitmap = new Bitmap(this.object.dstRect.width, this.object.dstRect.height);
    } else {
      this.object.bitmap.clear();
    }
    this.object.bitmap.font = this.font;
    this.srcRect = new Rect(0, 0, this.object.dstRect.width, this.object.dstRect.height);
    this.object.srcRect = this.srcRect;
    return this.redraw();
  };


  /**
  * Action to append a specified text.
  *
  * @method addText
  * @param {Object} sender - The sender of the action.
  * @param {Object} params - The action's parameters.
   */

  Component_TextBehavior.prototype.addText = function(sender, params) {
    return this.object.text += ui.Component_FormulaHandler.fieldValue(sender, params.text);
  };


  /**
  * Updates the component. Checks if the game object's bitmap needs a refresh
  * and maybe disposes the bitmap if the game object's is out of the
  * screen and memory usage is too high.
  *
  * @method update
   */

  Component_TextBehavior.prototype.update = function() {
    var ref, visible;
    Component_TextBehavior.__super__.update.apply(this, arguments);
    visible = this.object.visual.visible;
    if (!this.object.bitmap || this.object.bitmap.width !== this.object.dstRect.width || this.object.bitmap.height !== this.object.dstRect.height || ((ref = lcs(this.object.text)) != null ? ref.toString() : void 0) !== lcs(this.text)) {
      return this.refresh();
    }
  };

  return Component_TextBehavior;

})(gs.Component);

gs.Component_TextBehavior = Component_TextBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsc0JBQUE7RUFBQTs7O0FBQU07OztFQUNGLHNCQUFDLENBQUEsV0FBRCxHQUFjOzs7QUFFZDs7Ozs7Ozs7O21DQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLE9BQUQsQ0FBQTtFQURpQjs7O0FBR3JCOzs7Ozs7Ozs7O0VBU2EsZ0NBQUE7SUFDVCxzREFBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFROztBQUVSOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxJQUFBLENBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFkOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7RUF0QkQ7OztBQXdCYjs7Ozs7O21DQUtBLE9BQUEsR0FBUyxTQUFBO0lBQ0wsSUFBRywwQkFBSDtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQWYsQ0FBQTthQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixLQUZyQjs7RUFESzs7O0FBS1Q7Ozs7OzttQ0FLQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxJQUFHLGlCQUFIO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBZixDQUFBO01BQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBZixHQUFzQixJQUFDLENBQUEsTUFBTSxDQUFDO01BQzlCLElBQUEsR0FBTyxHQUFBLENBQUksSUFBQyxDQUFBLElBQUw7TUFDUCxJQUFHLG1CQUFIO1FBQ0ksSUFBQSxHQUFPLE9BQUEsQ0FBUSxJQUFDLENBQUEsTUFBVCxFQUFpQixJQUFqQixFQURYOztNQUdBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFYO2VBQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxZQUFZ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QUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUEzQixFQUFtQyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFuRDtJQUNmLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixHQUFrQixJQUFDLENBQUE7V0FDbkIsSUFBQyxDQUFBLE1BQUQsQ0FBQTtFQWhCSzs7O0FBa0JUOzs7Ozs7OzttQ0FPQSxPQUFBLEdBQVMsU0FBQyxNQUFELEVBQVMsTUFBVDtXQUNMLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixJQUFnQixFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsTUFBTSxDQUFDLElBQXREO0VBRFg7OztBQUdUOzs7Ozs7OzttQ0FPQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxvREFBQSxTQUFBO0lBQ0EsT0FBQSxHQUFVLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBRXpCLElBQUksQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVQsSUFBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBZixLQUF3QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUEzRCxJQUFvRSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFmLEtBQXlCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQTdHLGdEQUF3SSxDQUFFLFFBQW5CLENBQUEsV0FBQSxLQUFpQyxHQUFBLENBQUksSUFBQyxDQUFBLElBQUwsQ0FBNUo7YUFDSSxJQUFDLENBQUEsT0FBRCxDQUFBLEVBREo7O0VBSkk7Ozs7R0E3SXlCLEVBQUUsQ0FBQzs7QUFvSnhDLEVBQUUsQ0FBQyxzQkFBSCxHQUE0QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1RleHRCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1RleHRCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgIEBtZW1vcnlVc2FnZTogMFxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGxlZCBpZiB0aGlzIG9iamVjdCBpbnN0YW5jZSBpcyByZXN0b3JlZCBmcm9tIGEgZGF0YS1idW5kbGUuIEl0IGNhbiBiZSB1c2VkXG4gICAgKiByZS1hc3NpZ24gZXZlbnQtaGFuZGxlciwgYW5vbnltb3VzIGZ1bmN0aW9ucywgZXRjLlxuICAgICogXG4gICAgKiBAbWV0aG9kIG9uRGF0YUJ1bmRsZVJlc3RvcmUuXG4gICAgKiBAcGFyYW0gT2JqZWN0IGRhdGEgLSBUaGUgZGF0YS1idW5kbGVcbiAgICAqIEBwYXJhbSBncy5PYmplY3RDb2RlY0NvbnRleHQgY29udGV4dCAtIFRoZSBjb2RlYy1jb250ZXh0LlxuICAgICMjI1xuICAgIG9uRGF0YUJ1bmRsZVJlc3RvcmU6IChkYXRhLCBjb250ZXh0KSAtPlxuICAgICAgICBAcmVmcmVzaCgpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfVGV4dEJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICgpIC0+XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHRleHRcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAdGV4dCA9IFwiXCJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgdGV4dFxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmb250ID0gbmV3IEZvbnQoZ3MuRm9udHMuVEVYVClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgZm9ybWF0XG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGZvcm1hdCA9IG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGNvbXBvbmVudCBhbmQgYml0bWFwLlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIGlmIEBvYmplY3QuYml0bWFwP1xuICAgICAgICAgICAgQG9iamVjdC5iaXRtYXAuZGlzcG9zZSgpXG4gICAgICAgICAgICBAb2JqZWN0LmJpdG1hcCA9IG51bGxcbiAgICBcbiAgICAjIyMqXG4gICAgKiBSZWRyYXdzIHRoZSB0ZXh0cyBvbiBnYW1lIG9iamVjdCdzIGJpdG1hcC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlZHJhd1xuICAgICMjI1xuICAgIHJlZHJhdzogLT5cbiAgICAgICAgaWYgQHRleHQ/XG4gICAgICAgICAgICBAb2JqZWN0LmJpdG1hcC5jbGVhcigpXG4gICAgICAgICAgICBAb2JqZWN0LmJpdG1hcC5mb250ID0gQG9iamVjdC5mb250XG4gICAgICAgICAgICB0ZXh0ID0gbGNzKEB0ZXh0KVxuICAgICAgICAgICAgaWYgQGZvcm1hdD9cbiAgICAgICAgICAgICAgICB0ZXh0ID0gc3ByaW50ZihAZm9ybWF0LCB0ZXh0KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQG9iamVjdC5mb3JtYXR0aW5nXG4gICAgICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIuZHJhd0Zvcm1hdHRlZFRleHQoMCwgMCwgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmJpdG1hcC5mb250LnNpemUsIHRleHQsIEBvYmplY3Qud29yZFdyYXAgPyB5ZXMpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQG9iamVjdC50ZXh0UmVuZGVyZXIuZHJhd1RleHQoMCwgMCwgQG9iamVjdC5iaXRtYXAud2lkdGgsIEBvYmplY3QuYml0bWFwLmZvbnQuc2l6ZSwgdGV4dClcblxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGdhbWUgb2JqZWN0J3MgPGI+ZHN0UmVjdDwvYj4gc28gdGhhdCB0aGUgdGV4dCBmaXRzIGluLiBUaGF0IG9ubHkgd29ya3NcbiAgICAqIGlmIHRoZSBnYW1lIG9iamVjdCdzIDxiPnNpemVUb0ZpdDwvYj4gcHJvcGVydHkgaXMgc2V0LlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVmcmVzaFNpemVcbiAgICAjIyNcbiAgICByZWZyZXNoU2l6ZTogLT5cbiAgICAgICAgaWYgbm90IEBvYmplY3QudGV4dD8gdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEB0ZXh0ID0gQG9iamVjdC50ZXh0XG4gICAgICAgIHRleHQgPSBsY3MoQHRleHQpLnRvU3RyaW5nKClcbiAgICAgICAgXG4gICAgICAgIGlmIEBmb3JtYXQ/XG4gICAgICAgICAgICB0ZXh0ID0gc3ByaW50ZihAZm9ybWF0LCB0ZXh0KVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Quc2l6ZVRvRml0XG4gICAgICAgICAgICBAb2JqZWN0LmZvbnQgPSBAb2JqZWN0LmZvbnQgfHwgQGZvbnRcbiAgICAgICAgICAgIGlmIEBvYmplY3QuZm9ybWF0dGluZ1xuICAgICAgICAgICAgICAgIHNpemUgPSBAb2JqZWN0LnRleHRSZW5kZXJlci5tZWFzdXJlRm9ybWF0dGVkVGV4dCh0ZXh0LCBAb2JqZWN0LndvcmRXcmFwID8geWVzKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNpemUgPSBAb2JqZWN0LnRleHRSZW5kZXJlci5tZWFzdXJlVGV4dCh0ZXh0KVxuICAgICAgICAgICAgaWYgIShAb2JqZWN0LnNpemVUb0ZpdC5ob3Jpem9udGFsPykgb3IgQG9iamVjdC5zaXplVG9GaXQuaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCA9IHNpemUud2lkdGhcbiAgICAgICAgICAgIGlmICEoQG9iamVjdC5zaXplVG9GaXQudmVydGljYWw/KSBvciBAb2JqZWN0LnNpemVUb0ZpdC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgPSBzaXplLmhlaWdodFxuICAgIFxuICAgICMjIypcbiAgICAqIFJlZnJlc2hlcyB0aGUgdGV4dHMgb24gZ2FtZSBvYmplY3QncyBiaXRtYXAuXG4gICAgKlxuICAgICogQG1ldGhvZCByZWZyZXNoXG4gICAgIyMjICAgICAgICAgICAgXG4gICAgcmVmcmVzaDogLT5cbiAgICAgICAgaWYgbm90IEBvYmplY3QudGV4dD8gdGhlbiByZXR1cm5cblxuICAgICAgICB3aWR0aCA9IEBvYmplY3QuYml0bWFwPy53aWR0aCB8fCAwXG4gICAgICAgIGhlaWdodCA9IEBvYmplY3QuYml0bWFwPy5oZWlnaHQgfHwgMFxuICAgICAgICBAcmVmcmVzaFNpemUoKVxuICAgICAgICBcbiAgICAgICAgaWYoIUBvYmplY3QuYml0bWFwIG9yIHdpZHRoICE9IEBvYmplY3QuZHN0UmVjdC53aWR0aCBvciBoZWlnaHQgIT0gQG9iamVjdC5kc3RSZWN0LmhlaWdodClcbiAgICAgICAgICAgIEBvYmplY3QuYml0bWFwPy5kaXNwb3NlKClcbiAgICAgICAgICAgIEBvYmplY3QuYml0bWFwID0gbmV3IEJpdG1hcChAb2JqZWN0LmRzdFJlY3Qud2lkdGggLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAb2JqZWN0LmJpdG1hcC5jbGVhcigpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LmJpdG1hcC5mb250ID0gQGZvbnRcbiAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCBAb2JqZWN0LmRzdFJlY3Qud2lkdGggLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICBAb2JqZWN0LnNyY1JlY3QgPSBAc3JjUmVjdFxuICAgICAgICBAcmVkcmF3KClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gdG8gYXBwZW5kIGEgc3BlY2lmaWVkIHRleHQuXG4gICAgKlxuICAgICogQG1ldGhvZCBhZGRUZXh0XG4gICAgKiBAcGFyYW0ge09iamVjdH0gc2VuZGVyIC0gVGhlIHNlbmRlciBvZiB0aGUgYWN0aW9uLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBhY3Rpb24ncyBwYXJhbWV0ZXJzLlxuICAgICMjIyAgXG4gICAgYWRkVGV4dDogKHNlbmRlciwgcGFyYW1zKSAtPlxuICAgICAgICBAb2JqZWN0LnRleHQgKz0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc2VuZGVyLCBwYXJhbXMudGV4dClcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50LiBDaGVja3MgaWYgdGhlIGdhbWUgb2JqZWN0J3MgYml0bWFwIG5lZWRzIGEgcmVmcmVzaFxuICAgICogYW5kIG1heWJlIGRpc3Bvc2VzIHRoZSBiaXRtYXAgaWYgdGhlIGdhbWUgb2JqZWN0J3MgaXMgb3V0IG9mIHRoZVxuICAgICogc2NyZWVuIGFuZCBtZW1vcnkgdXNhZ2UgaXMgdG9vIGhpZ2guXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgdmlzaWJsZSA9IEBvYmplY3QudmlzdWFsLnZpc2libGVcbiAgICAgICAgICAgIFxuICAgICAgICBpZiAoIUBvYmplY3QuYml0bWFwIG9yIEBvYmplY3QuYml0bWFwLndpZHRoICE9IEBvYmplY3QuZHN0UmVjdC53aWR0aCBvciBAb2JqZWN0LmJpdG1hcC5oZWlnaHQgIT0gQG9iamVjdC5kc3RSZWN0LmhlaWdodCBvciBsY3MoQG9iamVjdC50ZXh0KT8udG9TdHJpbmcoKSAhPSBsY3MoQHRleHQpKVxuICAgICAgICAgICAgQHJlZnJlc2goKVxuICAgIFxuZ3MuQ29tcG9uZW50X1RleHRCZWhhdmlvciA9IENvbXBvbmVudF9UZXh0QmVoYXZpb3IiXX0=
//# sourceURL=Component_TextBehavior_4.js
var Component_HotspotBehavior, HotspotShape,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

HotspotShape = (function() {
  function HotspotShape() {}

  HotspotShape.RECTANGLE = "rect";

  HotspotShape.PIXEL = "pixel";

  return HotspotShape;

})();

gs.HotspotShape = HotspotShape;

Component_HotspotBehavior = (function(superClass) {
  extend(Component_HotspotBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_HotspotBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * Adds a hotspot-behavior to a game object. That allows a game object
  * to respond to mouse/touch actions by firing an action-event or changing
  * the game object's image.
  *
  * @module gs
  * @class Component_HotspotBehavior
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_HotspotBehavior(params) {

    /**
    * The shape used to detect if a hotspot is clicked, hovered, etc.
    * @property shape
    * @type boolean
     */
    var ref;
    this.shape = gs.HotspotShape.RECTANGLE;

    /**
    * Indicates if the hotspot is selected.
    * @property selected
    * @type boolean
     */
    this.selected = false;

    /**
    * Indicates if the hotspot is enabled.
    * @property enabled
    * @type boolean
     */
    this.enabled = true;

    /**
    * @property imageHandling
    * @type number
    * @protected
     */
    this.imageHandling = 0;

    /**
    * Indicates if the mouse/touch pointer is inside the hotspot bounds.
    * @property contains
    * @type boolean
    * @protected
     */
    this.containsPointer = false;

    /**
    * Indicates if the action-button was pressed before.
    * @property buttonUp
    * @type boolean
    * @protected
     */
    this.buttonUp = false;

    /**
    * Indicates if the action-button is pressed.
    * @property buttonDown
    * @type boolean
    * @protected
     */
    this.buttonDown = false;

    /**
    * @property actionButtons
    * @type Object
    * @protected
     */
    this.actionButtons = {
      "left": Input.Mouse.BUTTON_LEFT,
      "right": Input.Mouse.BUTTON_RIGHT,
      "middle": Input.Mouse.BUTTON_MIDDLE
    };

    /**
    * The default action-button. By default the left-button is used.
    *
    * @property actionButton
    * @type number
     */
    this.actionButton = this.actionButtons[(ref = params != null ? params.actionButton : void 0) != null ? ref : "left"];

    /**
    * The sound played if the hotspot action is executed.
    * @property sound
    * @type Object
     */
    this.sound = params != null ? params.sound : void 0;

    /**
    * <p>The sounds played depending on the hotspot state.</p>
    * <ul>
    * <li>0 = Select Sound</li>
    * <li>1 = Unselect Sound</li>
    * </ul>
    * @property sounds
    * @type Object[]
     */
    this.sounds = (params != null ? params.sounds : void 0) || [];
  }

  Component_HotspotBehavior.prototype.checkShape = function(x, y) {
    var result;
    result = true;
    switch (this.shape) {
      case gs.HotspotShape.PIXEL:
        result = this.object.bitmap.isPixelSet(x, y);
    }
    return result;
  };

  Component_HotspotBehavior.prototype.setupEventHandlers = function() {
    gs.GlobalEventManager.on("mouseUp", ((function(_this) {
      return function(e) {
        var contains, mx, my;
        mx = Input.Mouse.x - _this.object.origin.x;
        my = Input.Mouse.y - _this.object.origin.y;
        contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, mx, my);
        if (contains) {
          contains = _this.checkShape(mx - _this.object.dstRect.x, my - _this.object.dstRect.y);
          if (contains) {
            _this.containsPointer = contains;
            _this.updateInput();
            _this.updateEvents();
            _this.object.needsUpdate = true;
            return e.breakChain = true;
          }
        }
      };
    })(this)), null, this.object);
    if (this.object.images) {
      return gs.GlobalEventManager.on("mouseMoved", ((function(_this) {
        return function(e) {
          var contains, mx, my;
          contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
          if (contains) {
            mx = Input.Mouse.x - _this.object.origin.x;
            my = Input.Mouse.y - _this.object.origin.y;
            contains = _this.checkShape(mx - _this.object.dstRect.x, my - _this.object.dstRect.y);
          }
          if (_this.containsPointer !== contains) {
            _this.containsPointer = contains;
            _this.object.needsUpdate = true;
            if (contains) {
              _this.object.events.emit("enter", _this);
            } else {
              _this.object.events.emit("leave", _this);
            }
          }
          return _this.updateInput();
        };
      })(this)), null, this.object);
    }
  };


  /**
  * Initializes the hotspot component.
  *
  * @method setup
   */

  Component_HotspotBehavior.prototype.setup = function() {
    var i, j, len, ref, sound;
    Component_HotspotBehavior.__super__.setup.apply(this, arguments);
    this.sound = ui.Component_FormulaHandler.fieldValue(this.object, this.sound);
    if (this.sounds != null) {
      ref = this.sounds;
      for (i = j = 0, len = ref.length; j < len; i = ++j) {
        sound = ref[i];
        this.sounds[i] = ui.Component_FormulaHandler.fieldValue(this.object, sound);
      }
    } else {
      this.sounds = [];
    }
    return this.setupEventHandlers();
  };


  /**
  * Disposes the component.
  *
  * @method dispose
   */

  Component_HotspotBehavior.prototype.dispose = function() {
    Component_HotspotBehavior.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    return gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
  };


  /**
  * Updates the image depending on the hotspot state.
  *
  * @method updateImage
  * @protected
   */

  Component_HotspotBehavior.prototype.updateImage = function() {
    var baseImage, object;
    object = this.object.target || this.object;
    if (this.object.images != null) {
      baseImage = this.enabled ? this.object.images[4] || this.object.images[0] : this.object.images[0];
      if (this.containsPointer) {
        if (this.object.selected || this.selected) {
          object.image = this.object.images[3] || this.object.images[2] || baseImage;
        } else {
          object.image = this.object.images[1] || baseImage;
        }
      } else {
        if (this.object.selected || this.selected) {
          object.image = this.object.images[2] || this.object.images[4] || baseImage;
        } else {
          object.image = baseImage;
        }
      }
      if (!object.image) {
        return object.bitmap = null;
      }
    }
  };


  /**
  * Updates the hotspot position and size from an other target game object. For example, 
  * that is useful for adding a hotspot to an other moving game object.
  *
  * @method updateFromTarget
  * @protected
   */

  Component_HotspotBehavior.prototype.updateFromTarget = function() {
    if (this.object.target != null) {
      this.object.dstRect.x = this.object.target.dstRect.x;
      this.object.dstRect.y = this.object.target.dstRect.y;
      this.object.dstRect.width = this.object.target.dstRect.width;
      this.object.dstRect.height = this.object.target.dstRect.height;
      this.object.offset.x = this.object.target.offset.x;
      this.object.offset.y = this.object.target.offset.y;
      this.object.origin.x = this.object.target.origin.x;
      return this.object.origin.y = this.object.target.origin.y;
    }
  };


  /**
  * Updates the event-handling and fires necessary events.
  *
  * @method updateEvents
  * @protected
   */

  Component_HotspotBehavior.prototype.updateEvents = function() {
    var group, j, len, object;
    if (this.buttonUp && this.object.enabled && this.enabled && this.object.visible) {
      if (this.object.selectable) {
        group = gs.ObjectManager.current.objectsByGroup(this.object.group);
        for (j = 0, len = group.length; j < len; j++) {
          object = group[j];
          if (object !== this.object) {
            object.selected = false;
          }
        }
        if (this.object.group) {
          this.selected = true;
        } else {
          this.selected = !this.selected;
        }
        if (this.selected) {
          AudioManager.playSound(this.sounds[0] || this.sound);
        } else {
          AudioManager.playSound(this.sounds[1] || this.sound);
        }
        this.object.events.emit("click", this);
        return this.object.events.emit("stateChanged", this.object);
      } else {
        AudioManager.playSound(this.sounds[0] || this.sound);
        this.object.events.emit("click", this);
        return this.object.events.emit("action", this);
      }
    }
  };


  /**
  * Updates the game object's color depending on the state of the hotspot.
  *
  * @method updateColor
  * @protected
   */

  Component_HotspotBehavior.prototype.updateColor = function() {
    if (!this.object.enabled) {
      return this.object.color.set(0, 0, 0, 100);
    } else {
      return this.object.color.set(0, 0, 0, 0);
    }
  };


  /**
  * Stores current states of mouse/touch pointer and buttons.
  *
  * @method updateInput
  * @protected
   */

  Component_HotspotBehavior.prototype.updateInput = function() {
    this.buttonUp = Input.Mouse.buttons[this.actionButton] === 2 && this.containsPointer;
    return this.buttonDown = Input.Mouse.buttons[this.actionButton] === 1 && this.containsPointer;
  };


  /**
  * Updates the hotspot component.
  *
  * @method update
   */

  Component_HotspotBehavior.prototype.update = function() {
    if (!this.object.visible) {
      return;
    }
    this.updateColor();
    this.updateFromTarget();
    return this.updateImage();
  };

  return Component_HotspotBehavior;

})(gs.Component);

gs.Component_HotspotBehavior = Component_HotspotBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUEsdUNBQUE7RUFBQTs7O0FBQU07OztFQUNGLFlBQUMsQ0FBQSxTQUFELEdBQWE7O0VBQ2IsWUFBQyxDQUFBLEtBQUQsR0FBUzs7Ozs7O0FBQ2IsRUFBRSxDQUFDLFlBQUgsR0FBa0I7O0FBRVo7Ozs7QUFDRjs7Ozs7Ozs7O3NDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7O0VBV2EsbUNBQUMsTUFBRDs7QUFDVDs7Ozs7QUFBQSxRQUFBO0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxFQUFFLENBQUMsWUFBWSxDQUFDOztBQUV6Qjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsZUFBRCxHQUFtQjs7QUFFbkI7Ozs7OztJQU1BLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7OztJQU1BLElBQUMsQ0FBQSxVQUFELEdBQWM7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7TUFBRSxNQUFBLEVBQVEsS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUF0QjtNQUFtQyxPQUFBLEVBQVMsS0FBSyxDQUFDLEtBQUssQ0FBQyxZQUF4RDtNQUFzRSxRQUFBLEVBQVUsS0FBSyxDQUFDLEtBQUssQ0FBQyxhQUE1Rjs7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFDLENBQUEsYUFBYyx1RUFBdUIsTUFBdkI7O0FBRS9COzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELG9CQUFTLE1BQU0sQ0FBRTs7QUFFakI7Ozs7Ozs7OztJQVNBLElBQUMs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UzRCLEVBQUUsQ0FBQzs7QUEwUzNDLEVBQUUsQ0FBQyx5QkFBSCxHQUErQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBIb3RzcG90U2hhcGVcbiAgICBAUkVDVEFOR0xFID0gXCJyZWN0XCJcbiAgICBAUElYRUwgPSBcInBpeGVsXCJcbmdzLkhvdHNwb3RTaGFwZSA9IEhvdHNwb3RTaGFwZVxuXG5jbGFzcyBDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGEgaG90c3BvdC1iZWhhdmlvciB0byBhIGdhbWUgb2JqZWN0LiBUaGF0IGFsbG93cyBhIGdhbWUgb2JqZWN0XG4gICAgKiB0byByZXNwb25kIHRvIG1vdXNlL3RvdWNoIGFjdGlvbnMgYnkgZmlyaW5nIGFuIGFjdGlvbi1ldmVudCBvciBjaGFuZ2luZ1xuICAgICogdGhlIGdhbWUgb2JqZWN0J3MgaW1hZ2UuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKHBhcmFtcykgLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBzaGFwZSB1c2VkIHRvIGRldGVjdCBpZiBhIGhvdHNwb3QgaXMgY2xpY2tlZCwgaG92ZXJlZCwgZXRjLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzaGFwZVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBzaGFwZSA9IGdzLkhvdHNwb3RTaGFwZS5SRUNUQU5HTEVcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGhvdHNwb3QgaXMgc2VsZWN0ZWQuXG4gICAgICAgICogQHByb3BlcnR5IHNlbGVjdGVkXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHNlbGVjdGVkID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGhvdHNwb3QgaXMgZW5hYmxlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgZW5hYmxlZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBlbmFibGVkID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlSGFuZGxpbmdcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2VIYW5kbGluZyA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG1vdXNlL3RvdWNoIHBvaW50ZXIgaXMgaW5zaWRlIHRoZSBob3RzcG90IGJvdW5kcy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udGFpbnNcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbnRhaW5zUG9pbnRlciA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBhY3Rpb24tYnV0dG9uIHdhcyBwcmVzc2VkIGJlZm9yZS5cbiAgICAgICAgKiBAcHJvcGVydHkgYnV0dG9uVXBcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGJ1dHRvblVwID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGFjdGlvbi1idXR0b24gaXMgcHJlc3NlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgYnV0dG9uRG93blxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAYnV0dG9uRG93biA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGFjdGlvbkJ1dHRvbnNcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAYWN0aW9uQnV0dG9ucyA9IHsgXCJsZWZ0XCI6IElucHV0Lk1vdXNlLkJVVFRPTl9MRUZULCBcInJpZ2h0XCI6IElucHV0Lk1vdXNlLkJVVFRPTl9SSUdIVCwgXCJtaWRkbGVcIjogSW5wdXQuTW91c2UuQlVUVE9OX01JRERMRSB9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGRlZmF1bHQgYWN0aW9uLWJ1dHRvbi4gQnkgZGVmYXVsdCB0aGUgbGVmdC1idXR0b24gaXMgdXNlZC5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBhY3Rpb25CdXR0b25cbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhY3Rpb25CdXR0b24gPSBAYWN0aW9uQnV0dG9uc1twYXJhbXM/LmFjdGlvbkJ1dHRvbiA/IFwibGVmdFwiXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBzb3VuZCBwbGF5ZWQgaWYgdGhlIGhvdHNwb3QgYWN0aW9uIGlzIGV4ZWN1dGVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzb3VuZFxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHNvdW5kID0gcGFyYW1zPy5zb3VuZFxuXG4gICAgICAgICMjIypcbiAgICAgICAgKiA8cD5UaGUgc291bmRzIHBsYXllZCBkZXBlbmRpbmcgb24gdGhlIGhvdHNwb3Qgc3RhdGUuPC9wPlxuICAgICAgICAqIDx1bD5cbiAgICAgICAgKiA8bGk+MCA9IFNlbGVjdCBTb3VuZDwvbGk+XG4gICAgICAgICogPGxpPjEgPSBVbnNlbGVjdCBTb3VuZDwvbGk+XG4gICAgICAgICogPC91bD5cbiAgICAgICAgKiBAcHJvcGVydHkgc291bmRzXG4gICAgICAgICogQHR5cGUgT2JqZWN0W11cbiAgICAgICAgIyMjXG4gICAgICAgIEBzb3VuZHMgPSBwYXJhbXM/LnNvdW5kcyB8fCBbXVxuICAgIFxuICAgIGNoZWNrU2hhcGU6ICh4LCB5KSAtPlxuICAgICAgICByZXN1bHQgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCBAc2hhcGVcbiAgICAgICAgICAgIHdoZW4gZ3MuSG90c3BvdFNoYXBlLlBJWEVMXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQG9iamVjdC5iaXRtYXAuaXNQaXhlbFNldCh4LCB5KVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIHNldHVwRXZlbnRIYW5kbGVyczogLT5cbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VVcFwiLCAoKGUpID0+IFxuICAgICAgICAgICAgbXggPSBJbnB1dC5Nb3VzZS54IC0gQG9iamVjdC5vcmlnaW4ueFxuICAgICAgICAgICAgbXkgPSBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueVxuICAgICAgICAgICAgY29udGFpbnMgPSBSZWN0LmNvbnRhaW5zKEBvYmplY3QuZHN0UmVjdC54LCBAb2JqZWN0LmRzdFJlY3QueSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIG14LCBteSlcbiAgICAgICAgICAgIGlmIGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSBAY2hlY2tTaGFwZShteCAtIEBvYmplY3QuZHN0UmVjdC54LCBteSAtIEBvYmplY3QuZHN0UmVjdC55KVxuXG4gICAgICAgICAgICAgICAgaWYgY29udGFpbnMgICBcbiAgICAgICAgICAgICAgICAgICAgQGNvbnRhaW5zUG9pbnRlciA9IGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIEB1cGRhdGVJbnB1dCgpXG4gICAgICAgICAgICAgICAgICAgIEB1cGRhdGVFdmVudHMoKVxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgICAgICAgICAgIGUuYnJlYWtDaGFpbiA9IHllc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG51bGwsIEBvYmplY3RcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LmltYWdlc1xuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VNb3ZlZFwiLCAoKGUpID0+XG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSBSZWN0LmNvbnRhaW5zKEBvYmplY3QuZHN0UmVjdC54LCBAb2JqZWN0LmRzdFJlY3QueSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIG14ID0gSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLnhcbiAgICAgICAgICAgICAgICAgICAgbXkgPSBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueVxuICAgICAgICAgICAgICAgICAgICBjb250YWlucyA9IEBjaGVja1NoYXBlKG14IC0gQG9iamVjdC5kc3RSZWN0LngsIG15IC0gQG9iamVjdC5kc3RSZWN0LnkpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBjb250YWluc1BvaW50ZXIgIT0gY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgQGNvbnRhaW5zUG9pbnRlciA9IGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiZW50ZXJcIiwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5ldmVudHMuZW1pdChcImxlYXZlXCIsIHRoaXMpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgQHVwZGF0ZUlucHV0KClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBudWxsLCBAb2JqZWN0XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgaG90c3BvdCBjb21wb25lbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgQHNvdW5kID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoQG9iamVjdCwgQHNvdW5kKVxuICAgICAgICBcbiAgICAgICAgaWYgQHNvdW5kcz9cbiAgICAgICAgICAgIGZvciBzb3VuZCwgaSBpbiBAc291bmRzXG4gICAgICAgICAgICAgICAgQHNvdW5kc1tpXSA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKEBvYmplY3QsIHNvdW5kKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgIEBzb3VuZHMgPSBbXVxuICAgICAgICBcbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgICAgICAgICAgXG4gXG4gICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGNvbXBvbmVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyNcbiAgICBkaXNwb3NlOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJtb3VzZVVwXCIsIEBvYmplY3QpXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VNb3ZlZFwiLCBAb2JqZWN0KVxuICAgICAgICBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaW1hZ2UgZGVwZW5kaW5nIG9uIHRoZSBob3RzcG90IHN0YXRlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlSW1hZ2VcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgICAgXG4gICAgdXBkYXRlSW1hZ2U6IC0+XG4gICAgICAgIG9iamVjdCA9IEBvYmplY3QudGFyZ2V0IHx8IEBvYmplY3RcbiAgICAgICAgaWYgQG9iamVjdC5pbWFnZXM/XG4gICAgICAgICAgICBiYXNlSW1hZ2UgPSBpZiBAZW5hYmxlZCB0aGVuIEBvYmplY3QuaW1hZ2VzWzRdIHx8IEBvYmplY3QuaW1hZ2VzWzBdIGVsc2UgQG9iamVjdC5pbWFnZXNbMF1cbiAgICAgICAgICAgIGlmIEBjb250YWluc1BvaW50ZXJcbiAgICAgICAgICAgICAgICBpZiBAb2JqZWN0LnNlbGVjdGVkIG9yIEBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuaW1hZ2UgPSBAb2JqZWN0LmltYWdlc1szXSB8fCBAb2JqZWN0LmltYWdlc1syXSB8fCBiYXNlSW1hZ2VcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbWFnZSA9IEBvYmplY3QuaW1hZ2VzWzFdIHx8IGJhc2VJbWFnZVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGlmIEBvYmplY3Quc2VsZWN0ZWQgb3IgQHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbWFnZSA9IEBvYmplY3QuaW1hZ2VzWzJdIHx8IEBvYmplY3QuaW1hZ2VzWzRdIHx8IGJhc2VJbWFnZVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmltYWdlID0gYmFzZUltYWdlXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgIW9iamVjdC5pbWFnZVxuICAgICAgICAgICAgICAgIG9iamVjdC5iaXRtYXAgPSBudWxsXG5cbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBob3RzcG90IHBvc2l0aW9uIGFuZCBzaXplIGZyb20gYW4gb3RoZXIgdGFyZ2V0IGdhbWUgb2JqZWN0LiBGb3IgZXhhbXBsZSwgXG4gICAgKiB0aGF0IGlzIHVzZWZ1bCBmb3IgYWRkaW5nIGEgaG90c3BvdCB0byBhbiBvdGhlciBtb3ZpbmcgZ2FtZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVGcm9tVGFyZ2V0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIHVwZGF0ZUZyb21UYXJnZXQ6IC0+XG4gICAgICAgIGlmIEBvYmplY3QudGFyZ2V0P1xuICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnggPSBAb2JqZWN0LnRhcmdldC5kc3RSZWN0LnhcbiAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC50YXJnZXQuZHN0UmVjdC55XG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGggPSBAb2JqZWN0LnRhcmdldC5kc3RSZWN0LndpZHRoXG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ID0gQG9iamVjdC50YXJnZXQuZHN0UmVjdC5oZWlnaHRcbiAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSBAb2JqZWN0LnRhcmdldC5vZmZzZXQueFxuICAgICAgICAgICAgQG9iamVjdC5vZmZzZXQueSA9IEBvYmplY3QudGFyZ2V0Lm9mZnNldC55XG4gICAgICAgICAgICBAb2JqZWN0Lm9yaWdpbi54ID0gQG9iamVjdC50YXJnZXQub3JpZ2luLnhcbiAgICAgICAgICAgIEBvYmplY3Qub3JpZ2luLnkgPSBAb2JqZWN0LnRhcmdldC5vcmlnaW4ueSBcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgZXZlbnQtaGFuZGxpbmcgYW5kIGZpcmVzIG5lY2Vzc2FyeSBldmVudHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVFdmVudHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgIFxuICAgIHVwZGF0ZUV2ZW50czogLT5cbiAgICAgICAgaWYgQGJ1dHRvblVwIGFuZCBAb2JqZWN0LmVuYWJsZWQgYW5kIEBlbmFibGVkIGFuZCBAb2JqZWN0LnZpc2libGVcbiAgICAgICAgICAgIGlmIEBvYmplY3Quc2VsZWN0YWJsZVxuICAgICAgICAgICAgICAgIGdyb3VwID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdHNCeUdyb3VwKEBvYmplY3QuZ3JvdXApXG4gICAgICAgICAgICAgICAgZm9yIG9iamVjdCBpbiBncm91cFxuICAgICAgICAgICAgICAgICAgICBpZiBvYmplY3QgIT0gQG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNlbGVjdGVkID0gbm9cbiAgICAgICAgICAgICAgICBpZiBAb2JqZWN0Lmdyb3VwXG4gICAgICAgICAgICAgICAgICAgIEBzZWxlY3RlZCA9IHllc1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQHNlbGVjdGVkID0gIUBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIucGxheVNvdW5kKEBzb3VuZHNbMF0gfHwgQHNvdW5kKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlTb3VuZChAc291bmRzWzFdIHx8IEBzb3VuZClcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiY2xpY2tcIiwgdGhpcylcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwic3RhdGVDaGFuZ2VkXCIsIEBvYmplY3QpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlTb3VuZChAc291bmRzWzBdIHx8IEBzb3VuZClcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiY2xpY2tcIiwgdGhpcylcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmV2ZW50cy5lbWl0KFwiYWN0aW9uXCIsIHRoaXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgZ2FtZSBvYmplY3QncyBjb2xvciBkZXBlbmRpbmcgb24gdGhlIHN0YXRlIG9mIHRoZSBob3RzcG90LlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29sb3JcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIHVwZGF0ZUNvbG9yOiAtPlxuICAgICAgICBpZiAhQG9iamVjdC5lbmFibGVkXG4gICAgICAgICAgICBAb2JqZWN0LmNvbG9yLnNldCgwLCAwLCAwLCAxMDApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBvYmplY3QuY29sb3Iuc2V0KDAsIDAsIDAsIDApXG4gICAgIFxuICAgICMjIypcbiAgICAqIFN0b3JlcyBjdXJyZW50IHN0YXRlcyBvZiBtb3VzZS90b3VjaCBwb2ludGVyIGFuZCBidXR0b25zLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlSW5wdXRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgIFxuICAgIHVwZGF0ZUlucHV0OiAtPlxuICAgICAgICBAYnV0dG9uVXAgPSBJbnB1dC5Nb3VzZS5idXR0b25zW0BhY3Rpb25CdXR0b25dID09IDIgYW5kIEBjb250YWluc1BvaW50ZXJcbiAgICAgICAgQGJ1dHRvbkRvd24gPSBJbnB1dC5Nb3VzZS5idXR0b25zW0BhY3Rpb25CdXR0b25dID09IDEgYW5kIEBjb250YWluc1BvaW50ZXJcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgaG90c3BvdCBjb21wb25lbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIGlmIG5vdCBAb2JqZWN0LnZpc2libGUgdGhlbiByZXR1cm5cblxuICAgICAgICBAdXBkYXRlQ29sb3IoKVxuICAgICAgICBAdXBkYXRlRnJvbVRhcmdldCgpXG4gICAgICAgIEB1cGRhdGVJbWFnZSgpXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvciA9IENvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IiXX0=
//# sourceURL=Component_HotspotBehavior_16.js
var Component_Draggable,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Draggable = (function(superClass) {
  extend(Component_Draggable, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_Draggable.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * Makes a game object draggable using mouse/touch. The dragging can be
  * vertical, horizontal or both. It can be configured as pixel-wise or 
  * step-wise dragging. For example: To create a slider for UI with
  * fixed steps, step-wise is useful while a pixel-wise dragging could
  * be used for a volume-slider.
  *
  * @module gs
  * @class Component_Draggable
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_Draggable() {

    /**
    * Mouse/Pointer x coordinate
    * @property mx
    * @type number
     */
    this.mx = 0;

    /**
    * Mouse/Pointer y coordinate
    * @property my
    * @type number
     */
    this.my = 0;

    /**
    * Stepping in pixels.
    * @property stepSize
    * @type gs.Point
     */
    this.stepSize = {
      x: 0,
      y: 0
    };

    /**
    * Drag Area
    * @property rect
    * @type gs.Rect
     */
    this.rect = null;
  }


  /**
  * Adds event-handler for mouse/touch events to update the component only if 
  * a user-action happened.
  *
  * @method setupEventHandlers
   */

  Component_Draggable.prototype.setupEventHandlers = function() {
    gs.GlobalEventManager.on("mouseMoved", ((function(_this) {
      return function() {
        var rect, ref, x, y;
        rect = (ref = _this.object.draggable) != null ? ref.rect : void 0;
        x = Input.Mouse.x - _this.object.origin.x;
        y = Input.Mouse.y - _this.object.origin.y;
        if (_this.object.dragging || rect.contains(x, y)) {
          return _this.object.needsUpdate = true;
        }
      };
    })(this)), null, this.object);
    return gs.GlobalEventManager.on("mouseDown", ((function(_this) {
      return function() {
        var rect, ref, x, y;
        rect = (ref = _this.object.draggable) != null ? ref.rect : void 0;
        x = Input.Mouse.x - _this.object.origin.x;
        y = Input.Mouse.y - _this.object.origin.y;
        if (rect.contains(x, y)) {
          return _this.object.needsUpdate = true;
        }
      };
    })(this)), null, this.object);
  };


  /**
  * Initializes the component. Adds event-handler for mouse/touch events to
  * update the component only if a user-action happened.
  *
  * @method setup
   */

  Component_Draggable.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Disposes the component.
  *
  * @method dispose
   */

  Component_Draggable.prototype.dispose = function() {
    Component_Draggable.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("mouseDown", this.object);
    return gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
  };


  /**
  * Updates the dragging-process on x-axis if configured.
  *
  * @method updateAxisX
  * @protected
   */

  Component_Draggable.prototype.updateAxisX = function() {
    var ref;
    if ((ref = this.object.draggable.axisX) != null ? ref : true) {
      if (this.object.dragging) {
        this.object.draggable.step = Math.round(Math.max(this.rect.x, Math.min(this.mx - this.object.dstRect.width / 2, this.rect.x + this.rect.width - this.object.dstRect.width)) / this.stepSize.x);
        return this.object.dstRect.x = this.object.draggable.step * this.stepSize.x;
      } else if (this.object.draggable.steps != null) {
        return this.object.dstRect.x = this.object.draggable.step * this.stepSize.x;
      }
    }
  };


  /**
  * Updates the dragging-process on y-axis if configured.
  *
  * @method updateAxisY
  * @protected
   */

  Component_Draggable.prototype.updateAxisY = function() {
    var ref;
    if ((ref = this.object.draggable.axisY) != null ? ref : true) {
      if (this.object.dragging) {
        this.object.draggable.step = Math.round(Math.max(this.rect.y, Math.min(this.my - this.object.dstRect.height / 2, this.rect.y + this.rect.height - this.object.dstRect.height)) / this.stepSize.y);
        return this.object.dstRect.y = this.object.draggable.step * this.stepSize.y;
      } else if (this.object.draggable.steps != null) {
        return this.object.dstRect.y = this.object.draggable.step * this.stepSize.y;
      }
    }
  };


  /**
  * Calculates the size of a single step if steps are configured for this
  * component. Otherwise the step-size 1-pixel.
  *
  * @method updateDragging
  * @protected
   */

  Component_Draggable.prototype.updateStepSize = function() {
    if (this.object.draggable.steps != null) {
      this.stepSize.x = (this.rect.width - this.object.dstRect.width) / (this.object.draggable.steps - 1);
      return this.stepSize.y = (this.rect.height - this.object.dstRect.height) / (this.object.draggable.steps - 1);
    } else {
      this.stepSize.x = 1;
      return this.stepSize.y = 1;
    }
  };


  /**
  * Updates the game object's dragging-state and fires a dragged-event
  * if necessary.
  *
  * @method updateDragging
  * @protected
   */

  Component_Draggable.prototype.updateDragging = function() {
    var pressed, ref, ref1, x, y;
    if (this.object.focusable && !this.object.ui.focused) {
      return;
    }
    x = Input.Mouse.x - this.object.origin.x;
    y = Input.Mouse.y - this.object.origin.y;
    pressed = Input.Mouse.buttons[Input.Mouse.LEFT] === 1;
    if ((this.mx !== x || this.my !== y) && pressed && this.rect.contains(x, y)) {
      if (!this.object.dragging) {
        this.object.dragging = true;
        if ((ref = this.object.events) != null) {
          ref.emit("dragStart", this.object);
        }
      }
      this.object.events.emit("drag", this.object);
    } else if (Input.Mouse.buttons[Input.Mouse.LEFT] === 2 || Input.Mouse.buttons[Input.Mouse.LEFT] === 0) {
      if (this.object.dragging) {
        this.object.dragging = false;
        if ((ref1 = this.object.events) != null) {
          ref1.emit("dragEnd", this.object);
        }
      }
    }
    this.mx = x;
    return this.my = y;
  };


  /**
  * Updates the dragging-logic.
  *
  * @method update
   */

  Component_Draggable.prototype.update = function() {
    var ref;
    this.rect = ((ref = this.object.draggable) != null ? ref.rect : void 0) || this.object.dstRect;
    this.updateStepSize();
    this.updateDragging();
    this.updateAxisX();
    return this.updateAxisY();
  };

  return Component_Draggable;

})(gs.Component);

ui.Draggable = Component_Draggable;

ui.Component_Draggable = Component_Draggable;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsbUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O2dDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7Ozs7RUFhYSw2QkFBQTs7QUFDVDs7Ozs7SUFLQSxJQUFDLENBQUEsRUFBRCxHQUFNOztBQUVOOzs7OztJQUtBLElBQUMsQ0FBQSxFQUFELEdBQU07O0FBRU47Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTtNQUFFLENBQUEsRUFBRyxDQUFMO01BQVEsQ0FBQSxFQUFHLENBQVg7OztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVE7RUEzQkM7OztBQTZCYjs7Ozs7OztnQ0FNQSxrQkFBQSxHQUFvQixTQUFBO0lBQ2hCLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxFQUF0QixDQUF5QixZQUF6QixFQUF1QyxDQUFFLENBQUEsU0FBQSxLQUFBO2FBQUEsU0FBQTtBQUNyQyxZQUFBO1FBQUEsSUFBQSwrQ0FBd0IsQ0FBRTtRQUMxQixDQUFBLEdBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFaLEdBQWdCLEtBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25DLENBQUEsR0FBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQVosR0FBZ0IsS0FBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBRyxLQUFDLENBQUEsTUFBTSxDQUFDLFFBQVIsSUFBb0IsSUFBSSxDQUFDLFFBQUwsQ0FBYyxDQUFkLEVBQWlCLENBQWpCLENBQXZCO2lCQUNJLEtBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUQxQjs7TUFKcUM7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUYsQ0FBdkMsRUFNRyxJQU5ILEVBTVMsSUFBQyxDQUFBLE1BTlY7V0FRQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBdEIsQ0FBeUIsV0FBekIsRUFBcUMsQ0FBRSxDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7QUFDbkMsWUFBQTtRQUFBLElBQUEsK0NBQXdCLENBQUU7UUFDMUIsQ0FBQSxHQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBWixHQUFnQixLQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQyxDQUFBLEdBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFaLEdBQWdCLEtBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25DLElBQUcsSUFBSSxDQUFDLFFBQUwsQ0FBYyxDQUFkLEVBQWlCLENBQWpCLENBQUg7aUJBQ0ksS0FBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLEdBQXNCLEtBRDFCOztNQUptQztJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBRixDQUFyQyxFQU1HLElBTkgsRUFNUyxJQUFDLENBQUEsTUFOVjtFQVRnQjs7O0FBaUJwQjs7Ozs7OztnQ0FNQSxLQUFBLEdBQU8sU0FBQTtXQUNILElBQUMsQ0FBQSxrQkFBRCxDQUFBO0VBREc7OztBQUdQOzs7Ozs7Z0NBS0EsT0FBQSxHQUFTLFNBQUE7SUFDTCxrREFBQSxTQUFBO0lBRUEsRUFBRSxDQUFDLGtCQUFrQixDQUFDLFVBQXRCLENBQWlDLFdBQWpDLEVBQThDLElBQUMsQ0FBQSxNQUEvQztXQUNBLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxVQUF0QixDQUFpQyxZQUFqQyxFQUErQyxJQUFDLENBQUEsTUFBaEQ7RUFKSzs7O0FBTVQ7Ozs7Ozs7Z0NBTUEsV0FBQSxHQUFhLFNBQUE7QUFDVCxRQUFBO0lBQUEsd0RBQThCLElBQTlCO01BQ0ksSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVg7UUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFsQixHQUF5QixJQUFJLENBQUMsS0FBTCxDQUFXLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLElBQUksQ0FBQyxDQUFmLEVBQWtCLElBQUksQ0FBQyxHQUFMLENBQVUsSUFBQyxDQUFBLEVBQUQsR0FBTSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFoQixHQUF3QixDQUF4QyxFQUE0QyxJQUFDLENBQUEsSUFBSSxDQUFDLENBQU4sR0FBUSxJQUFDLENBQUEsSUFBSSxDQUFDLEtBQWQsR0FBb0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBaEYsQ0FBbEIsQ0FBQSxHQUE0RyxJQUFDLENBQUEsUUFBUSxDQUFDLENBQWpJO2VBQ3pCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQWxCLEdBQXlCLElBQUMsQ0FBQSxRQUFRLENBQUMsRUFGM0Q7T0FBQSxNQUdLLElBQUcsbUNBQUg7ZUFDRCxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFsQixHQUF5QixJQUFDLENBQUEsUUFBUSxDQUFDLEVBRHREO09BSlQ7O0VBRFM7OztBQVFiOzs7Ozs7O2dDQU1BLFdBQUEsR0FBYSxTQUFBO0FBQ1QsUUFBQTtJQUFBLHdEQUE4QixJQUE5QjtNQUNJLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFYO1FBQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBbEIsR0FBeUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFJLENBQUMsR0FBTCxDQUFTLElBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBZixFQUFrQixJQUFJLENBQUMsR0FBTCxDQUFVLElBQUMsQ0FBQSxFQUFELEdBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUIsQ0FBekMsRUFBNkMsSUFBQyxDQUFBLElBQUksQ0FBQyxDQUFOLEdBQVEsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFkLEdBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWxGLENBQWxCLENBQUEsR0FBK0csSUFBQyxDQUFBLFFBQVEsQ0FBQyxDQUFwSTtlQUN6QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFsQixHQUF5QixJQUFDLENBQUEsUUFBUSxDQUFDLEVBRjNEO09BQUEsTUFHSyxJQUFHLG1DQUFIO2VBQ0QsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBbEIsR0FBeUIsSUFBQyxDQUFBLFFBQVEsQ0FBQyxFQUR0RDtPQUpUOztFQURTOzs7QUFRYjs7Ozs7Ozs7Z0NBT0EsY0FBQSxHQUFnQixTQUFBO0lBQ1osSUFBRyxtQ0FBSDtNQUNJLElBQUMsQ0FBQSxRQUFRLENBQUMsQ0FBVixHQUFjLENBQUMsSUFBQyxDQUFBLElBQUksQ0FBQyxLQUFOLEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBN0IsQ0FBQSxHQUFzQyxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQWxCLEdBQXdCLENBQXpCO2FBQ3BELElBQUMsQ0FBQSxRQUFRLENBQUMsQ0FBVixHQUFjLENBQUMsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFOLEdBQWEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBOUIsQ0FBQSxHQUF3QyxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQWxCLEdBQXdCLENBQXpCLEVBRjFEO0tBQUEsTUFBQTtNQUlJLElBQUMsQ0FBQSxRQUFRLENBQUMsQ0FBVixHQUFjO2FBQ2QsSUFBQyxDQUFBLFFBQVEsQ0FBQyxDQUFWLEdBQWMsRUFMbEI7O0VBRFk7OztBQVFoQjs7Ozs7Ozs7Z0NBT0EsY0FBQSxHQUFnQixTQUFBO0FBQ1osUUFBQTtJQUFBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLElBQXNCLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBckM7QUFBa0QsYUFBbEQ7O0lBRUEsQ0FBQSxHQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBWixHQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNuQyxDQUFBLEdBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFaLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ25DLE9BQUEsR0FBVSxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQVEsQ0FBQSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQVosQ0FBcEIsS0FBeUM7SUFFbkQsSUFBRyxDQUFDLElBQUMsQ0FBQSxFQUFELEtBQU8sQ0FBUCxJQUFZLElBQUMsQ0FBQSxFQUFELEtBQU8sQ0FBcEIsQ0FBQSxJQUEyQixPQUEzQixJQUF1QyxJQUFDLENBQUEsSUFBSSxDQUFDLFFBQU4sQ0FBZSxDQUFmLEVBQWtCLENBQWxCLENBQTFDO01BQ0ksSUFBRyxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBWjtRQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixHQUFtQjs7YUFDTCxDQUFFLElBQWhCLENBQXFCLFdBQXJCLEVBQWtDLElBQUMsQ0FBQSxNQUFuQztTQUZKOztNQUdBLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQWYsQ0FBb0IsTUFBcEIsRUFBNEIsSUFBQyxDQUFBLE1BQTdCLEVBSko7S0FBQSxNQUtLLElBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFRLENBQUEsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFaLENBQXBCLEtBQXlDLENBQXpDLElBQThDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBUSxDQUFBLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBWixDQUFwQixLQUF5QyxDQUExRjtNQUNELElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFYO1FBQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFSLEdBQW1COztjQUNMLENBQUUsSUFBaEIsQ0FBcUIsU0FBckIsRUFBZ0MsSUFBQyxDQUFBLE1BQWpDO1NBRko7T0FEQzs7SUFLTCxJQUFDLENBQUEsRUFBRCxHQUFNO1dBQ04sSUFBQyxDQUFBLEVBQUQsR0FBTTtFQWxCTTs7O0FBb0JoQjs7Ozs7O2dDQUtBLE1BQUEsR0FBUSxTQUFBO0FBQ0osUUFBQTtJQUFBLElBQUMsQ0FBQSxJQUFELCtDQUF5QixDQUFFLGNBQW5CLElBQTJCLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDM0MsSUFBQyxDQUFBLGNBQUQsQ0FBQTtJQUNBLElBQUMsQ0FBQSxjQUFELENBQUE7SUFDQSxJQUFDLENBQUEsV0FBRCxDQUFBO1dBQ0EsSUFBQyxDQUFBLFdBQUQsQ0FBQTtFQUxJOzs7O0dBNUtzQixFQUFFLENBQUM7O0FBd0xyQyxFQUFFLENBQUMsU0FBSCxHQUFlOztBQUNmLEVBQUUsQ0FBQyxtQkFBSCxHQUF5QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0RyYWdnYWJsZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0RyYWdnYWJsZSBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICMjIypcbiAgICAqIENhbGxlZCBpZiB0aGlzIG9iamVjdCBpbnN0YW5jZSBpcyByZXN0b3JlZCBmcm9tIGEgZGF0YS1idW5kbGUuIEl0IGNhbiBiZSB1c2VkXG4gICAgKiByZS1hc3NpZ24gZXZlbnQtaGFuZGxlciwgYW5vbnltb3VzIGZ1bmN0aW9ucywgZXRjLlxuICAgICogXG4gICAgKiBAbWV0aG9kIG9uRGF0YUJ1bmRsZVJlc3RvcmUuXG4gICAgKiBAcGFyYW0gT2JqZWN0IGRhdGEgLSBUaGUgZGF0YS1idW5kbGVcbiAgICAqIEBwYXJhbSBncy5PYmplY3RDb2RlY0NvbnRleHQgY29udGV4dCAtIFRoZSBjb2RlYy1jb250ZXh0LlxuICAgICMjI1xuICAgIG9uRGF0YUJ1bmRsZVJlc3RvcmU6IChkYXRhLCBjb250ZXh0KSAtPlxuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogTWFrZXMgYSBnYW1lIG9iamVjdCBkcmFnZ2FibGUgdXNpbmcgbW91c2UvdG91Y2guIFRoZSBkcmFnZ2luZyBjYW4gYmVcbiAgICAqIHZlcnRpY2FsLCBob3Jpem9udGFsIG9yIGJvdGguIEl0IGNhbiBiZSBjb25maWd1cmVkIGFzIHBpeGVsLXdpc2Ugb3IgXG4gICAgKiBzdGVwLXdpc2UgZHJhZ2dpbmcuIEZvciBleGFtcGxlOiBUbyBjcmVhdGUgYSBzbGlkZXIgZm9yIFVJIHdpdGhcbiAgICAqIGZpeGVkIHN0ZXBzLCBzdGVwLXdpc2UgaXMgdXNlZnVsIHdoaWxlIGEgcGl4ZWwtd2lzZSBkcmFnZ2luZyBjb3VsZFxuICAgICogYmUgdXNlZCBmb3IgYSB2b2x1bWUtc2xpZGVyLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfRHJhZ2dhYmxlXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBNb3VzZS9Qb2ludGVyIHggY29vcmRpbmF0ZVxuICAgICAgICAqIEBwcm9wZXJ0eSBteFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQG14ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIE1vdXNlL1BvaW50ZXIgeSBjb29yZGluYXRlXG4gICAgICAgICogQHByb3BlcnR5IG15XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAbXkgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RlcHBpbmcgaW4gcGl4ZWxzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzdGVwU2l6ZVxuICAgICAgICAqIEB0eXBlIGdzLlBvaW50XG4gICAgICAgICMjI1xuICAgICAgICBAc3RlcFNpemUgPSB7IHg6IDAsIHk6IDAgfVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIERyYWcgQXJlYVxuICAgICAgICAqIEBwcm9wZXJ0eSByZWN0XG4gICAgICAgICogQHR5cGUgZ3MuUmVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHJlY3QgPSBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogQWRkcyBldmVudC1oYW5kbGVyIGZvciBtb3VzZS90b3VjaCBldmVudHMgdG8gdXBkYXRlIHRoZSBjb21wb25lbnQgb25seSBpZiBcbiAgICAqIGEgdXNlci1hY3Rpb24gaGFwcGVuZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZU1vdmVkXCIsICggPT5cbiAgICAgICAgICAgIHJlY3QgPSBAb2JqZWN0LmRyYWdnYWJsZT8ucmVjdFxuICAgICAgICAgICAgeCA9IElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54XG4gICAgICAgICAgICB5ID0gSW5wdXQuTW91c2UueSAtIEBvYmplY3Qub3JpZ2luLnlcbiAgICAgICAgICAgIGlmIEBvYmplY3QuZHJhZ2dpbmcgb3IgcmVjdC5jb250YWlucyh4LCB5KVxuICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgKSwgbnVsbCwgQG9iamVjdFxuICAgICAgICAgICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZURvd25cIiwoID0+XG4gICAgICAgICAgICByZWN0ID0gQG9iamVjdC5kcmFnZ2FibGU/LnJlY3RcbiAgICAgICAgICAgIHggPSBJbnB1dC5Nb3VzZS54IC0gQG9iamVjdC5vcmlnaW4ueFxuICAgICAgICAgICAgeSA9IElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55XG4gICAgICAgICAgICBpZiByZWN0LmNvbnRhaW5zKHgsIHkpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICApLCBudWxsLCBAb2JqZWN0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBjb21wb25lbnQuIEFkZHMgZXZlbnQtaGFuZGxlciBmb3IgbW91c2UvdG91Y2ggZXZlbnRzIHRvXG4gICAgKiB1cGRhdGUgdGhlIGNvbXBvbmVudCBvbmx5IGlmIGEgdXNlci1hY3Rpb24gaGFwcGVuZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjIyAgICBcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGNvbXBvbmVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyNcbiAgICBkaXNwb3NlOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJtb3VzZURvd25cIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJtb3VzZU1vdmVkXCIsIEBvYmplY3QpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGRyYWdnaW5nLXByb2Nlc3Mgb24geC1heGlzIGlmIGNvbmZpZ3VyZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVBeGlzWFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgICAgICAgIFxuICAgIHVwZGF0ZUF4aXNYOiAtPlxuICAgICAgICBpZiAoQG9iamVjdC5kcmFnZ2FibGUuYXhpc1ggPyB5ZXMpXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmRyYWdnaW5nXG4gICAgICAgICAgICAgICAgQG9iamVjdC5kcmFnZ2FibGUuc3RlcCA9IE1hdGgucm91bmQoTWF0aC5tYXgoQHJlY3QueCwgTWF0aC5taW4oKEBteCAtIEBvYmplY3QuZHN0UmVjdC53aWR0aCAvIDIpLCBAcmVjdC54K0ByZWN0LndpZHRoLUBvYmplY3QuZHN0UmVjdC53aWR0aCkpIC8gQHN0ZXBTaXplLngpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnggPSBAb2JqZWN0LmRyYWdnYWJsZS5zdGVwICogQHN0ZXBTaXplLnhcbiAgICAgICAgICAgIGVsc2UgaWYgQG9iamVjdC5kcmFnZ2FibGUuc3RlcHM/XG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnggPSBAb2JqZWN0LmRyYWdnYWJsZS5zdGVwICogQHN0ZXBTaXplLnhcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBkcmFnZ2luZy1wcm9jZXNzIG9uIHktYXhpcyBpZiBjb25maWd1cmVkLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQXhpc1lcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgICBcbiAgICB1cGRhdGVBeGlzWTogLT5cbiAgICAgICAgaWYgKEBvYmplY3QuZHJhZ2dhYmxlLmF4aXNZID8geWVzKVxuICAgICAgICAgICAgaWYgQG9iamVjdC5kcmFnZ2luZ1xuICAgICAgICAgICAgICAgIEBvYmplY3QuZHJhZ2dhYmxlLnN0ZXAgPSBNYXRoLnJvdW5kKE1hdGgubWF4KEByZWN0LnksIE1hdGgubWluKChAbXkgLSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0IC8gMiksIEByZWN0LnkrQHJlY3QuaGVpZ2h0LUBvYmplY3QuZHN0UmVjdC5oZWlnaHQpKSAvIEBzdGVwU2l6ZS55KVxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC5kcmFnZ2FibGUuc3RlcCAqIEBzdGVwU2l6ZS55XG4gICAgICAgICAgICBlbHNlIGlmIEBvYmplY3QuZHJhZ2dhYmxlLnN0ZXBzP1xuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gQG9iamVjdC5kcmFnZ2FibGUuc3RlcCAqIEBzdGVwU2l6ZS55XG4gICAgXG4gICAgIyMjKlxuICAgICogQ2FsY3VsYXRlcyB0aGUgc2l6ZSBvZiBhIHNpbmdsZSBzdGVwIGlmIHN0ZXBzIGFyZSBjb25maWd1cmVkIGZvciB0aGlzXG4gICAgKiBjb21wb25lbnQuIE90aGVyd2lzZSB0aGUgc3RlcC1zaXplIDEtcGl4ZWwuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVEcmFnZ2luZ1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIHVwZGF0ZVN0ZXBTaXplOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LmRyYWdnYWJsZS5zdGVwcz9cbiAgICAgICAgICAgIEBzdGVwU2l6ZS54ID0gKEByZWN0LndpZHRoLUBvYmplY3QuZHN0UmVjdC53aWR0aCkgLyAoQG9iamVjdC5kcmFnZ2FibGUuc3RlcHMtMSlcbiAgICAgICAgICAgIEBzdGVwU2l6ZS55ID0gKEByZWN0LmhlaWdodC1Ab2JqZWN0LmRzdFJlY3QuaGVpZ2h0KSAvIChAb2JqZWN0LmRyYWdnYWJsZS5zdGVwcy0xKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAc3RlcFNpemUueCA9IDFcbiAgICAgICAgICAgIEBzdGVwU2l6ZS55ID0gMVxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGdhbWUgb2JqZWN0J3MgZHJhZ2dpbmctc3RhdGUgYW5kIGZpcmVzIGEgZHJhZ2dlZC1ldmVudFxuICAgICogaWYgbmVjZXNzYXJ5LlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlRHJhZ2dpbmdcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIHVwZGF0ZURyYWdnaW5nOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LmZvY3VzYWJsZSBhbmQgIUBvYmplY3QudWkuZm9jdXNlZCB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgeCA9IElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54XG4gICAgICAgIHkgPSBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueVxuICAgICAgICBwcmVzc2VkID0gSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAxXG4gICAgICAgIFxuICAgICAgICBpZiAoQG14ICE9IHggb3IgQG15ICE9IHkpIGFuZCBwcmVzc2VkIGFuZCBAcmVjdC5jb250YWlucyh4LCB5KVxuICAgICAgICAgICAgaWYgIUBvYmplY3QuZHJhZ2dpbmdcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmRyYWdnaW5nID0geWVzXG4gICAgICAgICAgICAgICAgQG9iamVjdC5ldmVudHM/LmVtaXQoXCJkcmFnU3RhcnRcIiwgQG9iamVjdClcbiAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzLmVtaXQoXCJkcmFnXCIsIEBvYmplY3QpXG4gICAgICAgIGVsc2UgaWYgSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAyIG9yIElucHV0Lk1vdXNlLmJ1dHRvbnNbSW5wdXQuTW91c2UuTEVGVF0gPT0gMFxuICAgICAgICAgICAgaWYgQG9iamVjdC5kcmFnZ2luZ1xuICAgICAgICAgICAgICAgIEBvYmplY3QuZHJhZ2dpbmcgPSBub1xuICAgICAgICAgICAgICAgIEBvYmplY3QuZXZlbnRzPy5lbWl0KFwiZHJhZ0VuZFwiLCBAb2JqZWN0KVxuICAgICAgICAgICAgXG4gICAgICAgIEBteCA9IHhcbiAgICAgICAgQG15ID0geVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBkcmFnZ2luZy1sb2dpYy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICAgICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBAcmVjdCA9IEBvYmplY3QuZHJhZ2dhYmxlPy5yZWN0IHx8IEBvYmplY3QuZHN0UmVjdCBcbiAgICAgICAgQHVwZGF0ZVN0ZXBTaXplKClcbiAgICAgICAgQHVwZGF0ZURyYWdnaW5nKClcbiAgICAgICAgQHVwZGF0ZUF4aXNYKClcbiAgICAgICAgQHVwZGF0ZUF4aXNZKClcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxudWkuRHJhZ2dhYmxlID0gQ29tcG9uZW50X0RyYWdnYWJsZVxudWkuQ29tcG9uZW50X0RyYWdnYWJsZSA9IENvbXBvbmVudF9EcmFnZ2FibGUiXX0=
//# sourceURL=Component_Draggable_37.js
var Component_LayoutBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_LayoutBehavior = (function(superClass) {
  extend(Component_LayoutBehavior, superClass);


  /**
  * The base class of all layout-components. A layout-component is used
  * to layout assigned sub-objects in a specific way depending on the layout-type.
  * For example: A grid-layout layouts its sub-objects like a grid using rows
  * and columns. The game object needs a container-component.<br><br>
  *
  * A layout can also be configured as scrollable. In that case, layout's content
  * can be larger than the layout-bounds and is automatically clipped. The content
  * can be scrolled using mouse-wheel or touch-gesture.
  *
  * @module gs
  * @class Component_LayoutBehavior
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_LayoutBehavior() {

    /**
    * Content size of the layout.
    * @property contentSize
    * @type gs.Size
    * @readOnly
     */
    this.contentSize = {
      width: 0,
      height: 0
    };
  }


  /**
  * Disposes the layout and all its sub-objects.
  *
  * @method dispose
   */

  Component_LayoutBehavior.prototype.dispose = function() {
    var control, i, len, ref, results;
    ref = this.object.controls;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      control = ref[i];
      results.push(control != null ? control.dispose() : void 0);
    }
    return results;
  };


  /**
  * Initializes the layout.
  *
  * @method setup
   */

  Component_LayoutBehavior.prototype.setup = function() {};


  /**
  * Sizes the layout to fit its content.
  *
  * @method sizeToFit
  * @abstract
   */

  Component_LayoutBehavior.prototype.sizeToFit = function() {};


  /**
  * Sort-Function to sort sub-objects by order-index.
  *
  * @method sort_
  * @protected
  * @param {gs.Object_Base} a Object A
  * @param {gs.Object_Base} b Object B
   */

  Component_LayoutBehavior.prototype.sort_ = function(a, b) {
    if (a.order > b.order) {
      return -1;
    } else if (a.order < b.order) {
      return 1;
    } else {
      return 0;
    }
  };


  /**
  * Updates a specified control.
  *
  * @method updateControl
  * @protected
  * @param {gs.Object_Base} control The control to update
   */

  Component_LayoutBehavior.prototype.updateControl = function(control) {
    this.object.rIndex = Math.max(this.object.rIndex, control.rIndex);
    if (control.updateBehavior === ui.UpdateBehavior.CONTINUOUS) {
      control.needsUpdate = true;
    }
    if (control.inheritProperties) {
      control.ui.enabled = this.object.ui.enabled;
      control.opacity = this.object.opacity;
      control.zoom = this.object.zoom;
      control.color = this.object.color;
      control.tone = this.object.tone;
      control.anchor.x = this.object.anchor.x;
      control.anchor.y = this.object.anchor.y;
    }
    if (control.needsUpdate) {
      control.needsUpdate = false;
      control.update();
      control.parent = this.object;
    }
    if (this.object.clipRect != null) {
      return control.clipRect = this.object.clipRect;
    }
  };


  /**
  * Updates the content size of the layout. Only works if scrolling is
  * enabled.
  *
  * @method updateContentSize
  * @protected
   */

  Component_LayoutBehavior.prototype.updateContentSize = function() {
    var control, i, len, ref;
    if (this.object.scrollable) {
      this.contentSize.width = 0;
      this.contentSize.height = 0;
      ref = this.object.controls;
      for (i = 0, len = ref.length; i < len; i++) {
        control = ref[i];
        if (control) {
          this.contentSize.width += control.margin.left + control.dstRect.width + control.margin.right;
          this.contentSize.height += control.margin.top + control.dstRect.height + control.margin.bottom;
        }
      }
      this.object.contentHeight = this.contentSize.height;
      return this.object.contentWidth = this.contentSize.width;
    }
  };


  /**
  * Updates scrolling.
  *
  * @method updateScroll
   */

  Component_LayoutBehavior.prototype.updateScroll = function() {
    if (this.object.scrollable) {
      this.object.scrollableHeight = Math.max(0, this.contentSize.height - this.object.dstRect.height);
      if (Input.Mouse.wheel <= -1) {
        this.object.scrollOffsetY = Math.max(this.object.scrollOffsetY - Input.Mouse.wheelSpeed * 0.1, 0);
      }
      if (Input.Mouse.wheel >= 1) {
        this.object.scrollOffsetY = Math.min(this.object.scrollOffsetY - Input.Mouse.wheelSpeed * 0.1, this.object.scrollableHeight);
      }
      return this.object.scrollOffsetY = Math.max(Math.min(this.object.scrollOffsetY, this.object.scrollableHeight), 0);
    }
  };


  /**
  * Updates the layout's content.
  *
  * @method updateContent
   */

  Component_LayoutBehavior.prototype.updateContent = function() {};


  /**
  * Updates the layout.
  *
  * @method update
   */

  Component_LayoutBehavior.prototype.update = function() {
    Component_LayoutBehavior.__super__.update.apply(this, arguments);
    this.updateContentSize();
    return this.updateScroll();
  };

  return Component_LayoutBehavior;

})(gs.Component_Visual);

gs.Component_LayoutBehavior = Component_LayoutBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFnQmEsa0NBQUE7O0FBQ1Q7Ozs7OztJQU1BLElBQUMsQ0FBQSxXQUFELEdBQWU7TUFBQSxLQUFBLEVBQU8sQ0FBUDtNQUFVLE1BQUEsRUFBUSxDQUFsQjs7RUFQTjs7O0FBU2I7Ozs7OztxQ0FPQSxPQUFBLEdBQVMsU0FBQTtBQUNMLFFBQUE7QUFBQTtBQUFBO1NBQUEscUNBQUE7O3FDQUNJLE9BQU8sQ0FBRSxPQUFULENBQUE7QUFESjs7RUFESzs7O0FBSVQ7Ozs7OztxQ0FLQSxLQUFBLEdBQU8sU0FBQSxHQUFBOzs7QUFFUDs7Ozs7OztxQ0FNQSxTQUFBLEdBQVcsU0FBQSxHQUFBOzs7QUFFWDs7Ozs7Ozs7O3FDQVFBLEtBQUEsR0FBTyxTQUFDLENBQUQsRUFBSSxDQUFKO0lBQ0gsSUFBRyxDQUFDLENBQUMsS0FBRixHQUFVLENBQUMsQ0FBQyxLQUFmO0FBQ0UsYUFBTyxDQUFDLEVBRFY7S0FBQSxNQUVLLElBQUcsQ0FBQyxDQUFDLEtBQUYsR0FBVSxDQUFDLENBQUMsS0FBZjtBQUNILGFBQU8sRUFESjtLQUFBLE1BQUE7QUFHSCxhQUFPLEVBSEo7O0VBSEY7OztBQVFQOzs7Ozs7OztxQ0FPQSxhQUFBLEdBQWUsU0FBQyxPQUFEO0lBQ1gsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFqQixFQUF5QixPQUFPLENBQUMsTUFBakM7SUFFakIsSUFBRyxPQUFPLENBQUMsY0FBUixLQUEwQixFQUFFLENBQUMsY0FBYyxDQUFDLFVBQS9DO01BQ0ksT0FBTyxDQUFDLFdBQVIsR0FBc0IsS0FEMUI7O0lBR0EsSUFBRyxPQUFPLENBQUMsaUJBQVg7TUFDSSxPQUFPLENBQUMsRUFBRSxDQUFD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SUFBSSxDQUFDLEdBQUwsQ0FBUyxJQUFDLENBQUEsTUFBTSxDQUFDLGFBQWpCLEVBQWdDLElBQUMsQ0FBQSxNQUFNLENBQUMsZ0JBQXhDLENBQVQsRUFBb0UsQ0FBcEUsRUFUNUI7O0VBRFU7OztBQVlkOzs7Ozs7cUNBS0EsYUFBQSxHQUFlLFNBQUEsR0FBQTs7O0FBRWY7Ozs7OztxQ0FLQSxNQUFBLEdBQVEsU0FBQTtJQUNKLHNEQUFBLFNBQUE7SUFFQSxJQUFDLENBQUEsaUJBQUQsQ0FBQTtXQUNBLElBQUMsQ0FBQSxZQUFELENBQUE7RUFKSTs7OztHQXBKMkIsRUFBRSxDQUFDOztBQWdLMUMsRUFBRSxDQUFDLHdCQUFILEdBQThCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfTGF5b3V0QmVoYXZpb3JcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9MYXlvdXRCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBUaGUgYmFzZSBjbGFzcyBvZiBhbGwgbGF5b3V0LWNvbXBvbmVudHMuIEEgbGF5b3V0LWNvbXBvbmVudCBpcyB1c2VkXG4gICAgKiB0byBsYXlvdXQgYXNzaWduZWQgc3ViLW9iamVjdHMgaW4gYSBzcGVjaWZpYyB3YXkgZGVwZW5kaW5nIG9uIHRoZSBsYXlvdXQtdHlwZS5cbiAgICAqIEZvciBleGFtcGxlOiBBIGdyaWQtbGF5b3V0IGxheW91dHMgaXRzIHN1Yi1vYmplY3RzIGxpa2UgYSBncmlkIHVzaW5nIHJvd3NcbiAgICAqIGFuZCBjb2x1bW5zLiBUaGUgZ2FtZSBvYmplY3QgbmVlZHMgYSBjb250YWluZXItY29tcG9uZW50Ljxicj48YnI+XG4gICAgKlxuICAgICogQSBsYXlvdXQgY2FuIGFsc28gYmUgY29uZmlndXJlZCBhcyBzY3JvbGxhYmxlLiBJbiB0aGF0IGNhc2UsIGxheW91dCdzIGNvbnRlbnRcbiAgICAqIGNhbiBiZSBsYXJnZXIgdGhhbiB0aGUgbGF5b3V0LWJvdW5kcyBhbmQgaXMgYXV0b21hdGljYWxseSBjbGlwcGVkLiBUaGUgY29udGVudFxuICAgICogY2FuIGJlIHNjcm9sbGVkIHVzaW5nIG1vdXNlLXdoZWVsIG9yIHRvdWNoLWdlc3R1cmUuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogQ29udGVudCBzaXplIG9mIHRoZSBsYXlvdXQuXG4gICAgICAgICogQHByb3BlcnR5IGNvbnRlbnRTaXplXG4gICAgICAgICogQHR5cGUgZ3MuU2l6ZVxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbnRlbnRTaXplID0gd2lkdGg6IDAsIGhlaWdodDogMFxuXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGxheW91dCBhbmQgYWxsIGl0cyBzdWItb2JqZWN0cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyMgIFxuICAgICMgRklYTUU6IElzIHRoYXQgc3RpbGwgbmVjZXNzYXJ5PyBJZiB0aGUgcGFyZW50IGdhbWUgb2JqZWN0IGlzIGRpc3Bvc2VkXG4gICAgIyBhbGwgc3ViLW9iamVjdHMgYXJlIGRpc3Bvc2VkIGFzIHdlbGwuXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgZm9yIGNvbnRyb2wgaW4gQG9iamVjdC5jb250cm9sc1xuICAgICAgICAgICAgY29udHJvbD8uZGlzcG9zZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjIFxuICAgIHNldHVwOiAtPlxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTaXplcyB0aGUgbGF5b3V0IHRvIGZpdCBpdHMgY29udGVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNpemVUb0ZpdFxuICAgICogQGFic3RyYWN0XG4gICAgIyMjIFxuICAgIHNpemVUb0ZpdDogLT5cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU29ydC1GdW5jdGlvbiB0byBzb3J0IHN1Yi1vYmplY3RzIGJ5IG9yZGVyLWluZGV4LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc29ydF9cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGEgT2JqZWN0IEFcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGIgT2JqZWN0IEJcbiAgICAjIyMgICAgXG4gICAgc29ydF86IChhLCBiKSAtPlxuICAgICAgICBpZiBhLm9yZGVyID4gYi5vcmRlclxuICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICBlbHNlIGlmIGEub3JkZXIgPCBiLm9yZGVyXG4gICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiAwXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyBhIHNwZWNpZmllZCBjb250cm9sLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29udHJvbFxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gY29udHJvbCBUaGUgY29udHJvbCB0byB1cGRhdGVcbiAgICAjIyMgXG4gICAgdXBkYXRlQ29udHJvbDogKGNvbnRyb2wpIC0+XG4gICAgICAgIEBvYmplY3QuckluZGV4ID0gTWF0aC5tYXgoQG9iamVjdC5ySW5kZXgsIGNvbnRyb2wuckluZGV4KVxuICAgICAgICBcbiAgICAgICAgaWYgY29udHJvbC51cGRhdGVCZWhhdmlvciA9PSB1aS5VcGRhdGVCZWhhdmlvci5DT05USU5VT1VTXG4gICAgICAgICAgICBjb250cm9sLm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgY29udHJvbC5pbmhlcml0UHJvcGVydGllc1xuICAgICAgICAgICAgY29udHJvbC51aS5lbmFibGVkID0gQG9iamVjdC51aS5lbmFibGVkXG4gICAgICAgICAgICBjb250cm9sLm9wYWNpdHkgPSBAb2JqZWN0Lm9wYWNpdHlcbiAgICAgICAgICAgIGNvbnRyb2wuem9vbSA9IEBvYmplY3Quem9vbVxuICAgICAgICAgICAgY29udHJvbC5jb2xvciA9IEBvYmplY3QuY29sb3JcbiAgICAgICAgICAgIGNvbnRyb2wudG9uZSA9IEBvYmplY3QudG9uZVxuICAgICAgICAgICAgY29udHJvbC5hbmNob3IueCA9IEBvYmplY3QuYW5jaG9yLnhcbiAgICAgICAgICAgIGNvbnRyb2wuYW5jaG9yLnkgPSBAb2JqZWN0LmFuY2hvci55XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBjb250cm9sLm5lZWRzVXBkYXRlXG4gICAgICAgICAgICBjb250cm9sLm5lZWRzVXBkYXRlID0gbm9cbiAgICAgICAgICAgIGNvbnRyb2wudXBkYXRlKClcbiAgICAgICAgICAgIGNvbnRyb2wucGFyZW50ID0gQG9iamVjdFxuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LmNsaXBSZWN0P1xuICAgICAgICAgICAgY29udHJvbC5jbGlwUmVjdCA9IEBvYmplY3QuY2xpcFJlY3RcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgY29udGVudCBzaXplIG9mIHRoZSBsYXlvdXQuIE9ubHkgd29ya3MgaWYgc2Nyb2xsaW5nIGlzXG4gICAgKiBlbmFibGVkLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29udGVudFNpemVcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgXG4gICAgdXBkYXRlQ29udGVudFNpemU6IC0+XG4gICAgICAgIGlmIEBvYmplY3Quc2Nyb2xsYWJsZVxuICAgICAgICAgICAgQGNvbnRlbnRTaXplLndpZHRoID0gMFxuICAgICAgICAgICAgQGNvbnRlbnRTaXplLmhlaWdodCA9IDBcbiAgICAgICAgICAgIGZvciBjb250cm9sIGluIEBvYmplY3QuY29udHJvbHNcbiAgICAgICAgICAgICAgICBpZiBjb250cm9sXG4gICAgICAgICAgICAgICAgICAgIEBjb250ZW50U2l6ZS53aWR0aCArPSBjb250cm9sLm1hcmdpbi5sZWZ0ICsgY29udHJvbC5kc3RSZWN0LndpZHRoICsgY29udHJvbC5tYXJnaW4ucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgQGNvbnRlbnRTaXplLmhlaWdodCArPSBjb250cm9sLm1hcmdpbi50b3AgKyBjb250cm9sLmRzdFJlY3QuaGVpZ2h0ICsgY29udHJvbC5tYXJnaW4uYm90dG9tXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBvYmplY3QuY29udGVudEhlaWdodCA9IEBjb250ZW50U2l6ZS5oZWlnaHRcbiAgICAgICAgICAgIEBvYmplY3QuY29udGVudFdpZHRoID0gQGNvbnRlbnRTaXplLndpZHRoXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgc2Nyb2xsaW5nLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlU2Nyb2xsXG4gICAgIyMjXG4gICAgdXBkYXRlU2Nyb2xsOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnNjcm9sbGFibGVcbiAgICAgICAgICAgIEBvYmplY3Quc2Nyb2xsYWJsZUhlaWdodCA9IE1hdGgubWF4KDAsIEBjb250ZW50U2l6ZS5oZWlnaHQgLSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICAgICAgaWYgSW5wdXQuTW91c2Uud2hlZWwgPD0gLTFcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnNjcm9sbE9mZnNldFkgPSBNYXRoLm1heChAb2JqZWN0LnNjcm9sbE9mZnNldFkgLSBJbnB1dC5Nb3VzZS53aGVlbFNwZWVkICogMC4xLCAwKVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBJbnB1dC5Nb3VzZS53aGVlbCA+PSAxXG4gICAgICAgICAgICAgICAgQG9iamVjdC5zY3JvbGxPZmZzZXRZID0gTWF0aC5taW4oQG9iamVjdC5zY3JvbGxPZmZzZXRZIC0gSW5wdXQuTW91c2Uud2hlZWxTcGVlZCAqIDAuMSwgQG9iamVjdC5zY3JvbGxhYmxlSGVpZ2h0KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgIEBvYmplY3Quc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KE1hdGgubWluKEBvYmplY3Quc2Nyb2xsT2Zmc2V0WSwgQG9iamVjdC5zY3JvbGxhYmxlSGVpZ2h0KSwgMClcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgbGF5b3V0J3MgY29udGVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnRlbnRcbiAgICAjIyMgIFxuICAgIHVwZGF0ZUNvbnRlbnQ6IC0+XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAdXBkYXRlQ29udGVudFNpemUoKVxuICAgICAgICBAdXBkYXRlU2Nyb2xsKClcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAjaWYgQG9iamVjdC5uZWVkc1NvcnRcbiAgICAgICAgIyAgICBAb2JqZWN0LnN1Yk9iamVjdHMuc29ydChAc29ydF8pXG4gICAgICAgICMgICAgQG9iamVjdC5uZWVkc1NvcnQgPSBub1xuICAgIFxuICAgICAgICBcbmdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvciA9IENvbXBvbmVudF9MYXlvdXRCZWhhdmlvciJdfQ==
//# sourceURL=Component_LayoutBehavior_50.js
var Component_FreeLayoutBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_FreeLayoutBehavior = (function(superClass) {
  extend(Component_FreeLayoutBehavior, superClass);


  /**
  * Turns a game object into a free-layout and layouts all sub-objects
  * at their specified positions. So that kind of layout allows each sub-object
  * to be freely positioned.
  * <br>
  * In addition, each sub-object can have different alignment options.
  *
  * @module gs
  * @class Component_FreeLayoutBehavior
  * @extends gs.Component_LayoutBehavior
  * @memberof gs
  * @constructor
   */

  function Component_FreeLayoutBehavior() {
    Component_FreeLayoutBehavior.__super__.constructor.apply(this, arguments);
  }


  /**
  * Sizes the layout to fit its content.
  *
  * @method sizeToFit
   */

  Component_FreeLayoutBehavior.prototype.sizeToFit = function() {
    var control, j, len, rect, ref, results;
    rect = this.object.dstRect;
    if (this.object.sizeToFit) {
      ref = this.object.subObjects;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        control = ref[j];
        if (!control.alignmentX) {
          rect.width = Math.max(control.dstRect.x + control.margin.left + control.dstRect.width + control.margin.right, rect.width || 1);
        }
        if (!control.alignmentY) {
          results.push(rect.height = Math.max(control.dstRect.y + control.margin.top + control.dstRect.height + control.margin.bottom, rect.height || 1));
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };


  /**
  * Updates a specified control.
  *
  * @method updateControl
  * @protected
  * @param {gs.Object_Base} control The control to update
   */

  Component_FreeLayoutBehavior.prototype.updateControl = function(control) {
    var margin, rect;
    Component_FreeLayoutBehavior.__super__.updateControl.apply(this, arguments);
    rect = this.object.dstRect;
    margin = control.margin;
    if (control.alignmentX === 1) {
      control.dstRect.x = (rect.width - (control.dstRect.width + margin.right + margin.left)) / 2;
    } else if (control.alignmentX === 2) {
      control.dstRect.x = rect.width * this.object.zoom.x - (control.dstRect.width + control.margin.right) * control.zoom.x;
    }
    if (control.alignmentY === 1) {
      return control.dstRect.y = (rect.height * this.object.zoom.y - (control.dstRect.height + margin.bottom + margin.top) * control.zoom.y) / 2;
    } else if (control.alignmentY === 2) {
      return control.dstRect.y = rect.height - (control.dstRect.height + control.margin.bottom);
    }
  };


  /**
  * Layouts the sub-objects.
  *
  * @method update
   */

  Component_FreeLayoutBehavior.prototype.update = function() {
    var control, i, j, len, ref;
    Component_FreeLayoutBehavior.__super__.update.apply(this, arguments);
    ref = this.object.subObjects;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      control = ref[i];
      this.updateControl(control);
    }
    this.sizeToFit();
    return null;
  };

  return Component_FreeLayoutBehavior;

})(gs.Component_LayoutBehavior);

gs.Component_FreeLayoutBehavior = Component_FreeLayoutBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNEJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7RUFhYSxzQ0FBQTtJQUNULCtEQUFBLFNBQUE7RUFEUzs7O0FBR2I7Ozs7Ozt5Q0FLQSxTQUFBLEdBQVcsU0FBQTtBQUNQLFFBQUE7SUFBQSxJQUFBLEdBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUNmLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFYO0FBQ0k7QUFBQTtXQUFBLHFDQUFBOztRQUNJLElBQUcsQ0FBQyxPQUFPLENBQUMsVUFBWjtVQUNJLElBQUksQ0FBQyxLQUFMLEdBQWEsSUFBSSxDQUFDLEdBQUwsQ0FBUyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBbkMsR0FBMEMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUExRCxHQUFrRSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQTFGLEVBQWlHLElBQUksQ0FBQyxLQUFMLElBQWMsQ0FBL0csRUFEakI7O1FBRUEsSUFBRyxDQUFDLE9BQU8sQ0FBQyxVQUFaO3VCQUNJLElBQUksQ0FBQyxNQUFMLEdBQWMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBbkMsR0FBeUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUF6RCxHQUFrRSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQTFGLEVBQWtHLElBQUksQ0FBQyxNQUFMLElBQWUsQ0FBakgsR0FEbEI7U0FBQSxNQUFBOytCQUFBOztBQUhKO3FCQURKOztFQUZPOzs7QUFTWDs7Ozs7Ozs7eUNBT0EsYUFBQSxHQUFlLFNBQUMsT0FBRDtBQUNYLFFBQUE7SUFBQSxpRUFBQSxTQUFBO0lBRUEsSUFBQSxHQUFPLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDZixNQUFBLEdBQVMsT0FBTyxDQUFDO0lBRWpCLElBQUcsT0FBTyxDQUFDLFVBQVIsS0FBc0IsQ0FBekI7TUFDSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLENBQUMsSUFBSSxDQUFDLEtBQUwsR0FBYSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBaEIsR0FBc0IsTUFBTSxDQUFDLEtBQTdCLEdBQW1DLE1BQU0sQ0FBQyxJQUEzQyxDQUFkLENBQUEsR0FBa0UsRUFEMUY7S0FBQSxNQUVLLElBQUcsT0FBTyxDQUFDLFVBQVIsS0FBc0IsQ0FBekI7TUFDRCxPQUFPLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLElBQUksQ0FBQyxLQUFMLEdBQVcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBeEIsR0FBNEIsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQWhCLEdBQXdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBeEMsQ0FBQSxHQUErQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBRDNHOztJQUdMLElBQUcsT0FBTyxDQUFDLFVBQVIsS0FBc0IsQ0FBekI7YUFDSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLENBQUMsSUFBSSxDQUFDLE1BQUwsR0FBWSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUF6QixHQUE2QixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBdUIsTUFBTSxDQUFDLE1BQTlCLEdBQXFDLE1BQU0sQ0FBQyxHQUE3QyxDQUFBLEdBQWtELE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBN0YsQ0FBQSxHQUFrRyxFQUQxSDtLQUFBLE1BRUssSUFBRyxPQUFPLENBQUMsVUFBUixLQUFzQixDQUF6QjthQUNELE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsSUFBSSxDQUFDLE1BQUwsR0FBYyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUF6QyxFQURqQzs7RUFiTTs7O0FBa0JmOzs7Ozs7eUNBS0EsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEsMERBQUEsU0FBQTtBQUVBO0FBQUEsU0FBQSw2Q0FBQTs7TUFDSSxJQUFDLENBQUEsYUFBRCxDQUFlLE9BQWY7QUFESjtJQUdBLElBQUMsQ0FBQSxTQUFELENBQUE7QUFHQSxXQUFPO0VBVEg7Ozs7R0E3RCtCLEVBQUUsQ0FBQzs7QUF3RTlDLEVBQUUsQ0FBQyw0QkFBSCxHQUFrQyIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0ZyZWVMYXlvdXRCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0ZyZWVMYXlvdXRCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICMjIypcbiAgICAqIFR1cm5zIGEgZ2FtZSBvYmplY3QgaW50byBhIGZyZWUtbGF5b3V0IGFuZCBsYXlvdXRzIGFsbCBzdWItb2JqZWN0c1xuICAgICogYXQgdGhlaXIgc3BlY2lmaWVkIHBvc2l0aW9ucy4gU28gdGhhdCBraW5kIG9mIGxheW91dCBhbGxvd3MgZWFjaCBzdWItb2JqZWN0XG4gICAgKiB0byBiZSBmcmVlbHkgcG9zaXRpb25lZC5cbiAgICAqIDxicj5cbiAgICAqIEluIGFkZGl0aW9uLCBlYWNoIHN1Yi1vYmplY3QgY2FuIGhhdmUgZGlmZmVyZW50IGFsaWdubWVudCBvcHRpb25zLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfRnJlZUxheW91dEJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfTGF5b3V0QmVoYXZpb3JcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+IFxuICAgICAgICBzdXBlclxuXG4gICAgIyMjKlxuICAgICogU2l6ZXMgdGhlIGxheW91dCB0byBmaXQgaXRzIGNvbnRlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzaXplVG9GaXRcbiAgICAjIyMgXG4gICAgc2l6ZVRvRml0OiAtPlxuICAgICAgICByZWN0ID0gQG9iamVjdC5kc3RSZWN0XG4gICAgICAgIGlmIEBvYmplY3Quc2l6ZVRvRml0XG4gICAgICAgICAgICBmb3IgY29udHJvbCBpbiBAb2JqZWN0LnN1Yk9iamVjdHNcbiAgICAgICAgICAgICAgICBpZiAhY29udHJvbC5hbGlnbm1lbnRYXG4gICAgICAgICAgICAgICAgICAgIHJlY3Qud2lkdGggPSBNYXRoLm1heChjb250cm9sLmRzdFJlY3QueCArIGNvbnRyb2wubWFyZ2luLmxlZnQgKyBjb250cm9sLmRzdFJlY3Qud2lkdGggKyBjb250cm9sLm1hcmdpbi5yaWdodCwgcmVjdC53aWR0aCB8fCAxKVxuICAgICAgICAgICAgICAgIGlmICFjb250cm9sLmFsaWdubWVudFlcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5oZWlnaHQgPSBNYXRoLm1heChjb250cm9sLmRzdFJlY3QueSArIGNvbnRyb2wubWFyZ2luLnRvcCArIGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgKyBjb250cm9sLm1hcmdpbi5ib3R0b20sIHJlY3QuaGVpZ2h0IHx8IDEpXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyBhIHNwZWNpZmllZCBjb250cm9sLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29udHJvbFxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gY29udHJvbCBUaGUgY29udHJvbCB0byB1cGRhdGVcbiAgICAjIyMgICAgICAgICBcbiAgICB1cGRhdGVDb250cm9sOiAoY29udHJvbCkgLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIHJlY3QgPSBAb2JqZWN0LmRzdFJlY3RcbiAgICAgICAgbWFyZ2luID0gY29udHJvbC5tYXJnaW5cblxuICAgICAgICBpZiBjb250cm9sLmFsaWdubWVudFggPT0gMVxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnggPSAocmVjdC53aWR0aCAtIChjb250cm9sLmRzdFJlY3Qud2lkdGgrbWFyZ2luLnJpZ2h0K21hcmdpbi5sZWZ0KSkgLyAyXG4gICAgICAgIGVsc2UgaWYgY29udHJvbC5hbGlnbm1lbnRYID09IDJcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gcmVjdC53aWR0aCpAb2JqZWN0Lnpvb20ueCAtIChjb250cm9sLmRzdFJlY3Qud2lkdGggKyBjb250cm9sLm1hcmdpbi5yaWdodCkqY29udHJvbC56b29tLnggXG4gICAgIFxuICAgICAgICBpZiBjb250cm9sLmFsaWdubWVudFkgPT0gMVxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnkgPSAocmVjdC5oZWlnaHQqQG9iamVjdC56b29tLnkgLSAoY29udHJvbC5kc3RSZWN0LmhlaWdodCttYXJnaW4uYm90dG9tK21hcmdpbi50b3ApKmNvbnRyb2wuem9vbS55KSAvIDJcbiAgICAgICAgZWxzZSBpZiBjb250cm9sLmFsaWdubWVudFkgPT0gMlxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnkgPSByZWN0LmhlaWdodCAtIChjb250cm9sLmRzdFJlY3QuaGVpZ2h0ICsgY29udHJvbC5tYXJnaW4uYm90dG9tKVxuICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogTGF5b3V0cyB0aGUgc3ViLW9iamVjdHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBmb3IgY29udHJvbCwgaSBpbiBAb2JqZWN0LnN1Yk9iamVjdHNcbiAgICAgICAgICAgIEB1cGRhdGVDb250cm9sKGNvbnRyb2wpXG4gICAgICAgICAgICBcbiAgICAgICAgQHNpemVUb0ZpdCgpXG4gXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGwgICAgXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0ZyZWVMYXlvdXRCZWhhdmlvciA9IENvbXBvbmVudF9GcmVlTGF5b3V0QmVoYXZpb3IiXX0=
//# sourceURL=Component_FreeLayoutBehavior_57.js
var Component_SpreadLayoutBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_SpreadLayoutBehavior = (function(superClass) {
  extend(Component_SpreadLayoutBehavior, superClass);


  /**
  * Turns a game object into a spread-layout and spreads all sub-objects
  * evenly over the layout-space vertically or horizontally. The game object needs a 
  * container-component.
  *
  * @module gs
  * @class Component_SpreadLayoutBehavior
  * @extends gs.Component_LayoutBehavior
  * @memberof gs
  * @constructor
   */

  function Component_SpreadLayoutBehavior(orientation) {
    Component_SpreadLayoutBehavior.__super__.constructor.apply(this, arguments);

    /**
    * The orientation of the spread-layout.
    * @property orientation
    * @type gs.Orientation.
     */
    this.orientation = orientation || 0;
  }


  /**
  * Updates the spread-layout.
  *
  * @method update
   */

  Component_SpreadLayoutBehavior.prototype.update = function() {
    Component_SpreadLayoutBehavior.__super__.update.apply(this, arguments);
    this.object.visible_ = this.object.visible && (!this.object.parent || this.object.parent.visible);
    if (this.orientation === 0) {
      return this.layoutHorizontal();
    } else {
      return this.layoutVertical();
    }
  };


  /**
  * Spreads all sub-objects evenly over the layout-space horizontally.
  *
  * @method layoutHorizontal
   */

  Component_SpreadLayoutBehavior.prototype.layoutHorizontal = function() {
    var control, count, i, j, rect, ref, y;
    count = this.object.controls.length;
    this.object.visible_ = this.object.visible && (!this.object.parent || this.object.parent.visible);
    y = 0;
    rect = this.object.dstRect;
    for (i = j = 0, ref = count; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      control = this.object.controls[i];
      control.parent = this.object;
      control.update();
      control.dstRect.x = Math.floor((rect.width - control.dstRect.width) / (count - 1)) * i;
      if (!control.clipRect) {
        control.clipRect = this.object.clipRect;
      }
      if (control.alignmentY === 1) {
        control.dstRect.y = y + Math.round((rect.height - (control.dstRect.height + control.margin.top + control.margin.bottom)) / 2);
      }
    }
    if (this.object.clipRect != null) {
      return this.object.clipRect.set(rect.x, rect.y, rect.width, rect.height);
    }
  };


  /**
  * Spreads all sub-objects evenly over the layout-space vertically.
  *
  * @method layoutHorizontal
   */

  Component_SpreadLayoutBehavior.prototype.layoutVertical = function() {
    var control, count, i, j, rect, ref, x;
    count = this.object.controls.length;
    this.object.visible_ = this.object.visible && (!this.object.parent || this.object.parent.visible);
    x = 0;
    rect = this.object.dstRect;
    for (i = j = 0, ref = count; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      control = this.object.controls[i];
      control.parent = this.object;
      control.update();
      control.dstRect.y = Math.floor(rect.height / count) * i;
      if (!control.clipRect) {
        control.clipRect = this.object.clipRect;
      }
      if (control.alignmentX === 1) {
        control.dstRect.x = x + Math.round((rect.width - (control.dstRect.width + control.margin.left + control.margin.right)) / 2);
      }
    }
    if (this.object.clipRect != null) {
      return this.object.clipRect.set(rect.x, rect.y, rect.width, rect.height);
    }
  };

  return Component_SpreadLayoutBehavior;

})(gs.Component_LayoutBehavior);

gs.Component_SpreadLayoutBehavior = Component_SpreadLayoutBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsOEJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7O0VBV2Esd0NBQUMsV0FBRDtJQUNULGlFQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBZSxXQUFBLElBQWU7RUFSckI7OztBQVViOzs7Ozs7MkNBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSiw0REFBQSxTQUFBO0lBQ0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFSLEdBQW1CLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixJQUFvQixDQUFDLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFULElBQW1CLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQW5DO0lBQ3ZDLElBQUcsSUFBQyxDQUFBLFdBQUQsS0FBZ0IsQ0FBbkI7YUFDSSxJQUFDLENBQUEsZ0JBQUQsQ0FBQSxFQURKO0tBQUEsTUFBQTthQUdJLElBQUMsQ0FBQSxjQUFELENBQUEsRUFISjs7RUFISTs7O0FBUVI7Ozs7OzsyQ0FLQSxnQkFBQSxHQUFrQixTQUFBO0FBQ2QsUUFBQTtJQUFBLEtBQUEsR0FBUSxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUN6QixJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVIsR0FBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLElBQW9CLENBQUMsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVQsSUFBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBbkM7SUFDdkMsQ0FBQSxHQUFJO0lBQ0osSUFBQSxHQUFPLElBQUMsQ0FBQSxNQUFNLENBQUM7QUFFZixTQUFTLDhFQUFUO01BQ0ksT0FBQSxHQUFVLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUE7TUFDM0IsT0FBTyxDQUFDLE1BQVIsR0FBaUIsSUFBQyxD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PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfU3ByZWFkTGF5b3V0QmVoYXZpb3JcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9TcHJlYWRMYXlvdXRCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICMjIypcbiAgICAqIFR1cm5zIGEgZ2FtZSBvYmplY3QgaW50byBhIHNwcmVhZC1sYXlvdXQgYW5kIHNwcmVhZHMgYWxsIHN1Yi1vYmplY3RzXG4gICAgKiBldmVubHkgb3ZlciB0aGUgbGF5b3V0LXNwYWNlIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5LiBUaGUgZ2FtZSBvYmplY3QgbmVlZHMgYSBcbiAgICAqIGNvbnRhaW5lci1jb21wb25lbnQuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9TcHJlYWRMYXlvdXRCZWhhdmlvclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X0xheW91dEJlaGF2aW9yXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAob3JpZW50YXRpb24pIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9yaWVudGF0aW9uIG9mIHRoZSBzcHJlYWQtbGF5b3V0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBvcmllbnRhdGlvblxuICAgICAgICAqIEB0eXBlIGdzLk9yaWVudGF0aW9uLlxuICAgICAgICAjIyNcbiAgICAgICAgQG9yaWVudGF0aW9uID0gb3JpZW50YXRpb24gfHwgMFxuXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgc3ByZWFkLWxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgQG9iamVjdC52aXNpYmxlXyA9IEBvYmplY3QudmlzaWJsZSBhbmQgKCFAb2JqZWN0LnBhcmVudCBvciBAb2JqZWN0LnBhcmVudC52aXNpYmxlKVxuICAgICAgICBpZiBAb3JpZW50YXRpb24gPT0gMFxuICAgICAgICAgICAgQGxheW91dEhvcml6b250YWwoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAbGF5b3V0VmVydGljYWwoKVxuICAgIFxuICAgICMjIypcbiAgICAqIFNwcmVhZHMgYWxsIHN1Yi1vYmplY3RzIGV2ZW5seSBvdmVyIHRoZSBsYXlvdXQtc3BhY2UgaG9yaXpvbnRhbGx5LlxuICAgICpcbiAgICAqIEBtZXRob2QgbGF5b3V0SG9yaXpvbnRhbFxuICAgICMjIyAgICAgICAgXG4gICAgbGF5b3V0SG9yaXpvbnRhbDogLT5cbiAgICAgICAgY291bnQgPSBAb2JqZWN0LmNvbnRyb2xzLmxlbmd0aFxuICAgICAgICBAb2JqZWN0LnZpc2libGVfID0gQG9iamVjdC52aXNpYmxlIGFuZCAoIUBvYmplY3QucGFyZW50IG9yIEBvYmplY3QucGFyZW50LnZpc2libGUpXG4gICAgICAgIHkgPSAwXG4gICAgICAgIHJlY3QgPSBAb2JqZWN0LmRzdFJlY3RcbiAgICAgICAgXG4gICAgICAgIGZvciBpIGluIFswLi4uY291bnRdXG4gICAgICAgICAgICBjb250cm9sID0gQG9iamVjdC5jb250cm9sc1tpXVxuICAgICAgICAgICAgY29udHJvbC5wYXJlbnQgPSBAb2JqZWN0XG4gICAgICAgICAgICBjb250cm9sLnVwZGF0ZSgpXG5cbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gTWF0aC5mbG9vcigocmVjdC53aWR0aC1jb250cm9sLmRzdFJlY3Qud2lkdGgpIC8gKGNvdW50LTEpKSAqIGlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgIWNvbnRyb2wuY2xpcFJlY3RcbiAgICAgICAgICAgICAgICBjb250cm9sLmNsaXBSZWN0ID0gQG9iamVjdC5jbGlwUmVjdFxuICAgICAgICAgICAgaWYgY29udHJvbC5hbGlnbm1lbnRZID09IDFcbiAgICAgICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IHkgKyBNYXRoLnJvdW5kKChyZWN0LmhlaWdodC0oY29udHJvbC5kc3RSZWN0LmhlaWdodCtjb250cm9sLm1hcmdpbi50b3ArY29udHJvbC5tYXJnaW4uYm90dG9tKSkgLyAyKVxuICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QuY2xpcFJlY3Q/XG4gICAgICAgICAgICBAb2JqZWN0LmNsaXBSZWN0LnNldChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpICBcbiAgICAgIFxuICAgICMjIypcbiAgICAqIFNwcmVhZHMgYWxsIHN1Yi1vYmplY3RzIGV2ZW5seSBvdmVyIHRoZSBsYXlvdXQtc3BhY2UgdmVydGljYWxseS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxheW91dEhvcml6b250YWxcbiAgICAjIyMgICAgICAgICAgICAgIFxuICAgIGxheW91dFZlcnRpY2FsOiAtPlxuICAgICAgICBjb3VudCA9IEBvYmplY3QuY29udHJvbHMubGVuZ3RoXG4gICAgICAgIEBvYmplY3QudmlzaWJsZV8gPSBAb2JqZWN0LnZpc2libGUgYW5kICghQG9iamVjdC5wYXJlbnQgb3IgQG9iamVjdC5wYXJlbnQudmlzaWJsZSlcbiAgICAgICAgeCA9IDBcbiAgICAgICAgcmVjdCA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICBcbiAgICAgICAgZm9yIGkgaW4gWzAuLi5jb3VudF1cbiAgICAgICAgICAgIGNvbnRyb2wgPSBAb2JqZWN0LmNvbnRyb2xzW2ldXG4gICAgICAgICAgICBjb250cm9sLnBhcmVudCA9IEBvYmplY3RcbiAgICAgICAgICAgIGNvbnRyb2wudXBkYXRlKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnkgPSBNYXRoLmZsb29yKHJlY3QuaGVpZ2h0IC8gY291bnQpICogaVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAhY29udHJvbC5jbGlwUmVjdFxuICAgICAgICAgICAgICAgIGNvbnRyb2wuY2xpcFJlY3QgPSBAb2JqZWN0LmNsaXBSZWN0XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBjb250cm9sLmFsaWdubWVudFggPT0gMVxuICAgICAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0geCArIE1hdGgucm91bmQoKHJlY3Qud2lkdGgtKGNvbnRyb2wuZHN0UmVjdC53aWR0aCtjb250cm9sLm1hcmdpbi5sZWZ0K2NvbnRyb2wubWFyZ2luLnJpZ2h0KSkgLyAyKVxuICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QuY2xpcFJlY3Q/XG4gICAgICAgICAgICBAb2JqZWN0LmNsaXBSZWN0LnNldChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpIFxuICAgXG5ncy5Db21wb25lbnRfU3ByZWFkTGF5b3V0QmVoYXZpb3IgPSBDb21wb25lbnRfU3ByZWFkTGF5b3V0QmVoYXZpb3IiXX0=
//# sourceURL=Component_SpreadLayoutBehavior_63.js
var Component_StackLayoutBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_StackLayoutBehavior = (function(superClass) {
  extend(Component_StackLayoutBehavior, superClass);


  /**
  * Turns a game object into a stack-layout and layouts all sub-objects
  * like stack vertically or horizontally. The game object needs a 
  * container-component.
  * <br>
  * The sub-objects in a stack-layout can be configured as resizable or
  * non-resizable(fixed-size). For example:<br>
  * <br>
  * Lets say we have a layout-size of 500px in width with three controls.<br>
  * <br>
  * | 80px | dynamic | 80px | <br>
  * <br>
  * Two controls have a fixed size of 80px and the middle-control has a
  * dynamic-size because it is configured to be resizable. In that case, 
  * the size of the resizable control would be 340px because that is the
  * free space left after subtracting the size(160px) of the fixed-size controls.<br>
  * <br>
  * In addition, each sub-object can have different alignment options.
  *
  * @module gs
  * @class Component_StackLayoutBehavior
  * @extends gs.Component_LayoutBehavior
  * @memberof gs
  * @constructor
   */

  function Component_StackLayoutBehavior(orientation) {
    Component_StackLayoutBehavior.__super__.constructor.apply(this, arguments);

    /**
    * The orientation of the stack-layout. Can be vertical or horizontal.
    * @property orientation
    * @type gs.Orientation
     */
    this.orientation = orientation || 0;

    /**
    * @property scrollOffsetX
    * @type number
    * @protected
     */
    this.scrollOffsetX = 0;

    /**
    * @property scrollOffsetY
    * @type number
    * @protected
     */
    this.scrollOffsetY = 0;

    /**
    * @property contentHeight
    * @type number
    * @protected
     */
    this.contentHeight = 0;

    /**
    * Control list-offset.
    * @property offset
    * @type number
    * @protected
     */
    this.offset = 0;

    /**
    * Count of controls to process.
    * @property contentHeight
    * @type number
    * @protected
     */
    this.count = 0;

    /**
    * Current x-coordinate. 
    * @property cx
    * @type number
    * @protected
     */
    this.cx = 0;

    /**
    * Current y-coordinate. 
    * @property cy
    * @type number
    * @protected
     */
    this.cy = 0;

    /**
    * Total size of all centered controls. 
    * @property centerSize
    * @type number
    * @protected
     */
    this.centerSize = 0;

    /**
    * Current x/y-coordinate for a centered control.
    * @property center
    * @type number
    * @protected
     */
    this.center = 0;

    /**
    * Current x/y-coordinate for a bottom/right aligned control.
    * @property bottom
    * @type number
    * @protected
     */
    this.bottom = 0;
    this.managementMode = 0;
  }


  /**
  * Initializes the layout.
  *
  * @method setup
   */

  Component_StackLayoutBehavior.prototype.setup = function() {
    this.update();
    if (this.object.scrollable) {
      return gs.GlobalEventManager.on("mouseWheel", (function(_this) {
        return function() {
          var r;
          r = _this.object.dstRect;
          if (Rect.contains(r.x, r.y, r.width, r.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y)) {
            return _this.object.update();
          }
        };
      })(this));
    }
  };


  /**
  * Updates the layout depending on its orientation.
  *
  * @method update
   */

  Component_StackLayoutBehavior.prototype.update = function() {
    Component_StackLayoutBehavior.__super__.update.apply(this, arguments);
    if (this.orientation === 0) {
      return this.layoutHorizontal();
    } else {
      return this.layoutVertical();
    }
  };


  /**
  * Sizes the layout to fit its content
  *
  * @method sizeToFit
  * @return number The content size.
   */

  Component_StackLayoutBehavior.prototype.sizeToFit = function() {
    if (this.orientation === 0) {
      return this.sizeToFitHorizontal();
    } else {
      return this.sizeToFitVertical();
    }
  };


  /**
  * Sizes the horizontal-layout to fit its content
  *
  * @method sizeToFitHorizontal
   */

  Component_StackLayoutBehavior.prototype.sizeToFitHorizontal = function() {
    var control, i, j, rect, ref, ref1, results, x, y;
    x = 0;
    y = 0;
    rect = this.object.dstRect;
    if (this.object.sizeToFit) {
      results = [];
      for (i = j = ref = this.offset, ref1 = this.count; ref <= ref1 ? j < ref1 : j > ref1; i = ref <= ref1 ? ++j : --j) {
        control = this.object.subObjects[i];
        if (!control.alignment) {
          rect.width = Math.max(x + control.margin.left + control.dstRect.width + control.margin.right, rect.width || 0);
          x += control.margin.left + control.dstRect.width + control.margin.right;
        }
        if (!control.alignmentY) {
          results.push(rect.height = Math.max(y + control.margin.top + control.dstRect.height + control.margin.bottom, rect.height || 0));
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };


  /**
  * Sizes the vertical-layout to fit its content
  *
  * @method sizeToFitVertical
   */

  Component_StackLayoutBehavior.prototype.sizeToFitVertical = function() {
    var control, j, len, rect, ref, results;
    rect = this.object.dstRect;
    if (this.object.sizeToFit) {
      ref = this.object.subObjects;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        control = ref[j];
        rect.width = Math.max(control.dstRect.x + control.dstRect.width + control.margin.right, rect.width || 1);
        results.push(rect.height = Math.max(control.dstRect.y + control.dstRect.height + control.margin.bottom, rect.height || 1));
      }
      return results;
    }
  };


  /**
  * Calculates the dynamic-size of a horizontal stack-layout. That size is used for
  * resizable-controls to let them fill all free space. It is calculated in the
  * following way:<br>
  * <br>
  * dynamic-size = sum-of-all-fixed-control-sizes / count-of-resizable-controls
  * <br>
  *
  * @method calculateDynamicSizeHorizontal
  * @return {number} The dynamic size.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.calculateDynamicSizeHorizontal = function() {
    var control, dynamicCount, fixedSize, i, j, len, rect, ref;
    fixedSize = 0;
    dynamicCount = 0;
    rect = this.object.dstRect;
    ref = this.object.subObjects;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      control = ref[i];
      if (control.resizable && !control.sizeToFit) {
        dynamicCount++;
      } else {
        fixedSize += control.margin.left + control.dstRect.width + control.margin.right;
        if (control.alignmentX === 1) {
          this.centerSize += control.dstRect.width + control.margin.right;
        }
      }
    }
    return Math.round((rect.width - fixedSize) / dynamicCount);
  };


  /**
  * Calculates the dynamic-size of a vertical stack-layout. That size is used for
  * resizable-controls to let them fill all free space. It is calculated in the
  * following way:<br>
  * <br>
  * dynamic-size = sum-of-all-fixed-control-sizes / count-of-resizable-controls
  * <br>
  *
  * @method calculateDynamicSizeVertical
  * @return {number} The dynamic size.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.calculateDynamicSizeVertical = function() {
    var control, dynamicCount, fixedSize, j, len, ref;
    fixedSize = 0;
    dynamicCount = 0;
    ref = this.object.subObjects;
    for (j = 0, len = ref.length; j < len; j++) {
      control = ref[j];
      if (control.resizable && !control.sizeToFit) {
        dynamicCount++;
      } else {
        fixedSize += control.dstRect.height;
        if (control.alignmentY === 1) {
          this.centerSize += control.dstRect.height + control.margin.bottom;
        }
      }
    }
    return Math.round((this.object.dstRect.height - fixedSize) / dynamicCount);
  };


  /**
  * Layouts the specified control as fixed-size control for a horizontal stack-layout. 
  *
  * @method updateControlRectFixedH
  * @param {gs.Object_Base} control The control to update.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.updateControlRectFixedH = function(control) {
    var rect;
    rect = this.object.dstRect;
    if (control.alignmentX === 0) {
      this.cx += control.margin.left;
      control.dstRect.x = this.cx;
      this.cx += control.dstRect.width + control.margin.right;
    } else if (control.alignmentX === 2) {
      this.bottom += control.margin.right;
      control.dstRect.x = (rect.x + rect.width) - control.dstRect.width - this.bottom;
      this.bottom += control.dstRect.width + control.margin.left;
    } else if (control.alignmentX === 1) {
      control.dstRect.x = this.center + (rect.width - this.centerSize) / 2;
      this.center += control.dstRect.width + control.margin.right;
    }
    if (control.alignmentY === 1) {
      return control.dstRect.y = this.cy + Math.round((rect.height - (control.dstRect.height + control.margin.top + control.margin.bottom)) / 2);
    } else {
      return control.dstRect.y = this.cy + control.margin.top;
    }
  };


  /**
  * Layouts the specified control as fixed-size control for a vertical stack-layout. 
  *
  * @method updateControlRectFixedV
  * @param {gs.Object_Base} control The control to update.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.updateControlRectFixedV = function(control) {
    var rect;
    rect = this.object.dstRect;
    if (control.alignmentY === 0) {
      this.cy += control.margin.top;
      control.dstRect.y = this.cy;
      this.cy += control.dstRect.height + control.margin.bottom;
      control.dstRect.x = this.cx + control.margin.left;
    } else if (control.alignmentY === 2) {
      this.bottom += control.margin.bottom;
      control.dstRect.y = rect.height - control.dstRect.height - this.bottom;
      this.bottom += control.dstRect.height + control.margin.top;
      control.dstRect.x = this.cx + control.margin.left;
    } else if (control.alignmentY === 1) {
      control.dstRect.y = this.center + (rect.height - this.centerSize) / 2;
      control.dstRect.x = this.cx + control.margin.left;
      this.center += control.dstRect.height + control.margin.bottom;
    }
    if (control.alignmentX === 1) {
      return control.dstRect.x = this.cx + Math.round((rect.width - control.dstRect.width) / 2);
    }
  };


  /**
  * Layouts the specified control as resizable-control for a horizontal stack-layout. 
  * That means the control will take up all free space after subtracting all 
  * fixed-size controls.
  *
  * @method updateControlRectResizableH
  * @param {gs.Object_Base} control The control to update.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.updateControlRectResizableH = function(control) {
    var dynamicSize;
    dynamicSize = this.calculateDynamicSizeHorizontal();
    control.dstRect.y = control.margin.top;
    control.dstRect.height = this.object.dstRect.height - control.margin.bottom - control.margin.top;
    control.dstRect.x = this.cx + control.margin.left;
    control.dstRect.width = dynamicSize - control.margin.right - control.margin.left;
    return this.cx += dynamicSize;
  };


  /**
  * Layouts the specified control as resizable-control for a vertical stack-layout. 
  * That means the control will take up all free space after subtracting all 
  * fixed-size controls.
  *
  * @method updateControlRectResizableV
  * @param {gs.Object_Base} control The control to update.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.updateControlRectResizableV = function(control) {
    var dynamicSize;
    dynamicSize = this.calculateDynamicSizeVertical();
    control.dstRect.x = control.margin.left;
    control.dstRect.width = this.object.dstRect.width - control.margin.right - control.margin.left;
    control.dstRect.y = this.cy + control.margin.top;
    control.dstRect.height = dynamicSize - control.margin.bottom - control.margin.top;
    return this.cy += dynamicSize;
  };


  /**
  * Updates a control.
  *
  * @method updateControl
  * @param {gs.Object_Base} control The control to update.
  * @protected
   */

  Component_StackLayoutBehavior.prototype.updateControl = function(control) {
    if (this.orientation === 1) {
      if (control.clipRect == null) {
        control.clipRect = this.object.clipRect;
      }
      if (true) {
        if (control.needsUpdate) {
          control.needsUpdate = false;
          control.update();
        }
        control.updated = true;
        return control.visible = true;
      } else {
        if (control.visible) {
          control.visible = false;
          return control.update();
        }
      }
    } else {
      return Component_StackLayoutBehavior.__super__.updateControl.call(this, control);
    }
  };


  /**
  * Layouts the sub-objects horizontally.
  *
  * @method layoutHorizontal
   */

  Component_StackLayoutBehavior.prototype.layoutHorizontal = function() {
    var control, i, ref;
    this.bottom = 0;
    this.center = 0;
    this.centerSize = 0;
    this.offset = this.object.listOffset || 0;
    this.count = this.object.subObjects.length;
    this.cx = 0;
    this.cy = 0;
    this.sizeToFitHorizontal();
    i = this.offset;
    while (i < this.object.subObjects.length) {
      control = this.object.subObjects[i];
      this.updateControl(control);
      if (control.disposed) {
        this.object.removeObject(control);
        i--;
      } else {
        if (control.resizable && !control.sizeToFit) {
          this.updateControlRectResizableH(control);
        } else {
          this.updateControlRectFixedH(control);
        }
      }
      i++;
    }
    if ((ref = this.object.clipRect) != null) {
      ref.set(this.object.dstRect.x + this.object.origin.x, this.object.dstRect.y + this.object.origin.y, this.object.dstRect.width, this.object.dstRect.height);
    }
    return null;
  };


  /**
  * Layouts the sub-objects vertically.
  *
  * @method layoutVertical
   */

  Component_StackLayoutBehavior.prototype.layoutVertical = function() {
    var control, currentY, i, ref;
    this.bottom = 0;
    this.center = 0;
    this.centerSize = 0;
    this.offset = this.object.listOffset || 0;
    this.count = this.object.subObjects.length;
    this.cx = 0;
    this.cy = 0;
    this.cy -= this.object.scrollOffsetY;
    i = this.offset;
    currentY = 0;
    while (i < this.object.subObjects.length) {
      control = this.object.subObjects[i];
      i++;
      if (!control) {
        continue;
      }
      this.updateControl(control);
      if (control.disposed) {
        this.object.removeObject(control);
        i--;
      } else {
        if (control.resizable && !control.sizeToFit) {
          this.updateControlRectResizableV(control);
        } else {
          this.updateControlRectFixedV(control);
        }
      }
    }
    this.sizeToFitVertical();
    if ((ref = this.object.clipRect) != null) {
      ref.set(this.object.dstRect.x + this.object.origin.x, this.object.dstRect.y + this.object.origin.y, this.object.dstRect.width, this.object.dstRect.height);
    }
    return null;
  };

  return Component_StackLayoutBehavior;

})(gs.Component_LayoutBehavior);

gs.Component_StackLayoutBehavior = Component_StackLayoutBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUF5QmEsdUNBQUMsV0FBRDtJQUNULGdFQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBZSxXQUFBLElBQWU7O0FBRTlCOzs7OztJQUtBLElBQUMsQ0FBQSxhQUFELEdBQWlCOztBQUVqQjs7Ozs7SUFLQSxJQUFDLENBQUEsYUFBRCxHQUFpQjs7QUFFakI7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7Ozs7SUFNQSxJQUFDLENBQUEsRUFBRCxHQUFNOztBQUVOOzs7Ozs7SUFNQSxJQUFDLENBQUEsRUFBRCxHQUFNOztBQUVOOzs7Ozs7SUFNQSxJQUFDLENBQUEsVUFBRCxHQUFjOztBQUVkOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVO0lBRVYsSUFBQyxDQUFBLGNBQUQsR0FBa0I7RUF2RlQ7OztBQXlGYjs7Ozs7OzBDQUtBLEtBQUEsR0FBTyxTQUFBO0lBQ0gsSUFBQyxDQUFBLE1BQUQsQ0FBQTtJQUVBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFYO2FBQ0ksRUFBRSxDQUFDLGtCQUFrQixDQUFDLEVBQXRCLENBQXlCLFlBQXpCLEVBQXVDLENBQUEsU0FBQSxLQUFBO2VBQUEsU0FBQTtBQUNuQyxjQUFBO1VBQUEsQ0FBQSxHQUFJLEtBQUMsQ0FBQSxNQUFNLENBQUM7VUFFWixJQUFHLElBQUksQ0FBQyxRQUFMLENBQWMsQ0FBQyxDQUFDLENBQWhCLEVBQW1CLENBQUMsQ0FBQyxDQUFyQixFQUF3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LEdBQVc7QUFFWCxXQUFNLENBQUEsR0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUE3QjtNQUNJLE9BQUEsR0FBVSxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVcsQ0FBQSxDQUFBO01BQzdCLENBQUE7TUFDQSxJQUFBLENBQWdCLE9BQWhCO0FBQUEsaUJBQUE7O01BRUEsSUFBQyxDQUFBLGFBQUQsQ0FBZSxPQUFmO01BRUEsSUFBRyxPQUFPLENBQUMsUUFBWDtRQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsWUFBUixDQUFxQixPQUFyQjtRQUNBLENBQUEsR0FGSjtPQUFBLE1BQUE7UUFJSSxJQUFHLE9BQU8sQ0FBQyxTQUFSLElBQXNCLENBQUMsT0FBTyxDQUFDLFNBQWxDO1VBQ0ksSUFBQyxDQUFBLDJCQUFELENBQTZCLE9BQTdCLEVBREo7U0FBQSxNQUFBO1VBR0ksSUFBQyxDQUFBLHVCQUFELENBQXlCLE9BQXpCLEVBSEo7U0FKSjs7SUFQSjtJQWdCQSxJQUFDLENBQUEsaUJBQUQsQ0FBQTs7U0FHZ0IsQ0FBRSxHQUFsQixDQUFzQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUF6RCxFQUE0RCxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUEvRixFQUFrRyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFsSCxFQUF5SCxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUF6STs7QUFFQSxXQUFPO0VBbENLOzs7O0dBell3QixFQUFFLENBQUM7O0FBNGEvQyxFQUFFLENBQUMsNkJBQUgsR0FBbUMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9TdGFja0xheW91dEJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfU3RhY2tMYXlvdXRCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICMjIypcbiAgICAqIFR1cm5zIGEgZ2FtZSBvYmplY3QgaW50byBhIHN0YWNrLWxheW91dCBhbmQgbGF5b3V0cyBhbGwgc3ViLW9iamVjdHNcbiAgICAqIGxpa2Ugc3RhY2sgdmVydGljYWxseSBvciBob3Jpem9udGFsbHkuIFRoZSBnYW1lIG9iamVjdCBuZWVkcyBhIFxuICAgICogY29udGFpbmVyLWNvbXBvbmVudC5cbiAgICAqIDxicj5cbiAgICAqIFRoZSBzdWItb2JqZWN0cyBpbiBhIHN0YWNrLWxheW91dCBjYW4gYmUgY29uZmlndXJlZCBhcyByZXNpemFibGUgb3JcbiAgICAqIG5vbi1yZXNpemFibGUoZml4ZWQtc2l6ZSkuIEZvciBleGFtcGxlOjxicj5cbiAgICAqIDxicj5cbiAgICAqIExldHMgc2F5IHdlIGhhdmUgYSBsYXlvdXQtc2l6ZSBvZiA1MDBweCBpbiB3aWR0aCB3aXRoIHRocmVlIGNvbnRyb2xzLjxicj5cbiAgICAqIDxicj5cbiAgICAqIHwgODBweCB8IGR5bmFtaWMgfCA4MHB4IHwgPGJyPlxuICAgICogPGJyPlxuICAgICogVHdvIGNvbnRyb2xzIGhhdmUgYSBmaXhlZCBzaXplIG9mIDgwcHggYW5kIHRoZSBtaWRkbGUtY29udHJvbCBoYXMgYVxuICAgICogZHluYW1pYy1zaXplIGJlY2F1c2UgaXQgaXMgY29uZmlndXJlZCB0byBiZSByZXNpemFibGUuIEluIHRoYXQgY2FzZSwgXG4gICAgKiB0aGUgc2l6ZSBvZiB0aGUgcmVzaXphYmxlIGNvbnRyb2wgd291bGQgYmUgMzQwcHggYmVjYXVzZSB0aGF0IGlzIHRoZVxuICAgICogZnJlZSBzcGFjZSBsZWZ0IGFmdGVyIHN1YnRyYWN0aW5nIHRoZSBzaXplKDE2MHB4KSBvZiB0aGUgZml4ZWQtc2l6ZSBjb250cm9scy48YnI+XG4gICAgKiA8YnI+XG4gICAgKiBJbiBhZGRpdGlvbiwgZWFjaCBzdWItb2JqZWN0IGNhbiBoYXZlIGRpZmZlcmVudCBhbGlnbm1lbnQgb3B0aW9ucy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1N0YWNrTGF5b3V0QmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKG9yaWVudGF0aW9uKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgc3RhY2stbGF5b3V0LiBDYW4gYmUgdmVydGljYWwgb3IgaG9yaXpvbnRhbC5cbiAgICAgICAgKiBAcHJvcGVydHkgb3JpZW50YXRpb25cbiAgICAgICAgKiBAdHlwZSBncy5PcmllbnRhdGlvblxuICAgICAgICAjIyNcbiAgICAgICAgQG9yaWVudGF0aW9uID0gb3JpZW50YXRpb24gfHwgMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBzY3JvbGxPZmZzZXRYXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHNjcm9sbE9mZnNldFggPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHNjcm9sbE9mZnNldFlcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAc2Nyb2xsT2Zmc2V0WSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgY29udGVudEhlaWdodFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb250ZW50SGVpZ2h0ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbnRyb2wgbGlzdC1vZmZzZXQuXG4gICAgICAgICogQHByb3BlcnR5IG9mZnNldFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBvZmZzZXQgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ291bnQgb2YgY29udHJvbHMgdG8gcHJvY2Vzcy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udGVudEhlaWdodFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb3VudCA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDdXJyZW50IHgtY29vcmRpbmF0ZS4gXG4gICAgICAgICogQHByb3BlcnR5IGN4XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGN4ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1cnJlbnQgeS1jb29yZGluYXRlLiBcbiAgICAgICAgKiBAcHJvcGVydHkgY3lcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY3kgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVG90YWwgc2l6ZSBvZiBhbGwgY2VudGVyZWQgY29udHJvbHMuIFxuICAgICAgICAqIEBwcm9wZXJ0eSBjZW50ZXJTaXplXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGNlbnRlclNpemUgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ3VycmVudCB4L3ktY29vcmRpbmF0ZSBmb3IgYSBjZW50ZXJlZCBjb250cm9sLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjZW50ZXJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY2VudGVyID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEN1cnJlbnQgeC95LWNvb3JkaW5hdGUgZm9yIGEgYm90dG9tL3JpZ2h0IGFsaWduZWQgY29udHJvbC5cbiAgICAgICAgKiBAcHJvcGVydHkgYm90dG9tXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGJvdHRvbSA9IDBcbiAgICAgICAgXG4gICAgICAgIEBtYW5hZ2VtZW50TW9kZSA9IDBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjIFxuICAgIHNldHVwOiAtPlxuICAgICAgICBAdXBkYXRlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5zY3JvbGxhYmxlXG4gICAgICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub24gXCJtb3VzZVdoZWVsXCIsID0+XG4gICAgICAgICAgICAgICAgciA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIFJlY3QuY29udGFpbnMoci54LCByLnksIHIud2lkdGgsIHIuaGVpZ2h0LCBJbnB1dC5Nb3VzZS54IC0gQG9iamVjdC5vcmlnaW4ueCwgSW5wdXQuTW91c2UueSAtIEBvYmplY3Qub3JpZ2luLnkpXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QudXBkYXRlKClcblxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGxheW91dCBkZXBlbmRpbmcgb24gaXRzIG9yaWVudGF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgXG4gICAgICAgIGlmIEBvcmllbnRhdGlvbiA9PSAwXG4gICAgICAgICAgICBAbGF5b3V0SG9yaXpvbnRhbCgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBsYXlvdXRWZXJ0aWNhbCgpXG4gICAgXG4gICAgIyMjKlxuICAgICogU2l6ZXMgdGhlIGxheW91dCB0byBmaXQgaXRzIGNvbnRlbnRcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNpemVUb0ZpdFxuICAgICogQHJldHVybiBudW1iZXIgVGhlIGNvbnRlbnQgc2l6ZS5cbiAgICAjIyNcbiAgICBzaXplVG9GaXQ6IC0+XG4gICAgICAgIGlmIEBvcmllbnRhdGlvbiA9PSAwXG4gICAgICAgICAgICByZXR1cm4gQHNpemVUb0ZpdEhvcml6b250YWwoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gQHNpemVUb0ZpdFZlcnRpY2FsKClcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFNpemVzIHRoZSBob3Jpem9udGFsLWxheW91dCB0byBmaXQgaXRzIGNvbnRlbnRcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNpemVUb0ZpdEhvcml6b250YWxcbiAgICAjIyNcbiAgICBzaXplVG9GaXRIb3Jpem9udGFsOiAtPlxuICAgICAgICB4ID0gMFxuICAgICAgICB5ID0gMFxuICAgICAgICByZWN0ID0gQG9iamVjdC5kc3RSZWN0XG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnNpemVUb0ZpdFxuICAgICAgICAgICAgZm9yIGkgaW4gW0BvZmZzZXQuLi5AY291bnRdXG4gICAgICAgICAgICAgICAgY29udHJvbCA9IEBvYmplY3Quc3ViT2JqZWN0c1tpXVxuXG4gICAgICAgICAgICAgICAgaWYgIWNvbnRyb2wuYWxpZ25tZW50XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qud2lkdGggPSBNYXRoLm1heCh4ICsgY29udHJvbC5tYXJnaW4ubGVmdCArIGNvbnRyb2wuZHN0UmVjdC53aWR0aCArIGNvbnRyb2wubWFyZ2luLnJpZ2h0LCByZWN0LndpZHRoIHx8IDApXG4gICAgICAgICAgICAgICAgICAgIHggKz0gY29udHJvbC5tYXJnaW4ubGVmdCArIGNvbnRyb2wuZHN0UmVjdC53aWR0aCArIGNvbnRyb2wubWFyZ2luLnJpZ2h0XG4gICAgICAgICAgICAgICAgaWYgIWNvbnRyb2wuYWxpZ25tZW50WVxuICAgICAgICAgICAgICAgICAgICByZWN0LmhlaWdodCA9IE1hdGgubWF4KHkgKyBjb250cm9sLm1hcmdpbi50b3AgKyBjb250cm9sLmRzdFJlY3QuaGVpZ2h0ICsgY29udHJvbC5tYXJnaW4uYm90dG9tLCByZWN0LmhlaWdodCB8fCAwKVxuICAgIFxuICAgICMjIypcbiAgICAqIFNpemVzIHRoZSB2ZXJ0aWNhbC1sYXlvdXQgdG8gZml0IGl0cyBjb250ZW50XG4gICAgKlxuICAgICogQG1ldGhvZCBzaXplVG9GaXRWZXJ0aWNhbFxuICAgICMjIyAgICBcbiAgICBzaXplVG9GaXRWZXJ0aWNhbDogLT5cbiAgICAgICAgcmVjdCA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICBpZiBAb2JqZWN0LnNpemVUb0ZpdFxuICAgICAgICAgICAgZm9yIGNvbnRyb2wgaW4gQG9iamVjdC5zdWJPYmplY3RzXG4gICAgICAgICAgICAgICAgcmVjdC53aWR0aCA9IE1hdGgubWF4KGNvbnRyb2wuZHN0UmVjdC54ICsgY29udHJvbC5kc3RSZWN0LndpZHRoICsgY29udHJvbC5tYXJnaW4ucmlnaHQsIHJlY3Qud2lkdGggfHwgMSlcbiAgICAgICAgICAgICAgICByZWN0LmhlaWdodCA9IE1hdGgubWF4KGNvbnRyb2wuZHN0UmVjdC55ICsgY29udHJvbC5kc3RSZWN0LmhlaWdodCArIGNvbnRyb2wubWFyZ2luLmJvdHRvbSwgcmVjdC5oZWlnaHQgfHwgMSlcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIENhbGN1bGF0ZXMgdGhlIGR5bmFtaWMtc2l6ZSBvZiBhIGhvcml6b250YWwgc3RhY2stbGF5b3V0LiBUaGF0IHNpemUgaXMgdXNlZCBmb3JcbiAgICAqIHJlc2l6YWJsZS1jb250cm9scyB0byBsZXQgdGhlbSBmaWxsIGFsbCBmcmVlIHNwYWNlLiBJdCBpcyBjYWxjdWxhdGVkIGluIHRoZVxuICAgICogZm9sbG93aW5nIHdheTo8YnI+XG4gICAgKiA8YnI+XG4gICAgKiBkeW5hbWljLXNpemUgPSBzdW0tb2YtYWxsLWZpeGVkLWNvbnRyb2wtc2l6ZXMgLyBjb3VudC1vZi1yZXNpemFibGUtY29udHJvbHNcbiAgICAqIDxicj5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUR5bmFtaWNTaXplSG9yaXpvbnRhbFxuICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZHluYW1pYyBzaXplLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBjYWxjdWxhdGVEeW5hbWljU2l6ZUhvcml6b250YWw6IC0+XG4gICAgICAgIGZpeGVkU2l6ZSA9IDBcbiAgICAgICAgZHluYW1pY0NvdW50ID0gMFxuICAgICAgICByZWN0ID0gQG9iamVjdC5kc3RSZWN0XG4gICAgICAgIGZvciBjb250cm9sLCBpIGluIEBvYmplY3Quc3ViT2JqZWN0c1xuICAgICAgICAgICAgaWYgY29udHJvbC5yZXNpemFibGUgYW5kICFjb250cm9sLnNpemVUb0ZpdFxuICAgICAgICAgICAgICAgIGR5bmFtaWNDb3VudCsrXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZml4ZWRTaXplICs9IGNvbnRyb2wubWFyZ2luLmxlZnQgKyBjb250cm9sLmRzdFJlY3Qud2lkdGggKyBjb250cm9sLm1hcmdpbi5yaWdodFxuICAgICAgICAgICAgICAgIGlmIGNvbnRyb2wuYWxpZ25tZW50WCA9PSAxXG4gICAgICAgICAgICAgICAgICAgIEBjZW50ZXJTaXplICs9IGNvbnRyb2wuZHN0UmVjdC53aWR0aCArIGNvbnRyb2wubWFyZ2luLnJpZ2h0XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChyZWN0LndpZHRoIC0gZml4ZWRTaXplKSAvIGR5bmFtaWNDb3VudCkgXG4gICAgIFxuICAgICMjIypcbiAgICAqIENhbGN1bGF0ZXMgdGhlIGR5bmFtaWMtc2l6ZSBvZiBhIHZlcnRpY2FsIHN0YWNrLWxheW91dC4gVGhhdCBzaXplIGlzIHVzZWQgZm9yXG4gICAgKiByZXNpemFibGUtY29udHJvbHMgdG8gbGV0IHRoZW0gZmlsbCBhbGwgZnJlZSBzcGFjZS4gSXQgaXMgY2FsY3VsYXRlZCBpbiB0aGVcbiAgICAqIGZvbGxvd2luZyB3YXk6PGJyPlxuICAgICogPGJyPlxuICAgICogZHluYW1pYy1zaXplID0gc3VtLW9mLWFsbC1maXhlZC1jb250cm9sLXNpemVzIC8gY291bnQtb2YtcmVzaXphYmxlLWNvbnRyb2xzXG4gICAgKiA8YnI+XG4gICAgKlxuICAgICogQG1ldGhvZCBjYWxjdWxhdGVEeW5hbWljU2l6ZVZlcnRpY2FsXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkeW5hbWljIHNpemUuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIGNhbGN1bGF0ZUR5bmFtaWNTaXplVmVydGljYWw6IC0+XG4gICAgICAgIGZpeGVkU2l6ZSA9IDBcbiAgICAgICAgZHluYW1pY0NvdW50ID0gMFxuICAgICAgICBcbiAgICAgICAgZm9yIGNvbnRyb2wgaW4gQG9iamVjdC5zdWJPYmplY3RzXG4gICAgICAgICAgICBpZiBjb250cm9sLnJlc2l6YWJsZSBhbmQgIWNvbnRyb2wuc2l6ZVRvRml0XG4gICAgICAgICAgICAgICAgZHluYW1pY0NvdW50KytcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmaXhlZFNpemUgKz0gY29udHJvbC5kc3RSZWN0LmhlaWdodFxuICAgICAgICAgICAgICAgIGlmIGNvbnRyb2wuYWxpZ25tZW50WSA9PSAxXG4gICAgICAgICAgICAgICAgICAgIEBjZW50ZXJTaXplICs9IGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgKyBjb250cm9sLm1hcmdpbi5ib3R0b21cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgLSBmaXhlZFNpemUpIC8gZHluYW1pY0NvdW50KVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMYXlvdXRzIHRoZSBzcGVjaWZpZWQgY29udHJvbCBhcyBmaXhlZC1zaXplIGNvbnRyb2wgZm9yIGEgaG9yaXpvbnRhbCBzdGFjay1sYXlvdXQuIFxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29udHJvbFJlY3RGaXhlZEhcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGNvbnRyb2wgVGhlIGNvbnRyb2wgdG8gdXBkYXRlLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjI1xuICAgIHVwZGF0ZUNvbnRyb2xSZWN0Rml4ZWRIOiAoY29udHJvbCkgLT5cbiAgICAgICAgcmVjdCA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICBpZiBjb250cm9sLmFsaWdubWVudFggPT0gMFxuICAgICAgICAgICAgQGN4ICs9IGNvbnRyb2wubWFyZ2luLmxlZnRcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gQGN4XG4gICAgICAgICAgICBAY3ggKz0gY29udHJvbC5kc3RSZWN0LndpZHRoICsgY29udHJvbC5tYXJnaW4ucmlnaHRcbiAgICAgICAgZWxzZSBpZiBjb250cm9sLmFsaWdubWVudFggPT0gMlxuICAgICAgICAgICAgQGJvdHRvbSArPSBjb250cm9sLm1hcmdpbi5yaWdodFxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnggPSAocmVjdC54K3JlY3Qud2lkdGgpIC0gY29udHJvbC5kc3RSZWN0LndpZHRoIC0gQGJvdHRvbVxuICAgICAgICAgICAgQGJvdHRvbSArPSBjb250cm9sLmRzdFJlY3Qud2lkdGggKyBjb250cm9sLm1hcmdpbi5sZWZ0XG4gICAgICAgIGVsc2UgaWYgY29udHJvbC5hbGlnbm1lbnRYID09IDFcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gQGNlbnRlciArIChyZWN0LndpZHRoIC0gQGNlbnRlclNpemUpIC8gMlxuICAgICAgICAgICAgQGNlbnRlciArPSBjb250cm9sLmRzdFJlY3Qud2lkdGggKyBjb250cm9sLm1hcmdpbi5yaWdodFxuICAgICAgICAgICAgXG4gICAgICAgIGlmIGNvbnRyb2wuYWxpZ25tZW50WSA9PSAxXG4gICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IEBjeSArIE1hdGgucm91bmQoKHJlY3QuaGVpZ2h0LShjb250cm9sLmRzdFJlY3QuaGVpZ2h0K2NvbnRyb2wubWFyZ2luLnRvcCtjb250cm9sLm1hcmdpbi5ib3R0b20pKSAvIDIpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC55ID0gQGN5ICsgY29udHJvbC5tYXJnaW4udG9wXG4gICAgIFxuICAgICMjIypcbiAgICAqIExheW91dHMgdGhlIHNwZWNpZmllZCBjb250cm9sIGFzIGZpeGVkLXNpemUgY29udHJvbCBmb3IgYSB2ZXJ0aWNhbCBzdGFjay1sYXlvdXQuIFxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlQ29udHJvbFJlY3RGaXhlZFZcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGNvbnRyb2wgVGhlIGNvbnRyb2wgdG8gdXBkYXRlLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgXG4gICAgdXBkYXRlQ29udHJvbFJlY3RGaXhlZFY6IChjb250cm9sKSAtPlxuICAgICAgICByZWN0ID0gQG9iamVjdC5kc3RSZWN0XG4gICAgICAgIGlmIGNvbnRyb2wuYWxpZ25tZW50WSA9PSAwXG4gICAgICAgICAgICBAY3kgKz0gY29udHJvbC5tYXJnaW4udG9wXG4gICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueSA9IEBjeVxuICAgICAgICAgICAgQGN5ICs9IGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgKyBjb250cm9sLm1hcmdpbi5ib3R0b21cbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gQGN4ICsgY29udHJvbC5tYXJnaW4ubGVmdFxuICAgICAgICBlbHNlIGlmIGNvbnRyb2wuYWxpZ25tZW50WSA9PSAyXG4gICAgICAgICAgICBAYm90dG9tICs9IGNvbnRyb2wubWFyZ2luLmJvdHRvbVxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnkgPSAocmVjdC5oZWlnaHQpIC0gY29udHJvbC5kc3RSZWN0LmhlaWdodCAtIEBib3R0b21cbiAgICAgICAgICAgIEBib3R0b20gKz0gY29udHJvbC5kc3RSZWN0LmhlaWdodCArIGNvbnRyb2wubWFyZ2luLnRvcFxuICAgICAgICAgICAgY29udHJvbC5kc3RSZWN0LnggPSBAY3ggKyBjb250cm9sLm1hcmdpbi5sZWZ0XG4gICAgICAgIGVsc2UgaWYgY29udHJvbC5hbGlnbm1lbnRZID09IDFcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC55ID0gQGNlbnRlciArIChyZWN0LmhlaWdodCAtIEBjZW50ZXJTaXplKSAvIDJcbiAgICAgICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gQGN4ICsgY29udHJvbC5tYXJnaW4ubGVmdFxuICAgICAgICAgICAgQGNlbnRlciArPSBjb250cm9sLmRzdFJlY3QuaGVpZ2h0ICsgY29udHJvbC5tYXJnaW4uYm90dG9tXG4gICAgICAgIGlmIGNvbnRyb2wuYWxpZ25tZW50WCA9PSAxXG4gICAgICAgICAgICBjb250cm9sLmRzdFJlY3QueCA9IEBjeCArIE1hdGgucm91bmQoKHJlY3Qud2lkdGgtY29udHJvbC5kc3RSZWN0LndpZHRoKSAvIDIpXG4gICAgIFxuICAgICMjIypcbiAgICAqIExheW91dHMgdGhlIHNwZWNpZmllZCBjb250cm9sIGFzIHJlc2l6YWJsZS1jb250cm9sIGZvciBhIGhvcml6b250YWwgc3RhY2stbGF5b3V0LiBcbiAgICAqIFRoYXQgbWVhbnMgdGhlIGNvbnRyb2wgd2lsbCB0YWtlIHVwIGFsbCBmcmVlIHNwYWNlIGFmdGVyIHN1YnRyYWN0aW5nIGFsbCBcbiAgICAqIGZpeGVkLXNpemUgY29udHJvbHMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb250cm9sUmVjdFJlc2l6YWJsZUhcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGNvbnRyb2wgVGhlIGNvbnRyb2wgdG8gdXBkYXRlLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgXG4gICAgdXBkYXRlQ29udHJvbFJlY3RSZXNpemFibGVIOiAoY29udHJvbCkgLT5cbiAgICAgICAgZHluYW1pY1NpemUgPSBAY2FsY3VsYXRlRHluYW1pY1NpemVIb3Jpem9udGFsKCkgXG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC55ID0gY29udHJvbC5tYXJnaW4udG9wXG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgPSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0IC0gY29udHJvbC5tYXJnaW4uYm90dG9tIC0gY29udHJvbC5tYXJnaW4udG9wXG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC54ID0gQGN4ICsgY29udHJvbC5tYXJnaW4ubGVmdFxuICAgICAgICBjb250cm9sLmRzdFJlY3Qud2lkdGggPSBkeW5hbWljU2l6ZSAtIGNvbnRyb2wubWFyZ2luLnJpZ2h0IC0gY29udHJvbC5tYXJnaW4ubGVmdFxuICAgICAgICBAY3ggKz0gZHluYW1pY1NpemVcbiAgICBcbiAgICAjIyMqXG4gICAgKiBMYXlvdXRzIHRoZSBzcGVjaWZpZWQgY29udHJvbCBhcyByZXNpemFibGUtY29udHJvbCBmb3IgYSB2ZXJ0aWNhbCBzdGFjay1sYXlvdXQuIFxuICAgICogVGhhdCBtZWFucyB0aGUgY29udHJvbCB3aWxsIHRha2UgdXAgYWxsIGZyZWUgc3BhY2UgYWZ0ZXIgc3VidHJhY3RpbmcgYWxsIFxuICAgICogZml4ZWQtc2l6ZSBjb250cm9scy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnRyb2xSZWN0UmVzaXphYmxlVlxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gY29udHJvbCBUaGUgY29udHJvbCB0byB1cGRhdGUuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIHVwZGF0ZUNvbnRyb2xSZWN0UmVzaXphYmxlVjogKGNvbnRyb2wpIC0+XG4gICAgICAgIGR5bmFtaWNTaXplID0gQGNhbGN1bGF0ZUR5bmFtaWNTaXplVmVydGljYWwoKVxuICAgICAgICBjb250cm9sLmRzdFJlY3QueCA9IGNvbnRyb2wubWFyZ2luLmxlZnRcbiAgICAgICAgY29udHJvbC5kc3RSZWN0LndpZHRoID0gQG9iamVjdC5kc3RSZWN0LndpZHRoIC0gY29udHJvbC5tYXJnaW4ucmlnaHQgLSBjb250cm9sLm1hcmdpbi5sZWZ0XG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC55ID0gQGN5ICsgY29udHJvbC5tYXJnaW4udG9wXG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQgPSBkeW5hbWljU2l6ZSAtIGNvbnRyb2wubWFyZ2luLmJvdHRvbSAtIGNvbnRyb2wubWFyZ2luLnRvcFxuICAgICAgICBAY3kgKz0gZHluYW1pY1NpemVcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIGEgY29udHJvbC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnRyb2xcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGNvbnRyb2wgVGhlIGNvbnRyb2wgdG8gdXBkYXRlLlxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICB1cGRhdGVDb250cm9sOiAoY29udHJvbCkgLT5cbiAgICAgICAgaWYgQG9yaWVudGF0aW9uID09IDFcbiAgICAgICAgICAgIGlmIG5vdCBjb250cm9sLmNsaXBSZWN0PyB0aGVuIGNvbnRyb2wuY2xpcFJlY3QgPSBAb2JqZWN0LmNsaXBSZWN0XG4gICAgICAgICAgICBpZiB5ZXMgIyFjb250cm9sLnVwZGF0ZWQgb3IgKFJlY3QuaW50ZXJzZWN0KGNvbnRyb2wuZHN0UmVjdC54K0BvYmplY3QuZHN0UmVjdC54LCBjb250cm9sLmRzdFJlY3QueSsgQG9iamVjdC5kc3RSZWN0LnksIGNvbnRyb2wuZHN0UmVjdC53aWR0aCwgY29udHJvbC5kc3RSZWN0LmhlaWdodCwgQG9iamVjdC5kc3RSZWN0LngsIEBvYmplY3QuZHN0UmVjdC55LCBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQpKVxuICAgICAgICAgICAgICAgIGlmIGNvbnRyb2wubmVlZHNVcGRhdGVcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5uZWVkc1VwZGF0ZSA9IG5vXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudXBkYXRlKClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29udHJvbC51cGRhdGVkID0geWVzXG4gICAgICAgICAgICAgICAgY29udHJvbC52aXNpYmxlID0geWVzXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaWYgY29udHJvbC52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudmlzaWJsZSA9IG5vXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudXBkYXRlKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3VwZXIoY29udHJvbClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogTGF5b3V0cyB0aGUgc3ViLW9iamVjdHMgaG9yaXpvbnRhbGx5LlxuICAgICpcbiAgICAqIEBtZXRob2QgbGF5b3V0SG9yaXpvbnRhbFxuICAgICMjIyBcbiAgICBsYXlvdXRIb3Jpem9udGFsOiAtPlxuICAgICAgICBAYm90dG9tID0gMFxuICAgICAgICBAY2VudGVyID0gMFxuICAgICAgICBAY2VudGVyU2l6ZSA9IDBcbiAgICAgICAgQG9mZnNldCA9IChAb2JqZWN0Lmxpc3RPZmZzZXR8fDApXG4gICAgICAgIEBjb3VudCA9IEBvYmplY3Quc3ViT2JqZWN0cy5sZW5ndGhcbiAgICAgICAgQGN4ID0gMFxuICAgICAgICBAY3kgPSAwXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgQHNpemVUb0ZpdEhvcml6b250YWwoKVxuICAgICAgICBcbiAgICAgICAgaSA9IEBvZmZzZXRcbiAgICAgICAgd2hpbGUgaSA8IEBvYmplY3Quc3ViT2JqZWN0cy5sZW5ndGhcbiAgICAgICAgICAgIGNvbnRyb2wgPSBAb2JqZWN0LnN1Yk9iamVjdHNbaV1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHVwZGF0ZUNvbnRyb2woY29udHJvbClcblxuICAgICAgICAgICAgaWYgY29udHJvbC5kaXNwb3NlZFxuICAgICAgICAgICAgICAgIEBvYmplY3QucmVtb3ZlT2JqZWN0KGNvbnRyb2wpXG4gICAgICAgICAgICAgICAgaS0tXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaWYgY29udHJvbC5yZXNpemFibGUgYW5kICFjb250cm9sLnNpemVUb0ZpdFxuICAgICAgICAgICAgICAgICAgICBAdXBkYXRlQ29udHJvbFJlY3RSZXNpemFibGVIKGNvbnRyb2wpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBAdXBkYXRlQ29udHJvbFJlY3RGaXhlZEgoY29udHJvbClcbiAgICAgICAgICAgIGkrKyAgICBcbiAgICAgICAgQG9iamVjdC5jbGlwUmVjdD8uc2V0KEBvYmplY3QuZHN0UmVjdC54ICsgQG9iamVjdC5vcmlnaW4ueCwgQG9iamVjdC5kc3RSZWN0LnkgKyBAb2JqZWN0Lm9yaWdpbi55LCBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQpICBcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMYXlvdXRzIHRoZSBzdWItb2JqZWN0cyB2ZXJ0aWNhbGx5LlxuICAgICpcbiAgICAqIEBtZXRob2QgbGF5b3V0VmVydGljYWxcbiAgICAjIyMgICAgICAgICAgIFxuICAgIGxheW91dFZlcnRpY2FsOiAtPlxuICAgICAgICBAYm90dG9tID0gMFxuICAgICAgICBAY2VudGVyID0gMFxuICAgICAgICBAY2VudGVyU2l6ZSA9IDBcbiAgICAgICAgQG9mZnNldCA9IChAb2JqZWN0Lmxpc3RPZmZzZXR8fDApXG4gICAgICAgIEBjb3VudCA9IEBvYmplY3Quc3ViT2JqZWN0cy5sZW5ndGhcbiAgICAgICAgQGN4ID0gMFxuICAgICAgICBAY3kgPSAwXG4gICAgICAgIFxuICAgICAgICBAY3kgLT0gQG9iamVjdC5zY3JvbGxPZmZzZXRZXG4gICAgICAgIGkgPSBAb2Zmc2V0XG4gICAgICAgIGN1cnJlbnRZID0gMFxuICAgICAgICBcbiAgICAgICAgd2hpbGUgaSA8IEBvYmplY3Quc3ViT2JqZWN0cy5sZW5ndGhcbiAgICAgICAgICAgIGNvbnRyb2wgPSBAb2JqZWN0LnN1Yk9iamVjdHNbaV1cbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgY29udGludWUgdW5sZXNzIGNvbnRyb2xcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHVwZGF0ZUNvbnRyb2woY29udHJvbClcbiBcbiAgICAgICAgICAgIGlmIGNvbnRyb2wuZGlzcG9zZWRcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnJlbW92ZU9iamVjdChjb250cm9sKVxuICAgICAgICAgICAgICAgIGktLVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGlmIGNvbnRyb2wucmVzaXphYmxlIGFuZCAhY29udHJvbC5zaXplVG9GaXRcbiAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZUNvbnRyb2xSZWN0UmVzaXphYmxlVihjb250cm9sKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZUNvbnRyb2xSZWN0Rml4ZWRWKGNvbnRyb2wpXG4gICAgICAgICAgICBcbiAgICAgICAgQHNpemVUb0ZpdFZlcnRpY2FsKCkgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuY2xpcFJlY3Q/LnNldChAb2JqZWN0LmRzdFJlY3QueCArIEBvYmplY3Qub3JpZ2luLngsIEBvYmplY3QuZHN0UmVjdC55ICsgQG9iamVjdC5vcmlnaW4ueSwgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0KSAgXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGwgICAgXG5ncy5Db21wb25lbnRfU3RhY2tMYXlvdXRCZWhhdmlvciA9IENvbXBvbmVudF9TdGFja0xheW91dEJlaGF2aW9yIl19
//# sourceURL=Component_StackLayoutBehavior_82.js
var Component_GridLayoutBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_GridLayoutBehavior = (function(superClass) {
  extend(Component_GridLayoutBehavior, superClass);


  /**
  * Turns a game object into a free-layout and layouts all sub-objects
  * in a grid of rows and columns.
  
  * @module gs
  * @class Component_GridLayoutBehavior
  * @extends gs.Component_LayoutBehavior
  * @memberof gs
  * @constructor
   */

  function Component_GridLayoutBehavior() {
    Component_GridLayoutBehavior.__super__.constructor.apply(this, arguments);
    this.column = 0;
    this.row = 0;
  }

  Component_GridLayoutBehavior.prototype.sizeToFit = function() {};


  /**
  * Updates a specified control.
  *
  * @method updateControl
  * @protected
  * @param {gs.Object_Base} control The control to update
   */

  Component_GridLayoutBehavior.prototype.updateControl = function(control) {
    var cellSpacing, rect;
    Component_GridLayoutBehavior.__super__.updateControl.apply(this, arguments);
    cellSpacing = this.object.cellSpacing;
    rect = this.object.dstRect;
    control.parent = this.object;
    control.dstRect.x = cellSpacing[0] + this.column * (control.dstRect.width + cellSpacing[2]);
    control.dstRect.y = cellSpacing[1] + this.row * (control.dstRect.height + cellSpacing[3]);
    if (control.needsUpdate) {
      control.needsUpdate = false;
      control.update();
    }
    if (this.object.sizeToFit) {
      rect.width = Math.max(control.dstRect.x + control.dstRect.width + cellSpacing[2], rect.width || 0);
      return rect.height = Math.max(control.dstRect.y + control.dstRect.height + cellSpacing[3], rect.height || 0);
    }
  };


  /**
  * Updates the grid-layout.
  *
  * @method update
   */

  Component_GridLayoutBehavior.prototype.update = function() {
    var cellSpacing, columns, control, count, i, j, offset, rect, ref, ref1, rows;
    this.updateOrigin();
    cellSpacing = this.object.cellSpacing;
    rows = this.object.rows;
    columns = this.object.columns;
    this.row = 0;
    this.column = 0;
    offset = (this.object.listOffset || 0) * (rows * columns);
    count = Math.min(this.object.subObjects.length, rows * columns + offset);
    rect = this.object.dstRect;
    for (i = j = ref = offset, ref1 = count; ref <= ref1 ? j < ref1 : j > ref1; i = ref <= ref1 ? ++j : --j) {
      control = this.object.subObjects[i];
      control.index = i;
      this.updateControl(control);
      this.column++;
      if (this.column >= columns) {
        this.column = 0;
        this.row++;
      }
      if (this.row >= rows) {
        break;
      }
    }
    if (this.object.clipRect != null) {
      return this.object.clipRect.set(rect.x, rect.y, rect.width, rect.height);
    }
  };

  return Component_GridLayoutBehavior;

})(gs.Component_LayoutBehavior);

gs.Component_GridLayoutBehavior = Component_GridLayoutBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNEJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSxzQ0FBQTtJQUNULCtEQUFBLFNBQUE7SUFFQSxJQUFDLENBQUEsTUFBRCxHQUFVO0lBQ1YsSUFBQyxDQUFBLEdBQUQsR0FBTztFQUpFOzt5Q0FNYixTQUFBLEdBQVcsU0FBQSxHQUFBOzs7QUFFWDs7Ozs7Ozs7eUNBT0EsYUFBQSxHQUFlLFNBQUMsT0FBRDtBQUNYLFFBQUE7SUFBQSxpRUFBQSxTQUFBO0lBRUEsV0FBQSxHQUFjLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDdEIsSUFBQSxHQUFPLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFFZixPQUFPLENBQUMsTUFBUixHQUFpQixJQUFDLENBQUE7SUFDbEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixXQUFZLENBQUEsQ0FBQSxDQUFaLEdBQWlCLElBQUMsQ0FBQSxNQUFELEdBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQWhCLEdBQXNCLFdBQVksQ0FBQSxDQUFBLENBQW5DO0lBQy9DLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsV0FBWSxDQUFBLENBQUEsQ0FBWixHQUFpQixJQUFDLENBQUEsR0FBRCxHQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFoQixHQUF1QixXQUFZLENBQUEsQ0FBQSxDQUFwQztJQUM1QyxJQUFHLE9BQU8sQ0FBQyxXQUFYO01BQ0ksT0FBTyxDQUFDLFdBQVIsR0FBc0I7TUFDdEIsT0FBTyxDQUFDLE1BQVIsQ0FBQSxFQUZKOztJQUlBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFYO01BQ0ksSUFBSSxDQUFDLEtBQUwsR0FBYSxJQUFJLENBQUMsR0FBTCxDQUFTLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFwQyxHQUE0QyxXQUFZLENBQUEsQ0FBQSxDQUFqRSxFQUFxRSxJQUFJLENBQUMsS0FBTCxJQUFjLENBQW5GO2FBQ2IsSUFBSSxDQUFDLE1BQUwsR0FBYyxJQUFJLENBQUMsR0FBTCxDQUFTLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFwQyxHQUE2QyxXQUFZLENBQUEsQ0FBQSxDQUFsRSxFQUFzRSxJQUFJLENBQUMsTUFBTCxJQUFlLENBQXJGLEVBRmxCOztFQWJXOzs7QUFrQmY7Ozs7Ozt5Q0FLQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxJQUFDLENBQUEsWUFBRCxDQUFBO0lBRUEsV0FBQSxHQUFjLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDdEIsSUFBQSxHQUFPLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFDZixPQUFBLEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUNsQixJQUFDLENBQUEsR0FBRCxHQUFPO0lBQ1AsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLE1BQUEsR0FBUyxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBUixJQUFvQixDQUFyQixDQUFBLEdBQTBCLENBQUMsSUFBQSxHQUFPLE9BQVI7SUFDbkMsS0FBQSxHQUFRLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBNUIsRUFBb0MsSUFBQSxHQUFPLE9BQVAsR0FBaUIsTUFBckQ7SUFDUixJQUFBLEdBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQztBQUVmLFNBQVMsa0dBQVQ7TUFDSSxPQUFBLEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFXLENBQUEsQ0FBQTtNQUM3QixPQUFPLENBQUMsS0FBUixHQUFnQjtNQUVoQixJQUFDLENBQUEsYUFBRCxDQUFlLE9BQWY7TUFFQSxJQUFDLENBQUEsTUFBRDtNQUNBLElBQUcsSUFBQyxDQUFBLE1BQUQsSUFBVyxPQUFkO1FBQ0ksSUFBQyxDQUFBLE1BQUQsR0FBVTtRQUNWLElBQUMsQ0FBQSxHQUFELEdBRko7O01BSUEsSUFBRyxJQUFDLENBQUEsR0FBRCxJQUFRLElBQVg7QUFDSSxjQURKOztBQVhKO0lBY0EsSUFBRyw0QkFBSDthQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQWpCLENBQXFCLElBQUksQ0FBQyxDQUExQixFQUE2QixJQUFJLENBQUMsQ0FBbEMsRUFBcUMsSUFBSSxDQUFDLEtBQTFDLEVBQWlELElBQUksQ0FBQyxNQUF0RCxFQURKOztFQTFCSTs7OztHQWpEK0IsRUFBRSxDQUFDOztBQThFOUMsRUFBRSxDQUFDLDRCQUFILEdBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfR3JpZExheW91dEJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfR3JpZExheW91dEJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0xheW91dEJlaGF2aW9yXG4gICAgIyMjKlxuICAgICogVHVybnMgYSBnYW1lIG9iamVjdCBpbnRvIGEgZnJlZS1sYXlvdXQgYW5kIGxheW91dHMgYWxsIHN1Yi1vYmplY3RzXG4gICAgKiBpbiBhIGdyaWQgb2Ygcm93cyBhbmQgY29sdW1ucy5cblxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9HcmlkTGF5b3V0QmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRCZWhhdmlvclxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIEBjb2x1bW4gPSAwXG4gICAgICAgIEByb3cgPSAwXG5cbiAgICBzaXplVG9GaXQ6IC0+XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgYSBzcGVjaWZpZWQgY29udHJvbC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnRyb2xcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IGNvbnRyb2wgVGhlIGNvbnRyb2wgdG8gdXBkYXRlXG4gICAgIyMjIFxuICAgIHVwZGF0ZUNvbnRyb2w6IChjb250cm9sKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgY2VsbFNwYWNpbmcgPSBAb2JqZWN0LmNlbGxTcGFjaW5nXG4gICAgICAgIHJlY3QgPSBAb2JqZWN0LmRzdFJlY3RcbiAgICAgICAgXG4gICAgICAgIGNvbnRyb2wucGFyZW50ID0gQG9iamVjdFxuICAgICAgICBjb250cm9sLmRzdFJlY3QueCA9IGNlbGxTcGFjaW5nWzBdICsgQGNvbHVtbiAqIChjb250cm9sLmRzdFJlY3Qud2lkdGgrY2VsbFNwYWNpbmdbMl0pXG4gICAgICAgIGNvbnRyb2wuZHN0UmVjdC55ID0gY2VsbFNwYWNpbmdbMV0gKyBAcm93ICogKGNvbnRyb2wuZHN0UmVjdC5oZWlnaHQrY2VsbFNwYWNpbmdbM10pXG4gICAgICAgIGlmIGNvbnRyb2wubmVlZHNVcGRhdGVcbiAgICAgICAgICAgIGNvbnRyb2wubmVlZHNVcGRhdGUgPSBub1xuICAgICAgICAgICAgY29udHJvbC51cGRhdGUoKVxuICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnNpemVUb0ZpdFxuICAgICAgICAgICAgcmVjdC53aWR0aCA9IE1hdGgubWF4KGNvbnRyb2wuZHN0UmVjdC54ICsgY29udHJvbC5kc3RSZWN0LndpZHRoICsgY2VsbFNwYWNpbmdbMl0sIHJlY3Qud2lkdGggfHwgMClcbiAgICAgICAgICAgIHJlY3QuaGVpZ2h0ID0gTWF0aC5tYXgoY29udHJvbC5kc3RSZWN0LnkgKyBjb250cm9sLmRzdFJlY3QuaGVpZ2h0ICsgY2VsbFNwYWNpbmdbM10sIHJlY3QuaGVpZ2h0IHx8IDApXG4gICAgICAgICAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBncmlkLWxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgQHVwZGF0ZU9yaWdpbigpXG4gICAgICAgIFxuICAgICAgICBjZWxsU3BhY2luZyA9IEBvYmplY3QuY2VsbFNwYWNpbmdcbiAgICAgICAgcm93cyA9IEBvYmplY3Qucm93c1xuICAgICAgICBjb2x1bW5zID0gQG9iamVjdC5jb2x1bW5zXG4gICAgICAgIEByb3cgPSAwXG4gICAgICAgIEBjb2x1bW4gPSAwXG4gICAgICAgIG9mZnNldCA9IChAb2JqZWN0Lmxpc3RPZmZzZXR8fDApICogKHJvd3MgKiBjb2x1bW5zKSBcbiAgICAgICAgY291bnQgPSBNYXRoLm1pbihAb2JqZWN0LnN1Yk9iamVjdHMubGVuZ3RoLCByb3dzICogY29sdW1ucyArIG9mZnNldClcbiAgICAgICAgcmVjdCA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICBcbiAgICAgICAgZm9yIGkgaW4gW29mZnNldC4uLmNvdW50XVxuICAgICAgICAgICAgY29udHJvbCA9IEBvYmplY3Quc3ViT2JqZWN0c1tpXVxuICAgICAgICAgICAgY29udHJvbC5pbmRleCA9IGlcblxuICAgICAgICAgICAgQHVwZGF0ZUNvbnRyb2woY29udHJvbClcblxuICAgICAgICAgICAgQGNvbHVtbisrXG4gICAgICAgICAgICBpZiBAY29sdW1uID49IGNvbHVtbnNcbiAgICAgICAgICAgICAgICBAY29sdW1uID0gMFxuICAgICAgICAgICAgICAgIEByb3crK1xuXG4gICAgICAgICAgICBpZiBAcm93ID49IHJvd3NcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5jbGlwUmVjdD9cbiAgICAgICAgICAgIEBvYmplY3QuY2xpcFJlY3Quc2V0KHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCkgICAgICBcbiAgICAgICAgXG5ncy5Db21wb25lbnRfR3JpZExheW91dEJlaGF2aW9yID0gQ29tcG9uZW50X0dyaWRMYXlvdXRCZWhhdmlvciJdfQ==
//# sourceURL=Component_GridLayoutBehavior_96.js
var Component_Handler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Handler = (function(superClass) {
  extend(Component_Handler, superClass);


  /**
  * The base class for all handler-components. A handler-component is
  * used to handle condition- or event-based processes of a In-Game UI
  * object like executing bindings or triggering actions.
  *
  * A handler is only executed if all assigned conditions and events are
  * true.
  *
  * @module ui
  * @class Component_Handler
  * @extends gs.Component
  * @memberof ui
  * @constructor
   */

  function Component_Handler() {

    /**
    * @property mouseEntered
    * @type boolean
    * @protected
     */
    this.mouseEntered = false;

    /**
    * @property mouseLeaved
    * @type boolean
    * @protected
     */
    this.mouseLeaved = true;
  }


  /**
  * Checks if the condition is <b>true</b> for the specified game object.
  *
  * @method checkCondition
  * @param {gs.Object_Base} object The game object.
  * @param {Object} condition The condition-object.
  * @return {boolean} If <b>true</b> the condition is true. Otherwise <b>false</b>.
  * @static
   */

  Component_Handler.checkCondition = function(object, condition) {
    var result;
    result = false;
    if (condition.equalTo != null) {
      result = ui.Component_FormulaHandler.fieldValue(object, condition.field) === ui.Component_FormulaHandler.fieldValue(object, condition.equalTo);
    } else if (condition.greaterThan != null) {
      result = ui.Component_FormulaHandler.fieldValue(object, condition.field) > ui.Component_FormulaHandler.fieldValue(object, condition.greaterThan);
    } else if (condition.lessThan != null) {
      result = ui.Component_FormulaHandler.fieldValue(object, condition.field) < ui.Component_FormulaHandler.fieldValue(object, condition.lessThan);
    } else if (condition.notEqualTo != null) {
      result = ui.Component_FormulaHandler.fieldValue(object, condition.field) !== ui.Component_FormulaHandler.fieldValue(object, condition.notEqualTo);
    }
    return result;
  };


  /**
  * Checks if the specified condition is <b>true</b>.
  *
  * @method checkCondition
  * @param {Object} condition The condition-object.
  * @return {boolean} If <b>true</b> the condition is true. Otherwise <b>false</b>.
   */

  Component_Handler.prototype.checkCondition = function(condition) {
    return ui.Component_Handler.checkCondition(this.object, condition);
  };


  /**
  * Checks if the specified conditions are <b>true</b>.
  *
  * @method checkConditions
  * @param {Object[]} conditions An array of condition-objects.
  * @return {boolean} If <b>true</b> all conditions are true. Otherwise <b>false</b>.
   */

  Component_Handler.prototype.checkConditions = function(conditions) {
    var condition, i, len, result;
    result = true;
    for (i = 0, len = conditions.length; i < len; i++) {
      condition = conditions[i];
      if (!this.checkCondition(condition)) {
        result = false;
        break;
      }
    }
    return result;
  };


  /**
  * Checks if the specified event is true.
  *
  * @method checkEvent
  * @param {Object} event The event to check for.
  * @param {Object} [binding=null] binding An optional binding-object necessary for some event-types.
  * @return {boolean} If <b>true</b> the event is true. Otherwise <b>false</b>.
   */

  Component_Handler.prototype.checkEvent = function(event, binding) {
    var entered, leaved, result, value;
    result = false;
    if (event === "onInitialize") {
      result = !this.initializeEventEmitted;
      this.initializeEventEmitted = true;
    } else if (event === "onAlways") {
      result = true;
    } else if (event === "onAction") {
      result = Input.Mouse.buttons[Input.Mouse.LEFT] === 2 && this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
    } else if (event === "onCancel") {
      result = Input.Mouse.buttons[Input.Mouse.RIGHT] === 2 && this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
    } else if (event === "onAccept") {
      result = Input.release(Input.KEY_RETURN) || (Input.Mouse.buttons[Input.Mouse.LEFT] === 2 && this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y));
    } else if (event === "onMouseEnter") {
      entered = this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
      result = !this.mouseEntered && entered;
      this.mouseEntered = entered;
    } else if (event === "onMouseLeave") {
      leaved = !this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
      result = !this.mouseLeaved && leaved;
      this.mouseLeaved = leaved;
    } else if (event === "onMouseHover") {
      result = this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
    } else if (event === "onMouseClick") {
      result = Input.Mouse.buttons[Input.Mouse.LEFT] === 2 && this.object.dstRect.contains(Input.Mouse.x - this.object.origin.x, Input.Mouse.y - this.object.origin.y);
    } else if (event.onChange != null) {
      value = this.resolveFieldPath(event.onChange);
      if (value != null) {
        value = value.get(this.object);
        if (binding[event.onChange] !== value) {
          binding[event.onChange] = value;
          result = true;
        }
      } else {
        result = true;
      }
    }
    return result;
  };


  /**
  * Checks if all events and conditions defined for the handler
  * are true. If that check returns <b>true</b> the handler must be
  * executed.
  *
  * @method checkObject
  * @param {Object} object The game object to check.
  * @return {boolean} If <b>true</b> the handler must be executed. Otherwise <b>false</b>.
   */

  Component_Handler.prototype.checkObject = function(object) {
    var event, execute, i, len, ref;
    execute = true;
    if (object.event != null) {
      object.events = [object.event];
      delete object.event;
    }
    if (object.condition != null) {
      object.conditions = [object.condition];
      delete object.condition;
    }
    if (object.events != null) {
      ref = object.events;
      for (i = 0, len = ref.length; i < len; i++) {
        event = ref[i];
        execute = this.checkEvent(event, object);
        if (execute) {
          break;
        }
      }
    }
    if ((object.conditions != null) && execute) {
      execute = this.checkConditions(object.conditions);
    }
    return execute;
  };

  return Component_Handler;

})(gs.Component);

ui.Component_Handler = Component_Handler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsaUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsMkJBQUE7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxXQUFELEdBQWU7RUFiTjs7O0FBZWI7Ozs7Ozs7Ozs7RUFTQSxpQkFBQyxDQUFBLGNBQUQsR0FBaUIsU0FBQyxNQUFELEVBQVMsU0FBVDtBQUNiLFFBQUE7SUFBQSxNQUFBLEdBQVM7SUFFVCxJQUFHLHlCQUFIO01BQ0ksTUFBQSxHQUFTLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxNQUF2QyxFQUErQyxTQUFTLENBQUMsS0FBekQsQ0FBQSxLQUFtRSxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsU0FBUyxDQUFDLE9BQXpELEVBRGhGO0tBQUEsTUFFSyxJQUFHLDZCQUFIO01BQ0QsTUFBQSxHQUFTLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxNQUF2QyxFQUErQyxTQUFTLENBQUMsS0FBekQsQ0FBQSxHQUFrRSxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsU0FBUyxDQUFDLFdBQXpELEVBRDFFO0tBQUEsTUFFQSxJQUFHLDBCQUFIO01BQ0QsTUFBQSxHQUFTLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxNQUF2QyxFQUErQyxTQUFTLENBQUMsS0FBekQsQ0FBQSxHQUFrRSxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsU0FBUyxDQUFDLFFBQXpELEVBRDFFO0tBQUEsTUFFQSxJQUFHLDRCQUFIO01BQ0QsTUFBQSxHQUFTLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxN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QUgsR0FBdUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9GcmVlTGF5b3V0QmVoYXZpb3JcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9IYW5kbGVyIGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBoYW5kbGVyLWNvbXBvbmVudHMuIEEgaGFuZGxlci1jb21wb25lbnQgaXNcbiAgICAqIHVzZWQgdG8gaGFuZGxlIGNvbmRpdGlvbi0gb3IgZXZlbnQtYmFzZWQgcHJvY2Vzc2VzIG9mIGEgSW4tR2FtZSBVSVxuICAgICogb2JqZWN0IGxpa2UgZXhlY3V0aW5nIGJpbmRpbmdzIG9yIHRyaWdnZXJpbmcgYWN0aW9ucy5cbiAgICAqXG4gICAgKiBBIGhhbmRsZXIgaXMgb25seSBleGVjdXRlZCBpZiBhbGwgYXNzaWduZWQgY29uZGl0aW9ucyBhbmQgZXZlbnRzIGFyZVxuICAgICogdHJ1ZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0hhbmRsZXJcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBtb3VzZUVudGVyZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQG1vdXNlRW50ZXJlZCA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IG1vdXNlTGVhdmVkXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBtb3VzZUxlYXZlZCA9IHllc1xuICAgICBcbiAgICAjIyMqXG4gICAgKiBDaGVja3MgaWYgdGhlIGNvbmRpdGlvbiBpcyA8Yj50cnVlPC9iPiBmb3IgdGhlIHNwZWNpZmllZCBnYW1lIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNoZWNrQ29uZGl0aW9uXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBvYmplY3QgVGhlIGdhbWUgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmRpdGlvbiBUaGUgY29uZGl0aW9uLW9iamVjdC5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIDxiPnRydWU8L2I+IHRoZSBjb25kaXRpb24gaXMgdHJ1ZS4gT3RoZXJ3aXNlIDxiPmZhbHNlPC9iPi5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgICBcbiAgICBAY2hlY2tDb25kaXRpb246IChvYmplY3QsIGNvbmRpdGlvbikgLT5cbiAgICAgICAgcmVzdWx0ID0gbm9cbiAgICAgICAgXG4gICAgICAgIGlmIGNvbmRpdGlvbi5lcXVhbFRvP1xuICAgICAgICAgICAgcmVzdWx0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24uZmllbGQpID09IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKG9iamVjdCwgY29uZGl0aW9uLmVxdWFsVG8pXG4gICAgICAgIGVsc2UgaWYgY29uZGl0aW9uLmdyZWF0ZXJUaGFuP1xuICAgICAgICAgICAgcmVzdWx0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24uZmllbGQpID4gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24uZ3JlYXRlclRoYW4pXG4gICAgICAgIGVsc2UgaWYgY29uZGl0aW9uLmxlc3NUaGFuP1xuICAgICAgICAgICAgcmVzdWx0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24uZmllbGQpIDwgdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24ubGVzc1RoYW4pXG4gICAgICAgIGVsc2UgaWYgY29uZGl0aW9uLm5vdEVxdWFsVG8/XG4gICAgICAgICAgICByZXN1bHQgPSB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShvYmplY3QsIGNvbmRpdGlvbi5maWVsZCkgIT0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUob2JqZWN0LCBjb25kaXRpb24ubm90RXF1YWxUbylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9uIGlzIDxiPnRydWU8L2I+LlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hlY2tDb25kaXRpb25cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25kaXRpb24gVGhlIGNvbmRpdGlvbi1vYmplY3QuXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiA8Yj50cnVlPC9iPiB0aGUgY29uZGl0aW9uIGlzIHRydWUuIE90aGVyd2lzZSA8Yj5mYWxzZTwvYj4uXG4gICAgIyMjICAgICBcbiAgICBjaGVja0NvbmRpdGlvbjogKGNvbmRpdGlvbikgLT4gdWkuQ29tcG9uZW50X0hhbmRsZXIuY2hlY2tDb25kaXRpb24oQG9iamVjdCwgY29uZGl0aW9uKVxuICAgIFxuICAgICMjIypcbiAgICAqIENoZWNrcyBpZiB0aGUgc3BlY2lmaWVkIGNvbmRpdGlvbnMgYXJlIDxiPnRydWU8L2I+LlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hlY2tDb25kaXRpb25zXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSBjb25kaXRpb25zIEFuIGFycmF5IG9mIGNvbmRpdGlvbi1vYmplY3RzLlxuICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgPGI+dHJ1ZTwvYj4gYWxsIGNvbmRpdGlvbnMgYXJlIHRydWUuIE90aGVyd2lzZSA8Yj5mYWxzZTwvYj4uXG4gICAgIyMjXG4gICAgY2hlY2tDb25kaXRpb25zOiAoY29uZGl0aW9ucykgLT5cbiAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgIGZvciBjb25kaXRpb24gaW4gY29uZGl0aW9uc1xuICAgICAgICAgICAgaWYgbm90IEBjaGVja0NvbmRpdGlvbihjb25kaXRpb24pXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbm9cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENoZWNrcyBpZiB0aGUgc3BlY2lmaWVkIGV2ZW50IGlzIHRydWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGVja0V2ZW50XG4gICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGV2ZW50IHRvIGNoZWNrIGZvci5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbYmluZGluZz1udWxsXSBiaW5kaW5nIEFuIG9wdGlvbmFsIGJpbmRpbmctb2JqZWN0IG5lY2Vzc2FyeSBmb3Igc29tZSBldmVudC10eXBlcy5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIDxiPnRydWU8L2I+IHRoZSBldmVudCBpcyB0cnVlLiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+LlxuICAgICMjIyAgXG4gICAgY2hlY2tFdmVudDogKGV2ZW50LCBiaW5kaW5nKSAtPlxuICAgICAgICByZXN1bHQgPSBub1xuICAgICAgICBcbiAgICAgICAgaWYgZXZlbnQgPT0gXCJvbkluaXRpYWxpemVcIlxuICAgICAgICAgICAgcmVzdWx0ID0gIUBpbml0aWFsaXplRXZlbnRFbWl0dGVkXG4gICAgICAgICAgICBAaW5pdGlhbGl6ZUV2ZW50RW1pdHRlZCA9IHllc1xuICAgICAgICBlbHNlIGlmIGV2ZW50ID09IFwib25BbHdheXNcIlxuICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgIGVsc2UgaWYgZXZlbnQgPT0gXCJvbkFjdGlvblwiXG4gICAgICAgICAgICByZXN1bHQgPSBJbnB1dC5Nb3VzZS5idXR0b25zW0lucHV0Lk1vdXNlLkxFRlRdID09IDIgYW5kIEBvYmplY3QuZHN0UmVjdC5jb250YWlucyhJbnB1dC5Nb3VzZS54IC0gQG9iamVjdC5vcmlnaW4ueCwgSW5wdXQuTW91c2UueSAtIEBvYmplY3Qub3JpZ2luLnkpIFxuICAgICAgICBlbHNlIGlmIGV2ZW50ID09IFwib25DYW5jZWxcIlxuICAgICAgICAgICAgcmVzdWx0ID0gSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5SSUdIVF0gPT0gMiBhbmQgQG9iamVjdC5kc3RSZWN0LmNvbnRhaW5zKElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSkgICAgIFxuICAgICAgICBlbHNlIGlmIGV2ZW50ID09IFwib25BY2NlcHRcIlxuICAgICAgICAgICAgcmVzdWx0ID0gSW5wdXQucmVsZWFzZShJbnB1dC5LRVlfUkVUVVJOKSBvciAoSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAyIGFuZCBAb2JqZWN0LmRzdFJlY3QuY29udGFpbnMoSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KSkgICAgICAgICBcbiAgICAgICAgZWxzZSBpZiBldmVudCA9PSBcIm9uTW91c2VFbnRlclwiXG4gICAgICAgICAgICBlbnRlcmVkID0gQG9iamVjdC5kc3RSZWN0LmNvbnRhaW5zKElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgICAgIHJlc3VsdCA9ICFAbW91c2VFbnRlcmVkIGFuZCBlbnRlcmVkXG4gICAgICAgICAgICBAbW91c2VFbnRlcmVkID0gZW50ZXJlZFxuICAgICAgICBlbHNlIGlmIGV2ZW50ID09IFwib25Nb3VzZUxlYXZlXCJcbiAgICAgICAgICAgIGxlYXZlZCA9ICFAb2JqZWN0LmRzdFJlY3QuY29udGFpbnMoSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICAgICAgcmVzdWx0ID0gIUBtb3VzZUxlYXZlZCBhbmQgbGVhdmVkXG4gICAgICAgICAgICBAbW91c2VMZWF2ZWQgPSBsZWF2ZWRcbiAgICAgICAgZWxzZSBpZiBldmVudCA9PSBcIm9uTW91c2VIb3ZlclwiXG4gICAgICAgICAgICByZXN1bHQgPSBAb2JqZWN0LmRzdFJlY3QuY29udGFpbnMoSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICBlbHNlIGlmIGV2ZW50ID09IFwib25Nb3VzZUNsaWNrXCJcbiAgICAgICAgICAgIHJlc3VsdCA9IElucHV0Lk1vdXNlLmJ1dHRvbnNbSW5wdXQuTW91c2UuTEVGVF0gPT0gMiBhbmQgQG9iamVjdC5kc3RSZWN0LmNvbnRhaW5zKElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgZWxzZSBpZiBldmVudC5vbkNoYW5nZT9cbiAgICAgICAgICAgIHZhbHVlID0gQHJlc29sdmVGaWVsZFBhdGgoZXZlbnQub25DaGFuZ2UpXG4gICAgICAgICAgICBpZiB2YWx1ZT8gXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5nZXQoQG9iamVjdClcbiAgICAgICAgICAgICAgICBpZiBiaW5kaW5nW2V2ZW50Lm9uQ2hhbmdlXSAhPSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nW2V2ZW50Lm9uQ2hhbmdlXSA9IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHllc1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHllc1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ2hlY2tzIGlmIGFsbCBldmVudHMgYW5kIGNvbmRpdGlvbnMgZGVmaW5lZCBmb3IgdGhlIGhhbmRsZXJcbiAgICAqIGFyZSB0cnVlLiBJZiB0aGF0IGNoZWNrIHJldHVybnMgPGI+dHJ1ZTwvYj4gdGhlIGhhbmRsZXIgbXVzdCBiZVxuICAgICogZXhlY3V0ZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBjaGVja09iamVjdFxuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZ2FtZSBvYmplY3QgdG8gY2hlY2suXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiA8Yj50cnVlPC9iPiB0aGUgaGFuZGxlciBtdXN0IGJlIGV4ZWN1dGVkLiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+LlxuICAgICMjIyAgICAgXG4gICAgY2hlY2tPYmplY3Q6IChvYmplY3QpIC0+XG4gICAgICAgIGV4ZWN1dGUgPSB5ZXNcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBvYmplY3QuZXZlbnQ/XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzID0gW29iamVjdC5ldmVudF1cbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QuZXZlbnRcbiAgICAgICAgaWYgb2JqZWN0LmNvbmRpdGlvbj9cbiAgICAgICAgICAgIG9iamVjdC5jb25kaXRpb25zID0gW29iamVjdC5jb25kaXRpb25dXG4gICAgICAgICAgICBkZWxldGUgb2JqZWN0LmNvbmRpdGlvblxuICAgICAgICBpZiBvYmplY3QuZXZlbnRzP1xuICAgICAgICAgICAgZm9yIGV2ZW50IGluIG9iamVjdC5ldmVudHNcbiAgICAgICAgICAgICAgICBleGVjdXRlID0gQGNoZWNrRXZlbnQoZXZlbnQsIG9iamVjdClcbiAgICAgICAgICAgICAgICBpZiBleGVjdXRlIHRoZW4gYnJlYWtcbiAgICAgICAgaWYgb2JqZWN0LmNvbmRpdGlvbnM/IGFuZCBleGVjdXRlXG4gICAgICAgICAgICBleGVjdXRlID0gQGNoZWNrQ29uZGl0aW9ucyhvYmplY3QuY29uZGl0aW9ucylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBleGVjdXRlXG5cbnVpLkNvbXBvbmVudF9IYW5kbGVyID0gQ29tcG9uZW50X0hhbmRsZXIiXX0=
//# sourceURL=Component_Handler_102.js
var Component_BindingHandler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_BindingHandler = (function(superClass) {
  extend(Component_BindingHandler, superClass);


  /**
  * Caches already compiled binding-paths.
  * @property compiledPaths
  * @type Object
  * @static
   */

  Component_BindingHandler.compiledPaths = {};


  /**
  * A binding-handler component allows a UI game object to execute
  * property-bindings.<br><br>
  *
  * For example: A text-label can bind its text-property to a backend-field 
  * like the current music-volume to always display correct music-volume. 
  * If the volume changes, the text-property will be updated
  * automatically.
  *
  * To define a binding, a special property-path syntax is used. For example:<br>
  * <br>
  * $myTextField.text<br>
  * <br>
  * is a property-path to access the text-property of a text-field object
  * with the identifier "myTextField". For more information, take a look
  * into the "In Game UI System" section of the help-file.
  * 
  * @module ui
  * @class Component_BindingHandler
  * @extends ui.Component_Handler
  * @memberof ui
  * @constructor
   */

  function Component_BindingHandler() {}


  /**
  * Initializes the binding-handler.
  * 
  * @method setup
   */

  Component_BindingHandler.prototype.setup = function() {};


  /**
  * Updates the binding-handler.
  * 
  * @method update
   */

  Component_BindingHandler.prototype.update = function() {
    var binding, i, len, ref;
    ref = this.object.bindings;
    for (i = 0, len = ref.length; i < len; i++) {
      binding = ref[i];
      this.executeBinding(binding);
    }
    this.object.initialized = true;
    return null;
  };


  /**
  * Executes a specified binding. The binding is only executed if all assigned
  * events and conditions are true.
  * 
  * @method executeBinding
  * @param {Object} binding - The binding to execute.
   */

  Component_BindingHandler.prototype.executeBinding = function(binding) {
    var offset, ref, ref1, source, target, value;
    if (!this.checkObject(binding)) {
      return;
    }
    source = (ref = binding.sourceFunc) != null ? ref : (binding.sourceFunc = this.resolveFieldPath(binding.sourceField));
    target = (ref1 = binding.targetFunc) != null ? ref1 : (binding.targetFunc = this.resolveFieldPath(binding.targetField));
    if (!target) {
      return;
    }
    if (!source) {
      return target.set(this.object, null);
    }
    value = source.get(this.object);
    offset = 0;
    if (binding.offset != null) {
      value += binding.offset;
    }
    if (binding.max != null) {
      value = Math.min(binding.max, value);
    }
    if (binding.min != null) {
      value = Math.max(binding.min, value);
    }
    return target.set(this.object, value);
  };


  /**
  * Evaluates a specified property-path and returns the result.
  * 
  * @method fieldValue
  * @param {string} path - A property-path.
  * @return {Object} The value of the property-path.
   */

  Component_BindingHandler.prototype.fieldValue = function(path) {
    return ui.Component_BindingHandler.fieldValue(this.object, path);
  };


  /**
  * Executes a specified binding. The binding is only executed if all assigned
  * events and conditions are true.
  * 
  * @method executeBinding
  * @param {Object} binding - The binding to execute.
  * @static
   */

  Component_BindingHandler.executeBinding = function(sender, binding) {
    var binder;
    binder = new ui.BindingHandler();
    binder.object = sender;
    return binder.executeBinding(binding);
  };


  /**
  * Evaluates a property-path on a specified object and returns the result.
  * 
  * @method fieldValue
  * @static
  * @param {Object} object - An object to evaluate the property-path on.
  * @param {string} path - A property-path.
  * @return {Object} The value of the property-path.
   */

  Component_BindingHandler.fieldValue = function(object, path) {
    var field;
    if (typeof path === "string") {
      field = ui.Component_BindingHandler.resolveFieldPath(object, path);
      if (field == null) {
        return 0;
      }
      return field.get(object);
    } else {
      return path;
    }
  };


  /**
  * Resolves a property-path of a specified object and returns the result. The
  * result-object has a get- and an optional set-function to get or set the
  * value for the property-path. The set-function is only present for property-paths
  * which can be written.
  * 
  * @method resolveFieldPath
  * @static
  * @param {Object} object - An object to evaluate the property-path on.
  * @param {string} path - A property-path.
  * @return {Object} The result-object containing a get- and set-function to manipulate the property-value.
   */

  Component_BindingHandler.resolveFieldPath = function(object, path) {
    var result;
    result = ui.Component_BindingHandler.compiledPaths[path];
    if (result != null) {
      return result;
    }
    if (path != null) {
      result = {
        set: null,
        get: null
      };
      result.get = eval("(function(o) { return " + path + " })");
      result.set = eval("(function(o, v) { " + path + " = v; })");
      ui.Component_BindingHandler.compiledPaths[path] = result;
    }
    return result;
  };


  /**
  * Resolves a property-path and returns the result. The
  * result-object has a get- and an optional set-function to get or set the
  * value for the property-path. The set-function is only present for property-paths
  * which can be written.
  * 
  * @method resolveFieldPath
  * @param {Object} object - An object to evaluate the property-path on.
  * @param {string} path - A property-path.
  * @return {Object} The result-object containing a get- and set-function to manipulate the property-value.
   */

  Component_BindingHandler.prototype.resolveFieldPath = function(path) {
    return ui.Component_BindingHandler.resolveFieldPath(this.object, path);
  };

  return Component_BindingHandler;

})(ui.Component_Handler);

ui.Component_BindingHandler = Component_BindingHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7OztFQU1BLHdCQUFDLENBQUEsYUFBRCxHQUFnQjs7O0FBRWhCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUF1QmEsa0NBQUEsR0FBQTs7O0FBRWI7Ozs7OztxQ0FLQSxLQUFBLEdBQU8sU0FBQSxHQUFBOzs7QUFFUDs7Ozs7O3FDQUtBLE1BQUEsR0FBUSxTQUFBO0FBQ0osUUFBQTtBQUFBO0FBQUEsU0FBQSxxQ0FBQTs7TUFDSSxJQUFDLENBQUEsY0FBRCxDQUFnQixPQUFoQjtBQURKO0lBR0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLEdBQXNCO0FBRXRCLFdBQU87RUFOSDs7O0FBUVI7Ozs7Ozs7O3FDQU9BLGNBQUEsR0FBZ0IsU0FBQyxPQUFEO0FBQ1osUUFBQTtJQUFBLElBQVUsQ0FBSSxJQUFDLENBQUEsV0FBRCxDQUFhLE9BQWIsQ0FBZDtBQUFBLGFBQUE7O0lBRUEsTUFBQSw4Q0FBOEIsQ0FBQyxPQUFPLENBQUMsVUFBUixHQUFtQixJQUFDLENBQUEsZ0JBQUQsQ0FBa0IsT0FBTyxDQUFDLFdBQTFCLENBQXBCO0lBQzlCLE1BQUEsZ0RBQThCLENBQUMsT0FBTyxDQUFDLFVBQVIsR0FBbUIsSUFBQyxDQUFBLGdCQUFELENBQWtCLE9BQU8sQ0FBQyxXQUExQixDQUFwQjtJQUU5QixJQUFVLENBQUMsTUFBWDtBQUFBLGFBQUE7O0lBQ0EsSUFBb0MsQ0FBQyxNQUFyQztBQUFBLGFBQU8sTUFBTSxDQUFDLEdBQVAsQ0FBVyxJQUFDLENBQUEsTUFBWixFQUFvQixJQUFwQixFQUFQOztJQUVBLEtBQUEsR0FBUSxNQUFNLENBQUMsR0FBUCxDQUFXLElBQUMsQ0FBQSxNQUFaO0lBQ1IsTUFBQSxHQUFTO0lBRVQsSUFBRyxzQkFBSDtNQUNJLEtBQUEsSUFBUyxPQUFPLENBQUMsT0FEckI7O0lBRUEsSUFBRyxtQkFBSDtNQUNJLEtBQUEsR0FBUSxJQUFJLENBQUMsR0FBTCxDQUFTLE9BQU8sQ0FBQyxHQUFqQixFQUFzQixLQUF0QixFQURaOztJQUVBLElBQUcsbUJBQUg7TUFDSSxLQUFBLEdBQVEsSUFBSSxDQUFDLEdBQUwsQ0FBUyxPQUFPLENBQUMsR0FBakIsRUFBc0IsS0FBdEIsRUFEWjs7V0FHQSxNQUFNLENBQUMsR0FBUCxDQUFXLElBQUMsQ0FBQSxNQUFaLEVBQW9CLEtBQXBCO0VBbkJZOzs7QUFxQmhCOzs7Ozs7OztxQ0FPQSxVQUFBLEdBQVksU0FBQyxJQUFEO1dBQVUsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFVBQTVCLENBQXVDLElBQUMsQ0FBQSxNQUF4QyxFQUFnRCxJQUFoRDtFQUFWOzs7QUFFWjs7Ozs7Ozs7O0VBUUEsd0JBQUMsQ0FBQSxjQUFELEdBQWlCLFNBQUMsTUFBRCxFQUFTLE9BQVQ7QUFDYixRQUFBO0lBQUEsTUFBQSxHQUFhLElBQUEsRUFBRSxDQUFDLGNBQUgsQ0FBQTtJQUNiLE1BQU0sQ0FBQyxNQUFQLEdBQWdCO1dBQ2hCLE1BQU0sQ0FBQyxjQUFQLENBQXNCLE9BQXRCO0VBSGE7OztBQUtqQjs7Ozs7Ozs7OztFQVNBLHdCQUFDLENBQUEsVUFBRCxHQUFhLFNBQUMsTUFBRCxFQUFTLElBQVQ7QUFDVCxRQUFBO0lBQUEsSUFBRyxPQUFPLElBQVAsS0FBZSxRQUFsQjtNQUNJLEtBQUEsR0FBUSxFQUFFLENBQUMsd0JBQXdCLENBQUMsZ0JBQTVCLENBQTZDLE1BQTdDLEVBQXFELElBQXJEO01BQ1IsSUFBZ0IsYUFBaEI7QUFBQSxlQUFPLEVBQVA7O0FBQ0EsYUFBTyxLQUFLLENBQUMsR0FBTixDQUFVLE1BQVYsRUFIWDtLQUFBLE1BQUE7QUFLSSxhQUFPLEtBTFg7O0VBRFM7OztBQVFiOzs7Ozs7Ozs7Ozs7O0VBWUEsd0JBQUMsQ0FBQSxnQkFBRCxHQUFtQixTQUFDLE1BQUQsRUFBUyxJQUFUO0FBQ2YsUUFBQTtJQUFBLE1BQUEsR0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUMsYUFBYyxDQUFBLElBQUE7SUFDbkQsSUFBRyxjQUFIO0FBQWdCLGFBQU8sT0FBdkI7O0lBRUEsSUFBRyxZQUFIO01BQ0ksTUFBQSxHQUFTO1FBQUUsR0FBQSxFQUFLLElBQVA7UUFBYSxHQUFBLEVBQUssSUFBbEI7O01BQ1QsTUFBTSxDQUFDLEdBQVAsR0FBYSxJQUFBLENBQUssd0JBQUEsR0FBMkIsSUFBM0IsR0FBa0MsS0FBdkM7TUFDYixNQUFNLENBQUMsR0FBUCxHQUFhLElBQUEsQ0FBSyxvQkFBQSxHQUF1QixJQUF2QixHQUE4QixVQUFuQztNQUViLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxhQUFjLENBQUEsSUFBQSxDQUExQyxHQUFrRCxPQUx0RDs7QUFPQSxXQUFPO0VBWFE7OztBQWFuQjs7Ozs7Ozs7Ozs7O3FDQVdBLGdCQUFBLEdBQWtCLFNBQUMsSUFBRDtXQUFVLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxnQkFBNUIsQ0FBNkMsSUFBQyxDQUFBLE1BQTlDLEVBQXNELElBQXREO0VBQVY7Ozs7R0E3SmlCLEVBQUUsQ0FBQzs7QUErSjFDLEVBQUUsQ0FBQyx3QkFBSCxHQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0JpbmRpbmdIYW5kbGVyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfQmluZGluZ0hhbmRsZXIgZXh0ZW5kcyB1aS5Db21wb25lbnRfSGFuZGxlclxuICAgICMjIypcbiAgICAqIENhY2hlcyBhbHJlYWR5IGNvbXBpbGVkIGJpbmRpbmctcGF0aHMuXG4gICAgKiBAcHJvcGVydHkgY29tcGlsZWRQYXRoc1xuICAgICogQHR5cGUgT2JqZWN0XG4gICAgKiBAc3RhdGljXG4gICAgIyMjXG4gICAgQGNvbXBpbGVkUGF0aHM6IHt9XG4gICAgXG4gICAgIyMjKlxuICAgICogQSBiaW5kaW5nLWhhbmRsZXIgY29tcG9uZW50IGFsbG93cyBhIFVJIGdhbWUgb2JqZWN0IHRvIGV4ZWN1dGVcbiAgICAqIHByb3BlcnR5LWJpbmRpbmdzLjxicj48YnI+XG4gICAgKlxuICAgICogRm9yIGV4YW1wbGU6IEEgdGV4dC1sYWJlbCBjYW4gYmluZCBpdHMgdGV4dC1wcm9wZXJ0eSB0byBhIGJhY2tlbmQtZmllbGQgXG4gICAgKiBsaWtlIHRoZSBjdXJyZW50IG11c2ljLXZvbHVtZSB0byBhbHdheXMgZGlzcGxheSBjb3JyZWN0IG11c2ljLXZvbHVtZS4gXG4gICAgKiBJZiB0aGUgdm9sdW1lIGNoYW5nZXMsIHRoZSB0ZXh0LXByb3BlcnR5IHdpbGwgYmUgdXBkYXRlZFxuICAgICogYXV0b21hdGljYWxseS5cbiAgICAqXG4gICAgKiBUbyBkZWZpbmUgYSBiaW5kaW5nLCBhIHNwZWNpYWwgcHJvcGVydHktcGF0aCBzeW50YXggaXMgdXNlZC4gRm9yIGV4YW1wbGU6PGJyPlxuICAgICogPGJyPlxuICAgICogJG15VGV4dEZpZWxkLnRleHQ8YnI+XG4gICAgKiA8YnI+XG4gICAgKiBpcyBhIHByb3BlcnR5LXBhdGggdG8gYWNjZXNzIHRoZSB0ZXh0LXByb3BlcnR5IG9mIGEgdGV4dC1maWVsZCBvYmplY3RcbiAgICAqIHdpdGggdGhlIGlkZW50aWZpZXIgXCJteVRleHRGaWVsZFwiLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgdGFrZSBhIGxvb2tcbiAgICAqIGludG8gdGhlIFwiSW4gR2FtZSBVSSBTeXN0ZW1cIiBzZWN0aW9uIG9mIHRoZSBoZWxwLWZpbGUuXG4gICAgKiBcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfQmluZGluZ0hhbmRsZXJcbiAgICAqIEBleHRlbmRzIHVpLkNvbXBvbmVudF9IYW5kbGVyXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoKSAtPlxuXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIGJpbmRpbmctaGFuZGxlci5cbiAgICAqIFxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBiaW5kaW5nLWhhbmRsZXIuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBmb3IgYmluZGluZyBpbiBAb2JqZWN0LmJpbmRpbmdzXG4gICAgICAgICAgICBAZXhlY3V0ZUJpbmRpbmcoYmluZGluZylcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuaW5pdGlhbGl6ZWQgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgIFxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgc3BlY2lmaWVkIGJpbmRpbmcuIFRoZSBiaW5kaW5nIGlzIG9ubHkgZXhlY3V0ZWQgaWYgYWxsIGFzc2lnbmVkXG4gICAgKiBldmVudHMgYW5kIGNvbmRpdGlvbnMgYXJlIHRydWUuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgZXhlY3V0ZUJpbmRpbmdcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBiaW5kaW5nIC0gVGhlIGJpbmRpbmcgdG8gZXhlY3V0ZS5cbiAgICAjIyMgICAgXG4gICAgZXhlY3V0ZUJpbmRpbmc6IChiaW5kaW5nKSAtPlxuICAgICAgICByZXR1cm4gaWYgbm90IEBjaGVja09iamVjdChiaW5kaW5nKVxuICAgICAgICBcbiAgICAgICAgc291cmNlID0gYmluZGluZy5zb3VyY2VGdW5jID8gKGJpbmRpbmcuc291cmNlRnVuYz1AcmVzb2x2ZUZpZWxkUGF0aChiaW5kaW5nLnNvdXJjZUZpZWxkKSlcbiAgICAgICAgdGFyZ2V0ID0gYmluZGluZy50YXJnZXRGdW5jID8gKGJpbmRpbmcudGFyZ2V0RnVuYz1AcmVzb2x2ZUZpZWxkUGF0aChiaW5kaW5nLnRhcmdldEZpZWxkKSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpZiAhdGFyZ2V0XG4gICAgICAgIHJldHVybiB0YXJnZXQuc2V0KEBvYmplY3QsIG51bGwpIGlmICFzb3VyY2VcbiAgICAgICAgICAgIFxuICAgICAgICB2YWx1ZSA9IHNvdXJjZS5nZXQoQG9iamVjdClcbiAgICAgICAgb2Zmc2V0ID0gMFxuICAgICAgICBcbiAgICAgICAgaWYgYmluZGluZy5vZmZzZXQ/XG4gICAgICAgICAgICB2YWx1ZSArPSBiaW5kaW5nLm9mZnNldFxuICAgICAgICBpZiBiaW5kaW5nLm1heD9cbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5taW4oYmluZGluZy5tYXgsIHZhbHVlKVxuICAgICAgICBpZiBiaW5kaW5nLm1pbj9cbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5tYXgoYmluZGluZy5taW4sIHZhbHVlKVxuICAgICAgICAgICAgXG4gICAgICAgIHRhcmdldC5zZXQoQG9iamVjdCwgdmFsdWUpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBFdmFsdWF0ZXMgYSBzcGVjaWZpZWQgcHJvcGVydHktcGF0aCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICogXG4gICAgKiBAbWV0aG9kIGZpZWxkVmFsdWVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gQSBwcm9wZXJ0eS1wYXRoLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5LXBhdGguXG4gICAgIyMjIFxuICAgIGZpZWxkVmFsdWU6IChwYXRoKSAtPiB1aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIuZmllbGRWYWx1ZShAb2JqZWN0LCBwYXRoKSAgXG4gICAgXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBzcGVjaWZpZWQgYmluZGluZy4gVGhlIGJpbmRpbmcgaXMgb25seSBleGVjdXRlZCBpZiBhbGwgYXNzaWduZWRcbiAgICAqIGV2ZW50cyBhbmQgY29uZGl0aW9ucyBhcmUgdHJ1ZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCBleGVjdXRlQmluZGluZ1xuICAgICogQHBhcmFtIHtPYmplY3R9IGJpbmRpbmcgLSBUaGUgYmluZGluZyB0byBleGVjdXRlLlxuICAgICogQHN0YXRpY1xuICAgICMjIyBcbiAgICBAZXhlY3V0ZUJpbmRpbmc6IChzZW5kZXIsIGJpbmRpbmcpIC0+XG4gICAgICAgIGJpbmRlciA9IG5ldyB1aS5CaW5kaW5nSGFuZGxlcigpXG4gICAgICAgIGJpbmRlci5vYmplY3QgPSBzZW5kZXJcbiAgICAgICAgYmluZGVyLmV4ZWN1dGVCaW5kaW5nKGJpbmRpbmcpXG5cbiAgICAjIyMqXG4gICAgKiBFdmFsdWF0ZXMgYSBwcm9wZXJ0eS1wYXRoIG9uIGEgc3BlY2lmaWVkIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICogXG4gICAgKiBAbWV0aG9kIGZpZWxkVmFsdWVcbiAgICAqIEBzdGF0aWNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgLSBBbiBvYmplY3QgdG8gZXZhbHVhdGUgdGhlIHByb3BlcnR5LXBhdGggb24uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEEgcHJvcGVydHktcGF0aC5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eS1wYXRoLlxuICAgICMjIyBcbiAgICBAZmllbGRWYWx1ZTogKG9iamVjdCwgcGF0aCkgLT5cbiAgICAgICAgaWYgdHlwZW9mIHBhdGggPT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgZmllbGQgPSB1aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIucmVzb2x2ZUZpZWxkUGF0aChvYmplY3QsIHBhdGgpXG4gICAgICAgICAgICByZXR1cm4gMCB1bmxlc3MgZmllbGQ/XG4gICAgICAgICAgICByZXR1cm4gZmllbGQuZ2V0KG9iamVjdClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHBhdGhcbiAgICAgXG4gICAgIyMjKlxuICAgICogUmVzb2x2ZXMgYSBwcm9wZXJ0eS1wYXRoIG9mIGEgc3BlY2lmaWVkIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBUaGVcbiAgICAqIHJlc3VsdC1vYmplY3QgaGFzIGEgZ2V0LSBhbmQgYW4gb3B0aW9uYWwgc2V0LWZ1bmN0aW9uIHRvIGdldCBvciBzZXQgdGhlXG4gICAgKiB2YWx1ZSBmb3IgdGhlIHByb3BlcnR5LXBhdGguIFRoZSBzZXQtZnVuY3Rpb24gaXMgb25seSBwcmVzZW50IGZvciBwcm9wZXJ0eS1wYXRoc1xuICAgICogd2hpY2ggY2FuIGJlIHdyaXR0ZW4uXG4gICAgKiBcbiAgICAqIEBtZXRob2QgcmVzb2x2ZUZpZWxkUGF0aFxuICAgICogQHN0YXRpY1xuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEFuIG9iamVjdCB0byBldmFsdWF0ZSB0aGUgcHJvcGVydHktcGF0aCBvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gQSBwcm9wZXJ0eS1wYXRoLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0LW9iamVjdCBjb250YWluaW5nIGEgZ2V0LSBhbmQgc2V0LWZ1bmN0aW9uIHRvIG1hbmlwdWxhdGUgdGhlIHByb3BlcnR5LXZhbHVlLlxuICAgICMjIyAgICBcbiAgICBAcmVzb2x2ZUZpZWxkUGF0aDogKG9iamVjdCwgcGF0aCkgLT4gXG4gICAgICAgIHJlc3VsdCA9IHVpLkNvbXBvbmVudF9CaW5kaW5nSGFuZGxlci5jb21waWxlZFBhdGhzW3BhdGhdXG4gICAgICAgIGlmIHJlc3VsdD8gdGhlbiByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuICAgICAgICBpZiBwYXRoPyAgXG4gICAgICAgICAgICByZXN1bHQgPSB7IHNldDogbnVsbCwgZ2V0OiBudWxsIH1cbiAgICAgICAgICAgIHJlc3VsdC5nZXQgPSBldmFsKFwiKGZ1bmN0aW9uKG8pIHsgcmV0dXJuIFwiICsgcGF0aCArIFwiIH0pXCIpXG4gICAgICAgICAgICByZXN1bHQuc2V0ID0gZXZhbChcIihmdW5jdGlvbihvLCB2KSB7IFwiICsgcGF0aCArIFwiID0gdjsgfSlcIilcbiAgICAgICAgICBcbiAgICAgICAgICAgIHVpLkNvbXBvbmVudF9CaW5kaW5nSGFuZGxlci5jb21waWxlZFBhdGhzW3BhdGhdID0gcmVzdWx0XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgXG4gICAgIyMjKlxuICAgICogUmVzb2x2ZXMgYSBwcm9wZXJ0eS1wYXRoIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuIFRoZVxuICAgICogcmVzdWx0LW9iamVjdCBoYXMgYSBnZXQtIGFuZCBhbiBvcHRpb25hbCBzZXQtZnVuY3Rpb24gdG8gZ2V0IG9yIHNldCB0aGVcbiAgICAqIHZhbHVlIGZvciB0aGUgcHJvcGVydHktcGF0aC4gVGhlIHNldC1mdW5jdGlvbiBpcyBvbmx5IHByZXNlbnQgZm9yIHByb3BlcnR5LXBhdGhzXG4gICAgKiB3aGljaCBjYW4gYmUgd3JpdHRlbi5cbiAgICAqIFxuICAgICogQG1ldGhvZCByZXNvbHZlRmllbGRQYXRoXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gQW4gb2JqZWN0IHRvIGV2YWx1YXRlIHRoZSBwcm9wZXJ0eS1wYXRoIG9uLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBIHByb3BlcnR5LXBhdGguXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHQtb2JqZWN0IGNvbnRhaW5pbmcgYSBnZXQtIGFuZCBzZXQtZnVuY3Rpb24gdG8gbWFuaXB1bGF0ZSB0aGUgcHJvcGVydHktdmFsdWUuXG4gICAgIyMjICAgICBcbiAgICByZXNvbHZlRmllbGRQYXRoOiAocGF0aCkgLT4gdWkuQ29tcG9uZW50X0JpbmRpbmdIYW5kbGVyLnJlc29sdmVGaWVsZFBhdGgoQG9iamVjdCwgcGF0aClcbiAgICAgICAgXG51aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIgPSBDb21wb25lbnRfQmluZGluZ0hhbmRsZXIiXX0=
//# sourceURL=Component_BindingHandler_109.js
var Component_FormulaHandler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_FormulaHandler = (function(superClass) {
  extend(Component_FormulaHandler, superClass);


  /**
  * A binding-handler component allows a UI game object to execute
  * property-bindings.<br><br>
  *
  * For example: A text-label can bind its text-property to a backend-field 
  * like the current music-volume to always display correct music-volume. 
  * If the volume changes, the text-property will be updated
  * automatically.
  *
  * To define a binding, a special property-path syntax is used. For example:<br>
  * <br>
  * $myTextField.text<br>
  * <br>
  * is a property-path to access the text-property of a text-field object
  * with the identifier "myTextField". For more information, take a look
  * into the "In Game UI System" section of the help-file.
  * 
  * @module ui
  * @class Component_BindingHandler
  * @extends ui.Component_Handler
  * @memberof ui
  * @constructor
   */

  function Component_FormulaHandler() {
    this.breakChainAt = null;
  }


  /**
  * Initializes the binding-handler.
  * 
  * @method setup
   */

  Component_FormulaHandler.prototype.setup = function() {};


  /**
  * Updates the binding-handler.
  * 
  * @method update
   */

  Component_FormulaHandler.prototype.update = function() {
    var formula, i, len, ref;
    ref = this.object.formulas;
    for (i = 0, len = ref.length; i < len; i++) {
      formula = ref[i];
      this.executeFormula(formula);
    }
    this.object.initialized = true;
    return null;
  };

  Component_FormulaHandler.prototype.executeFormula = function(formula) {
    if (this.checkObject(formula)) {
      window.o = this.object;
      window.d = this.object.data[0];
      return formula.exec();
    }
  };

  Component_FormulaHandler.executeFormula = function(object, formula) {
    window.o = object;
    window.d = object.data[0];
    return formula.exec();
  };


  /**
  * Evaluates a specified property-path and returns the result.
  * 
  * @method fieldValue
  * @param {string} path - A property-path.
  * @return {Object} The value of the property-path.
   */

  Component_FormulaHandler.prototype.fieldValue = function(path) {
    return ui.FormulaHandler.fieldValue(this.object, path);
  };


  /**
  * Evaluates a property-path on a specified object and returns the result.
  * 
  * @method fieldValue
  * @static
  * @param {Object} object - An object to evaluate the property-path on.
  * @param {string} path - A property-path.
  * @return {Object} The value of the property-path.
   */

  Component_FormulaHandler.fieldValue = function(object, path, readOnly) {
    var ref, value;
    if (typeof (path != null ? path.exec : void 0) === "function") {
      window.o = object;
      window.d = object != null ? (ref = object.data) != null ? ref[0] : void 0 : void 0;
      value = path.exec();
      return value != null ? value : 0;
    } else {
      return path;
    }
  };

  return Component_FormulaHandler;

})(ui.Component_Handler);

ui.Component_FormulaHandler = Component_FormulaHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBdUJhLGtDQUFBO0lBQ1QsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7RUFEUDs7O0FBR2I7Ozs7OztxQ0FLQSxLQUFBLEdBQU8sU0FBQSxHQUFBOzs7QUFFUDs7Ozs7O3FDQUtBLE1BQUEsR0FBUSxTQUFBO0FBQ0osUUFBQTtBQUFBO0FBQUEsU0FBQSxxQ0FBQTs7TUFDSSxJQUFDLENBQUEsY0FBRCxDQUFnQixPQUFoQjtBQURKO0lBR0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLEdBQXNCO0FBRXRCLFdBQU87RUFOSDs7cUNBUVIsY0FBQSxHQUFnQixTQUFDLE9BQUQ7SUFDWixJQUFHLElBQUMsQ0FBQSxXQUFELENBQWEsT0FBYixDQUFIO01BQ0ksTUFBTSxDQUFDLENBQVAsR0FBVyxJQUFDLENBQUE7TUFDWixNQUFNLENBQUMsQ0FBUCxHQUFXLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSyxDQUFBLENBQUE7YUFDeEIsT0FBTyxDQUFDLElBQVIsQ0FBQSxFQUhKOztFQURZOztFQU1oQix3QkFBQyxDQUFBLGNBQUQsR0FBaUIsU0FBQyxNQUFELEVBQVMsT0FBVDtJQUNiLE1BQU0sQ0FBQyxDQUFQLEdBQVc7SUFDWCxNQUFNLENBQUMsQ0FBUCxHQUFXLE1BQU0sQ0FBQyxJQUFLLENBQUEsQ0FBQTtXQUN2QixPQUFPLENBQUMsSUFBUixDQUFBO0VBSGE7OztBQUtqQjs7Ozs7Ozs7cUNBT0EsVUFBQSxHQUFZLFNBQUMsSUFBRDtXQUFVLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBbEIsQ0FBNkIsSUFBQyxDQUFBLE1BQTlCLEVBQXNDLElBQXRDO0VBQVY7OztBQUVaOzs7Ozs7Ozs7O0VBU0Esd0JBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQyxNQUFELEVBQVMsSUFBVCxFQUFlLFFBQWY7QUFDVCxRQUFBO0lBQUEsSUFBRyxPQUFPLGdCQUFDLElBQUksQ0FBRSxhQUFQLENBQVAsS0FBdUIsVUFBMUI7TUFDSSxNQUFNLENBQUMsQ0FBUCxHQUFXO01BQ1gsTUFBTSxDQUFDLENBQVAscURBQXlCLENBQUEsQ0FBQTtNQUN6QixLQUFBLEdBQVEsSUFBSSxDQUFDLElBQUwsQ0FBQTtBQUVSLDZCQUFPLFFBQVEsRUFMbkI7S0FBQSxNQUFBO0FBT0ksYUFBTyxLQVBYOztFQURTOzs7O0dBNUVzQixFQUFFLENBQUM7O0FBc0YxQyxFQUFFLENBQUMsd0JBQUgsR0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9Gb3JtdWxhSGFuZGxlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyIGV4dGVuZHMgdWkuQ29tcG9uZW50X0hhbmRsZXJcbiAgICAjIyMqXG4gICAgKiBBIGJpbmRpbmctaGFuZGxlciBjb21wb25lbnQgYWxsb3dzIGEgVUkgZ2FtZSBvYmplY3QgdG8gZXhlY3V0ZVxuICAgICogcHJvcGVydHktYmluZGluZ3MuPGJyPjxicj5cbiAgICAqXG4gICAgKiBGb3IgZXhhbXBsZTogQSB0ZXh0LWxhYmVsIGNhbiBiaW5kIGl0cyB0ZXh0LXByb3BlcnR5IHRvIGEgYmFja2VuZC1maWVsZCBcbiAgICAqIGxpa2UgdGhlIGN1cnJlbnQgbXVzaWMtdm9sdW1lIHRvIGFsd2F5cyBkaXNwbGF5IGNvcnJlY3QgbXVzaWMtdm9sdW1lLiBcbiAgICAqIElmIHRoZSB2b2x1bWUgY2hhbmdlcywgdGhlIHRleHQtcHJvcGVydHkgd2lsbCBiZSB1cGRhdGVkXG4gICAgKiBhdXRvbWF0aWNhbGx5LlxuICAgICpcbiAgICAqIFRvIGRlZmluZSBhIGJpbmRpbmcsIGEgc3BlY2lhbCBwcm9wZXJ0eS1wYXRoIHN5bnRheCBpcyB1c2VkLiBGb3IgZXhhbXBsZTo8YnI+XG4gICAgKiA8YnI+XG4gICAgKiAkbXlUZXh0RmllbGQudGV4dDxicj5cbiAgICAqIDxicj5cbiAgICAqIGlzIGEgcHJvcGVydHktcGF0aCB0byBhY2Nlc3MgdGhlIHRleHQtcHJvcGVydHkgb2YgYSB0ZXh0LWZpZWxkIG9iamVjdFxuICAgICogd2l0aCB0aGUgaWRlbnRpZmllciBcIm15VGV4dEZpZWxkXCIuIEZvciBtb3JlIGluZm9ybWF0aW9uLCB0YWtlIGEgbG9va1xuICAgICogaW50byB0aGUgXCJJbiBHYW1lIFVJIFN5c3RlbVwiIHNlY3Rpb24gb2YgdGhlIGhlbHAtZmlsZS5cbiAgICAqIFxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIENvbXBvbmVudF9CaW5kaW5nSGFuZGxlclxuICAgICogQGV4dGVuZHMgdWkuQ29tcG9uZW50X0hhbmRsZXJcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICgpIC0+XG4gICAgICAgIEBicmVha0NoYWluQXQgPSBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBiaW5kaW5nLWhhbmRsZXIuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgYmluZGluZy1oYW5kbGVyLlxuICAgICogXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgZm9yIGZvcm11bGEgaW4gQG9iamVjdC5mb3JtdWxhc1xuICAgICAgICAgICAgQGV4ZWN1dGVGb3JtdWxhKGZvcm11bGEpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LmluaXRpYWxpemVkID0geWVzXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICBcbiAgICBleGVjdXRlRm9ybXVsYTogKGZvcm11bGEpIC0+IFxuICAgICAgICBpZiBAY2hlY2tPYmplY3QoZm9ybXVsYSlcbiAgICAgICAgICAgIHdpbmRvdy5vID0gQG9iamVjdFxuICAgICAgICAgICAgd2luZG93LmQgPSBAb2JqZWN0LmRhdGFbMF1cbiAgICAgICAgICAgIGZvcm11bGEuZXhlYygpXG4gICAgICAgICAgICBcbiAgICBAZXhlY3V0ZUZvcm11bGE6IChvYmplY3QsIGZvcm11bGEpIC0+XG4gICAgICAgIHdpbmRvdy5vID0gb2JqZWN0XG4gICAgICAgIHdpbmRvdy5kID0gb2JqZWN0LmRhdGFbMF1cbiAgICAgICAgZm9ybXVsYS5leGVjKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBFdmFsdWF0ZXMgYSBzcGVjaWZpZWQgcHJvcGVydHktcGF0aCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICogXG4gICAgKiBAbWV0aG9kIGZpZWxkVmFsdWVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gQSBwcm9wZXJ0eS1wYXRoLlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5LXBhdGguXG4gICAgIyMjIFxuICAgIGZpZWxkVmFsdWU6IChwYXRoKSAtPiB1aS5Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKEBvYmplY3QsIHBhdGgpICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBFdmFsdWF0ZXMgYSBwcm9wZXJ0eS1wYXRoIG9uIGEgc3BlY2lmaWVkIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICogXG4gICAgKiBAbWV0aG9kIGZpZWxkVmFsdWVcbiAgICAqIEBzdGF0aWNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgLSBBbiBvYmplY3QgdG8gZXZhbHVhdGUgdGhlIHByb3BlcnR5LXBhdGggb24uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEEgcHJvcGVydHktcGF0aC5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eS1wYXRoLlxuICAgICMjIyBcbiAgICBAZmllbGRWYWx1ZTogKG9iamVjdCwgcGF0aCwgcmVhZE9ubHkpIC0+XG4gICAgICAgIGlmIHR5cGVvZiAocGF0aD8uZXhlYykgPT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICB3aW5kb3cubyA9IG9iamVjdFxuICAgICAgICAgICAgd2luZG93LmQgPSBvYmplY3Q/LmRhdGE/WzBdXG4gICAgICAgICAgICB2YWx1ZSA9IHBhdGguZXhlYygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA/IDBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHBhdGhcbiAgICAgXG51aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIgPSBDb21wb25lbnRfRm9ybXVsYUhhbmRsZXIiXX0=
//# sourceURL=Component_FormulaHandler_118.js
var Component_ActionHandler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ActionHandler = (function(superClass) {
  extend(Component_ActionHandler, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_ActionHandler.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * An action-handler component allows a UI game object to execute
  * actions. An action can be a method-call of a component or of the scene which
  * always takes two parameters: Sender and Params. For more info about
  * UI actions, see help-file.
  * 
  * @module ui
  * @class Component_ActionHandler
  * @extends ui.Component_Handler
  * @memberof ui
  * @constructor
   */

  function Component_ActionHandler() {

    /**
    * @property initialized
    * @type boolean
    * @protected
     */
    this.initialized = false;

    /**
    * Counter for delayed/timed actions.
    * @property waitCounter
    * @type number
    * @protected
     */
    this.waitCounter = 0;

    /**
    * Indicates if the mouse/touch pointer is inside the UI object's bounds.
    * @property contains
    * @type boolean
    * @protected
     */
    this.containsPointer = false;
  }


  /**
  * Disposes the component.
  *
  * @method dispose
   */

  Component_ActionHandler.prototype.dispose = function() {
    Component_ActionHandler.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    return gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
  };


  /**
  * Adds event-handler for mouse/touch events to update the component only if 
  * a user-action happened.
  *
  * @method setupEventHandlers
   */

  Component_ActionHandler.prototype.setupEventHandlers = function() {
    var ref;
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
    if (this.object.focusable) {
      gs.GlobalEventManager.on("keyUp", ((function(_this) {
        return function(e) {
          if (Input.release(Input.KEY_RETURN) && _this.object.ui.focused) {
            _this.object.needsUpdate = true;
            return _this.executeActions();
          }
        };
      })(this)), null, this.object);
    }
    gs.GlobalEventManager.on("mouseUp", ((function(_this) {
      return function(e) {
        var action, actions, contains, exec, i, len;
        contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
        if (contains) {
          exec = false;
          actions = actions || _this.object.actions;
          if (actions != null) {
            for (i = 0, len = actions.length; i < len; i++) {
              action = actions[i];
              exec = _this.checkAction(action) && !_this.checkActionWait(action);
              if (exec) {
                break;
              }
            }
          }
          if (exec) {
            e.breakChain = true;
            _this.executeActions();
          }
          return _this.object.needsUpdate = true;
        }
      };
    })(this)), null, this.object);
    if ((ref = this.object.actions) != null ? ref.first(function(a) {
      return a && (a.event === "onMouseEnter" || a.event === "onMouseLeave" || a.event === "onMouseHover");
    }) : void 0) {
      gs.GlobalEventManager.on("mouseMoved", ((function(_this) {
        return function(e) {
          var contains;
          contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
          if (_this.containsPointer !== contains) {
            _this.containsPointer = contains;
            return _this.object.needsUpdate = true;
          }
        };
      })(this)), null, this.object);
    }
    return this.object.events.on("action", (function(_this) {
      return function(e) {
        if (e.actions || e.action) {
          return _this.executeAction(e.actions != null ? e.actions[0] : e.action);
        }
      };
    })(this));
  };


  /**
  * Sets up associated actions. Each action is validated and specific default values for the action-target
  * and other options are set if not specified.
  *
  * @method setupActions
   */

  Component_ActionHandler.prototype.setupActions = function() {
    var action, component, i, len, ref, results, target, targets;
    if (this.object.actions != null) {
      ref = this.object.actions;
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        action = ref[i];
        if (!action) {
          continue;
        }
        if (!action.event) {
          action.event = "onAction";
        }
        if (action.wait != null) {
          continue;
        }
        if (action.target == null) {
          action.target = this.object.controller;
        }
        if (typeof action.target === "string") {
          if (action.target.contains(".")) {
            action.target = ui.Component_FormulaHandler.fieldValue(this.object, action.target);
          }
          targets = action.target.split(".");
          target = gs.ObjectManager.current.objectById(targets[0]);
          if (target != null) {
            component = target.findComponentById(targets[1]);
            if (component == null) {
              target = target.components.where(function(v) {
                return typeof v[action.name] === "function";
              }).first();
            } else {
              target = component;
            }
          } else {
            target = this.object;
          }
          action.target = target;
        }
        if (action.condition != null) {
          action.conditions = [action.condition];
          results.push(delete action.condition);
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };


  /**
  * Initializes the action-handler.
  * 
  * @method setup
   */

  Component_ActionHandler.prototype.setup = function() {
    this.initialized = true;
    this.setupEventHandlers();
    return this.setupActions();
  };


  /**
  * Updates the action-handler.
  * 
  * @method update
   */

  Component_ActionHandler.prototype.update = function() {};

  Component_ActionHandler.prototype.checkAction = function(action) {
    return ((action != null ? action.event : void 0) || (action != null ? action.events : void 0)) && this.checkObject(action);
  };

  Component_ActionHandler.prototype.checkActionWait = function(action) {
    var result;
    result = false;
    if ((action.wait != null) && action.wait > 0) {
      this.waitCounter = action.wait;
      action.wait = 0;
      result = true;
    }
    return result;
  };

  Component_ActionHandler.prototype.updateActionTarget = function(action) {
    var component, target, targets;
    if (action.target == null) {
      action.target = this.object.controller;
    }
    if (action.target.exec || typeof action.target === "string") {
      if (action.target.exec) {
        action.target = ui.Component_FormulaHandler.fieldValue(this.object, action.target);
      }
      targets = action.target.split(".");
      target = gs.ObjectManager.current.objectById(targets[0]);
      if (target != null) {
        component = target.findComponentById(targets[1]);
        if (component == null) {
          target = target.components.where(function(v) {
            return typeof v[action.name] === "function";
          }).first();
        } else {
          target = component;
        }
      } else {
        target = this.object;
      }
      return action.target = target;
    }
  };

  Component_ActionHandler.prototype.canExecuteActions = function() {
    return this.waitCounter <= 0 && this.object.ui.enabled && this.object.visible;
  };


  /**
  * Executes the specified actions. A single action is only executed if
  * all assigned events and conditions are true.
  * 
  * @method executeActions
  * @return If <b>true</b> there was at least one action executed. Otherwise <b>false</b>
   */

  Component_ActionHandler.prototype.executeActions = function(actions) {
    var action, i, len, result;
    if (!this.canExecuteActions()) {
      return;
    }
    result = false;
    actions = actions || this.object.actions;
    if (actions != null) {
      for (i = 0, len = actions.length; i < len; i++) {
        action = actions[i];
        if (!this.checkAction(action)) {
          continue;
        }
        if (this.checkActionWait(action)) {
          break;
        }
        this.updateActionTarget(action);
        this.executeAction(action);
        result = true;
      }
    }
    return result;
  };


  /**
  * Executes the specified action if all assigned events and conditions
  * are true.
  * 
  * @method executeAction
  * @param {Object} action The action to execute.
   */

  Component_ActionHandler.prototype.executeAction = function(action) {
    var name, target;
    target = action.target || this.object.target;
    if (target != null) {
      return typeof target[name = action.name] === "function" ? target[name](this.object, action.params) : void 0;
    }
  };

  return Component_ActionHandler;

})(ui.Component_Handler);

ui.ActionHandler = Component_ActionHandler;

ui.Component_ActionHandler = Component_ActionHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O29DQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7OztFQVlhLGlDQUFBOztBQUNUOzs7OztJQUtBLElBQUMsQ0FBQSxXQUFELEdBQWU7O0FBRWY7Ozs7OztJQU1BLElBQUMsQ0FBQSxXQUFELEdBQWU7O0FBRWY7Ozs7OztJQU1BLElBQUMsQ0FBQSxlQUFELEdBQW1CO0VBdEJWOzs7QUF5QmI7Ozs7OztvQ0FLQSxPQUFBLEdBQVMsU0FBQTtJQUNMLHNEQUFBLFNBQUE7SUFFQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBdEIsQ0FBaUMsT0FBakMsRUFBMEMsSUFBQyxDQUFBLE1BQTNDO0lBQ0EsRUFBRSxDQUFDLGtCQUFrQixDQUFDLFVBQXRCLENBQWlDLFNBQWpDLEVBQTRDLElBQUMsQ0FBQSxNQUE3QztXQUNBLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxVQUF0QixDQUFpQyxZQUFqQyxFQUErQyxJQUFDLENBQUEsTUFBaEQ7RUFMSzs7O0FBUVQ7Ozs7Ozs7b0NBTUEsa0JBQUEsR0FBb0IsU0FBQTtBQUNoQixRQUFBO0lBQUEsRUFBRSxDQUFDLGtCQUFrQixDQUFDLFVBQXRCLENBQWlDLE9BQWpDLEVBQTBDLElBQUMsQ0FBQSxNQUEzQztJQUNBLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxVQUF0QixDQUFpQyxTQUFqQyxFQUE0QyxJQUFDLENBQUEsTUFBN0M7SUFDQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBdEIsQ0FBaUMsWUFBakMsRUFBK0MsSUFBQyxDQUFBLE1BQWhEO0lBR0EsSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQVg7TUFDSSxFQUFFLENBQUMsa0JBQWtCLENB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PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9BY3Rpb25IYW5kbGVyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfQWN0aW9uSGFuZGxlciBleHRlbmRzIHVpLkNvbXBvbmVudF9IYW5kbGVyXG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBbiBhY3Rpb24taGFuZGxlciBjb21wb25lbnQgYWxsb3dzIGEgVUkgZ2FtZSBvYmplY3QgdG8gZXhlY3V0ZVxuICAgICogYWN0aW9ucy4gQW4gYWN0aW9uIGNhbiBiZSBhIG1ldGhvZC1jYWxsIG9mIGEgY29tcG9uZW50IG9yIG9mIHRoZSBzY2VuZSB3aGljaFxuICAgICogYWx3YXlzIHRha2VzIHR3byBwYXJhbWV0ZXJzOiBTZW5kZXIgYW5kIFBhcmFtcy4gRm9yIG1vcmUgaW5mbyBhYm91dFxuICAgICogVUkgYWN0aW9ucywgc2VlIGhlbHAtZmlsZS5cbiAgICAqIFxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIENvbXBvbmVudF9BY3Rpb25IYW5kbGVyXG4gICAgKiBAZXh0ZW5kcyB1aS5Db21wb25lbnRfSGFuZGxlclxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbml0aWFsaXplZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvdW50ZXIgZm9yIGRlbGF5ZWQvdGltZWQgYWN0aW9ucy5cbiAgICAgICAgKiBAcHJvcGVydHkgd2FpdENvdW50ZXJcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAd2FpdENvdW50ZXIgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBtb3VzZS90b3VjaCBwb2ludGVyIGlzIGluc2lkZSB0aGUgVUkgb2JqZWN0J3MgYm91bmRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb250YWluc1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY29udGFpbnNQb2ludGVyID0gbm9cbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgY29tcG9uZW50LlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcImtleVVwXCIsIEBvYmplY3QpXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlTW92ZWRcIiwgQG9iamVjdClcbiAgICAgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogQWRkcyBldmVudC1oYW5kbGVyIGZvciBtb3VzZS90b3VjaCBldmVudHMgdG8gdXBkYXRlIHRoZSBjb21wb25lbnQgb25seSBpZiBcbiAgICAqIGEgdXNlci1hY3Rpb24gaGFwcGVuZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cEV2ZW50SGFuZGxlcnNcbiAgICAjIyMgXG4gICAgc2V0dXBFdmVudEhhbmRsZXJzOiAtPlxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcImtleVVwXCIsIEBvYmplY3QpXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlTW92ZWRcIiwgQG9iamVjdClcbiAgICAgICAgI2dzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VNb3ZlZFwiLCBAb2JqZWN0KVxuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5mb2N1c2FibGVcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcImtleVVwXCIsICgoZSkgPT4gXG4gICAgICAgICAgICAgICAgaWYgSW5wdXQucmVsZWFzZShJbnB1dC5LRVlfUkVUVVJOKSBhbmQgQG9iamVjdC51aS5mb2N1c2VkXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgQGV4ZWN1dGVBY3Rpb25zKClcbiAgICAgICAgICAgICksIG51bGwsIEBvYmplY3RcbiAgICAgICAgXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm1vdXNlVXBcIiwgKChlKSA9PiBcbiAgICAgICAgICAgIGNvbnRhaW5zID0gUmVjdC5jb250YWlucyhAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksIFxuICAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCwgQG9iamVjdC5kc3RSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBJbnB1dC5Nb3VzZS54IC0gQG9iamVjdC5vcmlnaW4ueCwgSW5wdXQuTW91c2UueSAtIEBvYmplY3Qub3JpZ2luLnkpXG4gICAgICAgICAgICBpZiBjb250YWluc1xuICAgICAgICAgICAgICAgIGV4ZWMgPSBub1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zIHx8IEBvYmplY3QuYWN0aW9uc1xuICAgICAgICAgICAgICAgIGlmIGFjdGlvbnM/XG4gICAgICAgICAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhlYyA9IEBjaGVja0FjdGlvbihhY3Rpb24pIGFuZCAhQGNoZWNrQWN0aW9uV2FpdChhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBpZiBleGVjXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBleGVjXG4gICAgICAgICAgICAgICAgICAgIGUuYnJlYWtDaGFpbiA9IHllc1xuICAgICAgICAgICAgICAgICAgICBAZXhlY3V0ZUFjdGlvbnMoKVxuICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgKSwgbnVsbCwgQG9iamVjdFxuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LmFjdGlvbnM/LmZpcnN0KChhKSAtPiBhIGFuZCAoYS5ldmVudCA9PSBcIm9uTW91c2VFbnRlclwiIG9yIGEuZXZlbnQgPT0gXCJvbk1vdXNlTGVhdmVcIiBvciBhLmV2ZW50ID09IFwib25Nb3VzZUhvdmVyXCIpKVxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VNb3ZlZFwiLCAoKGUpID0+XG4gICAgICAgICAgICAgICAgY29udGFpbnMgPSBSZWN0LmNvbnRhaW5zKEBvYmplY3QuZHN0UmVjdC54LCBAb2JqZWN0LmRzdFJlY3QueSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoLCBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBjb250YWluc1BvaW50ZXIgIT0gY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgQGNvbnRhaW5zUG9pbnRlciA9IGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBudWxsLCBAb2JqZWN0XG4gICAgICAgICAgICBcbiAgICAgICAgQG9iamVjdC5ldmVudHMub24gXCJhY3Rpb25cIiwgKGUpID0+XG4gICAgICAgICAgICBpZiBlLmFjdGlvbnMgb3IgZS5hY3Rpb25cbiAgICAgICAgICAgICAgICBAZXhlY3V0ZUFjdGlvbihpZiBlLmFjdGlvbnM/IHRoZW4gZS5hY3Rpb25zWzBdIGVsc2UgZS5hY3Rpb24pXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgYXNzb2NpYXRlZCBhY3Rpb25zLiBFYWNoIGFjdGlvbiBpcyB2YWxpZGF0ZWQgYW5kIHNwZWNpZmljIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgYWN0aW9uLXRhcmdldFxuICAgICogYW5kIG90aGVyIG9wdGlvbnMgYXJlIHNldCBpZiBub3Qgc3BlY2lmaWVkLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBBY3Rpb25zXG4gICAgIyMjICAgICAgICBcbiAgICBzZXR1cEFjdGlvbnM6IC0+XG4gICAgICAgIGlmIEBvYmplY3QuYWN0aW9ucz9cbiAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gQG9iamVjdC5hY3Rpb25zXG4gICAgICAgICAgICAgICAgY29udGludWUgdW5sZXNzIGFjdGlvblxuICAgICAgICAgICAgICAgIGlmIG5vdCBhY3Rpb24uZXZlbnQgdGhlbiBhY3Rpb24uZXZlbnQgPSBcIm9uQWN0aW9uXCJcbiAgICAgICAgICAgICAgICBpZiBhY3Rpb24ud2FpdD8gdGhlbiBjb250aW51ZVxuICAgICAgICAgICAgICAgIGlmIG5vdCBhY3Rpb24udGFyZ2V0PyB0aGVuIGFjdGlvbi50YXJnZXQgPSBAb2JqZWN0LmNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICBpZiB0eXBlb2YgYWN0aW9uLnRhcmdldCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgIGlmIGFjdGlvbi50YXJnZXQuY29udGFpbnMoXCIuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24udGFyZ2V0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoQG9iamVjdCwgYWN0aW9uLnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0cyA9IGFjdGlvbi50YXJnZXQuc3BsaXQoXCIuXCIpXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKHRhcmdldHNbMF0pXG4gICAgICAgICAgICAgICAgICAgIGlmIHRhcmdldD9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRhcmdldC5maW5kQ29tcG9uZW50QnlJZCh0YXJnZXRzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGNvbXBvbmVudD9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuY29tcG9uZW50cy53aGVyZSgodikgLT4gdHlwZW9mIHZbYWN0aW9uLm5hbWVdID09IFwiZnVuY3Rpb25cIikuZmlyc3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBAb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi50YXJnZXQgPSB0YXJnZXRcbiAgICAgICAgICAgICAgICBpZiBhY3Rpb24uY29uZGl0aW9uP1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uY29uZGl0aW9ucyA9IFthY3Rpb24uY29uZGl0aW9uXVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYWN0aW9uLmNvbmRpdGlvblxuICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBhY3Rpb24taGFuZGxlci5cbiAgICAqIFxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBAc2V0dXBBY3Rpb25zKCkgICAgXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGFjdGlvbi1oYW5kbGVyLlxuICAgICogXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cblxuICAgICAgXG4gICAgY2hlY2tBY3Rpb246IChhY3Rpb24pIC0+IChhY3Rpb24/LmV2ZW50IG9yIGFjdGlvbj8uZXZlbnRzKSBhbmQgQGNoZWNrT2JqZWN0KGFjdGlvbilcbiAgICBjaGVja0FjdGlvbldhaXQ6IChhY3Rpb24pIC0+XG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIFxuICAgICAgICBpZiBhY3Rpb24ud2FpdD8gYW5kIGFjdGlvbi53YWl0ID4gMFxuICAgICAgICAgICAgQHdhaXRDb3VudGVyID0gYWN0aW9uLndhaXRcbiAgICAgICAgICAgIGFjdGlvbi53YWl0ID0gMFxuICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIHVwZGF0ZUFjdGlvblRhcmdldDogKGFjdGlvbikgLT5cbiAgICAgICAgaWYgbm90IGFjdGlvbi50YXJnZXQ/IHRoZW4gYWN0aW9uLnRhcmdldCA9IEBvYmplY3QuY29udHJvbGxlclxuICAgICAgICBpZiBhY3Rpb24udGFyZ2V0LmV4ZWMgb3IgdHlwZW9mIGFjdGlvbi50YXJnZXQgPT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgaWYgYWN0aW9uLnRhcmdldC5leGVjXG4gICAgICAgICAgICAgICBhY3Rpb24udGFyZ2V0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoQG9iamVjdCwgYWN0aW9uLnRhcmdldClcbiAgICAgICAgICAgIHRhcmdldHMgPSBhY3Rpb24udGFyZ2V0LnNwbGl0KFwiLlwiKVxuICAgICAgICAgICAgdGFyZ2V0ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQodGFyZ2V0c1swXSlcbiAgICAgICAgICAgIGlmIHRhcmdldD9cbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0YXJnZXQuZmluZENvbXBvbmVudEJ5SWQodGFyZ2V0c1sxXSlcbiAgICAgICAgICAgICAgICBpZiBub3QgY29tcG9uZW50P1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuY29tcG9uZW50cy53aGVyZSgodikgLT4gdHlwZW9mIHZbYWN0aW9uLm5hbWVdID09IFwiZnVuY3Rpb25cIikuZmlyc3QoKVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gY29tcG9uZW50XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gQG9iamVjdFxuICAgICAgICAgICAgYWN0aW9uLnRhcmdldCA9IHRhcmdldFxuICAgIFxuICAgIGNhbkV4ZWN1dGVBY3Rpb25zOiAtPiBAd2FpdENvdW50ZXIgPD0gMCBhbmQgQG9iamVjdC51aS5lbmFibGVkIGFuZCBAb2JqZWN0LnZpc2libGUgICAgICAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBFeGVjdXRlcyB0aGUgc3BlY2lmaWVkIGFjdGlvbnMuIEEgc2luZ2xlIGFjdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIGlmXG4gICAgKiBhbGwgYXNzaWduZWQgZXZlbnRzIGFuZCBjb25kaXRpb25zIGFyZSB0cnVlLlxuICAgICogXG4gICAgKiBAbWV0aG9kIGV4ZWN1dGVBY3Rpb25zXG4gICAgKiBAcmV0dXJuIElmIDxiPnRydWU8L2I+IHRoZXJlIHdhcyBhdCBsZWFzdCBvbmUgYWN0aW9uIGV4ZWN1dGVkLiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+XG4gICAgIyMjXG4gICAgZXhlY3V0ZUFjdGlvbnM6IChhY3Rpb25zKSAtPlxuICAgICAgICByZXR1cm4gaWYgbm90IEBjYW5FeGVjdXRlQWN0aW9ucygpXG4gICAgICAgIFxuICAgICAgICByZXN1bHQgPSBub1xuICAgICAgICBhY3Rpb25zID0gYWN0aW9ucyB8fCBAb2JqZWN0LmFjdGlvbnNcbiAgICAgICAgaWYgYWN0aW9ucz9cbiAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gYWN0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIGlmIG5vdCBAY2hlY2tBY3Rpb24oYWN0aW9uKVxuICAgICAgICAgICAgICAgIGJyZWFrIGlmIEBjaGVja0FjdGlvbldhaXQoYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBAdXBkYXRlQWN0aW9uVGFyZ2V0KGFjdGlvbilcbiAgICAgICAgICAgICAgICBAZXhlY3V0ZUFjdGlvbihhY3Rpb24pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBFeGVjdXRlcyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBpZiBhbGwgYXNzaWduZWQgZXZlbnRzIGFuZCBjb25kaXRpb25zXG4gICAgKiBhcmUgdHJ1ZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCBleGVjdXRlQWN0aW9uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAjIyMgICAgICAgICAgICBcbiAgICBleGVjdXRlQWN0aW9uOiAoYWN0aW9uKSAtPlxuICAgICAgICB0YXJnZXQgPSBhY3Rpb24udGFyZ2V0IHx8IEBvYmplY3QudGFyZ2V0XG4gICAgICAgIFxuICAgICAgICBpZiB0YXJnZXQ/ICNhbmQgKCFhY3Rpb24uY29uZGl0aW9ucyBvciBAY2hlY2tDb25kaXRpb25zKGFjdGlvbi5jb25kaXRpb25zKSlcbiAgICAgICAgICAgIHRhcmdldFthY3Rpb24ubmFtZV0/KEBvYmplY3QsIGFjdGlvbi5wYXJhbXMpXG4gICAgICAgICAgICBcbnVpLkFjdGlvbkhhbmRsZXIgPSBDb21wb25lbnRfQWN0aW9uSGFuZGxlclxudWkuQ29tcG9uZW50X0FjdGlvbkhhbmRsZXIgPSBDb21wb25lbnRfQWN0aW9uSGFuZGxlciJdfQ==
//# sourceURL=Component_ActionHandler_124.js
var Component_AnimationHandler,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_AnimationHandler = (function(superClass) {
  extend(Component_AnimationHandler, superClass);


  /**
  * An animation-handler component allows a UI game object to execute
  * a flow of animations. For more information about UI animations, see help-file.
  * 
  * @module ui
  * @class Component_AnimationHandler
  * @extends ui.Component_Handler
  * @memberof ui
  * @constructor
   */

  function Component_AnimationHandler() {
    Component_AnimationHandler.__super__.constructor.apply(this, arguments);

    /**
    * @property initialized
    * @type boolean
    * @protected
     */
    this.initialized = false;

    /**
    * @property waitCounter
    * @type number
    * @protected
     */
    this.waitCounter = 0;

    /**
    * @property pointer
    * @type number
    * @protected
     */
    this.pointer = 0;
  }


  /**
  * Initializes the animation-handler.
  * 
  * @method setup
   */

  Component_AnimationHandler.prototype.setup = function() {
    this.initialized = true;
    return null;
  };


  /**
  * Starts the specified animation.
  * 
  * @method startAnimation
  * @param {Object} animation - The animation to start.
  * @param {gs.Object_Base} target - The target object of the animation.
  * @protected
   */

  Component_AnimationHandler.prototype.startAnimation = function(animation, target, animator) {
    var easing, mask, record, value;
    switch (animation.type) {
      case "sound":
        return AudioManager.playSound(animation.sound);
      case "maskTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        mask = {
          value: animation.value,
          graphic: {
            name: animation.mask
          },
          vague: animation.vague,
          sourceType: 0
        };
        return animator.maskTo(mask, animation.duration, easing);
      case "changeImages":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.changeImages(animation.images, animation.duration, easing);
      case "playAnimation":
        record = RecordManager.animations[animation.animationId];
        if (record != null) {
          return animator.playAnimation(record);
        }
        break;
      case "changeTo":
        value = ui.Component_BindingHandler.fieldValue(target, animation.value);
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.change(value, animation.field, animation.duration, easing);
      case "blendTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.blendTo(animation.opacity, animation.duration, easing);
      case "colorTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.colorTo(Color.fromArray(animation.color), animation.duration, easing);
      case "tintTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.tintTo(Tone.fromArray(animation.tone), animation.duration, easing);
      case "moveTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.moveTo(animation.position[0], animation.position[1], animation.duration, easing);
      case "rotate":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.rotate(0, animation.speed, animation.duration, easing);
      case "moveBy":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.moveBy(this.object.dstRect.x + animation.position[0], this.object.dstRect.y + animation.position[1], animation.duration, easing);
      case "zoomTo":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.zoomTo(animation.zoom[0] / 100, animation.zoom[1] / 100, animation.duration, easing);
      case "scroll":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.scroll(animation.speed[0], animation.speed[1], 0, easing);
      case "shake":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.shake({
          x: animation.range[0],
          y: animation.range[1]
        }, animation.speed, animation.duration, easing);
      case "appear":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.appear(target.dstRect.x, target.dstRect.y, animation.animation, easing, animation.duration);
      case "disappear":
        easing = animation.easing ? gs.Easings.fromString(animation.easing) : null;
        return animator.disappear(animation.animation, easing, animation.duration, (function(_this) {
          return function(sender) {
            return sender.dispose();
          };
        })(this));
    }
  };


  /**
  * Processes the animation targets and starts the animation on each
  * target object if possible.
  * 
  * @method processTargets
  * @param {Object} animation - The animation to start.
  * @param {gs.Object_Base[]} targets - An array of target objects.
  * @protected
   */

  Component_AnimationHandler.prototype.processTargets = function(animation, targets) {
    var j, len, ref, ref1, target;
    for (j = 0, len = targets.length; j < len; j++) {
      target = targets[j];
      if (animation.type != null) {
        target.visible = true;
        if (animation.components == null) {
          animation.components = [];
        }
        if (!this.object.animator) {
          this.object.animator = new gs.Component_Animator();
          this.object.addComponent(this.object.animator);
        }
        animation.components.push(this.startAnimation(animation, target, this.object.animator));
        target.visible = true;
        animation.executed = !((ref = animation.repeat) != null ? ref : true);
      } else {
        animation.executed = !((ref1 = animation.repeat) != null ? ref1 : true);
      }
    }
    return null;
  };


  /**
  * Clears/Resets the specified animation if necessary.
  * 
  * @method clear
  * @param {Object} descriptor - The animation descriptor
  * @protected
   */

  Component_AnimationHandler.prototype.clear = function(descriptor) {
    var animation, component, j, k, len, len1, ref, ref1, target;
    descriptor.cleared = true;
    descriptor.pointer = 0;
    descriptor.waitCounter = 0;
    ref = descriptor.flow;
    for (j = 0, len = ref.length; j < len; j++) {
      animation = ref[j];
      if (animation.components) {
        ref1 = animation.components;
        for (k = 0, len1 = ref1.length; k < len1; k++) {
          component = ref1[k];
          if (component != null) {
            component.dispose();
          }
          target = this.object;
          target.visible = true;
          animation.executed = false;
          if ((animation.field != null) && (animation.reset != null)) {
            ui.BindingHandler.resolveFieldPath(target, animation.field).set(target, ui.BindingHandler.fieldValue(target, animation.reset || 0));
          }
        }
        animation.components = [];
      }
    }
    this.object.needsFullUpdate = true;
    return null;
  };


  /**
  * Processes the animation flow.
  * 
  * @method processAnimations
  * @param {Object} descriptor - The animation-descriptor containing the animation-flow.
  * @protected
   */

  Component_AnimationHandler.prototype.processAnimations = function(descriptor) {
    var animation, targets;
    while (descriptor.pointer < descriptor.flow.length) {
      animation = descriptor.flow[descriptor.pointer];
      descriptor.pointer++;
      if (!animation.wait && animation.executed) {
        continue;
      }
      targets = animation.target != null ? ui.Component_FormulaHandler.fieldValue(this.object, animation.target) : this.object;
      targets = targets.length != null ? targets : [targets];
      descriptor.cleared = false;
      this.processTargets(animation, targets);
      if (animation.wait) {
        if (animation.type != null) {
          descriptor.waitCounter = animation.duration;
        } else {
          descriptor.waitCounter = ui.Component_FormulaHandler.fieldValue(this.object, animation.wait || 0, true);
        }
        break;
      }
    }
    return null;
  };


  /**
  * Updates the animations.
  * 
  * @method updateAnimations
   */

  Component_AnimationHandler.prototype.updateAnimations = function() {
    var descriptor, i, j, len, ref, ref1;
    ref = this.object.animations;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      descriptor = ref[i];
      if (this.checkObject(descriptor)) {
        if (descriptor.waitCounter > 0) {
          descriptor.waitCounter--;
          continue;
        }
        if ((descriptor.pointer == null) || descriptor.pointer >= descriptor.flow.length) {
          descriptor.pointer = 0;
        }
        this.processAnimations(descriptor);
      } else if (!descriptor.cleared && ((ref1 = descriptor.clear) != null ? ref1 : true)) {
        this.clear(descriptor);
      }
    }
    return null;
  };


  /**
  * Updates the animation-handler.
  * 
  * @method update
   */

  Component_AnimationHandler.prototype.update = function() {
    this.object.needsUpdate = true;
    return this.updateAnimations();
  };

  return Component_AnimationHandler;

})(ui.Component_Handler);

ui.Component_AnimationHandler = Component_AnimationHandler;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsMEJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSxvQ0FBQTtJQUNULDZEQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFFZjs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7RUF0QkY7OztBQXdCYjs7Ozs7O3VDQUtBLEtBQUEsR0FBTyxTQUFBO0lBQ0gsSUFBQyxDQUFBLFdBQUQsR0FBZTtBQUVmLFdBQU87RUFISjs7O0FBS1A7Ozs7Ozs7Ozt1Q0FRQSxjQUFBLEdBQWdCLFNBQUMsU0FBRCxFQUFZLE1BQVosRUFBb0IsUUFBcEI7QUFDWixRQUFBO0FBQUEsWUFBTyxTQUFTLENBQUMsSUFBakI7QUFBQSxXQUNTLE9BRFQ7ZUFFUSxZQUFZLENBQUMsU0FBYixDQUF1QixTQUFTLENBQUMsS0FBakM7QUFGUixXQUdTLFFBSFQ7UUFJUSxNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtRQUMvRSxJQUFBLEdBQU87VUFBRSxLQUFBLEVBQU8sU0FBUyxDQUFDLEtBQW5CO1VBQTBCLE9BQUEsRUFBUztZQUFFLElBQUEsRUFBTSxTQUFTLENBQUMsSUFBbEI7V0FBbkM7VUFBNkQsS0FBQSxFQUFPLFNBQVMsQ0FBQyxLQUE5RTtVQUFxRixVQUFBLEVBQVksQ0FBakc7O2VBQ1AsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0IsU0FBUyxDQUFDLFFBQWhDLEVBQTBDLE1BQTFDO0FBTlIsV0FPUyxjQVBUO1FBUVEsTUFBQSxHQUFZLFNBQVMsQ0FBQyxNQUFiLEdBQXlCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBWCxDQUFzQixTQUFTLENBQUMsTUFBaEMsQ0FBekIsR0FBc0U7ZUFDL0UsUUFBUSxDQUFDLFlBQVQsQ0FBc0IsU0FBUyxDQUFDLE1BQWhDLEVBQXdDLFNBQVMsQ0FBQyxRQUFsRCxFQUE0RCxNQUE1RDtBQVRSLFdBVVMsZUFWVDtRQVdRLE1BQUEsR0FBUyxhQUFhLENBQUMsVUFBVyxDQUFBLFNBQVMsQ0FBQyxXQUFWO1FBQ2xDLElBQUcsY0FBSDtpQkFDSSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixFQURKOztBQUZDO0FBVlQsV0FjUyxVQWRUO1FBZVEsS0FBQSxHQUFRLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxNQUF2QyxFQUErQyxTQUFTLENBQUMsS0FBekQ7UUFDUixNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtlQUUvRSxRQUFRLENBQUMsTUFBVCxDQUFnQixLQUFoQixFQUF1QixTQUFTLENBQUMsS0FBakMsRUFBd0MsU0FBUyxDQUFDLFFBQWxELEVBQTRELE1BQTVEO0FBbEJSLFdBbUJTLFNBbkJUO1FBb0JRLE1BQUEsR0FBWSxTQUFTLENBQUMsTUFBYixHQUF5QixFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVgsQ0FBc0IsU0FBUyxDQUFDLE1BQWhDLENBQXpCLEdBQXNFO2VBQy9FLFFBQVEsQ0FBQyxPQUFULENBQWlCLFNBQVMsQ0FBQyxPQUEzQixFQUFvQyxTQUFTLENBQUMsUUFBOUMsRUFBd0QsTUFBeEQ7QUFyQlIsV0FzQlMsU0F0QlQ7UUF1QlEsTUFBQSxHQUFZLFNBQVMsQ0FBQyxNQUFiLEdBQXlCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBWCxDQUFzQixTQUFTLENBQUMsTUFBaEMsQ0FBekIsR0FBc0U7ZUFDL0UsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsS0FBSyxDQUFDLFNBQU4sQ0FBZ0IsU0FBUyxDQUFDLEtBQTFCLENBQWpCLEVBQW1ELFNBQVMsQ0FBQyxRQUE3RCxFQUF1RSxNQUF2RTtBQXhCUixXQXlCUyxRQXpCVDtRQTBCUSxNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtlQUMvRSxRQUFRLENBQUMsTUFBVCxDQUFnQixJQUFJLENBQUMsU0FBTCxDQUFlLFNBQVMsQ0FBQyxJQUF6QixDQUFoQixFQUFnRCxTQUFTLENBQUMsUUFBMUQsRUFBb0UsTUFBcEU7QUEzQlIsV0E0QlMsUUE1QlQ7UUE2QlEsTUFBQSxHQUFZLFNBQVMsQ0FBQyxNQUFiLEdBQXlCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBWCxDQUFzQixTQUFTLENBQUMsTUFBaEMsQ0FBekIsR0FBc0U7ZUFDL0UsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsU0FBUyxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQW5DLEVBQXVDLFNBQVMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUExRCxFQUE4RCxTQUFTLENBQUMsUUFBeEUsRUFBa0YsTUFBbEY7QUE5QlIsV0ErQlMsUUEvQlQ7UUFnQ1EsTUFBQSxHQUFZLFNBQVMsQ0FBQyxNQUFiLEdBQXlCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBWCxDQUFzQixTQUFTLENBQUMsTUFBaEMsQ0FBekIsR0FBc0U7ZUFDL0UsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBbUIsU0FBUyxDQUFDLEtBQTdCLEVBQW9DLFNBQVMsQ0FBQyxRQUE5QyxFQUF3RCxNQUF4RDtBQWpDUixXQWtDUyxRQWxDVDtRQW1DUSxNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtlQUMvRSxRQUFRLENBQUMsTUFBVCxDQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixTQUFTLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBdkQsRUFBMkQsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBaEIsR0FBb0IsU0FBUyxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQWxHLEVBQXNHLFNBQVMsQ0FBQyxRQUFoSCxFQUEwSCxNQUExSDtBQXBDUixXQXFDUyxRQXJDVDtRQXNDUSxNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtlQUMvRSxRQUFRLENBQUMsTUFBVCxDQUFnQixTQUFTLENBQUMsSUFBSyxDQUFBLENBQUEsQ0FBZixHQUFvQixHQUFwQyxFQUF5QyxTQUFTLENBQUMsSUFBSyxDQUFBLENBQUEsQ0FBZixHQUFvQixHQUE3RCxFQUFrRSxTQUFTLENBQUMsUUFBNUUsRUFBc0YsTUFBdEY7QUF2Q1IsV0F3Q1MsUUF4Q1Q7UUF5Q1EsTUFBQSxHQUFZLFNBQVMsQ0FBQyxNQUFiLEdBQXlCLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBWCxDQUFzQixTQUFTLENBQUMsTUFBaEMsQ0FBekIsR0FBc0U7ZUFDL0UsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsU0FBUyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQWhDLEVBQW9DLFNBQVMsQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUFwRCxFQUF3RCxDQUF4RCxFQUEyRCxNQUEzRDtBQTFDUixXQTJDUyxPQTNDVDtRQTRDUSxNQUFBLEdBQVksU0FBUyxDQUFDLE1BQWIsR0FBeUIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFYLENBQXNCLFNBQVMsQ0FBQyxNQUFoQyxDQUF6QixHQUFzRTtBQUMvRSxlQUFPLFFBQVEsQ0FBQyxLQUFULENBQWU7VUFBRSxDQUFBLEVBQUcsU0FBUyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQXJCO1VBQXlCLENBQUEsRUFBRyxTQUFTLENBQUMsS0FBTSxDQUFBLENBQUEsQ0FBNUM7U0FBZixFQUFpRSxTQUFTLENBQUMsS0FBM0UsRUFBa0YsU0FBUyxDQUFDLFFBQTVGLEVBQXNHLE1BQXRHO0FBN0NmLFdBOENTLFFBOUNUO1FBK0NRLE1BQUEsR0FBWSxTQUFTLENBQUMsTUFBYixHQUF5QixFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVgsQ0FBc0IsU0FBUyxDQUFDLE1BQWhDLENBQXpCLEdBQXNFO2VBQy9FLFFBQVEsQ0FBQyxNQUFULENBQWdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBL0IsRUFBa0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFqRCxFQUFvRCxTQUFTLENBQUMsU0FBOUQsRUFBeUUsTUFBekUsRUFBaUYsU0FBUyxDQUFDLFFBQTNGO0FBaERSLFdBaURTLFdBakRUO1FBa0RRLE1BQUEsR0FBWSxTQUFTLENBQUMsTUFBYixHQUF5QixFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVgsQ0FBc0IsU0FBUyxDQUFDLE1BQWhDLENBQXpCLEdBQXNFO2VBQy9FLFFBQVEsQ0FBQyxTQUFULENBQW1CLFNBQVMsQ0FBQyxTQUE3QixFQUF3QyxNQUF4QyxFQUFnRCxTQUFTLENBQUMsUUFBMUQsRUFBb0UsQ0FBQSxTQUFBLEtBQUE7aUJBQUEsU0FBQyxNQUFEO21CQUFZLE1BQU0sQ0FBQyxPQUFQLENBQUE7VUFBWjtRQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBcEU7QUFuRFI7RUFEWTs7O0FBc0RoQjs7Ozs7Ozs7Ozt1Q0FTQSxjQUFBLEdBQWdCLFNBQUMsU0FBRCxFQUFZLE9BQVo7QUFDWixRQUFBO0FBQUEsU0FBQSx5Q0FBQTs7TUFDSSxJQUFHLHNCQUFIO1FBQ0ksTUFBTSxDQUFDLE9BQVAsR0FBaUI7UUFDakIsSUFBSSw0QkFBSjtVQUErQixTQUFTLENBQUMsVUFBVixHQUF1QixHQUF0RDs7UUFHQSxJQUFHLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFaO1VBQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFSLEdBQXVCLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQUE7VUFDdkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxZQUFSLENBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBN0IsRUFGSjs7UUFJQSxTQUFTLENBQUMsVUFBVSxDQUFDLElBQXJCLENBQTBCLElBQUMsQ0FBQSxjQUFELENBQWdCLFNBQWhCLEVBQTJCLE1BQTNCLEVBQW1DLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBM0MsQ0FBMUI7UUFFQSxNQUFNLENBQUMsT0FBUCxHQUFpQjtRQUNqQixTQUFTLENBQUMsUUFBVixHQUFxQixDQUFDLDBDQUFvQixJQUFwQixFQVoxQjtPQUFBLE1BQUE7UUFjSSxTQUFTLENBQUMsUUFBVixHQUFxQixDQUFDLDRDQUFvQixJQUFwQixFQWQxQjs7QUFESjtBQWlCQSxXQUFPO0VBbEJLOzs7QUFvQmhCOzs7Ozs7Ozt1Q0FPQSxLQUFBLEdBQU8sU0FBQyxVQUFEO0FBQ0gsUUFBQTtJQUFBLFVBQVUsQ0FBQyxPQUFYLEdBQXFCO0lBQ3JCLFVBQVUsQ0FBQyxPQUFYLEdBQXFCO0lBQ3JCLFVBQVUsQ0FBQyxXQUFYLEdBQXlCO0FBQ3pCO0FBQUEsU0FBQSxxQ0FBQTs7TUFDSSxJQUFHLFNBQVMsQ0FBQyxVQUFiO0FBQ0k7QUFBQSxhQUFBLHdDQUFBOzs7WUFDSSxTQUFTLENBQUUsT0FBWCxDQUFBOztVQUNBLE1BQUEsR0FBUyxJQUFDLENBQUE7VUFDVixNQUFNLENBQUMsT0FBUCxHQUFpQjtVQUNqQixTQUFTLENBQUMsUUFBVixHQUFxQjtVQUNyQixJQUFHLHlCQUFBLElBQXFCLHlCQUF4QjtZQUNJLEVBQUUsQ0FBQyxjQUFjLENBQUMsZ0JBQWxCLENBQW1DLE1BQW5DLEVBQTJDLFNBQVMsQ0FBQyxLQUFyRCxDQUEyRCxDQUFDLEdBQTVELENBQWdFLE1BQWhFLEVBQXdFLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBbEIsQ0FBNkIsTUFBN0IsRUFBcUMsU0FBUyxDQUFDLEtBQVYsSUFBbUIsQ0FBeEQsQ0FBeEUsRUFESjs7QUFMSjtRQU9BLFNBQVMsQ0FBQyxVQUFWLEdBQXVCLEdBUjNCOztBQURKO0lBV0EsSUFBQyxDQUFBLE1BQU0sQ0FBQyxlQUFSLEdBQTBCO0FBRTFCLFdBQU87RUFqQko7OztBQW1CUDs7Ozs7Ozs7dUNBT0EsaUJBQUEsR0FBbUIsU0FBQyxVQUFEO0FBQ2YsUUFBQTtBQUFBLFdBQU0sVUFBVSxDQUFDLE9BQVgsR0FBcUIsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUEzQztNQUNJLFNBQUEsR0FBWSxVQUFVLENBQUMsSUFBSyxDQUFBLFVBQVUsQ0FBQyxPQUFYO01BQzVCLFVBQVUsQ0FBQyxPQUFYO01BRUEsSUFBRyxDQUFDLFNBQVMsQ0FBQyxJQUFYLElBQW9CLFNBQVMsQ0FBQyxRQUFqQztBQUErQyxpQkFBL0M7O01BRUEsT0FBQSxHQUFhLHdCQUFILEdBQTBCLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxJQUFDLENBQUEsTUFBeEMsRUFBZ0QsU0FBUyxDQUFDLE1BQTFELENBQTFCLEdBQWlHLElBQUMsQ0FBQTtNQUM1RyxPQUFBLEdBQWEsc0JBQUgsR0FBd0IsT0FBeEIsR0FBcUMsQ0FBQyxPQUFEO01BQy9DLFVBQVUsQ0FBQyxPQUFYLEdBQXFCO01BRXJCLElBQUMsQ0FBQSxjQUFELENBQWdCLFNBQWhCLEVBQTJCLE9BQTNCO01BRUEsSUFBRyxTQUFTLENBQUMsSUFBYjtRQUNJLElBQUcsc0JBQUg7VUFDSSxVQUFVLENBQUMsV0FBWCxHQUF5QixTQUFTLENBQUMsU0FEdkM7U0FBQSxNQUFBO1VBR0ksVUFBVSxDQUFDLFdBQVgsR0FBeUIsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFVBQTVCLENBQXVDLElBQUMsQ0FBQSxNQUF4QyxFQUFnRCxTQUFTLENBQUMsSUFBVixJQUFrQixDQUFsRSxFQUFxRSxJQUFyRSxFQUg3Qjs7QUFJQSxjQUxKOztJQVpKO0FBbUJBLFdBQU87RUFwQlE7OztBQXNCbkI7Ozs7Ozt1Q0FLQSxnQkFBQSxHQUFrQixTQUFBO0FBQ2QsUUFBQTtBQUFBO0FBQUEsU0FBQSw2Q0FBQTs7TUFDSSxJQUFHLElBQUMsQ0FBQSxXQUFELENBQWEsVUFBYixDQUFIO1FBQ0ksSUFBRyxVQUFVLENBQUMsV0FBWCxHQUF5QixDQUE1QjtVQUNJLFVBQVUsQ0FBQyxXQUFYO0FBQ0EsbUJBRko7O1FBSUEsSUFBRyxDQUFLLDBCQUFMLENBQUEsSUFBNkIsVUFBVSxDQUFDLE9BQVgsSUFBc0IsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUF0RTtVQUNJLFVBQVUsQ0FBQyxPQUFYLEdBQXFCLEVBRHpCOztRQUdBLElBQUMsQ0FBQSxpQkFBRCxDQUFtQixVQUFuQixFQVJKO09BQUEsTUFTSyxJQUFHLENBQUMsVUFBVSxDQUFDLE9BQVosSUFBd0IsNENBQW9CLElBQXBCLENBQTNCO1FBQ0QsSUFBQyxDQUFBLEtBQUQsQ0FBTyxVQUFQLEVBREM7O0FBVlQ7QUFhQSxXQUFPO0VBZE87OztBQWdCbEI7Ozs7Ozt1Q0FLQSxNQUFBLEdBQVEsU0FBQTtJQUNKLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQjtXQUN0QixJQUFDLENBQUEsZ0JBQUQsQ0FBQTtFQUZJOzs7O0dBek42QixFQUFFLENBQUM7O0FBZ081QyxFQUFFLENBQUMsMEJBQUgsR0FBZ0MiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9BbmltYXRpb25IYW5kbGVyXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfQW5pbWF0aW9uSGFuZGxlciBleHRlbmRzIHVpLkNvbXBvbmVudF9IYW5kbGVyXG4gICAgIyMjKlxuICAgICogQW4gYW5pbWF0aW9uLWhhbmRsZXIgY29tcG9uZW50IGFsbG93cyBhIFVJIGdhbWUgb2JqZWN0IHRvIGV4ZWN1dGVcbiAgICAqIGEgZmxvdyBvZiBhbmltYXRpb25zLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBVSSBhbmltYXRpb25zLCBzZWUgaGVscC1maWxlLlxuICAgICogXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0FuaW1hdGlvbkhhbmRsZXJcbiAgICAqIEBleHRlbmRzIHVpLkNvbXBvbmVudF9IYW5kbGVyXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbml0aWFsaXplZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSB3YWl0Q291bnRlclxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEB3YWl0Q291bnRlciA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgcG9pbnRlclxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBwb2ludGVyID0gMFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgYW5pbWF0aW9uLWhhbmRsZXIuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQGluaXRpYWxpemVkID0geWVzXG4gICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgdGhlIHNwZWNpZmllZCBhbmltYXRpb24uXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgc3RhcnRBbmltYXRpb25cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmltYXRpb24gLSBUaGUgYW5pbWF0aW9uIHRvIHN0YXJ0LlxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvYmplY3Qgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgXG4gICAgc3RhcnRBbmltYXRpb246IChhbmltYXRpb24sIHRhcmdldCwgYW5pbWF0b3IpIC0+XG4gICAgICAgIHN3aXRjaCBhbmltYXRpb24udHlwZVxuICAgICAgICAgICAgd2hlbiBcInNvdW5kXCJcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIucGxheVNvdW5kKGFuaW1hdGlvbi5zb3VuZClcbiAgICAgICAgICAgIHdoZW4gXCJtYXNrVG9cIlxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGlmIGFuaW1hdGlvbi5lYXNpbmcgdGhlbiBncy5FYXNpbmdzLmZyb21TdHJpbmcoYW5pbWF0aW9uLmVhc2luZykgZWxzZSBudWxsXG4gICAgICAgICAgICAgICAgbWFzayA9IHsgdmFsdWU6IGFuaW1hdGlvbi52YWx1ZSwgZ3JhcGhpYzogeyBuYW1lOiBhbmltYXRpb24ubWFzayB9LCB2YWd1ZTogYW5pbWF0aW9uLnZhZ3VlLCBzb3VyY2VUeXBlOiAwIH1cbiAgICAgICAgICAgICAgICBhbmltYXRvci5tYXNrVG8obWFzaywgYW5pbWF0aW9uLmR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgICAgICB3aGVuIFwiY2hhbmdlSW1hZ2VzXCJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBpZiBhbmltYXRpb24uZWFzaW5nIHRoZW4gZ3MuRWFzaW5ncy5mcm9tU3RyaW5nKGFuaW1hdGlvbi5lYXNpbmcpIGVsc2UgbnVsbFxuICAgICAgICAgICAgICAgIGFuaW1hdG9yLmNoYW5nZUltYWdlcyhhbmltYXRpb24uaW1hZ2VzLCBhbmltYXRpb24uZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgICAgIHdoZW4gXCJwbGF5QW5pbWF0aW9uXCJcbiAgICAgICAgICAgICAgICByZWNvcmQgPSBSZWNvcmRNYW5hZ2VyLmFuaW1hdGlvbnNbYW5pbWF0aW9uLmFuaW1hdGlvbklkXVxuICAgICAgICAgICAgICAgIGlmIHJlY29yZD9cbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0b3IucGxheUFuaW1hdGlvbihyZWNvcmQpXG4gICAgICAgICAgICB3aGVuIFwiY2hhbmdlVG9cIlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdWkuQ29tcG9uZW50X0JpbmRpbmdIYW5kbGVyLmZpZWxkVmFsdWUodGFyZ2V0LCBhbmltYXRpb24udmFsdWUpXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhbmltYXRvci5jaGFuZ2UodmFsdWUsIGFuaW1hdGlvbi5maWVsZCwgYW5pbWF0aW9uLmR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgICAgICB3aGVuIFwiYmxlbmRUb1wiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBhbmltYXRvci5ibGVuZFRvKGFuaW1hdGlvbi5vcGFjaXR5LCBhbmltYXRpb24uZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgICAgIHdoZW4gXCJjb2xvclRvXCJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBpZiBhbmltYXRpb24uZWFzaW5nIHRoZW4gZ3MuRWFzaW5ncy5mcm9tU3RyaW5nKGFuaW1hdGlvbi5lYXNpbmcpIGVsc2UgbnVsbFxuICAgICAgICAgICAgICAgIGFuaW1hdG9yLmNvbG9yVG8oQ29sb3IuZnJvbUFycmF5KGFuaW1hdGlvbi5jb2xvciksIGFuaW1hdGlvbi5kdXJhdGlvbiwgZWFzaW5nKSBcbiAgICAgICAgICAgIHdoZW4gXCJ0aW50VG9cIlxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGlmIGFuaW1hdGlvbi5lYXNpbmcgdGhlbiBncy5FYXNpbmdzLmZyb21TdHJpbmcoYW5pbWF0aW9uLmVhc2luZykgZWxzZSBudWxsXG4gICAgICAgICAgICAgICAgYW5pbWF0b3IudGludFRvKFRvbmUuZnJvbUFycmF5KGFuaW1hdGlvbi50b25lKSwgYW5pbWF0aW9uLmR1cmF0aW9uLCBlYXNpbmcpIFxuICAgICAgICAgICAgd2hlbiBcIm1vdmVUb1wiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBhbmltYXRvci5tb3ZlVG8oYW5pbWF0aW9uLnBvc2l0aW9uWzBdLCBhbmltYXRpb24ucG9zaXRpb25bMV0sIGFuaW1hdGlvbi5kdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICAgICAgd2hlbiBcInJvdGF0ZVwiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBhbmltYXRvci5yb3RhdGUoMCwgYW5pbWF0aW9uLnNwZWVkLCBhbmltYXRpb24uZHVyYXRpb24sIGVhc2luZylcbiAgICAgICAgICAgIHdoZW4gXCJtb3ZlQnlcIlxuICAgICAgICAgICAgICAgIGVhc2luZyA9IGlmIGFuaW1hdGlvbi5lYXNpbmcgdGhlbiBncy5FYXNpbmdzLmZyb21TdHJpbmcoYW5pbWF0aW9uLmVhc2luZykgZWxzZSBudWxsXG4gICAgICAgICAgICAgICAgYW5pbWF0b3IubW92ZUJ5KEBvYmplY3QuZHN0UmVjdC54ICsgYW5pbWF0aW9uLnBvc2l0aW9uWzBdLCBAb2JqZWN0LmRzdFJlY3QueSArIGFuaW1hdGlvbi5wb3NpdGlvblsxXSwgYW5pbWF0aW9uLmR1cmF0aW9uLCBlYXNpbmcpXG4gICAgICAgICAgICB3aGVuIFwiem9vbVRvXCJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBpZiBhbmltYXRpb24uZWFzaW5nIHRoZW4gZ3MuRWFzaW5ncy5mcm9tU3RyaW5nKGFuaW1hdGlvbi5lYXNpbmcpIGVsc2UgbnVsbFxuICAgICAgICAgICAgICAgIGFuaW1hdG9yLnpvb21UbyhhbmltYXRpb24uem9vbVswXSAvIDEwMCwgYW5pbWF0aW9uLnpvb21bMV0gLyAxMDAsIGFuaW1hdGlvbi5kdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICAgICAgd2hlbiBcInNjcm9sbFwiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBhbmltYXRvci5zY3JvbGwoYW5pbWF0aW9uLnNwZWVkWzBdLCBhbmltYXRpb24uc3BlZWRbMV0sIDAsIGVhc2luZylcbiAgICAgICAgICAgIHdoZW4gXCJzaGFrZVwiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5pbWF0b3Iuc2hha2UoeyB4OiBhbmltYXRpb24ucmFuZ2VbMF0sIHk6IGFuaW1hdGlvbi5yYW5nZVsxXSB9LCBhbmltYXRpb24uc3BlZWQsIGFuaW1hdGlvbi5kdXJhdGlvbiwgZWFzaW5nKVxuICAgICAgICAgICAgd2hlbiBcImFwcGVhclwiXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gaWYgYW5pbWF0aW9uLmVhc2luZyB0aGVuIGdzLkVhc2luZ3MuZnJvbVN0cmluZyhhbmltYXRpb24uZWFzaW5nKSBlbHNlIG51bGxcbiAgICAgICAgICAgICAgICBhbmltYXRvci5hcHBlYXIodGFyZ2V0LmRzdFJlY3QueCwgdGFyZ2V0LmRzdFJlY3QueSwgYW5pbWF0aW9uLmFuaW1hdGlvbiwgZWFzaW5nLCBhbmltYXRpb24uZHVyYXRpb24pXG4gICAgICAgICAgICB3aGVuIFwiZGlzYXBwZWFyXCJcbiAgICAgICAgICAgICAgICBlYXNpbmcgPSBpZiBhbmltYXRpb24uZWFzaW5nIHRoZW4gZ3MuRWFzaW5ncy5mcm9tU3RyaW5nKGFuaW1hdGlvbi5lYXNpbmcpIGVsc2UgbnVsbFxuICAgICAgICAgICAgICAgIGFuaW1hdG9yLmRpc2FwcGVhcihhbmltYXRpb24uYW5pbWF0aW9uLCBlYXNpbmcsIGFuaW1hdGlvbi5kdXJhdGlvbiwgKHNlbmRlcikgPT4gc2VuZGVyLmRpc3Bvc2UoKSlcblxuICAgICMjIypcbiAgICAqIFByb2Nlc3NlcyB0aGUgYW5pbWF0aW9uIHRhcmdldHMgYW5kIHN0YXJ0cyB0aGUgYW5pbWF0aW9uIG9uIGVhY2hcbiAgICAqIHRhcmdldCBvYmplY3QgaWYgcG9zc2libGUuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgcHJvY2Vzc1RhcmdldHNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmltYXRpb24gLSBUaGUgYW5pbWF0aW9uIHRvIHN0YXJ0LlxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZVtdfSB0YXJnZXRzIC0gQW4gYXJyYXkgb2YgdGFyZ2V0IG9iamVjdHMuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIHByb2Nlc3NUYXJnZXRzOiAoYW5pbWF0aW9uLCB0YXJnZXRzKSAtPlxuICAgICAgICBmb3IgdGFyZ2V0IGluIHRhcmdldHNcbiAgICAgICAgICAgIGlmIGFuaW1hdGlvbi50eXBlP1xuICAgICAgICAgICAgICAgIHRhcmdldC52aXNpYmxlID0geWVzXG4gICAgICAgICAgICAgICAgaWYgIWFuaW1hdGlvbi5jb21wb25lbnRzPyB0aGVuIGFuaW1hdGlvbi5jb21wb25lbnRzID0gW11cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZighQG9iamVjdC5hbmltYXRvcilcbiAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5hbmltYXRvciA9IG5ldyBncy5Db21wb25lbnRfQW5pbWF0b3IoKVxuICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChAb2JqZWN0LmFuaW1hdG9yKVxuXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNvbXBvbmVudHMucHVzaChAc3RhcnRBbmltYXRpb24oYW5pbWF0aW9uLCB0YXJnZXQsIEBvYmplY3QuYW5pbWF0b3IpKVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZpc2libGUgPSB5ZXNcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uZXhlY3V0ZWQgPSAhKGFuaW1hdGlvbi5yZXBlYXQgPyB5ZXMpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmV4ZWN1dGVkID0gIShhbmltYXRpb24ucmVwZWF0ID8geWVzKVxuICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDbGVhcnMvUmVzZXRzIHRoZSBzcGVjaWZpZWQgYW5pbWF0aW9uIGlmIG5lY2Vzc2FyeS5cbiAgICAqIFxuICAgICogQG1ldGhvZCBjbGVhclxuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgYW5pbWF0aW9uIGRlc2NyaXB0b3JcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgY2xlYXI6IChkZXNjcmlwdG9yKSAtPlxuICAgICAgICBkZXNjcmlwdG9yLmNsZWFyZWQgPSB5ZXNcbiAgICAgICAgZGVzY3JpcHRvci5wb2ludGVyID0gMFxuICAgICAgICBkZXNjcmlwdG9yLndhaXRDb3VudGVyID0gMFxuICAgICAgICBmb3IgYW5pbWF0aW9uIGluIGRlc2NyaXB0b3IuZmxvd1xuICAgICAgICAgICAgaWYgYW5pbWF0aW9uLmNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBmb3IgY29tcG9uZW50IGluIGFuaW1hdGlvbi5jb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD8uZGlzcG9zZSgpXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IEBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnZpc2libGUgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmV4ZWN1dGVkID0gbm9cbiAgICAgICAgICAgICAgICAgICAgaWYgYW5pbWF0aW9uLmZpZWxkPyBhbmQgYW5pbWF0aW9uLnJlc2V0P1xuICAgICAgICAgICAgICAgICAgICAgICAgdWkuQmluZGluZ0hhbmRsZXIucmVzb2x2ZUZpZWxkUGF0aCh0YXJnZXQsIGFuaW1hdGlvbi5maWVsZCkuc2V0KHRhcmdldCwgdWkuQmluZGluZ0hhbmRsZXIuZmllbGRWYWx1ZSh0YXJnZXQsIGFuaW1hdGlvbi5yZXNldCB8fCAwKSlcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uY29tcG9uZW50cyA9IFtdICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgQG9iamVjdC5uZWVkc0Z1bGxVcGRhdGUgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogUHJvY2Vzc2VzIHRoZSBhbmltYXRpb24gZmxvdy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBwcm9jZXNzQW5pbWF0aW9uc1xuICAgICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgLSBUaGUgYW5pbWF0aW9uLWRlc2NyaXB0b3IgY29udGFpbmluZyB0aGUgYW5pbWF0aW9uLWZsb3cuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIHByb2Nlc3NBbmltYXRpb25zOiAoZGVzY3JpcHRvcikgLT5cbiAgICAgICAgd2hpbGUgZGVzY3JpcHRvci5wb2ludGVyIDwgZGVzY3JpcHRvci5mbG93Lmxlbmd0aFxuICAgICAgICAgICAgYW5pbWF0aW9uID0gZGVzY3JpcHRvci5mbG93W2Rlc2NyaXB0b3IucG9pbnRlcl1cbiAgICAgICAgICAgIGRlc2NyaXB0b3IucG9pbnRlcisrXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICFhbmltYXRpb24ud2FpdCBhbmQgYW5pbWF0aW9uLmV4ZWN1dGVkIHRoZW4gY29udGludWVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGFyZ2V0cyA9IGlmIGFuaW1hdGlvbi50YXJnZXQ/IHRoZW4gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoQG9iamVjdCwgYW5pbWF0aW9uLnRhcmdldCkgZWxzZSBAb2JqZWN0XG4gICAgICAgICAgICB0YXJnZXRzID0gaWYgdGFyZ2V0cy5sZW5ndGg/IHRoZW4gdGFyZ2V0cyBlbHNlIFt0YXJnZXRzXVxuICAgICAgICAgICAgZGVzY3JpcHRvci5jbGVhcmVkID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgQHByb2Nlc3NUYXJnZXRzKGFuaW1hdGlvbiwgdGFyZ2V0cylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgYW5pbWF0aW9uLndhaXRcbiAgICAgICAgICAgICAgICBpZiBhbmltYXRpb24udHlwZT9cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci53YWl0Q291bnRlciA9IGFuaW1hdGlvbi5kdXJhdGlvblxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci53YWl0Q291bnRlciA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKEBvYmplY3QsIGFuaW1hdGlvbi53YWl0IHx8IDAsIHllcylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGFuaW1hdGlvbnMuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgdXBkYXRlQW5pbWF0aW9uc1xuICAgICMjI1xuICAgIHVwZGF0ZUFuaW1hdGlvbnM6IC0+XG4gICAgICAgIGZvciBkZXNjcmlwdG9yLCBpIGluIEBvYmplY3QuYW5pbWF0aW9uc1xuICAgICAgICAgICAgaWYgQGNoZWNrT2JqZWN0KGRlc2NyaXB0b3IpXG4gICAgICAgICAgICAgICAgaWYgZGVzY3JpcHRvci53YWl0Q291bnRlciA+IDBcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci53YWl0Q291bnRlci0tXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG5vdCBkZXNjcmlwdG9yLnBvaW50ZXI/KSBvciBkZXNjcmlwdG9yLnBvaW50ZXIgPj0gZGVzY3JpcHRvci5mbG93Lmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLnBvaW50ZXIgPSAwXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIEBwcm9jZXNzQW5pbWF0aW9ucyhkZXNjcmlwdG9yKVxuICAgICAgICAgICAgZWxzZSBpZiAhZGVzY3JpcHRvci5jbGVhcmVkIGFuZCAoZGVzY3JpcHRvci5jbGVhciA/IHllcylcbiAgICAgICAgICAgICAgICBAY2xlYXIoZGVzY3JpcHRvcilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgYW5pbWF0aW9uLWhhbmRsZXIuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBAb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgIEB1cGRhdGVBbmltYXRpb25zKClcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG51aS5Db21wb25lbnRfQW5pbWF0aW9uSGFuZGxlciA9IENvbXBvbmVudF9BbmltYXRpb25IYW5kbGVyIl19
//# sourceURL=Component_AnimationHandler_132.js
var Component_UIBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_UIBehavior = (function(superClass) {
  extend(Component_UIBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_UIBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * @module ui
  * @class Component_UIBehavior
  * @extends gs.Component
  * @memberof ui
  * @constructor
   */

  function Component_UIBehavior() {
    this.breakChainAt = null;
    this.containsPointer = false;
    this.viewData_ = [true, false, false, true, false];
    this.nextKeyObjectId = "";
    this.nextKeyObject_ = null;
    this.prevKeyObject_ = null;
  }

  Component_UIBehavior.accessors("nextKeyObject", {
    set: function(v) {
      this.nextKeyObject_ = v;
      if (v) {
        return v.ui.prevKeyObject_ = this.object;
      }
    },
    get: function() {
      return this.nextKeyObject_;
    }
  });

  Component_UIBehavior.accessors("prevKeyObject", {
    set: function(v) {
      this.prevKeyObject_ = v;
      if (v) {
        return v.ui.nextKeyObject_ = this.object;
      }
    },
    get: function() {
      return this.prevKeyObject_;
    }
  });

  Component_UIBehavior.accessors("selected", {
    set: function(v) {
      if (v !== this.viewData_[2]) {
        this.viewData_[2] = v;
        return this.updateStyle();
      }
    },
    get: function() {
      return this.viewData_[2];
    }
  });

  Component_UIBehavior.accessors("hover", {
    set: function(v) {
      if (v !== this.viewData_[1]) {
        this.viewData_[1] = v;
        return this.updateStyle();
      }
    },
    get: function() {
      return this.viewData_[1];
    }
  });

  Component_UIBehavior.accessors("enabled", {
    set: function(v) {
      if (v !== this.viewData_[3]) {
        this.viewData_[3] = v;
        return this.updateStyle();
      }
    },
    get: function() {
      return this.viewData_[3];
    }
  });

  Component_UIBehavior.accessors("focused", {
    set: function(v) {
      if (v !== this.viewData_[4]) {
        this.viewData_[4] = v;
        return this.updateStyle();
      }
    },
    get: function() {
      return this.viewData_[4];
    }
  });

  Component_UIBehavior.accessors("viewData", {
    set: function(v) {
      if (v !== this.viewData_) {
        this.viewData_ = v;
        return this.updateStyle();
      }
    },
    get: function() {
      return this.viewData_;
    }
  });


  /**
  * Prepares the UI-Object for display. This method should be called
  * before a new created UI-Object will be displayed to position all
  * sub-elements correctly.
  *
  * @method prepare
   */

  Component_UIBehavior.prototype.prepare = function() {
    var scene;
    scene = SceneManager.scene;
    scene.preparing = true;
    this.object.update();
    this.object.update();
    return scene.preparing = false;
  };


  /**
  * Disposes the binding-handler.
  * 
  * @method dispose
   */

  Component_UIBehavior.prototype.dispose = function() {
    gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
    return gs.GlobalEventManager.offByOwner("mouseUp", this.object);
  };


  /**
  * Disposes the component.
  *
  * @method dispose
   */

  Component_UIBehavior.prototype.dispose = function() {
    Component_UIBehavior.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("objectGotFocus", this.object);
    gs.GlobalEventManager.offByOwner("keyUp", this.object);
    gs.GlobalEventManager.offByOwner("mouseDown", this.object);
    return gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_UIBehavior.prototype.setupEventHandlers = function() {
    if (this.object.focusable) {
      gs.GlobalEventManager.on("objectGotFocus", ((function(_this) {
        return function(e) {
          if (e.sender !== _this.object) {
            return _this.blur();
          }
        };
      })(this)), null, this.object);
      gs.GlobalEventManager.on("keyUp", ((function(_this) {
        return function(e) {
          if (_this.focused) {
            if (_this.nextKeyObject && (Input.release(Input.KEY_DOWN) || Input.release(Input.KEY_RIGHT))) {
              _this.nextKeyObject.ui.focus();
              return e.breakChain = true;
            } else if (_this.prevKeyObject && (Input.release(Input.KEY_UP) || Input.release(Input.KEY_LEFT))) {
              _this.prevKeyObject.ui.focus();
              return e.breakChain = true;
            }
          }
        };
      })(this)), null, this.object);
    }
    if (this.object.styles.first((function(s) {
      return s.selector === 1;
    }))) {
      gs.GlobalEventManager.on("mouseMoved", ((function(_this) {
        return function(e) {
          var contains;
          if (!_this.enabled) {
            return;
          }
          contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
          if (_this.containsPointer !== contains || (_this.hover && !contains)) {
            _this.containsPointer = contains;
            _this.object.needsUpdate = true;
            _this.hover = contains;
            _this.updateParentStyle();
            _this.updateChildrenStyle();
          }
          return null;
        };
      })(this)), null, this.object);
    }
    if (this.object.focusable || this.object.styles.first((function(s) {
      return s.selector === 2 || s.selector === 4;
    }))) {
      return gs.GlobalEventManager.on("mouseDown", ((function(_this) {
        return function(e) {
          var contains, group, i, len, object;
          if (!_this.enabled || Input.Mouse.buttons[Input.Mouse.LEFT] !== 1) {
            return;
          }
          contains = Rect.contains(_this.object.dstRect.x, _this.object.dstRect.y, _this.object.dstRect.width, _this.object.dstRect.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y);
          if (contains) {
            _this.object.needsUpdate = true;
            _this.focus();
            if (_this.object.selectable) {
              if (_this.object.group) {
                _this.selected = true;
                group = gs.ObjectManager.current.objectsByGroup(_this.object.group);
                for (i = 0, len = group.length; i < len; i++) {
                  object = group[i];
                  if (object !== _this.object) {
                    object.ui.selected = false;
                  }
                }
              } else {
                _this.selected = !_this.selected;
              }
            } else {
              _this.updateStyle();
            }
            _this.updateParentStyle();
          }
          return null;
        };
      })(this)), null, this.object, 0);
    }
  };


  /**
  * Initializes the binding-handler.
  * 
  * @method setup
   */

  Component_UIBehavior.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Gives the input focus to this UI object. If the UI object is not focusable, nothing will happen.
  * 
  * @method focus
   */

  Component_UIBehavior.prototype.focus = function() {
    if (this.object.focusable && !this.focused) {
      this.focused = true;
      this.updateChildrenStyle();
      return gs.GlobalEventManager.emit("objectGotFocus", this.object);
    }
  };


  /**
  * Removes the input focus from this UI object. If the UI object is not focusable, nothing will happen.
  * 
  * @method blur
   */

  Component_UIBehavior.prototype.blur = function() {
    if (this.object.focusable && this.focused) {
      this.focused = false;
      this.updateChildrenStyle();
      return gs.GlobalEventManager.emit("objectLostFocus", this.object);
    }
  };

  Component_UIBehavior.prototype.updateParentStyle = function() {
    var parent, ref;
    parent = this.object.parent;
    while (parent) {
      if ((ref = parent.ui) != null) {
        ref.updateStyle();
      }
      parent = parent.parent;
    }
    return null;
  };

  Component_UIBehavior.prototype.updateChildrenStyle = function() {
    var control, i, len, ref;
    if (this.object.controls) {
      ref = this.object.controls;
      for (i = 0, len = ref.length; i < len; i++) {
        control = ref[i];
        if (control && control.ui) {
          control.ui.updateStyle();
          control.ui.updateChildrenStyle();
        }
      }
    }
    return null;
  };

  Component_UIBehavior.prototype.updateStyle = function() {
    var base, i, j, len, len1, object, objects, ref, ref1, style;
    if (this.object.styles) {
      ref = this.object.styles;
      for (i = 0, len = ref.length; i < len; i++) {
        style = ref[i];
        if (!this.viewData_[style.selector]) {
          style.revert(this.object);
        }
      }
      ref1 = this.object.styles;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        style = ref1[j];
        if (style.target === -1) {
          if (this.viewData_[style.selector]) {
            style.apply(this.object);
          }
        } else {
          objects = this.object.parentsByStyle[style.target];
          if (objects) {
            object = objects[0];
            if (object && object.ui.viewData_[style.selector]) {
              style.apply(this.object);
            }
          }
        }
      }
      if (this.object.font) {
        if (typeof (base = this.object.behavior).refresh === "function") {
          base.refresh();
        }
      }
    }
    return null;
  };


  /**
  * Updates the binding-handler.
  * 
  * @method update
   */

  Component_UIBehavior.prototype.update = function() {
    if (this.nextKeyObjectId && !this.nextKeyObject) {
      return this.nextKeyObject = gs.ObjectManager.current.objectById(this.nextKeyObjectId);
    }
  };

  return Component_UIBehavior;

})(gs.Component);

ui.Component_UIBehavior = Component_UIBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsb0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O2lDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7RUFPYSw4QkFBQTtJQUNULElBQUMsQ0FBQSxZQUFELEdBQWdCO0lBQ2hCLElBQUMsQ0FBQSxlQUFELEdBQW1CO0lBQ25CLElBQUMsQ0FBQSxTQUFELEdBQWEsQ0FBQyxJQUFELEVBQU0sS0FBTixFQUFVLEtBQVYsRUFBYyxJQUFkLEVBQW1CLEtBQW5CO0lBQ2IsSUFBQyxDQUFBLGVBQUQsR0FBbUI7SUFDbkIsSUFBQyxDQUFBLGNBQUQsR0FBa0I7SUFDbEIsSUFBQyxDQUFBLGNBQUQsR0FBa0I7RUFOVDs7RUFRYixvQkFBQyxDQUFBLFNBQUQsQ0FBVyxlQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBQyxDQUFBLGNBQUQsR0FBa0I7TUFDbEIsSUFBRyxDQUFIO2VBQ0ksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxjQUFMLEdBQXNCLElBQUMsQ0FBQSxPQUQzQjs7SUFGQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBT0Esb0JBQUMsQ0FBQSxTQUFELENBQVcsZUFBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUMsQ0FBQSxjQUFELEdBQWtCO01BQ2xCLElBQUcsQ0FBSDtlQUNJLENBQUMsQ0FBQyxFQUFFLENBQUMsY0FBTCxHQUFzQixJQUFDLENBQUEsT0FEM0I7O0lBRkMsQ0FBTDtJQUlBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBO0lBQUosQ0FKTDtHQURKOztFQU9BLG9CQUFDLENBQUEsU0FBRCxDQUFXLFVBQVgs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LEtBQUssQ0FBQyxRQUFOLENBQWQ7WUFDSSxLQUFLLENBQUMsS0FBTixDQUFZLElBQUMsQ0FBQSxNQUFiLEVBREo7V0FESjtTQUFBLE1BQUE7VUFJSSxPQUFBLEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxjQUFlLENBQUEsS0FBSyxDQUFDLE1BQU47VUFDakMsSUFBRyxPQUFIO1lBQ0ksTUFBQSxHQUFTLE9BQVEsQ0FBQSxDQUFBO1lBQ2pCLElBQUcsTUFBQSxJQUFXLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBVSxDQUFBLEtBQUssQ0FBQyxRQUFOLENBQWxDO2NBQ0ksS0FBSyxDQUFDLEtBQU4sQ0FBWSxJQUFDLENBQUEsTUFBYixFQURKO2FBRko7V0FMSjs7QUFESjtNQVdBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFYOztjQUNvQixDQUFDO1NBRHJCO09BaEJKOztBQW1CQSxXQUFPO0VBcEJFOzs7QUFzQmI7Ozs7OztpQ0FLQSxNQUFBLEdBQVEsU0FBQTtJQUNKLElBQUcsSUFBQyxDQUFBLGVBQUQsSUFBcUIsQ0FBQyxJQUFDLENBQUEsYUFBMUI7YUFDSSxJQUFDLENBQUEsYUFBRCxHQUFpQixFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUF6QixDQUFvQyxJQUFDLENBQUEsZUFBckMsRUFEckI7O0VBREk7Ozs7R0F2UXVCLEVBQUUsQ0FBQzs7QUE0UXRDLEVBQUUsQ0FBQyxvQkFBSCxHQUEwQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1N0eWxlSGFuZGxlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1VJQmVoYXZpb3IgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfVUlCZWhhdmlvclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoKSAtPlxuICAgICAgICBAYnJlYWtDaGFpbkF0ID0gbnVsbFxuICAgICAgICBAY29udGFpbnNQb2ludGVyID0gbm9cbiAgICAgICAgQHZpZXdEYXRhXyA9IFt5ZXMsIG5vLCBubywgeWVzLCBub11cbiAgICAgICAgQG5leHRLZXlPYmplY3RJZCA9IFwiXCJcbiAgICAgICAgQG5leHRLZXlPYmplY3RfID0gbnVsbFxuICAgICAgICBAcHJldktleU9iamVjdF8gPSBudWxsXG4gICAgICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJuZXh0S2V5T2JqZWN0XCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPlxuICAgICAgICAgICAgQG5leHRLZXlPYmplY3RfID0gdlxuICAgICAgICAgICAgaWYgdlxuICAgICAgICAgICAgICAgIHYudWkucHJldktleU9iamVjdF8gPSBAb2JqZWN0XG4gICAgICAgIGdldDogLT4gQG5leHRLZXlPYmplY3RfXG4gICAgICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJwcmV2S2V5T2JqZWN0XCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPlxuICAgICAgICAgICAgQHByZXZLZXlPYmplY3RfID0gdlxuICAgICAgICAgICAgaWYgdlxuICAgICAgICAgICAgICAgIHYudWkubmV4dEtleU9iamVjdF8gPSBAb2JqZWN0XG4gICAgICAgIGdldDogLT4gQHByZXZLZXlPYmplY3RfXG4gICAgICAgICAgICAgICAgXG4gICAgQGFjY2Vzc29ycyBcInNlbGVjdGVkXCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHZpZXdEYXRhX1syXVxuICAgICAgICAgICAgICAgIEB2aWV3RGF0YV9bMl0gPSB2XG4gICAgICAgICAgICAgICAgQHVwZGF0ZVN0eWxlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgZ2V0OiAtPiBAdmlld0RhdGFfWzJdXG4gICAgICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJob3ZlclwiLCBcbiAgICAgICAgc2V0OiAodikgLT4gXG4gICAgICAgICAgICBpZiB2ICE9IEB2aWV3RGF0YV9bMV1cbiAgICAgICAgICAgICAgICBAdmlld0RhdGFfWzFdID0gdlxuICAgICAgICAgICAgICAgIEB1cGRhdGVTdHlsZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGdldDogLT4gQHZpZXdEYXRhX1sxXVxuICAgICAgICBcbiAgICBAYWNjZXNzb3JzIFwiZW5hYmxlZFwiLFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHZpZXdEYXRhX1szXVxuICAgICAgICAgICAgICAgIEB2aWV3RGF0YV9bM10gPSB2XG4gICAgICAgICAgICAgICAgQHVwZGF0ZVN0eWxlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgZ2V0OiAtPiBAdmlld0RhdGFfWzNdXG4gICAgICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJmb2N1c2VkXCIsXG4gICAgICAgIHNldDogKHYpIC0+XG4gICAgICAgICAgICBpZiB2ICE9IEB2aWV3RGF0YV9bNF1cbiAgICAgICAgICAgICAgICBAdmlld0RhdGFfWzRdID0gdlxuICAgICAgICAgICAgICAgIEB1cGRhdGVTdHlsZSgpXG4gICAgICAgIGdldDogLT4gQHZpZXdEYXRhX1s0XVxuICAgICAgICBcbiAgICBAYWNjZXNzb3JzIFwidmlld0RhdGFcIixcbiAgICAgICAgc2V0OiAodikgLT5cbiAgICAgICAgICAgIGlmIHYgIT0gQHZpZXdEYXRhX1xuICAgICAgICAgICAgICAgIEB2aWV3RGF0YV8gPSB2XG4gICAgICAgICAgICAgICAgQHVwZGF0ZVN0eWxlKClcbiAgICAgICAgZ2V0OiAtPiBAdmlld0RhdGFfXG4gICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogUHJlcGFyZXMgdGhlIFVJLU9iamVjdCBmb3IgZGlzcGxheS4gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZFxuICAgICogYmVmb3JlIGEgbmV3IGNyZWF0ZWQgVUktT2JqZWN0IHdpbGwgYmUgZGlzcGxheWVkIHRvIHBvc2l0aW9uIGFsbFxuICAgICogc3ViLWVsZW1lbnRzIGNvcnJlY3RseS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByZXBhcmVcbiAgICAjIyNcbiAgICBwcmVwYXJlOiAtPlxuICAgICAgICBzY2VuZSA9IFNjZW5lTWFuYWdlci5zY2VuZVxuICAgICAgICBzY2VuZS5wcmVwYXJpbmcgPSB5ZXNcbiAgICAgICAgQG9iamVjdC51cGRhdGUoKSAjIEZpcnN0IFVwZGF0ZTogQnJpbmcgYWxsIHN1Yi1lbGVtZW50cyBpbiBjb3JyZWN0IHNpemVcbiAgICAgICAgQG9iamVjdC51cGRhdGUoKSAjIFNlY29uZCBVcGRhdGU6IENvcnJlY3QgbGF5b3V0XG4gICAgICAgIHNjZW5lLnByZXBhcmluZyA9IG5vXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSBiaW5kaW5nLWhhbmRsZXIuXG4gICAgKiBcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyIFwibW91c2VNb3ZlZFwiLCBAb2JqZWN0XG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyIFwibW91c2VVcFwiLCBAb2JqZWN0XG4gICAgICAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgY29tcG9uZW50LlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm9iamVjdEdvdEZvY3VzXCIsIEBvYmplY3QpXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwia2V5VXBcIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJtb3VzZURvd25cIiwgQG9iamVjdClcbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9mZkJ5T3duZXIoXCJtb3VzZU1vdmVkXCIsIEBvYmplY3QpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgZXZlbnQtaGFuZGxlcnMgZm9yIG1vdXNlL3RvdWNoIGV2ZW50c1xuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBFdmVudEhhbmRsZXJzXG4gICAgIyMjIFxuICAgIHNldHVwRXZlbnRIYW5kbGVyczogLT5cbiAgICAgICAgaWYgQG9iamVjdC5mb2N1c2FibGVcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm9iamVjdEdvdEZvY3VzXCIsICgoZSkgPT5cbiAgICAgICAgICAgICAgICBpZiBlLnNlbmRlciAhPSBAb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIEBibHVyKClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBudWxsLCBAb2JqZWN0XG5cbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcImtleVVwXCIsICgoZSkgPT5cbiAgICAgICAgICAgICAgICBpZiBAZm9jdXNlZFxuICAgICAgICAgICAgICAgICAgICBpZiBAbmV4dEtleU9iamVjdCBhbmQgKElucHV0LnJlbGVhc2UoSW5wdXQuS0VZX0RPV04pIG9yIElucHV0LnJlbGVhc2UoSW5wdXQuS0VZX1JJR0hUKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIEBuZXh0S2V5T2JqZWN0LnVpLmZvY3VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuYnJlYWtDaGFpbiA9IHllc1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIEBwcmV2S2V5T2JqZWN0IGFuZCAoSW5wdXQucmVsZWFzZShJbnB1dC5LRVlfVVApIG9yIElucHV0LnJlbGVhc2UoSW5wdXQuS0VZX0xFRlQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgQHByZXZLZXlPYmplY3QudWkuZm9jdXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5icmVha0NoYWluID0geWVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbnVsbCwgQG9iamVjdFxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Quc3R5bGVzLmZpcnN0ICgocykgLT4gcy5zZWxlY3RvciA9PSAxKVxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VNb3ZlZFwiLCAoKGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpZiAhQGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnMgPSBSZWN0LmNvbnRhaW5zKEBvYmplY3QuZHN0UmVjdC54LCBAb2JqZWN0LmRzdFJlY3QueSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC53aWR0aCwgQG9iamVjdC5kc3RSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiBAY29udGFpbnNQb2ludGVyICE9IGNvbnRhaW5zIG9yIChAaG92ZXIgYW5kICFjb250YWlucylcbiAgICAgICAgICAgICAgICAgICAgICAgIEBjb250YWluc1BvaW50ZXIgPSBjb250YWluc1xuICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICAgICAgICAgICAgICAgICAgQGhvdmVyID0gY29udGFpbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZVBhcmVudFN0eWxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIEB1cGRhdGVDaGlsZHJlblN0eWxlKClcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbnVsbCwgQG9iamVjdFxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3QuZm9jdXNhYmxlIG9yIEBvYmplY3Quc3R5bGVzLmZpcnN0ICgocykgLT4gcy5zZWxlY3RvciA9PSAyIHx8IHMuc2VsZWN0b3IgPT0gNClcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm1vdXNlRG93blwiLCAoKGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpZiAhQGVuYWJsZWQgb3IgSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSAhPSAxXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gUmVjdC5jb250YWlucyhAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3Qud2lkdGgsIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0Lk1vdXNlLnggLSBAb2JqZWN0Lm9yaWdpbi54LCBJbnB1dC5Nb3VzZS55IC0gQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbnRhaW5zXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIEBmb2N1cygpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIEBvYmplY3Quc2VsZWN0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEBvYmplY3QuZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQHNlbGVjdGVkID0geWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdHNCeUdyb3VwKEBvYmplY3QuZ3JvdXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBvYmplY3QgaW4gZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iamVjdCAhPSBAb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnVpLnNlbGVjdGVkID0gbm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBzZWxlY3RlZCA9ICFAc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAdXBkYXRlU3R5bGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZVBhcmVudFN0eWxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG51bGwsIEBvYmplY3QsIDBcbiAgICAgICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgYmluZGluZy1oYW5kbGVyLlxuICAgICogXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgIFxuICAgICMjIypcbiAgICAqIEdpdmVzIHRoZSBpbnB1dCBmb2N1cyB0byB0aGlzIFVJIG9iamVjdC4gSWYgdGhlIFVJIG9iamVjdCBpcyBub3QgZm9jdXNhYmxlLCBub3RoaW5nIHdpbGwgaGFwcGVuLlxuICAgICogXG4gICAgKiBAbWV0aG9kIGZvY3VzXG4gICAgIyMjICAgICAgICAgICAgICAgXG4gICAgZm9jdXM6IC0+XG4gICAgICAgIGlmIEBvYmplY3QuZm9jdXNhYmxlIGFuZCAhQGZvY3VzZWRcbiAgICAgICAgICAgIEBmb2N1c2VkID0geWVzXG4gICAgICAgICAgICBAdXBkYXRlQ2hpbGRyZW5TdHlsZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5lbWl0KFwib2JqZWN0R290Rm9jdXNcIiwgQG9iamVjdClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBSZW1vdmVzIHRoZSBpbnB1dCBmb2N1cyBmcm9tIHRoaXMgVUkgb2JqZWN0LiBJZiB0aGUgVUkgb2JqZWN0IGlzIG5vdCBmb2N1c2FibGUsIG5vdGhpbmcgd2lsbCBoYXBwZW4uXG4gICAgKiBcbiAgICAqIEBtZXRob2QgYmx1clxuICAgICMjI1xuICAgIGJsdXI6IC0+XG4gICAgICAgIGlmIEBvYmplY3QuZm9jdXNhYmxlIGFuZCBAZm9jdXNlZFxuICAgICAgICAgICAgQGZvY3VzZWQgPSBub1xuICAgICAgICAgICAgQHVwZGF0ZUNoaWxkcmVuU3R5bGUoKVxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLmVtaXQoXCJvYmplY3RMb3N0Rm9jdXNcIiwgQG9iamVjdClcbiAgICAgICAgICAgIFxuICAgIHVwZGF0ZVBhcmVudFN0eWxlOiAtPlxuICAgICAgICBwYXJlbnQgPSBAb2JqZWN0LnBhcmVudFxuICAgICAgICB3aGlsZSBwYXJlbnRcbiAgICAgICAgICAgIHBhcmVudC51aT8udXBkYXRlU3R5bGUoKVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIFxuICAgIHVwZGF0ZUNoaWxkcmVuU3R5bGU6ICgpIC0+XG4gICAgICAgIGlmIEBvYmplY3QuY29udHJvbHNcbiAgICAgICAgICAgIGZvciBjb250cm9sIGluIEBvYmplY3QuY29udHJvbHNcbiAgICAgICAgICAgICAgICBpZiBjb250cm9sIGFuZCBjb250cm9sLnVpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wudWkudXBkYXRlU3R5bGUoKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sLnVpLnVwZGF0ZUNoaWxkcmVuU3R5bGUoKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICBcbiAgICB1cGRhdGVTdHlsZTogLT5cbiAgICAgICAgaWYgQG9iamVjdC5zdHlsZXNcbiAgICAgICAgICAgIGZvciBzdHlsZSBpbiBAb2JqZWN0LnN0eWxlc1xuICAgICAgICAgICAgICAgIGlmICFAdmlld0RhdGFfW3N0eWxlLnNlbGVjdG9yXVxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5yZXZlcnQoQG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3Igc3R5bGUgaW4gQG9iamVjdC5zdHlsZXNcbiAgICAgICAgICAgICAgICBpZiBzdHlsZS50YXJnZXQgPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgQHZpZXdEYXRhX1tzdHlsZS5zZWxlY3Rvcl1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmFwcGx5KEBvYmplY3QpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzID0gQG9iamVjdC5wYXJlbnRzQnlTdHlsZVtzdHlsZS50YXJnZXRdXG4gICAgICAgICAgICAgICAgICAgIGlmIG9iamVjdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdHNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9iamVjdCBhbmQgb2JqZWN0LnVpLnZpZXdEYXRhX1tzdHlsZS5zZWxlY3Rvcl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5hcHBseShAb2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQG9iamVjdC5mb250XG4gICAgICAgICAgICAgICAgQG9iamVjdC5iZWhhdmlvci5yZWZyZXNoPygpICMgRklYTUU6IENyZWF0ZXMgYSBkZXBlbmRlbmN5IG9uIFRleHQtQmVoYXZpb3JcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgYmluZGluZy1oYW5kbGVyLlxuICAgICogXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgaWYgQG5leHRLZXlPYmplY3RJZCBhbmQgIUBuZXh0S2V5T2JqZWN0XG4gICAgICAgICAgICBAbmV4dEtleU9iamVjdCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKEBuZXh0S2V5T2JqZWN0SWQpXG4gICAgICAgIFxuICAgICBcbnVpLkNvbXBvbmVudF9VSUJlaGF2aW9yID0gQ29tcG9uZW50X1VJQmVoYXZpb3IiXX0=
//# sourceURL=Component_UIBehavior_134.js
var Component_Frame,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Frame = (function(superClass) {
  extend(Component_Frame, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_Frame.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A frame constructs a graphical frame from its skin-image. The frame can
  * rendered by tiling or strechting the four sides of the frame. A frame
  * is useful for creating In-Game UI windows and boxes. For more info about 
  * the skin-image format, see help-file.
  * 
  * @module gs
  * @class Component_Frame
  * @extends gs.Component_Visual
  * @memberof gs
  * @constructor
  * @param {gs.Viewport} viewport An optional native viewport object.
   */

  function Component_Frame(viewport) {
    Component_Frame.__super__.constructor.call(this);

    /**
    * The native frame-object.
    * @property frame
    * @type gs.Frame
     */
    this.frame = new gs.Frame(viewport != null ? viewport : Graphics.viewport);

    /**
    * The name of the skin-image used to construct the frame.
    * @property image
    * @type string
    * @protected
     */
    this.image = null;
  }


  /**
  * Disposes the frame.
  * 
  * @method dispose
   */

  Component_Frame.prototype.dispose = function() {
    Component_Frame.__super__.dispose.apply(this, arguments);
    return this.frame.dispose();
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_Frame.prototype.setupEventHandlers = function() {
    return this.frame.onIndexChange = (function(_this) {
      return function() {
        return _this.object.rIndex = _this.frame.index;
      };
    })(this);
  };


  /**
  * Setup the frame component. This method is automatically called by the
  * system.
  * @method setup
   */

  Component_Frame.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Updates the padding.
  * 
  * @method updatePadding
   */

  Component_Frame.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.frame.x += this.object.padding.left;
      this.frame.y += this.object.padding.top;
      this.frame.width -= (this.object.padding.left + this.object.padding.right) / this.object.zoom.x;
      return this.frame.height -= (this.object.padding.top + this.object.padding.bottom) / this.object.zoom.y;
    }
  };


  /**
  * Updates the frame properties from the game object properties.
  *
  * @method updateProperties
   */

  Component_Frame.prototype.updateProperties = function() {
    this.frame.x = this.object.dstRect.x - this.object.dstRect.width * (this.object.zoom.x - 1.0) * this.object.anchor.x;
    this.frame.y = this.object.dstRect.y - this.object.dstRect.height * (this.object.zoom.y - 1.0) * this.object.anchor.y;
    this.frame.width = this.object.dstRect.width;
    this.frame.height = this.object.dstRect.height;
    this.frame.thickness = this.object.frameThickness || 16;
    this.frame.cornerSize = this.object.frameCornerSize || 16;
    this.frame.clipRect = this.object.clipRect;
    this.frame.visible = this.object.visible;
    this.frame.ox = -this.object.origin.x;
    this.frame.oy = -this.object.origin.y;
    this.frame.zoomX = this.object.zoom.x;
    this.frame.zoomY = this.object.zoom.y;
    this.frame.opacity = this.object.opacity;
    return this.frame.z = (this.object.zIndex || 0) + (!this.object.parent ? 0 : this.object.parent.zIndex || 0);
  };


  /**
  * Updates the frame's skin-image used to construct the frame.
  *
  * @method updateImage
   */

  Component_Frame.prototype.updateImage = function() {
    var bitmap;
    if ((this.object.image != null) && this.image !== this.object.image) {
      this.image = this.object.image;
      bitmap = ResourceManager.getBitmap((this.object.imageFolder || "Graphics/Pictures") + "/" + this.object.image);
      return this.frame.skin = bitmap;
    }
  };


  /**
  * Updates the frame's padding, properties and skin-image.
  * 
  * @method update
   */

  Component_Frame.prototype.update = function() {
    Component_Frame.__super__.update.apply(this, arguments);
    this.object.rIndex = this.frame.index;
    this.updateProperties();
    this.updatePadding();
    return this.updateImage();
  };

  return Component_Frame;

})(gs.Component_Visual);

gs.Component_Frame = Component_Frame;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7NEJBUUEsbUJBQUEsR0FBcUIsU0FBQyxJQUFELEVBQU8sT0FBUDtXQUNqQixJQUFDLENBQUEsa0JBQUQsQ0FBQTtFQURpQjs7O0FBR3JCOzs7Ozs7Ozs7Ozs7OztFQWFhLHlCQUFDLFFBQUQ7SUFDVCwrQ0FBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFhLElBQUEsRUFBRSxDQUFDLEtBQUgsb0JBQVMsV0FBVyxRQUFRLENBQUMsUUFBN0I7O0FBRWI7Ozs7OztJQU1BLElBQUMsQ0FBQSxLQUFELEdBQVM7RUFoQkE7OztBQW1CYjs7Ozs7OzRCQUtBLE9BQUEsR0FBUyxTQUFBO0lBQ0wsOENBQUEsU0FBQTtXQUNBLElBQUMsQ0FBQSxLQUFLLENBQUMsT0FBUCxDQUFBO0VBRks7OztBQUlUOzs7Ozs7NEJBS0Esa0JBQUEsR0FBb0IsU0FBQTtXQUNoQixJQUFDLENBQUEsS0FBSyxDQUFDLGFBQVAsR0FBdUIsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFBO2VBQ25CLEtBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixLQUFDLENBQUEsS0FBSyxDQUFDO01BREw7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBO0VBRFA7OztBQUlwQjs7Ozs7OzRCQUtBLEtBQUEsR0FBTyxTQUFBO1dBQ0gsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFERzs7O0FBR1A7Ozs7Ozs0QkFLQSxhQUFBLEdBQWUsU0FBQTtJQUNYLElBQUcsMkJBQUg7TUFDSSxJQUFDLENBQUEsS0FBSyxDQUFDLENBQVAsSUFBWSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUM1QixJQUFDLENBQUEsS0FBSyxDQUFDLENBQVAsSUFBWSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztNQUM1QixJQUFDLENB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QUF4QztNQUNJLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQztNQUNqQixNQUFBLEdBQVMsZUFBZSxDQUFDLFNBQWhCLENBQTRCLENBQUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLElBQXFCLG1CQUF0QixDQUFBLEdBQTBDLEdBQTFDLEdBQTZDLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBakY7YUFDVCxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsR0FBYyxPQUhsQjs7RUFEUzs7O0FBTWI7Ozs7Ozs0QkFLQSxNQUFBLEdBQVEsU0FBQTtJQUNKLDZDQUFBLFNBQUE7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsR0FBaUIsSUFBQyxDQUFBLEtBQUssQ0FBQztJQUN4QixJQUFDLENBQUEsZ0JBQUQsQ0FBQTtJQUNBLElBQUMsQ0FBQSxhQUFELENBQUE7V0FDQSxJQUFDLENBQUEsV0FBRCxDQUFBO0VBTkk7Ozs7R0F2SGtCLEVBQUUsQ0FBQzs7QUFvSWpDLEVBQUUsQ0FBQyxlQUFILEdBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfRnJhbWVcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9GcmFtZSBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEEgZnJhbWUgY29uc3RydWN0cyBhIGdyYXBoaWNhbCBmcmFtZSBmcm9tIGl0cyBza2luLWltYWdlLiBUaGUgZnJhbWUgY2FuXG4gICAgKiByZW5kZXJlZCBieSB0aWxpbmcgb3Igc3RyZWNodGluZyB0aGUgZm91ciBzaWRlcyBvZiB0aGUgZnJhbWUuIEEgZnJhbWVcbiAgICAqIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgSW4tR2FtZSBVSSB3aW5kb3dzIGFuZCBib3hlcy4gRm9yIG1vcmUgaW5mbyBhYm91dCBcbiAgICAqIHRoZSBza2luLWltYWdlIGZvcm1hdCwgc2VlIGhlbHAtZmlsZS5cbiAgICAqIFxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9GcmFtZVxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X1Zpc3VhbFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7Z3MuVmlld3BvcnR9IHZpZXdwb3J0IEFuIG9wdGlvbmFsIG5hdGl2ZSB2aWV3cG9ydCBvYmplY3QuXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICh2aWV3cG9ydCkgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBuYXRpdmUgZnJhbWUtb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZVxuICAgICAgICAqIEB0eXBlIGdzLkZyYW1lXG4gICAgICAgICMjI1xuICAgICAgICBAZnJhbWUgPSBuZXcgZ3MuRnJhbWUodmlld3BvcnQgPyBHcmFwaGljcy52aWV3cG9ydClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc2tpbi1pbWFnZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgZnJhbWUuXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlXG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIGZyYW1lLlxuICAgICogXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyMgICAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgQGZyYW1lLmRpc3Bvc2UoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzIGZvciBtb3VzZS90b3VjaCBldmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIEBmcmFtZS5vbkluZGV4Q2hhbmdlID0gPT5cbiAgICAgICAgICAgIEBvYmplY3QuckluZGV4ID0gQGZyYW1lLmluZGV4XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXR1cCB0aGUgZnJhbWUgY29tcG9uZW50LiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSB0aGVcbiAgICAqIHN5c3RlbS5cbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgcGFkZGluZy5cbiAgICAqIFxuICAgICogQG1ldGhvZCB1cGRhdGVQYWRkaW5nXG4gICAgIyMjICBcbiAgICB1cGRhdGVQYWRkaW5nOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnBhZGRpbmc/XG4gICAgICAgICAgICBAZnJhbWUueCArPSBAb2JqZWN0LnBhZGRpbmcubGVmdFxuICAgICAgICAgICAgQGZyYW1lLnkgKz0gQG9iamVjdC5wYWRkaW5nLnRvcFxuICAgICAgICAgICAgQGZyYW1lLndpZHRoIC09IChAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHQpIC8gQG9iamVjdC56b29tLnhcbiAgICAgICAgICAgIEBmcmFtZS5oZWlnaHQgLT0gKEBvYmplY3QucGFkZGluZy50b3ArQG9iamVjdC5wYWRkaW5nLmJvdHRvbSkgLyBAb2JqZWN0Lnpvb20ueVxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGZyYW1lIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2FtZSBvYmplY3QgcHJvcGVydGllcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVByb3BlcnRpZXNcbiAgICAjIyNcbiAgICB1cGRhdGVQcm9wZXJ0aWVzOiAtPlxuICAgICAgICBAZnJhbWUueCA9IEBvYmplY3QuZHN0UmVjdC54IC0gQG9iamVjdC5kc3RSZWN0LndpZHRoICogKEBvYmplY3Quem9vbS54IC0gMS4wKSAqIEBvYmplY3QuYW5jaG9yLnhcbiAgICAgICAgQGZyYW1lLnkgPSBAb2JqZWN0LmRzdFJlY3QueSAtIEBvYmplY3QuZHN0UmVjdC5oZWlnaHQgKiAoQG9iamVjdC56b29tLnkgLSAxLjApICogQG9iamVjdC5hbmNob3IueVxuICAgICAgICBAZnJhbWUud2lkdGggPSBAb2JqZWN0LmRzdFJlY3Qud2lkdGhcbiAgICAgICAgQGZyYW1lLmhlaWdodCA9IEBvYmplY3QuZHN0UmVjdC5oZWlnaHRcbiAgICAgICAgQGZyYW1lLnRoaWNrbmVzcyA9IEBvYmplY3QuZnJhbWVUaGlja25lc3MgfHwgMTZcbiAgICAgICAgQGZyYW1lLmNvcm5lclNpemUgPSBAb2JqZWN0LmZyYW1lQ29ybmVyU2l6ZSB8fCAxNlxuICAgICAgICBAZnJhbWUuY2xpcFJlY3QgPSBAb2JqZWN0LmNsaXBSZWN0XG4gICAgICAgIEBmcmFtZS52aXNpYmxlID0gQG9iamVjdC52aXNpYmxlXG4gICAgICAgIEBmcmFtZS5veCA9IC1Ab2JqZWN0Lm9yaWdpbi54XG4gICAgICAgIEBmcmFtZS5veSA9IC1Ab2JqZWN0Lm9yaWdpbi55XG4gICAgICAgIEBmcmFtZS56b29tWCA9IEBvYmplY3Quem9vbS54XG4gICAgICAgIEBmcmFtZS56b29tWSA9IEBvYmplY3Quem9vbS55XG4gICAgICAgIEBmcmFtZS5vcGFjaXR5ID0gQG9iamVjdC5vcGFjaXR5XG4gICAgICAgIEBmcmFtZS56ID0gKEBvYmplY3QuekluZGV4IHx8IDApICsgKGlmICFAb2JqZWN0LnBhcmVudCB0aGVuIDAgZWxzZSBAb2JqZWN0LnBhcmVudC56SW5kZXggfHwgMClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBmcmFtZSdzIHNraW4taW1hZ2UgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIGZyYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlSW1hZ2VcbiAgICAjIyNcbiAgICB1cGRhdGVJbWFnZTogLT5cbiAgICAgICAgaWYgQG9iamVjdC5pbWFnZT8gYW5kIEBpbWFnZSAhPSBAb2JqZWN0LmltYWdlXG4gICAgICAgICAgICBAaW1hZ2UgPSBAb2JqZWN0LmltYWdlXG4gICAgICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiI3tAb2JqZWN0LmltYWdlRm9sZGVyfHxcIkdyYXBoaWNzL1BpY3R1cmVzXCJ9LyN7QG9iamVjdC5pbWFnZX1cIilcbiAgICAgICAgICAgIEBmcmFtZS5za2luID0gYml0bWFwXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGZyYW1lJ3MgcGFkZGluZywgcHJvcGVydGllcyBhbmQgc2tpbi1pbWFnZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG5cbiAgICAgICAgQG9iamVjdC5ySW5kZXggPSBAZnJhbWUuaW5kZXhcbiAgICAgICAgQHVwZGF0ZVByb3BlcnRpZXMoKVxuICAgICAgICBAdXBkYXRlUGFkZGluZygpXG4gICAgICAgIEB1cGRhdGVJbWFnZSgpXG4gICAgICAgIFxuICAgICAgICBcblxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0ZyYW1lID0gQ29tcG9uZW50X0ZyYW1lIl19
//# sourceURL=Component_Frame_143.js
var Component_ThreePartImage,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ThreePartImage = (function(superClass) {
  extend(Component_ThreePartImage, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_ThreePartImage.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A three-part image component displays an object on screen using three
  * sub-images: start, middle and end. The start and end will be rendered
  * with fixed size while the middle-part will be stretched in a way like this:<br>
  * <br>
  * |Start-Part Fixed|<-----------Middle-Part Stretched----------->|End-Part Fixed<br>
  * <br>
  * A three-part image is automatically added to the graphics-system
  * and rendered every frame until it gets disposed. It can be horizontal or
  * vertical.
  *
  * @module gs
  * @class Component_ThreePartImage
  * @extends gs.Component_Visual
  * @memberof gs
  * @constructor
   */

  function Component_ThreePartImage(viewport) {
    Component_ThreePartImage.__super__.constructor.call(this);

    /**
    * The native three-part image graphic object.
    * @property threePartImage
    * @type gs.ThreePartImage
     */
    this.threePartImage = new gs.ThreePartImage(viewport != null ? viewport : Graphics.viewport);

    /**
    * The name of the image used to construct the three-part image.
    * @property image
    * @type string
    * @protected
     */
    this.image = null;
  }


  /**
  * Disposes the three-part image.
  * 
  * @method dispose
   */

  Component_ThreePartImage.prototype.dispose = function() {
    Component_ThreePartImage.__super__.dispose.apply(this, arguments);
    return this.threePartImage.dispose();
  };


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_ThreePartImage.prototype.setupEventHandlers = function() {
    return this.threePartImage.onIndexChange = (function(_this) {
      return function() {
        return _this.object.rIndex = _this.threePartImage.index;
      };
    })(this);
  };


  /**
  * Setup the three-part image component. This method is automatically called by the
  * system.
  * @method setup
   */

  Component_ThreePartImage.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Updates the three-part image properties from the game object properties.
  *
  * @method updateProperties
   */

  Component_ThreePartImage.prototype.updateProperties = function() {
    this.threePartImage.x = this.object.dstRect.x - this.object.dstRect.width * (this.object.zoom.x - 1.0) * this.object.anchor.x;
    this.threePartImage.y = this.object.dstRect.y - this.object.dstRect.height * (this.object.zoom.y - 1.0) * this.object.anchor.y;
    this.threePartImage.width = this.object.dstRect.width;
    this.threePartImage.height = this.object.dstRect.height;
    this.threePartImage.firstPartSize = this.object.firstPartSize || 16;
    this.threePartImage.middlePartSize = this.object.middlePartSize || 1;
    this.threePartImage.lastPartSize = this.object.lastPartSize || 16;
    this.threePartImage.visible = this.object.visible;
    this.threePartImage.ox = -this.object.origin.x;
    this.threePartImage.oy = -this.object.origin.y;
    return this.threePartImage.z = (this.object.zIndex || 0) + (!this.object.parent ? 0 : this.object.parent.zIndex || 0);
  };


  /**
  * Updates the padding.
  * 
  * @method updatePadding
   */

  Component_ThreePartImage.prototype.updatePadding = function() {
    if (this.object.padding != null) {
      this.threePartImage.x += this.object.padding.left;
      this.threePartImage.y += this.object.padding.top;
      this.threePartImage.width -= this.object.padding.left + this.object.padding.right;
      return this.threePartImage.height -= this.object.padding.top + this.object.padding.bottom;
    }
  };


  /**
  * Updates the skin-image used to construct the three-part image.
  *
  * @method updateImage
   */

  Component_ThreePartImage.prototype.updateImage = function() {
    var bitmap;
    if ((this.object.image != null) && this.image !== this.object.image) {
      this.image = this.object.image;
      bitmap = ResourceManager.getBitmap((this.object.imageFolder || "Graphics/Pictures") + "/" + this.object.image);
      return this.threePartImage.skin = bitmap;
    }
  };


  /**
  * Updates the three-part image.
  * 
  * @method update
   */

  Component_ThreePartImage.prototype.update = function() {
    Component_ThreePartImage.__super__.update.apply(this, arguments);
    this.object.rIndex = this.threePartImage.index;
    this.updateProperties();
    this.updatePadding();
    return this.updateImage();
  };

  return Component_ThreePartImage;

})(gs.Component_Visual);

gs.Component_ThreePartImage = Component_ThreePartImage;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O3FDQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBaUJhLGtDQUFDLFFBQUQ7SUFDVCx3REFBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsY0FBRCxHQUFzQixJQUFBLEVBQUUsQ0FBQyxjQUFILG9CQUFrQixXQUFXLFFBQVEsQ0FBQyxRQUF0Qzs7QUFFdEI7Ozs7OztJQU1BLElBQUMsQ0FBQSxLQUFELEdBQVM7RUFoQkE7OztBQWtCYjs7Ozs7O3FDQUtBLE9BQUEsR0FBUyxTQUFBO0lBQ0wsdURBQUEsU0FBQTtXQUNBLElBQUMsQ0FBQSxjQUFjLENBQUMsT0FBaEIsQ0FBQTtFQUZLOzs7QUFJVDs7Ozs7O3FDQUtBLGtCQUFBLEdBQW9CLFNBQUE7V0FDaEIsSUFBQyxDQUFBLGNBQWMsQ0FBQyxhQUFoQixHQUFnQyxDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7ZUFDNUIsS0FBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLEtBQUMsQ0FBQSxjQUFjLENBQUM7TUFETDtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUE7RUFEaEI7OztBQUlwQjs7Ozs7O3FDQUtBLEtBQUEsR0FBTyxTQUFBO1dBQ0gsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFERzs7O0FBR1A7Ozs7OztxQ0FLQSxnQkFBQSxHQUFrQixTQUFBO0lBQ2QsSUFBQyxDQUFBLGNBQWMsQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFoQixHQUF3QixDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMs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QUFBLEdBQVEsU0FBQTtJQUNKLHNEQUFBLFNBQUE7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsR0FBaUIsSUFBQyxDQUFBLGNBQWMsQ0FBQztJQUNqQyxJQUFDLENBQUEsZ0JBQUQsQ0FBQTtJQUNBLElBQUMsQ0FBQSxhQUFELENBQUE7V0FDQSxJQUFDLENBQUEsV0FBRCxDQUFBO0VBTkk7Ozs7R0F2SDJCLEVBQUUsQ0FBQzs7QUErSDFDLEVBQUUsQ0FBQyx3QkFBSCxHQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1RocmVlUGFydEltYWdlXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfVGhyZWVQYXJ0SW1hZ2UgZXh0ZW5kcyBncy5Db21wb25lbnRfVmlzdWFsXG4gICAgIyMjKlxuICAgICogQ2FsbGVkIGlmIHRoaXMgb2JqZWN0IGluc3RhbmNlIGlzIHJlc3RvcmVkIGZyb20gYSBkYXRhLWJ1bmRsZS4gSXQgY2FuIGJlIHVzZWRcbiAgICAqIHJlLWFzc2lnbiBldmVudC1oYW5kbGVyLCBhbm9ueW1vdXMgZnVuY3Rpb25zLCBldGMuXG4gICAgKiBcbiAgICAqIEBtZXRob2Qgb25EYXRhQnVuZGxlUmVzdG9yZS5cbiAgICAqIEBwYXJhbSBPYmplY3QgZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZVxuICAgICogQHBhcmFtIGdzLk9iamVjdENvZGVjQ29udGV4dCBjb250ZXh0IC0gVGhlIGNvZGVjLWNvbnRleHQuXG4gICAgIyMjXG4gICAgb25EYXRhQnVuZGxlUmVzdG9yZTogKGRhdGEsIGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cEV2ZW50SGFuZGxlcnMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIHRocmVlLXBhcnQgaW1hZ2UgY29tcG9uZW50IGRpc3BsYXlzIGFuIG9iamVjdCBvbiBzY3JlZW4gdXNpbmcgdGhyZWVcbiAgICAqIHN1Yi1pbWFnZXM6IHN0YXJ0LCBtaWRkbGUgYW5kIGVuZC4gVGhlIHN0YXJ0IGFuZCBlbmQgd2lsbCBiZSByZW5kZXJlZFxuICAgICogd2l0aCBmaXhlZCBzaXplIHdoaWxlIHRoZSBtaWRkbGUtcGFydCB3aWxsIGJlIHN0cmV0Y2hlZCBpbiBhIHdheSBsaWtlIHRoaXM6PGJyPlxuICAgICogPGJyPlxuICAgICogfFN0YXJ0LVBhcnQgRml4ZWR8PC0tLS0tLS0tLS0tTWlkZGxlLVBhcnQgU3RyZXRjaGVkLS0tLS0tLS0tLS0+fEVuZC1QYXJ0IEZpeGVkPGJyPlxuICAgICogPGJyPlxuICAgICogQSB0aHJlZS1wYXJ0IGltYWdlIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGdyYXBoaWNzLXN5c3RlbVxuICAgICogYW5kIHJlbmRlcmVkIGV2ZXJ5IGZyYW1lIHVudGlsIGl0IGdldHMgZGlzcG9zZWQuIEl0IGNhbiBiZSBob3Jpem9udGFsIG9yXG4gICAgKiB2ZXJ0aWNhbC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1RocmVlUGFydEltYWdlXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAodmlld3BvcnQpIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmF0aXZlIHRocmVlLXBhcnQgaW1hZ2UgZ3JhcGhpYyBvYmplY3QuXG4gICAgICAgICogQHByb3BlcnR5IHRocmVlUGFydEltYWdlXG4gICAgICAgICogQHR5cGUgZ3MuVGhyZWVQYXJ0SW1hZ2VcbiAgICAgICAgIyMjXG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZSA9IG5ldyBncy5UaHJlZVBhcnRJbWFnZSh2aWV3cG9ydCA/IEdyYXBoaWNzLnZpZXdwb3J0KVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBpbWFnZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGhyZWUtcGFydCBpbWFnZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2UgPSBudWxsXG4gICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSB0aHJlZS1wYXJ0IGltYWdlLlxuICAgICogXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VcbiAgICAjIyMgICAgICAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgQHRocmVlUGFydEltYWdlLmRpc3Bvc2UoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzIGZvciBtb3VzZS90b3VjaCBldmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZS5vbkluZGV4Q2hhbmdlID0gPT5cbiAgICAgICAgICAgIEBvYmplY3QuckluZGV4ID0gQHRocmVlUGFydEltYWdlLmluZGV4XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXR1cCB0aGUgdGhyZWUtcGFydCBpbWFnZSBjb21wb25lbnQuIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZVxuICAgICogc3lzdGVtLlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICMjI1xuICAgIHNldHVwOiAtPlxuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgdGhyZWUtcGFydCBpbWFnZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGdhbWUgb2JqZWN0IHByb3BlcnRpZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVQcm9wZXJ0aWVzXG4gICAgIyMjICAgXG4gICAgdXBkYXRlUHJvcGVydGllczogLT5cbiAgICAgICAgQHRocmVlUGFydEltYWdlLnggPSBAb2JqZWN0LmRzdFJlY3QueCAtIEBvYmplY3QuZHN0UmVjdC53aWR0aCAqIChAb2JqZWN0Lnpvb20ueCAtIDEuMCkgKiBAb2JqZWN0LmFuY2hvci54XG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZS55ID0gQG9iamVjdC5kc3RSZWN0LnkgLSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0ICogKEBvYmplY3Quem9vbS55IC0gMS4wKSAqIEBvYmplY3QuYW5jaG9yLnlcbiAgICAgICAgQHRocmVlUGFydEltYWdlLndpZHRoID0gQG9iamVjdC5kc3RSZWN0LndpZHRoXG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZS5oZWlnaHQgPSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0XG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZS5maXJzdFBhcnRTaXplID0gQG9iamVjdC5maXJzdFBhcnRTaXplIHx8IDE2XG4gICAgICAgIEB0aHJlZVBhcnRJbWFnZS5taWRkbGVQYXJ0U2l6ZSA9IEBvYmplY3QubWlkZGxlUGFydFNpemUgfHwgMVxuICAgICAgICBAdGhyZWVQYXJ0SW1hZ2UubGFzdFBhcnRTaXplID0gQG9iamVjdC5sYXN0UGFydFNpemUgfHwgMTZcbiAgICAgICAgQHRocmVlUGFydEltYWdlLnZpc2libGUgPSBAb2JqZWN0LnZpc2libGVcbiAgICAgICAgQHRocmVlUGFydEltYWdlLm94ID0gLUBvYmplY3Qub3JpZ2luLnhcbiAgICAgICAgQHRocmVlUGFydEltYWdlLm95ID0gLUBvYmplY3Qub3JpZ2luLnlcbiAgICAgICAgQHRocmVlUGFydEltYWdlLnogPSAoQG9iamVjdC56SW5kZXggfHwgMCkgKyAoaWYgIUBvYmplY3QucGFyZW50IHRoZW4gMCBlbHNlIEBvYmplY3QucGFyZW50LnpJbmRleCB8fCAwKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBwYWRkaW5nLlxuICAgICogXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVBhZGRpbmdcbiAgICAjIyMgXG4gICAgdXBkYXRlUGFkZGluZzogLT5cbiAgICAgICAgaWYgQG9iamVjdC5wYWRkaW5nP1xuICAgICAgICAgICAgQHRocmVlUGFydEltYWdlLnggKz0gQG9iamVjdC5wYWRkaW5nLmxlZnRcbiAgICAgICAgICAgIEB0aHJlZVBhcnRJbWFnZS55ICs9IEBvYmplY3QucGFkZGluZy50b3BcbiAgICAgICAgICAgIEB0aHJlZVBhcnRJbWFnZS53aWR0aCAtPSBAb2JqZWN0LnBhZGRpbmcubGVmdCtAb2JqZWN0LnBhZGRpbmcucmlnaHRcbiAgICAgICAgICAgIEB0aHJlZVBhcnRJbWFnZS5oZWlnaHQgLT0gQG9iamVjdC5wYWRkaW5nLnRvcCtAb2JqZWN0LnBhZGRpbmcuYm90dG9tXG4gICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHNraW4taW1hZ2UgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHRocmVlLXBhcnQgaW1hZ2UuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVJbWFnZVxuICAgICMjIyAgICAgICBcbiAgICB1cGRhdGVJbWFnZTogLT5cbiAgICAgICAgaWYgQG9iamVjdC5pbWFnZT8gYW5kIEBpbWFnZSAhPSBAb2JqZWN0LmltYWdlXG4gICAgICAgICAgICBAaW1hZ2UgPSBAb2JqZWN0LmltYWdlXG4gICAgICAgICAgICBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiI3tAb2JqZWN0LmltYWdlRm9sZGVyfHxcIkdyYXBoaWNzL1BpY3R1cmVzXCJ9LyN7QG9iamVjdC5pbWFnZX1cIilcbiAgICAgICAgICAgIEB0aHJlZVBhcnRJbWFnZS5za2luID0gYml0bWFwXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgdGhyZWUtcGFydCBpbWFnZS5cbiAgICAqIFxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgQG9iamVjdC5ySW5kZXggPSBAdGhyZWVQYXJ0SW1hZ2UuaW5kZXhcbiAgICAgICAgQHVwZGF0ZVByb3BlcnRpZXMoKVxuICAgICAgICBAdXBkYXRlUGFkZGluZygpXG4gICAgICAgIEB1cGRhdGVJbWFnZSgpXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X1RocmVlUGFydEltYWdlID0gQ29tcG9uZW50X1RocmVlUGFydEltYWdlIl19
//# sourceURL=Component_ThreePartImage_147.js
var Component_PanelBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_PanelBehavior = (function(superClass) {
  extend(Component_PanelBehavior, superClass);


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_PanelBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * A panel-component gives a game-object the same capabilities like
  * a visual object but has no graphical representation. So a panel has
  * a position and a size.<br>
  * <br>
  * It can be used to make invisible hotspot-areas or modal-blocking areas for
  * example.
  *
  * @module gs
  * @class Component_PanelBehavior
  * @extends gs.Component_Visual
  * @memberof gs
  * @constructor
   */

  function Component_PanelBehavior() {}


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_PanelBehavior.prototype.setupEventHandlers = function() {
    if (this.object.modal) {
      gs.GlobalEventManager.on("mouseUp", ((function(_this) {
        return function(e) {
          if (_this.object.modal) {
            return e.breakChain = true;
          }
        };
      })(this)), null, this.object);
      gs.GlobalEventManager.on("mouseDown", ((function(_this) {
        return function(e) {
          if (_this.object.modal) {
            return e.breakChain = true;
          }
        };
      })(this)), null, this.object);
      return gs.GlobalEventManager.on("mouseMoved", ((function(_this) {
        return function(e) {
          if (_this.object.modal) {
            return e.breakChain = true;
          }
        };
      })(this)), null, this.object);
    }
  };


  /**
  * Initializes the panel component.
  *
  * @method setup
   */

  Component_PanelBehavior.prototype.setup = function() {
    return this.setupEventHandlers();
  };


  /**
  * Disposes the component.
  *
  * @method dispose
   */

  Component_PanelBehavior.prototype.dispose = function() {
    Component_PanelBehavior.__super__.dispose.apply(this, arguments);
    gs.GlobalEventManager.offByOwner("mouseUp", this.object);
    gs.GlobalEventManager.offByOwner("mouseDown", this.object);
    return gs.GlobalEventManager.offByOwner("mouseMoved", this.object);
  };

  return Component_PanelBehavior;

})(gs.Component_Visual);

gs.Component_PanelBehavior = Component_PanelBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7O29DQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7V0FDakIsSUFBQyxDQUFBLGtCQUFELENBQUE7RUFEaUI7OztBQUdyQjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsaUNBQUEsR0FBQTs7O0FBR2I7Ozs7OztvQ0FLQSxrQkFBQSxHQUFvQixTQUFBO0lBQ2hCLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFYO01BQ0ksRUFBRSxDQUFDLGtCQUFrQixDQUFDLEVBQXRCLENBQXlCLFNBQXpCLEVBQW9DLENBQUMsQ0FBQSxTQUFBLEtBQUE7ZUFBQSxTQUFDLENBQUQ7VUFBTyxJQUFHLEtBQUMsQ0FBQSxNQUFNLENBQUMsS0FBWDttQkFBc0IsQ0FBQyxDQUFDLFVBQUYsR0FBZSxLQUFyQzs7UUFBUDtNQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBRCxDQUFwQyxFQUF1RixJQUF2RixFQUE2RixJQUFDLENBQUEsTUFBOUY7TUFDQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsRUFBdEIsQ0FBeUIsV0FBekIsRUFBc0MsQ0FBQyxDQUFBLFNBQUEsS0FBQTtlQUFBLFNBQUMsQ0FBRDtVQUFPLElBQUcsS0FBQyxDQUFBLE1BQU0sQ0FBQyxLQUFYO21CQUFzQixDQUFDLENBQUMsVUFBRixHQUFlLEtBQXJDOztRQUFQO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFELENBQXRDLEVBQXlGLElBQXpGLEVBQStGLElBQUMsQ0FBQSxNQUFoRzthQUNBLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxFQUF0QixDQUF5QixZQUF6QixFQUF1QyxDQUFDLENBQUEsU0FBQSxLQUFBO2VBQUEsU0FBQyxDQUFEO1VBQ3BDLElBQUcsS0FBQyxDQUFBLE1BQU0sQ0FBQyxLQUFYO21CQUFzQixDQUFDLENBQUMsVUFBRixHQUFlLEtBQXJDOztRQURvQztNQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBRCxDQUF2QyxFQUVHLElBRkgsRUFFUyxJQUFDLENBQUEsTUFGVixFQUhKOztFQURnQjs7O0FBUXBCOzs7Ozs7b0NBS0EsS0FBQSxHQUFPLFNBQUE7V0FDSCxJQUFDLENBQUEsa0JBQUQsQ0FBQTtFQURHOzs7QUFHUDs7Ozs7O29DQUtBLE9BQUEsR0FBUyxTQUFBO0lBQ0wsc0RBQUEsU0FBQTtJQUVBLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxVQUF0QixDQUFpQyxTQUFqQyxFQUE0QyxJQUFDLENBQUEsTUFBN0M7SUFDQSxFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBdEIsQ0FBaUMsV0FBakMsRUFBOEMsSUFBQyxDQUFBLE1BQS9DO1dBQ0EsRUFBRSxDQUFDLGtCQUFrQixDQUFDLFVBQXRCLENBQWlDLFlBQWpDLEVBQStDLElBQUMsQ0FBQSxNQUFoRDtFQUxLOzs7O0dBdkR5QixFQUFFLENBQUM7O0FBOER6QyxFQUFFLENBQUMsdUJBQUgsR0FBNkIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9QYW5lbEJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfUGFuZWxCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEEgcGFuZWwtY29tcG9uZW50IGdpdmVzIGEgZ2FtZS1vYmplY3QgdGhlIHNhbWUgY2FwYWJpbGl0aWVzIGxpa2VcbiAgICAqIGEgdmlzdWFsIG9iamVjdCBidXQgaGFzIG5vIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbi4gU28gYSBwYW5lbCBoYXNcbiAgICAqIGEgcG9zaXRpb24gYW5kIGEgc2l6ZS48YnI+XG4gICAgKiA8YnI+XG4gICAgKiBJdCBjYW4gYmUgdXNlZCB0byBtYWtlIGludmlzaWJsZSBob3RzcG90LWFyZWFzIG9yIG1vZGFsLWJsb2NraW5nIGFyZWFzIGZvclxuICAgICogZXhhbXBsZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1BhbmVsQmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGV2ZW50LWhhbmRsZXJzIGZvciBtb3VzZS90b3VjaCBldmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwRXZlbnRIYW5kbGVyc1xuICAgICMjIyBcbiAgICBzZXR1cEV2ZW50SGFuZGxlcnM6IC0+XG4gICAgICAgIGlmIEBvYmplY3QubW9kYWxcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm1vdXNlVXBcIiwgKChlKSA9PiBpZiBAb2JqZWN0Lm1vZGFsIHRoZW4gZS5icmVha0NoYWluID0geWVzKSwgbnVsbCwgQG9iamVjdFxuICAgICAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VEb3duXCIsICgoZSkgPT4gaWYgQG9iamVjdC5tb2RhbCB0aGVuIGUuYnJlYWtDaGFpbiA9IHllcyksIG51bGwsIEBvYmplY3RcbiAgICAgICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vbiBcIm1vdXNlTW92ZWRcIiwgKChlKSA9PiBcbiAgICAgICAgICAgICAgICBpZiBAb2JqZWN0Lm1vZGFsIHRoZW4gZS5icmVha0NoYWluID0geWVzXG4gICAgICAgICAgICApLCBudWxsLCBAb2JqZWN0XG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgcGFuZWwgY29tcG9uZW50LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSBjb21wb25lbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBkaXNwb3NlXG4gICAgIyMjXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGdzLkdsb2JhbEV2ZW50TWFuYWdlci5vZmZCeU93bmVyKFwibW91c2VVcFwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlRG93blwiLCBAb2JqZWN0KVxuICAgICAgICBncy5HbG9iYWxFdmVudE1hbmFnZXIub2ZmQnlPd25lcihcIm1vdXNlTW92ZWRcIiwgQG9iamVjdClcbiAgICAgICAgXG5ncy5Db21wb25lbnRfUGFuZWxCZWhhdmlvciA9IENvbXBvbmVudF9QYW5lbEJlaGF2aW9yIl19
//# sourceURL=Component_PanelBehavior_149.js
var Component_NumberInput,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_NumberInput = (function(superClass) {
  extend(Component_NumberInput, superClass);


  /**
  * The number-input component defines the logic for the number-input window
  * of the default In-Game UI. 
  *
  * @module gs
  * @class Component_NumberInput
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_NumberInput(params) {

    /**
    * The max. number of digits of the number.
    * @property digits
    * @type number
     */
    this.digits = ui.Component_FormulaHandler.fieldValue(this, params.digits);

    /**
    * The number-cursor position.
    * @property digits
    * @type number
    * @protected
     */
    this.cursor = 0;

    /**
    * The current number as text.
    * @property number
    * @type string
     */
    this.number = "";
  }


  /**
  * Initializes the number-input component.
  *
  * @method setup
   */

  Component_NumberInput.prototype.setup = function() {
    var text;
    text = "".fill("0", this.digits);
    return null;
  };


  /**
  * An action-method to add a single number/digit.
  *
  * @method action_addNumber
  * @param {gs.Object_Base} sender The sender of the action.
  * @param {Object} params The params-object which need a number-property containing the digit/number to add.
   */

  Component_NumberInput.prototype.action_addNumber = function(sender, params) {
    var number;
    number = ui.Component_FormulaHandler.fieldValue(sender, params.number);
    if (this.number.length === 0 && number === 0) {
      return;
    }
    if (this.number.length < this.digits) {
      this.number += number.toString();
    } else {
      this.number = this.number.replaceAt(this.number.length - 1, number.toString());
    }
    return this.setNumber(this.number);
  };


  /**
  * An action-method to clear the number at the current cursor position.
  *
  * @method action_removeNumber
  * @param {gs.Object_Base} sender The sender of the action.
  * @param {Object} [params=null] The params-object. Can be <b>null</b>.
   */

  Component_NumberInput.prototype.action_removeNumber = function(sender, params) {
    if (this.number.length > 0) {
      this.number = this.number.substring(0, this.number.length - 1);
    }
    this.setNumber(this.number);
    return this.setNumber(this.number);
  };


  /**
  * Puts the specified number into the UI label-objects to make it visible
  * on screen.
  *
  * @method setNumber
  * @param {string} number The number to set.
   */

  Component_NumberInput.prototype.setNumber = function(number) {
    var c, i, j, len, text;
    text = number.lfill("0", this.digits);
    for (i = j = 0, len = text.length; j < len; i = ++j) {
      c = text[i];
      this.object.controls[i].controls[1].text = c;
      this.object.controls[i].controls[1].update();
    }
    return null;
  };

  return Component_NumberInput;

})(gs.Component);

gs.Component_NumberInput = Component_NumberInput;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEscUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSwrQkFBQyxNQUFEOztBQUNUOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVUsRUFBRSxDQUFDLHdCQUF3QixDQUFDLFVBQTVCLENBQXVDLElBQXZDLEVBQTZDLE1BQU0sQ0FBQyxNQUFwRDs7QUFFVjs7Ozs7O0lBTUEsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFVO0VBckJEOzs7QUF1QmI7Ozs7OztrQ0FLQSxLQUFBLEdBQU8sU0FBQTtBQUNILFFBQUE7SUFBQSxJQUFBLEdBQU8sRUFBRSxDQUFDLElBQUgsQ0FBUSxHQUFSLEVBQWEsSUFBQyxDQUFBLE1BQWQ7QUFFUCxXQUFPO0VBSEo7OztBQUtQOzs7Ozs7OztrQ0FPQSxnQkFBQSxHQUFrQixTQUFDLE1BQUQsRUFBUyxNQUFUO0FBQ2QsUUFBQTtJQUFBLE1BQUEsR0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsTUFBTSxDQUFDLE1BQXREO0lBQ1QsSUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsS0FBa0IsQ0FBbEIsSUFBd0IsTUFBQSxLQUFVLENBQXJDO0FBQTRDLGFBQTVDOztJQUVBLElBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLElBQUMsQ0FBQSxNQUFyQjtNQUNJLElBQUMsQ0FBQSxNQUFELElBQVcsTUFBTSxDQUFDLFFBQVAsQ0FBQSxFQURmO0tBQUEsTUFBQTtNQUdJLElBQUMsQ0FBQSxNQUFELEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLENBQWtCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFlLENBQWpDLEVBQW9DLE1BQU0sQ0FBQyxRQUFQLENBQUEsQ0FBcEMsRUFIZDs7V0FJQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUMsQ0FBQSxNQUFaO0VBUmM7OztBQVVsQjs7Ozs7Ozs7a0NBT0EsbUJBQUEsR0FBcUIsU0FBQyxNQUFELEVBQVMsTUFBVDtJQUNqQixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixDQUFwQjtNQUNJLElBQUMsQ0FBQSxNQUFELEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLENBQWtCLENBQWxCLEVBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFlLENBQXBDLEVBRGQ7O0lBR0EsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFDLENBQUEsTUFBWjtXQUNBLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBQyxDQUFBLE1BQVo7RUFMaUI7OztBQU9yQjs7Ozs7Ozs7a0NBT0EsU0FBQSxHQUFXLFNBQUMsTUFBRDtBQUNQLFFBQUE7SUFBQSxJQUFBLEdBQU8sTUFBTSxDQUFDLEtBQVAsQ0FBYSxHQUFiLEVBQWtCLElBQUMsQ0FBQSxNQUFuQjtBQUNQLFNBQUEsOENBQUE7O01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLElBQWhDLEdBQXVDO01BRXZDLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxNQUFoQyxDQUFBO0FBSEo7QUFLQSxXQUFPO0VBUEE7Ozs7R0FsRnFCLEVBQUUsQ0FBQzs7QUEyRnZDLEVBQUUsQ0FBQyxxQkFBSCxHQUEyQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X051bWJlcklucHV0XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfTnVtYmVySW5wdXQgZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBUaGUgbnVtYmVyLWlucHV0IGNvbXBvbmVudCBkZWZpbmVzIHRoZSBsb2dpYyBmb3IgdGhlIG51bWJlci1pbnB1dCB3aW5kb3dcbiAgICAqIG9mIHRoZSBkZWZhdWx0IEluLUdhbWUgVUkuIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfTnVtYmVySW5wdXRcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKHBhcmFtcykgLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBtYXguIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIG51bWJlci5cbiAgICAgICAgKiBAcHJvcGVydHkgZGlnaXRzXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAZGlnaXRzID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUodGhpcywgcGFyYW1zLmRpZ2l0cylcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbnVtYmVyLWN1cnNvciBwb3NpdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgZGlnaXRzXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQGN1cnNvciA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3VycmVudCBudW1iZXIgYXMgdGV4dC5cbiAgICAgICAgKiBAcHJvcGVydHkgbnVtYmVyXG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAbnVtYmVyID0gXCJcIlxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBJbml0aWFsaXplcyB0aGUgbnVtYmVyLWlucHV0IGNvbXBvbmVudC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIHRleHQgPSBcIlwiLmZpbGwoXCIwXCIsIEBkaWdpdHMpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBbiBhY3Rpb24tbWV0aG9kIHRvIGFkZCBhIHNpbmdsZSBudW1iZXIvZGlnaXQuXG4gICAgKlxuICAgICogQG1ldGhvZCBhY3Rpb25fYWRkTnVtYmVyXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgVGhlIHNlbmRlciBvZiB0aGUgYWN0aW9uLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBUaGUgcGFyYW1zLW9iamVjdCB3aGljaCBuZWVkIGEgbnVtYmVyLXByb3BlcnR5IGNvbnRhaW5pbmcgdGhlIGRpZ2l0L251bWJlciB0byBhZGQuXG4gICAgIyMjXG4gICAgYWN0aW9uX2FkZE51bWJlcjogKHNlbmRlciwgcGFyYW1zKSAtPlxuICAgICAgICBudW1iZXIgPSB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIHBhcmFtcy5udW1iZXIpXG4gICAgICAgIGlmIEBudW1iZXIubGVuZ3RoID09IDAgYW5kIG51bWJlciA9PSAwIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBpZiBAbnVtYmVyLmxlbmd0aCA8IEBkaWdpdHNcbiAgICAgICAgICAgIEBudW1iZXIgKz0gbnVtYmVyLnRvU3RyaW5nKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQG51bWJlciA9IEBudW1iZXIucmVwbGFjZUF0KEBudW1iZXIubGVuZ3RoLTEsIG51bWJlci50b1N0cmluZygpKVxuICAgICAgICBAc2V0TnVtYmVyKEBudW1iZXIpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBbiBhY3Rpb24tbWV0aG9kIHRvIGNsZWFyIHRoZSBudW1iZXIgYXQgdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgYWN0aW9uX3JlbW92ZU51bWJlclxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIFRoZSBzZW5kZXIgb2YgdGhlIGFjdGlvbi5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zPW51bGxdIFRoZSBwYXJhbXMtb2JqZWN0LiBDYW4gYmUgPGI+bnVsbDwvYj4uXG4gICAgIyMjICAgICAgIFxuICAgIGFjdGlvbl9yZW1vdmVOdW1iZXI6IChzZW5kZXIsIHBhcmFtcykgLT5cbiAgICAgICAgaWYgQG51bWJlci5sZW5ndGggPiAwXG4gICAgICAgICAgICBAbnVtYmVyID0gQG51bWJlci5zdWJzdHJpbmcoMCwgQG51bWJlci5sZW5ndGgtMSlcbiAgICAgICAgICAgIFxuICAgICAgICBAc2V0TnVtYmVyKEBudW1iZXIpICAgXG4gICAgICAgIEBzZXROdW1iZXIoQG51bWJlcilcbiAgICBcbiAgICAjIyMqXG4gICAgKiBQdXRzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIGludG8gdGhlIFVJIGxhYmVsLW9iamVjdHMgdG8gbWFrZSBpdCB2aXNpYmxlXG4gICAgKiBvbiBzY3JlZW4uXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXROdW1iZXJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXIgVGhlIG51bWJlciB0byBzZXQuXG4gICAgIyMjICAgICBcbiAgICBzZXROdW1iZXI6IChudW1iZXIpIC0+XG4gICAgICAgIHRleHQgPSBudW1iZXIubGZpbGwoXCIwXCIsIEBkaWdpdHMpXG4gICAgICAgIGZvciBjLCBpIGluIHRleHRcbiAgICAgICAgICAgIEBvYmplY3QuY29udHJvbHNbaV0uY29udHJvbHNbMV0udGV4dCA9IGNcbiAgICAgICAgICAgICMgRklYTUU6IERpcmVjdCB1cGRhdGUgY2FsbCBzaG91bGRuJ3QgYmUgbmVjZXNzYXJ5LiBTZWUgVGV4dElucHV0LlxuICAgICAgICAgICAgQG9iamVjdC5jb250cm9sc1tpXS5jb250cm9sc1sxXS51cGRhdGUoKVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X051bWJlcklucHV0ID0gQ29tcG9uZW50X051bWJlcklucHV0Il19
//# sourceURL=Component_NumberInput_155.js
var Component_TextInput,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_TextInput = (function(superClass) {
  extend(Component_TextInput, superClass);


  /**
  * The text-input component defines the logic for the text-input window
  * of the default In-Game UI. 
  *
  * @module gs
  * @class Component_TextInput
  * @extends gs.Component
  * @memberof gs
  * @constructor
  * @params {Object} params - The params-object needs at least a letters-property to define 
  * the number of letters for the text. The letters-property can also be a property-path.
   */

  function Component_TextInput(params) {

    /**
    * The max. number of letters.
    * @property letters
    * @type number
     */
    this.letters = ui.Component_FormulaHandler.fieldValue(this, params.letters);

    /**
    * The cursor position. Points to the current letter.
    * @property cursor
    * @type number
    * @protected
     */
    this.cursor = 0;

    /**
    * The current text.
    * @property text
    * @type string
     */
    this.text = "";
  }


  /**
  * Puts the specified text into the UI label-objects to make it visible
  * on screen.
  *
  * @method setText
  * @param {string} text The text to set.
   */

  Component_TextInput.prototype.setText = function(text) {
    var c, i, j, len;
    for (i = j = 0, len = text.length; j < len; i = ++j) {
      c = text[i];
      this.object.controls[i].controls[1].text = c;
    }
    return null;
  };


  /**
  * An action-method to add a single letter to the text.
  *
  * @method action_addLetter
  * @param {gs.Object_Base} sender The sender of the action.
  * @param {Object} params The params-object which needs a letter-property containing the letter to add.
   */

  Component_TextInput.prototype.action_addLetter = function(sender, params) {
    var letter;
    letter = params.letter;
    if (this.text.length < this.letters) {
      this.text += letter;
    } else {
      this.text = this.text.replaceAt(this.text.length - 1, letter.toString());
    }
    return this.setText(this.text.rfill(" ", this.letters));
  };


  /**
  * An action-method to clear the letter at the current cursor position.
  *
  * @method action_removeLetter
  * @param {gs.Object_Base} sender The sender of the action.
  * @param {Object} [params=null] The params-object. Can be <b>null</b>.
   */

  Component_TextInput.prototype.action_removeLetter = function() {
    if (this.text.length > 0) {
      this.text = this.text.substring(0, this.text.length - 1);
    }
    return this.setText(this.text.rfill(" ", this.letters));
  };

  return Component_TextInput;

})(gs.Component);

gs.Component_TextInput = Component_TextInput;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsbUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7OztFQVlhLDZCQUFDLE1BQUQ7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVyxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsSUFBdkMsRUFBNkMsTUFBTSxDQUFDLE9BQXBEOztBQUVYOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVE7RUFyQkM7OztBQXVCYjs7Ozs7Ozs7Z0NBT0EsT0FBQSxHQUFTLFNBQUMsSUFBRDtBQUNMLFFBQUE7QUFBQSxTQUFBLDhDQUFBOztNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUFoQyxHQUF1QztBQUQzQztBQUdBLFdBQU87RUFKRjs7O0FBTVQ7Ozs7Ozs7O2dDQU9BLGdCQUFBLEdBQWtCLFNBQUMsTUFBRCxFQUFTLE1BQVQ7QUFDZCxRQUFBO0lBQUEsTUFBQSxHQUFTLE1BQU0sQ0FBQztJQUNoQixJQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsTUFBTixHQUFlLElBQUMsQ0FBQSxPQUFuQjtNQUNJLElBQUMsQ0FBQSxJQUFELElBQVMsT0FEYjtLQUFBLE1BQUE7TUFHSSxJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQSxJQUFJLENBQUMsU0FBTixDQUFnQixJQUFDLENBQUEsSUFBSSxDQUFDLE1BQU4sR0FBYSxDQUE3QixFQUFnQyxNQUFNLENBQUMsUUFBUCxDQUFBLENBQWhDLEVBSFo7O1dBS0EsSUFBQyxDQUFBLE9BQUQsQ0FBUyxJQUFDLENBQUEsSUFBSSxDQUFDLEtBQU4sQ0FBWSxHQUFaLEVBQWlCLElBQUMsQ0FBQSxPQUFsQixDQUFUO0VBUGM7OztBQVNsQjs7Ozs7Ozs7Z0NBT0EsbUJBQUEsR0FBcUIsU0FBQTtJQUNqQixJQUFHLElBQUMsQ0FBQSxJQUFJLENBQUMsTUFBTixHQUFlLENBQWxCO01BQ0ksSUFBQyxDQUFBLElBQUQsR0FBUSxJQUFDLENBQUEsSUFBSSxDQUFDLFNBQU4sQ0FBZ0IsQ0FBaEIsRUFBbUIsSUFBQyxDQUFBLElBQUksQ0FBQyxNQUFOLEdBQWEsQ0FBaEMsRUFEWjs7V0FHQSxJQUFDLENBQUEsT0FBRCxDQUFTLElBQUMsQ0FBQSxJQUFJLENBQUMsS0FBTixDQUFZLEdBQVosRUFBaUIsSUFBQyxDQUFBLE9BQWxCLENBQVQ7RUFKaUI7Ozs7R0F4RVMsRUFBRSxDQUFDOztBQThFckMsRUFBRSxDQUFDLG1CQUFILEdBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfVGV4dElucHV0XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfVGV4dElucHV0IGV4dGVuZHMgZ3MuQ29tcG9uZW50XG4gICAgIyMjKlxuICAgICogVGhlIHRleHQtaW5wdXQgY29tcG9uZW50IGRlZmluZXMgdGhlIGxvZ2ljIGZvciB0aGUgdGV4dC1pbnB1dCB3aW5kb3dcbiAgICAqIG9mIHRoZSBkZWZhdWx0IEluLUdhbWUgVUkuIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfVGV4dElucHV0XG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAcGFyYW1zIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbXMtb2JqZWN0IG5lZWRzIGF0IGxlYXN0IGEgbGV0dGVycy1wcm9wZXJ0eSB0byBkZWZpbmUgXG4gICAgKiB0aGUgbnVtYmVyIG9mIGxldHRlcnMgZm9yIHRoZSB0ZXh0LiBUaGUgbGV0dGVycy1wcm9wZXJ0eSBjYW4gYWxzbyBiZSBhIHByb3BlcnR5LXBhdGguXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChwYXJhbXMpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbWF4LiBudW1iZXIgb2YgbGV0dGVycy5cbiAgICAgICAgKiBAcHJvcGVydHkgbGV0dGVyc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGxldHRlcnMgPSB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZSh0aGlzLCBwYXJhbXMubGV0dGVycylcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3Vyc29yIHBvc2l0aW9uLiBQb2ludHMgdG8gdGhlIGN1cnJlbnQgbGV0dGVyLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjdXJzb3JcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY3Vyc29yID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICogQHByb3BlcnR5IHRleHRcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZXh0ID0gXCJcIlxuXG4gICAgIyMjKlxuICAgICogUHV0cyB0aGUgc3BlY2lmaWVkIHRleHQgaW50byB0aGUgVUkgbGFiZWwtb2JqZWN0cyB0byBtYWtlIGl0IHZpc2libGVcbiAgICAqIG9uIHNjcmVlbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldFRleHRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNldC5cbiAgICAjIyMgIFxuICAgIHNldFRleHQ6ICh0ZXh0KSAtPlxuICAgICAgICBmb3IgYywgaSBpbiB0ZXh0XG4gICAgICAgICAgICBAb2JqZWN0LmNvbnRyb2xzW2ldLmNvbnRyb2xzWzFdLnRleHQgPSBjXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgXG4gICAgIyMjKlxuICAgICogQW4gYWN0aW9uLW1ldGhvZCB0byBhZGQgYSBzaW5nbGUgbGV0dGVyIHRvIHRoZSB0ZXh0LlxuICAgICpcbiAgICAqIEBtZXRob2QgYWN0aW9uX2FkZExldHRlclxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIFRoZSBzZW5kZXIgb2YgdGhlIGFjdGlvbi5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgVGhlIHBhcmFtcy1vYmplY3Qgd2hpY2ggbmVlZHMgYSBsZXR0ZXItcHJvcGVydHkgY29udGFpbmluZyB0aGUgbGV0dGVyIHRvIGFkZC5cbiAgICAjIyMgICBcbiAgICBhY3Rpb25fYWRkTGV0dGVyOiAoc2VuZGVyLCBwYXJhbXMpIC0+XG4gICAgICAgIGxldHRlciA9IHBhcmFtcy5sZXR0ZXJcbiAgICAgICAgaWYgQHRleHQubGVuZ3RoIDwgQGxldHRlcnNcbiAgICAgICAgICAgIEB0ZXh0ICs9IGxldHRlclxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAdGV4dCA9IEB0ZXh0LnJlcGxhY2VBdChAdGV4dC5sZW5ndGgtMSwgbGV0dGVyLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICBcbiAgICAgICAgQHNldFRleHQoQHRleHQucmZpbGwoXCIgXCIsIEBsZXR0ZXJzKSlcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQW4gYWN0aW9uLW1ldGhvZCB0byBjbGVhciB0aGUgbGV0dGVyIGF0IHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGFjdGlvbl9yZW1vdmVMZXR0ZXJcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciBUaGUgc2VuZGVyIG9mIHRoZSBhY3Rpb24uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtcz1udWxsXSBUaGUgcGFyYW1zLW9iamVjdC4gQ2FuIGJlIDxiPm51bGw8L2I+LlxuICAgICMjIyAgXG4gICAgYWN0aW9uX3JlbW92ZUxldHRlcjogLT5cbiAgICAgICAgaWYgQHRleHQubGVuZ3RoID4gMFxuICAgICAgICAgICAgQHRleHQgPSBAdGV4dC5zdWJzdHJpbmcoMCwgQHRleHQubGVuZ3RoLTEpXG4gICAgICAgICAgICBcbiAgICAgICAgQHNldFRleHQoQHRleHQucmZpbGwoXCIgXCIsIEBsZXR0ZXJzKSlcbiAgICAgICAgXG5ncy5Db21wb25lbnRfVGV4dElucHV0ID0gQ29tcG9uZW50X1RleHRJbnB1dCJdfQ==
//# sourceURL=Component_TextInput_158.js
var Component_DataGridBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_DataGridBehavior = (function(superClass) {
  var DataSource, DataWrapper;

  extend(Component_DataGridBehavior, superClass);

  DataWrapper = (function() {
    function DataWrapper(data) {
      this.data = data;
      this.viewData = [true, false, false, true, false];
    }

    return DataWrapper;

  })();

  DataSource = (function() {
    function DataSource(source) {
      var i, k, ref;
      this.source = source || [];
      this.length = this.source.length;
      this.wrappedSource = new Array(this.source.length);
      for (i = k = 0, ref = this.wrappedSource.length; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
        this.wrappedSource[i] = null;
      }
    }

    DataSource.prototype.set = function(source) {
      var i, k, ref, results;
      this.source = source || [];
      this.length = this.source.length;
      this.wrappedSource = new Array(this.source.length);
      results = [];
      for (i = k = 0, ref = this.wrappedSource.length; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
        results.push(this.wrappedSource[i] = null);
      }
      return results;
    };

    DataSource.prototype.itemAt = function(index) {
      var item;
      item = this.wrappedSource[index];
      if (!item) {
        item = new DataWrapper(this.source[index]);
        this.wrappedSource[index] = item;
      }
      return item;
    };

    return DataSource;

  })();

  Component_DataGridBehavior.accessors("dataSource", {
    set: function(v) {
      if (v !== this.dataSource_.source) {
        this.dataSource_.set(v);
        return this.resize();
      }
    },
    get: function() {
      return this.dataSource_;
    }
  });


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Component_DataGridBehavior.prototype.onDataBundleRestore = function(data, context) {
    return this.setupEventHandlers();
  };


  /**
  * The data-grid behavior component defines the logic for a data-grid. A data-grid
  * allows to display items from a associated data-source using a specified
  * item-template. Unlike a stack-layout, a data-grid is optimized to display even high amounts of items but they all
  * need to use the same item-template with same size.
  *
  * @module ui
  * @class Component_DataGridBehavior
  * @extends gs.Component_Visual
  * @memberof ui
  * @constructor
  * @params {Object} params - The params-object containing the data-grid settings.
   */

  function Component_DataGridBehavior(params) {
    Component_DataGridBehavior.__super__.constructor.call(this);
    this.params = params || {};

    /**
    * The item-template descriptor used for each item of the data-grid.
    * @property template
    * @type Object
     */
    this.template = this.params.template;

    /**
    * The data-source used for the data-grid. Can be an array or a formula.
    * @property dataSource
    * @type Object[]|string
     */
    this.dataSource_ = null;

    /**
    * Stores the item-objects needed for rendering. They are created from the item-template.
    * @property items
    * @protected
    * @type gs.Object_Base[]
     */
    this.items = this.params.items || [];

    /**
    * Numbers of columns.
    * @property columns
    * @type number
     */
    this.columns = this.params.columns || 1;

    /**
    * Indicates if the data-grid is initialized and ready for rendering.
    * @property initialized
    * @protected
    * @type boolean
     */
    this.initialized = false;

    /**
    * Defines a horizontal and vertical spacing between items.
    * @property spacing
    * @default [0, 10]        
    * @type number[]
     */
    this.spacing = this.params.spacing || [0, 0];
  }


  /**
  * Adds event-handlers for mouse/touch events
  *
  * @method setupEventHandlers
   */

  Component_DataGridBehavior.prototype.setupEventHandlers = function() {
    return gs.GlobalEventManager.on("mouseWheel", (function(_this) {
      return function() {
        var r;
        r = _this.object.dstRect;
        if (Rect.contains(r.x, r.y, r.width, r.height, Input.Mouse.x - _this.object.origin.x, Input.Mouse.y - _this.object.origin.y)) {
          return _this.updateScroll();
        }
      };
    })(this));
  };


  /**
  * Sets up the data-grid.
  *
  * @method setup
   */

  Component_DataGridBehavior.prototype.setup = function() {
    var item;
    if (this.object.dstRect.width === 1) {
      return;
    }
    this.initialized = true;
    if (!this.template.size) {
      item = ui.UIManager.createControlFromDescriptor(this.template.descriptor, this.object);
      item.index = 0;
      item.update();
      this.template.size = [item.dstRect.width, item.dstRect.height];
      item.dispose();
    }
    if (this.params.dataSource.exec) {
      this.dataSource_ = new DataSource(ui.Component_FormulaHandler.fieldValue(this.object, this.params.dataSource) || []);
    } else {
      this.dataSource_ = new DataSource(this.params.dataSource || []);
    }
    this.resize();
    this.setupEventHandlers();
    return Component_DataGridBehavior.__super__.setup.call(this);
  };


  /**
  * Updates scrolling.
  *
  * @method updateScroll
   */

  Component_DataGridBehavior.prototype.updateScroll = function() {
    this.object.scrollableHeight = Math.max(0, this.object.contentHeight - this.object.dstRect.height);
    if (Input.Mouse.wheel <= -1) {
      this.object.scrollOffsetY = Math.max(this.object.scrollOffsetY - Input.Mouse.wheelSpeed * 0.1, 0);
    }
    if (Input.Mouse.wheel >= 1) {
      this.object.scrollOffsetY = Math.min(this.object.scrollOffsetY - Input.Mouse.wheelSpeed * 0.1, this.object.scrollableHeight);
    }
    return this.object.scrollOffsetY = Math.max(Math.min(this.object.scrollOffsetY, this.object.scrollableHeight), 0);
  };


  /**
  * Resizes the data-grid and creates the necessary display objects from the data-grid template.
  *
  * @method resize
   */

  Component_DataGridBehavior.prototype.resize = function() {
    var height, index, item, itemsX, itemsY, k, l, len, m, ref, ref1, ref2, totalItemsY, width, x, y;
    width = this.object.dstRect.width;
    height = this.object.dstRect.height;
    itemsX = this.columns || 1;
    itemsY = Math.ceil((height - this.spacing[1]) / (this.template.size[1] + this.spacing[1])) + this.columns + 1;
    totalItemsY = Math.ceil(this.dataSource.length / this.columns);
    ref = this.items;
    for (k = 0, len = ref.length; k < len; k++) {
      item = ref[k];
      if (item != null) {
        item.dispose();
      }
    }
    this.items = [];
    for (y = l = 0, ref1 = itemsY; 0 <= ref1 ? l < ref1 : l > ref1; y = 0 <= ref1 ? ++l : --l) {
      for (x = m = 0, ref2 = itemsX; 0 <= ref2 ? m < ref2 : m > ref2; x = 0 <= ref2 ? ++m : --m) {
        index = y * itemsX + x;
        if (index < this.dataSource.length) {
          item = ui.UIManager.createControlFromDescriptor(this.template.descriptor, this.object);
          item.data[0] = this.dataSource.itemAt(index).data;
          item.dstRect.x = this.spacing[0] + x * (this.template.size[0] + this.spacing[0]);
          item.dstRect.y = this.spacing[1] + y * (this.template.size[1] + this.spacing[1]);
          item.dstRect.width = this.template.size[0];
          item.dstRect.height = this.template.size[1];
          item.index = index;
          item.ui.viewData = this.dataSource.itemAt(index).viewData;
          this.items[item.index] = item;
          this.object.addObject(item);
        }
      }
    }
    this.object.scrollableHeight = this.spacing[1] + totalItemsY * (this.template.size[1] + this.spacing[1]) - height;
    this.object.scrollOffsetY = 0;
    return this.object.contentHeight = this.spacing[1] + totalItemsY * (this.template.size[1] + this.spacing[1]);
  };


  /**
  * Updates the data-grid.
  *
  * @method update
   */

  Component_DataGridBehavior.prototype.update = function() {
    var column, i, item, itemIndex, itemsY, j, k, offset, ref, ref1, results, row, scrollOffset;
    Component_DataGridBehavior.__super__.update.call(this);
    if (!this.initialized) {
      this.setup();
    }
    scrollOffset = this.object.scrollOffsetY;
    offset = Math.floor(scrollOffset / (this.template.size[1] + this.spacing[1])) * this.columns;
    i = offset;
    itemIndex = 0;
    itemsY = Math.ceil((this.object.dstRect.height - this.spacing[1]) / (this.template.size[1] + this.spacing[1])) * this.columns + this.columns + 1;
    while (i < Math.min(offset + itemsY, this.dataSource.length)) {
      row = Math.floor(i / this.columns);
      column = i % this.columns;
      item = this.items[itemIndex];
      if (item) {
        item.data[0] = this.dataSource.itemAt(i).data;
        if (this.object.clipRect) {
          item.clipRect = this.object.clipRect;
        }
        item.index = i;
        item.ui.viewData = this.dataSource.itemAt(i).viewData;
        item.dstRect.x = this.spacing[0] + column * (this.template.size[0] + this.spacing[0]);
        item.dstRect.y = this.spacing[1] + (row - (offset / this.columns)) * (this.template.size[1] + this.spacing[1]) + (-scrollOffset % (this.template.size[1] + this.spacing[1]));
        item.visible = true;
        item.update();
        item.update();
        itemIndex++;
      }
      i++;
    }
    results = [];
    for (j = k = ref = itemIndex, ref1 = this.items.length; ref <= ref1 ? k < ref1 : k > ref1; j = ref <= ref1 ? ++k : --k) {
      if (this.items[j]) {
        this.items[j].visible = false;
        results.push(this.items[j].update());
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  return Component_DataGridBehavior;

})(gs.Component_Visual);

ui.Component_DataGridBehavior = Component_DataGridBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsMEJBQUE7RUFBQTs7O0FBQU07QUFDRixNQUFBOzs7O0VBQU07SUFDVyxxQkFBQyxJQUFEO01BQ1QsSUFBQyxDQUFBLElBQUQsR0FBUTtNQUNSLElBQUMsQ0FBQSxRQUFELEdBQVksQ0FBQyxJQUFELEVBQU0sS0FBTixFQUFVLEtBQVYsRUFBYyxJQUFkLEVBQW1CLEtBQW5CO0lBRkg7Ozs7OztFQUdYO0lBQ1csb0JBQUMsTUFBRDtBQUNULFVBQUE7TUFBQSxJQUFDLENBQUEsTUFBRCxHQUFVLE1BQUEsSUFBVTtNQUNwQixJQUFDLENBQUEsTUFBRCxHQUFVLElBQUMsQ0FBQSxNQUFNLENBQUM7TUFDbEIsSUFBQyxDQUFBLGFBQUQsR0FBcUIsSUFBQSxLQUFBLENBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFkO0FBQ3JCLFdBQWtDLG9HQUFsQztRQUFBLElBQUMsQ0FBQSxhQUFjLENBQUEsQ0FBQSxDQUFmLEdBQW9CO0FBQXBCO0lBSlM7O3lCQU1iLEdBQUEsR0FBSyxTQUFDLE1BQUQ7QUFDRCxVQUFBO01BQUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxNQUFBLElBQVU7TUFDcEIsSUFBQyxDQUFBLE1BQUQsR0FBVSxJQUFDLENBQUEsTUFBTSxDQUFDO01BQ2xCLElBQUMsQ0FBQSxhQUFELEdBQXFCLElBQUEsS0FBQSxDQUFNLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBZDtBQUNyQjtXQUFrQyxvR0FBbEM7cUJBQUEsSUFBQyxDQUFBLGFBQWMsQ0FBQSxDQUFBLENBQWYsR0FBb0I7QUFBcEI7O0lBSkM7O3lCQU1MLE1BQUEsR0FBUSxTQUFDLEtBQUQ7QUFDSixVQUFBO01BQUEsSUFBQSxHQUFPLElBQUMsQ0FBQSxhQUFjLENBQUEsS0FBQTtNQUN0QixJQUFHLENBQUMsSUFBSjtRQUNJLElBQUEsR0FBVyxJQUFBLFdBQUEsQ0FBWSxJQUFDLENBQUEsTUFB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LENBQUEsT0FBUSxDQUFBLENBQUEsQ0FBNUIsQ0FBeEMsR0FBMEUsQ0FBQyxDQUFDLFlBQUQsR0FBZ0IsQ0FBQyxJQUFDLENBQUEsUUFBUSxDQUFDLElBQUssQ0FBQSxDQUFBLENBQWYsR0FBa0IsSUFBQyxDQUFBLE9BQVEsQ0FBQSxDQUFBLENBQTVCLENBQWpCO1FBQzNGLElBQUksQ0FBQyxPQUFMLEdBQWU7UUFDZixJQUFJLENBQUMsTUFBTCxDQUFBO1FBQ0EsSUFBSSxDQUFDLE1BQUwsQ0FBQTtRQUNBLFNBQUEsR0FYSjs7TUFhQSxDQUFBO0lBakJKO0FBbUJBO1NBQVMsaUhBQVQ7TUFDSSxJQUFHLElBQUMsQ0FBQSxLQUFNLENBQUEsQ0FBQSxDQUFWO1FBQ0ksSUFBQyxDQUFBLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFWLEdBQW9CO3FCQUNwQixJQUFDLENBQUEsS0FBTSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQVYsQ0FBQSxHQUZKO09BQUEsTUFBQTs2QkFBQTs7QUFESjs7RUEvQkk7Ozs7R0ExTTZCLEVBQUUsQ0FBQzs7QUFnUDVDLEVBQUUsQ0FBQywwQkFBSCxHQUFnQyIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0RhdGFHcmlkQmVoYXZpb3JcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9EYXRhR3JpZEJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50X1Zpc3VhbFxuICAgIGNsYXNzIERhdGFXcmFwcGVyXG4gICAgICAgIGNvbnN0cnVjdG9yOiAoZGF0YSkgLT5cbiAgICAgICAgICAgIEBkYXRhID0gZGF0YVxuICAgICAgICAgICAgQHZpZXdEYXRhID0gW3llcywgbm8sIG5vLCB5ZXMsIG5vXVxuICAgIGNsYXNzIERhdGFTb3VyY2VcbiAgICAgICAgY29uc3RydWN0b3I6IChzb3VyY2UpIC0+XG4gICAgICAgICAgICBAc291cmNlID0gc291cmNlIHx8IFtdXG4gICAgICAgICAgICBAbGVuZ3RoID0gQHNvdXJjZS5sZW5ndGhcbiAgICAgICAgICAgIEB3cmFwcGVkU291cmNlID0gbmV3IEFycmF5KEBzb3VyY2UubGVuZ3RoKVxuICAgICAgICAgICAgQHdyYXBwZWRTb3VyY2VbaV0gPSBudWxsIGZvciBpIGluIFswLi5Ad3JhcHBlZFNvdXJjZS5sZW5ndGhdXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHNldDogKHNvdXJjZSkgLT5cbiAgICAgICAgICAgIEBzb3VyY2UgPSBzb3VyY2UgfHwgW11cbiAgICAgICAgICAgIEBsZW5ndGggPSBAc291cmNlLmxlbmd0aFxuICAgICAgICAgICAgQHdyYXBwZWRTb3VyY2UgPSBuZXcgQXJyYXkoQHNvdXJjZS5sZW5ndGgpXG4gICAgICAgICAgICBAd3JhcHBlZFNvdXJjZVtpXSA9IG51bGwgZm9yIGkgaW4gWzAuLkB3cmFwcGVkU291cmNlLmxlbmd0aF1cbiAgICAgICAgICAgIFxuICAgICAgICBpdGVtQXQ6IChpbmRleCkgLT5cbiAgICAgICAgICAgIGl0ZW0gPSBAd3JhcHBlZFNvdXJjZVtpbmRleF1cbiAgICAgICAgICAgIGlmICFpdGVtXG4gICAgICAgICAgICAgICAgaXRlbSA9IG5ldyBEYXRhV3JhcHBlcihAc291cmNlW2luZGV4XSlcbiAgICAgICAgICAgICAgICBAd3JhcHBlZFNvdXJjZVtpbmRleF0gPSBpdGVtXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gaXRlbVxuICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJkYXRhU291cmNlXCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPlxuICAgICAgICAgICAgaWYgdiAhPSBAZGF0YVNvdXJjZV8uc291cmNlXG4gICAgICAgICAgICAgICAgQGRhdGFTb3VyY2VfLnNldCh2KVxuICAgICAgICAgICAgICAgIEByZXNpemUoKVxuICAgICAgICBnZXQ6IC0+IEBkYXRhU291cmNlX1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFRoZSBkYXRhLWdyaWQgYmVoYXZpb3IgY29tcG9uZW50IGRlZmluZXMgdGhlIGxvZ2ljIGZvciBhIGRhdGEtZ3JpZC4gQSBkYXRhLWdyaWRcbiAgICAqIGFsbG93cyB0byBkaXNwbGF5IGl0ZW1zIGZyb20gYSBhc3NvY2lhdGVkIGRhdGEtc291cmNlIHVzaW5nIGEgc3BlY2lmaWVkXG4gICAgKiBpdGVtLXRlbXBsYXRlLiBVbmxpa2UgYSBzdGFjay1sYXlvdXQsIGEgZGF0YS1ncmlkIGlzIG9wdGltaXplZCB0byBkaXNwbGF5IGV2ZW4gaGlnaCBhbW91bnRzIG9mIGl0ZW1zIGJ1dCB0aGV5IGFsbFxuICAgICogbmVlZCB0byB1c2UgdGhlIHNhbWUgaXRlbS10ZW1wbGF0ZSB3aXRoIHNhbWUgc2l6ZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0RhdGFHcmlkQmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAcGFyYW1zIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbXMtb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRhdGEtZ3JpZCBzZXR0aW5ncy5cbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKHBhcmFtcykgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBAcGFyYW1zID0gcGFyYW1zIHx8IHt9XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgaXRlbS10ZW1wbGF0ZSBkZXNjcmlwdG9yIHVzZWQgZm9yIGVhY2ggaXRlbSBvZiB0aGUgZGF0YS1ncmlkLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0ZW1wbGF0ZVxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHRlbXBsYXRlID0gQHBhcmFtcy50ZW1wbGF0ZVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBkYXRhLXNvdXJjZSB1c2VkIGZvciB0aGUgZGF0YS1ncmlkLiBDYW4gYmUgYW4gYXJyYXkgb3IgYSBmb3JtdWxhLlxuICAgICAgICAqIEBwcm9wZXJ0eSBkYXRhU291cmNlXG4gICAgICAgICogQHR5cGUgT2JqZWN0W118c3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAZGF0YVNvdXJjZV8gPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIHRoZSBpdGVtLW9iamVjdHMgbmVlZGVkIGZvciByZW5kZXJpbmcuIFRoZXkgYXJlIGNyZWF0ZWQgZnJvbSB0aGUgaXRlbS10ZW1wbGF0ZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaXRlbXNcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0Jhc2VbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGl0ZW1zID0gQHBhcmFtcy5pdGVtcyB8fCBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIE51bWJlcnMgb2YgY29sdW1ucy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29sdW1uc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbHVtbnMgPSBAcGFyYW1zLmNvbHVtbnMgfHwgMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgZGF0YS1ncmlkIGlzIGluaXRpYWxpemVkIGFuZCByZWFkeSBmb3IgcmVuZGVyaW5nLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbml0aWFsaXplZFxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAaW5pdGlhbGl6ZWQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIERlZmluZXMgYSBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBzcGFjaW5nIGJldHdlZW4gaXRlbXMuXG4gICAgICAgICogQHByb3BlcnR5IHNwYWNpbmdcbiAgICAgICAgKiBAZGVmYXVsdCBbMCwgMTBdICAgICAgICBcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVxuICAgICAgICAjIyNcbiAgICAgICAgQHNwYWNpbmcgPSBAcGFyYW1zLnNwYWNpbmcgfHwgWzAsIDBdXG4gICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgZXZlbnQtaGFuZGxlcnMgZm9yIG1vdXNlL3RvdWNoIGV2ZW50c1xuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBFdmVudEhhbmRsZXJzXG4gICAgIyMjIFxuICAgIHNldHVwRXZlbnRIYW5kbGVyczogLT5cbiAgICAgICAgZ3MuR2xvYmFsRXZlbnRNYW5hZ2VyLm9uIFwibW91c2VXaGVlbFwiLCA9PlxuICAgICAgICAgICAgciA9IEBvYmplY3QuZHN0UmVjdFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBSZWN0LmNvbnRhaW5zKHIueCwgci55LCByLndpZHRoLCByLmhlaWdodCwgSW5wdXQuTW91c2UueCAtIEBvYmplY3Qub3JpZ2luLngsIElucHV0Lk1vdXNlLnkgLSBAb2JqZWN0Lm9yaWdpbi55KVxuICAgICAgICAgICAgICAgIEB1cGRhdGVTY3JvbGwoKVxuICAgICAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgdGhlIGRhdGEtZ3JpZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwXG4gICAgIyMjICAgXG4gICAgc2V0dXA6IC0+XG4gICAgICAgIGlmIEBvYmplY3QuZHN0UmVjdC53aWR0aCA9PSAxIHRoZW4gcmV0dXJuXG4gICAgICAgIEBpbml0aWFsaXplZCA9IHllc1xuXG4gICAgICAgIGlmICFAdGVtcGxhdGUuc2l6ZVxuICAgICAgICAgICAgaXRlbSA9IHVpLlVJTWFuYWdlci5jcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3IoQHRlbXBsYXRlLmRlc2NyaXB0b3IsIEBvYmplY3QpXG4gICAgICAgICAgICBpdGVtLmluZGV4ID0gMFxuICAgICAgICAgICAgaXRlbS51cGRhdGUoKVxuICAgICAgICAgICAgQHRlbXBsYXRlLnNpemUgPSBbaXRlbS5kc3RSZWN0LndpZHRoLCBpdGVtLmRzdFJlY3QuaGVpZ2h0XVxuICAgICAgICAgICAgaXRlbS5kaXNwb3NlKClcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAcGFyYW1zLmRhdGFTb3VyY2UuZXhlY1xuICAgICAgICAgICAgQGRhdGFTb3VyY2VfID0gbmV3IERhdGFTb3VyY2UodWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoQG9iamVjdCwgQHBhcmFtcy5kYXRhU291cmNlKSB8fCBbXSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGRhdGFTb3VyY2VfID0gbmV3IERhdGFTb3VyY2UoQHBhcmFtcy5kYXRhU291cmNlIHx8IFtdKVxuICAgICAgICBcbiAgICAgICAgQHJlc2l6ZSgpXG4gICAgICAgIFxuICAgICAgICBAc2V0dXBFdmVudEhhbmRsZXJzKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHNjcm9sbGluZy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVNjcm9sbFxuICAgICMjI1xuICAgIHVwZGF0ZVNjcm9sbDogLT5cbiAgICAgICAgQG9iamVjdC5zY3JvbGxhYmxlSGVpZ2h0ID0gTWF0aC5tYXgoMCwgQG9iamVjdC5jb250ZW50SGVpZ2h0IC0gQG9iamVjdC5kc3RSZWN0LmhlaWdodClcbiAgICAgICAgaWYgSW5wdXQuTW91c2Uud2hlZWwgPD0gLTFcbiAgICAgICAgICAgIEBvYmplY3Quc2Nyb2xsT2Zmc2V0WSA9IE1hdGgubWF4KEBvYmplY3Quc2Nyb2xsT2Zmc2V0WSAtIElucHV0Lk1vdXNlLndoZWVsU3BlZWQgKiAwLjEsIDApXG4gICAgICAgICAgIFxuICAgICAgICBpZiBJbnB1dC5Nb3VzZS53aGVlbCA+PSAxXG4gICAgICAgICAgICBAb2JqZWN0LnNjcm9sbE9mZnNldFkgPSBNYXRoLm1pbihAb2JqZWN0LnNjcm9sbE9mZnNldFkgLSBJbnB1dC5Nb3VzZS53aGVlbFNwZWVkICogMC4xLCBAb2JqZWN0LnNjcm9sbGFibGVIZWlnaHQpXG4gICAgICAgICAgICBcbiAgICBcbiAgICAgICAgQG9iamVjdC5zY3JvbGxPZmZzZXRZID0gTWF0aC5tYXgoTWF0aC5taW4oQG9iamVjdC5zY3JvbGxPZmZzZXRZLCBAb2JqZWN0LnNjcm9sbGFibGVIZWlnaHQpLCAwKVxuICAgICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzaXplcyB0aGUgZGF0YS1ncmlkIGFuZCBjcmVhdGVzIHRoZSBuZWNlc3NhcnkgZGlzcGxheSBvYmplY3RzIGZyb20gdGhlIGRhdGEtZ3JpZCB0ZW1wbGF0ZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc2l6ZVxuICAgICMjIyAgICAgXG4gICAgcmVzaXplOiAtPlxuICAgICAgICB3aWR0aCA9IEBvYmplY3QuZHN0UmVjdC53aWR0aFxuICAgICAgICBoZWlnaHQgPSBAb2JqZWN0LmRzdFJlY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBpdGVtc1ggPSBAY29sdW1ucyB8fCAxXG4gICAgICAgIGl0ZW1zWSA9IE1hdGguY2VpbCgoaGVpZ2h0LUBzcGFjaW5nWzFdKSAvIChAdGVtcGxhdGUuc2l6ZVsxXStAc3BhY2luZ1sxXSkpICsgQGNvbHVtbnMrMVxuICAgICAgICB0b3RhbEl0ZW1zWSA9IE1hdGguY2VpbChAZGF0YVNvdXJjZS5sZW5ndGggLyBAY29sdW1ucylcbiAgICAgICAgXG4gICAgICAgIGl0ZW0/LmRpc3Bvc2UoKSBmb3IgaXRlbSBpbiBAaXRlbXNcbiAgICAgICAgQGl0ZW1zID0gW10gI25ldyBBcnJheShpdGVtc1ggKiBpdGVtc1kpXG4gICAgICAgIFxuICAgICAgICBmb3IgeSBpbiBbMC4uLml0ZW1zWV1cbiAgICAgICAgICAgIGZvciB4IGluIFswLi4uaXRlbXNYXVxuICAgICAgICAgICAgICAgIGluZGV4ICA9IHkgKiBpdGVtc1ggKyB4XG4gICAgICAgICAgICAgICAgaWYgaW5kZXggPCBAZGF0YVNvdXJjZS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHVpLlVJTWFuYWdlci5jcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3IoQHRlbXBsYXRlLmRlc2NyaXB0b3IsIEBvYmplY3QpXG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhWzBdID0gQGRhdGFTb3VyY2UuaXRlbUF0KGluZGV4KS5kYXRhICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kc3RSZWN0LnggPSBAc3BhY2luZ1swXSArIHggKiAoQHRlbXBsYXRlLnNpemVbMF0rQHNwYWNpbmdbMF0pXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZHN0UmVjdC55ID0gQHNwYWNpbmdbMV0gKyB5ICogKEB0ZW1wbGF0ZS5zaXplWzFdK0BzcGFjaW5nWzFdKVxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRzdFJlY3Qud2lkdGggPSBAdGVtcGxhdGUuc2l6ZVswXVxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRzdFJlY3QuaGVpZ2h0ID0gQHRlbXBsYXRlLnNpemVbMV1cbiAgICAgICAgICAgICAgICAgICAgaXRlbS5pbmRleCA9IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udWkudmlld0RhdGEgPSBAZGF0YVNvdXJjZS5pdGVtQXQoaW5kZXgpLnZpZXdEYXRhXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBAaXRlbXNbaXRlbS5pbmRleF0gPSBpdGVtXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QuYWRkT2JqZWN0KGl0ZW0pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIEBvYmplY3Quc2Nyb2xsYWJsZUhlaWdodCA9IEBzcGFjaW5nWzFdICsgdG90YWxJdGVtc1kgKiAoQHRlbXBsYXRlLnNpemVbMV0rQHNwYWNpbmdbMV0pIC0gaGVpZ2h0XG4gICAgICAgIEBvYmplY3Quc2Nyb2xsT2Zmc2V0WSA9IDBcbiAgICAgICAgQG9iamVjdC5jb250ZW50SGVpZ2h0ID0gQHNwYWNpbmdbMV0gKyB0b3RhbEl0ZW1zWSAqIChAdGVtcGxhdGUuc2l6ZVsxXStAc3BhY2luZ1sxXSlcblxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGRhdGEtZ3JpZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGluaXRpYWxpemVkXG4gICAgICAgICAgICBAc2V0dXAoKVxuICAgICAgICBcbiAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gQG9iamVjdC5zY3JvbGxPZmZzZXRZXG4gICAgICAgIG9mZnNldCA9IE1hdGguZmxvb3IoKHNjcm9sbE9mZnNldCkgLyAoQHRlbXBsYXRlLnNpemVbMV0rQHNwYWNpbmdbMV0pKSAqIEBjb2x1bW5zXG4gICAgICAgIGkgPSBvZmZzZXRcbiAgICAgICAgaXRlbUluZGV4ID0gMFxuICAgICAgICBpdGVtc1kgPSBNYXRoLmNlaWwoKEBvYmplY3QuZHN0UmVjdC5oZWlnaHQtQHNwYWNpbmdbMV0pIC8gIChAdGVtcGxhdGUuc2l6ZVsxXStAc3BhY2luZ1sxXSkpICogQGNvbHVtbnMgKyBAY29sdW1ucysxXG4gICAgICAgIFxuICAgICAgICB3aGlsZSBpIDwgTWF0aC5taW4ob2Zmc2V0K2l0ZW1zWSwgQGRhdGFTb3VyY2UubGVuZ3RoKVxuICAgICAgICAgICAgcm93ID0gTWF0aC5mbG9vcihpIC8gQGNvbHVtbnMpXG4gICAgICAgICAgICBjb2x1bW4gPSBpICUgQGNvbHVtbnNcbiAgICAgICAgICAgIGl0ZW0gPSBAaXRlbXNbaXRlbUluZGV4XVxuICAgICAgICAgICAgaWYgaXRlbVxuICAgICAgICAgICAgICAgIGl0ZW0uZGF0YVswXSA9IEBkYXRhU291cmNlLml0ZW1BdChpKS5kYXRhXG4gICAgICAgICAgICAgICAgaWYgQG9iamVjdC5jbGlwUmVjdFxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsaXBSZWN0ID0gQG9iamVjdC5jbGlwUmVjdFxuICAgICAgICAgICAgICAgIGl0ZW0uaW5kZXggPSBpXG4gICAgICAgICAgICAgICAgaXRlbS51aS52aWV3RGF0YSA9IEBkYXRhU291cmNlLml0ZW1BdChpKS52aWV3RGF0YVxuICAgICAgICAgICAgICAgIGl0ZW0uZHN0UmVjdC54ID0gQHNwYWNpbmdbMF0gKyBjb2x1bW4gKiAoQHRlbXBsYXRlLnNpemVbMF0rQHNwYWNpbmdbMF0pXG4gICAgICAgICAgICAgICAgaXRlbS5kc3RSZWN0LnkgPSBAc3BhY2luZ1sxXSArIChyb3ctKG9mZnNldC9AY29sdW1ucykpICogKEB0ZW1wbGF0ZS5zaXplWzFdK0BzcGFjaW5nWzFdKSArICgtc2Nyb2xsT2Zmc2V0ICUgKEB0ZW1wbGF0ZS5zaXplWzFdK0BzcGFjaW5nWzFdKSlcbiAgICAgICAgICAgICAgICBpdGVtLnZpc2libGUgPSB5ZXNcbiAgICAgICAgICAgICAgICBpdGVtLnVwZGF0ZSgpXG4gICAgICAgICAgICAgICAgaXRlbS51cGRhdGUoKVxuICAgICAgICAgICAgICAgIGl0ZW1JbmRleCsrXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgaSsrXG4gICAgICAgIFxuICAgICAgICBmb3IgaiBpbiBbaXRlbUluZGV4Li4uQGl0ZW1zLmxlbmd0aF1cbiAgICAgICAgICAgIGlmIEBpdGVtc1tqXVxuICAgICAgICAgICAgICAgIEBpdGVtc1tqXS52aXNpYmxlID0gbm9cbiAgICAgICAgICAgICAgICBAaXRlbXNbal0udXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbnVpLkNvbXBvbmVudF9EYXRhR3JpZEJlaGF2aW9yID0gQ29tcG9uZW50X0RhdGFHcmlkQmVoYXZpb3IiXX0=
//# sourceURL=Component_DataGridBehavior_159.js
(function() {


}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19
//# sourceURL=Scene_168.js
var Component_SceneBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_SceneBehavior = (function(superClass) {
  extend(Component_SceneBehavior, superClass);


  /**
  * The base class of all scene-behavior components. A scene-behavior component
  * define the logic of a single game scene. 
  *
  * @module gs
  * @class Component_SceneBehavior
  * @extends gs.Component_Container
  * @memberof gs
   */

  function Component_SceneBehavior() {
    Component_SceneBehavior.__super__.constructor.call(this);
    this.loadingScreenVisible = false;
  }


  /**
  * Initializes the scene. 
  *
  * @method initialize
  * @abstract
   */

  Component_SceneBehavior.prototype.initialize = function() {};


  /**
  * Disposes the scene.
  *
  * @method dispose
   */

  Component_SceneBehavior.prototype.dispose = function() {
    var ref;
    ResourceManager.dispose();
    return (ref = this.object.events) != null ? ref.emit("dispose", this.object) : void 0;
  };


  /**
  * Prepares all visual game object for the scene.
  *
  * @method prepareVisual
  * @abstract
   */

  Component_SceneBehavior.prototype.prepareVisual = function() {};


  /**
  * Prepares all data for the scene and loads the necessary graphic and audio resources.
  *
  * @method prepareData
  * @abstract
   */

  Component_SceneBehavior.prototype.prepareData = function() {};


  /**
  * Prepares for a screen-transition.
  *
  * @method prepareTransition
  * @param {Object} transitionData - Object containing additional data for the transition 
  * like graphic, duration and vague.
   */

  Component_SceneBehavior.prototype.prepareTransition = function(transitionData) {
    var ref;
    if ((transitionData != null ? (ref = transitionData.graphic) != null ? ref.name.length : void 0 : void 0) > 0) {
      return ResourceManager.getBitmap("Graphics/Masks/" + transitionData.graphic.name);
    }
  };


  /**
  * Executes a screen-transition.
  *
  * @method transition
  * @param {Object} transitionData - Object containing additional data for the transition 
  * like graphic, duration and vague.
   */

  Component_SceneBehavior.prototype.transition = function(transitionData) {
    var ref;
    if ($PARAMS.preview) {
      return Graphics.transition(0);
    } else {
      transitionData = transitionData || SceneManager.transitionData;
      if ((transitionData != null ? (ref = transitionData.graphic) != null ? ref.name.length : void 0 : void 0) > 0) {
        return Graphics.transition(transitionData.duration, ResourceManager.getBitmap("Graphics/Masks/" + transitionData.graphic.name), transitionData.vague || 30);
      } else {
        return Graphics.transition(transitionData.duration);
      }
    }
  };


  /**
  * Update the scene's content.
  *
  * @method updateContent
  * @abstract
   */

  Component_SceneBehavior.prototype.updateContent = function() {};


  /**
  * Called once per frame while a scene is loading. Can be used to display
  * loading-message/animation.
  *
  * @method loading
   */

  Component_SceneBehavior.prototype.loading = function() {
    if (this.loadingBackgroundSprite == null) {
      this.loadingBackgroundSprite = new Sprite();
      if (Graphics.frozen) {
        return this.transition({
          duration: 0
        });
      }
    }
  };


  /**
  * Update the scene.
  *
  * @method update
   */

  Component_SceneBehavior.prototype.update = function() {
    Component_SceneBehavior.__super__.update.call(this);
    if (DataManager.documentsLoaded) {
      if (this.object.loadingData && !this.object.initialized) {
        this.prepareData();
      }
      this.object.loadingData = !DataManager.documentsLoaded;
    }
    if (!this.object.loadingData && ResourceManager.resourcesLoaded) {
      if (this.object.loadingResources && !this.object.initialized) {
        if (!this.loadingScreenVisible) {
          this.prepareVisual();
        }
        this.object.initialized = true;
      }
      this.object.loadingResources = false;
    }
    if (ResourceManager.resourcesLoaded && DataManager.documentsLoaded) {
      this.object.loading = false;
      if (Graphics.frozen && this.object.preparing) {
        return Graphics.update();
      } else {
        if (this.loadingScreenVisible) {
          if (this.object.loaded) {
            this.loadingScreenVisible = false;
            this.object.loaded = true;
            return this.updateContent();
          } else {
            if (!Graphics.frozen) {
              Graphics.freeze();
            }
            this.object.loaded = true;
            this.prepareVisual();
            this.loadingScreenVisible = false;
            Graphics.update();
            return Input.update();
          }
        } else {
          this.object.preparing = false;
          Graphics.update();
          this.updateContent();
          return Input.update();
        }
      }
    } else {
      this.loadingScreenVisible = true;
      Graphics.update();
      Input.update();
      return this.loading();
    }
  };

  return Component_SceneBehavior;

})(gs.Component_Container);

gs.Component_SceneBehavior = Component_SceneBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGlDQUFBO0lBQ1QsdURBQUE7SUFFQSxJQUFDLENBQUEsb0JBQUQsR0FBd0I7RUFIZjs7O0FBS2I7Ozs7Ozs7b0NBTUEsVUFBQSxHQUFZLFNBQUEsR0FBQTs7O0FBRVo7Ozs7OztvQ0FLQSxPQUFBLEdBQVMsU0FBQTtBQUNMLFFBQUE7SUFBQSxlQUFlLENBQUMsT0FBaEIsQ0FBQTttREFDYyxDQUFFLElBQWhCLENBQXFCLFNBQXJCLEVBQWdDLElBQUMsQ0FBQSxNQUFqQztFQUZLOzs7QUFLVDs7Ozs7OztvQ0FNQSxhQUFBLEdBQWUsU0FBQSxHQUFBOzs7QUFFZjs7Ozs7OztvQ0FNQSxXQUFBLEdBQWEsU0FBQSxHQUFBOzs7QUFFYjs7Ozs7Ozs7b0NBT0EsaUJBQUEsR0FBbUIsU0FBQyxjQUFEO0FBQ2YsUUFBQTtJQUFBLDBFQUEwQixDQUFFLElBQUksQ0FBQyx5QkFBOUIsR0FBdUMsQ0FBMUM7YUFDSSxlQUFlLENBQUMsU0FBaEIsQ0FBMEIsaUJBQUEsR0FBa0IsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFuRSxFQURKOztFQURlOzs7QUFJbkI7Ozs7Ozs7O29DQU9BLFVBQUEsR0FBWSxTQUFDLGNBQUQ7QUFDUixRQUFBO0lBQUEsSUFBRyxPQUFPLENBQUMsT0FBWDthQUNJLFFBQVEsQ0FBQyxVQUFULENBQW9CLENBQXBCLEVBREo7S0FBQSxNQUFBO01BR0ksY0FBQSxHQUFpQixjQUFBLElBQWtCLFlBQVksQ0FBQztNQUNoRCwwRUFBMEIsQ0FBRSxJQUFJLENBQUMseUJBQTlCLEdBQXVDLENBQTFDO2VBQ0ksUUFBUSxDQUFDLFVBQVQsQ0FBb0IsY0FBYyxDQUFDLFFBQW5DLEVBQTZDLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixpQkFBQSxHQUFrQixjQUFjLENBQUMsT0FBTyxDQUFD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PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9TY2VuZUJlaGF2aW9yXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfU2NlbmVCZWhhdmlvciBleHRlbmRzIGdzLkNvbXBvbmVudF9Db250YWluZXJcbiAgICAjIyMqXG4gICAgKiBUaGUgYmFzZSBjbGFzcyBvZiBhbGwgc2NlbmUtYmVoYXZpb3IgY29tcG9uZW50cy4gQSBzY2VuZS1iZWhhdmlvciBjb21wb25lbnRcbiAgICAqIGRlZmluZSB0aGUgbG9naWMgb2YgYSBzaW5nbGUgZ2FtZSBzY2VuZS4gXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9TY2VuZUJlaGF2aW9yXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfQ29udGFpbmVyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgQGxvYWRpbmdTY3JlZW5WaXNpYmxlID0gbm9cblxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBzY2VuZS4gXG4gICAgKlxuICAgICogQG1ldGhvZCBpbml0aWFsaXplXG4gICAgKiBAYWJzdHJhY3RcbiAgICAjIyNcbiAgICBpbml0aWFsaXplOiAtPlxuICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgdGhlIHNjZW5lLlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjIyAgXG4gICAgZGlzcG9zZTogLT5cbiAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKVxuICAgICAgICBAb2JqZWN0LmV2ZW50cz8uZW1pdChcImRpc3Bvc2VcIiwgQG9iamVjdClcbiAgICAgICAgXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcyBhbGwgdmlzdWFsIGdhbWUgb2JqZWN0IGZvciB0aGUgc2NlbmUuXG4gICAgKlxuICAgICogQG1ldGhvZCBwcmVwYXJlVmlzdWFsXG4gICAgKiBAYWJzdHJhY3RcbiAgICAjIyMgIFxuICAgIHByZXBhcmVWaXN1YWw6IC0+XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFByZXBhcmVzIGFsbCBkYXRhIGZvciB0aGUgc2NlbmUgYW5kIGxvYWRzIHRoZSBuZWNlc3NhcnkgZ3JhcGhpYyBhbmQgYXVkaW8gcmVzb3VyY2VzLlxuICAgICpcbiAgICAqIEBtZXRob2QgcHJlcGFyZURhdGFcbiAgICAqIEBhYnN0cmFjdFxuICAgICMjIyBcbiAgICBwcmVwYXJlRGF0YTogLT5cbiAgICAgXG4gICAgIyMjKlxuICAgICogUHJlcGFyZXMgZm9yIGEgc2NyZWVuLXRyYW5zaXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBwcmVwYXJlVHJhbnNpdGlvblxuICAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zaXRpb25EYXRhIC0gT2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBkYXRhIGZvciB0aGUgdHJhbnNpdGlvbiBcbiAgICAqIGxpa2UgZ3JhcGhpYywgZHVyYXRpb24gYW5kIHZhZ3VlLlxuICAgICMjIyAgICBcbiAgICBwcmVwYXJlVHJhbnNpdGlvbjogKHRyYW5zaXRpb25EYXRhKSAtPlxuICAgICAgICBpZiB0cmFuc2l0aW9uRGF0YT8uZ3JhcGhpYz8ubmFtZS5sZW5ndGggPiAwXG4gICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3t0cmFuc2l0aW9uRGF0YS5ncmFwaGljLm5hbWV9XCIpXG4gICAgXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBzY3JlZW4tdHJhbnNpdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRyYW5zaXRpb25cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2l0aW9uRGF0YSAtIE9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIHRyYW5zaXRpb24gXG4gICAgKiBsaWtlIGdyYXBoaWMsIGR1cmF0aW9uIGFuZCB2YWd1ZS5cbiAgICAjIyMgICAgICAgICBcbiAgICB0cmFuc2l0aW9uOiAodHJhbnNpdGlvbkRhdGEpIC0+XG4gICAgICAgIGlmICRQQVJBTVMucHJldmlld1xuICAgICAgICAgICAgR3JhcGhpY3MudHJhbnNpdGlvbigwKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0cmFuc2l0aW9uRGF0YSA9IHRyYW5zaXRpb25EYXRhIHx8IFNjZW5lTWFuYWdlci50cmFuc2l0aW9uRGF0YVxuICAgICAgICAgICAgaWYgdHJhbnNpdGlvbkRhdGE/LmdyYXBoaWM/Lm5hbWUubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgIEdyYXBoaWNzLnRyYW5zaXRpb24odHJhbnNpdGlvbkRhdGEuZHVyYXRpb24sIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9NYXNrcy8je3RyYW5zaXRpb25EYXRhLmdyYXBoaWMubmFtZX1cIiksIHRyYW5zaXRpb25EYXRhLnZhZ3VlIHx8IDMwKVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEdyYXBoaWNzLnRyYW5zaXRpb24odHJhbnNpdGlvbkRhdGEuZHVyYXRpb24pXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlIHRoZSBzY2VuZSdzIGNvbnRlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb250ZW50XG4gICAgKiBAYWJzdHJhY3RcbiAgICAjIyMgICAgICAgICBcbiAgICB1cGRhdGVDb250ZW50OiAtPlxuICAgIFxuICAgICMjIypcbiAgICAqIENhbGxlZCBvbmNlIHBlciBmcmFtZSB3aGlsZSBhIHNjZW5lIGlzIGxvYWRpbmcuIENhbiBiZSB1c2VkIHRvIGRpc3BsYXlcbiAgICAqIGxvYWRpbmctbWVzc2FnZS9hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkaW5nXG4gICAgIyMjIFxuICAgIGxvYWRpbmc6IC0+XG4gICAgICAgIGlmIG5vdCBAbG9hZGluZ0JhY2tncm91bmRTcHJpdGU/XG4gICAgICAgICAgICBAbG9hZGluZ0JhY2tncm91bmRTcHJpdGUgPSBuZXcgU3ByaXRlKClcbiAgICAgICAgICAgIGlmIEdyYXBoaWNzLmZyb3plbiB0aGVuIEB0cmFuc2l0aW9uKHsgZHVyYXRpb246IDAgfSlcblxuICAgICMjIypcbiAgICAqIFVwZGF0ZSB0aGUgc2NlbmUuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBpZiBEYXRhTWFuYWdlci5kb2N1bWVudHNMb2FkZWRcbiAgICAgICAgICAgIGlmIEBvYmplY3QubG9hZGluZ0RhdGEgYW5kIG5vdCBAb2JqZWN0LmluaXRpYWxpemVkIHRoZW4gQHByZXBhcmVEYXRhKClcbiAgICAgICAgICAgIEBvYmplY3QubG9hZGluZ0RhdGEgPSAhRGF0YU1hbmFnZXIuZG9jdW1lbnRzTG9hZGVkXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQG9iamVjdC5sb2FkaW5nRGF0YSBhbmQgUmVzb3VyY2VNYW5hZ2VyLnJlc291cmNlc0xvYWRlZFxuICAgICAgICAgICAgaWYgQG9iamVjdC5sb2FkaW5nUmVzb3VyY2VzIGFuZCBub3QgQG9iamVjdC5pbml0aWFsaXplZFxuICAgICAgICAgICAgICAgIGlmIG5vdCBAbG9hZGluZ1NjcmVlblZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgQHByZXBhcmVWaXN1YWwoKSBcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmluaXRpYWxpemVkID0geWVzXG4gICAgICAgICAgICBAb2JqZWN0LmxvYWRpbmdSZXNvdXJjZXMgPSBmYWxzZVxuICAgIFxuICAgICAgICBpZiBSZXNvdXJjZU1hbmFnZXIucmVzb3VyY2VzTG9hZGVkIGFuZCBEYXRhTWFuYWdlci5kb2N1bWVudHNMb2FkZWRcbiAgICAgICAgICAgIEBvYmplY3QubG9hZGluZyA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICAgICAgaWYgR3JhcGhpY3MuZnJvemVuIGFuZCBAb2JqZWN0LnByZXBhcmluZ1xuICAgICAgICAgICAgICAgIEdyYXBoaWNzLnVwZGF0ZSgpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaWYgQGxvYWRpbmdTY3JlZW5WaXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmIEBvYmplY3QubG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBAbG9hZGluZ1NjcmVlblZpc2libGUgPSBub1xuICAgICAgICAgICAgICAgICAgICAgICAgQG9iamVjdC5sb2FkZWQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIEB1cGRhdGVDb250ZW50KClcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IEdyYXBoaWNzLmZyb3plbiB0aGVuIEdyYXBoaWNzLmZyZWV6ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBAb2JqZWN0LmxvYWRlZCA9IHllc1xuICAgICAgICAgICAgICAgICAgICAgICAgQHByZXBhcmVWaXN1YWwoKSBcbiAgICAgICAgICAgICAgICAgICAgICAgIEBsb2FkaW5nU2NyZWVuVmlzaWJsZSA9IG5vXG4gICAgICAgICAgICAgICAgICAgICAgICBHcmFwaGljcy51cGRhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXQudXBkYXRlKClcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QucHJlcGFyaW5nID0gbm9cbiAgICAgICAgICAgICAgICAgICAgR3JhcGhpY3MudXBkYXRlKClcbiAgICAgICAgICAgICAgICAgICAgQHVwZGF0ZUNvbnRlbnQoKVxuICAgICAgICAgICAgICAgICAgICBJbnB1dC51cGRhdGUoKVxuXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBsb2FkaW5nU2NyZWVuVmlzaWJsZSA9IHllc1xuICAgICAgICAgICAgR3JhcGhpY3MudXBkYXRlKClcbiAgICAgICAgICAgIElucHV0LnVwZGF0ZSgpXG4gICAgICAgICAgICBAbG9hZGluZygpXG4gICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X1NjZW5lQmVoYXZpb3IgPSBDb21wb25lbnRfU2NlbmVCZWhhdmlvciJdfQ==
//# sourceURL=Component_SceneBehavior_15.js
var Component_LayoutSceneBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_LayoutSceneBehavior = (function(superClass) {
  extend(Component_LayoutSceneBehavior, superClass);


  /**
  * The base class of all scene-behavior components. A scene-behavior component
  * define the logic of a single game scene. 
  *
  * @module gs
  * @class Component_LayoutSceneBehavior
  * @extends gs.Component_SceneBehavior
  * @memberof gs
   */

  function Component_LayoutSceneBehavior() {
    Component_LayoutSceneBehavior.__super__.constructor.call(this);
    this.objectManager = SceneManager;
    this.layout = null;
  }


  /**
  * Initializes the scene. 
  *
  * @method initialize
   */

  Component_LayoutSceneBehavior.prototype.initialize = function() {
    Component_LayoutSceneBehavior.__super__.initialize.apply(this, arguments);
    if (this.object.layoutData == null) {
      this.object.layoutData = {
        "type": "ui.FreeLayout",
        "controls": [],
        "frame": [0, 0, 1, 1]
      };
    }
    return LanguageManager.loadBundles();
  };


  /**
  * Disposes the scene. 
  *
  * @method dispose
   */

  Component_LayoutSceneBehavior.prototype.dispose = function() {
    return Component_LayoutSceneBehavior.__super__.dispose.apply(this, arguments);
  };


  /**
  * Prepares all data for the scene and loads the necessary graphic and audio resources.
  *
  * @method prepareData
  * @abstract
   */

  Component_LayoutSceneBehavior.prototype.prepareData = function() {
    gs.ObjectManager.current = this.objectManager;
    if (!GameManager.initialized) {
      GameManager.initialize();
    }
    this.dataFields = ui.UiFactory.dataSources[this.object.layoutData.dataSource || "default"]();
    window.$dataFields = this.dataFields;
    this.music = ui.Component_FormulaHandler.fieldValue(this.object, this.object.layoutData.music);
    AudioManager.loadMusic(this.music);
    this.prepareTransition(RecordManager.system.menuTransition);
    ResourceLoader.loadUiTypesGraphics(ui.UiFactory.customTypes);
    ResourceLoader.loadUiLayoutGraphics(this.object.layoutData);
    if (this.dataFields != null) {
      ResourceLoader.loadUiDataFieldsGraphics(this.dataFields);
    }
    return ResourceManager.getBitmap("Graphics/Characters/JaneDate_Normal");
  };


  /**
  * Prepares all visual game object for the scene.
  *
  * @method prepareVisual
   */

  Component_LayoutSceneBehavior.prototype.prepareVisual = function() {
    var scale, vocab;
    scale = Graphics.scale;
    vocab = RecordManager.vocabulary;
    if (this.layout == null) {
      this.dataObject = {};
      this.layout = ui.UiFactory.createFromDescriptor(this.object.layoutData, this.object);
      if (this.music != null) {
        AudioManager.changeMusic(this.music, 30);
      }
    }
    this.layout.ui.prepare();
    return this.transition();
  };


  /**
  * Updates the scene's content.
  *
  * @method updateContent
   */

  Component_LayoutSceneBehavior.prototype.updateContent = function() {
    GameManager.update();
    return Graphics.viewport.update();
  };


  /**
  * Shows/Hides the current scene. A hidden scene is no longer shown and executed
  * but all objects and data is still there and be shown again anytime.
  *
  * @method show
  * @param {boolean} visible - Indicates if the scene should be shown or hidden.
   */

  Component_LayoutSceneBehavior.prototype.show = function(visible) {
    this.layout.visible = visible;
    this.layout.update();
    this.objectManager.active = visible;
    if (visible) {
      return gs.ObjectManager.current = SceneManager;
    }
  };


  /**
  * Action method which triggers a full refresh on the object returned by the specified binding-expression.
  * The params must be a direct binding-expression string.
  *
  * @method fullRefreshObject
  * @param {gs.Object_Base} sender - The sender object.
  * @param {string} params -  The binding expression.
   */

  Component_LayoutSceneBehavior.prototype.fullRefreshObject = function(sender, object) {
    object = ui.Component_FormulaHandler.fieldValue(sender, object);
    return object != null ? object.fullRefresh() : void 0;
  };


  /**
  * Action method which triggers a refresh on the object returned by the specified binding-expression.
  * The params must be a direct binding-expression string.
  *
  * @method refreshObject
  * @param {gs.Object_Base} sender - The sender object.
  * @param {string} params -  The binding expression.
   */

  Component_LayoutSceneBehavior.prototype.refreshObject = function(sender, object) {
    object = ui.Component_FormulaHandler.fieldValue(sender, object);
    return object != null ? object.needsUpdate = true : void 0;
  };

  Component_LayoutSceneBehavior.prototype.addStyle = function(sender, style) {
    var styleObject;
    styleObject = ui.UIManager.styles[style];
    if (styleObject != null) {
      styleObject.apply(sender);
    }
    sender.needsUpdate = true;
    if (styleObject != null ? styleObject.font : void 0) {
      return sender.behavior.refresh();
    }
  };

  Component_LayoutSceneBehavior.prototype.removeStyle = function(sender, style) {
    var i, len, ref, ref1, s, styleObject;
    styleObject = ui.UIManager.styles[style];
    if (styleObject != null) {
      styleObject.revert(sender);
    }
    sender.descriptor.styles.remove(style);
    ref = sender.descriptor.styles;
    for (i = 0, len = ref.length; i < len; i++) {
      s = ref[i];
      if ((ref1 = ui.UIManager.styles[s]) != null) {
        ref1.apply(sender);
      }
    }
    sender.needsUpdate = true;
    if (styleObject != null ? styleObject.font : void 0) {
      return sender.behavior.refresh();
    }
  };


  /**
  * Action method which executes the specified bindings.
  *
  * @method executeBindings
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object[]} params -  An array of binding-definitions.
   */

  Component_LayoutSceneBehavior.prototype.executeBindings = function(sender, bindings) {
    var binding, i, len;
    for (i = 0, len = bindings.length; i < len; i++) {
      binding = bindings[i];
      ui.Component_FormulaHandler.executeBinding(sender, binding);
    }
    return null;
  };


  /**
  * Action method which executes the specified formulas.
  *
  * @method executeFormulas
  * @param {gs.Object_Base} sender - The sender object.
  * @param {ui.Formula[]} params -  An array of formula-definitions.
   */

  Component_LayoutSceneBehavior.prototype.executeFormulas = function(sender, formulas) {
    var formula, i, len, results;
    results = [];
    for (i = 0, len = formulas.length; i < len; i++) {
      formula = formulas[i];
      results.push(ui.Component_FormulaHandler.executeFormula(sender, formula));
    }
    return results;
  };


  /**
  * Action method which executes animations on a specified target game object.
  *
  * @method executeAnimations
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params -  Contains target-id and animations: { target, animations }
   */

  Component_LayoutSceneBehavior.prototype.executeAnimations = function(sender, params) {};


  /**
  * Action method which emits the specified event.
  *
  * @method emitEvent
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains event name, source and data.
  * <ul>
  * <li>params.name - The name of the event to emit</li>
  * <li>params.source - A binding-expression to define the game object which should emit the event.</li>
  * <li>params.data - An object containing additional event specific data.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.emitEvent = function(sender, params) {
    var object;
    object = ui.Component_FormulaHandler.fieldValue(sender, params.source);
    return object != null ? object.events.emit(params.name, object, ui.Component_FormulaHandler.fieldValue(sender, params.data)) : void 0;
  };


  /**
  * Action method which changes the game's aspect ratio.
  *
  * @method executeBindings
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean} params -  If <b>true</b> the game screen will stretched so that it fills the entire screen
  * of the player without any black borders. Otherwise the game screen stretches but keeps its ratio
  * so black borders are possible if the game resolution's ratio and the target display's ratio are not match. It can also
  * be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.adjustAspectRatio = function(sender, adjust) {
    adjust = ui.Component_FormulaHandler.fieldValue(sender, adjust);
    GameManager.settings.adjustAspectRatio = adjust;
    Graphics.keepRatio = !adjust;
    return Graphics.onResize();
  };


  /**
  * Action method which enters fullscreen mode.
  *
  * @method enterFullScreen
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean} params - Can be <b>null</b>
   */

  Component_LayoutSceneBehavior.prototype.enterFullScreen = function(sender, params) {
    gs.Graphics.enterFullscreen();
    return GameManager.settings.fullScreen = true;
  };


  /**
  * Action method which leaves fullscreen mode.
  *
  * @method leaveFullScreen
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean} params - Can be <b>null</b>
   */

  Component_LayoutSceneBehavior.prototype.leaveFullScreen = function() {
    gs.Graphics.leaveFullscreen();
    return GameManager.settings.fullScreen = false;
  };


  /**
  * Action method which toggles between window and fullscreen mode.
  *
  * @method toggleFullScreen
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>
   */

  Component_LayoutSceneBehavior.prototype.toggleFullScreen = function(sender, params) {
    var win;
    if (window.require && !$PARAMS.platform.isSteamOS) {
      win = nw.Window.get();
      win.toggleFullscreen();
      return GameManager.settings.fullScreen = win.isFullscreen;
    }
  };


  /**
  * Action method which plays the specified sound.
  *
  * @method playSound
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - The sound to play.
   */

  Component_LayoutSceneBehavior.prototype.playSound = function(sender, params) {
    AudioManager.loadSound(params);
    return AudioManager.playSound(params);
  };


  /**
  * Action method which plays the specified voice.
  *
  * @method playVoice
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - The voice to play.
   */

  Component_LayoutSceneBehavior.prototype.playVoice = function(sender, params) {
    AudioManager.loadSound(params);
    return AudioManager.playVoice(params);
  };


  /**
  * Action method which turns voice on or off.
  *
  * @method turnOnOffVoice
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - If <b>true</b> voice will be turned on. Otherwise it will be turned off. Can also be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.turnOnOffVoice = function(sender, state) {
    if (ui.Component_FormulaHandler.fieldValue(sender, state)) {
      return this.turnOnVoice();
    } else {
      return this.turnOffVoice();
    }
  };


  /**
  * Action method which turns music on or off.
  *
  * @method turnOnOffMusic
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - If <b>true</b> music will be turned on. Otherwise it will be turned off. Can also be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.turnOnOffMusic = function(sender, state) {
    if (ui.Component_FormulaHandler.fieldValue(sender, state)) {
      return this.turnOnMusic();
    } else {
      return this.turnOffMusic();
    }
  };


  /**
  * Action method which turns sound on or off.
  *
  * @method turnOnOffSound
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - If <b>true</b> sound will be turned on. Otherwise it will be turned off. Can also be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.turnOnOffSound = function(sender, state) {
    if (ui.Component_FormulaHandler.fieldValue(sender, state)) {
      return this.turnOnSound();
    } else {
      return this.turnOffSound();
    }
  };


  /**
  * Action method which turns off voice.
  *
  * @method turnOffVoice
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOffVoice = function() {
    return AudioManager.stopAllVoices();
  };


  /**
  * Action method which turns off music.
  *
  * @method turnOffMusic
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOffMusic = function() {
    return AudioManager.stopMusic();
  };


  /**
  * Action method which turns off sound.
  *
  * @method turnOffSound
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOffSound = function() {
    return AudioManager.stopAllSounds();
  };


  /**
  * Action method which turns on voice.
  *
  * @method turnOnVoice
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOnVoice = function() {};


  /**
  * Action method which turns on sound.
  *
  * @method turnOnSound
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOnSound = function() {};


  /**
  * Action method which turns on music.
  *
  * @method turnOnMusic
  * @param {gs.Object_Base} sender - The sender object.
  * @param {boolean|string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.turnOnMusic = function() {
    return AudioManager.resumeMusic();
  };


  /**
  * Action method which selects the specified language.
  *
  * @method selectLanguage
  * @param {gs.Object_Base} sender - The sender object.
  * @param {number|string} params - Index of the language to set. Can be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.selectLanguage = function(sender, params) {
    var language;
    language = LanguageManager.languages[ui.Component_FormulaHandler.fieldValue(sender, params)];
    return LanguageManager.selectLanguage(language);
  };


  /**
  * Action method which resets global data storage.
  *
  * @method resetGlobalData
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.resetGlobalData = function(sender) {
    return GameManager.resetGlobalData();
  };


  /**
  * Action method which saves game settings.
  *
  * @method resetGlobalData
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.saveSettings = function(sender) {
    return GameManager.saveSettings();
  };


  /**
  * Action method which prepares the game for saving by taking a snapshot of the current game state
  * and storing it in GameManager.saveGame.
  *
  * @method prepareSaveGame
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.prepareSaveGame = function(sender, params) {
    return GameManager.prepareSaveGame(params != null ? params.snapshot : void 0);
  };


  /**
  * Action method which saves the current game at the specified save slot.
  *
  * @method saveGame
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains the slot-index where the game should be saved.
  * <ul>
  * <li>params.slot - The slot-index where the game should be saved. Can be a binding-expression.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.saveGame = function(sender, params) {
    return GameManager.save(ui.Component_FormulaHandler.fieldValue(sender, params.slot));
  };


  /**
  * Action method which loads the game from the specified save slot.
  *
  * @method loadGame
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains the slot-index where the game should be loaded from.
  * <ul>
  * <li>params.slot - The slot-index where the game should be loaded from. Can be a binding-expression.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.loadGame = function(sender, params) {
    GameManager.tempSettings.skip = false;
    return GameManager.load(ui.Component_FormulaHandler.fieldValue(sender, params.slot));
  };


  /**
  * Action method which starts a new game.
  *
  * @method newGame
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Can be <b>null</b>
   */

  Component_LayoutSceneBehavior.prototype.newGame = function(sender, params) {
    var scene;
    AudioManager.stopAllMusic(30);
    GameManager.newGame();
    scene = new vn.Object_Scene();
    return SceneManager.switchTo(scene);
  };


  /**
  * Action method which switches to another scene.
  *
  * @method switchScene
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains the class name of the scene to switch to.
  * <ul>
  * <li>params.name - The class-name of the scene to switch to. The class must be defined in vn-namespace.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.switchScene = function(sender, params) {
    var scene;
    if (params.clear) {
      SceneManager.clear();
    }
    scene = new vn[params.name]();
    return SceneManager.switchTo(scene);
  };


  /**
  * Action method which switches to another game scene.
  *
  * @method switchGameScene
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains the UID of the scene to switch to.
  * <ul>
  * <li>params.uid - The UID of the scene to switch to.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.switchGameScene = function(sender, params) {
    var newScene, sceneData, sceneDocument, sceneDocuments, uid;
    if (params.clear) {
      SceneManager.clear();
    }
    uid = params.uid;
    if (params.name) {
      sceneDocuments = DataManager.getDocumentsByType("vn.scene");
      sceneDocument = sceneDocuments.first(function(d) {
        return d.items.name === params.name;
      });
      if (sceneDocument) {
        uid = sceneDocument.uid;
      }
    }
    sceneData = {
      uid: uid,
      pictures: [],
      texts: []
    };
    GameManager.sceneData = sceneData;
    newScene = new vn.Object_Scene();
    newScene.sceneData = sceneData;
    return SceneManager.switchTo(newScene);
  };


  /**
  * Action method which switches to another layout.
  *
  * @method switchLayout
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Contains the name of the layout to switch to.
  * <ul>
  * <li>params.name - The name of the layout to switch to.</li>
  * <li>params.savePrevious - Indicates if the current layout should not be erased but paused and hidden instead so
  * that it can be restored using <i>returnToPrevious</i> action.</li>
  * <li>params.dataFields - Defines the data of "$dataFields" binding-expression variable. Can be a binding-expression
  * or a direct object. Optional.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.switchLayout = function(sender, layout) {
    var dataFields, i, len, ref, scene, senderField;
    Graphics.freeze();
    if (layout.clear) {
      SceneManager.clear();
    }
    scene = new gs.Object_Layout(layout.name);
    dataFields = sender.dataFields;
    if (typeof layout.dataFields === "string") {
      dataFields = ui.Component_FormulaHandler.fieldValue(sender, layout.dataFields);
    } else if (layout.dataFields != null) {
      dataFields = layout.dataFields;
    }
    scene.dataFields = dataFields;
    scene.controllers = layout.controllers;
    if (layout.senderData != null) {
      ref = layout.senderData;
      for (i = 0, len = ref.length; i < len; i++) {
        senderField = ref[i];
        scene[senderField] = sender[senderField];
      }
    }
    return SceneManager.switchTo(scene, layout.savePrevious, layout.stack);
  };


  /**
  * Action method which returns to previous layout. (If savePrevious was set to <b>true</b> on switchLayout.).
  *
  * @method previousLayout
  * @param {gs.Object_Base} sender - The sender object.
  * @param {Object} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.previousLayout = function(sender) {
    return SceneManager.returnToPrevious();
  };


  /**
  * Action method which disposes the specified control.
  *
  * @method disposeControl
  * @param {gs.Object_Base} sender - The sender object.
  * @param {string} params - The ID of the control to dispose. Can be a binding-expression.
   */

  Component_LayoutSceneBehavior.prototype.disposeControl = function(sender, id) {
    var control;
    control = this.objectManager.objectById(ui.Component_FormulaHandler.fieldValue(sender, id));
    return control != null ? control.dispose() : void 0;
  };


  /**
  * Action method which creates a new control from the specified descriptor.
  *
  * @method createControl
  * @param {gs.Object_Base} sender - The sender object.
  * @param {string} params - Contains the descriptor and other data needed to construct the control.
  * <ul>
  * <li>params.descriptor - The control' descriptor. Can be a direct descriptor definition or a template name</li>
  * <li>params.parent - A binding-expression which returns the control's parent.</li>
  * <li>params.senderData - An object containing additional data merged into the control object.</li>
  * </ul>
   */

  Component_LayoutSceneBehavior.prototype.createControl = function(sender, data) {
    var control, descriptor, fieldName, i, len, parent, ref;
    if (typeof data.descriptor === "string") {
      descriptor = ui.UIManager.customTypes[data.descriptor];
    } else {
      descriptor = data.descriptor;
    }
    parent = ui.Component_FormulaHandler.fieldValue(sender, data.parent);
    control = ui.UiFactory._createFromDescriptor(descriptor, parent != null ? parent : this.object);
    if (data.senderData != null) {
      ref = data.senderData;
      for (i = 0, len = ref.length; i < len; i++) {
        fieldName = ref[i];
        control[fieldName] = sender[fieldName];
      }
    }
    control.ui.prepare();
    return control;
  };


  /**
  * Action method which quits the game.
  *
  * @method quitGame
  * @param {gs.Object_Base} sender - The sender object.
  * @param {string} params - Can be <b>null</b>.
   */

  Component_LayoutSceneBehavior.prototype.quitGame = function(sender, data) {
    SceneManager.switchTo(null);
    if (window.require) {
      return require("nw.gui").App.quit();
    }
  };

  return Component_LayoutSceneBehavior;

})(gs.Component_SceneBehavior);

gs.Component_LayoutSceneBehavior = Component_LayoutSceneBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsNkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFFRjs7Ozs7Ozs7OztFQVNhLHVDQUFBO0lBQ1QsNkRBQUE7SUFFQSxJQUFDLENBQUEsYUFBRCxHQUFpQjtJQUNqQixJQUFDLENBQUEsTUFBRCxHQUFVO0VBSkQ7OztBQU1iOzs7Ozs7MENBS0EsVUFBQSxHQUFZLFNBQUE7SUFDUiwrREFBQSxTQUFBO0lBRUEsSUFBTyw4QkFBUDtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBUixHQUFxQjtRQUFFLE1BQUEsRUFBUSxlQUFWO1FBQTJCLFVBQUEsRUFBWSxFQUF2QztRQUEyQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQXBEO1FBRHpCOztXQUdBLGVBQWUsQ0FBQyxXQUFoQixDQUFBO0VBTlE7OztBQVFaOzs7Ozs7MENBS0EsT0FBQSxHQUFTLFNBQUE7V0FDTCw0REFBQSxTQUFBO0VBREs7OztBQU1UOzs7Ozs7OzBDQU1BLFdBQUEsR0FBYSxTQUFBO0lBQ1QsRUFBRSxDQUFDLGFBQWEsQ0FBQyxPQUFqQixHQUEyQixJQUFDLENBQUE7SUFFNUIsSUFBRyxDQUFJLFdBQVcsQ0FBQyxXQUFuQjtNQUNJLFdBQVcsQ0FBQyxVQUFaLENBQUEsRUFESjs7SUFJQSxJQUFDLENBQUEsVUFBRCxHQUFjLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLFVBQW5CLElBQWlDLFNBQWpDLENBQXpCLENBQUE7SUFDZCxNQUFNLENBQUMsV0FBUCxHQUFxQixJQUFDLENBQUE7SUFDdEIsSUFBQyxDQUFBLEtBQUQsR0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsSUFBQyxDQUFBLE1BQXhDLEVBQWdELElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBVSxD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O0FBQ1gsUUFBQTtJQUFBLElBQUcsT0FBTyxJQUFJLENBQUMsVUFBWixLQUEwQixRQUE3QjtNQUNJLFVBQUEsR0FBYSxFQUFFLENBQUMsU0FBUyxDQUFDLFdBQVksQ0FBQSxJQUFJLENBQUMsVUFBTCxFQUQxQztLQUFBLE1BQUE7TUFHSSxVQUFBLEdBQWEsSUFBSSxDQUFDLFdBSHRCOztJQU1BLE1BQUEsR0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUMsVUFBNUIsQ0FBdUMsTUFBdkMsRUFBK0MsSUFBSSxDQUFDLE1BQXBEO0lBQ1QsT0FBQSxHQUFVLEVBQUUsQ0FBQyxTQUFTLENBQUMscUJBQWIsQ0FBbUMsVUFBbkMsbUJBQStDLFNBQVMsSUFBQyxDQUFBLE1BQXpEO0lBRVYsSUFBRyx1QkFBSDtBQUNJO0FBQUEsV0FBQSxxQ0FBQTs7UUFDSSxPQUFRLENBQUEsU0FBQSxDQUFSLEdBQXFCLE1BQU8sQ0FBQSxTQUFBO0FBRGhDLE9BREo7O0lBR0EsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFYLENBQUE7QUFFQSxXQUFPO0VBZkk7OztBQWlCZjs7Ozs7Ozs7MENBT0EsUUFBQSxHQUFVLFNBQUMsTUFBRCxFQUFTLElBQVQ7SUFDTixZQUFZLENBQUMsUUFBYixDQUFzQixJQUF0QjtJQUNBLElBQUcsTUFBTSxDQUFDLE9BQVY7YUFDSSxPQUFBLENBQVEsUUFBUixDQUFpQixDQUFDLEdBQUcsQ0FBQyxJQUF0QixDQUFBLEVBREo7O0VBRk07Ozs7R0F0bEI4QixFQUFFLENBQUM7O0FBNmxCL0MsRUFBRSxDQUFDLDZCQUFILEdBQW1DIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfTGF5b3V0U2NlbmVCZWhhdmlvcuOAgFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0xheW91dFNjZW5lQmVoYXZpb3IgZXh0ZW5kcyBncy5Db21wb25lbnRfU2NlbmVCZWhhdmlvclxuICAjICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJvYmplY3RNYW5hZ2VyXCJdXG4gICAgIyMjKlxuICAgICogVGhlIGJhc2UgY2xhc3Mgb2YgYWxsIHNjZW5lLWJlaGF2aW9yIGNvbXBvbmVudHMuIEEgc2NlbmUtYmVoYXZpb3IgY29tcG9uZW50XG4gICAgKiBkZWZpbmUgdGhlIGxvZ2ljIG9mIGEgc2luZ2xlIGdhbWUgc2NlbmUuIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfTGF5b3V0U2NlbmVCZWhhdmlvclxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X1NjZW5lQmVoYXZpb3JcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0TWFuYWdlciA9IFNjZW5lTWFuYWdlclxuICAgICAgICBAbGF5b3V0ID0gbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBzY2VuZS4gXG4gICAgKlxuICAgICogQG1ldGhvZCBpbml0aWFsaXplXG4gICAgIyMjICAgIFxuICAgIGluaXRpYWxpemU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQG9iamVjdC5sYXlvdXREYXRhP1xuICAgICAgICAgICAgQG9iamVjdC5sYXlvdXREYXRhID0geyBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsIFwiY29udHJvbHNcIjogW10sIFwiZnJhbWVcIjogWzAsIDAsIDEsIDFdIH1cbiAgICAgICAgICAgIFxuICAgICAgICBMYW5ndWFnZU1hbmFnZXIubG9hZEJ1bmRsZXMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgc2NlbmUuIFxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgICNAb2JqZWN0LmRpc3Bvc2UoKVxuICAgICAgICAjQG9iamVjdE1hbmFnZXIuZGlzcG9zZSgpXG4gICAgICAgICNAbGF5b3V0LmRpc3Bvc2UoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcyBhbGwgZGF0YSBmb3IgdGhlIHNjZW5lIGFuZCBsb2FkcyB0aGUgbmVjZXNzYXJ5IGdyYXBoaWMgYW5kIGF1ZGlvIHJlc291cmNlcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByZXBhcmVEYXRhXG4gICAgKiBAYWJzdHJhY3RcbiAgICAjIyMgICAgXG4gICAgcHJlcGFyZURhdGE6IC0+XG4gICAgICAgIGdzLk9iamVjdE1hbmFnZXIuY3VycmVudCA9IEBvYmplY3RNYW5hZ2VyXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgR2FtZU1hbmFnZXIuaW5pdGlhbGl6ZWRcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgXG4gICAgICAgICNSZWNvcmRNYW5hZ2VyLnRyYW5zbGF0ZSgpXG4gICAgICAgIEBkYXRhRmllbGRzID0gdWkuVWlGYWN0b3J5LmRhdGFTb3VyY2VzW0BvYmplY3QubGF5b3V0RGF0YS5kYXRhU291cmNlIHx8IFwiZGVmYXVsdFwiXSgpXG4gICAgICAgIHdpbmRvdy4kZGF0YUZpZWxkcyA9IEBkYXRhRmllbGRzXG4gICAgICAgIEBtdXNpYyA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKEBvYmplY3QsIEBvYmplY3QubGF5b3V0RGF0YS5tdXNpYylcbiAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRNdXNpYyhAbXVzaWMpXG4gICAgICAgIEBwcmVwYXJlVHJhbnNpdGlvbihSZWNvcmRNYW5hZ2VyLnN5c3RlbS5tZW51VHJhbnNpdGlvbilcblxuICAgICAgIyAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzL2RpYW1vbmQtbGFyZ2Utb25cIilcbiAgICAgICMgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy9kaWFtb25kLXNtYWxsLW9uXCIpXG4gICAgICAjICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvZGlhbW9uZC1sYXJnZS1vZmZcIilcbiAgICAgICMgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy9kaWFtb25kLXNtYWxsLW9mZlwiKVxuICAgICAgIyAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzL3NraW4tZnJhbWVcIilcbiAgICAgICMgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy9za2luLXN0cmV0Y2hcIilcbiAgICAgICMgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy9za2luLXRpbGVcIilcbiAgICAgICMgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy9kcm9wc2hhZG93XCIpXG4gICAgICAjICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvc2VsZWN0aW9uXCIpXG4gICAgICAjICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvczQwXCIpXG4gICAgICAgIFJlc291cmNlTG9hZGVyLmxvYWRVaVR5cGVzR3JhcGhpY3ModWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzKVxuICAgICAgICBcbiAgICAgICAgUmVzb3VyY2VMb2FkZXIubG9hZFVpTGF5b3V0R3JhcGhpY3MoQG9iamVjdC5sYXlvdXREYXRhKVxuICAgICAgICBpZiBAZGF0YUZpZWxkcz9cbiAgICAgICAgICAgIFJlc291cmNlTG9hZGVyLmxvYWRVaURhdGFGaWVsZHNHcmFwaGljcyhAZGF0YUZpZWxkcylcbiAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL0NoYXJhY3RlcnMvSmFuZURhdGVfTm9ybWFsXCIpXG4gICAgIFxuICAgICMjIypcbiAgICAqIFByZXBhcmVzIGFsbCB2aXN1YWwgZ2FtZSBvYmplY3QgZm9yIHRoZSBzY2VuZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByZXBhcmVWaXN1YWxcbiAgICAjIyMgICAgICAgICBcbiAgICBwcmVwYXJlVmlzdWFsOiAtPlxuICAgICAgICBzY2FsZSA9IEdyYXBoaWNzLnNjYWxlXG4gICAgICAgIHZvY2FiID0gUmVjb3JkTWFuYWdlci52b2NhYnVsYXJ5XG5cbiAgICAgICAgaWYgbm90IEBsYXlvdXQ/XG4gICAgICAgICAgICBAZGF0YU9iamVjdCA9IHt9XG4gICAgICAgICAgICBAbGF5b3V0ID0gdWkuVWlGYWN0b3J5LmNyZWF0ZUZyb21EZXNjcmlwdG9yKEBvYmplY3QubGF5b3V0RGF0YSwgQG9iamVjdClcbiAgICBcbiAgICAgICAgICAgIGlmIEBtdXNpYz9cbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIuY2hhbmdlTXVzaWMoQG11c2ljLCAzMClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgQGxheW91dC51aS5wcmVwYXJlKClcbiAgICAgICAgQHRyYW5zaXRpb24oKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzY2VuZSdzIGNvbnRlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb250ZW50XG4gICAgIyMjICAgIFxuICAgIHVwZGF0ZUNvbnRlbnQ6IC0+XG4gICAgICAgIEdhbWVNYW5hZ2VyLnVwZGF0ZSgpXG4gICAgICAgIEdyYXBoaWNzLnZpZXdwb3J0LnVwZGF0ZSgpXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNob3dzL0hpZGVzIHRoZSBjdXJyZW50IHNjZW5lLiBBIGhpZGRlbiBzY2VuZSBpcyBubyBsb25nZXIgc2hvd24gYW5kIGV4ZWN1dGVkXG4gICAgKiBidXQgYWxsIG9iamVjdHMgYW5kIGRhdGEgaXMgc3RpbGwgdGhlcmUgYW5kIGJlIHNob3duIGFnYWluIGFueXRpbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzaG93XG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZpc2libGUgLSBJbmRpY2F0ZXMgaWYgdGhlIHNjZW5lIHNob3VsZCBiZSBzaG93biBvciBoaWRkZW4uXG4gICAgIyMjICAgICAgICAgIFxuICAgIHNob3c6ICh2aXNpYmxlKSAtPlxuICAgICAgICBAbGF5b3V0LnZpc2libGUgPSB2aXNpYmxlXG4gICAgICAgIEBsYXlvdXQudXBkYXRlKClcbiAgICAgICAgQG9iamVjdE1hbmFnZXIuYWN0aXZlID0gdmlzaWJsZVxuICAgICAgICBpZiB2aXNpYmxlXG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQgPSBTY2VuZU1hbmFnZXIgI0BvYmplY3RNYW5hZ2VyXG4gICAgICAgICNAb2JqZWN0TWFuYWdlci51cGRhdGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHRyaWdnZXJzIGEgZnVsbCByZWZyZXNoIG9uIHRoZSBvYmplY3QgcmV0dXJuZWQgYnkgdGhlIHNwZWNpZmllZCBiaW5kaW5nLWV4cHJlc3Npb24uXG4gICAgKiBUaGUgcGFyYW1zIG11c3QgYmUgYSBkaXJlY3QgYmluZGluZy1leHByZXNzaW9uIHN0cmluZy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGZ1bGxSZWZyZXNoT2JqZWN0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMgLSAgVGhlIGJpbmRpbmcgZXhwcmVzc2lvbi5cbiAgICAjIyMgICAgXG4gICAgZnVsbFJlZnJlc2hPYmplY3Q6IChzZW5kZXIsIG9iamVjdCkgLT5cbiAgICAgICAgb2JqZWN0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc2VuZGVyLCBvYmplY3QpXG4gICAgICAgIG9iamVjdD8uZnVsbFJlZnJlc2goKVxuICAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCB0cmlnZ2VycyBhIHJlZnJlc2ggb24gdGhlIG9iamVjdCByZXR1cm5lZCBieSB0aGUgc3BlY2lmaWVkIGJpbmRpbmctZXhwcmVzc2lvbi5cbiAgICAqIFRoZSBwYXJhbXMgbXVzdCBiZSBhIGRpcmVjdCBiaW5kaW5nLWV4cHJlc3Npb24gc3RyaW5nLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVmcmVzaE9iamVjdFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zIC0gIFRoZSBiaW5kaW5nIGV4cHJlc3Npb24uXG4gICAgIyMjICAgIFxuICAgIHJlZnJlc2hPYmplY3Q6IChzZW5kZXIsIG9iamVjdCkgLT5cbiAgICAgICAgb2JqZWN0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc2VuZGVyLCBvYmplY3QpXG4gICAgICAgIG9iamVjdD8ubmVlZHNVcGRhdGUgPSB0cnVlXG4gICAgICAgIFxuICAgIGFkZFN0eWxlOiAoc2VuZGVyLCBzdHlsZSkgLT5cbiAgICAgICAgc3R5bGVPYmplY3QgPSB1aS5VSU1hbmFnZXIuc3R5bGVzW3N0eWxlXVxuICAgICAgICBzdHlsZU9iamVjdD8uYXBwbHkoc2VuZGVyKVxuICAgICAgICBzZW5kZXIubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgaWYgc3R5bGVPYmplY3Q/LmZvbnRcbiAgICAgICAgICAgIHNlbmRlci5iZWhhdmlvci5yZWZyZXNoKClcbiAgICAgICAgXG4gICAgcmVtb3ZlU3R5bGU6IChzZW5kZXIsIHN0eWxlKSAtPiBcbiAgICAgICAgc3R5bGVPYmplY3QgPSB1aS5VSU1hbmFnZXIuc3R5bGVzW3N0eWxlXVxuICAgICAgICBzdHlsZU9iamVjdD8ucmV2ZXJ0KHNlbmRlcilcbiAgICAgICAgc2VuZGVyLmRlc2NyaXB0b3Iuc3R5bGVzLnJlbW92ZShzdHlsZSlcbiAgICAgICAgXG4gICAgICAgIGZvciBzIGluIHNlbmRlci5kZXNjcmlwdG9yLnN0eWxlc1xuICAgICAgICAgICAgdWkuVUlNYW5hZ2VyLnN0eWxlc1tzXT8uYXBwbHkoc2VuZGVyKVxuICAgICAgICBzZW5kZXIubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgaWYgc3R5bGVPYmplY3Q/LmZvbnRcbiAgICAgICAgICAgIHNlbmRlci5iZWhhdmlvci5yZWZyZXNoKClcbiAgICAgICAgICAgIFxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggZXhlY3V0ZXMgdGhlIHNwZWNpZmllZCBiaW5kaW5ncy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGV4ZWN1dGVCaW5kaW5nc1xuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSBwYXJhbXMgLSAgQW4gYXJyYXkgb2YgYmluZGluZy1kZWZpbml0aW9ucy5cbiAgICAjIyMgXG4gICAgZXhlY3V0ZUJpbmRpbmdzOiAoc2VuZGVyLCBiaW5kaW5ncykgLT5cbiAgICAgICAgZm9yIGJpbmRpbmcgaW4gYmluZGluZ3NcbiAgICAgICAgICAgIHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5leGVjdXRlQmluZGluZyhzZW5kZXIsIGJpbmRpbmcpXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGV4ZWN1dGVzIHRoZSBzcGVjaWZpZWQgZm9ybXVsYXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBleGVjdXRlRm9ybXVsYXNcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHt1aS5Gb3JtdWxhW119IHBhcmFtcyAtICBBbiBhcnJheSBvZiBmb3JtdWxhLWRlZmluaXRpb25zLlxuICAgICMjIyAgXG4gICAgZXhlY3V0ZUZvcm11bGFzOiAoc2VuZGVyLCBmb3JtdWxhcykgLT5cbiAgICAgICAgZm9yIGZvcm11bGEgaW4gZm9ybXVsYXNcbiAgICAgICAgICAgIHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5leGVjdXRlRm9ybXVsYShzZW5kZXIsIGZvcm11bGEpXG4gICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCBleGVjdXRlcyBhbmltYXRpb25zIG9uIGEgc3BlY2lmaWVkIHRhcmdldCBnYW1lIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGV4ZWN1dGVBbmltYXRpb25zXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSAgQ29udGFpbnMgdGFyZ2V0LWlkIGFuZCBhbmltYXRpb25zOiB7IHRhcmdldCwgYW5pbWF0aW9ucyB9XG4gICAgIyMjICAgICAgICAgXG4gICAgZXhlY3V0ZUFuaW1hdGlvbnM6IChzZW5kZXIsIHBhcmFtcykgLT5cbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGVtaXRzIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCBlbWl0RXZlbnRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIENvbnRhaW5zIGV2ZW50IG5hbWUsIHNvdXJjZSBhbmQgZGF0YS5cbiAgICAqIDx1bD5cbiAgICAqIDxsaT5wYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBlbWl0PC9saT5cbiAgICAqIDxsaT5wYXJhbXMuc291cmNlIC0gQSBiaW5kaW5nLWV4cHJlc3Npb24gdG8gZGVmaW5lIHRoZSBnYW1lIG9iamVjdCB3aGljaCBzaG91bGQgZW1pdCB0aGUgZXZlbnQuPC9saT5cbiAgICAqIDxsaT5wYXJhbXMuZGF0YSAtIEFuIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgZXZlbnQgc3BlY2lmaWMgZGF0YS48L2xpPlxuICAgICogPC91bD5cbiAgICAjIyMgICAgXG4gICAgZW1pdEV2ZW50OiAoc2VuZGVyLCBwYXJhbXMpIC0+XG4gICAgICAgIG9iamVjdCA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKHNlbmRlciwgcGFyYW1zLnNvdXJjZSlcbiAgICAgICAgb2JqZWN0Py5ldmVudHMuZW1pdChwYXJhbXMubmFtZSwgb2JqZWN0LCB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIHBhcmFtcy5kYXRhKSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGNoYW5nZXMgdGhlIGdhbWUncyBhc3BlY3QgcmF0aW8uXG4gICAgKlxuICAgICogQG1ldGhvZCBleGVjdXRlQmluZGluZ3NcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMgLSAgSWYgPGI+dHJ1ZTwvYj4gdGhlIGdhbWUgc2NyZWVuIHdpbGwgc3RyZXRjaGVkIHNvIHRoYXQgaXQgZmlsbHMgdGhlIGVudGlyZSBzY3JlZW5cbiAgICAqIG9mIHRoZSBwbGF5ZXIgd2l0aG91dCBhbnkgYmxhY2sgYm9yZGVycy4gT3RoZXJ3aXNlIHRoZSBnYW1lIHNjcmVlbiBzdHJldGNoZXMgYnV0IGtlZXBzIGl0cyByYXRpb1xuICAgICogc28gYmxhY2sgYm9yZGVycyBhcmUgcG9zc2libGUgaWYgdGhlIGdhbWUgcmVzb2x1dGlvbidzIHJhdGlvIGFuZCB0aGUgdGFyZ2V0IGRpc3BsYXkncyByYXRpbyBhcmUgbm90IG1hdGNoLiBJdCBjYW4gYWxzb1xuICAgICogYmUgYSBiaW5kaW5nLWV4cHJlc3Npb24uXG4gICAgIyMjXG4gICAgYWRqdXN0QXNwZWN0UmF0aW86IChzZW5kZXIsIGFkanVzdCkgLT5cbiAgICAgICAgYWRqdXN0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc2VuZGVyLCBhZGp1c3QpXG4gICAgXG4gICAgICAgIEdhbWVNYW5hZ2VyLnNldHRpbmdzLmFkanVzdEFzcGVjdFJhdGlvID0gYWRqdXN0XG4gICAgICAgIEdyYXBoaWNzLmtlZXBSYXRpbyA9ICFhZGp1c3RcbiAgICAgICAgR3JhcGhpY3Mub25SZXNpemUoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGVudGVycyBmdWxsc2NyZWVuIG1vZGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBlbnRlckZ1bGxTY3JlZW5cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMgLSBDYW4gYmUgPGI+bnVsbDwvYj5cbiAgICAjIyNcbiAgICBlbnRlckZ1bGxTY3JlZW46IChzZW5kZXIsIHBhcmFtcykgLT4gXG4gICAgICAgIGdzLkdyYXBoaWNzLmVudGVyRnVsbHNjcmVlbigpXG4gICAgICAgIEdhbWVNYW5hZ2VyLnNldHRpbmdzLmZ1bGxTY3JlZW4gPSB5ZXNcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGxlYXZlcyBmdWxsc2NyZWVuIG1vZGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBsZWF2ZUZ1bGxTY3JlZW5cbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMgLSBDYW4gYmUgPGI+bnVsbDwvYj5cbiAgICAjIyNcbiAgICBsZWF2ZUZ1bGxTY3JlZW46IC0+IFxuICAgICAgICBncy5HcmFwaGljcy5sZWF2ZUZ1bGxzY3JlZW4oKVxuICAgICAgICBHYW1lTWFuYWdlci5zZXR0aW5ncy5mdWxsU2NyZWVuID0gbm9cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCB0b2dnbGVzIGJldHdlZW4gd2luZG93IGFuZCBmdWxsc2NyZWVuIG1vZGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b2dnbGVGdWxsU2NyZWVuXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPlxuICAgICMjI1xuICAgIHRvZ2dsZUZ1bGxTY3JlZW46IChzZW5kZXIsIHBhcmFtcykgLT5cbiAgICAgICAgaWYgd2luZG93LnJlcXVpcmUgJiYgISRQQVJBTVMucGxhdGZvcm0uaXNTdGVhbU9TXG4gICAgICAgICAgICB3aW4gPSBudy5XaW5kb3cuZ2V0KClcbiAgICAgICAgICAgIHdpbi50b2dnbGVGdWxsc2NyZWVuKClcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnNldHRpbmdzLmZ1bGxTY3JlZW4gPSB3aW4uaXNGdWxsc2NyZWVuXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHBsYXlzIHRoZSBzcGVjaWZpZWQgc291bmQuXG4gICAgKlxuICAgICogQG1ldGhvZCBwbGF5U291bmRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBzb3VuZCB0byBwbGF5LlxuICAgICMjI1xuICAgIHBsYXlTb3VuZDogKHNlbmRlciwgcGFyYW1zKSAtPlxuICAgICAgICBBdWRpb01hbmFnZXIubG9hZFNvdW5kKHBhcmFtcylcbiAgICAgICAgQXVkaW9NYW5hZ2VyLnBsYXlTb3VuZChwYXJhbXMpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggcGxheXMgdGhlIHNwZWNpZmllZCB2b2ljZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHBsYXlWb2ljZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHZvaWNlIHRvIHBsYXkuXG4gICAgIyMjXG4gICAgcGxheVZvaWNlOiAoc2VuZGVyLCBwYXJhbXMpIC0+XG4gICAgICAgIEF1ZGlvTWFuYWdlci5sb2FkU291bmQocGFyYW1zKVxuICAgICAgICBBdWRpb01hbmFnZXIucGxheVZvaWNlKHBhcmFtcylcbiAgICAgIFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHR1cm5zIHZvaWNlIG9uIG9yIG9mZi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHR1cm5Pbk9mZlZvaWNlXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IHBhcmFtcyAtIElmIDxiPnRydWU8L2I+IHZvaWNlIHdpbGwgYmUgdHVybmVkIG9uLiBPdGhlcndpc2UgaXQgd2lsbCBiZSB0dXJuZWQgb2ZmLiBDYW4gYWxzbyBiZSBhIGJpbmRpbmctZXhwcmVzc2lvbi5cbiAgICAjIyMgXG4gICAgdHVybk9uT2ZmVm9pY2U6IChzZW5kZXIsIHN0YXRlKSAtPlxuICAgICAgICBpZiB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIHN0YXRlKSB0aGVuIEB0dXJuT25Wb2ljZSgpIGVsc2UgQHR1cm5PZmZWb2ljZSgpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggdHVybnMgbXVzaWMgb24gb3Igb2ZmLlxuICAgICpcbiAgICAqIEBtZXRob2QgdHVybk9uT2ZmTXVzaWNcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gcGFyYW1zIC0gSWYgPGI+dHJ1ZTwvYj4gbXVzaWMgd2lsbCBiZSB0dXJuZWQgb24uIE90aGVyd2lzZSBpdCB3aWxsIGJlIHR1cm5lZCBvZmYuIENhbiBhbHNvIGJlIGEgYmluZGluZy1leHByZXNzaW9uLlxuICAgICMjIyBcbiAgICB0dXJuT25PZmZNdXNpYzogKHNlbmRlciwgc3RhdGUpIC0+XG4gICAgICAgIGlmIHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKHNlbmRlciwgc3RhdGUpIHRoZW4gQHR1cm5Pbk11c2ljKCkgZWxzZSBAdHVybk9mZk11c2ljKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCB0dXJucyBzb3VuZCBvbiBvciBvZmYuXG4gICAgKlxuICAgICogQG1ldGhvZCB0dXJuT25PZmZTb3VuZFxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBwYXJhbXMgLSBJZiA8Yj50cnVlPC9iPiBzb3VuZCB3aWxsIGJlIHR1cm5lZCBvbi4gT3RoZXJ3aXNlIGl0IHdpbGwgYmUgdHVybmVkIG9mZi4gQ2FuIGFsc28gYmUgYSBiaW5kaW5nLWV4cHJlc3Npb24uXG4gICAgIyMjIFxuICAgIHR1cm5Pbk9mZlNvdW5kOiAoc2VuZGVyLCBzdGF0ZSkgLT5cbiAgICAgICAgaWYgdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc2VuZGVyLCBzdGF0ZSkgdGhlbiBAdHVybk9uU291bmQoKSBlbHNlIEB0dXJuT2ZmU291bmQoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHR1cm5zIG9mZiB2b2ljZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHR1cm5PZmZWb2ljZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBwYXJhbXMgLSBDYW4gYmUgPGI+bnVsbDwvYj4uXG4gICAgIyMjIFxuICAgIHR1cm5PZmZWb2ljZTogLT5cbiAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BBbGxWb2ljZXMoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHR1cm5zIG9mZiBtdXNpYy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHR1cm5PZmZNdXNpY1xuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBwYXJhbXMgLSBDYW4gYmUgPGI+bnVsbDwvYj4uXG4gICAgIyMjIFxuICAgIHR1cm5PZmZNdXNpYzogLT5cbiAgICAgICAgQXVkaW9NYW5hZ2VyLnN0b3BNdXNpYygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggdHVybnMgb2ZmIHNvdW5kLlxuICAgICpcbiAgICAqIEBtZXRob2QgdHVybk9mZlNvdW5kXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgXG4gICAgdHVybk9mZlNvdW5kOiAtPlxuICAgICAgICBBdWRpb01hbmFnZXIuc3RvcEFsbFNvdW5kcygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggdHVybnMgb24gdm9pY2UuXG4gICAgKlxuICAgICogQG1ldGhvZCB0dXJuT25Wb2ljZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBwYXJhbXMgLSBDYW4gYmUgPGI+bnVsbDwvYj4uXG4gICAgIyMjIFxuICAgIHR1cm5PblZvaWNlOiAtPlxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHR1cm5zIG9uIHNvdW5kLlxuICAgICpcbiAgICAqIEBtZXRob2QgdHVybk9uU291bmRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gcGFyYW1zIC0gQ2FuIGJlIDxiPm51bGw8L2I+LlxuICAgICMjIyBcbiAgICB0dXJuT25Tb3VuZDogLT5cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCB0dXJucyBvbiBtdXNpYy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHR1cm5Pbk11c2ljXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgXG4gICAgdHVybk9uTXVzaWM6IC0+XG4gICAgICAgIEF1ZGlvTWFuYWdlci5yZXN1bWVNdXNpYygpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggc2VsZWN0cyB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2VsZWN0TGFuZ3VhZ2VcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBwYXJhbXMgLSBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gc2V0LiBDYW4gYmUgYSBiaW5kaW5nLWV4cHJlc3Npb24uXG4gICAgIyMjIFxuICAgIHNlbGVjdExhbmd1YWdlOiAoc2VuZGVyLCBwYXJhbXMpLT5cbiAgICAgICAgbGFuZ3VhZ2UgPSBMYW5ndWFnZU1hbmFnZXIubGFuZ3VhZ2VzW3VpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKHNlbmRlciwgcGFyYW1zKV1cbiAgICAgICAgTGFuZ3VhZ2VNYW5hZ2VyLnNlbGVjdExhbmd1YWdlKGxhbmd1YWdlKVxuICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggcmVzZXRzIGdsb2JhbCBkYXRhIHN0b3JhZ2UuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXNldEdsb2JhbERhdGFcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgXG4gICAgcmVzZXRHbG9iYWxEYXRhOiAoc2VuZGVyKSAtPiBcbiAgICAgICAgR2FtZU1hbmFnZXIucmVzZXRHbG9iYWxEYXRhKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHNhdmVzIGdhbWUgc2V0dGluZ3MuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXNldEdsb2JhbERhdGFcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgXG4gICAgc2F2ZVNldHRpbmdzOiAoc2VuZGVyKSAtPiBHYW1lTWFuYWdlci5zYXZlU2V0dGluZ3MoKVxuICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggcHJlcGFyZXMgdGhlIGdhbWUgZm9yIHNhdmluZyBieSB0YWtpbmcgYSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCBnYW1lIHN0YXRlXG4gICAgKiBhbmQgc3RvcmluZyBpdCBpbiBHYW1lTWFuYWdlci5zYXZlR2FtZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByZXBhcmVTYXZlR2FtZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gQ2FuIGJlIDxiPm51bGw8L2I+LlxuICAgICMjIyBcbiAgICBwcmVwYXJlU2F2ZUdhbWU6IChzZW5kZXIsIHBhcmFtcykgLT5cbiAgICAgICAgR2FtZU1hbmFnZXIucHJlcGFyZVNhdmVHYW1lKHBhcmFtcz8uc25hcHNob3QpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggc2F2ZXMgdGhlIGN1cnJlbnQgZ2FtZSBhdCB0aGUgc3BlY2lmaWVkIHNhdmUgc2xvdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNhdmVHYW1lXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBDb250YWlucyB0aGUgc2xvdC1pbmRleCB3aGVyZSB0aGUgZ2FtZSBzaG91bGQgYmUgc2F2ZWQuXG4gICAgKiA8dWw+XG4gICAgKiA8bGk+cGFyYW1zLnNsb3QgLSBUaGUgc2xvdC1pbmRleCB3aGVyZSB0aGUgZ2FtZSBzaG91bGQgYmUgc2F2ZWQuIENhbiBiZSBhIGJpbmRpbmctZXhwcmVzc2lvbi48L2xpPlxuICAgICogPC91bD5cbiAgICAjIyMgXG4gICAgc2F2ZUdhbWU6IChzZW5kZXIsIHBhcmFtcykgLT4gR2FtZU1hbmFnZXIuc2F2ZSh1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIHBhcmFtcy5zbG90KSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGxvYWRzIHRoZSBnYW1lIGZyb20gdGhlIHNwZWNpZmllZCBzYXZlIHNsb3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkR2FtZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gQ29udGFpbnMgdGhlIHNsb3QtaW5kZXggd2hlcmUgdGhlIGdhbWUgc2hvdWxkIGJlIGxvYWRlZCBmcm9tLlxuICAgICogPHVsPlxuICAgICogPGxpPnBhcmFtcy5zbG90IC0gVGhlIHNsb3QtaW5kZXggd2hlcmUgdGhlIGdhbWUgc2hvdWxkIGJlIGxvYWRlZCBmcm9tLiBDYW4gYmUgYSBiaW5kaW5nLWV4cHJlc3Npb24uPC9saT5cbiAgICAqIDwvdWw+XG4gICAgIyMjIFxuICAgIGxvYWRHYW1lOiAoc2VuZGVyLCBwYXJhbXMpIC0+XG4gICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwID0gbm9cbiAgICAgICAgR2FtZU1hbmFnZXIubG9hZCh1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIHBhcmFtcy5zbG90KSlcbiAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCBzdGFydHMgYSBuZXcgZ2FtZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG5ld0dhbWVcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPlxuICAgICMjIyBcbiAgICBuZXdHYW1lOiAoc2VuZGVyLCBwYXJhbXMpIC0+XG4gICAgICAgIEF1ZGlvTWFuYWdlci5zdG9wQWxsTXVzaWMoMzApXG4gICAgICAgIEdhbWVNYW5hZ2VyLm5ld0dhbWUoKVxuICAgICAgICBcbiAgICAgICAgc2NlbmUgPSBuZXcgdm4uT2JqZWN0X1NjZW5lKClcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKHNjZW5lKVxuICAgIFxuICAgICMjIypcbiAgICAqIEFjdGlvbiBtZXRob2Qgd2hpY2ggc3dpdGNoZXMgdG8gYW5vdGhlciBzY2VuZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN3aXRjaFNjZW5lXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBDb250YWlucyB0aGUgY2xhc3MgbmFtZSBvZiB0aGUgc2NlbmUgdG8gc3dpdGNoIHRvLlxuICAgICogPHVsPlxuICAgICogPGxpPnBhcmFtcy5uYW1lIC0gVGhlIGNsYXNzLW5hbWUgb2YgdGhlIHNjZW5lIHRvIHN3aXRjaCB0by4gVGhlIGNsYXNzIG11c3QgYmUgZGVmaW5lZCBpbiB2bi1uYW1lc3BhY2UuPC9saT5cbiAgICAqIDwvdWw+XG4gICAgIyMjICAgICBcbiAgICBzd2l0Y2hTY2VuZTogKHNlbmRlciwgcGFyYW1zKSAtPlxuICAgICAgICBpZiBwYXJhbXMuY2xlYXJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5jbGVhcigpXG4gICAgICAgICAgICBcbiAgICAgICAgc2NlbmUgPSBuZXcgdm5bcGFyYW1zLm5hbWVdKClcbiAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKHNjZW5lKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHN3aXRjaGVzIHRvIGFub3RoZXIgZ2FtZSBzY2VuZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN3aXRjaEdhbWVTY2VuZVxuICAgICogQHBhcmFtIHtncy5PYmplY3RfQmFzZX0gc2VuZGVyIC0gVGhlIHNlbmRlciBvYmplY3QuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gQ29udGFpbnMgdGhlIFVJRCBvZiB0aGUgc2NlbmUgdG8gc3dpdGNoIHRvLlxuICAgICogPHVsPlxuICAgICogPGxpPnBhcmFtcy51aWQgLSBUaGUgVUlEIG9mIHRoZSBzY2VuZSB0byBzd2l0Y2ggdG8uPC9saT5cbiAgICAqIDwvdWw+XG4gICAgIyMjICAgIFxuICAgIHN3aXRjaEdhbWVTY2VuZTogKHNlbmRlciwgcGFyYW1zKSAtPlxuICAgICAgICBpZiBwYXJhbXMuY2xlYXJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5jbGVhcigpXG4gICAgICAgICAgICBcbiAgICAgICAgdWlkID0gcGFyYW1zLnVpZFxuICAgICAgICBpZiBwYXJhbXMubmFtZVxuICAgICAgICAgICAgc2NlbmVEb2N1bWVudHMgPSBEYXRhTWFuYWdlci5nZXREb2N1bWVudHNCeVR5cGUoXCJ2bi5zY2VuZVwiKVxuICAgICAgICAgICAgc2NlbmVEb2N1bWVudCA9IHNjZW5lRG9jdW1lbnRzLmZpcnN0IChkKSAtPiBkLml0ZW1zLm5hbWUgPT0gcGFyYW1zLm5hbWVcbiAgICAgICAgICAgIGlmIHNjZW5lRG9jdW1lbnRcbiAgICAgICAgICAgICAgICB1aWQgPSBzY2VuZURvY3VtZW50LnVpZFxuICAgICAgICBcbiAgICAgICAgc2NlbmVEYXRhID0gdWlkOiB1aWQsIHBpY3R1cmVzOiBbXSwgdGV4dHM6IFtdXG4gICAgICAgIEdhbWVNYW5hZ2VyLnNjZW5lRGF0YSA9IHNjZW5lRGF0YVxuICAgICAgICBuZXdTY2VuZSA9IG5ldyB2bi5PYmplY3RfU2NlbmUoKVxuICAgICAgICBuZXdTY2VuZS5zY2VuZURhdGEgPSBzY2VuZURhdGFcbiAgICAgICAgXG4gICAgICAgIFNjZW5lTWFuYWdlci5zd2l0Y2hUbyhuZXdTY2VuZSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHN3aXRjaGVzIHRvIGFub3RoZXIgbGF5b3V0LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3dpdGNoTGF5b3V0XG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBDb250YWlucyB0aGUgbmFtZSBvZiB0aGUgbGF5b3V0IHRvIHN3aXRjaCB0by5cbiAgICAqIDx1bD5cbiAgICAqIDxsaT5wYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgdG8gc3dpdGNoIHRvLjwvbGk+XG4gICAgKiA8bGk+cGFyYW1zLnNhdmVQcmV2aW91cyAtIEluZGljYXRlcyBpZiB0aGUgY3VycmVudCBsYXlvdXQgc2hvdWxkIG5vdCBiZSBlcmFzZWQgYnV0IHBhdXNlZCBhbmQgaGlkZGVuIGluc3RlYWQgc29cbiAgICAqIHRoYXQgaXQgY2FuIGJlIHJlc3RvcmVkIHVzaW5nIDxpPnJldHVyblRvUHJldmlvdXM8L2k+IGFjdGlvbi48L2xpPlxuICAgICogPGxpPnBhcmFtcy5kYXRhRmllbGRzIC0gRGVmaW5lcyB0aGUgZGF0YSBvZiBcIiRkYXRhRmllbGRzXCIgYmluZGluZy1leHByZXNzaW9uIHZhcmlhYmxlLiBDYW4gYmUgYSBiaW5kaW5nLWV4cHJlc3Npb25cbiAgICAqIG9yIGEgZGlyZWN0IG9iamVjdC4gT3B0aW9uYWwuPC9saT5cbiAgICAqIDwvdWw+XG4gICAgIyMjICAgIFxuICAgIHN3aXRjaExheW91dDogKHNlbmRlciwgbGF5b3V0KSAtPlxuICAgICAgICBHcmFwaGljcy5mcmVlemUoKVxuICAgICAgICBpZiBsYXlvdXQuY2xlYXJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5jbGVhcigpXG4gICAgICAgICAgICBcbiAgICAgICAgc2NlbmUgPSBuZXcgZ3MuT2JqZWN0X0xheW91dChsYXlvdXQubmFtZSlcbiAgICAgIFxuICAgICAgICBkYXRhRmllbGRzID0gc2VuZGVyLmRhdGFGaWVsZHNcbiAgICAgICAgaWYgdHlwZW9mIGxheW91dC5kYXRhRmllbGRzID09IFwic3RyaW5nXCJcbiAgICAgICAgICAgIGRhdGFGaWVsZHMgPSB1aS5Db21wb25lbnRfRm9ybXVsYUhhbmRsZXIuZmllbGRWYWx1ZShzZW5kZXIsIGxheW91dC5kYXRhRmllbGRzKVxuICAgICAgICBlbHNlIGlmIGxheW91dC5kYXRhRmllbGRzP1xuICAgICAgICAgICAgZGF0YUZpZWxkcyA9IGxheW91dC5kYXRhRmllbGRzXG4gICAgICAgICAgICBcbiAgICAgICAgc2NlbmUuZGF0YUZpZWxkcyA9IGRhdGFGaWVsZHNcbiAgICAgICAgc2NlbmUuY29udHJvbGxlcnMgPSBsYXlvdXQuY29udHJvbGxlcnNcbiAgICAgICAgXG4gICAgICAgIGlmIGxheW91dC5zZW5kZXJEYXRhP1xuICAgICAgICAgICAgZm9yIHNlbmRlckZpZWxkIGluIGxheW91dC5zZW5kZXJEYXRhXG4gICAgICAgICAgICAgICAgc2NlbmVbc2VuZGVyRmllbGRdID0gc2VuZGVyW3NlbmRlckZpZWxkXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICBTY2VuZU1hbmFnZXIuc3dpdGNoVG8oc2NlbmUsIGxheW91dC5zYXZlUHJldmlvdXMsIGxheW91dC5zdGFjaylcbiAgICAgXG4gICAgIyMjKlxuICAgICogQWN0aW9uIG1ldGhvZCB3aGljaCByZXR1cm5zIHRvIHByZXZpb3VzIGxheW91dC4gKElmIHNhdmVQcmV2aW91cyB3YXMgc2V0IHRvIDxiPnRydWU8L2I+IG9uIHN3aXRjaExheW91dC4pLlxuICAgICpcbiAgICAqIEBtZXRob2QgcHJldmlvdXNMYXlvdXRcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgICAgIFxuICAgIHByZXZpb3VzTGF5b3V0OiAoc2VuZGVyKSAtPlxuICAgICAgICBTY2VuZU1hbmFnZXIucmV0dXJuVG9QcmV2aW91cygpXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGRpc3Bvc2VzIHRoZSBzcGVjaWZpZWQgY29udHJvbC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VDb250cm9sXG4gICAgKiBAcGFyYW0ge2dzLk9iamVjdF9CYXNlfSBzZW5kZXIgLSBUaGUgc2VuZGVyIG9iamVjdC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMgLSBUaGUgSUQgb2YgdGhlIGNvbnRyb2wgdG8gZGlzcG9zZS4gQ2FuIGJlIGEgYmluZGluZy1leHByZXNzaW9uLlxuICAgICMjIyAgICBcbiAgICBkaXNwb3NlQ29udHJvbDogKHNlbmRlciwgaWQpIC0+XG4gICAgICAgIGNvbnRyb2wgPSBAb2JqZWN0TWFuYWdlci5vYmplY3RCeUlkKHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKHNlbmRlciwgaWQpKVxuICAgICAgICBjb250cm9sPy5kaXNwb3NlKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29udHJvbCBmcm9tIHRoZSBzcGVjaWZpZWQgZGVzY3JpcHRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGNyZWF0ZUNvbnRyb2xcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcyAtIENvbnRhaW5zIHRoZSBkZXNjcmlwdG9yIGFuZCBvdGhlciBkYXRhIG5lZWRlZCB0byBjb25zdHJ1Y3QgdGhlIGNvbnRyb2wuXG4gICAgKiA8dWw+XG4gICAgKiA8bGk+cGFyYW1zLmRlc2NyaXB0b3IgLSBUaGUgY29udHJvbCcgZGVzY3JpcHRvci4gQ2FuIGJlIGEgZGlyZWN0IGRlc2NyaXB0b3IgZGVmaW5pdGlvbiBvciBhIHRlbXBsYXRlIG5hbWU8L2xpPlxuICAgICogPGxpPnBhcmFtcy5wYXJlbnQgLSBBIGJpbmRpbmctZXhwcmVzc2lvbiB3aGljaCByZXR1cm5zIHRoZSBjb250cm9sJ3MgcGFyZW50LjwvbGk+XG4gICAgKiA8bGk+cGFyYW1zLnNlbmRlckRhdGEgLSBBbiBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGRhdGEgbWVyZ2VkIGludG8gdGhlIGNvbnRyb2wgb2JqZWN0LjwvbGk+XG4gICAgKiA8L3VsPlxuICAgICMjIyAgXG4gICAgY3JlYXRlQ29udHJvbDogKHNlbmRlciwgZGF0YSkgLT5cbiAgICAgICAgaWYgdHlwZW9mIGRhdGEuZGVzY3JpcHRvciA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgICBkZXNjcmlwdG9yID0gdWkuVUlNYW5hZ2VyLmN1c3RvbVR5cGVzW2RhdGEuZGVzY3JpcHRvcl1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRhdGEuZGVzY3JpcHRvclxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHBhcmVudCA9IHVpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKHNlbmRlciwgZGF0YS5wYXJlbnQpXG4gICAgICAgIGNvbnRyb2wgPSB1aS5VaUZhY3RvcnkuX2NyZWF0ZUZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IsIHBhcmVudCA/IEBvYmplY3QpXG4gICAgICAgIFxuICAgICAgICBpZiBkYXRhLnNlbmRlckRhdGE/XG4gICAgICAgICAgICBmb3IgZmllbGROYW1lIGluIGRhdGEuc2VuZGVyRGF0YVxuICAgICAgICAgICAgICAgIGNvbnRyb2xbZmllbGROYW1lXSA9IHNlbmRlcltmaWVsZE5hbWVdXG4gICAgICAgIGNvbnRyb2wudWkucHJlcGFyZSgpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udHJvbFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBY3Rpb24gbWV0aG9kIHdoaWNoIHF1aXRzIHRoZSBnYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgcXVpdEdhbWVcbiAgICAqIEBwYXJhbSB7Z3MuT2JqZWN0X0Jhc2V9IHNlbmRlciAtIFRoZSBzZW5kZXIgb2JqZWN0LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcyAtIENhbiBiZSA8Yj5udWxsPC9iPi5cbiAgICAjIyMgXG4gICAgcXVpdEdhbWU6IChzZW5kZXIsIGRhdGEpIC0+XG4gICAgICAgIFNjZW5lTWFuYWdlci5zd2l0Y2hUbyhudWxsKVxuICAgICAgICBpZiB3aW5kb3cucmVxdWlyZVxuICAgICAgICAgICAgcmVxdWlyZShcIm53Lmd1aVwiKS5BcHAucXVpdCgpXG4gICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0xheW91dFNjZW5lQmVoYXZpb3IgPSBDb21wb25lbnRfTGF5b3V0U2NlbmVCZWhhdmlvciJdfQ==
//# sourceURL=Component_LayoutSceneBehavior_26.js
var Component_GameSceneBehavior,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_GameSceneBehavior = (function(superClass) {
  extend(Component_GameSceneBehavior, superClass);


  /**
  * Defines the behavior of visual novel game scene.
  *
  * @module vn
  * @class Component_GameSceneBehavior
  * @extends gs.Component_LayoutSceneBehavior
  * @memberof vn
   */

  function Component_GameSceneBehavior() {
    Component_GameSceneBehavior.__super__.constructor.call(this);
    this.onAutoCommonEventStart = (function(_this) {
      return function() {
        _this.object.removeComponent(_this.object.interpreter);
        return _this.object.interpreter.stop();
      };
    })(this);
    this.onAutoCommonEventFinish = (function(_this) {
      return function() {
        if (!_this.object.components.contains(_this.object.interpreter)) {
          _this.object.addComponent(_this.object.interpreter);
        }
        return _this.object.interpreter.resume();
      };
    })(this);
  }


  /**
  * Initializes the scene. 
  *
  * @method initialize
   */

  Component_GameSceneBehavior.prototype.initialize = function() {
    var ref, saveGame, sceneUid, sprite;
    Graphics.freeze();
    saveGame = GameManager.loadedSaveGame;
    sceneUid = null;
    if (saveGame) {
      sceneUid = saveGame.sceneUid;
      this.object.sceneData = saveGame.data;
    } else {
      sceneUid = ((ref = $PARAMS.preview) != null ? ref.scene.uid : void 0) || this.object.sceneData.uid || RecordManager.system.startInfo.scene.uid;
    }
    this.object.sceneDocument = DataManager.getDocument(sceneUid);
    if (this.object.sceneDocument && this.object.sceneDocument.items.type === "vn.scene") {
      this.object.chapter = DataManager.getDocument(this.object.sceneDocument.items.chapterUid);
      this.object.currentCharacter = {
        "name": ""
      };
      if (!GameManager.initialized) {
        GameManager.initialize();
      }
      LanguageManager.loadBundles();
    } else {
      sprite = new gs.Sprite();
      sprite.bitmap = new gs.Bitmap(Graphics.width, 50);
      sprite.bitmap.drawText(0, 0, Graphics.width, 50, "No Start Scene selected", 1, 0);
      sprite.srcRect = new gs.Rect(0, 0, Graphics.width, 50);
      sprite.y = (Graphics.height - 50) / 2;
      sprite.z = 10000;
    }
    return this.setupScreen();
  };


  /**
  * Disposes the scene. 
  *
  * @method dispose
   */

  Component_GameSceneBehavior.prototype.dispose = function() {
    var event, j, len, ref;
    GameManager.tempFields.inGame = false;
    this.object.removeObject(this.object.commonEventContainer);
    this.show(false);
    ref = GameManager.commonEvents;
    for (j = 0, len = ref.length; j < len; j++) {
      event = ref[j];
      event.events.offByOwner("start", this.object);
      event.events.offByOwner("finish", this.object);
    }
    if (this.object.video) {
      this.object.video.dispose();
      this.object.video.onEnded();
    }
    this.viewport.dispose();
    return Component_GameSceneBehavior.__super__.dispose.call(this);
  };


  /**
  * Shows/Hides the current scene. A hidden scene is no longer shown and executed
  * but all objects and data is still there and be shown again anytime.
  *
  * @method show
  * @param {boolean} visible - Indicates if the scene should be shown or hidden.
   */

  Component_GameSceneBehavior.prototype.show = function(visible) {
    var area, background, character, j, k, l, len, len1, len2, len3, len4, len5, m, n, o, picture, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, text, video;
    this.object.visible = visible;
    if ((ref = this.object.layout) != null) {
      ref.update();
    }
    if ((ref1 = this.object.layoutNVL) != null) {
      ref1.update();
    }
    ref2 = this.object.pictures;
    for (j = 0, len = ref2.length; j < len; j++) {
      picture = ref2[j];
      if (picture != null) {
        picture.visible = visible;
      }
      if (picture != null) {
        picture.update();
      }
    }
    ref3 = this.object.texts;
    for (k = 0, len1 = ref3.length; k < len1; k++) {
      text = ref3[k];
      if (text != null) {
        text.visible = visible;
      }
      if (text != null) {
        text.update();
      }
    }
    ref4 = this.object.videos;
    for (l = 0, len2 = ref4.length; l < len2; l++) {
      video = ref4[l];
      if (video != null) {
        video.visible = visible;
      }
      if (video != null) {
        video.update();
      }
    }
    ref5 = this.object.messageAreas;
    for (m = 0, len3 = ref5.length; m < len3; m++) {
      area = ref5[m];
      if (area != null) {
        area.message.visible = visible;
      }
      if (area != null) {
        area.message.fullUpdate();
      }
    }
    ref6 = this.object.characters;
    for (n = 0, len4 = ref6.length; n < len4; n++) {
      character = ref6[n];
      if (character != null) {
        character.visible = visible;
        character.update();
      }
    }
    ref7 = this.object.backgrounds;
    for (o = 0, len5 = ref7.length; o < len5; o++) {
      background = ref7[o];
      if (background != null) {
        background.visible = visible;
        background.update();
      }
    }
    if ((ref8 = this.viewport) != null) {
      ref8.visible = visible;
    }
    if ((ref9 = this.object.choiceWindow) != null) {
      ref9.visible = visible;
    }
    if ((ref10 = this.object.inputNumberBox) != null) {
      ref10.visible = visible;
    }
    if ((ref11 = this.object.inputTextBox) != null) {
      ref11.visible = visible;
    }
    if ((ref12 = this.object.imageMap) != null) {
      ref12.visible = visible;
    }
    if ((ref13 = this.object.inputTextBox) != null) {
      ref13.update();
    }
    if ((ref14 = this.object.inputNumberBox) != null) {
      ref14.update();
    }
    if ((ref15 = this.object.choiceWindow) != null) {
      ref15.update();
    }
    return (ref16 = this.object.imageMap) != null ? ref16.update() : void 0;
  };


  /**
  * Sets up common event handling.
  *
  * @method setupCommonEvents
   */

  Component_GameSceneBehavior.prototype.setupCommonEvents = function() {
    var commonEvents, event, j, k, len, len1, ref, ref1, ref2, ref3;
    commonEvents = (ref = this.object.sceneData) != null ? ref.commonEvents : void 0;
    if (commonEvents) {
      for (j = 0, len = commonEvents.length; j < len; j++) {
        event = commonEvents[j];
        this.object.commonEventContainer.addObject(event);
        event.behavior.setupEventHandlers();
        if ((ref1 = event.interpreter) != null ? ref1.isRunning : void 0) {
          event.events.emit("start", event);
        }
      }
    } else {
      ref2 = GameManager.commonEvents;
      for (k = 0, len1 = ref2.length; k < len1; k++) {
        event = ref2[k];
        if (event.record.startCondition === 1 || event.record.parallel) {
          this.object.commonEventContainer.addObject(event);
          if (!event.record.parallel) {
            event.events.on("start", gs.CallBack("onAutoCommonEventStart", this), null, this.object);
            event.events.on("finish", gs.CallBack("onAutoCommonEventFinish", this), null, this.object);
          }
          if ((ref3 = event.interpreter) != null ? ref3.isRunning : void 0) {
            event.events.emit("start", event);
          }
        }
      }
    }
    return null;
  };


  /**
  * Sets up main interpreter.
  *
  * @method setupInterpreter
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupInterpreter = function() {
    this.object.commands = this.object.sceneDocument.items.commands;
    if (this.object.sceneData.interpreter) {
      this.object.removeComponent(this.object.interpreter);
      this.object.interpreter = this.object.sceneData.interpreter;
      this.object.addComponent(this.object.interpreter);
      this.object.interpreter.context.set(this.object.sceneDocument.uid, this.object);
      return this.object.interpreter.object = this.object;
    } else {
      this.object.interpreter.setup();
      return this.object.interpreter.start();
    }
  };


  /**
  * Sets up characters and restores them from loaded save game if necessary.
  *
  * @method setupCharacters
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupCharacters = function() {
    var c, i, j, len, ref;
    if (this.object.sceneData.characters != null) {
      ref = this.object.sceneData.characters;
      for (i = j = 0, len = ref.length; j < len; i = ++j) {
        c = ref[i];
        this.object.characterContainer.setObject(c, i);
      }
    }
    return this.object.currentCharacter = this.object.sceneData.currentCharacter || {
      name: ""
    };
  };


  /**
  * Sets up backgrounds and restores them from loaded save game if necessary.
  *
  * @method setupBackgrounds
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupBackgrounds = function() {
    var b, backgrounds, i, j, len, ref, ref1, results;
    backgrounds = (ref = (ref1 = this.object.sceneData) != null ? ref1.backgrounds : void 0) != null ? ref : [];
    results = [];
    for (i = j = 0, len = backgrounds.length; j < len; i = ++j) {
      b = backgrounds[i];
      results.push(this.object.backgroundContainer.setObject(b, i));
    }
    return results;
  };


  /**
  * Sets up pictures and restores them from loaded save game if necessary.
  *
  * @method setupPictures
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupPictures = function() {
    var i, j, len, picture, pictures, ref, ref1, results;
    pictures = (ref = (ref1 = this.object.sceneData) != null ? ref1.pictures : void 0) != null ? ref : [];
    results = [];
    for (i = j = 0, len = pictures.length; j < len; i = ++j) {
      picture = pictures[i];
      results.push(this.object.pictureContainer.setObject(picture, i));
    }
    return results;
  };


  /**
  * Sets up texts and restores them from loaded save game if necessary.
  *
  * @method setupTexts
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupTexts = function() {
    var i, j, len, ref, ref1, results, text, texts;
    texts = (ref = (ref1 = this.object.sceneData) != null ? ref1.texts : void 0) != null ? ref : [];
    results = [];
    for (i = j = 0, len = texts.length; j < len; i = ++j) {
      text = texts[i];
      results.push(this.object.textContainer.setObject(text, i));
    }
    return results;
  };


  /**
  * Sets up videos and restores them from loaded save game if necessary.
  *
  * @method setupVideos
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupVideos = function() {
    var i, j, len, ref, ref1, results, video, videos;
    videos = (ref = (ref1 = this.object.sceneData) != null ? ref1.videos : void 0) != null ? ref : [];
    results = [];
    for (i = j = 0, len = videos.length; j < len; i = ++j) {
      video = videos[i];
      if (video) {
        video.visible = true;
        video.update();
      }
      results.push(this.object.videoContainer.setObject(video, i));
    }
    return results;
  };


  /**
  * Sets up hotspots and restores them from loaded save game if necessary.
  *
  * @method setupHotspots
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupHotspots = function() {
    var hotspot, hotspots, i, j, len, ref, ref1, results;
    hotspots = (ref = (ref1 = this.object.sceneData) != null ? ref1.hotspots : void 0) != null ? ref : [];
    results = [];
    for (i = j = 0, len = hotspots.length; j < len; i = ++j) {
      hotspot = hotspots[i];
      results.push(this.object.hotspotContainer.setObject(hotspot, i));
    }
    return results;
  };


  /**
  * Sets up an image-map and restores them from loaded save game if necessary.
  *
  * @method setupImageMap
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupImageMap = function() {
    var imageMap, ref;
    imageMap = (ref = this.object.sceneData) != null ? ref.imageMap : void 0;
    if (imageMap) {
      this.object.imageMap = imageMap;
      return this.object.addObject(imageMap);
    }
  };


  /**
  * Sets up layout.
  *
  * @method setupLayout
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupLayout = function() {
    var advVisible, nvlVisible, ref;
    this.dataFields = ui.UIManager.dataSources[ui.UiFactory.layouts.gameLayout.dataSource || "default"]();
    this.dataFields.scene = this.object;
    window.$dataFields = this.dataFields;
    advVisible = this.object.messageMode === vn.MessageMode.ADV;
    nvlVisible = this.object.messageMode === vn.MessageMode.NVL;
    this.object.layoutNVL = ui.UiFactory.createFromDescriptor(ui.UiFactory.layouts.gameLayoutNVL, this.object);
    this.object.layout = ui.UiFactory.createFromDescriptor(ui.UiFactory.layouts.gameLayout, this.object);
    this.object.layoutNVL.visible = nvlVisible;
    this.object.layout.visible = advVisible;
    $gameMessageNVL_message.visible = nvlVisible;
    $gameMessage_message.visible = advVisible;
    this.object.layout.ui.prepare();
    this.object.layoutNVL.ui.prepare();
    if (((ref = $tempFields.choices) != null ? ref.length : void 0) > 0) {
      this.showChoices(GameManager.tempFields.choices, gs.CallBack("onChoiceAccept", this.object.interpreter, {
        pointer: this.object.interpreter.pointer,
        params: this.params
      }));
    }
    if (this.object.interpreter.waitingFor.inputNumber) {
      this.showInputNumber(GameManager.tempFields.digits, gs.CallBack("onInputNumberFinish", this.object.interpreter, this.object.interpreter));
    }
    if (this.object.interpreter.waitingFor.inputText) {
      return this.showInputText(GameManager.tempFields.letters, gs.CallBack("onInputTextFinish", this.object.interpreter, this.object.interpreter));
    }
  };


  /**
  * Sets up screen.
  *
  * @method setupScreen
  * @protected
   */

  Component_GameSceneBehavior.prototype.setupScreen = function() {
    if (this.object.sceneData.screen) {
      return this.object.viewport.restore(this.object.sceneData.screen);
    }
  };


  /**
  * Restores main interpreter from loaded save game.
  *
  * @method restoreInterpreter
  * @protected
   */

  Component_GameSceneBehavior.prototype.restoreInterpreter = function() {
    if (this.object.sceneData.interpreter) {
      return this.object.interpreter.restore();
    }
  };


  /**
  * Restores message box from loaded save game.
  *
  * @method restoreMessageBox
  * @protected
   */

  Component_GameSceneBehavior.prototype.restoreMessageBox = function() {
    var c, j, len, message, messageObject, ref, ref1, results;
    if ((ref = this.object.sceneData) != null ? ref.messageBox : void 0) {
      if (this.object.messageMode === vn.MessageMode.NVL) {
        messageObject = gs.ObjectManager.current.objectById("messageBoxNVL");
      } else {
        messageObject = gs.ObjectManager.current.objectById("messageBox");
      }
      messageObject.visible = this.object.sceneData.messageBox.visible;
      message = gs.ObjectManager.current.objectById("gameMessage_message");
      message.textRenderer.dispose();
      Object.mixin(message, this.object.sceneData.messageBox.message, ui.Object_Message.objectCodecBlackList.concat(["origin"]));
      ref1 = message.components;
      results = [];
      for (j = 0, len = ref1.length; j < len; j++) {
        c = ref1[j];
        results.push(c.object = message);
      }
      return results;
    }
  };


  /**
  * Restores message from loaded save game.
  *
  * @method restoreMessages
  * @protected
   */

  Component_GameSceneBehavior.prototype.restoreMessages = function() {
    var messageObject, ref, ref1, ref2;
    if (this.object.messageMode === vn.MessageMode.NVL) {
      messageObject = gs.ObjectManager.current.objectById("gameMessageNVL_message");
    } else {
      messageObject = gs.ObjectManager.current.objectById("gameMessage_message");
    }
    if ((ref = this.object.sceneData) != null ? ref.message : void 0) {
      messageObject.restore(this.object.sceneData.message);
    }
    if ((ref1 = this.object.sceneData) != null ? ref1.messages : void 0) {
      messageObject.message.restoreMessages(this.object.sceneData.messages);
      messageObject.textRenderer.restore(this.object.sceneData.messageTextRenderer);
    }
    if ((ref2 = this.object.sceneData) != null ? ref2.messageAreas : void 0) {
      return this.object.messageAreas = this.object.sceneData.messageAreas.select(function(f, i) {
        var c, j, len, message, messageLayout, ref3, result;
        result = null;
        if (f) {
          messageLayout = ui.UIManager.createControlFromDescriptor({
            type: "ui.CustomGameMessage",
            id: "customGameMessage_" + i,
            params: {
              id: "customGameMessage_" + i
            }
          }, this.object);
          message = gs.ObjectManager.current.objectById("customGameMessage_" + i + "_message");
          Object.mixin(message, f.message);
          ref3 = message.components;
          for (j = 0, len = ref3.length; j < len; j++) {
            c = ref3[j];
            c.object = message;
          }
          messageLayout.dstRect.x = f.layout.dstRect.x;
          messageLayout.dstRect.y = f.layout.dstRect.y;
          messageLayout.dstRect.width = f.layout.dstRect.width;
          messageLayout.dstRect.height = f.layout.dstRect.height;
          messageLayout.needsUpdate = true;
          messageLayout.update();
          result = {
            message: message,
            layout: messageLayout
          };
        }
        return result;
      });
    }
  };


  /**
  * Restores audio-playback from loaded save game.
  *
  * @method restoreAudioPlayback
  * @protected
   */

  Component_GameSceneBehavior.prototype.restoreAudioPlayback = function() {
    var b, j, len, ref;
    if (this.object.sceneData.audio) {
      ref = this.object.sceneData.audio.audioBuffers;
      for (j = 0, len = ref.length; j < len; j++) {
        b = ref[j];
        AudioManager.audioBuffers.push(b);
      }
      AudioManager.audioBuffersByLayer = this.object.sceneData.audio.audioBuffersByLayer;
      AudioManager.audioLayers = this.object.sceneData.audio.audioLayers;
      return AudioManager.soundReferences = this.object.sceneData.audio.soundReferences;
    }
  };


  /**
  * Prepares all data for the scene and loads the necessary graphic and audio resources.
  *
  * @method prepareData
  * @abstract
   */

  Component_GameSceneBehavior.prototype.prepareData = function() {
    RecordManager.translate();
    GameManager.tempFields.inGame = true;
    GameManager.scene = this.object;
    gs.ObjectManager.current = this.objectManager;
    this.object.sceneData.uid = this.object.sceneDocument.uid;
    if (!ResourceLoader.loadEventCommandsData(this.object.sceneDocument.items.commands)) {
      ResourceLoader.loadEventCommandsGraphics(this.object.sceneDocument.items.commands);
      GameManager.backlog = GameManager.sceneData.backlog || [];
      ResourceLoader.loadSystemSounds();
      ResourceLoader.loadSystemGraphics();
      ResourceLoader.loadUiTypesGraphics(ui.UiFactory.customTypes);
      ResourceLoader.loadUiLayoutGraphics(ui.UiFactory.layouts.gameLayout);
      if (this.dataFields != null) {
        ResourceLoader.loadUiDataFieldsGraphics(this.dataFields);
      }
      $tempFields.choiceTimer = this.object.choiceTimer;
      return GameManager.variableStore.setup({
        id: this.object.sceneDocument.uid
      });
    }
  };


  /**
  * Prepares all visual game object for the scene.
  *
  * @method prepareVisual
   */

  Component_GameSceneBehavior.prototype.prepareVisual = function() {
    var context, ref, saveGame;
    if (this.object.layout) {
      return;
    }
    saveGame = GameManager.loadedSaveGame;
    if (saveGame) {
      context = new gs.ObjectCodecContext([Graphics.viewport, this.object, this], saveGame.encodedObjectStore, null);
      saveGame.data = gs.ObjectCodec.decode(saveGame.data, context);
      gs.ObjectCodec.onRestore(saveGame.data, context);
      GameManager.restore(saveGame);
      this.object.sceneData = saveGame.data;
      Graphics.frameCount = saveGame.data.frameCount;
    }
    if (!this.object.sceneData.viewport) {
      this.viewport = new Viewport(0, 0, Graphics.width, Graphics.height, Graphics.viewport);
      this.object.viewport = new gs.Object_Viewport(this.viewport);
    } else {
      this.object.viewport = this.object.sceneData.viewport;
      this.viewport = this.object.viewport.visual.viewport;
      this.viewport.viewport = Graphics.viewport;
      this.object.addObject(this.object.viewport);
    }
    this.object.messageMode = (ref = this.object.sceneData.messageMode) != null ? ref : vn.MessageMode.ADV;
    this.setupCharacters();
    this.setupBackgrounds();
    this.setupPictures();
    this.setupTexts();
    this.setupVideos();
    this.setupHotspots();
    this.setupImageMap();
    this.setupInterpreter();
    this.setupLayout();
    this.setupCommonEvents();
    this.restoreMessageBox();
    this.restoreInterpreter();
    this.restoreMessages();
    this.restoreAudioPlayback();
    this.show(true);
    this.object.sceneData = {};
    GameManager.sceneData = {};
    Graphics.update();
    return this.transition({
      duration: 0
    });
  };


  /**
  * Adds a new character to the scene.
  *
  * @method addCharacter
  * @param {vn.Object_Character} character - The character to add.
  * @param {boolean} noAnimation - Indicates if the character should be added immediately witout any appear-animation.
  * @param {Object} animationData - Contains the appear-animation data -> { animation, easing, duration }.
   */

  Component_GameSceneBehavior.prototype.addCharacter = function(character, noAnimation, animationData) {
    if (!noAnimation) {
      character.motionBlur.set(animationData.motionBlur);
      if (animationData.duration > 0) {
        if (!noAnimation) {
          character.animator.appear(character.dstRect.x, character.dstRect.y, animationData.animation, animationData.easing, animationData.duration);
        }
      }
    }
    character.viewport = this.viewport;
    character.visible = true;
    return this.object.characterContainer.addObject(character);
  };


  /**
  * Removes a character from the scene.
  *
  * @method removeCharacter
  * @param {vn.Object_Character} character - The character to remove.
  * @param {Object} animationData - Contains the disappear-animation data -> { animation, easing, duration }.
   */

  Component_GameSceneBehavior.prototype.removeCharacter = function(character, animationData) {
    return character != null ? character.animator.disappear(animationData.animation, animationData.easing, animationData.duration, function(sender) {
      return sender.dispose();
    }) : void 0;
  };

  Component_GameSceneBehavior.prototype.showInputText = function(letters, callback) {
    var ref;
    if ((ref = this.object.inputTextBox) != null) {
      ref.dispose();
    }
    this.object.inputTextBox = ui.UiFactory.createControlFromDescriptor(ui.UiFactory.customTypes["ui.InputTextBox"], this.object);
    this.object.inputTextBox.ui.prepare();
    return this.object.inputTextBox.events.on("accept", callback);
  };

  Component_GameSceneBehavior.prototype.showInputNumber = function(digits, callback) {
    var ref;
    if ((ref = this.object.inputNumberBox) != null) {
      ref.dispose();
    }
    this.object.inputNumberBox = ui.UiFactory.createControlFromDescriptor(ui.UiFactory.customTypes["ui.InputNumberBox"], this.object);
    this.object.inputNumberBox.ui.prepare();
    return this.object.inputNumberBox.events.on("accept", callback);
  };

  Component_GameSceneBehavior.prototype.showChoices = function(choices, callback) {
    var ref, useFreeLayout;
    useFreeLayout = choices.where(function(x) {
      return x.dstRect != null;
    }).length > 0;
    GameManager.tempFields.choices = choices;
    if ((ref = this.object.choiceWindow) != null) {
      ref.dispose();
    }
    if (useFreeLayout) {
      this.object.choiceWindow = ui.UiFactory.createControlFromDescriptor(ui.UiFactory.customTypes["ui.FreeChoiceBox"], this.object);
    } else {
      this.object.choiceWindow = ui.UiFactory.createControlFromDescriptor(ui.UiFactory.customTypes["ui.ChoiceBox"], this.object);
    }
    this.object.choiceWindow.events.on("selectionAccept", callback);
    return this.object.choiceWindow.ui.prepare();
  };


  /**
  * Changes the background of the scene.
  *
  * @method changeBackground
  * @param {Object} background - The background graphic object -> { name }
  * @param {boolean} noAnimation - Indicates if the background should be changed immediately witout any change-animation.
  * @param {Object} animation - The appear/disappear animation to use.
  * @param {Object} easing - The easing of the change animation.
  * @param {number} duration - The duration of the change in frames.
  * @param {number} ox - The x-origin of the background.
  * @param {number} oy - The y-origin of the background.
  * @param {number} layer - The background-layer to change.
  * @param {boolean} loopHorizontal - Indicates if the background should be looped horizontally.
  * @param {boolean} loopVertical - Indicates if the background should be looped vertically.
   */

  Component_GameSceneBehavior.prototype.changeBackground = function(background, noAnimation, animation, easing, duration, ox, oy, layer, loopHorizontal, loopVertical) {
    var object, otherObject, ref;
    if (background != null) {
      otherObject = this.object.backgrounds[layer];
      object = new vn.Object_Background();
      object.image = background.name;
      object.origin.x = ox;
      object.origin.y = oy;
      object.viewport = this.viewport;
      object.visual.looping.vertical = false;
      object.visual.looping.horizontal = false;
      object.update();
      this.object.backgroundContainer.setObject(object, layer);
      duration = duration != null ? duration : 30;
      if (otherObject != null) {
        otherObject.zIndex = layer;
      }
      if (duration === 0) {
        if (otherObject != null) {
          otherObject.dispose();
        }
        object.visual.looping.vertical = loopVertical;
        return object.visual.looping.horizontal = loopHorizontal;
      } else {
        if (noAnimation) {
          object.visual.looping.vertical = loopVertical;
          return object.visual.looping.horizontal = loopHorizontal;
        } else {
          object.animator.otherObject = otherObject;
          return object.animator.appear(0, 0, animation, easing, duration, (function(_this) {
            return function(sender) {
              var ref;
              sender.update();
              if ((ref = sender.animator.otherObject) != null) {
                ref.dispose();
              }
              sender.visual.looping.vertical = loopVertical;
              return sender.visual.looping.horizontal = loopHorizontal;
            };
          })(this));
        }
      }
    } else {
      return (ref = this.object.backgrounds[layer]) != null ? ref.animator.hide(duration, easing, (function(_this) {
        return function() {
          _this.object.backgrounds[layer].dispose();
          return _this.object.backgrounds[layer] = null;
        };
      })(this)) : void 0;
    }
  };


  /**
  * Updates the scene's content.
  *
  * @method updateContent
   */

  Component_GameSceneBehavior.prototype.updateContent = function() {
    var background, character, component, j, k, l, len, len1, len2, len3, len4, len5, len6, len7, len8, len9, m, n, o, p, picture, q, r, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, s, text, video;
    if (!this.object.settings.allowSkip) {
      this.object.tempSettings.skip = false;
    }
    Graphics.viewport.update();
    this.object.viewport.update();
    if (GameManager.tempSettings.skip) {
      ref = this.object.pictures;
      for (j = 0, len = ref.length; j < len; j++) {
        picture = ref[j];
        if (picture) {
          ref1 = picture.components;
          for (k = 0, len1 = ref1.length; k < len1; k++) {
            component = ref1[k];
            if (typeof component.skip === "function") {
              component.skip();
            }
          }
        }
      }
      ref2 = this.object.texts;
      for (l = 0, len2 = ref2.length; l < len2; l++) {
        text = ref2[l];
        if (text) {
          ref3 = text.components;
          for (m = 0, len3 = ref3.length; m < len3; m++) {
            component = ref3[m];
            if (typeof component.skip === "function") {
              component.skip();
            }
          }
        }
      }
      ref4 = this.object.videos;
      for (n = 0, len4 = ref4.length; n < len4; n++) {
        video = ref4[n];
        if (video) {
          ref5 = video.components;
          for (o = 0, len5 = ref5.length; o < len5; o++) {
            component = ref5[o];
            if (typeof component.skip === "function") {
              component.skip();
            }
          }
        }
      }
      ref6 = this.object.backgrounds;
      for (p = 0, len6 = ref6.length; p < len6; p++) {
        background = ref6[p];
        if (background) {
          ref7 = background.components;
          for (q = 0, len7 = ref7.length; q < len7; q++) {
            component = ref7[q];
            if (typeof component.skip === "function") {
              component.skip();
            }
          }
        }
      }
      ref8 = this.object.characters;
      for (r = 0, len8 = ref8.length; r < len8; r++) {
        character = ref8[r];
        if (character) {
          ref9 = character.components;
          for (s = 0, len9 = ref9.length; s < len9; s++) {
            component = ref9[s];
            if (typeof component.skip === "function") {
              component.skip();
            }
          }
        }
      }
      if (this.object.interpreter.waitCounter > GameManager.tempSettings.skipTime) {
        this.object.interpreter.waitCounter = GameManager.tempSettings.skipTime;
      }
    }
    if (this.object.video != null) {
      this.object.video.update();
      if (this.object.settings.allowVideoSkip && (Input.trigger(Input.C) || Input.Mouse.buttons[Input.Mouse.LEFT] === 2)) {
        this.object.video.stop();
      }
      Input.clear();
    }
    if (GameManager.tempSettings.menuAccess && Input.trigger(Input.X)) {
      SceneManager.switchTo(new gs.Object_Layout("settingsMenuLayout"), true);
    }
    if (Input.trigger(Input.KEY_ESCAPE)) {
      gs.Application.exit();
    }
    if (this.object.settings.allowSkip) {
      if (Input.keys[Input.KEY_CONTROL] === 1) {
        GameManager.tempSettings.skip = true;
      } else if (Input.keys[Input.KEY_CONTROL] === 2) {
        GameManager.tempSettings.skip = false;
      }
    }
    return Component_GameSceneBehavior.__super__.updateContent.call(this);
  };

  return Component_GameSceneBehavior;

})(gs.Component_LayoutSceneBehavior);

vn.Component_GameSceneBehavior = Component_GameSceneBehavior;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsMkJBQUE7RUFBQTs7O0FBQU07Ozs7QUFFRjs7Ozs7Ozs7O0VBUWEscUNBQUE7SUFDVCwyREFBQTtJQUVBLElBQUMsQ0FBQSxzQkFBRCxHQUEwQixDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7UUFDdEIsS0FBQyxDQUFBLE1BQU0sQ0FBQyxlQUFSLENBQXdCLEtBQUMsQ0FBQSxNQUFNLENBQUMsV0FBaEM7ZUFDQSxLQUFDLENBQUEsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFwQixDQUFBO01BRnNCO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQTtJQUcxQixJQUFDLENBQUEsdUJBQUQsR0FBMkIsQ0FBQSxTQUFBLEtBQUE7YUFBQSxTQUFBO1FBQ3ZCLElBQUcsQ0FBQyxLQUFDLENBQUEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFuQixDQUE0QixLQUFDLENBQUEsTUFBTSxDQUFDLFdBQXBDLENBQUo7VUFDSSxLQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsQ0FBcUIsS0FBQyxDQUFBLE1BQU0sQ0FBQyxXQUE3QixFQURKOztlQUVBLEtBQUMsQ0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQXBCLENBQUE7TUFIdUI7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBO0VBTmxCOzs7QUFXYjs7Ozs7O3dDQUtBLFVBQUEsR0FBWSxTQUFBO0FBQ1IsUUFBQTtJQUFBLFFBQVEsQ0FBQyxNQUFULENBQUE7SUFDQSxRQUFBLEdBQVcsV0FBVyxDQUFDO0lBQ3ZCLFFBQUEsR0FBVztJQUVYLElBQUcsUUFBSDtNQUNJLFFBQUEsR0FBVyxRQUFRLENBQUM7TUFDcEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFSLEdBQW9CLFFBQVEsQ0FBQyxLQUZqQztLQUFBLE1BQUE7TUFJSSxRQUFBLHlDQUEwQixDQUFFLEtBQUssQ0FBQyxhQUF2QixJQUE4QixJQUFDLENBQUEsTUFBTSxD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QUssQ0FBQyxDQUFwQixDQUEzQztNQUNJLFlBQVksQ0FBQyxRQUFiLENBQTBCLElBQUEsRUFBRSxDQUFDLGFBQUgsQ0FBaUIsb0JBQWpCLENBQTFCLEVBQWtFLElBQWxFLEVBREo7O0lBRUEsSUFBRyxLQUFLLENBQUMsT0FBTixDQUFjLEtBQUssQ0FBQyxVQUFwQixDQUFIO01BQ0ksRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFmLENBQUEsRUFESjs7SUFHQSxJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQXBCO01BQ0ksSUFBRyxLQUFLLENBQUMsSUFBSyxDQUFBLEtBQUssQ0FBQyxXQUFOLENBQVgsS0FBaUMsQ0FBcEM7UUFDSSxXQUFXLENBQUMsWUFBWSxDQUFDLElBQXpCLEdBQWdDLEtBRHBDO09BQUEsTUFFSyxJQUFHLEtBQUssQ0FBQyxJQUFLLENBQUEsS0FBSyxDQUFDLFdBQU4sQ0FBWCxLQUFpQyxDQUFwQztRQUNELFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBekIsR0FBZ0MsTUFEL0I7T0FIVDs7V0FNQSw2REFBQTtFQW5EVzs7OztHQTVsQnVCLEVBQUUsQ0FBQzs7QUFpcEI3QyxFQUFFLENBQUMsMkJBQUgsR0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9HYW1lU2NlbmVCZWhhdmlvclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0dhbWVTY2VuZUJlaGF2aW9yIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0xheW91dFNjZW5lQmVoYXZpb3JcbiAjICAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wib2JqZWN0TWFuYWdlclwiXVxuICAgICMjIypcbiAgICAqIERlZmluZXMgdGhlIGJlaGF2aW9yIG9mIHZpc3VhbCBub3ZlbCBnYW1lIHNjZW5lLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdm5cbiAgICAqIEBjbGFzcyBDb21wb25lbnRfR2FtZVNjZW5lQmVoYXZpb3JcbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9MYXlvdXRTY2VuZUJlaGF2aW9yXG4gICAgKiBAbWVtYmVyb2Ygdm5cbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgQG9uQXV0b0NvbW1vbkV2ZW50U3RhcnQgPSA9PlxuICAgICAgICAgICAgQG9iamVjdC5yZW1vdmVDb21wb25lbnQoQG9iamVjdC5pbnRlcnByZXRlcilcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIuc3RvcCgpXG4gICAgICAgIEBvbkF1dG9Db21tb25FdmVudEZpbmlzaCA9ID0+XG4gICAgICAgICAgICBpZiAhQG9iamVjdC5jb21wb25lbnRzLmNvbnRhaW5zKEBvYmplY3QuaW50ZXJwcmV0ZXIpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5hZGRDb21wb25lbnQoQG9iamVjdC5pbnRlcnByZXRlcilcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIucmVzdW1lKClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIHNjZW5lLiBcbiAgICAqXG4gICAgKiBAbWV0aG9kIGluaXRpYWxpemVcbiAgICAjIyMgXG4gICAgaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgR3JhcGhpY3MuZnJlZXplKClcbiAgICAgICAgc2F2ZUdhbWUgPSBHYW1lTWFuYWdlci5sb2FkZWRTYXZlR2FtZVxuICAgICAgICBzY2VuZVVpZCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmIHNhdmVHYW1lXG4gICAgICAgICAgICBzY2VuZVVpZCA9IHNhdmVHYW1lLnNjZW5lVWlkXG4gICAgICAgICAgICBAb2JqZWN0LnNjZW5lRGF0YSA9IHNhdmVHYW1lLmRhdGFcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2NlbmVVaWQgPSAkUEFSQU1TLnByZXZpZXc/LnNjZW5lLnVpZCB8fCBAb2JqZWN0LnNjZW5lRGF0YS51aWQgfHwgUmVjb3JkTWFuYWdlci5zeXN0ZW0uc3RhcnRJbmZvLnNjZW5lLnVpZFxuICAgICAgICBcbiAgICAgICAgQG9iamVjdC5zY2VuZURvY3VtZW50ID0gRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnQoc2NlbmVVaWQpXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnNjZW5lRG9jdW1lbnQgYW5kIEBvYmplY3Quc2NlbmVEb2N1bWVudC5pdGVtcy50eXBlID09IFwidm4uc2NlbmVcIlxuICAgICAgICAgICAgQG9iamVjdC5jaGFwdGVyID0gRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnQoQG9iamVjdC5zY2VuZURvY3VtZW50Lml0ZW1zLmNoYXB0ZXJVaWQpXG4gICAgICAgICAgICBAb2JqZWN0LmN1cnJlbnRDaGFyYWN0ZXIgPSB7IFwibmFtZVwiOiBcIlwiIH0gI1JlY29yZE1hbmFnZXIuY2hhcmFjdGVyc1swXVxuICAgIFxuICAgICAgICAgICAgaWYgbm90IEdhbWVNYW5hZ2VyLmluaXRpYWxpemVkXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuaW5pdGlhbGl6ZSgpXG4gICAgXG4gICAgICAgICAgICBMYW5ndWFnZU1hbmFnZXIubG9hZEJ1bmRsZXMoKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzcHJpdGUgPSBuZXcgZ3MuU3ByaXRlKClcbiAgICAgICAgICAgIHNwcml0ZS5iaXRtYXAgPSBuZXcgZ3MuQml0bWFwKEdyYXBoaWNzLndpZHRoLCA1MClcbiAgICAgICAgICAgIHNwcml0ZS5iaXRtYXAuZHJhd1RleHQoMCwgMCwgR3JhcGhpY3Mud2lkdGgsIDUwLCBcIk5vIFN0YXJ0IFNjZW5lIHNlbGVjdGVkXCIsIDEsIDApXG4gICAgICAgICAgICBzcHJpdGUuc3JjUmVjdCA9IG5ldyBncy5SZWN0KDAsIDAsIEdyYXBoaWNzLndpZHRoLCA1MClcbiAgICAgICAgICAgIHNwcml0ZS55ID0gKEdyYXBoaWNzLmhlaWdodCAtIDUwKSAvIDJcbiAgICAgICAgICAgIHNwcml0ZS56ID0gMTAwMDBcbiAgIFxuICAgICAgICBAc2V0dXBTY3JlZW4oKSBcbiAgICAjIyMqXG4gICAgKiBEaXNwb3NlcyB0aGUgc2NlbmUuIFxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuaW5HYW1lID0gbm9cbiAgICAgICAgQG9iamVjdC5yZW1vdmVPYmplY3QoQG9iamVjdC5jb21tb25FdmVudENvbnRhaW5lcilcbiAgICAgICAgXG4gICAgICAgIEBzaG93KG5vKVxuXG4gICAgICAgIGZvciBldmVudCBpbiBHYW1lTWFuYWdlci5jb21tb25FdmVudHNcbiAgICAgICAgICAgIGV2ZW50LmV2ZW50cy5vZmZCeU93bmVyKFwic3RhcnRcIiwgQG9iamVjdClcbiAgICAgICAgICAgIGV2ZW50LmV2ZW50cy5vZmZCeU93bmVyKFwiZmluaXNoXCIsIEBvYmplY3QpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC52aWRlb1xuICAgICAgICAgICAgQG9iamVjdC52aWRlby5kaXNwb3NlKClcbiAgICAgICAgICAgIEBvYmplY3QudmlkZW8ub25FbmRlZCgpXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgQHZpZXdwb3J0LmRpc3Bvc2UoKVxuICAgICAgICBzdXBlcigpXG4gICAgICBcbiAgICAjIyMqXG4gICAgKiBTaG93cy9IaWRlcyB0aGUgY3VycmVudCBzY2VuZS4gQSBoaWRkZW4gc2NlbmUgaXMgbm8gbG9uZ2VyIHNob3duIGFuZCBleGVjdXRlZFxuICAgICogYnV0IGFsbCBvYmplY3RzIGFuZCBkYXRhIGlzIHN0aWxsIHRoZXJlIGFuZCBiZSBzaG93biBhZ2FpbiBhbnl0aW1lLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2hvd1xuICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIC0gSW5kaWNhdGVzIGlmIHRoZSBzY2VuZSBzaG91bGQgYmUgc2hvd24gb3IgaGlkZGVuLlxuICAgICMjIyAgICAgICAgICBcbiAgICBzaG93OiAodmlzaWJsZSkgLT5cbiAgICAgICAgQG9iamVjdC52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICBcbiAgICAgICAgQG9iamVjdC5sYXlvdXQ/LnVwZGF0ZSgpXG4gICAgICAgIEBvYmplY3QubGF5b3V0TlZMPy51cGRhdGUoKVxuICAgICAgICBcbiAgICAgICAgZm9yIHBpY3R1cmUgaW4gQG9iamVjdC5waWN0dXJlcyBcbiAgICAgICAgICAgIHBpY3R1cmU/LnZpc2libGUgPSB2aXNpYmxlXG4gICAgICAgICAgICBwaWN0dXJlPy51cGRhdGUoKVxuICAgICAgICBmb3IgdGV4dCBpbiBAb2JqZWN0LnRleHRzXG4gICAgICAgICAgICB0ZXh0Py52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICAgICAgdGV4dD8udXBkYXRlKClcbiAgICAgICAgZm9yIHZpZGVvIGluIEBvYmplY3QudmlkZW9zXG4gICAgICAgICAgICB2aWRlbz8udmlzaWJsZSA9IHZpc2libGVcbiAgICAgICAgICAgIHZpZGVvPy51cGRhdGUoKVxuICAgICAgICBmb3IgYXJlYSBpbiBAb2JqZWN0Lm1lc3NhZ2VBcmVhc1xuICAgICAgICAgICAgYXJlYT8ubWVzc2FnZS52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICAgICAgYXJlYT8ubWVzc2FnZS5mdWxsVXBkYXRlKClcbiAgICAgICAgICAgIFxuICAgICAgICBmb3IgY2hhcmFjdGVyIGluIEBvYmplY3QuY2hhcmFjdGVyc1xuICAgICAgICAgICAgaWYgY2hhcmFjdGVyPyBcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIudmlzaWJsZSA9IHZpc2libGVcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIGZvciBiYWNrZ3JvdW5kIGluIEBvYmplY3QuYmFja2dyb3VuZHNcbiAgICAgICAgICAgIGlmIGJhY2tncm91bmQ/XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQudXBkYXRlKClcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgQHZpZXdwb3J0Py52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICAjQG9iamVjdC52aWV3cG9ydC52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICAjQG9iamVjdC52aWV3cG9ydC51cGRhdGUoKVxuICAgICAgXG4gICAgICAgIEBvYmplY3QuY2hvaWNlV2luZG93Py52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICBAb2JqZWN0LmlucHV0TnVtYmVyQm94Py52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgICBAb2JqZWN0LmlucHV0VGV4dEJveD8udmlzaWJsZSA9IHZpc2libGVcbiAgICAgICAgQG9iamVjdC5pbWFnZU1hcD8udmlzaWJsZSA9IHZpc2libGVcbiAgICAgICAgQG9iamVjdC5pbnB1dFRleHRCb3g/LnVwZGF0ZSgpXG4gICAgICAgIEBvYmplY3QuaW5wdXROdW1iZXJCb3g/LnVwZGF0ZSgpXG4gICAgICAgIEBvYmplY3QuY2hvaWNlV2luZG93Py51cGRhdGUoKVxuICAgICAgICBAb2JqZWN0LmltYWdlTWFwPy51cGRhdGUoKVxuICAgIFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIGNvbW1vbiBldmVudCBoYW5kbGluZy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwQ29tbW9uRXZlbnRzXG4gICAgIyMjICAgXG4gICAgc2V0dXBDb21tb25FdmVudHM6IC0+XG4gICAgICAgIGNvbW1vbkV2ZW50cyA9IEBvYmplY3Quc2NlbmVEYXRhPy5jb21tb25FdmVudHNcbiAgICAgICAgXG4gICAgICAgIGlmIGNvbW1vbkV2ZW50c1xuICAgICAgICAgICAgZm9yIGV2ZW50IGluIGNvbW1vbkV2ZW50c1xuICAgICAgICAgICAgICAgIEBvYmplY3QuY29tbW9uRXZlbnRDb250YWluZXIuYWRkT2JqZWN0KGV2ZW50KVxuICAgICAgICAgICAgICAgIGV2ZW50LmJlaGF2aW9yLnNldHVwRXZlbnRIYW5kbGVycygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgZXZlbnQuaW50ZXJwcmV0ZXI/LmlzUnVubmluZ1xuICAgICAgICAgICAgICAgICAgICBldmVudC5ldmVudHMuZW1pdChcInN0YXJ0XCIsIGV2ZW50KVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmb3IgZXZlbnQgaW4gR2FtZU1hbmFnZXIuY29tbW9uRXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgZXZlbnQucmVjb3JkLnN0YXJ0Q29uZGl0aW9uID09IDEgb3IgZXZlbnQucmVjb3JkLnBhcmFsbGVsXG4gICAgICAgICAgICAgICAgICAgIEBvYmplY3QuY29tbW9uRXZlbnRDb250YWluZXIuYWRkT2JqZWN0KGV2ZW50KVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGV2ZW50LnJlY29yZC5wYXJhbGxlbFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZXZlbnRzLm9uIFwic3RhcnRcIiwgZ3MuQ2FsbEJhY2soXCJvbkF1dG9Db21tb25FdmVudFN0YXJ0XCIsIHRoaXMpLCBudWxsLCBAb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5ldmVudHMub24gXCJmaW5pc2hcIiwgZ3MuQ2FsbEJhY2soXCJvbkF1dG9Db21tb25FdmVudEZpbmlzaFwiLCB0aGlzKSwgbnVsbCwgQG9iamVjdFxuXG4gICAgICAgICAgICAgICAgICAgIGlmIGV2ZW50LmludGVycHJldGVyPy5pc1J1bm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmV2ZW50cy5lbWl0KFwic3RhcnRcIiwgZXZlbnQpXG4gICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB1cCBtYWluIGludGVycHJldGVyLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBJbnRlcnByZXRlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIHNldHVwSW50ZXJwcmV0ZXI6IC0+XG4gICAgICAgIEBvYmplY3QuY29tbWFuZHMgPSBAb2JqZWN0LnNjZW5lRG9jdW1lbnQuaXRlbXMuY29tbWFuZHNcbiAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Quc2NlbmVEYXRhLmludGVycHJldGVyXG4gICAgICAgICAgICBAb2JqZWN0LnJlbW92ZUNvbXBvbmVudChAb2JqZWN0LmludGVycHJldGVyKVxuICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlciA9IEBvYmplY3Quc2NlbmVEYXRhLmludGVycHJldGVyXG4gICAgICAgICAgICBAb2JqZWN0LmFkZENvbXBvbmVudChAb2JqZWN0LmludGVycHJldGVyKVxuICAgICAgICAgICAgI09iamVjdC5taXhpbihAb2JqZWN0LmludGVycHJldGVyLCBAb2JqZWN0LnNjZW5lRGF0YS5pbnRlcnByZXRlciwgZ3MuQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlci5vYmplY3RDb2RlY0JsYWNrTGlzdClcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIuY29udGV4dC5zZXQoQG9iamVjdC5zY2VuZURvY3VtZW50LnVpZCwgQG9iamVjdClcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIub2JqZWN0ID0gQG9iamVjdFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAb2JqZWN0LmludGVycHJldGVyLnNldHVwKClcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIuc3RhcnQoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIGNoYXJhY3RlcnMgYW5kIHJlc3RvcmVzIHRoZW0gZnJvbSBsb2FkZWQgc2F2ZSBnYW1lIGlmIG5lY2Vzc2FyeS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwQ2hhcmFjdGVyc1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICBcbiAgICBzZXR1cENoYXJhY3RlcnM6IC0+XG4gICAgICAgIGlmIEBvYmplY3Quc2NlbmVEYXRhLmNoYXJhY3RlcnM/XG4gICAgICAgICAgICBmb3IgYywgaSBpbiBAb2JqZWN0LnNjZW5lRGF0YS5jaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgQG9iamVjdC5jaGFyYWN0ZXJDb250YWluZXIuc2V0T2JqZWN0KGMsIGkpXG4gICAgICAgIFxuICAgICAgICBAb2JqZWN0LmN1cnJlbnRDaGFyYWN0ZXIgPSBAb2JqZWN0LnNjZW5lRGF0YS5jdXJyZW50Q2hhcmFjdGVyIHx8IHsgbmFtZTogXCJcIiB9I1JlY29yZE1hbmFnZXIuY2hhcmFjdGVyc1swXVxuICAgICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgYmFja2dyb3VuZHMgYW5kIHJlc3RvcmVzIHRoZW0gZnJvbSBsb2FkZWQgc2F2ZSBnYW1lIGlmIG5lY2Vzc2FyeS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwQmFja2dyb3VuZHNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICBcbiAgICBzZXR1cEJhY2tncm91bmRzOiAtPlxuICAgICAgICBiYWNrZ3JvdW5kcyA9IEBvYmplY3Quc2NlbmVEYXRhPy5iYWNrZ3JvdW5kcyA/IFtdXG4gICAgICAgIGZvciBiLCBpIGluIGJhY2tncm91bmRzXG4gICAgICAgICAgICBAb2JqZWN0LmJhY2tncm91bmRDb250YWluZXIuc2V0T2JqZWN0KGIsIGkpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIHBpY3R1cmVzIGFuZCByZXN0b3JlcyB0aGVtIGZyb20gbG9hZGVkIHNhdmUgZ2FtZSBpZiBuZWNlc3NhcnkuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFBpY3R1cmVzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgXG4gICAgc2V0dXBQaWN0dXJlczogLT5cbiAgICAgICAgcGljdHVyZXMgPSBAb2JqZWN0LnNjZW5lRGF0YT8ucGljdHVyZXMgPyBbXVxuICAgICAgICBmb3IgcGljdHVyZSwgaSBpbiBwaWN0dXJlc1xuICAgICAgICAgICAgQG9iamVjdC5waWN0dXJlQ29udGFpbmVyLnNldE9iamVjdChwaWN0dXJlLCBpKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB1cCB0ZXh0cyBhbmQgcmVzdG9yZXMgdGhlbSBmcm9tIGxvYWRlZCBzYXZlIGdhbWUgaWYgbmVjZXNzYXJ5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBUZXh0c1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgIFxuICAgIHNldHVwVGV4dHM6IC0+XG4gICAgICAgIHRleHRzID0gQG9iamVjdC5zY2VuZURhdGE/LnRleHRzID8gW11cbiAgICAgICAgZm9yIHRleHQsIGkgaW4gdGV4dHNcbiAgICAgICAgICAgIEBvYmplY3QudGV4dENvbnRhaW5lci5zZXRPYmplY3QodGV4dCwgaSlcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdXAgdmlkZW9zIGFuZCByZXN0b3JlcyB0aGVtIGZyb20gbG9hZGVkIHNhdmUgZ2FtZSBpZiBuZWNlc3NhcnkuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFZpZGVvc1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyBcbiAgICBzZXR1cFZpZGVvczogLT5cbiAgICAgICAgdmlkZW9zID0gQG9iamVjdC5zY2VuZURhdGE/LnZpZGVvcyA/IFtdXG4gICAgICAgIGZvciB2aWRlbywgaSBpbiB2aWRlb3NcbiAgICAgICAgICAgIGlmIHZpZGVvXG4gICAgICAgICAgICAgICAgdmlkZW8udmlzaWJsZSA9IHllc1xuICAgICAgICAgICAgICAgIHZpZGVvLnVwZGF0ZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBAb2JqZWN0LnZpZGVvQ29udGFpbmVyLnNldE9iamVjdCh2aWRlbywgaSlcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyB1cCBob3RzcG90cyBhbmQgcmVzdG9yZXMgdGhlbSBmcm9tIGxvYWRlZCBzYXZlIGdhbWUgaWYgbmVjZXNzYXJ5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBIb3RzcG90c1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgXG4gICAgc2V0dXBIb3RzcG90czogLT5cbiAgICAgICAgaG90c3BvdHMgPSBAb2JqZWN0LnNjZW5lRGF0YT8uaG90c3BvdHMgPyBbXVxuICAgICAgICBmb3IgaG90c3BvdCwgaSBpbiBob3RzcG90c1xuICAgICAgICAgICAgQG9iamVjdC5ob3RzcG90Q29udGFpbmVyLnNldE9iamVjdChob3RzcG90LCBpKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIGFuIGltYWdlLW1hcCBhbmQgcmVzdG9yZXMgdGhlbSBmcm9tIGxvYWRlZCBzYXZlIGdhbWUgaWYgbmVjZXNzYXJ5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBJbWFnZU1hcFxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgXG4gICAgc2V0dXBJbWFnZU1hcDogLT5cbiAgICAgICAgaW1hZ2VNYXAgPSBAb2JqZWN0LnNjZW5lRGF0YT8uaW1hZ2VNYXBcbiAgICAgICAgXG4gICAgICAgIGlmIGltYWdlTWFwXG4gICAgICAgICAgICBAb2JqZWN0LmltYWdlTWFwID0gaW1hZ2VNYXBcbiAgICAgICAgICAgIEBvYmplY3QuYWRkT2JqZWN0KGltYWdlTWFwKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIGxheW91dC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwTGF5b3V0XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjICAgICAgIFxuICAgIHNldHVwTGF5b3V0OiAtPlxuICAgICAgICBAZGF0YUZpZWxkcyA9IHVpLlVJTWFuYWdlci5kYXRhU291cmNlc1t1aS5VaUZhY3RvcnkubGF5b3V0cy5nYW1lTGF5b3V0LmRhdGFTb3VyY2UgfHwgXCJkZWZhdWx0XCJdKClcbiAgICAgICAgQGRhdGFGaWVsZHMuc2NlbmUgPSBAb2JqZWN0XG4gICAgICAgIHdpbmRvdy4kZGF0YUZpZWxkcyA9IEBkYXRhRmllbGRzXG4gICAgICAgIGFkdlZpc2libGUgPSBAb2JqZWN0Lm1lc3NhZ2VNb2RlID09IHZuLk1lc3NhZ2VNb2RlLkFEVlxuICAgICAgICBudmxWaXNpYmxlID0gQG9iamVjdC5tZXNzYWdlTW9kZSA9PSB2bi5NZXNzYWdlTW9kZS5OVkxcbiAgICAgICAgQG9iamVjdC5sYXlvdXROVkwgPSB1aS5VaUZhY3RvcnkuY3JlYXRlRnJvbURlc2NyaXB0b3IodWkuVWlGYWN0b3J5LmxheW91dHMuZ2FtZUxheW91dE5WTCwgQG9iamVjdClcbiAgICAgICAgQG9iamVjdC5sYXlvdXQgPSB1aS5VaUZhY3RvcnkuY3JlYXRlRnJvbURlc2NyaXB0b3IodWkuVWlGYWN0b3J5LmxheW91dHMuZ2FtZUxheW91dCwgQG9iamVjdClcbiAgICAgICAgQG9iamVjdC5sYXlvdXROVkwudmlzaWJsZSA9IG52bFZpc2libGVcbiAgICAgICAgQG9iamVjdC5sYXlvdXQudmlzaWJsZSA9IGFkdlZpc2libGVcbiAgICAgICAgJGdhbWVNZXNzYWdlTlZMX21lc3NhZ2UudmlzaWJsZSA9IG52bFZpc2libGVcbiAgICAgICAgJGdhbWVNZXNzYWdlX21lc3NhZ2UudmlzaWJsZSA9IGFkdlZpc2libGVcbiAgICAgICAgQG9iamVjdC5sYXlvdXQudWkucHJlcGFyZSgpXG4gICAgICAgIEBvYmplY3QubGF5b3V0TlZMLnVpLnByZXBhcmUoKVxuICAgICAgICBcbiAgICAgICAgaWYgJHRlbXBGaWVsZHMuY2hvaWNlcz8ubGVuZ3RoID4gMFxuICAgICAgICAgICAgQHNob3dDaG9pY2VzKEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMuY2hvaWNlcywgZ3MuQ2FsbEJhY2soXCJvbkNob2ljZUFjY2VwdFwiLCBAb2JqZWN0LmludGVycHJldGVyLCB7IHBvaW50ZXI6IEBvYmplY3QuaW50ZXJwcmV0ZXIucG9pbnRlciwgcGFyYW1zOiBAcGFyYW1zIH0pKVxuICAgIFxuICAgICAgICBpZiBAb2JqZWN0LmludGVycHJldGVyLndhaXRpbmdGb3IuaW5wdXROdW1iZXJcbiAgICAgICAgICAgIEBzaG93SW5wdXROdW1iZXIoR2FtZU1hbmFnZXIudGVtcEZpZWxkcy5kaWdpdHMsIGdzLkNhbGxCYWNrKFwib25JbnB1dE51bWJlckZpbmlzaFwiLCBAb2JqZWN0LmludGVycHJldGVyLCBAb2JqZWN0LmludGVycHJldGVyKSlcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LmludGVycHJldGVyLndhaXRpbmdGb3IuaW5wdXRUZXh0XG4gICAgICAgICAgICBAc2hvd0lucHV0VGV4dChHYW1lTWFuYWdlci50ZW1wRmllbGRzLmxldHRlcnMsIGdzLkNhbGxCYWNrKFwib25JbnB1dFRleHRGaW5pc2hcIiwgQG9iamVjdC5pbnRlcnByZXRlciwgQG9iamVjdC5pbnRlcnByZXRlcikpXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHVwIHNjcmVlbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwU2NyZWVuXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjIFxuICAgIHNldHVwU2NyZWVuOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnNjZW5lRGF0YS5zY3JlZW5cbiAgICAgICAgICAgIEBvYmplY3Qudmlld3BvcnQucmVzdG9yZShAb2JqZWN0LnNjZW5lRGF0YS5zY3JlZW4pXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyBtYWluIGludGVycHJldGVyIGZyb20gbG9hZGVkIHNhdmUgZ2FtZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVJbnRlcnByZXRlclxuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgIFxuICAgIHJlc3RvcmVJbnRlcnByZXRlcjogLT5cbiAgICAgICAgaWYgQG9iamVjdC5zY2VuZURhdGEuaW50ZXJwcmV0ZXJcbiAgICAgICAgICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIucmVzdG9yZSgpXG4gICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgbWVzc2FnZSBib3ggZnJvbSBsb2FkZWQgc2F2ZSBnYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdG9yZU1lc3NhZ2VCb3hcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgIFxuICAgIHJlc3RvcmVNZXNzYWdlQm94OiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnNjZW5lRGF0YT8ubWVzc2FnZUJveFxuICAgICAgICAgICAgaWYgQG9iamVjdC5tZXNzYWdlTW9kZSA9PSB2bi5NZXNzYWdlTW9kZS5OVkxcbiAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJtZXNzYWdlQm94TlZMXCIpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwibWVzc2FnZUJveFwiKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC52aXNpYmxlID0gQG9iamVjdC5zY2VuZURhdGEubWVzc2FnZUJveC52aXNpYmxlXG4gICAgICAgICAgICBtZXNzYWdlID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJnYW1lTWVzc2FnZV9tZXNzYWdlXCIpXG4gICAgICAgICAgICBtZXNzYWdlLnRleHRSZW5kZXJlci5kaXNwb3NlKClcbiAgICAgICAgICAgIE9iamVjdC5taXhpbihtZXNzYWdlLCBAb2JqZWN0LnNjZW5lRGF0YS5tZXNzYWdlQm94Lm1lc3NhZ2UsIHVpLk9iamVjdF9NZXNzYWdlLm9iamVjdENvZGVjQmxhY2tMaXN0LmNvbmNhdChbXCJvcmlnaW5cIl0pKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgYyBpbiBtZXNzYWdlLmNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjLm9iamVjdCA9IG1lc3NhZ2VcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgbWVzc2FnZSBmcm9tIGxvYWRlZCBzYXZlIGdhbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlTWVzc2FnZXNcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAjIyMgICAgICAgICAgICAgIFxuICAgIHJlc3RvcmVNZXNzYWdlczogLT5cbiAgICAgICAgaWYgQG9iamVjdC5tZXNzYWdlTW9kZSA9PSB2bi5NZXNzYWdlTW9kZS5OVkxcbiAgICAgICAgICAgICAgICBtZXNzYWdlT2JqZWN0ID0gZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50Lm9iamVjdEJ5SWQoXCJnYW1lTWVzc2FnZU5WTF9tZXNzYWdlXCIpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdCA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiZ2FtZU1lc3NhZ2VfbWVzc2FnZVwiKVxuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5zY2VuZURhdGE/Lm1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QucmVzdG9yZShAb2JqZWN0LnNjZW5lRGF0YS5tZXNzYWdlKVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIEBvYmplY3Quc2NlbmVEYXRhPy5tZXNzYWdlc1xuICAgICAgICAgICAgbWVzc2FnZU9iamVjdC5tZXNzYWdlLnJlc3RvcmVNZXNzYWdlcyhAb2JqZWN0LnNjZW5lRGF0YS5tZXNzYWdlcylcbiAgICAgICAgICAgIG1lc3NhZ2VPYmplY3QudGV4dFJlbmRlcmVyLnJlc3RvcmUoQG9iamVjdC5zY2VuZURhdGEubWVzc2FnZVRleHRSZW5kZXJlcilcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnNjZW5lRGF0YT8ubWVzc2FnZUFyZWFzXG4gICAgICAgICAgICBAb2JqZWN0Lm1lc3NhZ2VBcmVhcyA9IEBvYmplY3Quc2NlbmVEYXRhLm1lc3NhZ2VBcmVhcy5zZWxlY3QgKGYsIGkpIC0+IFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBmXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMYXlvdXQgPSB1aS5VSU1hbmFnZXIuY3JlYXRlQ29udHJvbEZyb21EZXNjcmlwdG9yKHR5cGU6IFwidWkuQ3VzdG9tR2FtZU1lc3NhZ2VcIiwgaWQ6IFwiY3VzdG9tR2FtZU1lc3NhZ2VfXCIraSwgcGFyYW1zOiB7IGlkOiBcImN1c3RvbUdhbWVNZXNzYWdlX1wiK2kgfSwgQG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5vYmplY3RCeUlkKFwiY3VzdG9tR2FtZU1lc3NhZ2VfXCIraStcIl9tZXNzYWdlXCIpXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5taXhpbihtZXNzYWdlLCBmLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgIGZvciBjIGluIG1lc3NhZ2UuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5vYmplY3QgPSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICNtZXNzYWdlLnJlc3RvcmUoZi5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LnggPSBmLmxheW91dC5kc3RSZWN0LnhcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LnkgPSBmLmxheW91dC5kc3RSZWN0LnlcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxheW91dC5kc3RSZWN0LndpZHRoID0gZi5sYXlvdXQuZHN0UmVjdC53aWR0aFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGF5b3V0LmRzdFJlY3QuaGVpZ2h0ID0gZi5sYXlvdXQuZHN0UmVjdC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxheW91dC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlTGF5b3V0LnVwZGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICNtZXNzYWdlLm1lc3NhZ2UucmVzdG9yZU1lc3NhZ2VzKGYubWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgICAgICNtZXNzYWdlLnRleHRSZW5kZXJlci5yZXN0b3JlKGYudGV4dFJlbmRlcmVyKVxuICAgICAgICAgICAgICAgICAgICAjbWVzc2FnZS52aXNpYmxlID0geWVzXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG1lc3NhZ2U6IG1lc3NhZ2UsIGxheW91dDogbWVzc2FnZUxheW91dFxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyBhdWRpby1wbGF5YmFjayBmcm9tIGxvYWRlZCBzYXZlIGdhbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlQXVkaW9QbGF5YmFja1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgICAgIFxuICAgIHJlc3RvcmVBdWRpb1BsYXliYWNrOiAtPlxuICAgICAgICBpZiBAb2JqZWN0LnNjZW5lRGF0YS5hdWRpb1xuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmF1ZGlvQnVmZmVycy5wdXNoKGIpIGZvciBiIGluIEBvYmplY3Quc2NlbmVEYXRhLmF1ZGlvLmF1ZGlvQnVmZmVyc1xuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmF1ZGlvQnVmZmVyc0J5TGF5ZXIgPSBAb2JqZWN0LnNjZW5lRGF0YS5hdWRpby5hdWRpb0J1ZmZlcnNCeUxheWVyXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIuYXVkaW9MYXllcnMgPSBAb2JqZWN0LnNjZW5lRGF0YS5hdWRpby5hdWRpb0xheWVyc1xuICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLnNvdW5kUmVmZXJlbmNlcyA9IEBvYmplY3Quc2NlbmVEYXRhLmF1ZGlvLnNvdW5kUmVmZXJlbmNlc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcyBhbGwgZGF0YSBmb3IgdGhlIHNjZW5lIGFuZCBsb2FkcyB0aGUgbmVjZXNzYXJ5IGdyYXBoaWMgYW5kIGF1ZGlvIHJlc291cmNlcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHByZXBhcmVEYXRhXG4gICAgKiBAYWJzdHJhY3RcbiAgICAjIyNcbiAgICBwcmVwYXJlRGF0YTogLT5cbiAgICAgICAgUmVjb3JkTWFuYWdlci50cmFuc2xhdGUoKVxuICAgICAgICBcbiAgICAgICAgR2FtZU1hbmFnZXIudGVtcEZpZWxkcy5pbkdhbWUgPSB5ZXNcbiAgICAgICAgR2FtZU1hbmFnZXIuc2NlbmUgPSBAb2JqZWN0XG5cbiAgICAgICAgZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50ID0gQG9iamVjdE1hbmFnZXJcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3Quc2NlbmVEYXRhLnVpZCA9IEBvYmplY3Quc2NlbmVEb2N1bWVudC51aWRcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiAhUmVzb3VyY2VMb2FkZXIubG9hZEV2ZW50Q29tbWFuZHNEYXRhKEBvYmplY3Quc2NlbmVEb2N1bWVudC5pdGVtcy5jb21tYW5kcylcbiAgICAgICAgICAgIFJlc291cmNlTG9hZGVyLmxvYWRFdmVudENvbW1hbmRzR3JhcGhpY3MoQG9iamVjdC5zY2VuZURvY3VtZW50Lml0ZW1zLmNvbW1hbmRzKVxuICAgICAgICAgICAgR2FtZU1hbmFnZXIuYmFja2xvZyA9IEdhbWVNYW5hZ2VyLnNjZW5lRGF0YS5iYWNrbG9nIHx8IFtdXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFJlc291cmNlTG9hZGVyLmxvYWRTeXN0ZW1Tb3VuZHMoKVxuICAgICAgICAgICAgUmVzb3VyY2VMb2FkZXIubG9hZFN5c3RlbUdyYXBoaWNzKClcbiAgICAgICAgICAgIFJlc291cmNlTG9hZGVyLmxvYWRVaVR5cGVzR3JhcGhpY3ModWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzKVxuICAgICAgICAgICAgUmVzb3VyY2VMb2FkZXIubG9hZFVpTGF5b3V0R3JhcGhpY3ModWkuVWlGYWN0b3J5LmxheW91dHMuZ2FtZUxheW91dClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQGRhdGFGaWVsZHM/XG4gICAgICAgICAgICAgICAgUmVzb3VyY2VMb2FkZXIubG9hZFVpRGF0YUZpZWxkc0dyYXBoaWNzKEBkYXRhRmllbGRzKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgJHRlbXBGaWVsZHMuY2hvaWNlVGltZXIgPSBAb2JqZWN0LmNob2ljZVRpbWVyXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnZhcmlhYmxlU3RvcmUuc2V0dXAoeyBpZDogQG9iamVjdC5zY2VuZURvY3VtZW50LnVpZH0pXG4gICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBQcmVwYXJlcyBhbGwgdmlzdWFsIGdhbWUgb2JqZWN0IGZvciB0aGUgc2NlbmUuXG4gICAgKlxuICAgICogQG1ldGhvZCBwcmVwYXJlVmlzdWFsXG4gICAgIyMjIFxuICAgIHByZXBhcmVWaXN1YWw6IC0+XG4gICAgICAgIGlmIEBvYmplY3QubGF5b3V0IHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBzYXZlR2FtZSA9IEdhbWVNYW5hZ2VyLmxvYWRlZFNhdmVHYW1lXG4gICAgICAgIGlmIHNhdmVHYW1lXG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3IGdzLk9iamVjdENvZGVjQ29udGV4dChbR3JhcGhpY3Mudmlld3BvcnQsIEBvYmplY3QsIHRoaXNdLCBzYXZlR2FtZS5lbmNvZGVkT2JqZWN0U3RvcmUsIG51bGwpXG4gICAgICAgICAgICBzYXZlR2FtZS5kYXRhID0gZ3MuT2JqZWN0Q29kZWMuZGVjb2RlKHNhdmVHYW1lLmRhdGEsIGNvbnRleHQpXG4gICAgICAgICAgICBncy5PYmplY3RDb2RlYy5vblJlc3RvcmUoc2F2ZUdhbWUuZGF0YSwgY29udGV4dClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgR2FtZU1hbmFnZXIucmVzdG9yZShzYXZlR2FtZSlcbiAgICAgICAgICAgIEBvYmplY3Quc2NlbmVEYXRhID0gc2F2ZUdhbWUuZGF0YVxuICAgICAgICAgICAgR3JhcGhpY3MuZnJhbWVDb3VudCA9IHNhdmVHYW1lLmRhdGEuZnJhbWVDb3VudFxuICAgICAgICBcbiAgICAgICAgaWYgIUBvYmplY3Quc2NlbmVEYXRhLnZpZXdwb3J0XG4gICAgICAgICAgICBAdmlld3BvcnQgPSBuZXcgVmlld3BvcnQoMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodCwgR3JhcGhpY3Mudmlld3BvcnQpXG4gICAgICAgICAgICBAb2JqZWN0LnZpZXdwb3J0ID0gbmV3IGdzLk9iamVjdF9WaWV3cG9ydChAdmlld3BvcnQpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBvYmplY3Qudmlld3BvcnQgPSBAb2JqZWN0LnNjZW5lRGF0YS52aWV3cG9ydFxuICAgICAgICAgICAgQHZpZXdwb3J0ID0gQG9iamVjdC52aWV3cG9ydC52aXN1YWwudmlld3BvcnRcbiAgICAgICAgICAgIEB2aWV3cG9ydC52aWV3cG9ydCA9IEdyYXBoaWNzLnZpZXdwb3J0XG4gICAgICAgICAgICBAb2JqZWN0LmFkZE9iamVjdChAb2JqZWN0LnZpZXdwb3J0KVxuICAgICAgICAgICAgXG4gICAgICAgIEBvYmplY3QubWVzc2FnZU1vZGUgPSBAb2JqZWN0LnNjZW5lRGF0YS5tZXNzYWdlTW9kZSA/IHZuLk1lc3NhZ2VNb2RlLkFEVlxuICAgICAgICBcbiAgICAgICAgQHNldHVwQ2hhcmFjdGVycygpXG4gICAgICAgIEBzZXR1cEJhY2tncm91bmRzKClcbiAgICAgICAgQHNldHVwUGljdHVyZXMoKVxuICAgICAgICBAc2V0dXBUZXh0cygpXG4gICAgICAgIEBzZXR1cFZpZGVvcygpXG4gICAgICAgIEBzZXR1cEhvdHNwb3RzKClcbiAgICAgICAgQHNldHVwSW1hZ2VNYXAoKVxuICAgICAgICBAc2V0dXBJbnRlcnByZXRlcigpXG4gICAgICAgIEBzZXR1cExheW91dCgpXG4gICAgICAgIEBzZXR1cENvbW1vbkV2ZW50cygpXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIEByZXN0b3JlTWVzc2FnZUJveCgpXG4gICAgICAgIEByZXN0b3JlSW50ZXJwcmV0ZXIoKVxuICAgICAgICBAcmVzdG9yZU1lc3NhZ2VzKClcbiAgICAgICAgQHJlc3RvcmVBdWRpb1BsYXliYWNrKClcbiAgICAgICAgXG4gICAgICAgIEBzaG93KHRydWUpXG4gICAgICAgIFxuICAgICAgICAjaWYgQG9iamVjdC5jb21wb25lbnRzLmNvbnRhaW5zKEBvYmplY3QuaW50ZXJwcmV0ZXIpXG4gICAgICAgICMgICAgQG9iamVjdC5pbnRlcnByZXRlci51cGRhdGUoKVxuICAgICAgICAjICAgIEBvYmplY3QuaW50ZXJwcmV0ZXIudXBkYXRlKClcbiAgICAgICAgIyAgICBAb2JqZWN0LnBpY3R1cmVDb250YWluZXIudXBkYXRlKClcbiAgICAgICAgIyAgICBAb2JqZWN0LnBpY3R1cmVDb250YWluZXIudXBkYXRlKClcbiAgICAgICBcbiAgICAgICAgQG9iamVjdC5zY2VuZURhdGEgPSB7fVxuICAgICAgICBHYW1lTWFuYWdlci5zY2VuZURhdGEgPSB7fVxuICAgICAgICBcbiAgICAgICAgR3JhcGhpY3MudXBkYXRlKClcbiAgICAgICAgQHRyYW5zaXRpb24oeyBkdXJhdGlvbjogMCB9KVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBZGRzIGEgbmV3IGNoYXJhY3RlciB0byB0aGUgc2NlbmUuXG4gICAgKlxuICAgICogQG1ldGhvZCBhZGRDaGFyYWN0ZXJcbiAgICAqIEBwYXJhbSB7dm4uT2JqZWN0X0NoYXJhY3Rlcn0gY2hhcmFjdGVyIC0gVGhlIGNoYXJhY3RlciB0byBhZGQuXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5vQW5pbWF0aW9uIC0gSW5kaWNhdGVzIGlmIHRoZSBjaGFyYWN0ZXIgc2hvdWxkIGJlIGFkZGVkIGltbWVkaWF0ZWx5IHdpdG91dCBhbnkgYXBwZWFyLWFuaW1hdGlvbi5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmltYXRpb25EYXRhIC0gQ29udGFpbnMgdGhlIGFwcGVhci1hbmltYXRpb24gZGF0YSAtPiB7IGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiB9LlxuICAgICMjIyBcbiAgICBhZGRDaGFyYWN0ZXI6IChjaGFyYWN0ZXIsIG5vQW5pbWF0aW9uLCBhbmltYXRpb25EYXRhKSAtPlxuICAgICAgICB1bmxlc3Mgbm9BbmltYXRpb25cbiAgICAgICAgICAgIGNoYXJhY3Rlci5tb3Rpb25CbHVyLnNldChhbmltYXRpb25EYXRhLm1vdGlvbkJsdXIpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGFuaW1hdGlvbkRhdGEuZHVyYXRpb24gPiAwXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyLmFuaW1hdG9yLmFwcGVhcihjaGFyYWN0ZXIuZHN0UmVjdC54LCBjaGFyYWN0ZXIuZHN0UmVjdC55LCBhbmltYXRpb25EYXRhLmFuaW1hdGlvbiwgYW5pbWF0aW9uRGF0YS5lYXNpbmcsIGFuaW1hdGlvbkRhdGEuZHVyYXRpb24pIHVubGVzcyBub0FuaW1hdGlvblxuICAgICAgICBcbiAgICAgICAgY2hhcmFjdGVyLnZpZXdwb3J0ID0gQHZpZXdwb3J0XG4gICAgICAgIGNoYXJhY3Rlci52aXNpYmxlID0geWVzIFxuICAgIFxuICAgICAgICBAb2JqZWN0LmNoYXJhY3RlckNvbnRhaW5lci5hZGRPYmplY3QoY2hhcmFjdGVyKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBSZW1vdmVzIGEgY2hhcmFjdGVyIGZyb20gdGhlIHNjZW5lLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVtb3ZlQ2hhcmFjdGVyXG4gICAgKiBAcGFyYW0ge3ZuLk9iamVjdF9DaGFyYWN0ZXJ9IGNoYXJhY3RlciAtIFRoZSBjaGFyYWN0ZXIgdG8gcmVtb3ZlLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGFuaW1hdGlvbkRhdGEgLSBDb250YWlucyB0aGUgZGlzYXBwZWFyLWFuaW1hdGlvbiBkYXRhIC0+IHsgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uIH0uXG4gICAgIyMjXG4gICAgcmVtb3ZlQ2hhcmFjdGVyOiAoY2hhcmFjdGVyLCBhbmltYXRpb25EYXRhKSAtPlxuICAgICAgICBjaGFyYWN0ZXI/LmFuaW1hdG9yLmRpc2FwcGVhcihhbmltYXRpb25EYXRhLmFuaW1hdGlvbiwgYW5pbWF0aW9uRGF0YS5lYXNpbmcsIGFuaW1hdGlvbkRhdGEuZHVyYXRpb24sIChzZW5kZXIpIC0+IHNlbmRlci5kaXNwb3NlKCkpXG4gICAgXG4gICAgXG4gICAgc2hvd0lucHV0VGV4dDogKGxldHRlcnMsIGNhbGxiYWNrKSAtPlxuICAgICAgICBAb2JqZWN0LmlucHV0VGV4dEJveD8uZGlzcG9zZSgpXG4gICAgICAgIEBvYmplY3QuaW5wdXRUZXh0Qm94ID0gdWkuVWlGYWN0b3J5LmNyZWF0ZUNvbnRyb2xGcm9tRGVzY3JpcHRvcih1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5JbnB1dFRleHRCb3hcIl0sIEBvYmplY3QpXG4gICAgICAgIEBvYmplY3QuaW5wdXRUZXh0Qm94LnVpLnByZXBhcmUoKVxuICAgICAgICBAb2JqZWN0LmlucHV0VGV4dEJveC5ldmVudHMub24oXCJhY2NlcHRcIiwgY2FsbGJhY2spXG4gICAgICAgIFxuICAgIHNob3dJbnB1dE51bWJlcjogKGRpZ2l0cywgY2FsbGJhY2spIC0+XG4gICAgICAgIEBvYmplY3QuaW5wdXROdW1iZXJCb3g/LmRpc3Bvc2UoKVxuICAgICAgICBAb2JqZWN0LmlucHV0TnVtYmVyQm94ID0gdWkuVWlGYWN0b3J5LmNyZWF0ZUNvbnRyb2xGcm9tRGVzY3JpcHRvcih1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5JbnB1dE51bWJlckJveFwiXSwgQG9iamVjdClcbiAgICAgICAgQG9iamVjdC5pbnB1dE51bWJlckJveC51aS5wcmVwYXJlKClcbiAgICAgICAgQG9iamVjdC5pbnB1dE51bWJlckJveC5ldmVudHMub24oXCJhY2NlcHRcIiwgY2FsbGJhY2spICAgIFxuICAgICAgICBcbiAgICBzaG93Q2hvaWNlczogKGNob2ljZXMsIGNhbGxiYWNrKSAtPlxuICAgICAgICB1c2VGcmVlTGF5b3V0ID0gY2hvaWNlcy53aGVyZSgoeCkgLT4geC5kc3RSZWN0PykubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgIFxuICAgICAgICBHYW1lTWFuYWdlci50ZW1wRmllbGRzLmNob2ljZXMgPSBjaG9pY2VzIFxuICAgICAgICBAb2JqZWN0LmNob2ljZVdpbmRvdz8uZGlzcG9zZSgpXG4gICAgICAgIFxuICAgICAgICBpZiB1c2VGcmVlTGF5b3V0XG4gICAgICAgICAgICBAb2JqZWN0LmNob2ljZVdpbmRvdyA9IHVpLlVpRmFjdG9yeS5jcmVhdGVDb250cm9sRnJvbURlc2NyaXB0b3IodWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuRnJlZUNob2ljZUJveFwiXSwgQG9iamVjdClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQG9iamVjdC5jaG9pY2VXaW5kb3cgPSB1aS5VaUZhY3RvcnkuY3JlYXRlQ29udHJvbEZyb21EZXNjcmlwdG9yKHVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkNob2ljZUJveFwiXSwgQG9iamVjdClcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuY2hvaWNlV2luZG93LmV2ZW50cy5vbihcInNlbGVjdGlvbkFjY2VwdFwiLCBjYWxsYmFjaylcbiAgICAgICAgQG9iamVjdC5jaG9pY2VXaW5kb3cudWkucHJlcGFyZSgpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENoYW5nZXMgdGhlIGJhY2tncm91bmQgb2YgdGhlIHNjZW5lLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hhbmdlQmFja2dyb3VuZFxuICAgICogQHBhcmFtIHtPYmplY3R9IGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBncmFwaGljIG9iamVjdCAtPiB7IG5hbWUgfVxuICAgICogQHBhcmFtIHtib29sZWFufSBub0FuaW1hdGlvbiAtIEluZGljYXRlcyBpZiB0aGUgYmFja2dyb3VuZCBzaG91bGQgYmUgY2hhbmdlZCBpbW1lZGlhdGVseSB3aXRvdXQgYW55IGNoYW5nZS1hbmltYXRpb24uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYW5pbWF0aW9uIC0gVGhlIGFwcGVhci9kaXNhcHBlYXIgYW5pbWF0aW9uIHRvIHVzZS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmcgLSBUaGUgZWFzaW5nIG9mIHRoZSBjaGFuZ2UgYW5pbWF0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIC0gVGhlIGR1cmF0aW9uIG9mIHRoZSBjaGFuZ2UgaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IG94IC0gVGhlIHgtb3JpZ2luIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IG95IC0gVGhlIHktb3JpZ2luIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGxheWVyIC0gVGhlIGJhY2tncm91bmQtbGF5ZXIgdG8gY2hhbmdlLlxuICAgICogQHBhcmFtIHtib29sZWFufSBsb29wSG9yaXpvbnRhbCAtIEluZGljYXRlcyBpZiB0aGUgYmFja2dyb3VuZCBzaG91bGQgYmUgbG9vcGVkIGhvcml6b250YWxseS5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcFZlcnRpY2FsIC0gSW5kaWNhdGVzIGlmIHRoZSBiYWNrZ3JvdW5kIHNob3VsZCBiZSBsb29wZWQgdmVydGljYWxseS5cbiAgICAjIyMgICBcbiAgICBjaGFuZ2VCYWNrZ3JvdW5kOiAoYmFja2dyb3VuZCwgbm9BbmltYXRpb24sIGFuaW1hdGlvbiwgZWFzaW5nLCBkdXJhdGlvbiwgb3gsIG95LCBsYXllciwgbG9vcEhvcml6b250YWwsIGxvb3BWZXJ0aWNhbCkgLT5cbiAgICAgICAgaWYgYmFja2dyb3VuZD9cbiAgICAgICAgICAgIG90aGVyT2JqZWN0ID0gQG9iamVjdC5iYWNrZ3JvdW5kc1tsYXllcl1cbiAgICAgICAgICAgIG9iamVjdCA9IG5ldyB2bi5PYmplY3RfQmFja2dyb3VuZCgpXG4gICAgICAgICAgICBvYmplY3QuaW1hZ2UgPSBiYWNrZ3JvdW5kLm5hbWVcbiAgICAgICAgICAgIG9iamVjdC5vcmlnaW4ueCA9IG94XG4gICAgICAgICAgICBvYmplY3Qub3JpZ2luLnkgPSBveVxuICAgICAgICAgICAgb2JqZWN0LnZpZXdwb3J0ID0gQHZpZXdwb3J0XG4gICAgICAgICAgICBvYmplY3QudmlzdWFsLmxvb3BpbmcudmVydGljYWwgPSBub1xuICAgICAgICAgICAgb2JqZWN0LnZpc3VhbC5sb29waW5nLmhvcml6b250YWwgPSBub1xuICAgICAgICAgICAgb2JqZWN0LnVwZGF0ZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIEBvYmplY3QuYmFja2dyb3VuZENvbnRhaW5lci5zZXRPYmplY3Qob2JqZWN0LCBsYXllcilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGR1cmF0aW9uID0gZHVyYXRpb24gPyAzMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBvdGhlck9iamVjdD8uekluZGV4ID0gbGF5ZXJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgZHVyYXRpb24gPT0gMFxuICAgICAgICAgICAgICAgIG90aGVyT2JqZWN0Py5kaXNwb3NlKClcbiAgICAgICAgICAgICAgICBvYmplY3QudmlzdWFsLmxvb3BpbmcudmVydGljYWwgPSBsb29wVmVydGljYWxcbiAgICAgICAgICAgICAgICBvYmplY3QudmlzdWFsLmxvb3BpbmcuaG9yaXpvbnRhbCA9IGxvb3BIb3Jpem9udGFsXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaWYgbm9BbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnZpc3VhbC5sb29waW5nLnZlcnRpY2FsID0gbG9vcFZlcnRpY2FsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC52aXN1YWwubG9vcGluZy5ob3Jpem9udGFsID0gbG9vcEhvcml6b250YWxcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5hbmltYXRvci5vdGhlck9iamVjdCA9IG90aGVyT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5hbmltYXRvci5hcHBlYXIoMCwgMCwgYW5pbWF0aW9uLCBlYXNpbmcsIGR1cmF0aW9uLCAoc2VuZGVyKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci51cGRhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLmFuaW1hdG9yLm90aGVyT2JqZWN0Py5kaXNwb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci52aXN1YWwubG9vcGluZy52ZXJ0aWNhbCA9IGxvb3BWZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLnZpc3VhbC5sb29waW5nLmhvcml6b250YWwgPSBsb29wSG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBvYmplY3QuYmFja2dyb3VuZHNbbGF5ZXJdPy5hbmltYXRvci5oaWRlIGR1cmF0aW9uLCBlYXNpbmcsICA9PlxuICAgICAgICAgICAgICAgQG9iamVjdC5iYWNrZ3JvdW5kc1tsYXllcl0uZGlzcG9zZSgpXG4gICAgICAgICAgICAgICBAb2JqZWN0LmJhY2tncm91bmRzW2xheWVyXSA9IG51bGxcbiAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBzY2VuZSdzIGNvbnRlbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb250ZW50XG4gICAgIyMjICAgICAgXG4gICAgdXBkYXRlQ29udGVudDogLT5cbiAgICAgICAgaWYgIUBvYmplY3Quc2V0dGluZ3MuYWxsb3dTa2lwXG4gICAgICAgICAgICBAb2JqZWN0LnRlbXBTZXR0aW5ncy5za2lwID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICBHcmFwaGljcy52aWV3cG9ydC51cGRhdGUoKVxuICAgICAgICBAb2JqZWN0LnZpZXdwb3J0LnVwZGF0ZSgpXG4gICAgICAgICNAb2JqZWN0LnZpZXdwb3J0LnpJbmRleCA9IDEwMDAwMFxuXG4gICAgICAgIFxuICAgICAgICBpZiBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcFxuICAgICAgICAgICAgZm9yIHBpY3R1cmUgaW4gQG9iamVjdC5waWN0dXJlc1xuICAgICAgICAgICAgICAgIGlmIHBpY3R1cmVcbiAgICAgICAgICAgICAgICAgICAgZm9yIGNvbXBvbmVudCBpbiBwaWN0dXJlLmNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5za2lwPygpXG4gICAgICAgICAgICBmb3IgdGV4dCBpbiBAb2JqZWN0LnRleHRzXG4gICAgICAgICAgICAgICAgaWYgdGV4dFxuICAgICAgICAgICAgICAgICAgICBmb3IgY29tcG9uZW50IGluIHRleHQuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNraXA/KClcbiAgICAgICAgICAgIGZvciB2aWRlbyBpbiBAb2JqZWN0LnZpZGVvc1xuICAgICAgICAgICAgICAgIGlmIHZpZGVvXG4gICAgICAgICAgICAgICAgICAgIGZvciBjb21wb25lbnQgaW4gdmlkZW8uY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNraXA/KClcbiAgICAgICAgICAgIGZvciBiYWNrZ3JvdW5kIGluIEBvYmplY3QuYmFja2dyb3VuZHNcbiAgICAgICAgICAgICAgICBpZiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIGZvciBjb21wb25lbnQgaW4gYmFja2dyb3VuZC5jb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuc2tpcD8oKVxuICAgICAgICAgICAgZm9yIGNoYXJhY3RlciBpbiBAb2JqZWN0LmNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICBpZiBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgZm9yIGNvbXBvbmVudCBpbiBjaGFyYWN0ZXIuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNraXA/KClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAb2JqZWN0LmludGVycHJldGVyLndhaXRDb3VudGVyID4gR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXBUaW1lXG4gICAgICAgICAgICAgICAgQG9iamVjdC5pbnRlcnByZXRlci53YWl0Q291bnRlciA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwVGltZVxuIFxuICAgICAgICBpZiBAb2JqZWN0LnZpZGVvP1xuICAgICAgICAgICAgQG9iamVjdC52aWRlby51cGRhdGUoKVxuICAgICAgICAgICAgaWYgQG9iamVjdC5zZXR0aW5ncy5hbGxvd1ZpZGVvU2tpcCBhbmQgKElucHV0LnRyaWdnZXIoSW5wdXQuQykgb3IgSW5wdXQuTW91c2UuYnV0dG9uc1tJbnB1dC5Nb3VzZS5MRUZUXSA9PSAyKVxuICAgICAgICAgICAgICAgIEBvYmplY3QudmlkZW8uc3RvcCgpXG4gICAgICAgICAgICBJbnB1dC5jbGVhcigpXG4gICAgICAgIFxuICAgICAgICBpZiBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3MubWVudUFjY2VzcyBhbmQgSW5wdXQudHJpZ2dlcihJbnB1dC5YKVxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLnN3aXRjaFRvKG5ldyBncy5PYmplY3RfTGF5b3V0KFwic2V0dGluZ3NNZW51TGF5b3V0XCIpLCB0cnVlKVxuICAgICAgICBpZiBJbnB1dC50cmlnZ2VyKElucHV0LktFWV9FU0NBUEUpXG4gICAgICAgICAgICBncy5BcHBsaWNhdGlvbi5leGl0KClcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0LnNldHRpbmdzLmFsbG93U2tpcFxuICAgICAgICAgICAgaWYgSW5wdXQua2V5c1tJbnB1dC5LRVlfQ09OVFJPTF0gPT0gMVxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwID0geWVzXG4gICAgICAgICAgICBlbHNlIGlmIElucHV0LmtleXNbSW5wdXQuS0VZX0NPTlRST0xdID09IDJcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3Muc2tpcCA9IG5vXG5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbnZuLkNvbXBvbmVudF9HYW1lU2NlbmVCZWhhdmlvciA9IENvbXBvbmVudF9HYW1lU2NlbmVCZWhhdmlvciJdfQ==
//# sourceURL=Component_GameSceneBehavior_41.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Animation_169.js
var Component_Animation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_Animation = (function(superClass) {
  extend(Component_Animation, superClass);


  /**
  * The base-class of all animation components. An animation-component
  * executes a certain animation on a game object. The type of the animation depends
  * on the component. <br>
  * <br>
  * In regular, animation components a used together with the gs.Component_Animator
  * component.
  *
  * @module gs
  * @class Component_Animation
  * @extends gs.Component
  * @memberof gs
  * @constructor
   */

  function Component_Animation() {
    Component_Animation.__super__.constructor.apply(this, arguments);
  }


  /**
  * Updates the animation. 
  *
  * @method update
   */

  Component_Animation.prototype.update = function() {
    return this.object.needsFullUpdate = true;
  };


  /**
  * Skips the animation. That is used to skip an animation if the user
  * wants to skip very fast through a visual novel scene.
  *
  * @method skip
   */

  Component_Animation.prototype.skip = function() {
    var ref;
    if (((ref = this.easing) != null ? ref.duration : void 0) > GameManager.tempSettings.skipTime) {
      this.easing.duration = GameManager.tempSettings.skipTime;
      return this.easing.time = 0;
    }
  };

  return Component_Animation;

})(gs.Component);

gs.Component_Animation = Component_Animation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsbUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7Ozs7O0VBY2EsNkJBQUE7SUFDVCxzREFBQSxTQUFBO0VBRFM7OztBQUdiOzs7Ozs7Z0NBS0EsTUFBQSxHQUFRLFNBQUE7V0FDSixJQUFDLENBQUEsTUFBTSxDQUFDLGVBQVIsR0FBMEI7RUFEdEI7OztBQUdSOzs7Ozs7O2dDQU1BLElBQUEsR0FBTSxTQUFBO0FBQ0YsUUFBQTtJQUFBLHNDQUFVLENBQUUsa0JBQVQsR0FBb0IsV0FBVyxDQUFDLFlBQVksQ0FBQyxRQUFoRDtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixHQUFtQixXQUFXLENBQUMsWUFBWSxDQUFDO2FBQzVDLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixHQUFlLEVBRm5COztFQURFOzs7O0dBaEN3QixFQUFFLENBQUM7O0FBc0NyQyxFQUFFLENBQUMsbUJBQUgsR0FBeUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9BbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9BbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBUaGUgYmFzZS1jbGFzcyBvZiBhbGwgYW5pbWF0aW9uIGNvbXBvbmVudHMuIEFuIGFuaW1hdGlvbi1jb21wb25lbnRcbiAgICAqIGV4ZWN1dGVzIGEgY2VydGFpbiBhbmltYXRpb24gb24gYSBnYW1lIG9iamVjdC4gVGhlIHR5cGUgb2YgdGhlIGFuaW1hdGlvbiBkZXBlbmRzXG4gICAgKiBvbiB0aGUgY29tcG9uZW50LiA8YnI+XG4gICAgKiA8YnI+XG4gICAgKiBJbiByZWd1bGFyLCBhbmltYXRpb24gY29tcG9uZW50cyBhIHVzZWQgdG9nZXRoZXIgd2l0aCB0aGUgZ3MuQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgKiBjb21wb25lbnQuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcbiAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBhbmltYXRpb24uIFxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgQG9iamVjdC5uZWVkc0Z1bGxVcGRhdGUgPSB5ZXNcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2tpcHMgdGhlIGFuaW1hdGlvbi4gVGhhdCBpcyB1c2VkIHRvIHNraXAgYW4gYW5pbWF0aW9uIGlmIHRoZSB1c2VyXG4gICAgKiB3YW50cyB0byBza2lwIHZlcnkgZmFzdCB0aHJvdWdoIGEgdmlzdWFsIG5vdmVsIHNjZW5lLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2tpcFxuICAgICMjIyAgICBcbiAgICBza2lwOiAtPlxuICAgICAgICBpZiBAZWFzaW5nPy5kdXJhdGlvbiA+IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwVGltZVxuICAgICAgICAgICAgQGVhc2luZy5kdXJhdGlvbiA9IEdhbWVNYW5hZ2VyLnRlbXBTZXR0aW5ncy5za2lwVGltZVxuICAgICAgICAgICAgQGVhc2luZy50aW1lID0gMFxuICAgICAgICBcbiAgICBcbmdzLkNvbXBvbmVudF9BbmltYXRpb24gPSBDb21wb25lbnRfQW5pbWF0aW9uIl19
//# sourceURL=Component_Animation_12.js
var Component_BlendAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_BlendAnimation = (function(superClass) {
  extend(Component_BlendAnimation, superClass);


  /**
  * Executes a blend-animation on a game-object.
  *
  * @module gs
  * @class Component_BlendAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_BlendAnimation(data) {
    Component_BlendAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
  }


  /**
  * Serializes the blend-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_BlendAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing
    };
  };


  /**
  * Updates the blend-animation.
  *
  * @method update
   */

  Component_BlendAnimation.prototype.update = function() {
    Component_BlendAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    this.object.opacity = this.easing.value;
    if (!this.easing.isRunning) {
      this.object.opacity = Math.round(this.object.opacity);
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the blend-animation.
  *
  * @method start
  * @param {number} opacity The target opacity.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_BlendAnimation.prototype.start = function(opacity, duration, easingType, callback) {
    this.callback = callback;
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (this.object.opacity === opacity) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
    if (duration === 0) {
      this.object.opacity = opacity;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      return this.easing.startValue(this.object.opacity, opacity - this.object.opacity, duration);
    }
  };

  return Component_BlendAnimation;

})(gs.Component_Animation);

gs.Component_BlendAnimation = Component_BlendAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGtDQUFDLElBQUQ7SUFDVCwyREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQVYsaUJBQWdCLElBQUksQ0FBRSxlQUF0QjtFQVJMOzs7QUFVYjs7Ozs7O3FDQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7O0VBRFU7OztBQUdkOzs7Ozs7cUNBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixzREFBQSxTQUFBO0lBQ0EsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtBQUE4QixhQUE5Qjs7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLFdBQVIsQ0FBQTtJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixHQUFrQixJQUFDLENBQUEsTUFBTSxDQUFDO0lBRTFCLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQVIsR0FBa0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQW5CO21EQUNsQixJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUSxlQUZ4Qjs7RUFQSTs7O0FBV1I7Ozs7Ozs7Ozs7cUNBU0EsS0FBQSxHQUFPLFNBQUMsT0FBRCxFQUFVLFFBQVYsRUFBb0IsVUFBcEIsRUFBZ0MsUUFBaEM7SUFDSCxJQUFDLENBQUEsUUFBRCxHQUFZO0lBQ1osSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLEdBQWUsVUFBQSxJQUFjLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBWSxDQUFBLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBZjtJQUNwRCxJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixLQUFtQixPQUF0QjtBQUFtQyxtREFBTyxJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUSxlQUE5RDs7SUFFQSxJQUFHLFFBQUEsS0FBWSxDQUFmO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLEdBQWtCO21EQUNsQixJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUSxlQUZ4QjtLQUFBLE1BQUE7YUFJSSxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUEzQixFQUFvQyxPQUFBLEdBQVUsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUF0RCxFQUErRCxRQUEvRCxFQUpKOztFQUxHOzs7O0dBckQ0QixFQUFFLENBQUM7O0FBZ0UxQyxFQUFFLENBQUMsd0JBQUgsR0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9CbGVuZEFuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0JsZW5kQW5pbWF0aW9uIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgYmxlbmQtYW5pbWF0aW9uIG9uIGEgZ2FtZS1vYmplY3QuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9CbGVuZEFuaW1hdGlvblxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGVhc2luZy1vYmplY3QgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgZWFzaW5nXG4gICAgICAgICogQHR5cGUgZ3MuRWFzaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAZWFzaW5nID0gbmV3IGdzLkVhc2luZyhudWxsLCBkYXRhPy5lYXNpbmcpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIGJsZW5kLWFuaW1hdGlvbiBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAjIyNcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGVhc2luZzogQGVhc2luZ1xuICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBibGVuZC1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGVhc2luZy51cGRhdGVWYWx1ZSgpXG4gICAgICAgIEBvYmplY3Qub3BhY2l0eSA9IEBlYXNpbmcudmFsdWVcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZ1xuICAgICAgICAgICAgQG9iamVjdC5vcGFjaXR5ID0gTWF0aC5yb3VuZChAb2JqZWN0Lm9wYWNpdHkpXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSBibGVuZC1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIHRhcmdldCBvcGFjaXR5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbGxlZCBpZiBibGVuZGluZyBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICBcbiAgICBzdGFydDogKG9wYWNpdHksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIGlmIEBvYmplY3Qub3BhY2l0eSA9PSBvcGFjaXR5IHRoZW4gcmV0dXJuIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIEBvYmplY3Qub3BhY2l0eSA9IG9wYWNpdHlcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGVhc2luZy5zdGFydFZhbHVlKEBvYmplY3Qub3BhY2l0eSwgb3BhY2l0eSAtIEBvYmplY3Qub3BhY2l0eSwgZHVyYXRpb24pXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0JsZW5kQW5pbWF0aW9uID0gQ29tcG9uZW50X0JsZW5kQW5pbWF0aW9uIl19
//# sourceURL=Component_BlendAnimation_17.js
var Component_MaskAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_MaskAnimation = (function(superClass) {
  extend(Component_MaskAnimation, superClass);


  /**
  * Executes a mask-animation on a game-object.
  *
  * @module gs
  * @class Component_MaskAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_MaskAnimation(data) {
    Component_MaskAnimation.__super__.constructor.apply(this, arguments);
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
    this.callback = null;
    this.animationType = (data != null ? data.animationType : void 0) || 0;
  }


  /**
  * Serializes the mask-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_MaskAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      animationType: this.animationType
    };
  };


  /**
  * Updates the mask-animation.
  *
  * @method update
   */

  Component_MaskAnimation.prototype.update = function() {
    Component_MaskAnimation.__super__.update.call(this);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    this.object.mask.value = this.easing.value;
    if (!this.easing.isRunning) {
      if (this.animationType < 1) {
        this.object.mask.source = null;
        this.object.mask.vague = 0;
      }
      this.animationType = 0;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Lets the game object appear on screen using a masking-effect.
  *
  * @method maskIn
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MaskAnimation.prototype.maskIn = function(mask, duration, easing, callback) {
    this.easing.type = easing;
    this.animationType = 0;
    this.callback = callback;
    this.object.mask.type = 1;
    this.object.mask.source = ResourceManager.getBitmap("Graphics/Masks/" + mask.graphic.name);
    this.object.mask.vague = mask.vague;
    this.object.mask.value = 255;
    return this.easing.startValue(255, -255 - mask.vague, duration);
  };


  /**
  * Lets the game object disappear from screen using a masking-effect.
  *
  * @method maskIn
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MaskAnimation.prototype.maskOut = function(mask, duration, easing, callback) {
    this.easing.type = easing;
    this.animationType = 0;
    this.callback = callback;
    this.object.mask.type = 1;
    this.object.mask.source = ResourceManager.getBitmap("Graphics/Masks/" + mask.graphic.name);
    this.object.mask.vague = mask.vague;
    this.object.mask.value = 0;
    return this.easing.startValue(-mask.vague, 255 + mask.vague, duration);
  };


  /**
  * Description follows...
  *
  * @method maskTo
  * @param {gs.Mask} mask The mask used for the animation.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MaskAnimation.prototype.maskTo = function(mask, duration, easing, callback) {
    var ref, ref1, ref2;
    this.easing.type = easing;
    this.animationType = 1;
    this.callback = callback;
    this.object.mask.type = 1;
    if (mask.sourceType === 0) {
      this.object.mask.source = ResourceManager.getBitmap("Graphics/Masks/" + mask.graphic.name);
    } else {
      if (((ref = this.object.mask.source) != null ? ref.videoElement : void 0) != null) {
        this.object.mask.source.pause();
      }
      this.object.mask.source = ResourceManager.getVideo("Movies/" + mask.video.name);
      if ((ref1 = this.object.mask.source) != null) {
        ref1.play();
      }
      if ((ref2 = this.object.mask.source) != null) {
        ref2.loop = true;
      }
    }
    this.object.mask.vague = mask.vague;
    if (duration === 0) {
      this.animationType = 0;
      this.object.mask.value = mask.value;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      return this.easing.startValue(this.object.mask.value, mask.value - this.object.mask.value, duration);
    }
  };

  return Component_MaskAnimation;

})(gs.Component_Animation);

gs.Component_MaskAnimation = Component_MaskAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGlDQUFDLElBQUQ7SUFDVCwwREFBQSxTQUFBO0lBRUEsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixpQkFBZ0IsSUFBSSxDQUFFLGVBQXRCO0lBQ2QsSUFBQyxDQUFBLFFBQUQsR0FBWTtJQUNaLElBQUMsQ0FBQSxhQUFELG1CQUFpQixJQUFJLENBQUUsdUJBQU4sSUFBdUI7RUFML0I7OztBQU9iOzs7Ozs7b0NBS0EsWUFBQSxHQUFjLFNBQUE7V0FDVjtNQUFBLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFBVDtNQUNBLGFBQUEsRUFBZSxJQUFDLENBQUEsYUFEaEI7O0VBRFU7OztBQUlkOzs7Ozs7b0NBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixrREFBQTtJQUNBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7QUFBOEIsYUFBOUI7O0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLENBQUE7SUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLEdBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFFN0IsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtNQUNJLElBQUcsSUFBQyxDQUFBLGFBQUQsR0FBaUIsQ0FBcEI7UUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLEdBQXNCO1FBQ3RCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsR0FBcUIsRUFGekI7O01BR0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7bURBQ2pCLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFRLGVBTHhCOztFQVBJOzs7QUFjUjs7Ozs7Ozs7OztvQ0FTQSxNQUFBLEdBQVEsU0FBQyxJQUFELEVBQU8sUUFBUCxFQUFpQixNQUFqQixFQUF5QixRQUF6QjtJQUNKLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixHQUFlO0lBQ2YsSUFBQyxDQUFBLGFBQUQsR0FBaUI7SUFDakIsSUFBQyxDQUFBLFFBQUQsR0FBWTtJQUVaLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQWIsR0FBb0I7SUFDcEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBYixHQUFzQixlQUFlLENBQUMsU0FBaEIsQ0FBMEIsaUJBQUEsR0FBa0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUF6RDtJQUN0QixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLEdBQXFCLElBQUksQ0FBQztJQUMxQixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFiLEdBQXFCO1dBRXJCLElBQUMsQ0FBQSxNQUFNLENBQUMsVUFBUixDQUFtQixHQUFuQixFQUF3QixDQUFDLEdBQUQsR0FBTyxJQUFJLENBQUMsS0FBcEMsRUFBMkMsUUFBM0M7RUFWSTs7O0FBWVI7Ozs7Ozs7Ozs7b0NBU0EsT0FBQSxHQUFTLFNBQUMsSUFBRCxFQUFPLFFBQVAsRUFBaUIsTUFBakIsRUFBeUIsUUFBekI7SUFDTCxJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsR0FBZTtJQUNmLElBQUMsQ0FBQSxhQUFELEdBQWlCO0lBQ2pCLElBQUMsQ0FBQSxRQUFELEdBQVk7SUFFWixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFiLEdBQW9CO0lBQ3BCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsR0FBc0IsZUFBZSxDQUFDLFNBQWhCLENBQTBCLGlCQUFBLEdBQWtCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBekQ7SUFDdEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixHQUFxQixJQUFJLENBQUM7SUFDMUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixHQUFxQjtXQUVyQixJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsQ0FBQyxJQUFJLENBQUMsS0FBekIsRUFBZ0MsR0FBQSxHQUFNLElBQUksQ0FBQyxLQUEzQyxFQUFrRCxRQUFsRDtFQVZLOzs7QUFZVDs7Ozs7Ozs7OztvQ0FTQSxNQUFBLEdBQVEsU0FBQyxJQUFELEVBQU8sUUFBUCxFQUFpQixNQUFqQixFQUF5QixRQUF6QjtBQUNKLFFBQUE7SUFBQSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsR0FBZTtJQUNmLElBQUMsQ0FBQSxhQUFELEdBQWlCO0lBQ2pCLElBQUMsQ0FBQSxRQUFELEdBQVk7SUFFWixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFiLEdBQW9CO0lBR3BCLElBQUcsSUFBSSxDQUFDLFVBQUwsS0FBbUIsQ0FBdEI7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFiLEdBQXNCLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixpQkFBQSxHQUFrQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQXpELEVBRDFCO0tBQUEsTUFBQTtNQUdJLElBQUcsNkVBQUg7UUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBcEIsQ0FBQSxFQURKOztNQUdBLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQWIsR0FBc0IsZUFBZSxDQUFDLFFBQWhCLENBQXlCLFNBQUEsR0FBVSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQTlDOztZQUNILENBQUUsSUFBckIsQ0FBQTs7O1lBQ21CLENBQUUsSUFBckIsR0FBNEI7T0FSaEM7O0lBVUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBYixHQUFxQixJQUFJLENBQUM7SUFFMUIsSUFBRyxRQUFBLEtBQVksQ0FBZjtNQUNJLElBQUMsQ0FBQSxhQUFELEdBQWlCO01BQ2pCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsR0FBcUIsSUFBSSxDQUFDO21EQUMxQixJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUSxlQUh4QjtLQUFBLE1BQUE7YUFLSSxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBaEMsRUFBdUMsSUFBSSxDQUFDLEtBQUwsR0FBYSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFqRSxFQUF3RSxRQUF4RSxFQUxKOztFQXBCSTs7OztHQWhHMEIsRUFBRSxDQUFDOztBQTJIekMsRUFBRSxDQUFDLHVCQUFILEdBQTZCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfTWFza0FuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X01hc2tBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBtYXNrLWFuaW1hdGlvbiBvbiBhIGdhbWUtb2JqZWN0LlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfTWFza0FuaW1hdGlvblxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nID0gbmV3IGdzLkVhc2luZyhudWxsLCBkYXRhPy5lYXNpbmcpXG4gICAgICAgIEBjYWxsYmFjayA9IG51bGxcbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSBkYXRhPy5hbmltYXRpb25UeXBlIHx8IDBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBtYXNrLWFuaW1hdGlvbiBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAjIyMgICAgICAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgZWFzaW5nOiBAZWFzaW5nLFxuICAgICAgICBhbmltYXRpb25UeXBlOiBAYW5pbWF0aW9uVHlwZVxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIG1hc2stYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmcgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudXBkYXRlVmFsdWUoKVxuICAgICAgICBAb2JqZWN0Lm1hc2sudmFsdWUgPSBAZWFzaW5nLnZhbHVlXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmdcbiAgICAgICAgICAgIGlmIEBhbmltYXRpb25UeXBlIDwgMVxuICAgICAgICAgICAgICAgIEBvYmplY3QubWFzay5zb3VyY2UgPSBudWxsXG4gICAgICAgICAgICAgICAgQG9iamVjdC5tYXNrLnZhZ3VlID0gMFxuICAgICAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAwXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyB0aGUgZ2FtZSBvYmplY3QgYXBwZWFyIG9uIHNjcmVlbiB1c2luZyBhIG1hc2tpbmctZWZmZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgbWFza0luXG4gICAgKiBAcGFyYW0ge2dzLk1hc2t9IG1hc2sgVGhlIG1hc2sgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgICAgICAgXG4gICAgbWFza0luOiAobWFzaywgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIC0+XG4gICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1xuICAgICAgICBAYW5pbWF0aW9uVHlwZSA9IDBcbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QubWFzay50eXBlID0gMVxuICAgICAgICBAb2JqZWN0Lm1hc2suc291cmNlID0gUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL01hc2tzLyN7bWFzay5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgIEBvYmplY3QubWFzay52YWd1ZSA9IG1hc2sudmFndWVcbiAgICAgICAgQG9iamVjdC5tYXNrLnZhbHVlID0gMjU1XG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nLnN0YXJ0VmFsdWUoMjU1LCAtMjU1IC0gbWFzay52YWd1ZSwgZHVyYXRpb24pXG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyB0aGUgZ2FtZSBvYmplY3QgZGlzYXBwZWFyIGZyb20gc2NyZWVuIHVzaW5nIGEgbWFza2luZy1lZmZlY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBtYXNrSW5cbiAgICAqIEBwYXJhbSB7Z3MuTWFza30gbWFzayBUaGUgbWFzayB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuIFxuICAgICMjIyAgICAgIFxuICAgIG1hc2tPdXQ6IChtYXNrLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nXG4gICAgICAgIEBhbmltYXRpb25UeXBlID0gMFxuICAgICAgICBAY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICBcbiAgICAgICAgQG9iamVjdC5tYXNrLnR5cGUgPSAxXG4gICAgICAgIEBvYmplY3QubWFzay5zb3VyY2UgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3ttYXNrLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgQG9iamVjdC5tYXNrLnZhZ3VlID0gbWFzay52YWd1ZVxuICAgICAgICBAb2JqZWN0Lm1hc2sudmFsdWUgPSAwXG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nLnN0YXJ0VmFsdWUoLW1hc2sudmFndWUsIDI1NSArIG1hc2sudmFndWUsIGR1cmF0aW9uKVxuICAgIFxuICAgICMjIypcbiAgICAqIERlc2NyaXB0aW9uIGZvbGxvd3MuLi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1hc2tUb1xuICAgICogQHBhcmFtIHtncy5NYXNrfSBtYXNrIFRoZSBtYXNrIHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICAgIFxuICAgIG1hc2tUbzogKG1hc2ssIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSAtPlxuICAgICAgICBAZWFzaW5nLnR5cGUgPSBlYXNpbmdcbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAxXG4gICAgICAgIEBjYWxsYmFjayA9IGNhbGxiYWNrXG5cbiAgICAgICAgQG9iamVjdC5tYXNrLnR5cGUgPSAxXG5cbiAgICAgICAgIyBGSVhNRTogRG91YmxlZCBjb2RlLCBzZWUgQ29tbWFuZEludGVycHJldGVyLmNvbW1hbmRNYXNrUGljdHVyZVxuICAgICAgICBpZiBtYXNrLnNvdXJjZVR5cGUgPT0gMFxuICAgICAgICAgICAgQG9iamVjdC5tYXNrLnNvdXJjZSA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9NYXNrcy8je21hc2suZ3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpZiBAb2JqZWN0Lm1hc2suc291cmNlPy52aWRlb0VsZW1lbnQ/XG4gICAgICAgICAgICAgICAgQG9iamVjdC5tYXNrLnNvdXJjZS5wYXVzZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBAb2JqZWN0Lm1hc2suc291cmNlID0gUmVzb3VyY2VNYW5hZ2VyLmdldFZpZGVvKFwiTW92aWVzLyN7bWFzay52aWRlby5uYW1lfVwiKVxuICAgICAgICAgICAgQG9iamVjdC5tYXNrLnNvdXJjZT8ucGxheSgpXG4gICAgICAgICAgICBAb2JqZWN0Lm1hc2suc291cmNlPy5sb29wID0gdHJ1ZVxuICAgICAgICAgICAgXG4gICAgICAgIEBvYmplY3QubWFzay52YWd1ZSA9IG1hc2sudmFndWVcblxuICAgICAgICBpZiBkdXJhdGlvbiA9PSAwXG4gICAgICAgICAgICBAYW5pbWF0aW9uVHlwZSA9IDBcbiAgICAgICAgICAgIEBvYmplY3QubWFzay52YWx1ZSA9IG1hc2sudmFsdWVcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGVhc2luZy5zdGFydFZhbHVlKEBvYmplY3QubWFzay52YWx1ZSwgbWFzay52YWx1ZSAtIEBvYmplY3QubWFzay52YWx1ZSwgZHVyYXRpb24pXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X01hc2tBbmltYXRpb24gPSBDb21wb25lbnRfTWFza0FuaW1hdGlvbiJdfQ==
//# sourceURL=Component_MaskAnimation_36.js
var Component_TintAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_TintAnimation = (function(superClass) {
  extend(Component_TintAnimation, superClass);


  /**
  * Executes a tint-animation on a game-object. The tint is executed on
  * the game object's tone-property.
  *
  * @module gs
  * @class Component_TintAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_TintAnimation(data) {
    Component_TintAnimation.__super__.constructor.apply(this, arguments);
    this.sourceTone = data != null ? data.sourceTone : void 0;
    this.targetTone = data != null ? data.targetTone : void 0;
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
    this.callback = null;
  }


  /**
  * Serializes the tint-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_TintAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      sourceTone: this.sourceTone,
      targetTone: this.targetTone
    };
  };


  /**
  * Updates the tint-animation.
  *
  * @method update
   */

  Component_TintAnimation.prototype.update = function() {
    var a;
    Component_TintAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    a = this.easing.value;
    this.object.tone.red = Math.floor((this.sourceTone.red * a + this.targetTone.red * (255 - a)) / 255);
    this.object.tone.green = Math.floor((this.sourceTone.green * a + this.targetTone.green * (255 - a)) / 255);
    this.object.tone.blue = Math.floor((this.sourceTone.blue * a + this.targetTone.blue * (255 - a)) / 255);
    this.object.tone.grey = Math.floor((this.sourceTone.grey * a + this.targetTone.grey * (255 - a)) / 255);
    if (!this.easing.isRunning) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the tint-animation.
  *
  * @method start
  * @param {gs.Tone} tone The target-tone.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if the animation is finished.
   */

  Component_TintAnimation.prototype.start = function(tone, duration, easing, callback) {
    this.callback = callback;
    if (this.object.tone.red === tone.red && this.object.tone.green === tone.green && this.object.tone.blue === tone.blue && this.object.tone.grey === tone.grey) {
      if (typeof this.callback === "function") {
        this.callback(this.object, this);
      }
    }
    if (duration === 0) {
      this.object.tone = tone;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      this.sourceTone = new Tone(this.object.tone);
      this.targetTone = tone;
      this.callback = callback;
      this.easing.type = easing;
      return this.easing.startValue(255, -255, duration);
    }
  };

  return Component_TintAnimation;

})(gs.Component_Animation);

gs.Component_TintAnimation = Component_TintAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSxpQ0FBQyxJQUFEO0lBQ1QsMERBQUEsU0FBQTtJQUVBLElBQUMsQ0FBQSxVQUFELGtCQUFjLElBQUksQ0FBRTtJQUNwQixJQUFDLENBQUEsVUFBRCxrQkFBYyxJQUFJLENBQUU7SUFDcEIsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixpQkFBZ0IsSUFBSSxDQUFFLGVBQXRCO0lBQ2QsSUFBQyxDQUFBLFFBQUQsR0FBWTtFQU5IOzs7QUFRYjs7Ozs7O29DQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7TUFDQSxVQUFBLEVBQVksSUFBQyxDQUFBLFVBRGI7TUFFQSxVQUFBLEVBQVksSUFBQyxDQUFBLFVBRmI7O0VBRFU7OztBQUtkOzs7Ozs7b0NBS0EsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEscURBQUEsU0FBQTtJQUNBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7QUFBOEIsYUFBOUI7O0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLENBQUE7SUFDQSxDQUFBLEdBQUksSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUVaLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQWIsR0FBbUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLElBQUMsQ0FBQSxVQUFVLENBQUMsR0FBWixHQUFrQixDQUFsQixHQUFzQixJQUFDLENBQUEsVUFBVSxDQUFDLEdBQVosR0FBa0IsQ0FBQyxHQUFBLEdBQU0sQ0FBUCxDQUF6QyxDQUFBLEdBQXNELEdBQWpFO0lBQ25CLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsR0FBcUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLElBQUMsQ0FBQSxVQUFVLENBQUMsS0FBWixHQUFvQixDQUFwQixHQUF3QixJQUFDLENBQUEsVUFBVSxDQUFDLEtBQVosR0FBb0IsQ0FBQyxHQUFBLEdBQU0sQ0FBUCxDQUE3QyxDQUFBLEdBQTBELEdBQXJFO0lBQ3JCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQWIsR0FBb0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLElBQUMsQ0FBQSxVQUFVLENBQUMsSUFBWixHQUFtQixDQUFuQixHQUF1QixJQUFDLENBQUEsVUFBVSxDQUFDLElBQVosR0FBbUIsQ0FBQyxHQUFBLEdBQU0sQ0FBUCxDQUEzQyxDQUFBLEdBQXdELEdBQW5FO0lBQ3BCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQWIsR0FBb0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLElBQUMsQ0FBQSxVQUFVLENBQUMsSUFBWixHQUFtQixDQUFuQixHQUF1QixJQUFDLENBQUEsVUFBVSxDQUFDLElBQVosR0FBbUIsQ0FBQyxHQUFBLEdBQU0sQ0FBUCxDQUEzQyxDQUFBLEdBQXdELEdBQW5FO0lBRXBCLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7bURBQ0ksSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFEeEI7O0VBWkk7OztBQWdCUjs7Ozs7Ozs7OztvQ0FTQSxLQUFBLEdBQU8sU0FBQyxJQUFELEVBQU8sUUFBUCxFQUFpQixNQUFqQixFQUF5QixRQUF6QjtJQUVILElBQUMsQ0FBQSxRQUFELEdBQVk7SUFDWixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQWIsS0FBb0IsSUFBSSxDQUFDLEdBQXpCLElBQWlDLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQWIsS0FBc0IsSUFBSSxDQUFDLEtBQTVELElBQ0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBYixLQUFxQixJQUFJLENBQUMsSUFEM0IsSUFDb0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBYixLQUFxQixJQUFJLENBQUMsSUFEakU7O1FBRUcsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVE7T0FGdkI7O0lBSUEsSUFBRyxRQUFBLEtBQVksQ0FBZjtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixHQUFlO21EQUNmLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFRLGVBRnhCO0tBQUEsTUFBQTtNQUlJLElBQUMsQ0FBQSxVQUFELEdBQWtCLElBQUEsSUFBQSxDQUFLLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBYjtNQUNsQixJQUFDLENBQUEsVUFBRCxHQUFjO01BQ2QsSUFBQyxDQUFBLFFBQUQsR0FBWTtNQUNaLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBUixHQUFlO2FBQ2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLENBQW1CLEdBQW5CLEVBQXdCLENBQUMsR0FBekIsRUFBOEIsUUFBOUIsRUFSSjs7RUFQRzs7OztHQTNEMkIsRUFBRSxDQUFDOztBQTRFekMsRUFBRSxDQUFDLHVCQUFILEdBQTZCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBDb21wb25lbnRfVGludEFuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X1RpbnRBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSB0aW50LWFuaW1hdGlvbiBvbiBhIGdhbWUtb2JqZWN0LiBUaGUgdGludCBpcyBleGVjdXRlZCBvblxuICAgICogdGhlIGdhbWUgb2JqZWN0J3MgdG9uZS1wcm9wZXJ0eS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1RpbnRBbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgQHNvdXJjZVRvbmUgPSBkYXRhPy5zb3VyY2VUb25lXG4gICAgICAgIEB0YXJnZXRUb25lID0gZGF0YT8udGFyZ2V0VG9uZVxuICAgICAgICBAZWFzaW5nID0gbmV3IGdzLkVhc2luZyhudWxsLCBkYXRhPy5lYXNpbmcpXG4gICAgICAgIEBjYWxsYmFjayA9IG51bGxcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgdGludC1hbmltYXRpb24gaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjICAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgZWFzaW5nOiBAZWFzaW5nLFxuICAgICAgICBzb3VyY2VUb25lOiBAc291cmNlVG9uZSxcbiAgICAgICAgdGFyZ2V0VG9uZTogQHRhcmdldFRvbmVcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgdGludC1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmcgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudXBkYXRlVmFsdWUoKVxuICAgICAgICBhID0gQGVhc2luZy52YWx1ZVxuICAgICAgICBcbiAgICAgICAgQG9iamVjdC50b25lLnJlZCA9IE1hdGguZmxvb3IoKEBzb3VyY2VUb25lLnJlZCAqIGEgKyBAdGFyZ2V0VG9uZS5yZWQgKiAoMjU1IC0gYSkpIC8gMjU1KVxuICAgICAgICBAb2JqZWN0LnRvbmUuZ3JlZW4gPSBNYXRoLmZsb29yKChAc291cmNlVG9uZS5ncmVlbiAqIGEgKyBAdGFyZ2V0VG9uZS5ncmVlbiAqICgyNTUgLSBhKSkgLyAyNTUpXG4gICAgICAgIEBvYmplY3QudG9uZS5ibHVlID0gTWF0aC5mbG9vcigoQHNvdXJjZVRvbmUuYmx1ZSAqIGEgKyBAdGFyZ2V0VG9uZS5ibHVlICogKDI1NSAtIGEpKSAvIDI1NSlcbiAgICAgICAgQG9iamVjdC50b25lLmdyZXkgPSBNYXRoLmZsb29yKChAc291cmNlVG9uZS5ncmV5ICogYSArIEB0YXJnZXRUb25lLmdyZXkgKiAoMjU1IC0gYSkpIC8gMjU1KVxuICAgICAgICBcbiAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNSdW5uaW5nXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIFN0YXJ0cyB0aGUgdGludC1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICogQHBhcmFtIHtncy5Ub25lfSB0b25lIFRoZSB0YXJnZXQtdG9uZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjayBjYWxsZWQgaWYgdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjIFxuICAgIHN0YXJ0OiAodG9uZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIC0+XG5cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgaWYgQG9iamVjdC50b25lLnJlZCA9PSB0b25lLnJlZCBhbmQgQG9iamVjdC50b25lLmdyZWVuID09IHRvbmUuZ3JlZW4gYW5kIFxuICAgICAgICAgICAgQG9iamVjdC50b25lLmJsdWUgPT0gdG9uZS5ibHVlIGFuZCBAb2JqZWN0LnRvbmUuZ3JleSA9PSB0b25lLmdyZXlcbiAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICAgICBcbiAgICAgICAgaWYgZHVyYXRpb24gPT0gMFxuICAgICAgICAgICAgQG9iamVjdC50b25lID0gdG9uZVxuICAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAc291cmNlVG9uZSA9IG5ldyBUb25lKEBvYmplY3QudG9uZSlcbiAgICAgICAgICAgIEB0YXJnZXRUb25lID0gdG9uZVxuICAgICAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1xuICAgICAgICAgICAgQGVhc2luZy5zdGFydFZhbHVlKDI1NSwgLTI1NSwgZHVyYXRpb24pXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X1RpbnRBbmltYXRpb24gPSBDb21wb25lbnRfVGludEFuaW1hdGlvbiJdfQ==
//# sourceURL=Component_TintAnimation_44.js

/**
* Different types of animation looping.
*
* @module gs
* @class AnimationLoopType
* @memberof gs
* @static
* @final
 */
var AnimationLoopType, Component_PathAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

AnimationLoopType = (function() {
  function AnimationLoopType() {}

  AnimationLoopType.initialize = function() {

    /**
    * No looping.
    * @property NONE
    * @static
    * @final
     */
    this.NONE = 0;

    /**
    * Regular looping. If the end of an animation is reached it will start
    * from the beginning.
    * @property NORMAL
    * @static
    * @final
     */
    this.NORMAL = 1;

    /**
    * Reverse looping. If the end of an animation is reached it will be
    * reversed an goes now from end to start.
    * @property REVERSE
    * @static
    * @final
     */
    return this.REVERSE = 2;
  };

  return AnimationLoopType;

})();

AnimationLoopType.initialize();

gs.AnimationLoopType = AnimationLoopType;

Component_PathAnimation = (function(superClass) {
  extend(Component_PathAnimation, superClass);


  /**
  * Executes a path-animation on a game-object. A path-animation moves the
  * game-object along a path of quadratic bezier-curves.
  *
  * @module gs
  * @class Component_PathAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_PathAnimation(data) {
    Component_PathAnimation.__super__.constructor.apply(this, arguments);
    this.path = (data != null ? data.path : void 0) || null;
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
    this.startPosition = (data != null ? data.startPosition : void 0) || null;
    this.loopType = (data != null ? data.loopType : void 0) || 0;
    this.animationType = 0;
    this.effects = (data != null ? data.effects : void 0) || [];
    this.effect = null;
  }


  /**
  * Serializes the path-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_PathAnimation.prototype.toDataBundle = function() {
    return {
      path: this.path,
      easing: this.easing,
      startPosition: this.startPosition,
      loopType: this.loopType
    };
  };


  /**
  * Skips the animation. That is used to skip an animation if the user
  * wants to skip very fast through a visual novel scene.
  *
  * @method skip
   */

  Component_PathAnimation.prototype.skip = function() {
    if (this.loopType === 0 && this.easing.duration > 1) {
      this.easing.duration = 1;
      return this.easing.time = 0;
    }
  };


  /**
  * Calculates a certain point on a specified bezier-curve.
  *
  * @method quadraticBezierPoint
  * @protected
  * @param {number} startPt - The start-point of the bezier-curve.
  * @param {number} controlPt - The control-point of the bezier-curve.
  * @param {number} endPt - The end-point of the bezier-curve.
  * @param {number} percent - The percentage (0.0 - 1.0). A percentage of
  * 0.0 returns the <b>startPt</b> and 1.0 returns the <b>endPt</b> while
  * 0.5 return the point at the middle of the bezier-curve.
   */

  Component_PathAnimation.prototype.quadraticBezierPoint = function(startPt, controlPt, endPt, percent) {
    var x, y;
    x = Math.pow(1 - percent, 2) * startPt.x + 2 * (1 - percent) * percent * controlPt.x + Math.pow(percent, 2) * endPt.x;
    y = Math.pow(1 - percent, 2) * startPt.y + 2 * (1 - percent) * percent * controlPt.y + Math.pow(percent, 2) * endPt.y;
    return {
      x: x,
      y: y
    };
  };


  /**
  * Updates the path-animation.
  *
  * @method update
   */

  Component_PathAnimation.prototype.update = function() {
    var current, curve, effect, i, j, k, len, len1, len2, point, ref, ref1, ref2, value;
    Component_PathAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    value = this.easing.value;
    point = this.path.curveLength / 100 * value;
    ref = this.path.curveLengths;
    for (i = j = 0, len1 = ref.length; j < len1; i = ++j) {
      len = ref[i];
      if (point <= len.len + len.offset) {
        current = {
          percent: (point - len.offset) / len.len,
          path: this.path.data[i]
        };
        break;
      }
    }
    curve = current.path;
    point = this.quadraticBezierPoint(curve.pt1, curve.cpt, curve.pt2, current.percent);
    switch (this.animationType) {
      case 0:
        this.object.dstRect.x = Math.round(point.x - this.path.data[0].pt1.x + this.startPosition.x);
        this.object.dstRect.y = Math.round(point.y - this.path.data[0].pt1.y + this.startPosition.y);
        break;
      case 2:
        this.object.visual.scroll.x = Math.round(point.x - this.path.data[0].pt1.x + this.startPosition.x);
        this.object.visual.scroll.y = Math.round(point.y - this.path.data[0].pt1.y + this.startPosition.y);
    }
    ref1 = this.effects;
    for (k = 0, len2 = ref1.length; k < len2; k++) {
      effect = ref1[k];
      if ((!this.effect || (this.effect !== effect && ((ref2 = this.effect) != null ? ref2.time : void 0) <= effect.time)) && this.easing.time >= effect.time) {
        this.effect = effect;
        AudioManager.playSound(this.effect.sound);
      }
    }
    if (!this.easing.isRunning) {
      switch (this.loopType) {
        case 0:
          return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
        case 1:
          this.easing.startValue(0, 100, this.easing.duration);
          this.startPosition.x = this.object.dstRect.x;
          return this.startPosition.y = this.object.dstRect.y;
        case 2:
          this.effect = null;
          return this.easing.startValue(this.easing.value, 100 - this.easing.value * 2, this.easing.duration);
      }
    }
  };


  /**
  * Starts the path-animation. Scrolls the game object along the path.
  *
  * @method scrollPath
  * @param {Object} path The path to follow.
  * @param {gs.AnimationLoopType} loopType The loop-Type.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_PathAnimation.prototype.scroll = function(path, loopType, duration, easingType, effects, callback) {
    this.start(path, loopType, duration, easingType, callback);
    return this.animationType = 2;
  };


  /**
  * Starts the path-animation.
  *
  * @method movePath
  * @param {Object} path The path to follow.
  * @param {gs.AnimationLoopType} loopType The loop-Type.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_PathAnimation.prototype.start = function(path, loopType, duration, easingType, effects, callback) {
    var curve, j, l, len1, length, lengths, point, ref, x, y;
    this.effects = effects || [];
    this.effect = null;
    this.callback = callback;
    this.loopType = loopType;
    this.path = {
      data: path || [],
      curveLength: null,
      curveLengths: null
    };
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    this.easing.startValue(0, 100, duration);
    this.startPosition = {
      x: this.object.dstRect.x,
      y: this.object.dstRect.y
    };
    if (this.path.data.length === 0) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else if (duration === 0) {
      point = this.path.data.last().pt2;
      this.object.dstRect.x = Math.round(point.x - this.path.data[0].pt1.x + this.startPosition.x);
      this.object.dstRect.y = Math.round(point.y - this.path.data[0].pt1.y + this.startPosition.y);
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else if (this.path.curveLength == null) {
      length = 0;
      lengths = [];
      ref = this.path.data;
      for (j = 0, len1 = ref.length; j < len1; j++) {
        curve = ref[j];
        x = (curve.cpt.x - curve.pt1.x) + (curve.pt2.x - curve.cpt.x);
        y = (curve.cpt.y - curve.pt1.y) + (curve.pt2.y - curve.cpt.y);
        l = Math.round(Math.sqrt(x * x + y * y));
        lengths.push({
          len: l,
          offset: length
        });
        length += l;
      }
      this.path.curveLength = length;
      return this.path.curveLengths = lengths;
    }
  };

  return Component_PathAnimation;

})(gs.Component_Animation);

gs.Component_PathAnimation = Component_PathAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7O0FBQUEsSUFBQSwwQ0FBQTtFQUFBOzs7QUFTTTs7O0VBQ0YsaUJBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7O0lBTUEsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7OztJQU9BLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7Ozs7V0FPQSxJQUFDLENBQUEsT0FBRCxHQUFXO0VBekJGOzs7Ozs7QUEyQmpCLGlCQUFpQixDQUFDLFVBQWxCLENBQUE7O0FBQ0EsRUFBRSxDQUFDLGlCQUFILEdBQXVCOztBQUVqQjs7OztBQUNGOzs7Ozs7Ozs7OztFQVVhLGlDQUFDLElBQUQ7SUFDVCwwREFBQSxTQUFBO0lBRUEsSUFBQyxDQUFBLElBQUQsbUJBQVEsSUFBSSxDQUFFLGNBQU4sSUFBYztJQUN0QixJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxJQUFWLGlCQUFnQixJQUFJLENBQUUsZUFBdEI7SUFDZCxJQUFDLENBQUEsYUFBRCxtQkFBaUIsSUFBSSxDQUFFLHVCQUFOLElBQXVCO0lBQ3hDLElBQUMsQ0FBQSxRQUFELG1CQUFZLElBQUksQ0FBRSxrQkFBTixJQUFrQjtJQUM5QixJQUFDLENBQUEsYUFBRCxHQUFpQjtJQUNqQixJQUFDLENBQUEsT0FBRCxtQkFBVyxJQUFJLENBQUUsaUJBQU4sSUFBaUI7SUFDNUIsSUFBQyxDQUFBLE1BQUQsR0FBVTtFQVREOzs7QUFVYjs7Ozs7O29DQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxJQUFBLEVBQU0sSUFBQyxDQUFBLElBQVA7TUFDQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BRFQ7TUFFQSxhQUFBLEVBQWUsSUFBQyxDQUFBLGFBRmhCO01BR0EsUUFBQSxFQUFVLElBQUMsQ0FBQSxRQUhYOztFQURVOzs7QUFNZDs7Ozs7OztvQ0FN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QUFPLDZCQUFQO01BQ0QsTUFBQSxHQUFTO01BQ1QsT0FBQSxHQUFVO0FBRVY7QUFBQSxXQUFBLHVDQUFBOztRQUNJLENBQUEsR0FBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBVixHQUFjLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBekIsQ0FBQSxHQUE4QixDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBVixHQUFjLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBekI7UUFDbEMsQ0FBQSxHQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFWLEdBQWMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUF6QixDQUFBLEdBQThCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFWLEdBQWMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUF6QjtRQUNsQyxDQUFBLEdBQUksSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFJLENBQUMsSUFBTCxDQUFVLENBQUEsR0FBRSxDQUFGLEdBQU0sQ0FBQSxHQUFFLENBQWxCLENBQVg7UUFFSixPQUFPLENBQUMsSUFBUixDQUFhO1VBQUUsR0FBQSxFQUFLLENBQVA7VUFBVSxNQUFBLEVBQVEsTUFBbEI7U0FBYjtRQUNBLE1BQUEsSUFBVTtBQU5kO01BUUEsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLEdBQW9CO2FBQ3BCLElBQUMsQ0FBQSxJQUFJLENBQUMsWUFBTixHQUFxQixRQWJwQjs7RUFqQkY7Ozs7R0FsSTJCLEVBQUUsQ0FBQzs7QUFrS3pDLEVBQUUsQ0FBQyx1QkFBSCxHQUE2QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1BhdGhBbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuIyMjKlxuKiBEaWZmZXJlbnQgdHlwZXMgb2YgYW5pbWF0aW9uIGxvb3BpbmcuXG4qXG4qIEBtb2R1bGUgZ3NcbiogQGNsYXNzIEFuaW1hdGlvbkxvb3BUeXBlXG4qIEBtZW1iZXJvZiBnc1xuKiBAc3RhdGljXG4qIEBmaW5hbFxuIyMjXG5jbGFzcyBBbmltYXRpb25Mb29wVHlwZVxuICAgIEBpbml0aWFsaXplOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogTm8gbG9vcGluZy5cbiAgICAgICAgKiBAcHJvcGVydHkgTk9ORVxuICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgKiBAZmluYWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBOT05FID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFJlZ3VsYXIgbG9vcGluZy4gSWYgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gaXMgcmVhY2hlZCBpdCB3aWxsIHN0YXJ0XG4gICAgICAgICogZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAgICAqIEBwcm9wZXJ0eSBOT1JNQUxcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBATk9STUFMID0gMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFJldmVyc2UgbG9vcGluZy4gSWYgdGhlIGVuZCBvZiBhbiBhbmltYXRpb24gaXMgcmVhY2hlZCBpdCB3aWxsIGJlXG4gICAgICAgICogcmV2ZXJzZWQgYW4gZ29lcyBub3cgZnJvbSBlbmQgdG8gc3RhcnQuXG4gICAgICAgICogQHByb3BlcnR5IFJFVkVSU0VcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAUkVWRVJTRSA9IDJcbiAgICAgICAgXG5BbmltYXRpb25Mb29wVHlwZS5pbml0aWFsaXplKClcbmdzLkFuaW1hdGlvbkxvb3BUeXBlID0gQW5pbWF0aW9uTG9vcFR5cGVcblxuY2xhc3MgQ29tcG9uZW50X1BhdGhBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBwYXRoLWFuaW1hdGlvbiBvbiBhIGdhbWUtb2JqZWN0LiBBIHBhdGgtYW5pbWF0aW9uIG1vdmVzIHRoZVxuICAgICogZ2FtZS1vYmplY3QgYWxvbmcgYSBwYXRoIG9mIHF1YWRyYXRpYyBiZXppZXItY3VydmVzLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfUGF0aEFuaW1hdGlvblxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBAcGF0aCA9IGRhdGE/LnBhdGggfHwgbnVsbFxuICAgICAgICBAZWFzaW5nID0gbmV3IGdzLkVhc2luZyhudWxsLCBkYXRhPy5lYXNpbmcpXG4gICAgICAgIEBzdGFydFBvc2l0aW9uID0gZGF0YT8uc3RhcnRQb3NpdGlvbiB8fCBudWxsXG4gICAgICAgIEBsb29wVHlwZSA9IGRhdGE/Lmxvb3BUeXBlIHx8IDBcbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAwXG4gICAgICAgIEBlZmZlY3RzID0gZGF0YT8uZWZmZWN0cyB8fCBbXVxuICAgICAgICBAZWZmZWN0ID0gbnVsbFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIHBhdGgtYW5pbWF0aW9uIGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICMjI1xuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgcGF0aDogQHBhdGgsXG4gICAgICAgIGVhc2luZzogQGVhc2luZyxcbiAgICAgICAgc3RhcnRQb3NpdGlvbjogQHN0YXJ0UG9zaXRpb24sXG4gICAgICAgIGxvb3BUeXBlOiBAbG9vcFR5cGVcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2tpcHMgdGhlIGFuaW1hdGlvbi4gVGhhdCBpcyB1c2VkIHRvIHNraXAgYW4gYW5pbWF0aW9uIGlmIHRoZSB1c2VyXG4gICAgKiB3YW50cyB0byBza2lwIHZlcnkgZmFzdCB0aHJvdWdoIGEgdmlzdWFsIG5vdmVsIHNjZW5lLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2tpcFxuICAgICMjIyAgICAgIFxuICAgIHNraXA6IC0+XG4gICAgICAgIGlmIEBsb29wVHlwZSA9PSAwIGFuZCBAZWFzaW5nLmR1cmF0aW9uID4gMVxuICAgICAgICAgICAgQGVhc2luZy5kdXJhdGlvbiA9IDFcbiAgICAgICAgICAgIEBlYXNpbmcudGltZSA9IDBcbiAgICAgXG4gICAgIyMjKlxuICAgICogQ2FsY3VsYXRlcyBhIGNlcnRhaW4gcG9pbnQgb24gYSBzcGVjaWZpZWQgYmV6aWVyLWN1cnZlLlxuICAgICpcbiAgICAqIEBtZXRob2QgcXVhZHJhdGljQmV6aWVyUG9pbnRcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFB0IC0gVGhlIHN0YXJ0LXBvaW50IG9mIHRoZSBiZXppZXItY3VydmUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gY29udHJvbFB0IC0gVGhlIGNvbnRyb2wtcG9pbnQgb2YgdGhlIGJlemllci1jdXJ2ZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRQdCAtIFRoZSBlbmQtcG9pbnQgb2YgdGhlIGJlemllci1jdXJ2ZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50IC0gVGhlIHBlcmNlbnRhZ2UgKDAuMCAtIDEuMCkuIEEgcGVyY2VudGFnZSBvZlxuICAgICogMC4wIHJldHVybnMgdGhlIDxiPnN0YXJ0UHQ8L2I+IGFuZCAxLjAgcmV0dXJucyB0aGUgPGI+ZW5kUHQ8L2I+IHdoaWxlXG4gICAgKiAwLjUgcmV0dXJuIHRoZSBwb2ludCBhdCB0aGUgbWlkZGxlIG9mIHRoZSBiZXppZXItY3VydmUuXG4gICAgIyMjICAgXG4gICAgcXVhZHJhdGljQmV6aWVyUG9pbnQ6IChzdGFydFB0LCBjb250cm9sUHQsIGVuZFB0LCBwZXJjZW50KSAtPlxuICAgICAgICB4ID0gTWF0aC5wb3coMS1wZXJjZW50LDIpICogc3RhcnRQdC54ICsgMiAqICgxLXBlcmNlbnQpICogcGVyY2VudCAqIGNvbnRyb2xQdC54ICsgTWF0aC5wb3cocGVyY2VudCwyKSAqIGVuZFB0LnhcbiAgICAgICAgeSA9IE1hdGgucG93KDEtcGVyY2VudCwyKSAqIHN0YXJ0UHQueSArIDIgKiAoMS1wZXJjZW50KSAqIHBlcmNlbnQgKiBjb250cm9sUHQueSArIE1hdGgucG93KHBlcmNlbnQsMikgKiBlbmRQdC55XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geDogeCwgeTogeSBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBwYXRoLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNSdW5uaW5nIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nLnVwZGF0ZVZhbHVlKClcbiAgICAgICAgdmFsdWUgPSBAZWFzaW5nLnZhbHVlXG4gICAgICAgIFxuICAgICAgICBwb2ludCA9IEBwYXRoLmN1cnZlTGVuZ3RoIC8gMTAwICogdmFsdWVcbiAgICAgICAgZm9yIGxlbiwgaSBpbiBAcGF0aC5jdXJ2ZUxlbmd0aHNcbiAgICAgICAgICAgIGlmIHBvaW50IDw9IGxlbi5sZW4gKyBsZW4ub2Zmc2V0XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHsgcGVyY2VudDogKHBvaW50IC0gbGVuLm9mZnNldCkgLyBsZW4ubGVuLCBwYXRoOiBAcGF0aC5kYXRhW2ldIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIFxuICAgICAgICBjdXJ2ZSA9IGN1cnJlbnQucGF0aFxuICAgICAgICBwb2ludCA9IEBxdWFkcmF0aWNCZXppZXJQb2ludChjdXJ2ZS5wdDEsIGN1cnZlLmNwdCwgY3VydmUucHQyLCBjdXJyZW50LnBlcmNlbnQpXG5cbiAgICAgICAgc3dpdGNoIEBhbmltYXRpb25UeXBlXG4gICAgICAgICAgICB3aGVuIDBcbiAgICAgICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3QueCA9IE1hdGgucm91bmQocG9pbnQueCAtIEBwYXRoLmRhdGFbMF0ucHQxLnggKyBAc3RhcnRQb3NpdGlvbi54KVxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gTWF0aC5yb3VuZChwb2ludC55IC0gQHBhdGguZGF0YVswXS5wdDEueSArIEBzdGFydFBvc2l0aW9uLnkpXG4gICAgICAgICAgICB3aGVuIDJcbiAgICAgICAgICAgICAgICBAb2JqZWN0LnZpc3VhbC5zY3JvbGwueCA9IE1hdGgucm91bmQocG9pbnQueCAtIEBwYXRoLmRhdGFbMF0ucHQxLnggKyBAc3RhcnRQb3NpdGlvbi54KVxuICAgICAgICAgICAgICAgIEBvYmplY3QudmlzdWFsLnNjcm9sbC55ID0gTWF0aC5yb3VuZChwb2ludC55IC0gQHBhdGguZGF0YVswXS5wdDEueSArIEBzdGFydFBvc2l0aW9uLnkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGZvciBlZmZlY3QgaW4gQGVmZmVjdHNcbiAgICAgICAgICAgIGlmICghQGVmZmVjdCBvciAoQGVmZmVjdCAhPSBlZmZlY3QgYW5kIEBlZmZlY3Q/LnRpbWUgPD0gZWZmZWN0LnRpbWUpKSBhbmQgQGVhc2luZy50aW1lID49IGVmZmVjdC50aW1lXG4gICAgICAgICAgICAgICAgQGVmZmVjdCA9IGVmZmVjdFxuICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5wbGF5U291bmQoQGVmZmVjdC5zb3VuZClcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZ1xuICAgICAgICAgICAgc3dpdGNoIEBsb29wVHlwZVxuICAgICAgICAgICAgICAgIHdoZW4gMFxuICAgICAgICAgICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgICAgICAgICAgd2hlbiAxICMgTm9ybWFsXG4gICAgICAgICAgICAgICAgICAgIEBlYXNpbmcuc3RhcnRWYWx1ZSgwLCAxMDAsIEBlYXNpbmcuZHVyYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIEBzdGFydFBvc2l0aW9uLnggPSBAb2JqZWN0LmRzdFJlY3QueFxuICAgICAgICAgICAgICAgICAgICBAc3RhcnRQb3NpdGlvbi55ID0gQG9iamVjdC5kc3RSZWN0LnlcbiAgICAgICAgICAgICAgICB3aGVuIDIgIyBSZXZlcnNlXG4gICAgICAgICAgICAgICAgICAgIEBlZmZlY3QgPSBudWxsXG4gICAgICAgICAgICAgICAgICAgIEBlYXNpbmcuc3RhcnRWYWx1ZShAZWFzaW5nLnZhbHVlLCAxMDAgLSBAZWFzaW5nLnZhbHVlKjIsIEBlYXNpbmcuZHVyYXRpb24pXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSBwYXRoLWFuaW1hdGlvbi4gU2Nyb2xscyB0aGUgZ2FtZSBvYmplY3QgYWxvbmcgdGhlIHBhdGguXG4gICAgKlxuICAgICogQG1ldGhvZCBzY3JvbGxQYXRoXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGF0aCBUaGUgcGF0aCB0byBmb2xsb3cuXG4gICAgKiBAcGFyYW0ge2dzLkFuaW1hdGlvbkxvb3BUeXBlfSBsb29wVHlwZSBUaGUgbG9vcC1UeXBlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbGxlZCBpZiBibGVuZGluZyBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICAgICAgICAgICAgIFxuICAgIHNjcm9sbDogKHBhdGgsIGxvb3BUeXBlLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgZWZmZWN0cywgY2FsbGJhY2spIC0+XG4gICAgICAgIEBzdGFydChwYXRoLCBsb29wVHlwZSwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIGNhbGxiYWNrKVxuICAgICAgICBAYW5pbWF0aW9uVHlwZSA9IDJcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSBwYXRoLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1vdmVQYXRoXG4gICAgKiBAcGFyYW0ge09iamVjdH0gcGF0aCBUaGUgcGF0aCB0byBmb2xsb3cuXG4gICAgKiBAcGFyYW0ge2dzLkFuaW1hdGlvbkxvb3BUeXBlfSBsb29wVHlwZSBUaGUgbG9vcC1UeXBlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbGxlZCBpZiBibGVuZGluZyBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICAgICAgICAgICAgIFxuICAgIHN0YXJ0OiAocGF0aCwgbG9vcFR5cGUsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBlZmZlY3RzLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGVmZmVjdHMgPSBlZmZlY3RzIHx8IFtdXG4gICAgICAgIEBlZmZlY3QgPSBudWxsXG4gICAgICAgIEBjYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgIEBsb29wVHlwZSA9IGxvb3BUeXBlXG4gICAgICAgIEBwYXRoID0gZGF0YTogcGF0aHx8W10sIGN1cnZlTGVuZ3RoOiBudWxsLCBjdXJ2ZUxlbmd0aHM6IG51bGxcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIEBlYXNpbmcuc3RhcnRWYWx1ZSgwLCAxMDAsIGR1cmF0aW9uKVxuICAgICAgICBAc3RhcnRQb3NpdGlvbiA9IHg6IEBvYmplY3QuZHN0UmVjdC54LCB5OiBAb2JqZWN0LmRzdFJlY3QueVxuICAgICAgICBcbiAgICAgICAgaWYgQHBhdGguZGF0YS5sZW5ndGggPT0gMFxuICAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICBlbHNlIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIHBvaW50ID0gQHBhdGguZGF0YS5sYXN0KCkucHQyXG4gICAgICAgICAgICBAb2JqZWN0LmRzdFJlY3QueCA9IE1hdGgucm91bmQocG9pbnQueCAtIEBwYXRoLmRhdGFbMF0ucHQxLnggKyBAc3RhcnRQb3NpdGlvbi54KVxuICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnkgPSBNYXRoLnJvdW5kKHBvaW50LnkgLSBAcGF0aC5kYXRhWzBdLnB0MS55ICsgQHN0YXJ0UG9zaXRpb24ueSlcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgZWxzZSBpZiBub3QgQHBhdGguY3VydmVMZW5ndGg/XG4gICAgICAgICAgICBsZW5ndGggPSAwXG4gICAgICAgICAgICBsZW5ndGhzID0gW11cblxuICAgICAgICAgICAgZm9yIGN1cnZlIGluIEBwYXRoLmRhdGFcbiAgICAgICAgICAgICAgICB4ID0gKGN1cnZlLmNwdC54IC0gY3VydmUucHQxLngpICsgKGN1cnZlLnB0Mi54IC0gY3VydmUuY3B0LngpXG4gICAgICAgICAgICAgICAgeSA9IChjdXJ2ZS5jcHQueSAtIGN1cnZlLnB0MS55KSArIChjdXJ2ZS5wdDIueSAtIGN1cnZlLmNwdC55KVxuICAgICAgICAgICAgICAgIGwgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh4KnggKyB5KnkpKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxlbmd0aHMucHVzaCh7IGxlbjogbCwgb2Zmc2V0OiBsZW5ndGggfSlcbiAgICAgICAgICAgICAgICBsZW5ndGggKz0gbFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQHBhdGguY3VydmVMZW5ndGggPSBsZW5ndGhcbiAgICAgICAgICAgIEBwYXRoLmN1cnZlTGVuZ3RocyA9IGxlbmd0aHNcbiAgICAgICAgICAgIFxuZ3MuQ29tcG9uZW50X1BhdGhBbmltYXRpb24gPSBDb21wb25lbnRfUGF0aEFuaW1hdGlvbiJdfQ==
//# sourceURL=Component_PathAnimation_52.js

/**
* Different methods of field-animation.
*
* @module gs
* @class AnimationLoopType
* @memberof gs
* @static
* @final
 */
var Component_FieldAnimation, FieldAnimationMethod,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

FieldAnimationMethod = (function() {
  function FieldAnimationMethod() {}

  FieldAnimationMethod.initialize = function() {

    /**
    * Set the value calculated by the easing-logic.
    * @property SET
    * @static
    * @final
     */
    this.SET = 0;

    /**
    * Adds the value calculated by the easing-logic.
    * @property ADD
    * @static
    * @final
     */
    return this.ADD = 1;
  };

  return FieldAnimationMethod;

})();

FieldAnimationMethod.initialize();

gs.FieldAnimationMethod = FieldAnimationMethod;

Component_FieldAnimation = (function(superClass) {
  extend(Component_FieldAnimation, superClass);


  /**
  * Executes a field-animation. A field-animation animates a certain
  * property of the game-object as long as it is a number-property.
  *
  * @module gs
  * @class Component_FieldAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_FieldAnimation(data) {
    Component_FieldAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The field to animate as property-path.
    * @property field
    * @type string
     */
    this.field = data != null ? data.field : void 0;

    /**
    * The animation-method.
    * @property method
    * @type gs.FieldAnimationMethod
    * @default gs.FieldAnimationMethod.SET
     */
    this.method = data != null ? data.method : void 0;

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
  }


  /**
  * Serializes the path-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_FieldAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      method: this.method,
      field: this.field
    };
  };


  /**
  * Updates the field-animation.
  *
  * @method update
   */

  Component_FieldAnimation.prototype.update = function() {
    var value;
    Component_FieldAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    value = ui.Component_BindingHandler.resolveFieldPath(this.object, this.field);
    if (!this.method) {
      value.set(this.object, this.easing.value);
    } else {
      value.set(this.object, value.get(this.object) + this.easing.value);
    }
    if (!this.easing.isRunning) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the field-animation.
  *
  * @method start
  * @param {number} Value The target value.
  * @param {string} field The name of the field/property.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_FieldAnimation.prototype.start = function(value, field, duration, easingType, callback) {
    var startValue, valueField;
    this.callback = callback;
    this.field = field;
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (duration === 0) {
      valueField = ui.Component_BindingHandler.resolveFieldPath(this.object, this.field);
      valueField.set(this.object, value);
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      startValue = ui.Component_BindingHandler.fieldValue(this.object, field);
      return this.easing.startValue(startValue, value - startValue, duration);
    }
  };

  return Component_FieldAnimation;

})(gs.Component_Animation);

gs.Component_FieldAnimation = Component_FieldAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQTs7Ozs7Ozs7O0FBQUEsSUFBQSw4Q0FBQTtFQUFBOzs7QUFTTTs7O0VBQ0Ysb0JBQUMsQ0FBQSxVQUFELEdBQWEsU0FBQTs7QUFDVDs7Ozs7O0lBTUEsSUFBQyxDQUFBLEdBQUQsR0FBTzs7QUFFUDs7Ozs7O1dBTUEsSUFBQyxDQUFBLEdBQUQsR0FBTztFQWZFOzs7Ozs7QUFpQmpCLG9CQUFvQixDQUFDLFVBQXJCLENBQUE7O0FBQ0EsRUFBRSxDQUFDLG9CQUFILEdBQTBCOztBQUVwQjs7OztBQUNGOzs7Ozs7Ozs7OztFQVVhLGtDQUFDLElBQUQ7SUFDVCwyREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELGtCQUFTLElBQUksQ0FBRTs7QUFFZjs7Ozs7O0lBTUEsSUFBQyxDQUFBLE1BQUQsa0JBQVUsSUFBSSxDQUFFOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxJQUFWLGlCQUFnQixJQUFJLENBQUUsZUFBdEI7RUF2Qkw7OztBQXlCYjs7Ozs7O3FDQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7TUFDQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BRFQ7TUFFQSxLQUFBLEVBQU8sSUFBQyxDQUFBLEtBRlI7O0VBRFU7OztBQU1kOzs7Ozs7cUNBS0EsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEsc0RBQUEsU0FBQTtJQUNBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7QUFBOEIsYUFBOUI7O0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLENBQUE7SUFDQSxLQUFBLEdBQVEsRUFBRSxDQUFDLHdCQUF3QixDQUFDLGdCQUE1QixDQUE2QyxJQUFDLENBQUEsTUFBOUMsRUFBc0QsSUFBQyxDQUFBLEtBQXZEO0lBRVIsSUFBRyxDQUFDLElBQUMsQ0FBQSxNQUFMO01BQ0ksS0FBSyxDQUFDLEdBQU4sQ0FBVSxJQUFDLENBQUEsTUFBWCxFQUFtQixJQUFDLENBQUEsTUFBTSxDQUFDLEtBQTNCLEVBREo7S0FBQSxNQUFBO01BR0ksS0FBSyxDQUFDLEdBQU4sQ0FBVSxJQUFDLENBQUEsTUFBWCxFQUFtQixLQUFLLENBQUMsR0FBTixDQUFVLElBQUMsQ0FBQSxNQUFYLENBQUEsR0FBcUIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFoRCxFQUhKOztJQUtBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7bURBQ0ksSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFEeEI7O0VBWkk7OztBQWVSOzs7Ozs7Ozs7OztxQ0FVQSxLQUFBLEdBQU8sU0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLFFBQWYsRUFBeUIsVUFBekIsRUFBcUMsUUFBckM7QUFDSCxRQUFBO0lBQUEsSUFBQyxDQUFBLFFBQUQsR0FBWTtJQUNaLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsR0FBZSxVQUFBLElBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFZLENBQUEsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFmO0lBRXBELElBQUcsUUFBQSxLQUFZLENBQWY7TUFDSSxVQUFBLEdBQWEsRUFBRSxDQUFDLHdCQUF3QixDQUFDLGdCQUE1QixDQUE2QyxJQUFDLENBQUEsTUFBOUMsRUFBc0QsSUFBQyxDQUFBLEtBQXZEO01BQ2IsVUFBVSxDQUFDLEdBQVgsQ0FBZSxJQUFDLENBQUEsTUFBaEIsRUFBd0IsS0FBeEI7bURBQ0EsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFIeEI7S0FBQSxNQUFBO01BS0ksVUFBQSxHQUFhLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxVQUE1QixDQUF1QyxJQUFDLENBQUEsTUFBeEMsRUFBZ0QsS0FBaEQ7YUFDYixJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsVUFBbkIsRUFBK0IsS0FBQSxHQUFRLFVBQXZDLEVBQW1ELFFBQW5ELEVBTko7O0VBTEc7Ozs7R0E3RTRCLEVBQUUsQ0FBQzs7QUEwRjFDLEVBQUUsQ0FBQyx3QkFBSCxHQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X0ZpZWxkQW5pbWF0aW9uXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiMjIypcbiogRGlmZmVyZW50IG1ldGhvZHMgb2YgZmllbGQtYW5pbWF0aW9uLlxuKlxuKiBAbW9kdWxlIGdzXG4qIEBjbGFzcyBBbmltYXRpb25Mb29wVHlwZVxuKiBAbWVtYmVyb2YgZ3NcbiogQHN0YXRpY1xuKiBAZmluYWxcbiMjI1xuY2xhc3MgRmllbGRBbmltYXRpb25NZXRob2RcbiAgICBAaW5pdGlhbGl6ZTogLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFNldCB0aGUgdmFsdWUgY2FsY3VsYXRlZCBieSB0aGUgZWFzaW5nLWxvZ2ljLlxuICAgICAgICAqIEBwcm9wZXJ0eSBTRVRcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAU0VUID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFkZHMgdGhlIHZhbHVlIGNhbGN1bGF0ZWQgYnkgdGhlIGVhc2luZy1sb2dpYy5cbiAgICAgICAgKiBAcHJvcGVydHkgQUREXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQEFERCA9IDFcbiAgICBcbkZpZWxkQW5pbWF0aW9uTWV0aG9kLmluaXRpYWxpemUoKVxuZ3MuRmllbGRBbmltYXRpb25NZXRob2QgPSBGaWVsZEFuaW1hdGlvbk1ldGhvZFxuXG5jbGFzcyBDb21wb25lbnRfRmllbGRBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBmaWVsZC1hbmltYXRpb24uIEEgZmllbGQtYW5pbWF0aW9uIGFuaW1hdGVzIGEgY2VydGFpblxuICAgICogcHJvcGVydHkgb2YgdGhlIGdhbWUtb2JqZWN0IGFzIGxvbmcgYXMgaXQgaXMgYSBudW1iZXItcHJvcGVydHkuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9GaWVsZEFuaW1hdGlvblxuICAgICogQGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGZpZWxkIHRvIGFuaW1hdGUgYXMgcHJvcGVydHktcGF0aC5cbiAgICAgICAgKiBAcHJvcGVydHkgZmllbGRcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBmaWVsZCA9IGRhdGE/LmZpZWxkXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGFuaW1hdGlvbi1tZXRob2QuXG4gICAgICAgICogQHByb3BlcnR5IG1ldGhvZFxuICAgICAgICAqIEB0eXBlIGdzLkZpZWxkQW5pbWF0aW9uTWV0aG9kXG4gICAgICAgICogQGRlZmF1bHQgZ3MuRmllbGRBbmltYXRpb25NZXRob2QuU0VUXG4gICAgICAgICMjI1xuICAgICAgICBAbWV0aG9kID0gZGF0YT8ubWV0aG9kXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGVhc2luZy1vYmplY3QgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgZWFzaW5nXG4gICAgICAgICogQHR5cGUgZ3MuRWFzaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAZWFzaW5nID0gbmV3IGdzLkVhc2luZyhudWxsLCBkYXRhPy5lYXNpbmcpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIHBhdGgtYW5pbWF0aW9uIGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICMjI1xuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgZWFzaW5nOiBAZWFzaW5nLFxuICAgICAgICBtZXRob2Q6IEBtZXRob2QsXG4gICAgICAgIGZpZWxkOiBAZmllbGRcbiAgICAgXG4gICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGZpZWxkLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgIFxuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNSdW5uaW5nIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nLnVwZGF0ZVZhbHVlKClcbiAgICAgICAgdmFsdWUgPSB1aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIucmVzb2x2ZUZpZWxkUGF0aChAb2JqZWN0LCBAZmllbGQpXG4gICAgICAgIFxuICAgICAgICBpZiAhQG1ldGhvZCAjIFNldFxuICAgICAgICAgICAgdmFsdWUuc2V0KEBvYmplY3QsIEBlYXNpbmcudmFsdWUpXG4gICAgICAgIGVsc2UgICAgICAgICMgQWRkXG4gICAgICAgICAgICB2YWx1ZS5zZXQoQG9iamVjdCwgdmFsdWUuZ2V0KEBvYmplY3QpICsgQGVhc2luZy52YWx1ZSlcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmdcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSBmaWVsZC1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFZhbHVlIFRoZSB0YXJnZXQgdmFsdWUuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkL3Byb3BlcnR5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrIGNhbGxlZCBpZiBibGVuZGluZyBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgXG4gICAgc3RhcnQ6ICh2YWx1ZSwgZmllbGQsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgQGZpZWxkID0gZmllbGRcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIFxuICAgICAgICBpZiBkdXJhdGlvbiA9PSAwXG4gICAgICAgICAgICB2YWx1ZUZpZWxkID0gdWkuQ29tcG9uZW50X0JpbmRpbmdIYW5kbGVyLnJlc29sdmVGaWVsZFBhdGgoQG9iamVjdCwgQGZpZWxkKVxuICAgICAgICAgICAgdmFsdWVGaWVsZC5zZXQoQG9iamVjdCwgdmFsdWUpXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUgPSB1aS5Db21wb25lbnRfQmluZGluZ0hhbmRsZXIuZmllbGRWYWx1ZShAb2JqZWN0LCBmaWVsZClcbiAgICAgICAgICAgIEBlYXNpbmcuc3RhcnRWYWx1ZShzdGFydFZhbHVlLCB2YWx1ZSAtIHN0YXJ0VmFsdWUsIGR1cmF0aW9uKVxuICAgICAgICBcbmdzLkNvbXBvbmVudF9GaWVsZEFuaW1hdGlvbiA9IENvbXBvbmVudF9GaWVsZEFuaW1hdGlvbiJdfQ==
//# sourceURL=Component_FieldAnimation_74.js
var Component_MoveAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_MoveAnimation = (function(superClass) {
  extend(Component_MoveAnimation, superClass);


  /**
  * Executes a move-animation on a game-object.
  *
  * @module gs
  * @class Component_MoveAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_MoveAnimation(data) {
    Component_MoveAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);

    /**
    * The move-animation type (move-in, move-out, etc.).
    * @property animationType
    * @type gs.MoveAnimationType
     */
    this.animationType = (data != null ? data.animationType : void 0) || 0;
  }


  /**
  * Serializes the move-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_MoveAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      animationType: this.animationType
    };
  };


  /**
  * Updates the move-animation.
  *
  * @method update
   */

  Component_MoveAnimation.prototype.update = function() {
    Component_MoveAnimation.__super__.update.call(this);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updatePosition();
    this.updateCoordinates();
    if (!this.easing.isRunning) {
      if (!this.easing.isEndless) {
        this.object.dstRect.x = Math.round(this.object.dstRect.x);
        this.object.dstRect.y = Math.round(this.object.dstRect.y);
      }
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Updates the game object's coordinates depending on animation type.
  *
  * @method updateCoordinates
  * @protected
   */

  Component_MoveAnimation.prototype.updateCoordinates = function() {
    switch (this.animationType) {
      case 0:
        this.object.offset.x = this.easing.x;
        return this.object.offset.y = this.easing.y;
      case 1:
        this.object.dstRect.x = this.easing.x;
        return this.object.dstRect.y = this.easing.y;
      case 2:
        this.object.visual.scroll.x = Math.round(this.easing.x);
        return this.object.visual.scroll.y = Math.round(this.easing.y);
    }
  };


  /**
  * Scrolls the game object's content with a specified speed if supported.
  *
  * @method scroll
  * @param {number} speedX The speed on x-axis in pixels per frame.
  * @param {number} speedY The speed on y-axis in pixels per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type used for the animation.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.scroll = function(speedX, speedY, duration, easingType, callback) {
    this.move(speedX, speedY, duration, easingType, callback);
    return this.animationType = 2;
  };


  /**
  * Scrolls the game object to a specified position.
  *
  * @method scrollTo
  * @param {number} x The x-coordinate of the position.
  * @param {number} y The y-coordinate of the position.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.scrollTo = function(x, y, duration, easingType, callback) {
    this.animationType = 2;
    this.callback = callback;
    if (this.object.visual.scroll.x === x && this.object.visual.scroll.y === y) {
      return;
    }
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (duration === 0) {
      this.object.visual.scroll.x = x;
      this.object.visual.scroll.y = y;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      this.easing.start(this.object.visual.scroll.x, this.object.visual.scroll.y, x, y, duration);
      this.targetX = x;
      return this.targetY = y;
    }
  };


  /**
  * Moves the game object with a specified speed.
  *
  * @method move
  * @param {number} speedX The speed on x-axis in pixels per frame.
  * @param {number} speedY The speed on y-axis in pixels per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type used for the animation.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.move = function(speedX, speedY, duration, easingType, callback) {
    this.animationType = 1;
    this.targetX = duration * speedX;
    this.targetY = duration * speedY;
    this.callback = callback;
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (duration === 0) {
      return this.easing.startEndless(speedX, speedY);
    } else {
      return this.easing.start(this.object.dstRect.x, this.object.dstRect.y, this.targetX, this.targetY, duration);
    }
  };


  /**
  * Moves the game object to a specified position.
  *
  * @method moveTo
  * @param {number} x The x-coordinate of the position.
  * @param {number} y The y-coordinate of the position.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.moveTo = function(x, y, duration, easingType, callback) {
    this.animationType = 1;
    this.callback = callback;
    if (this.object.dstRect.x === x && this.object.dstRect.y === y) {
      return;
    }
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (duration === 0) {
      this.easing.x = x;
      this.easing.y = y;
      return this.updateCoordinates();
    } else {
      this.easing.start(this.object.dstRect.x, this.object.dstRect.y, x, y, duration);
      this.targetX = x;
      return this.targetY = y;
    }
  };


  /**
  * Lets a game object appear on screen from left, top, right or bottom using 
  * a move-animation
  *
  * @method moveIn
  * @param {number} x The x-coordinate of the target-position.
  * @param {number} y The y-coordinate of the target-position.
  * @param {number} type The movement-direction from where the game object should move-in.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.moveIn = function(x, y, type, duration, easing, callback) {
    var height, rect, width;
    this.animationType = 0;
    this.object.offset.x = 0;
    this.object.offset.y = 0;
    this.object.update();
    if (duration === 0) {
      return typeof callback === "function" ? callback(this.object, this) : void 0;
    }
    this.easing.type = easing;
    this.callback = callback;
    rect = this.object.angle != null ? this.object.dstRect.rotate(this.object.angle) : this.object.dstRect;
    width = rect.width * this.object.zoom.x;
    height = rect.height * this.object.zoom.y;
    switch (type) {
      case 0:
        this.object.offset.y = 0;
        this.object.offset.x = -(this.object.dstRect.x + width + this.object.origin.x);
        break;
      case 1:
        this.object.offset.y = -(this.object.dstRect.y + height + this.object.origin.y);
        this.object.offset.x = 0;
        break;
      case 2:
        this.object.offset.x = (this.object.viewport || Graphics.viewport).rect.width - this.object.dstRect.x;
        this.object.offset.y = 0;
        break;
      case 3:
        this.object.offset.x = 0;
        this.object.offset.y = (this.object.viewport || Graphics.viewport).rect.height - this.object.dstRect.y;
    }
    this.object.update();
    return this.easing.start(this.object.offset.x, this.object.offset.y, 0, 0, duration);
  };


  /**
  * Lets a game object disappear from screen to the left, top, right or bottom using 
  * a move-animation
  *
  * @method moveOut
  * @param {number} type The movement-direction in which the game object should move-out.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_MoveAnimation.prototype.moveOut = function(type, duration, easing, callback) {
    var height, rect, viewport, width, x, y;
    if (duration === 0) {
      return typeof callback === "function" ? callback(this.object, this) : void 0;
    }
    this.animationType = 0;
    this.easing.type = easing;
    this.callback = callback;
    x = 0;
    y = 0;
    viewport = Graphics.viewport;
    rect = this.object.angle != null ? this.object.dstRect.rotate(this.object.angle) : this.object.dstRect;
    width = rect.width * this.object.zoom.x;
    height = rect.height * this.object.zoom.y;
    switch (type) {
      case 0:
        x = -(this.object.origin.x + this.object.dstRect.x + width);
        y = 0;
        break;
      case 1:
        y = -(this.object.origin.y + this.object.dstRect.y + height);
        x = 0;
        break;
      case 2:
        x = (this.object.viewport || Graphics.viewport).rect.width;
        y = this.object.dstRect.y;
        break;
      case 3:
        y = (this.object.viewport || Graphics.viewport).rect.height;
        x = this.object.dstRect.x;
    }
    if (duration === 0) {
      this.object.offset.x = x;
      this.object.offset.y = y;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      return this.easing.start(this.object.offset.x, this.object.offset.y, x, y, duration);
    }
  };

  return Component_MoveAnimation;

})(gs.Component_Animation);

gs.Component_MoveAnimation = Component_MoveAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGlDQUFDLElBQUQ7SUFDVCwwREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQVYsaUJBQWdCLElBQUksQ0FBRSxlQUF0Qjs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsYUFBRCxtQkFBaUIsSUFBSSxDQUFFLHVCQUFOLElBQXVCO0VBZi9COzs7QUFpQmI7Ozs7OztvQ0FLQSxZQUFBLEdBQWMsU0FBQTtXQUNWO01BQUEsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUFUO01BQ0EsYUFBQSxFQUFlLElBQUMsQ0FBQSxhQURoQjs7RUFEVTs7O0FBSWQ7Ozs7OztvQ0FLQSxNQUFBLEdBQVEsU0FBQTtJQUNKLGtEQUFBO0lBQ0EsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtBQUE4QixhQUE5Qjs7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLGNBQVIsQ0FBQTtJQUVBLElBQUMsQ0FBQSxpQkFBRCxDQUFBO0lBRUEsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtNQUNJLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7UUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFoQixHQUFvQixJQUFJLENBQUMsS0FBTCxDQUFXLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQTNCO1FBQ3BCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWhCLEdBQW9CLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBM0IsRUFGeEI7O21EQUdBLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFR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QUMsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFmLEdBQWlCLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQWpDLEdBQW1DLE1BQXBDO1FBQ0wsQ0FBQSxHQUFJO0FBRkg7QUFKVCxXQU9TLENBUFQ7UUFRUSxDQUFBLEdBQUksQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVIsSUFBa0IsUUFBUSxDQUFDLFFBQTVCLENBQXFDLENBQUMsSUFBSSxDQUFDO1FBQy9DLENBQUEsR0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztBQUZuQjtBQVBULFdBVVMsQ0FWVDtRQVdRLENBQUEsR0FBSSxDQUFDLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixJQUFrQixRQUFRLENBQUMsUUFBNUIsQ0FBcUMsQ0FBQyxJQUFJLENBQUM7UUFDL0MsQ0FBQSxHQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO0FBWjVCO0lBY0EsSUFBRyxRQUFBLEtBQVksQ0FBZjtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQWYsR0FBbUI7TUFDbkIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQjttREFDbkIsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFIeEI7S0FBQSxNQUFBO2FBS0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLENBQWMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBN0IsRUFBZ0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBL0MsRUFBa0QsQ0FBbEQsRUFBcUQsQ0FBckQsRUFBd0QsUUFBeEQsRUFMSjs7RUFqQ0s7Ozs7R0F2TnlCLEVBQUUsQ0FBQzs7QUErUHpDLEVBQUUsQ0FBQyx1QkFBSCxHQUE2QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X01vdmVBbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9Nb3ZlQW5pbWF0aW9uIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgbW92ZS1hbmltYXRpb24gb24gYSBnYW1lLW9iamVjdC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X01vdmVBbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBlYXNpbmctb2JqZWN0IHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGVhc2luZ1xuICAgICAgICAqIEB0eXBlIGdzLkVhc2luZ1xuICAgICAgICAjIyNcbiAgICAgICAgQGVhc2luZyA9IG5ldyBncy5FYXNpbmcobnVsbCwgZGF0YT8uZWFzaW5nKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBtb3ZlLWFuaW1hdGlvbiB0eXBlIChtb3ZlLWluLCBtb3ZlLW91dCwgZXRjLikuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdGlvblR5cGVcbiAgICAgICAgKiBAdHlwZSBncy5Nb3ZlQW5pbWF0aW9uVHlwZVxuICAgICAgICAjIyNcbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSBkYXRhPy5hbmltYXRpb25UeXBlIHx8IDBcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgbW92ZS1hbmltYXRpb24gaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjICAgICAgXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICBlYXNpbmc6IEBlYXNpbmcsXG4gICAgICAgIGFuaW1hdGlvblR5cGU6IEBhbmltYXRpb25UeXBlXG4gICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIG1vdmUtYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjICAgICAgXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGVhc2luZy51cGRhdGVQb3NpdGlvbigpXG4gICAgICAgIFxuICAgICAgICBAdXBkYXRlQ29vcmRpbmF0ZXMoKVxuICAgICAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZ1xuICAgICAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNFbmRsZXNzXG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnggPSBNYXRoLnJvdW5kKEBvYmplY3QuZHN0UmVjdC54KVxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC55ID0gTWF0aC5yb3VuZChAb2JqZWN0LmRzdFJlY3QueSlcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgZ2FtZSBvYmplY3QncyBjb29yZGluYXRlcyBkZXBlbmRpbmcgb24gYW5pbWF0aW9uIHR5cGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVDb29yZGluYXRlc1xuICAgICogQHByb3RlY3RlZFxuICAgICMjIyAgICAgXG4gICAgdXBkYXRlQ29vcmRpbmF0ZXM6IC0+XG4gICAgICAgIHN3aXRjaCBAYW5pbWF0aW9uVHlwZVxuICAgICAgICAgICAgd2hlbiAwXG4gICAgICAgICAgICAgICAgQG9iamVjdC5vZmZzZXQueCA9IEBlYXNpbmcueFxuICAgICAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnkgPSBAZWFzaW5nLnlcbiAgICAgICAgICAgIHdoZW4gMVxuICAgICAgICAgICAgICAgIEBvYmplY3QuZHN0UmVjdC54ID0gQGVhc2luZy54XG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LnkgPSBAZWFzaW5nLnlcbiAgICAgICAgICAgIHdoZW4gMlxuICAgICAgICAgICAgICAgIEBvYmplY3QudmlzdWFsLnNjcm9sbC54ID0gTWF0aC5yb3VuZChAZWFzaW5nLngpXG4gICAgICAgICAgICAgICAgQG9iamVjdC52aXN1YWwuc2Nyb2xsLnkgPSBNYXRoLnJvdW5kKEBlYXNpbmcueSlcbiAgICAgICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTY3JvbGxzIHRoZSBnYW1lIG9iamVjdCdzIGNvbnRlbnQgd2l0aCBhIHNwZWNpZmllZCBzcGVlZCBpZiBzdXBwb3J0ZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBzY3JvbGxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFggVGhlIHNwZWVkIG9uIHgtYXhpcyBpbiBwaXhlbHMgcGVyIGZyYW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkWSBUaGUgc3BlZWQgb24geS1heGlzIGluIHBpeGVscyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZSB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLlxuICAgICMjIyAgXG4gICAgc2Nyb2xsOiAoc3BlZWRYLCBzcGVlZFksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQG1vdmUoc3BlZWRYLCBzcGVlZFksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaylcbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAyXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNjcm9sbHMgdGhlIGdhbWUgb2JqZWN0IHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2Nyb2xsVG9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgcG9zaXRpb24uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2stZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC5cbiAgICAjIyMgICAgICBcbiAgICBzY3JvbGxUbzogKHgsIHksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAyXG4gICAgICAgIEBjYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgIGlmIEBvYmplY3QudmlzdWFsLnNjcm9sbC54ID09IHggYW5kIEBvYmplY3QudmlzdWFsLnNjcm9sbC55ID09IHkgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1R5cGUgfHwgZ3MuRWFzaW5ncy5FQVNFX0xJTkVBUltncy5FYXNpbmdUeXBlcy5FQVNFX0lOXVxuICAgICAgICBpZiBkdXJhdGlvbiA9PSAwXG4gICAgICAgICAgICBAb2JqZWN0LnZpc3VhbC5zY3JvbGwueCA9IHhcbiAgICAgICAgICAgIEBvYmplY3QudmlzdWFsLnNjcm9sbC55ID0geVxuICAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAZWFzaW5nLnN0YXJ0KEBvYmplY3QudmlzdWFsLnNjcm9sbC54LCBAb2JqZWN0LnZpc3VhbC5zY3JvbGwueSwgeCwgeSwgZHVyYXRpb24pXG4gICAgICAgICAgICBAdGFyZ2V0WCA9IHhcbiAgICAgICAgICAgIEB0YXJnZXRZID0geVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBNb3ZlcyB0aGUgZ2FtZSBvYmplY3Qgd2l0aCBhIHNwZWNpZmllZCBzcGVlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1vdmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFggVGhlIHNwZWVkIG9uIHgtYXhpcyBpbiBwaXhlbHMgcGVyIGZyYW1lLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkWSBUaGUgc3BlZWQgb24geS1heGlzIGluIHBpeGVscyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZSB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLlxuICAgICMjIyAgICAgICAgXG4gICAgbW92ZTogKHNwZWVkWCwgc3BlZWRZLCBkdXJhdGlvbiwgZWFzaW5nVHlwZSwgY2FsbGJhY2spIC0+XG4gICAgICAgIEBhbmltYXRpb25UeXBlID0gMVxuICAgICAgICBAdGFyZ2V0WCA9IGR1cmF0aW9uICogc3BlZWRYXG4gICAgICAgIEB0YXJnZXRZID0gZHVyYXRpb24gKiBzcGVlZFlcbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1R5cGUgfHwgZ3MuRWFzaW5ncy5FQVNFX0xJTkVBUltncy5FYXNpbmdUeXBlcy5FQVNFX0lOXVxuICAgICAgICBpZiBkdXJhdGlvbiA9PSAwXG4gICAgICAgICAgICBAZWFzaW5nLnN0YXJ0RW5kbGVzcyhzcGVlZFgsIHNwZWVkWSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGVhc2luZy5zdGFydChAb2JqZWN0LmRzdFJlY3QueCwgQG9iamVjdC5kc3RSZWN0LnksIEB0YXJnZXRYLCBAdGFyZ2V0WSwgZHVyYXRpb24pXG4gICAgXG4gICAgIyMjKlxuICAgICogTW92ZXMgdGhlIGdhbWUgb2JqZWN0IHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgbW92ZVRvXG4gICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBwb3NpdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuXG4gICAgIyMjICAgICAgXG4gICAgbW92ZVRvOiAoeCwgeSwgZHVyYXRpb24sIGVhc2luZ1R5cGUsIGNhbGxiYWNrKSAtPlxuICAgICAgICBAYW5pbWF0aW9uVHlwZSA9IDFcbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgaWYgQG9iamVjdC5kc3RSZWN0LnggPT0geCBhbmQgQG9iamVjdC5kc3RSZWN0LnkgPT0geSB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIEBlYXNpbmcueCA9IHhcbiAgICAgICAgICAgIEBlYXNpbmcueSA9IHlcbiAgICAgICAgICAgIEB1cGRhdGVDb29yZGluYXRlcygpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBlYXNpbmcuc3RhcnQoQG9iamVjdC5kc3RSZWN0LngsIEBvYmplY3QuZHN0UmVjdC55LCB4LCB5LCBkdXJhdGlvbilcbiAgICAgICAgICAgIEB0YXJnZXRYID0geFxuICAgICAgICAgICAgQHRhcmdldFkgPSB5XG4gICAgXG4gICAgIyMjKlxuICAgICogTGV0cyBhIGdhbWUgb2JqZWN0IGFwcGVhciBvbiBzY3JlZW4gZnJvbSBsZWZ0LCB0b3AsIHJpZ2h0IG9yIGJvdHRvbSB1c2luZyBcbiAgICAqIGEgbW92ZS1hbmltYXRpb25cbiAgICAqXG4gICAgKiBAbWV0aG9kIG1vdmVJblxuICAgICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgdGFyZ2V0LXBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdGFyZ2V0LXBvc2l0aW9uLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgVGhlIG1vdmVtZW50LWRpcmVjdGlvbiBmcm9tIHdoZXJlIHRoZSBnYW1lIG9iamVjdCBzaG91bGQgbW92ZS1pbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjay1mdW5jdGlvbiBjYWxsZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgICAgICAgICBcbiAgICBtb3ZlSW46ICh4LCB5LCB0eXBlLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGFuaW1hdGlvblR5cGUgPSAwXG4gICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSAwXG4gICAgICAgIEBvYmplY3Qub2Zmc2V0LnkgPSAwXG4gICAgICAgIEBvYmplY3QudXBkYXRlKClcbiAgICAgICAgXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1xuICAgICAgICBAY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHJlY3QgPSBpZiBAb2JqZWN0LmFuZ2xlPyB0aGVuIEBvYmplY3QuZHN0UmVjdC5yb3RhdGUoQG9iamVjdC5hbmdsZSkgZWxzZSBAb2JqZWN0LmRzdFJlY3RcbiAgICAgICAgd2lkdGggPSByZWN0LndpZHRoICogQG9iamVjdC56b29tLnhcbiAgICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKiBAb2JqZWN0Lnpvb20ueVxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIHR5cGVcbiAgICAgICAgICAgIHdoZW4gMCAjIExlZnRcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gMFxuICAgICAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSAtKEBvYmplY3QuZHN0UmVjdC54K3dpZHRoK0BvYmplY3Qub3JpZ2luLngpXG4gICAgICAgICAgICB3aGVuIDEgIyBUb3BcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gLShAb2JqZWN0LmRzdFJlY3QueStoZWlnaHQrQG9iamVjdC5vcmlnaW4ueSlcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC54ID0gMFxuICAgICAgICAgICAgd2hlbiAyICMgUmlnaHRcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC54ID0gKEBvYmplY3Qudmlld3BvcnR8fEdyYXBoaWNzLnZpZXdwb3J0KS5yZWN0LndpZHRoIC0gQG9iamVjdC5kc3RSZWN0LnhcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gMFxuICAgICAgICAgICAgd2hlbiAzICMgQm90dG9tXG4gICAgICAgICAgICAgICAgQG9iamVjdC5vZmZzZXQueCA9IDBcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gKEBvYmplY3Qudmlld3BvcnR8fEdyYXBoaWNzLnZpZXdwb3J0KS5yZWN0LmhlaWdodCAtIEBvYmplY3QuZHN0UmVjdC55XG5cbiAgICAgICAgQG9iamVjdC51cGRhdGUoKVxuICAgICAgICBAZWFzaW5nLnN0YXJ0KEBvYmplY3Qub2Zmc2V0LngsIEBvYmplY3Qub2Zmc2V0LnksIDAsIDAsIGR1cmF0aW9uKVxuICAgICAgIFxuICAgICMjIypcbiAgICAqIExldHMgYSBnYW1lIG9iamVjdCBkaXNhcHBlYXIgZnJvbSBzY3JlZW4gdG8gdGhlIGxlZnQsIHRvcCwgcmlnaHQgb3IgYm90dG9tIHVzaW5nIFxuICAgICogYSBtb3ZlLWFuaW1hdGlvblxuICAgICpcbiAgICAqIEBtZXRob2QgbW92ZU91dFxuICAgICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgVGhlIG1vdmVtZW50LWRpcmVjdGlvbiBpbiB3aGljaCB0aGUgZ2FtZSBvYmplY3Qgc2hvdWxkIG1vdmUtb3V0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuIFxuICAgICMjIyAgICBcbiAgICBtb3ZlT3V0OiAodHlwZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spIC0+XG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgICAgIFxuICAgICAgICBAYW5pbWF0aW9uVHlwZSA9IDBcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nXG4gICAgICAgIEBjYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB4ID0gMFxuICAgICAgICB5ID0gMFxuICAgICAgICB2aWV3cG9ydCA9IEdyYXBoaWNzLnZpZXdwb3J0XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgcmVjdCA9IGlmIEBvYmplY3QuYW5nbGU/IHRoZW4gQG9iamVjdC5kc3RSZWN0LnJvdGF0ZShAb2JqZWN0LmFuZ2xlKSBlbHNlIEBvYmplY3QuZHN0UmVjdFxuICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGggKiBAb2JqZWN0Lnpvb20ueFxuICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodCAqIEBvYmplY3Quem9vbS55XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2ggdHlwZVxuICAgICAgICAgICAgd2hlbiAwICMgTGVmdFxuICAgICAgICAgICAgICAgIHggPSAtKEBvYmplY3Qub3JpZ2luLngrQG9iamVjdC5kc3RSZWN0Lngrd2lkdGgpXG4gICAgICAgICAgICAgICAgeSA9IDBcbiAgICAgICAgICAgIHdoZW4gMSAjIFRvcFxuICAgICAgICAgICAgICAgIHkgPSAtKEBvYmplY3Qub3JpZ2luLnkrQG9iamVjdC5kc3RSZWN0LnkraGVpZ2h0KVxuICAgICAgICAgICAgICAgIHggPSAwXG4gICAgICAgICAgICB3aGVuIDIgIyBSaWdodFxuICAgICAgICAgICAgICAgIHggPSAoQG9iamVjdC52aWV3cG9ydHx8R3JhcGhpY3Mudmlld3BvcnQpLnJlY3Qud2lkdGhcbiAgICAgICAgICAgICAgICB5ID0gQG9iamVjdC5kc3RSZWN0LnlcbiAgICAgICAgICAgIHdoZW4gMyAjIEJvdHRvbVxuICAgICAgICAgICAgICAgIHkgPSAoQG9iamVjdC52aWV3cG9ydHx8R3JhcGhpY3Mudmlld3BvcnQpLnJlY3QuaGVpZ2h0XG4gICAgICAgICAgICAgICAgeCA9IEBvYmplY3QuZHN0UmVjdC54XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSB4XG4gICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0geVxuICAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAZWFzaW5nLnN0YXJ0KEBvYmplY3Qub2Zmc2V0LngsIEBvYmplY3Qub2Zmc2V0LnksIHgsIHksIGR1cmF0aW9uKVxuICAgICAgICBcbmdzLkNvbXBvbmVudF9Nb3ZlQW5pbWF0aW9uID0gQ29tcG9uZW50X01vdmVBbmltYXRpb24iXX0=
//# sourceURL=Component_MoveAnimation_76.js
var Component_RotateAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_RotateAnimation = (function(superClass) {
  extend(Component_RotateAnimation, superClass);


  /**
  * Executes a rotate-animation on a game-object.
  *
  * @module gs
  * @class Component_RotateAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_RotateAnimation(data) {
    Component_RotateAnimation.__super__.constructor.apply(this, arguments);
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
    this.callback = null;
  }


  /**
  * Serializes the rotate-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_RotateAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing
    };
  };


  /**
  * Updates the rotate-animation.
  *
  * @method update
   */

  Component_RotateAnimation.prototype.update = function() {
    Component_RotateAnimation.__super__.update.call(this);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    this.object.angle = this.easing.value;
    if (!this.easing.isRunning && !this.easing.isEndless) {
      this.object.angle = Math.round(this.object.angle);
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the rotate-animation.
  *
  * @method start
  * @param {gs.RotationDirection} direction The rotation direction.
  * @param {number} speed The rotation speed in degrees per frame.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if the animation is finished.
   */

  Component_RotateAnimation.prototype.start = function(direction, speed, duration, easingType, callback) {
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    this.callback = callback;
    if (direction === 1) {
      speed = -speed;
    }
    if (duration === 0 || GameManager.tempSettings.skip) {
      this.object.angle += speed * duration;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      return this.easing.startValue(this.object.angle, (this.object.angle + speed * duration) - this.object.angle, duration);
    }
  };

  return Component_RotateAnimation;

})(gs.Component_Animation);

gs.Component_RotateAnimation = Component_RotateAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEseUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLG1DQUFDLElBQUQ7SUFDVCw0REFBQSxTQUFBO0lBRUEsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixpQkFBZ0IsSUFBSSxDQUFFLGVBQXRCO0lBQ2QsSUFBQyxDQUFBLFFBQUQsR0FBWTtFQUpIOzs7QUFNYjs7Ozs7O3NDQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7O0VBRFU7OztBQUdkOzs7Ozs7c0NBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixvREFBQTtJQUNBLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7QUFBOEIsYUFBOUI7O0lBRUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLENBQUE7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0IsSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUV4QixJQUFHLENBQUksSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUFaLElBQTBCLENBQUksSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUF6QztNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFJLENBQUMsS0FBTCxDQUFXLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBbkI7bURBQ2hCLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFRLGVBRnhCOztFQVJJOzs7QUFZUjs7Ozs7Ozs7Ozs7c0NBVUEsS0FBQSxHQUFPLFNBQUMsU0FBRCxFQUFZLEtBQVosRUFBbUIsUUFBbkIsRUFBNkIsVUFBN0IsRUFBeUMsUUFBekM7SUFDSCxJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsR0FBZSxVQUFBLElBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFZLENBQUEsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFmO0lBQ3BELElBQUMsQ0FBQSxRQUFELEdBQVk7SUFFWixJQUFHLFNBQUEsS0FBYSxDQUFoQjtNQUNJLEtBQUEsR0FBUSxDQUFDLE1BRGI7O0lBR0EsSUFBRyxRQUFBLEtBQVksQ0FBWixJQUFpQixXQUFXLENBQUMsWUFBWSxDQUFDLElBQTdDO01BQ0ksSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLElBQWlCLEtBQUEsR0FBUTttREFDekIsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFGeEI7S0FBQSxNQUFBO2FBSUksSUFBQyxDQUFBLE1BQU0sQ0FBQyxVQUFSLENBQW1CLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBM0IsRUFBa0MsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0IsS0FBQSxHQUFRLFFBQXpCLENBQUEsR0FBcUMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUEvRSxFQUFzRixRQUF0RixFQUpKOztFQVBHOzs7O0dBbkQ2QixFQUFFLENBQUM7O0FBZ0UzQyxFQUFFLENBQUMseUJBQUgsR0FBK0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9Sb3RhdGVBbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9Sb3RhdGVBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSByb3RhdGUtYW5pbWF0aW9uIG9uIGEgZ2FtZS1vYmplY3QuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9Sb3RhdGVBbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgQGVhc2luZyA9IG5ldyBncy5FYXNpbmcobnVsbCwgZGF0YT8uZWFzaW5nKVxuICAgICAgICBAY2FsbGJhY2sgPSBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgcm90YXRlLWFuaW1hdGlvbiBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAjIyMgICAgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGVhc2luZzogQGVhc2luZ1xuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHJvdGF0ZS1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyMgICAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNSdW5uaW5nIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBAZWFzaW5nLnVwZGF0ZVZhbHVlKClcbiAgICAgICAgXG4gICAgICAgIEBvYmplY3QuYW5nbGUgPSBAZWFzaW5nLnZhbHVlXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmcgYW5kIG5vdCBAZWFzaW5nLmlzRW5kbGVzc1xuICAgICAgICAgICAgQG9iamVjdC5hbmdsZSA9IE1hdGgucm91bmQoQG9iamVjdC5hbmdsZSlcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcblxuICAgICMjIypcbiAgICAqIFN0YXJ0cyB0aGUgcm90YXRlLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0YXJ0XG4gICAgKiBAcGFyYW0ge2dzLlJvdGF0aW9uRGlyZWN0aW9ufSBkaXJlY3Rpb24gVGhlIHJvdGF0aW9uIGRpcmVjdGlvbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCBUaGUgcm90YXRpb24gc3BlZWQgaW4gZGVncmVlcyBwZXIgZnJhbWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FsbGVkIGlmIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuIFxuICAgICMjIyBcbiAgICBzdGFydDogKGRpcmVjdGlvbiwgc3BlZWQsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIEBjYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICAgIFxuICAgICAgICBpZiBkaXJlY3Rpb24gPT0gMVxuICAgICAgICAgICAgc3BlZWQgPSAtc3BlZWRcbiAgICAgICAgXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDAgb3IgR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXBcbiAgICAgICAgICAgIEBvYmplY3QuYW5nbGUgKz0gc3BlZWQgKiBkdXJhdGlvblxuICAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAZWFzaW5nLnN0YXJ0VmFsdWUoQG9iamVjdC5hbmdsZSwgKEBvYmplY3QuYW5nbGUgKyBzcGVlZCAqIGR1cmF0aW9uKSAtIEBvYmplY3QuYW5nbGUsIGR1cmF0aW9uKVxuICAgICAgICBcbmdzLkNvbXBvbmVudF9Sb3RhdGVBbmltYXRpb24gPSBDb21wb25lbnRfUm90YXRlQW5pbWF0aW9uIl19
//# sourceURL=Component_RotateAnimation_92.js
var Component_FrameAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_FrameAnimation = (function(superClass) {
  extend(Component_FrameAnimation, superClass);


  /**
  * Executes a classic image-frame animation defined in Database. The image in regular
  * contains multiple sub-images (frames) which are then animated
  * by modifying the <b>srcRect</b> property of the game object.
  *
  * @module gs
  * @class Component_FrameAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
  * @param {Object} record - The animation database-record.
   */

  function Component_FrameAnimation(record) {
    Component_FrameAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The database record.
    * @property record
    * @type Object
     */
    this.record = null;

    /**
    * The name of the animation defined in Database.
    * @property name
    * @type string
     */
    this.name = null;

    /**
    * The amount of frames on x-axis.
    * @property framesX
    * @type number
     */
    this.framesX = 1;

    /**
    * The amount of frames on y-axis.
    * @property framesY
    * @type number
     */
    this.framesY = 1;

    /**
    * The frame-range to animation like only Frame 4 - 6 for example.
    * @property frameRange
    * @type gs.Range
     */
    this.frameRange = {
      start: 0,
      end: 0
    };

    /**
    * The frame-range used if the animation gets repeated.
    * @property repetitionFrameRange
    * @type gs.Range
     */
    this.repetitionFrameRange = this.frameRange;

    /**
    * The amount of frames to animate.
    * @property frameCount
    * @type number
    * @protected
     */
    this.frameCount = 1;

    /**
    * The graphic used as image for the animation.
    * @property graphic
    * @type Object
     */
    this.graphic = null;

    /**
    * Indicates if the animation repeats.
    * @property repeat
    * @type boolean
     */
    this.repeat = false;

    /**
    * The position of the animation on the target-object.
    * @property framesY
    * @type gs.AnimationPosition
     */
    this.position = 0;

    /**
    * The duration of a single frame.
    * @property frameDuration
    * @type number
    * @protected
     */
    this.frameDuration = 10;

    /**
    * A frame-counter needed for animation-process.
    * @property frameDuration
    * @type number
    * @protected
     */
    this.frameCounter = 0;

    /**
    * The duration of the animation.
    * @property frameDuration
    * @type number
     */
    this.duration = 10;

    /**
    * Indicates if the animation is currently running.
    * @property isRunning
    * @type boolean
     */
    this.isRunning = false;

    /**
    * Stores frame/pattern-offset.
    * @property patternOffset
    * @type number
    * @protected
     */
    this.patternOffset = this.frameRange.start;

    /**
    * Stores current frame/pattern
    * @property patternOffset
    * @type number
    * @protected
     */
    this.pattern = this.patternOffset;

    /**
    * Indicates if its still the first run of the animation.
    * @property firstRun
    * @type boolean
    * @protected
     */
    this.firstRun = true;
    if (record != null) {
      this.refresh(record);
      this.start();
    }
  }


  /**
  * Serializes the frame-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_FrameAnimation.prototype.toDataBundle = function() {
    return {
      name: this.name,
      framesX: this.framesX,
      framesY: this.framesY,
      frameRange: this.frameRange,
      repetitionFrameRange: this.repetitionFrameRange,
      frameCount: this.frameCount,
      graphic: this.graphic,
      repeat: this.repeat,
      position: this.position,
      frameDuration: this.frameDuration,
      frameCounter: this.frameCounter,
      duration: this.duration,
      isRunning: this.isRunning,
      patternOffset: this.patternOffset,
      pattern: this.pattern,
      firstRun: this.firstRun
    };
  };


  /**
  * Refreshes the animation from the specified database-record.
  *
  * @method refresh
  * @param {Object} record - The animation database-record.
   */

  Component_FrameAnimation.prototype.refresh = function(record) {

    /**
    * The images to animate through.
    * @property images
    * @type string[]
     */
    this.name = record.name;
    this.framesX = record.framesX || 1;
    this.framesY = record.framesY || 1;
    this.frameRange = {
      start: Math.min(record.frameRange.start, record.frameRange.end),
      end: Math.max(record.frameRange.start, record.frameRange.end)
    };
    this.repetitionFrameRange = record.useRepetitionFrameRange && (record.repetitionFrameRange != null) ? record.repetitionFrameRange : this.frameRange;
    this.frameCount = (this.frameRange.end - this.frameRange.start) + 1;
    this.graphic = record.graphic;
    this.repeat = record.repeat || false;
    this.position = record.position;
    this.frameDuration = record.duration != null ? Math.round(record.duration / this.frameCount) : 10;
    this.frameCounter = 0;
    this.duration = record.duration || 10;
    this.isRunning = false;
    this.patternOffset = this.frameRange.start;
    this.pattern = this.patternOffset;
    return this.firstRun = true;
  };


  /**
  * Starts the frame-animation.
  *
  * @method start
   */

  Component_FrameAnimation.prototype.start = function(callback) {
    this.callback = callback;
    this.isRunning = true;
    this.firstRun = true;
    this.frameCounter = 0;
    this.frameCount = (this.frameRange.end - this.frameRange.start) + 1;
    this.frameDuration = Math.round(this.duration / this.frameCount);
    return this.patternOffset = this.frameRange.start;
  };


  /**
  * Updates the frame-animation.
  *
  * @method update
   */

  Component_FrameAnimation.prototype.update = function() {
    var bitmap, column, frameHeight, frameWidth, row;
    Component_FrameAnimation.__super__.update.apply(this, arguments);
    if (!this.isRunning) {
      return;
    }
    if (this.frameCounter >= this.duration) {
      if (this.repeat) {
        this.firstRun = false;
        this.frameCounter = 0;
        this.frameCount = (this.repetitionFrameRange.end - this.repetitionFrameRange.start) + 1;
        this.frameDuration = Math.ceil(this.duration / this.frameCount);
        this.patternOffset = this.repetitionFrameRange.start;
      } else {
        this.isRunning = false;
        if (typeof this.onFinish === "function") {
          this.onFinish(this);
        }
        if (typeof this.callback === "function") {
          this.callback(this.object, this);
        }
        return;
      }
    }
    this.pattern = this.patternOffset + Math.floor(this.frameCounter / this.frameDuration);
    this.frameCounter++;
    if (this.object != null) {
      bitmap = this.object.bitmap || ResourceManager.getBitmap((this.object.imageFolder || "Graphics/Pictures") + "/" + this.object.image);
      if (bitmap != null) {
        frameWidth = Math.floor(bitmap.width / this.framesX);
        frameHeight = Math.floor(bitmap.height / this.framesY);
        column = this.pattern % this.framesX;
        row = Math.floor(this.pattern / this.framesX);
        this.object.srcRect.set(column * frameWidth, row * frameHeight, frameWidth, frameHeight);
        this.object.dstRect.width = this.object.srcRect.width;
        return this.object.dstRect.height = this.object.srcRect.height;
      }
    }
  };

  return Component_FrameAnimation;

})(gs.Component_Animation);

window.Component_FrameAnimation = Component_FrameAnimation;

gs.Component_FrameAnimation = Component_FrameAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7OztFQVlhLGtDQUFDLE1BQUQ7SUFDVCwyREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYztNQUFFLEtBQUEsRUFBTyxDQUFUO01BQVksR0FBQSxFQUFLLENBQWpCOzs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsb0JBQUQsR0FBd0IsSUFBQyxDQUFBOztBQUV6Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFVBQUQsR0FBYzs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7O0lBTUEsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBRWpCOzs7Ozs7SUFNQSxJQUFDLENBQUEsWUFBRCxHQUFnQjs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7Ozs7SUFNQSxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFDLENBQUEsVUFBVSxDQUFDOztBQUU3Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLE9BQUQsR0FBVyxJQUFDLENBQUE7O0FBRVo7Ozs7OztJQU1BLElBQUMsQ0FBQSxRQUFELEdBQVk7SUFFWixJQUFHLGNBQUg7TUFDSSxJQUFDLENBQUEsT0FBRCxDQUFTLE1BQVQ7TUFDQSxJQUFDLENBQUEsS0FBRCxDQUFBLEVBRko7O0VBaElTOzs7QUFvSWI7Ozs7OztxQ0FLQSxZQUFBLEdBQWMsU0FBQTtXQUNWO01BQUEsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUFQO01BQ0EsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQURWO01BRUEsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUZWO01BR0EsVUFBQSxFQUFZLElBQUMsQ0FBQSxVQUhiO01BSUEsb0JBQUEsRUFBc0IsSUFBQyxDQUFBLG9CQUp2QjtNQUtBLFVBQUEsRUFBWSxJQUFDLENBQUEsVUFMYjtNQU1BLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FOVjtNQU9BLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFQVDtNQVFBLFFBQUEsRUFBVSxJQUFDLENBQUEsUUFSWDtNQVNBLGFBQUEsRUFBZSxJQUFDLENBQUEsYUFUaEI7TUFVQSxZQUFBLEVBQWMsSUFBQyxDQUFBLFlBVmY7TUFXQSxRQUFBLEVBQVUsSUFBQyxDQUFBLFFBWFg7TUFZQSxTQUFBLEVBQVcsSUFBQyxDQUFBLFNBWlo7TUFhQSxhQUFBLEVBQWUsSUFBQyxDQUFBLGFBYmhCO01BY0EsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQWRWO01BZUEsUUFBQSxFQUFVLElBQUMsQ0FBQSxRQWZYOztFQURVOzs7QUFrQmQ7Ozs7Ozs7cUNBT0EsT0FBQSxHQUFTLFNBQUMsTUFBRDs7QUFDTDs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFRLE1BQU0sQ0FBQztJQUNmLElBQUMsQ0FBQSxPQUFELEdBQVcsTUFBTSxDQUFDLE9BQVAsSUFBa0I7SUFDN0IsSUFBQyxDQUFBLE9BQUQsR0FBVyxNQUFNLENBQUMsT0FBUCxJQUFrQjtJQUM3QixJQUFDLENBQUEsVUFBRCxHQUFjO01BQUUsS0FBQSxFQUFPLElBQUksQ0FBQyxHQUFMLENBQVMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUEzQixFQUFrQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQXBELENBQVQ7TUFBbUUsR0FBQSxFQUFLLElBQUksQ0FBQyxHQUFMLENBQVMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUEzQixFQUFrQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQXBELENBQXhFOztJQUNkLElBQUMsQ0FBQSxvQkFBRCxHQUEyQixNQUFNLENBQUMsdUJBQVAsSUFBbUMscUNBQXRDLEdBQXdFLE1BQU0sQ0FBQyxvQkFBL0UsR0FBeUcsSUFBQyxDQUFBO0lBQ2xJLElBQUMsQ0FBQSxVQUFELEdBQWMsQ0FBQyxJQUFDLENBQUEsVUFBVSxDQUFDLEdBQVosR0FBa0IsSUFBQyxDQUFBLFVBQVUsQ0FBQyxLQUEvQixDQUFBLEdBQXdDO0lBQ3RELElBQUMsQ0FBQSxPQUFELEdBQVcsTUFBTSxDQUFDO0lBQ2xCLElBQUMsQ0FBQSxNQUFELEdBQVUsTUFBTSxDQUFDLE1BQVAsSUFBaUI7SUFDM0IsSUFBQyxDQUFBLFFBQUQsR0FBWSxNQUFNLENBQUM7SUFFbkIsSUFBQyxDQUFBLGFBQUQsR0FBb0IsdUJBQUgsR0FBeUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxNQUFNLENBQUMsUUFBUCxHQUFrQixJQUFDLENBQUEsVUFBOUIsQ0FBekIsR0FBd0U7SUFDekYsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7SUFDaEIsSUFBQyxDQUFBLFFBQUQsR0FBWSxNQUFNLENBQUMsUUFBUCxJQUFtQjtJQUMvQixJQUFDLENBQUEsU0FBRCxHQUFhO0lBQ2IsSUFBQyxDQUFBLGFBQUQsR0FBaUIsSUFBQyxDQUFBLFVBQVUsQ0FBQztJQUM3QixJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQTtXQUNaLElBQUMsQ0FBQSxRQUFELEdBQVk7RUF0QlA7OztBQXdCVDs7Ozs7O3FDQUtBLEtBQUEsR0FBTyxTQUFDLFFBQUQ7SUFDSCxJQUFDLENBQUEsUUFBRCxHQUFZO0lBQ1osSUFBQyxDQUFBLFNBQUQsR0FBYTtJQUNiLElBQUMsQ0FBQSxRQUFELEdBQVk7SUFDWixJQUFDLENBQUEsWUFBRCxHQUFnQjtJQUNoQixJQUFDLENBQUEsVUFBRCxHQUFjLENBQUMsSUFBQyxDQUFBLFVBQVUsQ0FBQyxHQUFaLEdBQWtCLElBQUMsQ0FBQSxVQUFVLENBQUMsS0FBL0IsQ0FBQSxHQUF3QztJQUN0RCxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFJLENBQUMsS0FBTCxDQUFXLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLFVBQXhCO1dBQ2pCLElBQUMsQ0FBQSxhQUFELEdBQWlCLElBQUMsQ0FBQSxVQUFVLENBQUM7RUFQMUI7OztBQVNQOzs7Ozs7cUNBS0EsTUFBQSxHQUFRLFNBQUE7QUFDSixRQUFBO0lBQUEsc0RBQUEsU0FBQTtJQUNBLElBQUcsQ0FBSSxJQUFDLENBQUEsU0FBUjtBQUF1QixhQUF2Qjs7SUFFQSxJQUFHLElBQUMsQ0FBQSxZQUFELElBQWlCLElBQUMsQ0FBQSxRQUFyQjtNQUNJLElBQUcsSUFBQyxDQUFBLE1BQUo7UUFDSSxJQUFDLENBQUEsUUFBRCxHQUFZO1FBQ1osSUFBQyxDQUFBLFlBQUQsR0FBZ0I7UUFDaEIsSUFBQyxDQUFBLFVBQUQsR0FBYyxDQUFDLElBQUMsQ0FBQSxvQkFBb0IsQ0FBQyxHQUF0QixHQUE0QixJQUFDLENBQUEsb0JBQW9CLENBQUMsS0FBbkQsQ0FBQSxHQUE0RDtRQUMxRSxJQUFDLENBQUEsYUFBRCxHQUFpQixJQUFJLENBQUMsSUFBTCxDQUFVLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLFVBQXZCO1FBQ2pCLElBQUMsQ0FBQSxhQUFELEdBQWlCLElBQUMsQ0FBQSxvQkFBb0IsQ0FBQyxNQUwzQztPQUFBLE1BQUE7UUFPSSxJQUFDLENBQUEsU0FBRCxHQUFhOztVQUNiLElBQUMsQ0FBQSxTQUFVOzs7VUFDWCxJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUTs7QUFDcEIsZUFWSjtPQURKOztJQWFBLElBQUMsQ0FBQSxPQUFELEdBQVcsSUFBQyxDQUFBLGFBQUQsR0FBaUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFDLENBQUEsWUFBRCxHQUFnQixJQUFDLENBQUEsYUFBNUI7SUFDNUIsSUFBQyxDQUFBLFlBQUQ7SUFFQSxJQUFHLG1CQUFIO01BQ0ksTUFBQSxHQUFTLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixJQUFrQixlQUFlLENBQUMsU0FBaEIsQ0FBNEIsQ0FBQyxJQUFDLENBQUEsTUFBTSxDQUFDLFdBQVIsSUFBcUIsbUJBQXRCLENBQUEsR0FBMEMsR0FBMUMsR0FBNkMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFqRjtNQUUzQixJQUFHLGNBQUg7UUFDSSxVQUFBLEdBQWEsSUFBSSxDQUFDLEtBQUwsQ0FBVyxNQUFNLENBQUMsS0FBUCxHQUFlLElBQUMsQ0FBQSxPQUEzQjtRQUNiLFdBQUEsR0FBYyxJQUFJLENBQUMsS0FBTCxDQUFXLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLElBQUMsQ0FBQSxPQUE1QjtRQUNkLE1BQUEsR0FBUyxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQTtRQUNyQixHQUFBLEdBQU0sSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFDLENBQUEsT0FBRCxHQUFXLElBQUMsQ0FBQSxPQUF2QjtRQUNOLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQWhCLENBQW9CLE1BQUEsR0FBUyxVQUE3QixFQUF5QyxHQUFBLEdBQU0sV0FBL0MsRUFBNEQsVUFBNUQsRUFBd0UsV0FBeEU7UUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFoQixHQUF3QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQztlQUN4QyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFoQixHQUF5QixJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQVA3QztPQUhKOztFQXBCSTs7OztHQTFOMkIsRUFBRSxDQUFDOztBQTJQMUMsTUFBTSxDQUFDLHdCQUFQLEdBQWtDOztBQUNsQyxFQUFFLENBQUMsd0JBQUgsR0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9GcmFtZUFuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBGSVhNRTogVGhpcyBjbGFzcyBzdGlsbCBmb2xsb3dzIGRlcHJlY2F0ZWQgcnVsZXMsIHNob3VsZCBiZSBmaXhlZC5cbmNsYXNzIENvbXBvbmVudF9GcmFtZUFuaW1hdGlvbiBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAjIyMqXG4gICAgKiBFeGVjdXRlcyBhIGNsYXNzaWMgaW1hZ2UtZnJhbWUgYW5pbWF0aW9uIGRlZmluZWQgaW4gRGF0YWJhc2UuIFRoZSBpbWFnZSBpbiByZWd1bGFyXG4gICAgKiBjb250YWlucyBtdWx0aXBsZSBzdWItaW1hZ2VzIChmcmFtZXMpIHdoaWNoIGFyZSB0aGVuIGFuaW1hdGVkXG4gICAgKiBieSBtb2RpZnlpbmcgdGhlIDxiPnNyY1JlY3Q8L2I+IHByb3BlcnR5IG9mIHRoZSBnYW1lIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHBhcmFtIHtPYmplY3R9IHJlY29yZCAtIFRoZSBhbmltYXRpb24gZGF0YWJhc2UtcmVjb3JkLlxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocmVjb3JkKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBkYXRhYmFzZSByZWNvcmQuXG4gICAgICAgICogQHByb3BlcnR5IHJlY29yZFxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHJlY29yZCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIGRlZmluZWQgaW4gRGF0YWJhc2UuXG4gICAgICAgICogQHByb3BlcnR5IG5hbWVcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBuYW1lID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBhbW91bnQgb2YgZnJhbWVzIG9uIHgtYXhpcy5cbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVzWFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGZyYW1lc1ggPSAxXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGFtb3VudCBvZiBmcmFtZXMgb24geS1heGlzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZXNZXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAZnJhbWVzWSA9IDFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZnJhbWUtcmFuZ2UgdG8gYW5pbWF0aW9uIGxpa2Ugb25seSBGcmFtZSA0IC0gNiBmb3IgZXhhbXBsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVSYW5nZVxuICAgICAgICAqIEB0eXBlIGdzLlJhbmdlXG4gICAgICAgICMjI1xuICAgICAgICBAZnJhbWVSYW5nZSA9IHsgc3RhcnQ6IDAsIGVuZDogMCB9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGZyYW1lLXJhbmdlIHVzZWQgaWYgdGhlIGFuaW1hdGlvbiBnZXRzIHJlcGVhdGVkLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXBldGl0aW9uRnJhbWVSYW5nZVxuICAgICAgICAqIEB0eXBlIGdzLlJhbmdlXG4gICAgICAgICMjI1xuICAgICAgICBAcmVwZXRpdGlvbkZyYW1lUmFuZ2UgPSBAZnJhbWVSYW5nZVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBhbW91bnQgb2YgZnJhbWVzIHRvIGFuaW1hdGUuXG4gICAgICAgICogQHByb3BlcnR5IGZyYW1lQ291bnRcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAZnJhbWVDb3VudCA9IDFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZ3JhcGhpYyB1c2VkIGFzIGltYWdlIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBncmFwaGljXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAZ3JhcGhpYyA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGFuaW1hdGlvbiByZXBlYXRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXBlYXRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAcmVwZWF0ID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGFuaW1hdGlvbiBvbiB0aGUgdGFyZ2V0LW9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVzWVxuICAgICAgICAqIEB0eXBlIGdzLkFuaW1hdGlvblBvc2l0aW9uXG4gICAgICAgICMjI1xuICAgICAgICBAcG9zaXRpb24gPSAwXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBkdXJhdGlvbiBvZiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVEdXJhdGlvblxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmcmFtZUR1cmF0aW9uID0gMTBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBIGZyYW1lLWNvdW50ZXIgbmVlZGVkIGZvciBhbmltYXRpb24tcHJvY2Vzcy5cbiAgICAgICAgKiBAcHJvcGVydHkgZnJhbWVEdXJhdGlvblxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmcmFtZUNvdW50ZXIgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGZyYW1lRHVyYXRpb25cbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBkdXJhdGlvbiA9IDEwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBhbmltYXRpb24gaXMgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICAgICogQHByb3BlcnR5IGlzUnVubmluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFN0b3JlcyBmcmFtZS9wYXR0ZXJuLW9mZnNldC5cbiAgICAgICAgKiBAcHJvcGVydHkgcGF0dGVybk9mZnNldFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBwYXR0ZXJuT2Zmc2V0ID0gQGZyYW1lUmFuZ2Uuc3RhcnRcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgY3VycmVudCBmcmFtZS9wYXR0ZXJuXG4gICAgICAgICogQHByb3BlcnR5IHBhdHRlcm5PZmZzZXRcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAcGF0dGVybiA9IEBwYXR0ZXJuT2Zmc2V0XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIGl0cyBzdGlsbCB0aGUgZmlyc3QgcnVuIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGZpcnN0UnVuXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmaXJzdFJ1biA9IHllc1xuICAgICAgICBcbiAgICAgICAgaWYgcmVjb3JkP1xuICAgICAgICAgICAgQHJlZnJlc2gocmVjb3JkKVxuICAgICAgICAgICAgQHN0YXJ0KClcbiAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgZnJhbWUtYW5pbWF0aW9uIGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICMjIyAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgbmFtZTogQG5hbWUsXG4gICAgICAgIGZyYW1lc1g6IEBmcmFtZXNYLFxuICAgICAgICBmcmFtZXNZOiBAZnJhbWVzWSxcbiAgICAgICAgZnJhbWVSYW5nZTogQGZyYW1lUmFuZ2UsXG4gICAgICAgIHJlcGV0aXRpb25GcmFtZVJhbmdlOiBAcmVwZXRpdGlvbkZyYW1lUmFuZ2UsXG4gICAgICAgIGZyYW1lQ291bnQ6IEBmcmFtZUNvdW50LFxuICAgICAgICBncmFwaGljOiBAZ3JhcGhpYyxcbiAgICAgICAgcmVwZWF0OiBAcmVwZWF0LFxuICAgICAgICBwb3NpdGlvbjogQHBvc2l0aW9uLFxuICAgICAgICBmcmFtZUR1cmF0aW9uOiBAZnJhbWVEdXJhdGlvbixcbiAgICAgICAgZnJhbWVDb3VudGVyOiBAZnJhbWVDb3VudGVyLFxuICAgICAgICBkdXJhdGlvbjogQGR1cmF0aW9uLFxuICAgICAgICBpc1J1bm5pbmc6IEBpc1J1bm5pbmcsXG4gICAgICAgIHBhdHRlcm5PZmZzZXQ6IEBwYXR0ZXJuT2Zmc2V0LFxuICAgICAgICBwYXR0ZXJuOiBAcGF0dGVybixcbiAgICAgICAgZmlyc3RSdW46IEBmaXJzdFJ1blxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZWZyZXNoZXMgdGhlIGFuaW1hdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UtcmVjb3JkLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVmcmVzaFxuICAgICogQHBhcmFtIHtPYmplY3R9IHJlY29yZCAtIFRoZSBhbmltYXRpb24gZGF0YWJhc2UtcmVjb3JkLlxuICAgICMjIyAgXG4gICAgIyBGSVhNRTogSXMgdGhhdCBtZXRob2Qgc3RpbGwgaW4gdXNlP1xuICAgIHJlZnJlc2g6IChyZWNvcmQpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgaW1hZ2VzIHRvIGFuaW1hdGUgdGhyb3VnaC5cbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VzXG4gICAgICAgICogQHR5cGUgc3RyaW5nW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBuYW1lID0gcmVjb3JkLm5hbWVcbiAgICAgICAgQGZyYW1lc1ggPSByZWNvcmQuZnJhbWVzWCB8fCAxXG4gICAgICAgIEBmcmFtZXNZID0gcmVjb3JkLmZyYW1lc1kgfHwgMVxuICAgICAgICBAZnJhbWVSYW5nZSA9IHsgc3RhcnQ6IE1hdGgubWluKHJlY29yZC5mcmFtZVJhbmdlLnN0YXJ0LCByZWNvcmQuZnJhbWVSYW5nZS5lbmQpLCBlbmQ6IE1hdGgubWF4KHJlY29yZC5mcmFtZVJhbmdlLnN0YXJ0LCByZWNvcmQuZnJhbWVSYW5nZS5lbmQpIH1cbiAgICAgICAgQHJlcGV0aXRpb25GcmFtZVJhbmdlID0gaWYgcmVjb3JkLnVzZVJlcGV0aXRpb25GcmFtZVJhbmdlIGFuZCByZWNvcmQucmVwZXRpdGlvbkZyYW1lUmFuZ2U/IHRoZW4gcmVjb3JkLnJlcGV0aXRpb25GcmFtZVJhbmdlIGVsc2UgQGZyYW1lUmFuZ2VcbiAgICAgICAgQGZyYW1lQ291bnQgPSAoQGZyYW1lUmFuZ2UuZW5kIC0gQGZyYW1lUmFuZ2Uuc3RhcnQpICsgMVxuICAgICAgICBAZ3JhcGhpYyA9IHJlY29yZC5ncmFwaGljXG4gICAgICAgIEByZXBlYXQgPSByZWNvcmQucmVwZWF0IHx8IG5vXG4gICAgICAgIEBwb3NpdGlvbiA9IHJlY29yZC5wb3NpdGlvblxuXG4gICAgICAgIEBmcmFtZUR1cmF0aW9uID0gaWYgcmVjb3JkLmR1cmF0aW9uPyB0aGVuIE1hdGgucm91bmQocmVjb3JkLmR1cmF0aW9uIC8gQGZyYW1lQ291bnQpIGVsc2UgMTBcbiAgICAgICAgQGZyYW1lQ291bnRlciA9IDBcbiAgICAgICAgQGR1cmF0aW9uID0gcmVjb3JkLmR1cmF0aW9uIHx8IDEwXG4gICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICBAcGF0dGVybk9mZnNldCA9IEBmcmFtZVJhbmdlLnN0YXJ0XG4gICAgICAgIEBwYXR0ZXJuID0gQHBhdHRlcm5PZmZzZXRcbiAgICAgICAgQGZpcnN0UnVuID0geWVzXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFN0YXJ0cyB0aGUgZnJhbWUtYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RhcnRcbiAgICAjIyMgICBcbiAgICBzdGFydDogKGNhbGxiYWNrKSAtPlxuICAgICAgICBAY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIEBmaXJzdFJ1biA9IHllc1xuICAgICAgICBAZnJhbWVDb3VudGVyID0gMFxuICAgICAgICBAZnJhbWVDb3VudCA9IChAZnJhbWVSYW5nZS5lbmQgLSBAZnJhbWVSYW5nZS5zdGFydCkgKyAxXG4gICAgICAgIEBmcmFtZUR1cmF0aW9uID0gTWF0aC5yb3VuZChAZHVyYXRpb24gLyBAZnJhbWVDb3VudClcbiAgICAgICAgQHBhdHRlcm5PZmZzZXQgPSBAZnJhbWVSYW5nZS5zdGFydFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBmcmFtZS1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAjIyNcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIGlmIG5vdCBAaXNSdW5uaW5nIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBpZiBAZnJhbWVDb3VudGVyID49IEBkdXJhdGlvblxuICAgICAgICAgICAgaWYgQHJlcGVhdFxuICAgICAgICAgICAgICAgIEBmaXJzdFJ1biA9IG5vXG4gICAgICAgICAgICAgICAgQGZyYW1lQ291bnRlciA9IDBcbiAgICAgICAgICAgICAgICBAZnJhbWVDb3VudCA9IChAcmVwZXRpdGlvbkZyYW1lUmFuZ2UuZW5kIC0gQHJlcGV0aXRpb25GcmFtZVJhbmdlLnN0YXJ0KSArIDFcbiAgICAgICAgICAgICAgICBAZnJhbWVEdXJhdGlvbiA9IE1hdGguY2VpbChAZHVyYXRpb24gLyBAZnJhbWVDb3VudClcbiAgICAgICAgICAgICAgICBAcGF0dGVybk9mZnNldCA9IEByZXBldGl0aW9uRnJhbWVSYW5nZS5zdGFydFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICAgICAgICAgIEBvbkZpbmlzaD8odGhpcylcbiAgICAgICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgQHBhdHRlcm4gPSBAcGF0dGVybk9mZnNldCArIE1hdGguZmxvb3IoQGZyYW1lQ291bnRlciAvIEBmcmFtZUR1cmF0aW9uKSBcbiAgICAgICAgQGZyYW1lQ291bnRlcisrXG4gICAgICAgIFxuICAgICAgICBpZiBAb2JqZWN0P1xuICAgICAgICAgICAgYml0bWFwID0gQG9iamVjdC5iaXRtYXAgfHwgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIiN7QG9iamVjdC5pbWFnZUZvbGRlcnx8XCJHcmFwaGljcy9QaWN0dXJlc1wifS8je0BvYmplY3QuaW1hZ2V9XCIpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGJpdG1hcD9cbiAgICAgICAgICAgICAgICBmcmFtZVdpZHRoID0gTWF0aC5mbG9vcihiaXRtYXAud2lkdGggLyBAZnJhbWVzWClcbiAgICAgICAgICAgICAgICBmcmFtZUhlaWdodCA9IE1hdGguZmxvb3IoYml0bWFwLmhlaWdodCAvIEBmcmFtZXNZKVxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IEBwYXR0ZXJuICUgQGZyYW1lc1hcbiAgICAgICAgICAgICAgICByb3cgPSBNYXRoLmZsb29yKEBwYXR0ZXJuIC8gQGZyYW1lc1gpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5zcmNSZWN0LnNldChjb2x1bW4gKiBmcmFtZVdpZHRoLCByb3cgKiBmcmFtZUhlaWdodCwgZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpXG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LndpZHRoID0gQG9iamVjdC5zcmNSZWN0LndpZHRoXG4gICAgICAgICAgICAgICAgQG9iamVjdC5kc3RSZWN0LmhlaWdodCA9IEBvYmplY3Quc3JjUmVjdC5oZWlnaHRcbiAgICAgICAgICAgICAgICBcblxud2luZG93LkNvbXBvbmVudF9GcmFtZUFuaW1hdGlvbiA9IENvbXBvbmVudF9GcmFtZUFuaW1hdGlvblxuZ3MuQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uID0gQ29tcG9uZW50X0ZyYW1lQW5pbWF0aW9uIl19
//# sourceURL=Component_FrameAnimation_104.js
var Component_ZoomAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ZoomAnimation = (function(superClass) {
  extend(Component_ZoomAnimation, superClass);


  /**
  * Executes a zoom-animation on a game-object.
  *
  * @module gs
  * @class Component_ZoomAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_ZoomAnimation(data) {
    Component_ZoomAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
  }


  /**
  * Serializes the zoom-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_ZoomAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing
    };
  };


  /**
  * Updates the zoom-animation.
  *
  * @method update
   */

  Component_ZoomAnimation.prototype.update = function() {
    Component_ZoomAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updatePosition();
    this.object.zoom.x = this.easing.x;
    this.object.zoom.y = this.easing.y;
    if (!this.easing.isRunning) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the zoom-animation.
  *
  * @method zoomTo
  * @param {number} x The x-axis zoom-factor.
  * @param {number} y The y-axis zoom-factor.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_ZoomAnimation.prototype.start = function(x, y, duration, easingType, callback) {
    this.callback = callback;
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    if (duration === 0) {
      this.object.zoom.x = x;
      this.object.zoom.y = y;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      return this.easing.start(this.object.zoom.x, this.object.zoom.y, x, y, duration);
    }
  };

  return Component_ZoomAnimation;

})(gs.Component_Animation);

gs.Component_ZoomAnimation = Component_ZoomAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsdUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGlDQUFDLElBQUQ7SUFDVCwwREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQVYsaUJBQWdCLElBQUksQ0FBRSxlQUF0QjtFQVJMOzs7QUFVYjs7Ozs7O29DQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7O0VBRFU7OztBQUdkOzs7Ozs7b0NBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixxREFBQSxTQUFBO0lBRUEsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtBQUE4QixhQUE5Qjs7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLGNBQVIsQ0FBQTtJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQWIsR0FBaUIsSUFBQyxDQUFBLE1BQU0sQ0FBQztJQUN6QixJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLEdBQWlCLElBQUMsQ0FBQSxNQUFNLENBQUM7SUFFekIsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjttREFDSSxJQUFDLENBQUEsU0FBVSxJQUFDLENBQUEsUUFBUSxlQUR4Qjs7RUFUSTs7O0FBWVI7Ozs7Ozs7Ozs7O29DQVVBLEtBQUEsR0FBTyxTQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUCxFQUFpQixVQUFqQixFQUE2QixRQUE3QjtJQUNILElBQUMsQ0FBQSxRQUFELEdBQVk7SUFDWixJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsR0FBZSxVQUFBLElBQWMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFZLENBQUEsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFmO0lBQ3BELElBQUcsUUFBQSxLQUFZLENBQWY7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFiLEdBQWlCO01BQ2pCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQWIsR0FBaUI7bURBQ2pCLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFRLGVBSHhCO0tBQUEsTUFBQTthQUtJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixDQUFjLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQTNCLEVBQThCLElBQUMsQ0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQTNDLEVBQThDLENBQTlDLEVBQWlELENBQWpELEVBQW9ELFFBQXBELEVBTEo7O0VBSEc7Ozs7R0F2RDJCLEVBQUUsQ0FBQzs7QUFrRXpDLEVBQUUsQ0FBQyx1QkFBSCxHQUE2QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1pvb21BbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIENvbXBvbmVudF9ab29tQW5pbWF0aW9uIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgem9vbS1hbmltYXRpb24gb24gYSBnYW1lLW9iamVjdC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgQ29tcG9uZW50X1pvb21BbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBlYXNpbmctb2JqZWN0IHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGVhc2luZ1xuICAgICAgICAqIEB0eXBlIGdzLkVhc2luZ1xuICAgICAgICAjIyNcbiAgICAgICAgQGVhc2luZyA9IG5ldyBncy5FYXNpbmcobnVsbCwgZGF0YT8uZWFzaW5nKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSB6b29tLWFuaW1hdGlvbiBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAjIyNcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGVhc2luZzogQGVhc2luZ1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSB6b29tLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjI1xuICAgIHVwZGF0ZTogLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZyB0aGVuIHJldHVyblxuICAgICAgICBcbiAgICAgICAgQGVhc2luZy51cGRhdGVQb3NpdGlvbigpXG4gICAgICAgIEBvYmplY3Quem9vbS54ID0gQGVhc2luZy54XG4gICAgICAgIEBvYmplY3Quem9vbS55ID0gQGVhc2luZy55XG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmdcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgdGhlIHpvb20tYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgem9vbVRvXG4gICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgeC1heGlzIHpvb20tZmFjdG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIHktYXhpcyB6b29tLWZhY3Rvci5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjayBjYWxsZWQgaWYgYmxlbmRpbmcgaXMgZmluaXNoZWQuIFxuICAgICMjIyAgICBcbiAgICBzdGFydDogKHgsIHksIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZSB8fCBncy5FYXNpbmdzLkVBU0VfTElORUFSW2dzLkVhc2luZ1R5cGVzLkVBU0VfSU5dXG4gICAgICAgIGlmIGR1cmF0aW9uID09IDBcbiAgICAgICAgICAgIEBvYmplY3Quem9vbS54ID0geFxuICAgICAgICAgICAgQG9iamVjdC56b29tLnkgPSB5XG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBlYXNpbmcuc3RhcnQoQG9iamVjdC56b29tLngsIEBvYmplY3Quem9vbS55LCB4LCB5LCBkdXJhdGlvbilcblxuICAgICAgICBcbmdzLkNvbXBvbmVudF9ab29tQW5pbWF0aW9uID0gQ29tcG9uZW50X1pvb21BbmltYXRpb24iXX0=
//# sourceURL=Component_ZoomAnimation_113.js
var Component_ColorAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ColorAnimation = (function(superClass) {
  extend(Component_ColorAnimation, superClass);


  /**
  * Executes a color-animation on a game-object.
  *
  * @module gs
  * @class Component_MoveAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_ColorAnimation(data) {
    Component_ColorAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);

    /**
    * The start-color.
    * @property sourceColor
    * @type gs.Color
    * @protected
     */
    this.sourceColor = (data != null ? data.sourceColor : void 0) || new Color();

    /**
    * The end-color.
    * @property targetColor
    * @type gs.Color
    * @protected
     */
    this.targetColor = (data != null ? data.targetColor : void 0) || new Color();
  }


  /**
  * Serializes the color-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_ColorAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      sourceColor: this.sourceColor,
      targetColor: this.targetColor
    };
  };


  /**
  * Updates the color-animation
  *
  * @method update
   */

  Component_ColorAnimation.prototype.update = function() {
    var a;
    Component_ColorAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    a = this.easing.value;
    this.object.color.red = Math.floor((this.sourceColor.red * a + this.targetColor.red * (255 - a)) / 255);
    this.object.color.green = Math.floor((this.sourceColor.green * a + this.targetColor.green * (255 - a)) / 255);
    this.object.color.blue = Math.floor((this.sourceColor.blue * a + this.targetColor.blue * (255 - a)) / 255);
    this.object.color.alpha = Math.floor((this.sourceColor.alpha * a + this.targetColor.alpha * (255 - a)) / 255);
    if (!this.easing.isRunning) {
      this.object.color = this.targetColor;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * Starts the color-animation.
  *
  * @method colorTo
  * @param {Color} color The target color.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback-function called when the animation is finished.
   */

  Component_ColorAnimation.prototype.start = function(color, duration, easingType, callback) {
    this.callback = callback;
    this.easing.type = easingType;
    if (this.object.color.red === color.red && this.object.color.green === color.green && this.object.color.blue === color.blue && this.object.color.alpha === color.alpha) {
      if (typeof this.callback === "function") {
        this.callback(this.object, this);
      }
    }
    if (duration === 0) {
      this.object.color = color;
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    } else {
      this.sourceColor = new Color(this.object.color);
      this.targetColor = color;
      return this.easing.startValue(255, -255, duration);
    }
  };

  return Component_ColorAnimation;

})(gs.Component_Animation);

gs.Component_ColorAnimation = Component_ColorAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGtDQUFDLElBQUQ7SUFDVCwyREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQVYsaUJBQWdCLElBQUksQ0FBRSxlQUF0Qjs7QUFFZDs7Ozs7O0lBTUEsSUFBQyxDQUFBLFdBQUQsbUJBQWUsSUFBSSxDQUFFLHFCQUFOLElBQXlCLElBQUEsS0FBQSxDQUFBOztBQUV4Qzs7Ozs7O0lBTUEsSUFBQyxDQUFBLFdBQUQsbUJBQWUsSUFBSSxDQUFFLHFCQUFOLElBQXlCLElBQUEsS0FBQSxDQUFBO0VBeEIvQjs7O0FBMEJiOzs7Ozs7cUNBS0EsWUFBQSxHQUFjLFNBQUE7V0FDVjtNQUFBLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFBVDtNQUNBLFdBQUEsRUFBYSxJQUFDLENBQUEsV0FEZDtNQUVBLFdBQUEsRUFBYSxJQUFDLENBQUEsV0FGZDs7RUFEVTs7O0FBT2Q7Ozs7OztxQ0FLQSxNQUFBLEdBQVEsU0FBQTtBQUNKLFFBQUE7SUFBQSxzREFBQSxTQUFBO0lBRUEsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtBQUE4QixhQUE5Qjs7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLFdBQVIsQ0FBQTtJQUNBLENBQUEsR0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDO0lBRVosSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBZCxHQUFvQixJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsSUFBQyxDQUFBLFdBQVcsQ0FBQyxHQUFiLEdBQW1CLENBQW5CLEdBQXVCLElBQUMsQ0FBQSxXQUFXLENBQUMsR0FBYixHQUFtQixDQUFDLEdBQUEsR0FBTSxDQUFQLENBQTNDLENBQUEsR0FBd0QsR0FBbkU7SUFDcEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBZCxHQUFzQixJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsSUFBQyxDQUFBLFdBQVcsQ0FBQyxLQUFiLEdBQXFCLENBQXJCLEdBQXlCLElBQUMsQ0FBQSxXQUFXLENBQUMsS0FBYixHQUFxQixDQUFDLEdBQUEsR0FBTSxDQUFQLENBQS9DLENBQUEsR0FBNEQsR0FBdkU7SUFDdEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBZCxHQUFxQixJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsSUFBQyxDQUFBLFdBQVcsQ0FBQyxJQUFiLEdBQW9CLENBQXBCLEdBQXdCLElBQUMsQ0FBQSxXQUFXLENBQUMsSUFBYixHQUFvQixDQUFDLEdBQUEsR0FBTSxDQUFQLENBQTdDLENBQUEsR0FBMEQsR0FBckU7SUFDckIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBZCxHQUFzQixJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsSUFBQyxDQUFBLFdBQVcsQ0FBQyxLQUFiLEdBQXFCLENBQXJCLEdBQXlCLElBQUMsQ0FBQSxXQUFXLENBQUMsS0FBYixHQUFxQixDQUFDLEdBQUEsR0FBTSxDQUFQLENBQS9DLENBQUEsR0FBNEQsR0FBdkU7SUFFdEIsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFDLENBQUE7bURBQ2pCLElBQUMsQ0FBQSxTQUFVLElBQUMsQ0FBQSxRQUFRLGVBRnhCOztFQWJJOzs7QUFpQlI7Ozs7Ozs7Ozs7cUNBU0EsS0FBQSxHQUFPLFNBQUMsS0FBRCxFQUFRLFFBQVIsRUFBa0IsVUFBbEIsRUFBOEIsUUFBOUI7SUFDSCxJQUFDLENBQUEsUUFBRCxHQUFZO0lBQ1osSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLEdBQWU7SUFFZixJQUFHLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQWQsS0FBcUIsS0FBSyxDQUFDLEdBQTNCLElBQW1DLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQWQsS0FBdUIsS0FBSyxDQUFDLEtBQWhFLElBQ0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBZCxLQUFzQixLQUFLLENBQUMsSUFEN0IsSUFDc0MsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBZCxLQUF1QixLQUFLLENBQUMsS0FEdEU7O1FBRUcsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVE7T0FGdkI7O0lBSUEsSUFBRyxRQUFBLEtBQVksQ0FBZjtNQUNJLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQjttREFDaEIsSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFGeEI7S0FBQSxNQUFBO01BSUksSUFBQyxDQUFBLFdBQUQsR0FBbUIsSUFBQSxLQUFBLENBQU0sSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFkO01BQ25CLElBQUMsQ0FBQSxXQUFELEdBQWU7YUFDZixJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsR0FBbkIsRUFBd0IsQ0FBQyxHQUF6QixFQUE4QixRQUE5QixFQU5KOztFQVJHOzs7O0dBL0U0QixFQUFFLENBQUM7O0FBK0YxQyxFQUFFLENBQUMsd0JBQUgsR0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9Db2xvckFuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0NvbG9yQW5pbWF0aW9uIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgY29sb3ItYW5pbWF0aW9uIG9uIGEgZ2FtZS1vYmplY3QuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIENvbXBvbmVudF9Nb3ZlQW5pbWF0aW9uXG4gICAgKiBAZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZGF0YSkgLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZWFzaW5nLW9iamVjdCB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBlYXNpbmdcbiAgICAgICAgKiBAdHlwZSBncy5FYXNpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBlYXNpbmcgPSBuZXcgZ3MuRWFzaW5nKG51bGwsIGRhdGE/LmVhc2luZylcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgc3RhcnQtY29sb3IuXG4gICAgICAgICogQHByb3BlcnR5IHNvdXJjZUNvbG9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAc291cmNlQ29sb3IgPSBkYXRhPy5zb3VyY2VDb2xvciB8fCBuZXcgQ29sb3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBlbmQtY29sb3IuXG4gICAgICAgICogQHByb3BlcnR5IHRhcmdldENvbG9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAdGFyZ2V0Q29sb3IgPSBkYXRhPy50YXJnZXRDb2xvciB8fCBuZXcgQ29sb3IoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBjb2xvci1hbmltYXRpb24gaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjICAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgZWFzaW5nOiBAZWFzaW5nLFxuICAgICAgICBzb3VyY2VDb2xvcjogQHNvdXJjZUNvbG9yLFxuICAgICAgICB0YXJnZXRDb2xvcjogQHRhcmdldENvbG9yXG4gICAgIFxuICAgICBcbiBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBjb2xvci1hbmltYXRpb25cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyAgICBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmcgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmcudXBkYXRlVmFsdWUoKVxuICAgICAgICBhID0gQGVhc2luZy52YWx1ZVxuICAgIFxuICAgICAgICBAb2JqZWN0LmNvbG9yLnJlZCA9IE1hdGguZmxvb3IoKEBzb3VyY2VDb2xvci5yZWQgKiBhICsgQHRhcmdldENvbG9yLnJlZCAqICgyNTUgLSBhKSkgLyAyNTUpXG4gICAgICAgIEBvYmplY3QuY29sb3IuZ3JlZW4gPSBNYXRoLmZsb29yKChAc291cmNlQ29sb3IuZ3JlZW4gKiBhICsgQHRhcmdldENvbG9yLmdyZWVuICogKDI1NSAtIGEpKSAvIDI1NSlcbiAgICAgICAgQG9iamVjdC5jb2xvci5ibHVlID0gTWF0aC5mbG9vcigoQHNvdXJjZUNvbG9yLmJsdWUgKiBhICsgQHRhcmdldENvbG9yLmJsdWUgKiAoMjU1IC0gYSkpIC8gMjU1KVxuICAgICAgICBAb2JqZWN0LmNvbG9yLmFscGhhID0gTWF0aC5mbG9vcigoQHNvdXJjZUNvbG9yLmFscGhhICogYSArIEB0YXJnZXRDb2xvci5hbHBoYSAqICgyNTUgLSBhKSkgLyAyNTUpXG5cbiAgICAgICAgaWYgbm90IEBlYXNpbmcuaXNSdW5uaW5nXG4gICAgICAgICAgICBAb2JqZWN0LmNvbG9yID0gQHRhcmdldENvbG9yXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIHRoZSBjb2xvci1hbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBjb2xvclRvXG4gICAgKiBAcGFyYW0ge0NvbG9yfSBjb2xvciBUaGUgdGFyZ2V0IGNvbG9yLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBpbiBmcmFtZXMuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nVHlwZSBUaGUgZWFzaW5nLXR5cGUuXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIEFuIG9wdGlvbmFsIGNhbGxiYWNrLWZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWQuXG4gICAgIyMjICAgICAgICAgIFxuICAgIHN0YXJ0OiAoY29sb3IsIGR1cmF0aW9uLCBlYXNpbmdUeXBlLCBjYWxsYmFjaykgLT5cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgQGVhc2luZy50eXBlID0gZWFzaW5nVHlwZVxuICAgICAgICBcbiAgICAgICAgaWYgQG9iamVjdC5jb2xvci5yZWQgPT0gY29sb3IucmVkIGFuZCBAb2JqZWN0LmNvbG9yLmdyZWVuID09IGNvbG9yLmdyZWVuIGFuZFxuICAgICAgICAgICAgQG9iamVjdC5jb2xvci5ibHVlID09IGNvbG9yLmJsdWUgYW5kIEBvYmplY3QuY29sb3IuYWxwaGEgPT0gY29sb3IuYWxwaGFcbiAgICAgICAgICAgQGNhbGxiYWNrPyhAb2JqZWN0LCB0aGlzKVxuICAgIFxuICAgICAgICBpZiBkdXJhdGlvbiA9PSAwXG4gICAgICAgICAgICBAb2JqZWN0LmNvbG9yID0gY29sb3JcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHNvdXJjZUNvbG9yID0gbmV3IENvbG9yKEBvYmplY3QuY29sb3IpXG4gICAgICAgICAgICBAdGFyZ2V0Q29sb3IgPSBjb2xvclxuICAgICAgICAgICAgQGVhc2luZy5zdGFydFZhbHVlKDI1NSwgLTI1NSwgZHVyYXRpb24pXG4gICAgICAgIFxuZ3MuQ29tcG9uZW50X0NvbG9yQW5pbWF0aW9uID0gQ29tcG9uZW50X0NvbG9yQW5pbWF0aW9uIl19
//# sourceURL=Component_ColorAnimation_114.js
var Component_ShakeAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ShakeAnimation = (function(superClass) {
  extend(Component_ShakeAnimation, superClass);


  /**
  * Executes a horizontal shake-animation on a game-object.
  *
  * @module gs
  * @class Component_ShakeAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_ShakeAnimation(data) {
    var ref;
    Component_ShakeAnimation.__super__.constructor.apply(this, arguments);
    this.easingX = new gs.Easing(null, data != null ? data.easingX : void 0);
    this.easingY = new gs.Easing(null, data != null ? data.easingY : void 0);
    this.range = (data != null ? data.range : void 0) || {
      x: 0,
      y: 0
    };
    this.speed = (data != null ? data.speed : void 0) || 0;
    this.callback = null;
    this.isRunning = (ref = data != null ? data.isRunning : void 0) != null ? ref : false;
    this.duration = (data != null ? data.duration : void 0) || 0;
  }


  /**
  * Serializes the shake-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_ShakeAnimation.prototype.toDataBundle = function() {
    return {
      easingX: this.easingX,
      easingY: this.easingY,
      range: this.range,
      duration: this.duration,
      speed: this.speed,
      isRunning: this.isRunning
    };
  };


  /**
  * Skips the animation. That is used to skip an animation if the user
  * wants to skip very fast through a visual novel scene.
  *
  * @method skip
   */

  Component_ShakeAnimation.prototype.skip = function() {
    if (this.easingX.duration > 1) {
      this.easingX.duration = 1;
      this.easingX.time = 0;
    }
    if (this.easingY.duration > 1) {
      this.easingY.duration = 1;
      return this.easingY.time = 0;
    }
  };


  /**
  * Starts the shake-animation.
  *
  * @method start
  * @param {gs.Range} range The horizontal shake-range.
  * @param {number} speed The shake-speed.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if the animation is finished.
   */

  Component_ShakeAnimation.prototype.start = function(range, speed, duration, easing, callback) {
    this.range = range;
    this.easingX.type = easing;
    this.easingY.type = easing;
    this.speed = speed;
    this.duration = duration;
    this.callback = callback;
    this.isRunning = true;
    this.startOffset = {
      x: this.object.offset.x,
      y: this.object.offset.y
    };
    if (range.x !== 0) {
      this.easingX.startValue(this.startOffset.x, range.x, Math.max(range.x / speed, 1));
    }
    if (range.y !== 0) {
      return this.easingY.startValue(this.startOffset.y, range.y, Math.max(range.y / speed, 1));
    }
  };


  /**
  * Updates the shake-animation.
  *
  * @method update
   */

  Component_ShakeAnimation.prototype.update = function() {
    Component_ShakeAnimation.__super__.update.call(this);
    if (this.duration === 0 && this.isRunning) {
      this.easingX.isRunning = false;
      this.easingY.isRunning = false;
      this.object.offset.x = 0;
      this.object.offset.y = 0;
      this.isRunning = false;
      if (typeof this.callback === "function") {
        this.callback(this.object, this);
      }
    }
    if (!this.isRunning) {
      return;
    }
    this.easingX.updateValue();
    this.easingY.updateValue();
    if (this.easingY.isRunning) {
      this.object.offset.y = Math.round(this.easingY.value);
    }
    if (this.easingX.isRunning) {
      this.object.offset.x = Math.round(this.easingX.value);
    }
    if (!this.easingX.isRunning) {
      this.easingX.startValue(this.object.offset.x, (this.object.offset.x > 0 ? -(this.range.x * 2) : this.range.x * 2), Math.max(this.range.x * 2 / this.speed, 2));
    }
    if (!this.easingY.isRunning) {
      this.easingY.startValue(this.object.offset.y, (this.object.offset.y > 0 ? -(this.range.y * 2) : this.range.y * 2), Math.max(this.range.y * 2 / this.speed, 2));
    }
    return this.duration--;
  };

  return Component_ShakeAnimation;

})(gs.Component_Animation);

gs.Component_ShakeAnimation = Component_ShakeAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGtDQUFDLElBQUQ7QUFDVCxRQUFBO0lBQUEsMkRBQUEsU0FBQTtJQUNBLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQVYsaUJBQWdCLElBQUksQ0FBRSxnQkFBdEI7SUFDZixJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxJQUFWLGlCQUFnQixJQUFJLENBQUUsZ0JBQXRCO0lBQ2YsSUFBQyxDQUFBLEtBQUQsbUJBQVMsSUFBSSxDQUFFLGVBQU4sSUFBZTtNQUFFLENBQUEsRUFBRyxDQUFMO01BQVEsQ0FBQSxFQUFHLENBQVg7O0lBQ3hCLElBQUMsQ0FBQSxLQUFELG1CQUFTLElBQUksQ0FBRSxlQUFOLElBQWU7SUFDeEIsSUFBQyxDQUFBLFFBQUQsR0FBWTtJQUNaLElBQUMsQ0FBQSxTQUFELGtFQUErQjtJQUMvQixJQUFDLENBQUEsUUFBRCxtQkFBWSxJQUFJLENBQUUsa0JBQU4sSUFBa0I7RUFSckI7OztBQVdiOzs7Ozs7cUNBS0EsWUFBQSxHQUFjLFNBQUE7V0FDVjtNQUFBLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FBVjtNQUNBLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FEVjtNQUVBLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FGUjtNQUdBLFFBQUEsRUFBVSxJQUFDLENBQUEsUUFIWDtNQUlBLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FKUjtNQUtBLFNBQUEsRUFBVyxJQUFDLENBQUEsU0FMWjs7RUFEVTs7O0FBUWQ7Ozs7Ozs7cUNBTUEsSUFBQSxHQUFNLFNBQUE7SUFDRixJQUFHLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxHQUFvQixDQUF2QjtNQUNJLElBQUMsQ0FBQSxPQUFPLENBQUMsUUFBVCxH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LENBQUMsTUFBTSxDQUFDLENBQW5DLEVBQXNDLENBQUksSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBZixHQUFtQixDQUF0QixHQUE2QixDQUFDLENBQUMsSUFBQyxDQUFBLEtBQUssQ0FBQyxDQUFQLEdBQVMsQ0FBVixDQUE5QixHQUFpRCxJQUFDLENBQUEsS0FBSyxDQUFDLENBQVAsR0FBUyxDQUEzRCxDQUF0QyxFQUFzRyxJQUFJLENBQUMsR0FBTCxDQUFTLElBQUMsQ0FBQSxLQUFLLENBQUMsQ0FBUCxHQUFTLENBQVQsR0FBYSxJQUFDLENBQUEsS0FBdkIsRUFBOEIsQ0FBOUIsQ0FBdEcsRUFESjs7SUFFQSxJQUFHLENBQUksSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFoQjtNQUNJLElBQUMsQ0FBQSxPQUFPLENBQUMsVUFBVCxDQUFvQixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFuQyxFQUFzQyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQWYsR0FBbUIsQ0FBdEIsR0FBNkIsQ0FBQyxDQUFDLElBQUMsQ0FBQSxLQUFLLENBQUMsQ0FBUCxHQUFTLENBQVYsQ0FBOUIsR0FBaUQsSUFBQyxDQUFBLEtBQUssQ0FBQyxDQUFQLEdBQVMsQ0FBM0QsQ0FBdEMsRUFBc0csSUFBSSxDQUFDLEdBQUwsQ0FBUyxJQUFDLENBQUEsS0FBSyxDQUFDLENBQVAsR0FBUyxDQUFULEdBQWEsSUFBQyxDQUFBLEtBQXZCLEVBQThCLENBQTlCLENBQXRHLEVBREo7O1dBSUEsSUFBQyxDQUFBLFFBQUQ7RUEzQkk7Ozs7R0E5RTJCLEVBQUUsQ0FBQzs7QUEyRzFDLEVBQUUsQ0FBQyx3QkFBSCxHQUE4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogQ29tcG9uZW50X1NoYWtlQW5pbWF0aW9uXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBDb21wb25lbnRfU2hha2VBbmltYXRpb24gZXh0ZW5kcyBncy5Db21wb25lbnRfQW5pbWF0aW9uXG4gICAgIyMjKlxuICAgICogRXhlY3V0ZXMgYSBob3Jpem9udGFsIHNoYWtlLWFuaW1hdGlvbiBvbiBhIGdhbWUtb2JqZWN0LlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfU2hha2VBbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAZWFzaW5nWCA9IG5ldyBncy5FYXNpbmcobnVsbCwgZGF0YT8uZWFzaW5nWClcbiAgICAgICAgQGVhc2luZ1kgPSBuZXcgZ3MuRWFzaW5nKG51bGwsIGRhdGE/LmVhc2luZ1kpXG4gICAgICAgIEByYW5nZSA9IGRhdGE/LnJhbmdlIHx8IHsgeDogMCwgeTogMCB9XG4gICAgICAgIEBzcGVlZCA9IGRhdGE/LnNwZWVkIHx8IDBcbiAgICAgICAgQGNhbGxiYWNrID0gbnVsbFxuICAgICAgICBAaXNSdW5uaW5nID0gZGF0YT8uaXNSdW5uaW5nID8gbm9cbiAgICAgICAgQGR1cmF0aW9uID0gZGF0YT8uZHVyYXRpb24gfHwgMFxuICAgICAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBzaGFrZS1hbmltYXRpb24gaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjICAgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGVhc2luZ1g6IEBlYXNpbmdYLFxuICAgICAgICBlYXNpbmdZOiBAZWFzaW5nWSxcbiAgICAgICAgcmFuZ2U6IEByYW5nZSxcbiAgICAgICAgZHVyYXRpb246IEBkdXJhdGlvbixcbiAgICAgICAgc3BlZWQ6IEBzcGVlZCxcbiAgICAgICAgaXNSdW5uaW5nOiBAaXNSdW5uaW5nXG4gICAgIFxuICAgICMjIypcbiAgICAqIFNraXBzIHRoZSBhbmltYXRpb24uIFRoYXQgaXMgdXNlZCB0byBza2lwIGFuIGFuaW1hdGlvbiBpZiB0aGUgdXNlclxuICAgICogd2FudHMgdG8gc2tpcCB2ZXJ5IGZhc3QgdGhyb3VnaCBhIHZpc3VhbCBub3ZlbCBzY2VuZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNraXBcbiAgICAjIyMgICBcbiAgICBza2lwOiAtPiBcbiAgICAgICAgaWYgQGVhc2luZ1guZHVyYXRpb24gPiAxXG4gICAgICAgICAgICBAZWFzaW5nWC5kdXJhdGlvbiA9IDFcbiAgICAgICAgICAgIEBlYXNpbmdYLnRpbWUgPSAwXG4gICAgICAgIGlmIEBlYXNpbmdZLmR1cmF0aW9uID4gMVxuICAgICAgICAgICAgQGVhc2luZ1kuZHVyYXRpb24gPSAxXG4gICAgICAgICAgICBAZWFzaW5nWS50aW1lID0gMFxuICAgIFxuICAgICMjIypcbiAgICAqIFN0YXJ0cyB0aGUgc2hha2UtYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RhcnRcbiAgICAqIEBwYXJhbSB7Z3MuUmFuZ2V9IHJhbmdlIFRoZSBob3Jpem9udGFsIHNoYWtlLXJhbmdlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkIFRoZSBzaGFrZS1zcGVlZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gZnJhbWVzLlxuICAgICogQHBhcmFtIHtPYmplY3R9IGVhc2luZ1R5cGUgVGhlIGVhc2luZy10eXBlLlxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBBbiBvcHRpb25hbCBjYWxsYmFjayBjYWxsZWQgaWYgdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC4gXG4gICAgIyMjICAgICAgXG4gICAgc3RhcnQ6IChyYW5nZSwgc3BlZWQsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSAtPlxuICAgICAgICBAcmFuZ2UgPSByYW5nZVxuICAgICAgICBAZWFzaW5nWC50eXBlID0gZWFzaW5nXG4gICAgICAgIEBlYXNpbmdZLnR5cGUgPSBlYXNpbmdcbiAgICAgICAgQHNwZWVkID0gc3BlZWRcbiAgICAgICAgQGR1cmF0aW9uID0gZHVyYXRpb25cbiAgICAgICAgQGNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgICAgQGlzUnVubmluZyA9IHllc1xuICAgICAgICBcbiAgICAgICAgQHN0YXJ0T2Zmc2V0ID0geDogQG9iamVjdC5vZmZzZXQueCwgeTogQG9iamVjdC5vZmZzZXQueVxuICAgICAgICBpZiByYW5nZS54ICE9IDBcbiAgICAgICAgICAgIEBlYXNpbmdYLnN0YXJ0VmFsdWUoQHN0YXJ0T2Zmc2V0LngsIHJhbmdlLngsIE1hdGgubWF4KHJhbmdlLnggLyBzcGVlZCwgMSkpXG4gICAgICAgIGlmIHJhbmdlLnkgIT0gMFxuICAgICAgICAgICAgQGVhc2luZ1kuc3RhcnRWYWx1ZShAc3RhcnRPZmZzZXQueSwgcmFuZ2UueSwgTWF0aC5tYXgocmFuZ2UueSAvIHNwZWVkLCAxKSlcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIHNoYWtlLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIGlmIEBkdXJhdGlvbiA9PSAwIGFuZCBAaXNSdW5uaW5nXG4gICAgICAgICAgICBAZWFzaW5nWC5pc1J1bm5pbmcgPSBub1xuICAgICAgICAgICAgQGVhc2luZ1kuaXNSdW5uaW5nID0gbm9cbiAgICAgICAgICAgIEBvYmplY3Qub2Zmc2V0LnggPSAwXG4gICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gMFxuICAgICAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgICAgICAgICBAY2FsbGJhY2s/KEBvYmplY3QsIHRoaXMpXG4gICAgICAgICAgICBcbiAgICAgICAgaWYgbm90IEBpc1J1bm5pbmcgdGhlbiByZXR1cm5cbiAgICAgICAgXG4gICAgICAgIEBlYXNpbmdYLnVwZGF0ZVZhbHVlKClcbiAgICAgICAgQGVhc2luZ1kudXBkYXRlVmFsdWUoKVxuICAgICAgICBcbiAgICAgICAgaWYgQGVhc2luZ1kuaXNSdW5uaW5nXG4gICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC55ID0gTWF0aC5yb3VuZChAZWFzaW5nWS52YWx1ZSlcbiAgICAgICAgaWYgQGVhc2luZ1guaXNSdW5uaW5nXG4gICAgICAgICAgICBAb2JqZWN0Lm9mZnNldC54ID0gTWF0aC5yb3VuZChAZWFzaW5nWC52YWx1ZSlcbiAgICAgICAgXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nWC5pc1J1bm5pbmdcbiAgICAgICAgICAgIEBlYXNpbmdYLnN0YXJ0VmFsdWUoQG9iamVjdC5vZmZzZXQueCwgKGlmIEBvYmplY3Qub2Zmc2V0LnggPiAwIHRoZW4gLShAcmFuZ2UueCoyKSBlbHNlIChAcmFuZ2UueCoyKSksIE1hdGgubWF4KEByYW5nZS54KjIgLyBAc3BlZWQsIDIpKVxuICAgICAgICBpZiBub3QgQGVhc2luZ1kuaXNSdW5uaW5nXG4gICAgICAgICAgICBAZWFzaW5nWS5zdGFydFZhbHVlKEBvYmplY3Qub2Zmc2V0LnksIChpZiBAb2JqZWN0Lm9mZnNldC55ID4gMCB0aGVuIC0oQHJhbmdlLnkqMikgZWxzZSAoQHJhbmdlLnkqMikpLCBNYXRoLm1heChAcmFuZ2UueSoyIC8gQHNwZWVkLCAyKSlcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBAZHVyYXRpb24tLVxuICAgICAgICAgICAgXG5ncy5Db21wb25lbnRfU2hha2VBbmltYXRpb24gPSBDb21wb25lbnRfU2hha2VBbmltYXRpb24iXX0=
//# sourceURL=Component_ShakeAnimation_121.js
var Component_ImageAnimation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Component_ImageAnimation = (function(superClass) {
  extend(Component_ImageAnimation, superClass);


  /**
  * Executes a image-based animation.
  *
  * @module gs
  * @class Component_ImageAnimation
  * @extends gs.Component_Animation
  * @memberof gs
  * @constructor
   */

  function Component_ImageAnimation(data) {
    Component_ImageAnimation.__super__.constructor.apply(this, arguments);

    /**
    * The images to animate through.
    * @property images
    * @type string[]
     */
    this.images = (data != null ? data.images : void 0) || [];

    /**
    * The easing-object used for the animation.
    * @property easing
    * @type gs.Easing
     */
    this.easing = new gs.Easing(null, data != null ? data.easing : void 0);
  }


  /**
  * Serializes the image-animation into a data-bundle.
  *
  * @method toDataBundle
   */

  Component_ImageAnimation.prototype.toDataBundle = function() {
    return {
      easing: this.easing,
      images: this.images
    };
  };


  /**
  * Updates the image-animation.
  *
  * @method update
   */

  Component_ImageAnimation.prototype.update = function() {
    Component_ImageAnimation.__super__.update.apply(this, arguments);
    if (!this.easing.isRunning) {
      return;
    }
    this.easing.updateValue();
    this.object.image = this.images[Math.round(this.easing.value)];
    if (!this.easing.isRunning) {
      return typeof this.callback === "function" ? this.callback(this.object, this) : void 0;
    }
  };


  /**
  * A simple image animation runs from left to right using the game object's
  * image-property.
  *
  * @method changeImages
  * @param {Array} images An array of image names.
  * @param {number} duration The duration in frames.
  * @param {Object} easingType The easing-type.
  * @param {function} [callback] An optional callback called if blending is finished.
   */

  Component_ImageAnimation.prototype.start = function(images, duration, easingType, callback) {
    this.callback = callback;
    this.images = images;
    this.easing.type = easingType || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_IN];
    return this.easing.startValue(0, images.length - 1, duration);
  };

  return Component_ImageAnimation;

})(gs.Component_Animation);

gs.Component_ImageAnimation = Component_ImageAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsd0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLGtDQUFDLElBQUQ7SUFDVCwyREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELG1CQUFVLElBQUksQ0FBRSxnQkFBTixJQUFnQjs7QUFFMUI7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixpQkFBZ0IsSUFBSSxDQUFFLGVBQXRCO0VBZkw7OztBQWlCYjs7Ozs7O3FDQUtBLFlBQUEsR0FBYyxTQUFBO1dBQ1Y7TUFBQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BQVQ7TUFDQSxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BRFQ7O0VBRFU7OztBQUlkOzs7Ozs7cUNBS0EsTUFBQSxHQUFRLFNBQUE7SUFDSixzREFBQSxTQUFBO0lBQ0EsSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FBZjtBQUE4QixhQUE5Qjs7SUFFQSxJQUFDLENBQUEsTUFBTSxDQUFDLFdBQVIsQ0FBQTtJQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBUixHQUFnQixJQUFDLENBQUEsTUFBTyxDQUFBLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFuQixDQUFBO0lBRXhCLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBTSxDQUFDLFNBQWY7bURBQ0ksSUFBQyxDQUFBLFNBQVUsSUFBQyxDQUFBLFFBQVEsZUFEeEI7O0VBUEk7OztBQVVSOzs7Ozs7Ozs7OztxQ0FVQSxLQUFBLEdBQU8sU0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixVQUFuQixFQUErQixRQUEvQjtJQUNILElBQUMsQ0FBQSxRQUFELEdBQVk7SUFDWixJQUFDLENBQUEsTUFBRCxHQUFVO0lBQ1YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLEdBQWUsVUFBQSxJQUFjLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBWSxDQUFBLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBZjtXQUNwRCxJQUFDLENBQUEsTUFBTSxDQUFDLFVBQVIsQ0FBbUIsQ0FBbkIsRUFBc0IsTUFBTSxDQUFDLE1BQVAsR0FBYyxDQUFwQyxFQUF1QyxRQUF2QztFQUpHOzs7O0dBN0Q0QixFQUFFLENBQUM7O0FBbUUxQyxFQUFFLENBQUMsd0JBQUgsR0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IENvbXBvbmVudF9JbWFnZUFuaW1hdGlvblxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgQ29tcG9uZW50X0ltYWdlQW5pbWF0aW9uIGV4dGVuZHMgZ3MuQ29tcG9uZW50X0FuaW1hdGlvblxuICAgICMjIypcbiAgICAqIEV4ZWN1dGVzIGEgaW1hZ2UtYmFzZWQgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBDb21wb25lbnRfSW1hZ2VBbmltYXRpb25cbiAgICAqIEBleHRlbmRzIGdzLkNvbXBvbmVudF9BbmltYXRpb25cbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBpbWFnZXMgdG8gYW5pbWF0ZSB0aHJvdWdoLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZXNcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlcyA9IGRhdGE/LmltYWdlcyB8fCBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBlYXNpbmctb2JqZWN0IHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGVhc2luZ1xuICAgICAgICAqIEB0eXBlIGdzLkVhc2luZ1xuICAgICAgICAjIyNcbiAgICAgICAgQGVhc2luZyA9IG5ldyBncy5FYXNpbmcobnVsbCwgZGF0YT8uZWFzaW5nKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBpbWFnZS1hbmltYXRpb24gaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgIyMjXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICBlYXNpbmc6IEBlYXNpbmcsXG4gICAgICAgIGltYWdlczogQGltYWdlc1xuICAgICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIGltYWdlLWFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICMjIyBcbiAgICB1cGRhdGU6IC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIGlmIG5vdCBAZWFzaW5nLmlzUnVubmluZyB0aGVuIHJldHVyblxuICBcbiAgICAgICAgQGVhc2luZy51cGRhdGVWYWx1ZSgpXG4gICAgICAgIEBvYmplY3QuaW1hZ2UgPSBAaW1hZ2VzW01hdGgucm91bmQoQGVhc2luZy52YWx1ZSldXG4gICAgICAgIFxuICAgICAgICBpZiBub3QgQGVhc2luZy5pc1J1bm5pbmdcbiAgICAgICAgICAgIEBjYWxsYmFjaz8oQG9iamVjdCwgdGhpcylcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIHNpbXBsZSBpbWFnZSBhbmltYXRpb24gcnVucyBmcm9tIGxlZnQgdG8gcmlnaHQgdXNpbmcgdGhlIGdhbWUgb2JqZWN0J3NcbiAgICAqIGltYWdlLXByb3BlcnR5LlxuICAgICpcbiAgICAqIEBtZXRob2QgY2hhbmdlSW1hZ2VzXG4gICAgKiBAcGFyYW0ge0FycmF5fSBpbWFnZXMgQW4gYXJyYXkgb2YgaW1hZ2UgbmFtZXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIGZyYW1lcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdUeXBlIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gQW4gb3B0aW9uYWwgY2FsbGJhY2sgY2FsbGVkIGlmIGJsZW5kaW5nIGlzIGZpbmlzaGVkLiBcbiAgICAjIyMgICAgICAgICBcbiAgICBzdGFydDogKGltYWdlcywgZHVyYXRpb24sIGVhc2luZ1R5cGUsIGNhbGxiYWNrKSAtPlxuICAgICAgICBAY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgICBAaW1hZ2VzID0gaW1hZ2VzXG4gICAgICAgIEBlYXNpbmcudHlwZSA9IGVhc2luZ1R5cGUgfHwgZ3MuRWFzaW5ncy5FQVNFX0xJTkVBUltncy5FYXNpbmdUeXBlcy5FQVNFX0lOXVxuICAgICAgICBAZWFzaW5nLnN0YXJ0VmFsdWUoMCwgaW1hZ2VzLmxlbmd0aC0xLCBkdXJhdGlvbilcbiAgICAgICAgXG5ncy5Db21wb25lbnRfSW1hZ2VBbmltYXRpb24gPSBDb21wb25lbnRfSW1hZ2VBbmltYXRpb24iXX0=
//# sourceURL=Component_ImageAnimation_129.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Objects_52.js
var Object_Base;

Object_Base = (function() {

  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */
  Object_Base.prototype.onDataBundleRestore = function(data, context) {
    if (this.id) {
      return window["$" + this.id] = this;
    }
  };

  Object_Base.accessors("group", {
    set: function(g) {
      var ref;
      this.group_ = g;
      return (ref = gs.ObjectManager.current) != null ? ref.addToGroup(this, g) : void 0;
    },
    get: function() {
      return this.group_;
    }
  });

  Object_Base.accessors("order", {
    set: function(o) {
      var ref;
      if (o !== this.order_) {
        this.order_ = o;
        return (ref = this.parent) != null ? ref.needsSort = true : void 0;
      }
    },
    get: function() {
      return this.order_;
    }
  });

  Object_Base.accessors("needsUpdate", {
    set: function(v) {
      var parent;
      this.needsUpdate_ = v;
      parent = this.parent;
      while (parent) {
        parent.needsUpdate_ = true;
        parent = parent.parent;
      }
      if (v) {
        return this.requestSubUpdate();
      }
    },
    get: function() {
      return this.needsUpdate_ || SceneManager.scene.preparing;
    }
  });

  Object_Base.prototype.requestSubUpdate = function() {
    var j, len, object, ref;
    ref = this.subObjects;
    for (j = 0, len = ref.length; j < len; j++) {
      object = ref[j];
      if (object) {
        object.needsUpdate_ = true;
        object.requestSubUpdate();
      }
    }
    return null;
  };

  Object_Base.accessors("needsFullUpdate", {
    set: function(v) {
      var j, len, object, ref, results;
      this.needsUpdate = v;
      if (v) {
        ref = this.subObjects;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          object = ref[j];
          results.push(object.needsFullUpdate = v);
        }
        return results;
      }
    },
    get: function() {
      return this.needsUpdate_;
    }
  });


  /**
  * The base class for all game objects. A game object itself doesn't implement
  * any game logic but uses components and sub-objects for that.
  *
  * @module gs
  * @class Object_Base
  * @memberof gs
  * @constructor
   */

  function Object_Base() {

    /**
    * @property subObjects
    * @type gs.Object_Base[]
    * @default []
    * A list of game-objects grouped under this game object.
     */
    var ref;
    this.subObjects = [];

    /**
    * @property components
    * @type gs.Component[]
    * @default []
    * A list of components defining the logic/behavior and appearance of the game object.
     */
    this.components = [];

    /**
    * @property componentsById
    * @type Object
    * @default []
    * All associated components by their ID.
     */
    this.componentsById = {};

    /**
    * @property disposed
    * @type boolean
    * @default false
    * Indicates if the game object id disposed. A disposed game object cannot be used anymore.
     */
    this.disposed = false;

    /**
    * @property active
    * @default true
    * Indicates if the game object is active. An inactive game object will not be updated.
     */
    this.active = true;
    this.input = false;

    /**
    * @property id
    * @type string
    * @default null
    * The game object's UID (Unique ID)
     */
    this.id = null;

    /**
    * @property group
    * @default null
    * @type string
    * The game object's group. To get all object's of a specific group the gs.ObjectManager.objectsByGroup property can be used.
     */
    this.group = null;

    /**
    * @property parent
    * @type gs.Object_Base
    * @default null
    * The parent object if the game object is a sub-object of another game object.
     */
    this.parent = null;

    /**
    * @property order
    * @type number
    * @default 0
    * Controls the update-order. The smaller the value the earlier the game object is updated before other game objects are updated.
     */
    this.order = 0;

    /**
    * @property rIndex
    * @type number
    * @default 0
    * Holds the render-index if the game object has a graphical representation on screen. The render-index is the
    * index of the game object's graphic-object(gs.GraphicObject) in the current list of graphic-objects. The render-index
    * is read-only. Setting the render-index to a certain value has no effect.
     */
    this.rIndex = 0;

    /**
    * @property needsSort
    * @type boolean
    * @default true
    * Indicates if the list of sub-objects needs to be sorted by order because of a change.
     */
    this.needsSort = true;

    /**
    * @property needsSort
    * @type boolean
    * @default true
    * Indicates if the UI object needs to be updated.
     */
    this.needsUpdate = true;
    if ((ref = gs.ObjectManager.current) != null) {
      ref.registerObject(this);
    }
  }


  /**
  * Disposes the object with all its components and sub-objects. A disposed object will be
  * removed from the parent automatically.
  *
  * @method dispose
   */

  Object_Base.prototype.dispose = function() {
    var ref;
    if (!this.disposed) {
      this.disposed = true;
      this.disposeComponents();
      this.disposeObjects();
      if ((ref = gs.ObjectManager.current) != null) {
        ref.unregisterObject(this);
      }
    }
    return null;
  };


  /**
  * Disposes all sub-objects.
  *
  * @method disposeObjects
  * @protected
   */

  Object_Base.prototype.disposeObjects = function() {
    var j, len, ref, results, subObject;
    ref = this.subObjects;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      subObject = ref[j];
      results.push(subObject != null ? typeof subObject.dispose === "function" ? subObject.dispose() : void 0 : void 0);
    }
    return results;
  };


  /**
  * Disposes all components
  *
  * @method disposeComponents
  * @protected
   */

  Object_Base.prototype.disposeComponents = function() {
    var component, j, len, ref, results;
    ref = this.components;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      component = ref[j];
      results.push(component != null ? typeof component.dispose === "function" ? component.dispose() : void 0 : void 0);
    }
    return results;
  };


  /**
  * Calls setup-routine on all compontents.
  *
  * @method setup
   */

  Object_Base.prototype.setup = function() {
    var component, j, len, ref;
    ref = this.components;
    for (j = 0, len = ref.length; j < len; j++) {
      component = ref[j];
      component.setup();
    }
    this.initialized = true;
    return null;
  };


  /**
  * Deserializes components from a data-bundle object.
  * 
  * @method componentsFromDataBundle
  * @param {Object} data The data-bundle object.
   */

  Object_Base.prototype.componentsFromDataBundle = function(data) {
    var component, componentObject, j, len, ref;
    if (data != null ? data.components : void 0) {
      ref = data.components;
      for (j = 0, len = ref.length; j < len; j++) {
        component = ref[j];
        componentObject = new gs[component.className](component);
        this.addComponent(componentObject);
      }
      delete data.components;
    }
    return null;
  };


  /**
  * Serializes components of a specified type to a data-bundle. A component
  * needs to implement the toDataBundle method for correct serialization.
  *
  * @method componentsToDataBundle
  * @param {String} type - A component class name.
  * @return A data bundle.
   */

  Object_Base.prototype.componentsToDataBundle = function(type) {
    var bundle, component, components, j, len, ref;
    components = [];
    ref = this.components;
    for (j = 0, len = ref.length; j < len; j++) {
      component = ref[j];
      if (component instanceof type) {
        if (component.toDataBundle == null) {
          continue;
        }
        bundle = component.toDataBundle();
        bundle.className = component.constructor.name;
        components.push(bundle);
      }
    }
    return components;
  };


  /**
  * Starts a full-refresh on all sub-objects
  *
  * @method fullRefresh
   */

  Object_Base.prototype.fullRefresh = function() {
    var j, len, object, ref;
    ref = this.subObjects;
    for (j = 0, len = ref.length; j < len; j++) {
      object = ref[j];
      if (object) {
        object.needsUpdate = true;
        object.fullRefresh();
      }
    }
    return null;
  };


  /**
  * Updates the object with all parent- and sub-objects. 
  *
  * @method fullUpdate
   */

  Object_Base.prototype.fullUpdate = function() {
    var j, len, object, parent, ref, results;
    parent = this;
    while (parent !== null) {
      parent.update();
      parent = parent.parent;
    }
    ref = this.subObjects;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      object = ref[j];
      results.push(object != null ? object.update() : void 0);
    }
    return results;
  };


  /**
  * Updates the object and all its components. This method is
  * called automatically by the parent or ObjectManager so in regular it is 
  * not necessary to call it manually.
  *
  * @method update
   */

  Object_Base.prototype.update = function() {
    var component, i;
    i = 0;
    while (i < this.components.length) {
      component = this.components[i];
      if (!component.disposed) {
        component.update();
        i++;
      } else {
        this.components.splice(i, 1);
      }
    }
    if (this.input) {
      Input.clear();
    }
    this.input = false;
    return null;
  };


  /**
  * Searches for the first component with the specified class name.
  *
  * @method findComponent
  * @param {String} name The class name of the component.
  * @return {Component} The component or null if a component with the specified class name cannot be found.
   */

  Object_Base.prototype.findComponent = function(name) {
    return this.components.first(function(v) {
      return v.constructor.name === name;
    });
  };


  /**
  * Searches for all components with the specified class name.
  *
  * @method findComponents
  * @param {String} name The class name of the components.
  * @return {Array} The components or null if no component with the specified class name has been found.
   */

  Object_Base.prototype.findComponents = function(name) {
    return this.components.where(function(v) {
      return v.constructor.name === name;
    });
  };


  /**
  * Searches for the component with the specified ID.
  *
  * @method findComponentById
  * @param {String} id The unique identifier of the component.
  * @return {Component} The component or null if a component with the specified ID cannot be found.
   */

  Object_Base.prototype.findComponentById = function(id) {
    return this.componentsById[id];
  };


  /**
  * Adds an object to the list of sub-objects.
  *
  * @method addObject
  * @param {Object_Base} object The object which should be added.
   */

  Object_Base.prototype.addObject = function(object) {
    var ref, ref1;
    if ((ref = gs.ObjectManager.current) != null) {
      ref.remove(object);
    }
    if ((ref1 = object.parent) != null) {
      ref1.removeObject(object);
    }
    object.parent = this;
    this.subObjects.push(object);
    this.needsSort = true;
    this.needsUpdate = true;
    if (object.id != null) {
      return gs.ObjectManager.current.setObjectById(object, object.id);
    }
  };


  /**
  * Inserts an object into the list of sub-objects at the specified index.
  *
  * @method insertObject
  * @param {Object_Base} object The object which should be inserted.
  * @param {Number} index The index.
   */

  Object_Base.prototype.insertObject = function(object, index) {
    var ref;
    gs.ObjectManager.current.remove(object);
    if ((ref = object.parent) != null) {
      ref.removeObject(object);
    }
    object.parent = this;
    this.subObjects.splice(index, 0, object);
    if (object.id != null) {
      return gs.ObjectManager.current.setObjectById(object, object.id);
    }
  };


  /**
  * Sets sub-object at the specified index.
  *
  * @method setObject
  * @param {Object_Base} object The object.
  * @param {Number} index The index.
   */

  Object_Base.prototype.setObject = function(object, index) {
    var ref;
    if (object) {
      gs.ObjectManager.current.remove(object);
      if ((ref = object.parent) != null) {
        ref.removeObject(object);
      }
      object.parent = this;
    }
    this.subObjects[index] = object;
    if ((object != null ? object.id : void 0) != null) {
      return gs.ObjectManager.current.setObjectById(object, object.id);
    }
  };


  /**
  * Removes the specified object from the list of sub-objects.
  *
  * @method removeObject
  * @param {Object_Base} object The object which should be removed.
   */

  Object_Base.prototype.removeObject = function(object) {
    this.subObjects.remove(object);
    object.parent = null;
    return this.needsUpdate = true;
  };


  /**
  * Erases the object at the specified index. The list size
  * will not be changed but the the value at the index will be set to null.
  *
  * @method eraseObject
  * @param {Number} object The object which should be erased.
   */

  Object_Base.prototype.eraseObject = function(index) {
    var object;
    object = this.subObjects[index];
    if (object != null) {
      object.parent = null;
    }
    return this.subObjects[index] = null;
  };


  /**
  * Adds the specified component to the object.
  *
  * @method addComponent
  * @param {Component} component The component
  * @param {String} id An optional unique identifier for the component.
   */

  Object_Base.prototype.addComponent = function(component, id) {
    component.object = this;
    this.components.push(component);
    if (id != null) {
      return this.componentsById[id] = component;
    }
  };


  /**
  * Inserts a component at the specified index.
  *
  * @method insertComponent
  * @param {Component} component The component.
  * @param {Number} index The index.
  * @param {String} id An optional unique identifier for the component.
   */

  Object_Base.prototype.insertComponent = function(component, index, id) {
    component.object = this;
    this.components.splice(index, 0, component);
    if (id != null) {
      return this.componentsById[id] = component;
    }
  };


  /**
  * Removes a component from the object.
  *
  * @method removeComponent
  * @param {Component} component The component to remove.
   */

  Object_Base.prototype.removeComponent = function(component) {
    this.components.remove(component);
    if (typeof id !== "undefined" && id !== null) {
      return delete this.componentsById[id];
    }
  };

  return Object_Base;

})();

gs.Object_Base = Object_Base;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7O3dCQVFBLG1CQUFBLEdBQXFCLFNBQUMsSUFBRCxFQUFPLE9BQVA7SUFDakIsSUFBRyxJQUFDLENBQUEsRUFBSjthQUNJLE1BQU8sQ0FBQSxHQUFBLEdBQUksSUFBQyxDQUFBLEVBQUwsQ0FBUCxHQUFrQixLQUR0Qjs7RUFEaUI7O0VBV3JCLFdBQUMsQ0FBQSxTQUFELENBQVcsT0FBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtBQUNELFVBQUE7TUFBQSxJQUFDLENBQUEsTUFBRCxHQUFVOzJEQUNjLENBQUUsVUFBMUIsQ0FBcUMsSUFBckMsRUFBMkMsQ0FBM0M7SUFGQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBY0EsV0FBQyxDQUFBLFNBQUQsQ0FBVyxPQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO0FBQ0QsVUFBQTtNQUFBLElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxNQUFUO1FBQ0ksSUFBQyxDQUFBLE1BQUQsR0FBVTtnREFDSCxDQUFFLFNBQVQsR0FBcUIsY0FGekI7O0lBREMsQ0FBTDtJQUlBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBO0lBQUosQ0FKTDtHQURKOztFQWVBLFdBQUMsQ0FBQSxTQUFELENBQVcsYUFBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtBQUNELFVBQUE7TUFBQSxJQUFDLENBQUEsWUFBRCxHQUFnQjtNQUVoQixNQUFBLEdBQVMsSUFBQyxDQUFBO0FBQ1YsYUFBTSxNQUFOO1FBQ0ksTUFBTSxDQUFDLFlBQVAsR0FBc0I7UUFDdEIsTUFBQSxHQUFTLE1BQU0sQ0FBQztNQUZwQjtNQVNBLElBQUcsQ0FBSDtlQUNJLElBQUMsQ0FBQSxnQkFBRCxDQUFBLEVBREo7O0lBYkMs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QUEsR0FBYyxTQUFDLFNBQUQsRUFBWSxFQUFaO0lBQ1YsU0FBUyxDQUFDLE1BQVYsR0FBbUI7SUFDbkIsSUFBQyxDQUFBLFVBQVUsQ0FBQyxJQUFaLENBQWlCLFNBQWpCO0lBQ0EsSUFBRyxVQUFIO2FBQ0ksSUFBQyxDQUFBLGNBQWUsQ0FBQSxFQUFBLENBQWhCLEdBQXNCLFVBRDFCOztFQUhVOzs7QUFLZDs7Ozs7Ozs7O3dCQVFBLGVBQUEsR0FBaUIsU0FBQyxTQUFELEVBQVksS0FBWixFQUFtQixFQUFuQjtJQUNiLFNBQVMsQ0FBQyxNQUFWLEdBQW1CO0lBQ25CLElBQUMsQ0FBQSxVQUFVLENBQUMsTUFBWixDQUFtQixLQUFuQixFQUEwQixDQUExQixFQUE2QixTQUE3QjtJQUNBLElBQUcsVUFBSDthQUNJLElBQUMsQ0FBQSxjQUFlLENBQUEsRUFBQSxDQUFoQixHQUFzQixVQUQxQjs7RUFIYTs7O0FBTWpCOzs7Ozs7O3dCQU1BLGVBQUEsR0FBaUIsU0FBQyxTQUFEO0lBQ2IsSUFBQyxDQUFBLFVBQVUsQ0FBQyxNQUFaLENBQW1CLFNBQW5CO0lBQ0EsSUFBRyx3Q0FBSDthQUNJLE9BQU8sSUFBQyxDQUFBLGNBQWUsQ0FBQSxFQUFBLEVBRDNCOztFQUZhOzs7Ozs7QUFLckIsRUFBRSxDQUFDLFdBQUgsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9CYXNlXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfQmFzZVxuICAgICMjIypcbiAgICAqIENhbGxlZCBpZiB0aGlzIG9iamVjdCBpbnN0YW5jZSBpcyByZXN0b3JlZCBmcm9tIGEgZGF0YS1idW5kbGUuIEl0IGNhbiBiZSB1c2VkXG4gICAgKiByZS1hc3NpZ24gZXZlbnQtaGFuZGxlciwgYW5vbnltb3VzIGZ1bmN0aW9ucywgZXRjLlxuICAgICogXG4gICAgKiBAbWV0aG9kIG9uRGF0YUJ1bmRsZVJlc3RvcmUuXG4gICAgKiBAcGFyYW0gT2JqZWN0IGRhdGEgLSBUaGUgZGF0YS1idW5kbGVcbiAgICAqIEBwYXJhbSBncy5PYmplY3RDb2RlY0NvbnRleHQgY29udGV4dCAtIFRoZSBjb2RlYy1jb250ZXh0LlxuICAgICMjI1xuICAgIG9uRGF0YUJ1bmRsZVJlc3RvcmU6IChkYXRhLCBjb250ZXh0KSAtPlxuICAgICAgICBpZiBAaWRcbiAgICAgICAgICAgIHdpbmRvd1tcIiRcIitAaWRdID0gdGhpc1xuICAgICAgICAgICAgXG4gICAgXG4gICAgI1xuICAgICMgR2V0cyBvciBzZXRzIHRoZSBncm91cCB0aGUgb2JqZWN0IGJlbG9uZ3MgdG8uXG4gICAgI1xuICAgICMgQHByb3BlcnR5IGdyb3VwXG4gICAgIyBAdHlwZSBzdHJpbmdcbiAgICAjXG4gICAgQGFjY2Vzc29ycyBcImdyb3VwXCIsIFxuICAgICAgICBzZXQ6IChnKSAtPiBcbiAgICAgICAgICAgIEBncm91cF8gPSBnXG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQ/LmFkZFRvR3JvdXAodGhpcywgZylcbiAgICAgICAgICAgIFxuICAgICAgICBnZXQ6IC0+IEBncm91cF9cbiAgICAgICAgXG4gICAgI1xuICAgICMgR2V0cyBvciBzZXRzIHRoZSBvcmRlci1pbmRleCBvZiB0aGUgb2JqZWN0LiBUaGUgbG93ZXIgdGhlIGluZGV4LCB0aGVcbiAgICAjIGVhcmxpZXIgdGhlIG9iamVjdCB3aWxsIGJlIHVwZGF0ZWQgaW4gYSBsaXN0IG9mIHN1Yi1vYmplY3RzLlxuICAgICNcbiAgICAjIEBwcm9wZXJ0eSBvcmRlclxuICAgICMgQHR5cGUgbnVtYmVyXG4gICAgI1xuICAgIEBhY2Nlc3NvcnMgXCJvcmRlclwiLFxuICAgICAgICBzZXQ6IChvKSAtPlxuICAgICAgICAgICAgaWYgbyAhPSBAb3JkZXJfXG4gICAgICAgICAgICAgICAgQG9yZGVyXyA9IG9cbiAgICAgICAgICAgICAgICBAcGFyZW50Py5uZWVkc1NvcnQgPSB0cnVlXG4gICAgICAgIGdldDogLT4gQG9yZGVyX1xuICAgICAgICBcbiAgICAjXG4gICAgIyBHZXRzIG9yIHNldHMgaWYgYW4gb2JqZWN0cyBuZWVkcyBhbiB1cGRhdGUuIElmIHRydWUsIHRoZSBwYXJlbnQgd2lsbCB1cGRhdGVcbiAgICAjIHRoZSBvYmplY3QgaW4gdGhlIG5leHQgdXBkYXRlIGFuZCByZXNldHMgdGhlIG5lZWRzVXBkYXRlIHByb3BlcnR5IGJhY2tcbiAgICAjIHRvIGZhbHNlLlxuICAgICNcbiAgICAjIEBwcm9wZXJ0eSBuZWVkc1VwZGF0ZVxuICAgICMgQHR5cGUgYm9vbGVhblxuICAgICNcbiAgICBAYWNjZXNzb3JzIFwibmVlZHNVcGRhdGVcIiwgXG4gICAgICAgIHNldDogKHYpIC0+XG4gICAgICAgICAgICBAbmVlZHNVcGRhdGVfID0gdlxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXJlbnQgPSBAcGFyZW50XG4gICAgICAgICAgICB3aGlsZSBwYXJlbnRcbiAgICAgICAgICAgICAgICBwYXJlbnQubmVlZHNVcGRhdGVfID0geWVzXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgI2lmIHZcbiAgICAgICAgICAgICMgICAgQHBhcmVudD8ubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgICAgICNpZiB2XG4gICAgICAgICAgICAjICAgIGZvciBvYmplY3QgaW4gQHN1Yk9iamVjdHNcbiAgICAgICAgICAgICMgICAgICAgIG9iamVjdC5uZWVkc1VwZGF0ZV8gPSB2XG4gICAgICAgICAgICBpZiB2XG4gICAgICAgICAgICAgICAgQHJlcXVlc3RTdWJVcGRhdGUoKVxuICAgICAgICBnZXQ6IC0+IEBuZWVkc1VwZGF0ZV8gfHwgU2NlbmVNYW5hZ2VyLnNjZW5lLnByZXBhcmluZ1xuICAgICAgICBcbiAgICByZXF1ZXN0U3ViVXBkYXRlOiAtPlxuICAgICAgICBmb3Igb2JqZWN0IGluIEBzdWJPYmplY3RzXG4gICAgICAgICAgICBpZiBvYmplY3RcbiAgICAgICAgICAgICAgICBvYmplY3QubmVlZHNVcGRhdGVfID0geWVzXG4gICAgICAgICAgICAgICAgb2JqZWN0LnJlcXVlc3RTdWJVcGRhdGUoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICNcbiAgICAjIEdldHMgb3Igc2V0cyBpZiBhbiBvYmplY3QgbmVlZHMgYSBmdWxsIHVwZGF0ZS4gQSBmdWxsIHVwZGF0ZSB0cmlnZ2Vyc1xuICAgICMgYW4gdXBkYXRlIGZvciBhbGwgc3ViLW9iamVjdHMgcmVjdXJzaXZlbHkuIFxuICAgICNcbiAgICAjIEBwcm9wZXJ0eSBuZWVkc0Z1bGxVcGRhdGVcbiAgICAjIEB0eXBlIGJvb2xlYW5cbiAgICAjXG4gICAgQGFjY2Vzc29ycyBcIm5lZWRzRnVsbFVwZGF0ZVwiLCBcbiAgICAgICAgc2V0OiAodikgLT5cbiAgICAgICAgICAgIEBuZWVkc1VwZGF0ZSA9IHZcbiAgICAgICAgICAgIGlmIHZcbiAgICAgICAgICAgICAgICBmb3Igb2JqZWN0IGluIEBzdWJPYmplY3RzXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5uZWVkc0Z1bGxVcGRhdGUgPSB2XG4gICAgICAgIGdldDogLT4gQG5lZWRzVXBkYXRlX1xuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBnYW1lIG9iamVjdHMuIEEgZ2FtZSBvYmplY3QgaXRzZWxmIGRvZXNuJ3QgaW1wbGVtZW50XG4gICAgKiBhbnkgZ2FtZSBsb2dpYyBidXQgdXNlcyBjb21wb25lbnRzIGFuZCBzdWItb2JqZWN0cyBmb3IgdGhhdC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgT2JqZWN0X0Jhc2VcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICgpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgc3ViT2JqZWN0c1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9CYXNlW11cbiAgICAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAgICAqIEEgbGlzdCBvZiBnYW1lLW9iamVjdHMgZ3JvdXBlZCB1bmRlciB0aGlzIGdhbWUgb2JqZWN0LlxuICAgICAgICAjIyNcbiAgICAgICAgQHN1Yk9iamVjdHMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb21wb25lbnRzXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50W11cbiAgICAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAgICAqIEEgbGlzdCBvZiBjb21wb25lbnRzIGRlZmluaW5nIHRoZSBsb2dpYy9iZWhhdmlvciBhbmQgYXBwZWFyYW5jZSBvZiB0aGUgZ2FtZSBvYmplY3QuXG4gICAgICAgICMjI1xuICAgICAgICBAY29tcG9uZW50cyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGNvbXBvbmVudHNCeUlkXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICogQGRlZmF1bHQgW11cbiAgICAgICAgKiBBbGwgYXNzb2NpYXRlZCBjb21wb25lbnRzIGJ5IHRoZWlyIElELlxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbXBvbmVudHNCeUlkID0ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgZGlzcG9zZWRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGdhbWUgb2JqZWN0IGlkIGRpc3Bvc2VkLiBBIGRpc3Bvc2VkIGdhbWUgb2JqZWN0IGNhbm5vdCBiZSB1c2VkIGFueW1vcmUuXG4gICAgICAgICMjI1xuICAgICAgICBAZGlzcG9zZWQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBhY3RpdmVcbiAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBnYW1lIG9iamVjdCBpcyBhY3RpdmUuIEFuIGluYWN0aXZlIGdhbWUgb2JqZWN0IHdpbGwgbm90IGJlIHVwZGF0ZWQuXG4gICAgICAgICMjI1xuICAgICAgICBAYWN0aXZlID0geWVzXG4gICAgICAgIFxuICAgICAgICBAaW5wdXQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgKiBUaGUgZ2FtZSBvYmplY3QncyBVSUQgKFVuaXF1ZSBJRClcbiAgICAgICAgIyMjXG4gICAgICAgIEBpZCA9IG51bGwgXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IGdyb3VwXG4gICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAqIFRoZSBnYW1lIG9iamVjdCdzIGdyb3VwLiBUbyBnZXQgYWxsIG9iamVjdCdzIG9mIGEgc3BlY2lmaWMgZ3JvdXAgdGhlIGdzLk9iamVjdE1hbmFnZXIub2JqZWN0c0J5R3JvdXAgcHJvcGVydHkgY2FuIGJlIHVzZWQuXG4gICAgICAgICMjI1xuICAgICAgICBAZ3JvdXAgPSBudWxsIFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBwYXJlbnRcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQmFzZVxuICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgKiBUaGUgcGFyZW50IG9iamVjdCBpZiB0aGUgZ2FtZSBvYmplY3QgaXMgYSBzdWItb2JqZWN0IG9mIGFub3RoZXIgZ2FtZSBvYmplY3QuXG4gICAgICAgICMjI1xuICAgICAgICBAcGFyZW50ID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBvcmRlclxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgKiBDb250cm9scyB0aGUgdXBkYXRlLW9yZGVyLiBUaGUgc21hbGxlciB0aGUgdmFsdWUgdGhlIGVhcmxpZXIgdGhlIGdhbWUgb2JqZWN0IGlzIHVwZGF0ZWQgYmVmb3JlIG90aGVyIGdhbWUgb2JqZWN0cyBhcmUgdXBkYXRlZC5cbiAgICAgICAgIyMjXG4gICAgICAgIEBvcmRlciA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgckluZGV4XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAqIEhvbGRzIHRoZSByZW5kZXItaW5kZXggaWYgdGhlIGdhbWUgb2JqZWN0IGhhcyBhIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBvbiBzY3JlZW4uIFRoZSByZW5kZXItaW5kZXggaXMgdGhlXG4gICAgICAgICogaW5kZXggb2YgdGhlIGdhbWUgb2JqZWN0J3MgZ3JhcGhpYy1vYmplY3QoZ3MuR3JhcGhpY09iamVjdCkgaW4gdGhlIGN1cnJlbnQgbGlzdCBvZiBncmFwaGljLW9iamVjdHMuIFRoZSByZW5kZXItaW5kZXhcbiAgICAgICAgKiBpcyByZWFkLW9ubHkuIFNldHRpbmcgdGhlIHJlbmRlci1pbmRleCB0byBhIGNlcnRhaW4gdmFsdWUgaGFzIG5vIGVmZmVjdC5cbiAgICAgICAgIyMjXG4gICAgICAgIEBySW5kZXggPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IG5lZWRzU29ydFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBsaXN0IG9mIHN1Yi1vYmplY3RzIG5lZWRzIHRvIGJlIHNvcnRlZCBieSBvcmRlciBiZWNhdXNlIG9mIGEgY2hhbmdlLlxuICAgICAgICAjIyNcbiAgICAgICAgQG5lZWRzU29ydCA9IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBuZWVkc1NvcnRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgVUkgb2JqZWN0IG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gICAgICAgICMjI1xuICAgICAgICBAbmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQ/LnJlZ2lzdGVyT2JqZWN0KHRoaXMpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIHRoZSBvYmplY3Qgd2l0aCBhbGwgaXRzIGNvbXBvbmVudHMgYW5kIHN1Yi1vYmplY3RzLiBBIGRpc3Bvc2VkIG9iamVjdCB3aWxsIGJlXG4gICAgKiByZW1vdmVkIGZyb20gdGhlIHBhcmVudCBhdXRvbWF0aWNhbGx5LlxuICAgICpcbiAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICMjI1xuICAgIGRpc3Bvc2U6IC0+XG4gICAgICAgIGlmIG5vdCBAZGlzcG9zZWRcbiAgICAgICAgICAgIEBkaXNwb3NlZCA9IHllc1xuICAgICAgICAgICAgQGRpc3Bvc2VDb21wb25lbnRzKClcbiAgICAgICAgICAgIEBkaXNwb3NlT2JqZWN0cygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQ/LnVucmVnaXN0ZXJPYmplY3QodGhpcylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIERpc3Bvc2VzIGFsbCBzdWItb2JqZWN0cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VPYmplY3RzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgZGlzcG9zZU9iamVjdHM6IC0+XG4gICAgICAgIGZvciBzdWJPYmplY3QgaW4gQHN1Yk9iamVjdHNcbiAgICAgICAgICAgIHN1Yk9iamVjdD8uZGlzcG9zZT8oKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGlzcG9zZXMgYWxsIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAbWV0aG9kIGRpc3Bvc2VDb21wb25lbnRzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgIyMjXG4gICAgZGlzcG9zZUNvbXBvbmVudHM6IC0+XG4gICAgICAgIGZvciBjb21wb25lbnQgaW4gQGNvbXBvbmVudHNcbiAgICAgICAgICAgIGNvbXBvbmVudD8uZGlzcG9zZT8oKVxuICAgICAgIFxuICAgICMjIypcbiAgICAqIENhbGxzIHNldHVwLXJvdXRpbmUgb24gYWxsIGNvbXBvbnRlbnRzLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0dXBcbiAgICAjIyNcbiAgICBzZXR1cDogLT5cbiAgICAgICAgZm9yIGNvbXBvbmVudCBpbiBAY29tcG9uZW50c1xuICAgICAgICAgICAgY29tcG9uZW50LnNldHVwKClcbiAgICAgICAgICAgIFxuICAgICAgICBAaW5pdGlhbGl6ZWQgPSB5ZXNcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogRGVzZXJpYWxpemVzIGNvbXBvbmVudHMgZnJvbSBhIGRhdGEtYnVuZGxlIG9iamVjdC5cbiAgICAqIFxuICAgICogQG1ldGhvZCBjb21wb25lbnRzRnJvbURhdGFCdW5kbGVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhLWJ1bmRsZSBvYmplY3QuXG4gICAgIyMjXG4gICAgY29tcG9uZW50c0Zyb21EYXRhQnVuZGxlOiAoZGF0YSkgLT5cbiAgICAgICAgaWYgZGF0YT8uY29tcG9uZW50c1xuICAgICAgICAgICAgZm9yIGNvbXBvbmVudCBpbiBkYXRhLmNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBjb21wb25lbnRPYmplY3QgPSBuZXcgZ3NbY29tcG9uZW50LmNsYXNzTmFtZV0oY29tcG9uZW50KVxuICAgICAgICAgICAgICAgIEBhZGRDb21wb25lbnQoY29tcG9uZW50T2JqZWN0KVxuICAgICAgICAgICAgZGVsZXRlIGRhdGEuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIGNvbXBvbmVudHMgb2YgYSBzcGVjaWZpZWQgdHlwZSB0byBhIGRhdGEtYnVuZGxlLiBBIGNvbXBvbmVudFxuICAgICogbmVlZHMgdG8gaW1wbGVtZW50IHRoZSB0b0RhdGFCdW5kbGUgbWV0aG9kIGZvciBjb3JyZWN0IHNlcmlhbGl6YXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBjb21wb25lbnRzVG9EYXRhQnVuZGxlXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIEEgY29tcG9uZW50IGNsYXNzIG5hbWUuXG4gICAgKiBAcmV0dXJuIEEgZGF0YSBidW5kbGUuXG4gICAgIyMjXG4gICAgY29tcG9uZW50c1RvRGF0YUJ1bmRsZTogKHR5cGUpIC0+XG4gICAgICAgIGNvbXBvbmVudHMgPSBbXVxuICAgICAgICBmb3IgY29tcG9uZW50IGluIEBjb21wb25lbnRzXG4gICAgICAgICAgICBpZiBjb21wb25lbnQgaW5zdGFuY2VvZiB0eXBlXG4gICAgICAgICAgICAgICAgY29udGludWUgdW5sZXNzIGNvbXBvbmVudC50b0RhdGFCdW5kbGU/XG4gICAgICAgICAgICAgICAgYnVuZGxlID0gY29tcG9uZW50LnRvRGF0YUJ1bmRsZSgpXG4gICAgICAgICAgICAgICAgYnVuZGxlLmNsYXNzTmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGJ1bmRsZSlcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHNcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIGEgZnVsbC1yZWZyZXNoIG9uIGFsbCBzdWItb2JqZWN0c1xuICAgICpcbiAgICAqIEBtZXRob2QgZnVsbFJlZnJlc2hcbiAgICAjIyNcbiAgICBmdWxsUmVmcmVzaDogLT5cbiAgICAgICAgZm9yIG9iamVjdCBpbiBAc3ViT2JqZWN0c1xuICAgICAgICAgICAgaWYgb2JqZWN0XG4gICAgICAgICAgICAgICAgb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgICAgICAgb2JqZWN0LmZ1bGxSZWZyZXNoKClcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB3aXRoIGFsbCBwYXJlbnQtIGFuZCBzdWItb2JqZWN0cy4gXG4gICAgKlxuICAgICogQG1ldGhvZCBmdWxsVXBkYXRlXG4gICAgIyMjXG4gICAgZnVsbFVwZGF0ZTogLT5cbiAgICAgICAgcGFyZW50ID0gdGhpc1xuICAgICAgICB3aGlsZSBwYXJlbnQgIT0gbnVsbFxuICAgICAgICAgICAgcGFyZW50LnVwZGF0ZSgpXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50XG4gICAgICAgICAgICBcbiAgICAgICAgZm9yIG9iamVjdCBpbiBAc3ViT2JqZWN0c1xuICAgICAgICAgICAgb2JqZWN0Py51cGRhdGUoKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgYW5kIGFsbCBpdHMgY29tcG9uZW50cy4gVGhpcyBtZXRob2QgaXNcbiAgICAqIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBwYXJlbnQgb3IgT2JqZWN0TWFuYWdlciBzbyBpbiByZWd1bGFyIGl0IGlzIFxuICAgICogbm90IG5lY2Vzc2FyeSB0byBjYWxsIGl0IG1hbnVhbGx5LlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgIyMjXG4gICAgdXBkYXRlOiAtPlxuICAgICAgICBpID0gMFxuICAgICAgICB3aGlsZSBpIDwgQGNvbXBvbmVudHMubGVuZ3RoXG4gICAgICAgICAgICBjb21wb25lbnQgPSBAY29tcG9uZW50c1tpXVxuICAgICAgICAgICAgaWYgbm90IGNvbXBvbmVudC5kaXNwb3NlZFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC51cGRhdGUoKVxuICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIEBjb21wb25lbnRzLnNwbGljZShpLCAxKVxuXG5cbiAgICAgICAgaWYgQGlucHV0IHRoZW4gSW5wdXQuY2xlYXIoKVxuICAgICAgICBAaW5wdXQgPSBub1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlYXJjaGVzIGZvciB0aGUgZmlyc3QgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyBuYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZENvbXBvbmVudFxuICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIGNsYXNzIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAqIEByZXR1cm4ge0NvbXBvbmVudH0gVGhlIGNvbXBvbmVudCBvciBudWxsIGlmIGEgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyBuYW1lIGNhbm5vdCBiZSBmb3VuZC5cbiAgICAjIyNcbiAgICBmaW5kQ29tcG9uZW50OiAobmFtZSkgLT4gQGNvbXBvbmVudHMuZmlyc3QgKHYpIC0+IHYuY29uc3RydWN0b3IubmFtZSA9PSBuYW1lXG4gICAgXG4gICAgIyMjKlxuICAgICogU2VhcmNoZXMgZm9yIGFsbCBjb21wb25lbnRzIHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyBuYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZENvbXBvbmVudHNcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBjb21wb25lbnRzLlxuICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBjb21wb25lbnRzIG9yIG51bGwgaWYgbm8gY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyBuYW1lIGhhcyBiZWVuIGZvdW5kLlxuICAgICMjI1xuICAgIGZpbmRDb21wb25lbnRzOiAobmFtZSkgLT4gQGNvbXBvbmVudHMud2hlcmUgKHYpIC0+IHYuY29uc3RydWN0b3IubmFtZSA9PSBuYW1lXG4gICAgXG4gICAgIyMjKlxuICAgICogU2VhcmNoZXMgZm9yIHRoZSBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIElELlxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZENvbXBvbmVudEJ5SWRcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAqIEByZXR1cm4ge0NvbXBvbmVudH0gVGhlIGNvbXBvbmVudCBvciBudWxsIGlmIGEgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRCBjYW5ub3QgYmUgZm91bmQuXG4gICAgIyMjXG4gICAgZmluZENvbXBvbmVudEJ5SWQ6IChpZCkgLT4gQGNvbXBvbmVudHNCeUlkW2lkXVxuICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgYW4gb2JqZWN0IHRvIHRoZSBsaXN0IG9mIHN1Yi1vYmplY3RzLlxuICAgICpcbiAgICAqIEBtZXRob2QgYWRkT2JqZWN0XG4gICAgKiBAcGFyYW0ge09iamVjdF9CYXNlfSBvYmplY3QgVGhlIG9iamVjdCB3aGljaCBzaG91bGQgYmUgYWRkZWQuXG4gICAgIyMjXG4gICAgYWRkT2JqZWN0OiAob2JqZWN0KSAtPlxuICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQ/LnJlbW92ZShvYmplY3QpXG4gICAgICAgIG9iamVjdC5wYXJlbnQ/LnJlbW92ZU9iamVjdChvYmplY3QpXG4gICAgICAgIG9iamVjdC5wYXJlbnQgPSB0aGlzXG4gICAgICAgIEBzdWJPYmplY3RzLnB1c2gob2JqZWN0KVxuICAgICAgICBAbmVlZHNTb3J0ID0geWVzXG4gICAgICAgIEBuZWVkc1VwZGF0ZSA9IHllc1xuICAgIFxuICAgICAgICBpZiBvYmplY3QuaWQ/XG4gICAgICAgICAgICBncy5PYmplY3RNYW5hZ2VyLmN1cnJlbnQuc2V0T2JqZWN0QnlJZChvYmplY3QsIG9iamVjdC5pZClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5zZXJ0cyBhbiBvYmplY3QgaW50byB0aGUgbGlzdCBvZiBzdWItb2JqZWN0cyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICpcbiAgICAqIEBtZXRob2QgaW5zZXJ0T2JqZWN0XG4gICAgKiBAcGFyYW0ge09iamVjdF9CYXNlfSBvYmplY3QgVGhlIG9iamVjdCB3aGljaCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4LlxuICAgICMjI1xuICAgIGluc2VydE9iamVjdDoob2JqZWN0LCBpbmRleCkgLT5cbiAgICAgICAgZ3MuT2JqZWN0TWFuYWdlci5jdXJyZW50LnJlbW92ZShvYmplY3QpXG4gICAgICAgIG9iamVjdC5wYXJlbnQ/LnJlbW92ZU9iamVjdChvYmplY3QpXG4gICAgICAgIG9iamVjdC5wYXJlbnQgPSB0aGlzXG4gICAgICAgIEBzdWJPYmplY3RzLnNwbGljZShpbmRleCwgMCwgb2JqZWN0KVxuICAgICAgXG4gICAgICAgIGlmIG9iamVjdC5pZD9cbiAgICAgICAgICAgIGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5zZXRPYmplY3RCeUlkKG9iamVjdCwgb2JqZWN0LmlkKVxuICAgICAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2V0cyBzdWItb2JqZWN0IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRPYmplY3RcbiAgICAqIEBwYXJhbSB7T2JqZWN0X0Jhc2V9IG9iamVjdCBUaGUgb2JqZWN0LlxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFRoZSBpbmRleC5cbiAgICAjIyNcbiAgICBzZXRPYmplY3Q6IChvYmplY3QsIGluZGV4KSAtPlxuICAgICAgICBpZiBvYmplY3RcbiAgICAgICAgICAgIGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5yZW1vdmUob2JqZWN0KVxuICAgICAgICAgICAgb2JqZWN0LnBhcmVudD8ucmVtb3ZlT2JqZWN0KG9iamVjdClcbiAgICAgICAgICAgIG9iamVjdC5wYXJlbnQgPSB0aGlzXG4gICAgICAgICAgICBcbiAgICAgICAgQHN1Yk9iamVjdHNbaW5kZXhdID0gb2JqZWN0XG4gICAgICBcbiAgICAgICAgaWYgb2JqZWN0Py5pZD9cbiAgICAgICAgICAgIGdzLk9iamVjdE1hbmFnZXIuY3VycmVudC5zZXRPYmplY3RCeUlkKG9iamVjdCwgb2JqZWN0LmlkKVxuICAgIFxuICAgICMjIypcbiAgICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBvYmplY3QgZnJvbSB0aGUgbGlzdCBvZiBzdWItb2JqZWN0cy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlbW92ZU9iamVjdFxuICAgICogQHBhcmFtIHtPYmplY3RfQmFzZX0gb2JqZWN0IFRoZSBvYmplY3Qgd2hpY2ggc2hvdWxkIGJlIHJlbW92ZWQuXG4gICAgIyMjXG4gICAgcmVtb3ZlT2JqZWN0OiAob2JqZWN0KSAtPlxuICAgICAgICBAc3ViT2JqZWN0cy5yZW1vdmUob2JqZWN0KVxuICAgICAgICBvYmplY3QucGFyZW50ID0gbnVsbFxuICAgICAgICBAbmVlZHNVcGRhdGUgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBFcmFzZXMgdGhlIG9iamVjdCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBUaGUgbGlzdCBzaXplXG4gICAgKiB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ1dCB0aGUgdGhlIHZhbHVlIGF0IHRoZSBpbmRleCB3aWxsIGJlIHNldCB0byBudWxsLlxuICAgICpcbiAgICAqIEBtZXRob2QgZXJhc2VPYmplY3RcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBvYmplY3QgVGhlIG9iamVjdCB3aGljaCBzaG91bGQgYmUgZXJhc2VkLlxuICAgICMjI1xuICAgIGVyYXNlT2JqZWN0OiAoaW5kZXgpIC0+XG4gICAgICAgIG9iamVjdCA9IEBzdWJPYmplY3RzW2luZGV4XVxuICAgICAgICBvYmplY3Q/LnBhcmVudCA9IG51bGxcbiAgICAgICAgQHN1Yk9iamVjdHNbaW5kZXhdID0gbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIEFkZHMgdGhlIHNwZWNpZmllZCBjb21wb25lbnQgdG8gdGhlIG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGFkZENvbXBvbmVudFxuICAgICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50XG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgQW4gb3B0aW9uYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb21wb25lbnQuXG4gICAgIyMjXG4gICAgYWRkQ29tcG9uZW50OiAoY29tcG9uZW50LCBpZCkgLT4gXG4gICAgICAgIGNvbXBvbmVudC5vYmplY3QgPSB0aGlzXG4gICAgICAgIEBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KVxuICAgICAgICBpZiBpZD9cbiAgICAgICAgICAgIEBjb21wb25lbnRzQnlJZFtpZF0gPSBjb21wb25lbnRcbiAgICAjIyMqXG4gICAgKiBJbnNlcnRzIGEgY29tcG9uZW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgKlxuICAgICogQG1ldGhvZCBpbnNlcnRDb21wb25lbnRcbiAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnQgVGhlIGNvbXBvbmVudC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBUaGUgaW5kZXguXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgQW4gb3B0aW9uYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb21wb25lbnQuXG4gICAgIyMjICAgIFxuICAgIGluc2VydENvbXBvbmVudDogKGNvbXBvbmVudCwgaW5kZXgsIGlkKSAtPlxuICAgICAgICBjb21wb25lbnQub2JqZWN0ID0gdGhpc1xuICAgICAgICBAY29tcG9uZW50cy5zcGxpY2UoaW5kZXgsIDAsIGNvbXBvbmVudClcbiAgICAgICAgaWYgaWQ/XG4gICAgICAgICAgICBAY29tcG9uZW50c0J5SWRbaWRdID0gY29tcG9uZW50XG4gICAgXG4gICAgIyMjKlxuICAgICogUmVtb3ZlcyBhIGNvbXBvbmVudCBmcm9tIHRoZSBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCByZW1vdmVDb21wb25lbnRcbiAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB0byByZW1vdmUuXG4gICAgIyMjICBcbiAgICByZW1vdmVDb21wb25lbnQ6IChjb21wb25lbnQpIC0+IFxuICAgICAgICBAY29tcG9uZW50cy5yZW1vdmUoY29tcG9uZW50KVxuICAgICAgICBpZiBpZD9cbiAgICAgICAgICAgIGRlbGV0ZSBAY29tcG9uZW50c0J5SWRbaWRdXG5cbmdzLk9iamVjdF9CYXNlID0gT2JqZWN0X0Jhc2UiXX0=
//# sourceURL=Object_Base_6.js
var Object_Visual,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Visual = (function(superClass) {
  extend(Object_Visual, superClass);


  /**
  * The base class for all regular visual game objects. 
  *
  * @module 
  * @class Object_Visual
  * @extends gs.Object_Base
  * @memberof vn
  * @constructor
   */

  function Object_Visual(data) {
    Object_Visual.__super__.constructor.call(this);

    /**
    * Indiciates if the game object is visible on screen.
    * @property visible
    * @type boolean
     */
    this.visible = true;

    /**
    * The object's destination rectangle on screen.
    * @property dstRect
    * @type gs.Rect
     */
    this.dstRect = new Rect(data != null ? data.x : void 0, data != null ? data.y : void 0);

    /**
    * The object's origin.
    * @property origin
    * @type gs.Point
     */
    this.origin = new gs.Point(0, 0);

    /**
    * The object's offset.
    * @property offset
    * @type gs.Point
     */
    this.offset = new gs.Point(0, 0);

    /**
    * The object's anchor-point. For example: An anchor-point with 0,0 places the object with its top-left corner
    * at its position but with an 0.5, 0.5 anchor-point the object is placed with its center. An anchor-point of 1,1
    * places the object with its lower-right corner.
    * @property anchor
    * @type gs.Point
     */
    this.anchor = new gs.Point(0.0, 0.0);

    /**
    * The object's zoom-setting for x and y axis. The default value is
    * { x: 1.0, y: 1.0 }
    * @property zoom
    * @type gs.Point
     */
    this.zoom = (data != null ? data.zoom : void 0) || new gs.Point(1.0, 1.0);

    /**
    * The object's z-index controls rendering-order/image-overlapping. An object with a smaller z-index is rendered
    * before an object with a larger index. For example: To make sure a game object is always on top of the screen, it
    * should have the largest z-index of all game objects.
    * @property zIndex
    * @type number
     */
    this.zIndex = 700;

    /**
    * The object's blend mode controls how the blending of the object's visual representation is calculated.
    * @property blendMode
    * @type number
    * @default gs.BlendMode.NORMAL
     */
    this.blendMode = gs.BlendMode.NORMAL;

    /**
    * The object's viewport.
    * @property viewport
    * @type gs.Viewport
     */
    this.viewport = Graphics.viewport;

    /**
    * The object's motion-blur settings.
    * @property motionBlur
    * @type gs.MotionBlur
     */
    this.motionBlur = new gs.MotionBlur();

    /**
    * The object's opacity to control transparency. For example: 0 = Transparent, 255 = Opaque, 128 = Semi-Transparent.
    * @property opacity
    * @type number
     */
    this.opacity = 255;
  }


  /**
  * Restores the game object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Visual.prototype.restore = function(data) {
    if (data.components) {
      this.componentsFromDataBundle(data);
    }
    Object.mixin(this, data);
    this.dstRect = gs.Rect.fromObject(data.dstRect);
    return this.motionBlur = gs.MotionBlur.fromObject(data.motionBlur);
  };

  return Object_Visual;

})(gs.Object_Base);

gs.Object_Visual = Object_Visual;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsYUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7O0VBU2EsdUJBQUMsSUFBRDtJQUNULDZDQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLElBQUEsZ0JBQUssSUFBSSxDQUFFLFVBQVgsaUJBQWMsSUFBSSxDQUFFLFVBQXBCOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsS0FBSCxDQUFTLENBQVQsRUFBWSxDQUFaOztBQUVkOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsS0FBSCxDQUFTLENBQVQsRUFBWSxDQUFaOztBQUVkOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxLQUFILENBQVMsR0FBVCxFQUFjLEdBQWQ7O0FBRWQ7Ozs7OztJQU1BLElBQUMsQ0FBQSxJQUFELG1CQUFRLElBQUksQ0FBRSxjQUFOLElBQWtCLElBQUEsRUFBRSxDQUFDLEtBQUgsQ0FBUyxHQUFULEVBQWMsR0FBZDs7QUFFMUI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsU0FBRCxHQUFhLEVBQUUsQ0FBQyxTQUFTLENBQUM7O0FBRTFCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVksUUFBUSxDQUFDOztBQUVyQjs7Ozs7SUFLQSxJQUFDLENBQUEsVUFBRCxHQUFrQixJQUFBLEVBQUUsQ0FBQyxVQUFILENBQUE7O0FBRWxCOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7RUFwRkY7OztBQXNGYjs7Ozs7OzswQkFNQSxPQUFBLEdBQVMsU0FBQyxJQUFEO0lBQ0wsSUFBRyxJQUFJLENBQUMsVUFBUjtNQUNJLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixJQUExQixFQURKOztJQUdBLE1BQU0sQ0FBQyxLQUFQLENBQWEsSUFBYixFQUFtQixJQUFuQjtJQUVBLElBQUMsQ0FBQSxPQUFELEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFSLENBQW1CLElBQUksQ0FBQyxPQUF4QjtXQUNYLElBQUMsQ0FBQSxVQUFELEdBQWMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFkLENBQXlCLElBQUksQ0FBQyxVQUE5QjtFQVBUOzs7O0dBdEdlLEVBQUUsQ0FBQzs7QUErRy9CLEVBQUUsQ0FBQyxhQUFILEdBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVmlzdWFsXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfVmlzdWFsIGV4dGVuZHMgZ3MuT2JqZWN0X0Jhc2VcbiAgICAjIyMqXG4gICAgKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIHJlZ3VsYXIgdmlzdWFsIGdhbWUgb2JqZWN0cy4gXG4gICAgKlxuICAgICogQG1vZHVsZSBcbiAgICAqIEBjbGFzcyBPYmplY3RfVmlzdWFsXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfQmFzZVxuICAgICogQG1lbWJlcm9mIHZuXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2lhdGVzIGlmIHRoZSBnYW1lIG9iamVjdCBpcyB2aXNpYmxlIG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlzaWJsZVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXNpYmxlID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGRlc3RpbmF0aW9uIHJlY3RhbmdsZSBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IGRzdFJlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAZHN0UmVjdCA9IG5ldyBSZWN0KGRhdGE/LngsIGRhdGE/LnkpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIG9yaWdpbi5cbiAgICAgICAgKiBAcHJvcGVydHkgb3JpZ2luXG4gICAgICAgICogQHR5cGUgZ3MuUG9pbnRcbiAgICAgICAgIyMjXG4gICAgICAgIEBvcmlnaW4gPSBuZXcgZ3MuUG9pbnQoMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3Mgb2Zmc2V0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBvZmZzZXRcbiAgICAgICAgKiBAdHlwZSBncy5Qb2ludFxuICAgICAgICAjIyNcbiAgICAgICAgQG9mZnNldCA9IG5ldyBncy5Qb2ludCgwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBhbmNob3ItcG9pbnQuIEZvciBleGFtcGxlOiBBbiBhbmNob3ItcG9pbnQgd2l0aCAwLDAgcGxhY2VzIHRoZSBvYmplY3Qgd2l0aCBpdHMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICogYXQgaXRzIHBvc2l0aW9uIGJ1dCB3aXRoIGFuIDAuNSwgMC41IGFuY2hvci1wb2ludCB0aGUgb2JqZWN0IGlzIHBsYWNlZCB3aXRoIGl0cyBjZW50ZXIuIEFuIGFuY2hvci1wb2ludCBvZiAxLDFcbiAgICAgICAgKiBwbGFjZXMgdGhlIG9iamVjdCB3aXRoIGl0cyBsb3dlci1yaWdodCBjb3JuZXIuXG4gICAgICAgICogQHByb3BlcnR5IGFuY2hvclxuICAgICAgICAqIEB0eXBlIGdzLlBvaW50XG4gICAgICAgICMjI1xuICAgICAgICBAYW5jaG9yID0gbmV3IGdzLlBvaW50KDAuMCwgMC4wKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB6b29tLXNldHRpbmcgZm9yIHggYW5kIHkgYXhpcy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICAgICAgKiB7IHg6IDEuMCwgeTogMS4wIH1cbiAgICAgICAgKiBAcHJvcGVydHkgem9vbVxuICAgICAgICAqIEB0eXBlIGdzLlBvaW50XG4gICAgICAgICMjI1xuICAgICAgICBAem9vbSA9IGRhdGE/Lnpvb20gfHwgbmV3IGdzLlBvaW50KDEuMCwgMS4wKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB6LWluZGV4IGNvbnRyb2xzIHJlbmRlcmluZy1vcmRlci9pbWFnZS1vdmVybGFwcGluZy4gQW4gb2JqZWN0IHdpdGggYSBzbWFsbGVyIHotaW5kZXggaXMgcmVuZGVyZWRcbiAgICAgICAgKiBiZWZvcmUgYW4gb2JqZWN0IHdpdGggYSBsYXJnZXIgaW5kZXguIEZvciBleGFtcGxlOiBUbyBtYWtlIHN1cmUgYSBnYW1lIG9iamVjdCBpcyBhbHdheXMgb24gdG9wIG9mIHRoZSBzY3JlZW4sIGl0XG4gICAgICAgICogc2hvdWxkIGhhdmUgdGhlIGxhcmdlc3Qgei1pbmRleCBvZiBhbGwgZ2FtZSBvYmplY3RzLlxuICAgICAgICAqIEBwcm9wZXJ0eSB6SW5kZXhcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB6SW5kZXggPSA3MDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgYmxlbmQgbW9kZSBjb250cm9scyBob3cgdGhlIGJsZW5kaW5nIG9mIHRoZSBvYmplY3QncyB2aXN1YWwgcmVwcmVzZW50YXRpb24gaXMgY2FsY3VsYXRlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgYmxlbmRNb2RlXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQGRlZmF1bHQgZ3MuQmxlbmRNb2RlLk5PUk1BTFxuICAgICAgICAjIyNcbiAgICAgICAgQGJsZW5kTW9kZSA9IGdzLkJsZW5kTW9kZS5OT1JNQUxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3Mgdmlld3BvcnQuXG4gICAgICAgICogQHByb3BlcnR5IHZpZXdwb3J0XG4gICAgICAgICogQHR5cGUgZ3MuVmlld3BvcnRcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aWV3cG9ydCA9IEdyYXBoaWNzLnZpZXdwb3J0XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIG1vdGlvbi1ibHVyIHNldHRpbmdzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtb3Rpb25CbHVyXG4gICAgICAgICogQHR5cGUgZ3MuTW90aW9uQmx1clxuICAgICAgICAjIyNcbiAgICAgICAgQG1vdGlvbkJsdXIgPSBuZXcgZ3MuTW90aW9uQmx1cigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIG9wYWNpdHkgdG8gY29udHJvbCB0cmFuc3BhcmVuY3kuIEZvciBleGFtcGxlOiAwID0gVHJhbnNwYXJlbnQsIDI1NSA9IE9wYXF1ZSwgMTI4ID0gU2VtaS1UcmFuc3BhcmVudC5cbiAgICAgICAgKiBAcHJvcGVydHkgb3BhY2l0eVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQG9wYWNpdHkgPSAyNTVcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgdGhlIGdhbWUgb2JqZWN0IGZyb20gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICByZXN0b3JlOiAoZGF0YSkgLT5cbiAgICAgICAgaWYgZGF0YS5jb21wb25lbnRzXG4gICAgICAgICAgICBAY29tcG9uZW50c0Zyb21EYXRhQnVuZGxlKGRhdGEpXG4gICAgICAgICAgICBcbiAgICAgICAgT2JqZWN0Lm1peGluKHRoaXMsIGRhdGEpXG4gICAgICAgIFxuICAgICAgICBAZHN0UmVjdCA9IGdzLlJlY3QuZnJvbU9iamVjdChkYXRhLmRzdFJlY3QpXG4gICAgICAgIEBtb3Rpb25CbHVyID0gZ3MuTW90aW9uQmx1ci5mcm9tT2JqZWN0KGRhdGEubW90aW9uQmx1cilcbiAgICAgICAgXG5ncy5PYmplY3RfVmlzdWFsID0gT2JqZWN0X1Zpc3VhbCJdfQ==
//# sourceURL=Object_Visual_25.js
var Object_Background,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Background = (function(superClass) {
  extend(Object_Background, superClass);

  Object_Background.objectCodecBlackList = ["parent"];


  /**
  * A game object used for backgrounds in a scene.
  *
  * @module vn
  * @class Object_Background
  * @extends gs.Object_Visual
  * @memberof vn
  * @constructor
   */

  function Object_Background(parent, data) {
    Object_Background.__super__.constructor.call(this, data);
    this.zIndex = 0;

    /**
    * The object's source rectangle. It controls which part of the object's image is used
    * for visual presentation.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's mask to execute masking-effects on it.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * The rotation-angle of the background in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * Contains different kinds of effects which can be activated for the object.
    * @property effects
    * @type Object
     */
    this.effects = {
      wobble: new gs.WobbleEffect()

      /**
      * The object's image used for visual presentation.
      * @property image
      * @type string
       */
    };
    this.image = "";

    /**
    * The color tone of the object used for the visual presentation.
    * @property tone
    * @type gs.Tone
     */
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_TilingPlane();
    this.visual.imageFolder = "Graphics/Backgrounds";
    this.addComponent(this.visual);
    this.addComponent(this.animator);
    this.componentsFromDataBundle(data);
  }


  /**
  * Restores the game object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Background.prototype.restore = function(data) {
    Object_Background.__super__.restore.call(this, data);
    this.srcRect = gs.Rect.fromObject(data.srcRect);
    this.mask = gs.Mask.fromObject(data.mask);
    return this.visual.looping = data.looping;
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Background.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Animation);
    result = {
      dstRect: this.dstRect,
      srcRect: this.srcRect,
      opacity: this.opacity,
      origin: this.origin,
      zIndex: this.zIndex,
      mask: this.mask.toDataBundle(),
      motionBlur: this.motionBlur,
      zoom: this.zoom,
      angle: this.angle,
      anchor: this.anchor,
      offset: this.offset,
      mirror: this.mirror,
      tone: this.tone,
      image: this.image,
      looping: this.visual.looping,
      components: components
    };
    return result;
  };

  return Object_Background;

})(gs.Object_Visual);

vn.Object_Background = Object_Background;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsaUJBQUE7RUFBQTs7O0FBQU07OztFQUNGLGlCQUFDLENBQUEsb0JBQUQsR0FBd0IsQ0FBQyxRQUFEOzs7QUFFeEI7Ozs7Ozs7Ozs7RUFTYSwyQkFBQyxNQUFELEVBQVMsSUFBVDtJQUNULG1EQUFNLElBQU47SUFDQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFBOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxFQUFFLENBQUMsSUFBSCxDQUFBOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFBQSxNQUFBLEVBQVksSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFBOztBQUV2Qjs7OztTQUZXOztJQU9YLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLElBQUEsQ0FBSyxDQUFMLEVBQVEsQ0FBUixFQUFXLENBQVgsRUFBYyxDQUFkOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMscUJBQUgsQ0FBQTtJQUNkLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQjtJQUV0QixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixJQUExQjtFQWpFUzs7O0FBcUViOzs7Ozs7OzhCQU1BLE9BQUEsR0FBUyxTQUFDLElBQUQ7SUFDTCwrQ0FBTSxJQUFOO0lBRUEsSUFBQyxDQUFBLE9BQUQsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVIsQ0FBbUIsSUFBSSxDQUFDLE9BQXhCO0lBQ1gsSUFBQyxDQUFBLElBQUQsR0FBUSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVIsQ0FBbUIsSUFBSSxDQUFDLElBQXhCO1dBQ1IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLEdBQWtCLElBQUksQ0FBQztFQUxsQjs7O0FBUVQ7Ozs7Ozs7OEJBTUEsWUFBQSxHQUFjLFNBQUE7QUFDVixRQUFBO0lBQUEsVUFBQSxHQUFhLElBQUMsQ0FBQSxzQkFBRCxDQUF3QixFQUFFLENBQUMsbUJBQTNCO0lBRWIsTUFBQSxHQUFTO01BQ0wsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQURMO01BRUwsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUZMO01BR0wsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUhMO01BSUwsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUpKO01BS0wsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUxKO01BTUwsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUFJLENBQUMsWUFBTixDQUFBLENBTkQ7TUFPTCxVQUFBLEVBQVksSUFBQyxDQUFBLFVBUFI7TUFRTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBUkY7TUFTTCxLQUFBLEVBQU8sSUFBQyxDQUFBLEtBVEg7TUFVTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BVko7TUFXTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BWEo7TUFZTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BWko7TUFhTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBYkY7TUFjTCxLQUFBLEVBQU8sSUFBQyxDQUFBLEtBZEg7TUFlTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQWZaO01BZ0JMLFVBQUEsRUFBWSxVQWhCUDs7QUFtQlQsV0FBTztFQXRCRzs7OztHQXJHYyxFQUFFLENBQUM7O0FBOEhuQyxFQUFFLENBQUMsaUJBQUgsR0FBdUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9CYWNrZ3JvdW5kXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfQmFja2dyb3VuZCBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IHVzZWQgZm9yIGJhY2tncm91bmRzIGluIGEgc2NlbmUuXG4gICAgKlxuICAgICogQG1vZHVsZSB2blxuICAgICogQGNsYXNzIE9iamVjdF9CYWNrZ3JvdW5kXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2Ygdm5cbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocGFyZW50LCBkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBAekluZGV4ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlLiBJdCBjb250cm9scyB3aGljaCBwYXJ0IG9mIHRoZSBvYmplY3QncyBpbWFnZSBpcyB1c2VkXG4gICAgICAgICogZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IHNyY1JlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KClcblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIG1hc2sgdG8gZXhlY3V0ZSBtYXNraW5nLWVmZmVjdHMgb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IG1hc2tcbiAgICAgICAgKiBAdHlwZSBncy5NYXNrXG4gICAgICAgICMjI1xuICAgICAgICBAbWFzayA9IG5ldyBncy5NYXNrKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcm90YXRpb24tYW5nbGUgb2YgdGhlIGJhY2tncm91bmQgaW4gZGVncmVlcy4gVGhlIHJvdGF0aW9uIGNlbnRlciBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAqIGFuY2hvci1wb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBkaWZmZXJlbnQga2luZHMgb2YgZWZmZWN0cyB3aGljaCBjYW4gYmUgYWN0aXZhdGVkIGZvciB0aGUgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBlZmZlY3RzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAZWZmZWN0cyA9IHdvYmJsZTogbmV3IGdzLldvYmJsZUVmZmVjdCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGltYWdlIHVzZWQgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlXG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2UgPSBcIlwiXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGNvbG9yIHRvbmUgb2YgdGhlIG9iamVjdCB1c2VkIGZvciB0aGUgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdG9uZVxuICAgICAgICAqIEB0eXBlIGdzLlRvbmVcbiAgICAgICAgIyMjXG4gICAgICAgIEB0b25lID0gbmV3IFRvbmUoMCwgMCwgMCwgMClcblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQ29tcG9uZW50X0FuaW1hdG9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1RpbGluZ1BsYW5lKClcbiAgICAgICAgQHZpc3VhbC5pbWFnZUZvbGRlciA9IFwiR3JhcGhpY3MvQmFja2dyb3VuZHNcIlxuICAgICAgICBcbiAgICAgICAgQGFkZENvbXBvbmVudChAdmlzdWFsKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgQGNvbXBvbmVudHNGcm9tRGF0YUJ1bmRsZShkYXRhKVxuICAgICAgICBcbiAgICAgICAgI0B1cGRhdGUoKVxuICAgIFxuICAgICMjIypcbiAgICAqIFJlc3RvcmVzIHRoZSBnYW1lIG9iamVjdCBmcm9tIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICAgXG4gICAgcmVzdG9yZTogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyKGRhdGEpXG4gICAgICAgIFxuICAgICAgICBAc3JjUmVjdCA9IGdzLlJlY3QuZnJvbU9iamVjdChkYXRhLnNyY1JlY3QpXG4gICAgICAgIEBtYXNrID0gZ3MuTWFzay5mcm9tT2JqZWN0KGRhdGEubWFzaylcbiAgICAgICAgQHZpc3VhbC5sb29waW5nID0gZGF0YS5sb29waW5nXG4gICAgICAgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBvYmplY3QgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICBjb21wb25lbnRzID0gQGNvbXBvbmVudHNUb0RhdGFCdW5kbGUoZ3MuQ29tcG9uZW50X0FuaW1hdGlvbilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZHN0UmVjdDogQGRzdFJlY3QsXG4gICAgICAgICAgICBzcmNSZWN0OiBAc3JjUmVjdCxcbiAgICAgICAgICAgIG9wYWNpdHk6IEBvcGFjaXR5LFxuICAgICAgICAgICAgb3JpZ2luOiBAb3JpZ2luLFxuICAgICAgICAgICAgekluZGV4OiBAekluZGV4LFxuICAgICAgICAgICAgbWFzazogQG1hc2sudG9EYXRhQnVuZGxlKCksXG4gICAgICAgICAgICBtb3Rpb25CbHVyOiBAbW90aW9uQmx1cixcbiAgICAgICAgICAgIHpvb206IEB6b29tLFxuICAgICAgICAgICAgYW5nbGU6IEBhbmdsZSxcbiAgICAgICAgICAgIGFuY2hvcjogQGFuY2hvcixcbiAgICAgICAgICAgIG9mZnNldDogQG9mZnNldCxcbiAgICAgICAgICAgIG1pcnJvcjogQG1pcnJvcixcbiAgICAgICAgICAgIHRvbmU6IEB0b25lLFxuICAgICAgICAgICAgaW1hZ2U6IEBpbWFnZSxcbiAgICAgICAgICAgIGxvb3Bpbmc6IEB2aXN1YWwubG9vcGluZyxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHNcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgXG4gICAgXG52bi5PYmplY3RfQmFja2dyb3VuZCA9IE9iamVjdF9CYWNrZ3JvdW5kIl19
//# sourceURL=Object_Background_31.js
var Object_Picture,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Picture = (function(superClass) {
  extend(Object_Picture, superClass);

  Object_Picture.objectCodecBlackList = ["parent"];


  /**
  * A game object used for pictures in a scene.
  *
  * @module gs
  * @class Object_Picture
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Picture(parent, data) {
    Object_Picture.__super__.constructor.call(this, data);

    /**
    * The object's source rectangle. It controls which part of the object's image is used
    * for visual presentation.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's mask to execute masking-effects on it.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * Indicates if the object's visual presentation should be mirrored horizontally.
    * @property mirror
    * @type boolean
     */
    this.mirror = false;

    /**
    * The object's image used for visual presentation.
    * @property image
    * @type string
     */
    this.image = "";

    /**
    * The rotation-angle of the picture in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The color tone of the object used for the visual presentation.
    * @property tone
    * @type gs.Tone
     */
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The color of the object used for the visual presentation.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * Contains different kinds of effects which can be activated for the object.
    * @property effects
    * @type Object
     */
    this.effects = {
      wobble: new gs.WobbleEffect()

      /**
      * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
      * @property animator
      * @type vn.Component_Animator
       */
    };
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();
    this.addComponent(this.visual);
    this.addComponent(this.animator);
    this.componentsFromDataBundle(data);
    this.update();
  }


  /**
  * Restores the game object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Picture.prototype.restore = function(data) {
    Object_Picture.__super__.restore.call(this, data);
    this.srcRect = gs.Rect.fromObject(data.srcRect);
    this.mask = gs.Mask.fromObject(data.mask);
    return this.motionBlur = gs.MotionBlur.fromObject(data.motionBlur);
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Picture.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Animation);
    result = {
      dstRect: this.dstRect,
      srcRect: this.srcRect,
      opacity: this.opacity,
      origin: this.origin,
      zIndex: this.zIndex,
      mask: this.mask.toDataBundle(),
      motionBlur: this.motionBlur,
      zoom: this.zoom,
      angle: this.angle,
      anchor: this.anchor,
      offset: this.offset,
      mirror: this.mirror,
      image: this.image,
      components: components
    };
    return result;
  };

  return Object_Picture;

})(gs.Object_Visual);

gs.Object_Picture = Object_Picture;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsY0FBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsY0FBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2Esd0JBQUMsTUFBRCxFQUFTLElBQVQ7SUFDVCxnREFBTSxJQUFOOztBQUVBOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFBOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxFQUFFLENBQUMsSUFBSCxDQUFBOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7O0lBTUEsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBYSxJQUFBLEtBQUEsQ0FBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixDQUFyQjs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXO01BQUEsTUFBQSxFQUFZLElBQUEsRUFBRSxDQUFDLFlBQUgsQ0FBQTs7QUFFdkI7Ozs7U0FGVzs7SUFPWCxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxrQkFBSCxDQUFBOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQUE7SUFHZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixJQUExQjtJQUVBLElBQUMsQ0FBQSxNQUFELENBQUE7RUFoRlM7OztBQWtGYjs7Ozs7OzsyQkFNQSxPQUFBLEdBQVMsU0FBQyxJQUFEO0lBQ0wsNENBQU0sSUFBTjtJQUVBLElBQUMsQ0FBQSxPQUFELEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFSLENBQW1CLElBQUksQ0FBQyxPQUF4QjtJQUNYLElBQUMsQ0FBQSxJQUFELEdBQVEsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFSLENBQW1CLElBQUksQ0FBQyxJQUF4QjtXQUNSLElBQUMsQ0FBQSxVQUFELEdBQWMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFkLENBQXlCLElBQUksQ0FBQyxVQUE5QjtFQUxUOzs7QUFPVDs7Ozs7OzsyQkFNQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFFBQUE7SUFBQSxVQUFBLEdBQWEsSUFBQyxDQUFBLHNCQUFELENBQXdCLEVBQUUsQ0FBQyxtQkFBM0I7SUFFYixNQUFBLEdBQVM7TUFDTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BREw7TUFFTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BRkw7TUFHTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BSEw7TUFJTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BSko7TUFLTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BTEo7TUFNTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBQUksQ0FBQyxZQUFOLENBQUEsQ0FORDtNQU9MLFVBQUEsRUFBWSxJQUFDLENBQUEsVUFQUjtNQVFMLElBQUEsRUFBTSxJQUFDLENBQUEsSUFSRjtNQVNMLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FUSDtNQVVMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFWSjtNQVdMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFYSjtNQVlMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFaSjtNQWFMLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FiSDtNQWNMLFVBQUEsRUFBWSxVQWRQOztBQWlCVCxXQUFPO0VBcEJHOzs7O0dBakhXLEVBQUUsQ0FBQzs7QUF1SWhDLEVBQUUsQ0FBQyxjQUFILEdBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfUGljdHVyZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1BpY3R1cmUgZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wicGFyZW50XCJdXG4gICBcbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IHVzZWQgZm9yIHBpY3R1cmVzIGluIGEgc2NlbmUuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIE9iamVjdF9QaWN0dXJlXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocGFyZW50LCBkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlLiBJdCBjb250cm9scyB3aGljaCBwYXJ0IG9mIHRoZSBvYmplY3QncyBpbWFnZSBpcyB1c2VkXG4gICAgICAgICogZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IHNyY1JlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgbWFzayB0byBleGVjdXRlIG1hc2tpbmctZWZmZWN0cyBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgbWFza1xuICAgICAgICAqIEB0eXBlIGdzLk1hc2tcbiAgICAgICAgIyMjXG4gICAgICAgIEBtYXNrID0gbmV3IGdzLk1hc2soKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0J3MgdmlzdWFsIHByZXNlbnRhdGlvbiBzaG91bGQgYmUgbWlycm9yZWQgaG9yaXpvbnRhbGx5LlxuICAgICAgICAqIEBwcm9wZXJ0eSBtaXJyb3JcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAbWlycm9yID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgaW1hZ2UgdXNlZCBmb3IgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgaW1hZ2VcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbWFnZSA9IFwiXCJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcm90YXRpb24tYW5nbGUgb2YgdGhlIHBpY3R1cmUgaW4gZGVncmVlcy4gVGhlIHJvdGF0aW9uIGNlbnRlciBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAqIGFuY2hvci1wb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29sb3IgdG9uZSBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0b25lXG4gICAgICAgICogQHR5cGUgZ3MuVG9uZVxuICAgICAgICAjIyNcbiAgICAgICAgQHRvbmUgPSBuZXcgVG9uZSgwLCAwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjb2xvciBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb2xvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbG9yXG4gICAgICAgICMjI1xuICAgICAgICBAY29sb3IgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBkaWZmZXJlbnQga2luZHMgb2YgZWZmZWN0cyB3aGljaCBjYW4gYmUgYWN0aXZhdGVkIGZvciB0aGUgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBlZmZlY3RzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAZWZmZWN0cyA9IHdvYmJsZTogbmV3IGdzLldvYmJsZUVmZmVjdCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQ29tcG9uZW50X0FuaW1hdG9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1Nwcml0ZSgpXG4gICAgICAgIFxuXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgQGFkZENvbXBvbmVudChAYW5pbWF0b3IpXG4gICAgICAgIEBjb21wb25lbnRzRnJvbURhdGFCdW5kbGUoZGF0YSlcbiAgICAgICAgXG4gICAgICAgIEB1cGRhdGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyB0aGUgZ2FtZSBvYmplY3QgZnJvbSBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdG9yZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgIFxuICAgIHJlc3RvcmU6IChkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBcbiAgICAgICAgQHNyY1JlY3QgPSBncy5SZWN0LmZyb21PYmplY3QoZGF0YS5zcmNSZWN0KVxuICAgICAgICBAbWFzayA9IGdzLk1hc2suZnJvbU9iamVjdChkYXRhLm1hc2spXG4gICAgICAgIEBtb3Rpb25CbHVyID0gZ3MuTW90aW9uQmx1ci5mcm9tT2JqZWN0KGRhdGEubW90aW9uQmx1cilcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgb2JqZWN0IGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgY29tcG9uZW50cyA9IEBjb21wb25lbnRzVG9EYXRhQnVuZGxlKGdzLkNvbXBvbmVudF9BbmltYXRpb24pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGRzdFJlY3Q6IEBkc3RSZWN0LFxuICAgICAgICAgICAgc3JjUmVjdDogQHNyY1JlY3QsXG4gICAgICAgICAgICBvcGFjaXR5OiBAb3BhY2l0eSxcbiAgICAgICAgICAgIG9yaWdpbjogQG9yaWdpbixcbiAgICAgICAgICAgIHpJbmRleDogQHpJbmRleCxcbiAgICAgICAgICAgIG1hc2s6IEBtYXNrLnRvRGF0YUJ1bmRsZSgpLFxuICAgICAgICAgICAgbW90aW9uQmx1cjogQG1vdGlvbkJsdXIsXG4gICAgICAgICAgICB6b29tOiBAem9vbSxcbiAgICAgICAgICAgIGFuZ2xlOiBAYW5nbGUsXG4gICAgICAgICAgICBhbmNob3I6IEBhbmNob3IsXG4gICAgICAgICAgICBvZmZzZXQ6IEBvZmZzZXQsXG4gICAgICAgICAgICBtaXJyb3I6IEBtaXJyb3IsXG4gICAgICAgICAgICBpbWFnZTogQGltYWdlLFxuICAgICAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50c1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG5ncy5PYmplY3RfUGljdHVyZSA9IE9iamVjdF9QaWN0dXJlIl19
//# sourceURL=Object_Picture_51.js
var Object_Character,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Character = (function(superClass) {
  extend(Object_Character, superClass);

  Object_Character.objectCodecBlackList = ["parent"];


  /**
  * A game object for a visual novel character. 
  *
  * @module vn
  * @class Object_Character
  * @extends gs.Object_Visual
  * @memberof vn
  * @constructor
   */

  function Object_Character(record, data) {
    var ref, ref1;
    Object_Character.__super__.constructor.call(this, data);

    /**
    * The object's source rectangle on screen.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's z-index.
    * @property zIndex
    * @type number
     */
    this.zIndex = 200;

    /**
    * The object's mask.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * Indicates if the object's visual presentation should be mirrored horizontally.
    * @property mirror
    * @type boolean
     */
    this.mirror = (ref = data != null ? data.mirror : void 0) != null ? ref : false;

    /**
    * The object's image used for visual presentation.
    * @property image
    * @type string
     */
    this.image = "";

    /**
    * The ID of the character-record used.
    * @property rid
    * @type number
     */
    this.rid = (data != null ? data.id : void 0) || ((ref1 = record != null ? record.index : void 0) != null ? ref1 : -1);

    /**
    * The character's expression(database-record)
    * @property expression
    * @type Object
     */
    this.expression = RecordManager.characterExpressions[(data != null ? data.expressionId : void 0) || 0];

    /**
    * The character's behavior component which contains the character-specific logic.
    * @property behavior
    * @type vn.Component_CharacterBehavior
     */
    this.behavior = new vn.Component_CharacterBehavior();
    this.logic = this.behavior;

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();
    this.visual.imageFolder = "Graphics/Characters";
    this.addComponent(this.logic);
    this.addComponent(this.visual);
    this.addComponent(this.animator);
    this.componentsFromDataBundle(data);
  }


  /**
  * Restores the game object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Character.prototype.restore = function(data) {
    Object_Character.__super__.restore.call(this, data);
    this.srcRect = gs.Rect.fromObject(data.srcRect);
    this.mask = gs.Mask.fromObject(data.mask);
    this.motionBlur = gs.MotionBlur.fromObject(data.motionBlur);
    return this.expression = RecordManager.characterExpressions[(data != null ? data.expressionId : void 0) || 0];
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Character.prototype.toDataBundle = function() {
    var components;
    components = this.componentsToDataBundle(gs.Component_Animation);
    return {
      rid: this.rid,
      dstRect: this.dstRect,
      srcRect: this.srcRect,
      opacity: this.opacity,
      zoom: this.zoom,
      angle: this.angle,
      anchor: this.anchor,
      zIndex: this.zIndex,
      offset: this.offset,
      motionBlur: this.motionBlur,
      mask: this.mask.toDataBundle(),
      mirror: this.mirror,
      expressionId: this.expression.index,
      components: components
    };
  };

  return Object_Character;

})(gs.Object_Visual);

vn.Object_Character = Object_Character;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07OztFQUNGLGdCQUFDLENBQUEsb0JBQUQsR0FBd0IsQ0FBQyxRQUFEOzs7QUFDeEI7Ozs7Ozs7Ozs7RUFTYSwwQkFBQyxNQUFELEVBQVMsSUFBVDtBQUNULFFBQUE7SUFBQSxrREFBTSxJQUFOOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUE7O0FBRWY7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsRUFBRSxDQUFDLElBQUgsQ0FBQTs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCwrREFBeUI7O0FBRXpCOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLEdBQUQsbUJBQU8sSUFBSSxDQUFFLFlBQU4sSUFBWSxrRUFBaUIsQ0FBQyxDQUFsQjs7QUFFbkI7Ozs7O0lBS0EsSUFBQyxDQUFBLFVBQUQsR0FBYyxhQUFhLENBQUMsb0JBQXFCLGlCQUFBLElBQUksQ0FBRSxzQkFBTixJQUFzQixDQUF0Qjs7QUFFakQ7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsMkJBQUgsQ0FBQTtJQUNoQixJQUFDLENBQUEsS0FBRCxHQUFTLElBQUMsQ0FBQTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxrQkFBSCxDQUFBOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQUE7SUFDZCxJQUFDLENBQUEsTUFBTSxDQUFDLFdBQVIsR0FBc0I7SUFFdEIsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsS0FBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE1BQWY7SUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0lBQ0EsSUFBQyxDQUFBLHdCQUFELENBQTBCLElBQTFCO0VBOUVTOzs7QUFtRmI7Ozs7Ozs7NkJBTUEsT0FBQSxHQUFTLFNBQUMsSUFBRDtJQUNMLDhDQUFNLElBQU47SUFFQSxJQUFDLENBQUEsT0FBRCxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBUixDQUFtQixJQUFJLENBQUMsT0FBeEI7SUFDWCxJQUFDLENBQUEsSUFBRCxHQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBUixDQUFtQixJQUFJLENBQUMsSUFBeEI7SUFDUixJQUFDLENBQUEsVUFBRCxHQUFjLEVBQUUsQ0FBQyxVQUFVLENBQUMsVUFBZCxDQUF5QixJQUFJLENBQUMsVUFBOUI7V0FDZCxJQUFDLENBQUEsVUFBRCxHQUFjLGFBQWEsQ0FBQyxvQkFBcUIsaUJBQUEsSUFBSSxDQUFFLHNCQUFOLElBQXNCLENBQXRCO0VBTjVDOzs7QUFRVDs7Ozs7Ozs2QkFNQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFFBQUE7SUFBQSxVQUFBLEdBQWEsSUFBQyxDQUFBLHNCQUFELENBQXdCLEVBQUUsQ0FBQyxtQkFBM0I7QUFFYixXQUFPO01BQ0gsR0FBQSxFQUFLLElBQUMsQ0FBQSxHQURIO01BRUgsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUZQO01BR0gsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUhQO01BSUgsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUpQO01BS0gsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUxKO01BTUgsS0FBQSxFQUFPLElBQUMsQ0FBQSxLQU5MO01BT0gsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVBOO01BUUgsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVJOO01BU0gsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVROO01BVUgsVUFBQSxFQUFZLElBQUMsQ0FBQSxVQVZWO01BV0gsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUFJLENBQUMsWUFBTixDQUFBLENBWEg7TUFZSCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BWk47TUFhSCxZQUFBLEVBQWMsSUFBQyxDQUFBLFVBQVUsQ0FBQyxLQWJ2QjtNQWNILFVBQUEsRUFBWSxVQWRUOztFQUhHOzs7O0dBbEhhLEVBQUUsQ0FBQzs7QUF1SWxDLEVBQUUsQ0FBQyxnQkFBSCxHQUFzQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogT2JqZWN0X0NoYXJhY3RlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X0NoYXJhY3RlciBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIl1cbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IGZvciBhIHZpc3VhbCBub3ZlbCBjaGFyYWN0ZXIuIFxuICAgICpcbiAgICAqIEBtb2R1bGUgdm5cbiAgICAqIEBjbGFzcyBPYmplY3RfQ2hhcmFjdGVyXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2Ygdm5cbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocmVjb3JkLCBkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlIG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgc3JjUmVjdFxuICAgICAgICAqIEB0eXBlIGdzLlJlY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBzcmNSZWN0ID0gbmV3IFJlY3QoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB6LWluZGV4LlxuICAgICAgICAqIEBwcm9wZXJ0eSB6SW5kZXhcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB6SW5kZXggPSAyMDBcbiAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBtYXNrLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtYXNrXG4gICAgICAgICogQHR5cGUgZ3MuTWFza1xuICAgICAgICAjIyNcbiAgICAgICAgQG1hc2sgPSBuZXcgZ3MuTWFzaygpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QncyB2aXN1YWwgcHJlc2VudGF0aW9uIHNob3VsZCBiZSBtaXJyb3JlZCBob3Jpem9udGFsbHkuXG4gICAgICAgICogQHByb3BlcnR5IG1pcnJvclxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBtaXJyb3IgPSBkYXRhPy5taXJyb3IgPyBmYWxzZVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBpbWFnZSB1c2VkIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZVxuICAgICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlID0gXCJcIlxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBJRCBvZiB0aGUgY2hhcmFjdGVyLXJlY29yZCB1c2VkLlxuICAgICAgICAqIEBwcm9wZXJ0eSByaWRcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEByaWQgPSBkYXRhPy5pZCB8fCAocmVjb3JkPy5pbmRleCA/IC0xKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjaGFyYWN0ZXIncyBleHByZXNzaW9uKGRhdGFiYXNlLXJlY29yZClcbiAgICAgICAgKiBAcHJvcGVydHkgZXhwcmVzc2lvblxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGV4cHJlc3Npb24gPSBSZWNvcmRNYW5hZ2VyLmNoYXJhY3RlckV4cHJlc3Npb25zW2RhdGE/LmV4cHJlc3Npb25JZCB8fCAwXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjaGFyYWN0ZXIncyBiZWhhdmlvciBjb21wb25lbnQgd2hpY2ggY29udGFpbnMgdGhlIGNoYXJhY3Rlci1zcGVjaWZpYyBsb2dpYy5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSB2bi5Db21wb25lbnRfQ2hhcmFjdGVyQmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBiZWhhdmlvciA9IG5ldyB2bi5Db21wb25lbnRfQ2hhcmFjdGVyQmVoYXZpb3IoKVxuICAgICAgICBAbG9naWMgPSBAYmVoYXZpb3JcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgYW5pbWF0b3ItY29tcG9uZW50IHRvIGV4ZWN1dGUgZGlmZmVyZW50IGtpbmQgb2YgYW5pbWF0aW9ucyBsaWtlIG1vdmUsIHJvdGF0ZSwgZXRjLiBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5pbWF0b3JcbiAgICAgICAgKiBAdHlwZSB2bi5Db21wb25lbnRfQW5pbWF0b3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmltYXRvciA9IG5ldyBncy5Db21wb25lbnRfQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB2aXN1YWwtY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIGdhbWUgb2JqZWN0IG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlzdWFsXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X1Nwcml0ZVxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfU3ByaXRlKClcbiAgICAgICAgQHZpc3VhbC5pbWFnZUZvbGRlciA9IFwiR3JhcGhpY3MvQ2hhcmFjdGVyc1wiXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEBsb2dpYylcbiAgICAgICAgQGFkZENvbXBvbmVudChAdmlzdWFsKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgQGNvbXBvbmVudHNGcm9tRGF0YUJ1bmRsZShkYXRhKVxuICAgICAgICBcbiAgICAgICAgI0B1cGRhdGUoKVxuICAgICAgICBcbiAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgdGhlIGdhbWUgb2JqZWN0IGZyb20gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICByZXN0b3JlOiAoZGF0YSkgLT5cbiAgICAgICAgc3VwZXIoZGF0YSlcbiAgICAgICAgXG4gICAgICAgIEBzcmNSZWN0ID0gZ3MuUmVjdC5mcm9tT2JqZWN0KGRhdGEuc3JjUmVjdClcbiAgICAgICAgQG1hc2sgPSBncy5NYXNrLmZyb21PYmplY3QoZGF0YS5tYXNrKVxuICAgICAgICBAbW90aW9uQmx1ciA9IGdzLk1vdGlvbkJsdXIuZnJvbU9iamVjdChkYXRhLm1vdGlvbkJsdXIpXG4gICAgICAgIEBleHByZXNzaW9uID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJFeHByZXNzaW9uc1tkYXRhPy5leHByZXNzaW9uSWQgfHwgMF1cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgb2JqZWN0IGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgXG4gICAgdG9EYXRhQnVuZGxlOiAtPiBcbiAgICAgICAgY29tcG9uZW50cyA9IEBjb21wb25lbnRzVG9EYXRhQnVuZGxlKGdzLkNvbXBvbmVudF9BbmltYXRpb24pXG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmlkOiBAcmlkLCBcbiAgICAgICAgICAgIGRzdFJlY3Q6IEBkc3RSZWN0LCBcbiAgICAgICAgICAgIHNyY1JlY3Q6IEBzcmNSZWN0LFxuICAgICAgICAgICAgb3BhY2l0eTogQG9wYWNpdHksXG4gICAgICAgICAgICB6b29tOiBAem9vbSxcbiAgICAgICAgICAgIGFuZ2xlOiBAYW5nbGUsXG4gICAgICAgICAgICBhbmNob3I6IEBhbmNob3IsXG4gICAgICAgICAgICB6SW5kZXg6IEB6SW5kZXgsXG4gICAgICAgICAgICBvZmZzZXQ6IEBvZmZzZXQsXG4gICAgICAgICAgICBtb3Rpb25CbHVyOiBAbW90aW9uQmx1cixcbiAgICAgICAgICAgIG1hc2s6IEBtYXNrLnRvRGF0YUJ1bmRsZSgpLFxuICAgICAgICAgICAgbWlycm9yOiBAbWlycm9yLCBcbiAgICAgICAgICAgIGV4cHJlc3Npb25JZDogQGV4cHJlc3Npb24uaW5kZXgsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG4gICAgICAgIH1cbiAgICAgICAgXG5cbnZuLk9iamVjdF9DaGFyYWN0ZXIgPSBPYmplY3RfQ2hhcmFjdGVyIl19
//# sourceURL=Object_Character_55.js
var Object_Viewport,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Viewport = (function(superClass) {
  extend(Object_Viewport, superClass);

  Object_Viewport.objectCodecBlackList = ["parent"];


  /**
  * A game object used for viewports.
  *
  * @module gs
  * @class Object_Viewport
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Viewport(viewport) {
    Object_Viewport.__super__.constructor.apply(this, arguments);
    if (viewport) {
      this.dstRect = new Rect(viewport.rect.x, viewport.rect.y, viewport.rect.width, viewport.rect.height);
    } else {
      this.dstRect = new Rect(0, 0, Graphics.width, Graphics.height);
    }

    /**
    * Contains different kinds of effects which can be activated for the object.
    * @property effects
    * @type Object
     */
    this.effects = {
      wobble: new gs.WobbleEffect()

      /**
      * The color tone of the object used for the visual presentation.
      * @property tone
      * @type gs.Tone
       */
    };
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The color of the object used for the visual presentation.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * The rotation-angle of the picture in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Viewport(viewport);
    this.addComponent(this.visual);
    this.addComponent(this.animator);
  }


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Viewport.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Animation);
    result = {
      dstRect: this.dstRect,
      origin: this.origin,
      zIndex: this.zIndex,
      motionBlur: this.motionBlur,
      zoom: this.zoom,
      angle: this.angle,
      anchor: this.anchor,
      offset: this.offset,
      tone: this.tone,
      image: this.image,
      components: components
    };
    return result;
  };

  return Object_Viewport;

})(gs.Object_Visual);

gs.Object_Viewport = Object_Viewport;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsZUFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2EseUJBQUMsUUFBRDtJQUNULGtEQUFBLFNBQUE7SUFFQSxJQUFHLFFBQUg7TUFDSSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBbkIsRUFBc0IsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFwQyxFQUF1QyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQXJELEVBQTRELFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBMUUsRUFEbkI7S0FBQSxNQUFBO01BR0ksSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLElBQUEsQ0FBSyxDQUFMLEVBQVEsQ0FBUixFQUFXLFFBQVEsQ0FBQyxLQUFwQixFQUEyQixRQUFRLENBQUMsTUFBcEMsRUFIbkI7OztBQUtBOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFBQSxNQUFBLEVBQVksSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFBOztBQUV2Qjs7OztTQUZXOztJQU9YLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxDQUFYLEVBQWMsQ0FBZDs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFhLElBQUEsS0FBQSxDQUFNLEdBQU4sRUFBVyxHQUFYLEVBQWdCLEdBQWhCLEVBQXFCLENBQXJCOztBQUViOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsa0JBQUgsQ0FBc0IsUUFBdEI7SUFFZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtFQXBEUzs7O0FBd0RiOzs7Ozs7OzRCQU1BLFlBQUEsR0FBYyxTQUFBO0FBQ1YsUUFBQTtJQUFBLFVBQUEsR0FBYSxJQUFDLENBQUEsc0JBQUQsQ0FBd0IsRUFBRSxDQUFDLG1CQUEzQjtJQUViLE1BQUEsR0FBUztNQUNMLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FETDtNQUVMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFGSjtNQUdMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFISjtNQUlMLFVBQUEsRUFBWSxJQUFDLENBQUEsVUFKUjtNQUtMLElBQUEsRUFBTSxJQUFDLENBQUEsSUFMRjtNQU1MLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FOSDtNQU9MLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFQSjtNQVFMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFSSjtNQVNMLElBQUEsRUFBTSxJQUFDLENBQUEsSUFURjtNQVVMLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FWSDtNQVdMLFVBQUEsRUFBWSxVQVhQOztBQWNULFdBQU87RUFqQkc7Ozs7R0ExRVksRUFBRSxDQUFDOztBQTZGakMsRUFBRSxDQUFDLGVBQUgsR0FBcUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9WaWV3cG9ydFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1ZpZXdwb3J0IGV4dGVuZHMgZ3MuT2JqZWN0X1Zpc3VhbFxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcInBhcmVudFwiXVxuICAgIFxuICAgICMjIypcbiAgICAqIEEgZ2FtZSBvYmplY3QgdXNlZCBmb3Igdmlld3BvcnRzLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfVmlld3BvcnRcbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICh2aWV3cG9ydCkgLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgIGlmIHZpZXdwb3J0XG4gICAgICAgICAgICBAZHN0UmVjdCA9IG5ldyBSZWN0KHZpZXdwb3J0LnJlY3QueCwgdmlld3BvcnQucmVjdC55LCB2aWV3cG9ydC5yZWN0LndpZHRoLCB2aWV3cG9ydC5yZWN0LmhlaWdodClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGRzdFJlY3QgPSBuZXcgUmVjdCgwLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0KVxuICAgICAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBkaWZmZXJlbnQga2luZHMgb2YgZWZmZWN0cyB3aGljaCBjYW4gYmUgYWN0aXZhdGVkIGZvciB0aGUgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBlZmZlY3RzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAZWZmZWN0cyA9IHdvYmJsZTogbmV3IGdzLldvYmJsZUVmZmVjdCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGNvbG9yIHRvbmUgb2YgdGhlIG9iamVjdCB1c2VkIGZvciB0aGUgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdG9uZVxuICAgICAgICAqIEB0eXBlIGdzLlRvbmVcbiAgICAgICAgIyMjXG4gICAgICAgIEB0b25lID0gbmV3IFRvbmUoMCwgMCwgMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29sb3Igb2YgdGhlIG9iamVjdCB1c2VkIGZvciB0aGUgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgY29sb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db2xvclxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbG9yID0gbmV3IENvbG9yKDI1NSwgMjU1LCAyNTUsIDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHJvdGF0aW9uLWFuZ2xlIG9mIHRoZSBwaWN0dXJlIGluIGRlZ3JlZXMuIFRoZSByb3RhdGlvbiBjZW50ZXIgZGVwZW5kcyBvbiB0aGVcbiAgICAgICAgKiBhbmNob3ItcG9pbnQuXG4gICAgICAgICogQHByb3BlcnR5IGFuZ2xlXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAYW5nbGUgPSAwXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBhbmltYXRvci1jb21wb25lbnQgdG8gZXhlY3V0ZSBkaWZmZXJlbnQga2luZCBvZiBhbmltYXRpb25zIGxpa2UgbW92ZSwgcm90YXRlLCBldGMuIG9uIGl0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbmltYXRvclxuICAgICAgICAqIEB0eXBlIHZuLkNvbXBvbmVudF9BbmltYXRvclxuICAgICAgICAjIyNcbiAgICAgICAgQGFuaW1hdG9yID0gbmV3IGdzLkNvbXBvbmVudF9BbmltYXRvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIHZpc3VhbC1jb21wb25lbnQgdG8gZGlzcGxheSB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXN1YWxcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfU3ByaXRlXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzdWFsID0gbmV3IGdzLkNvbXBvbmVudF9WaWV3cG9ydCh2aWV3cG9ydClcbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgQGFkZENvbXBvbmVudChAYW5pbWF0b3IpXG4gICAgICAgIFxuICAgICAgICAjQHVwZGF0ZSgpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIG9iamVjdCBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGNvbXBvbmVudHMgPSBAY29tcG9uZW50c1RvRGF0YUJ1bmRsZShncy5Db21wb25lbnRfQW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBkc3RSZWN0OiBAZHN0UmVjdCxcbiAgICAgICAgICAgIG9yaWdpbjogQG9yaWdpbixcbiAgICAgICAgICAgIHpJbmRleDogQHpJbmRleCxcbiAgICAgICAgICAgIG1vdGlvbkJsdXI6IEBtb3Rpb25CbHVyLFxuICAgICAgICAgICAgem9vbTogQHpvb20sXG4gICAgICAgICAgICBhbmdsZTogQGFuZ2xlLFxuICAgICAgICAgICAgYW5jaG9yOiBAYW5jaG9yLFxuICAgICAgICAgICAgb2Zmc2V0OiBAb2Zmc2V0LFxuICAgICAgICAgICAgdG9uZTogQHRvbmUsXG4gICAgICAgICAgICBpbWFnZTogQGltYWdlLFxuICAgICAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50c1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG5ncy5PYmplY3RfVmlld3BvcnQgPSBPYmplY3RfVmlld3BvcnQiXX0=
//# sourceURL=Object_Viewport_72.js
var Object_Layout,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Layout = (function(superClass) {
  extend(Object_Layout, superClass);


  /**
  * A layout object defines a new UI layout game scene. A UI layout scene
  * displays in-game UI and let the user interact with it. For example: The
  * title screen, the game menu, etc. 
  *
  * @module gs
  * @class Object_Layout
  * @extends gs.Object_Base
  * @memberof gs
  * @constructor
   */

  function Object_Layout(layoutName) {
    Object_Layout.__super__.constructor.call(this);

    /**
    * Indicates that the UI layout is still in prepare-state and not ready.
    * @property preparing
    * @type boolean
     */
    this.preparing = true;

    /**
    * The layout descriptor.
    * @property layoutData
    * @type Object
     */
    this.layoutName = layoutName;
    this.layoutData = ui.UiFactory.layouts[layoutName];

    /**
    * The behavior-component for the UI layour specific behavior.
    * @property behavior
    * @type gs.Component_LayoutSceneBehavior
     */
    this.behavior = new gs.Component_LayoutSceneBehavior();

    /**
    * Indicates if the UI layout is visible.
    * @property visible
    * @type boolean
     */
    this.visible = true;

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.Component_EventEmitter();
    this.addComponent(new gs.Component_InputHandler());
    this.addComponent(this.behavior);
  }

  return Object_Layout;

})(gs.Object_Base);

gs.Object_Layout = Object_Layout;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsYUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7Ozs7RUFXYSx1QkFBQyxVQUFEO0lBQ1QsNkNBQUE7O0FBR0E7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsVUFBRCxHQUFjO0lBQ2QsSUFBQyxDQUFBLFVBQUQsR0FBYyxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQVEsQ0FBQSxVQUFBOztBQUVuQzs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyw2QkFBSCxDQUFBOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsc0JBQUgsQ0FBQTtJQUVkLElBQUMsQ0FBQSxZQUFELENBQWtCLElBQUEsRUFBRSxDQUFDLHNCQUFILENBQUEsQ0FBbEI7SUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0VBekNTOzs7O0dBWlcsRUFBRSxDQUFDOztBQXdEL0IsRUFBRSxDQUFDLGFBQUgsR0FBbUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9MYXlvdXRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9MYXlvdXQgZXh0ZW5kcyBncy5PYmplY3RfQmFzZVxuICAgICMjIypcbiAgICAqIEEgbGF5b3V0IG9iamVjdCBkZWZpbmVzIGEgbmV3IFVJIGxheW91dCBnYW1lIHNjZW5lLiBBIFVJIGxheW91dCBzY2VuZVxuICAgICogZGlzcGxheXMgaW4tZ2FtZSBVSSBhbmQgbGV0IHRoZSB1c2VyIGludGVyYWN0IHdpdGggaXQuIEZvciBleGFtcGxlOiBUaGVcbiAgICAqIHRpdGxlIHNjcmVlbiwgdGhlIGdhbWUgbWVudSwgZXRjLiBcbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgT2JqZWN0X0xheW91dFxuICAgICogQGV4dGVuZHMgZ3MuT2JqZWN0X0Jhc2VcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChsYXlvdXROYW1lKSAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgICNzdXBlcihudWxsLCBudWxsLCBncy5TY2VuZU1hbmFnZXIpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIFVJIGxheW91dCBpcyBzdGlsbCBpbiBwcmVwYXJlLXN0YXRlIGFuZCBub3QgcmVhZHkuXG4gICAgICAgICogQHByb3BlcnR5IHByZXBhcmluZ1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBwcmVwYXJpbmcgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbGF5b3V0IGRlc2NyaXB0b3IuXG4gICAgICAgICogQHByb3BlcnR5IGxheW91dERhdGFcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBsYXlvdXROYW1lID0gbGF5b3V0TmFtZVxuICAgICAgICBAbGF5b3V0RGF0YSA9IHVpLlVpRmFjdG9yeS5sYXlvdXRzW2xheW91dE5hbWVdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGJlaGF2aW9yLWNvbXBvbmVudCBmb3IgdGhlIFVJIGxheW91ciBzcGVjaWZpYyBiZWhhdmlvci5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfTGF5b3V0U2NlbmVCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9MYXlvdXRTY2VuZUJlaGF2aW9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIFVJIGxheW91dCBpcyB2aXNpYmxlLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXNpYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc2libGUgPSB5ZXNcbiBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGV2ZW50LWVtaXR0ZXIgdG8gZW1pdCBldmVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuQ29tcG9uZW50X0V2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KG5ldyBncy5Db21wb25lbnRfSW5wdXRIYW5kbGVyKCkpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBcbiAgICAgICAgXG5ncy5PYmplY3RfTGF5b3V0ID0gT2JqZWN0X0xheW91dCJdfQ==
//# sourceURL=Object_Layout_79.js
var Object_Video,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Video = (function(superClass) {
  extend(Object_Video, superClass);

  Object_Video.objectCodecBlackList = ["parent"];


  /**
  * A game object used for custom texts in a scene.
  *
  * @module gs
  * @class Object_Video
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Video(data) {
    Object_Video.__super__.constructor.apply(this, arguments);

    /**
    * The object's source rectangle. It controls which part of the object's image is used
    * for visual presentation.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's mask to execute masking-effects on it.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * Indicates if the object's visual presentation should be mirrored horizontally.
    * @property mirror
    * @type boolean
     */
    this.mirror = false;

    /**
    * The name of the video resource used for the visual presentation.
    * @property video
    * @type string
     */
    this.video = "";

    /**
    * Indicates if the video should be looped. The default is <b>false</b>
    * @property loop
    * @type boolean
     */
    this.loop = false;

    /**
    * The rotation-angle of the picture in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The color tone of the object used for the visual presentation.
    * @property tone
    * @type gs.Tone
     */
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The color of the object used for the visual presentation.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();
    this.addComponent(this.visual);
    this.addComponent(this.animator);
    this.componentsFromDataBundle(data);
    this.update();
  }


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Video.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Animation);
    result = {
      components: components,
      visible: this.visible,
      dstRect: this.dstRect,
      srcRect: this.srcRect,
      opacity: this.opacity,
      origin: this.origin,
      zIndex: this.zIndex,
      mask: this.mask.toDataBundle(),
      motionBlur: this.motionBlur,
      zoom: this.zoom,
      angle: this.angle,
      anchor: this.anchor,
      offset: this.offset,
      mirror: this.mirror,
      video: this.video,
      loop: this.loop
    };
    return result;
  };

  return Object_Video;

})(gs.Object_Visual);

gs.Object_Video = Object_Video;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsWUFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2Esc0JBQUMsSUFBRDtJQUNULCtDQUFBLFNBQUE7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUE7O0FBRWY7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLEVBQUUsQ0FBQyxJQUFILENBQUE7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVE7O0FBRVI7Ozs7OztJQU1BLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLElBQUEsQ0FBSyxDQUFMLEVBQVEsQ0FBUixFQUFXLENBQVgsRUFBYyxDQUFkOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQWEsSUFBQSxLQUFBLENBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsRUFBcUIsQ0FBckI7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsa0JBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFBO0lBRWQsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWY7SUFDQSxJQUFDLENBQUEsd0JBQUQsQ0FBMEIsSUFBMUI7SUFDQSxJQUFDLENBQUEsTUFBRCxDQUFBO0VBOUVTOzs7QUFnRmI7Ozs7Ozs7eUJBTUEsWUFBQSxHQUFjLFNBQUE7QUFDVixRQUFBO0lBQUEsVUFBQSxHQUFhLElBQUMsQ0FBQSxzQkFBRCxDQUF3QixFQUFFLENBQUMsbUJBQTNCO0lBRWIsTUFBQSxHQUFTO01BQ0wsVUFBQSxFQUFZLFVBRFA7TUFFTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BRkw7TUFHTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BSEw7TUFJTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BSkw7TUFLTCxPQUFBLEVBQVMsSUFBQyxDQUFBLE9BTEw7TUFNTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BTko7TUFPTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BUEo7TUFRTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBQUksQ0FBQyxZQUFOLENBQUEsQ0FSRDtNQVNMLFVBQUEsRUFBWSxJQUFDLENBQUEsVUFUUjtNQVVMLElBQUEsRUFBTSxJQUFDLENBQUEsSUFWRjtNQVdMLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FYSDtNQVlMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFaSjtNQWFMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFiSjtNQWNMLE1BQUEsRUFBUSxJQUFDLENBQUEsTUFkSjtNQWVMLEtBQUEsRUFBTyxJQUFDLENBQUEsS0FmSDtNQWdCTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBaEJGOztBQW1CVCxXQUFPO0VBdEJHOzs7O0dBbEdTLEVBQUUsQ0FBQzs7QUEwSDlCLEVBQUUsQ0FBQyxZQUFILEdBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVmlkZW9cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9WaWRlbyBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IHVzZWQgZm9yIGN1c3RvbSB0ZXh0cyBpbiBhIHNjZW5lLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfVmlkZW9cbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlLiBJdCBjb250cm9scyB3aGljaCBwYXJ0IG9mIHRoZSBvYmplY3QncyBpbWFnZSBpcyB1c2VkXG4gICAgICAgICogZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IHNyY1JlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgbWFzayB0byBleGVjdXRlIG1hc2tpbmctZWZmZWN0cyBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgbWFza1xuICAgICAgICAqIEB0eXBlIGdzLk1hc2tcbiAgICAgICAgIyMjXG4gICAgICAgIEBtYXNrID0gbmV3IGdzLk1hc2soKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0J3MgdmlzdWFsIHByZXNlbnRhdGlvbiBzaG91bGQgYmUgbWlycm9yZWQgaG9yaXpvbnRhbGx5LlxuICAgICAgICAqIEBwcm9wZXJ0eSBtaXJyb3JcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAbWlycm9yID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdmlkZW8gcmVzb3VyY2UgdXNlZCBmb3IgdGhlIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IHZpZGVvXG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAdmlkZW8gPSBcIlwiXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSB2aWRlbyBzaG91bGQgYmUgbG9vcGVkLiBUaGUgZGVmYXVsdCBpcyA8Yj5mYWxzZTwvYj5cbiAgICAgICAgKiBAcHJvcGVydHkgbG9vcFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBsb29wID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcm90YXRpb24tYW5nbGUgb2YgdGhlIHBpY3R1cmUgaW4gZGVncmVlcy4gVGhlIHJvdGF0aW9uIGNlbnRlciBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAqIGFuY2hvci1wb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29sb3IgdG9uZSBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0b25lXG4gICAgICAgICogQHR5cGUgZ3MuVG9uZVxuICAgICAgICAjIyNcbiAgICAgICAgQHRvbmUgPSBuZXcgVG9uZSgwLCAwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjb2xvciBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb2xvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbG9yXG4gICAgICAgICMjI1xuICAgICAgICBAY29sb3IgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSwgMClcblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQ29tcG9uZW50X0FuaW1hdG9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1Nwcml0ZSgpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEB2aXN1YWwpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGFuaW1hdG9yKVxuICAgICAgICBAY29tcG9uZW50c0Zyb21EYXRhQnVuZGxlKGRhdGEpXG4gICAgICAgIEB1cGRhdGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBvYmplY3QgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICAgIFxuICAgIHRvRGF0YUJ1bmRsZTogLT5cbiAgICAgICAgY29tcG9uZW50cyA9IEBjb21wb25lbnRzVG9EYXRhQnVuZGxlKGdzLkNvbXBvbmVudF9BbmltYXRpb24pXG4gICAgICAgIFxuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICAgICAgdmlzaWJsZTogQHZpc2libGUsXG4gICAgICAgICAgICBkc3RSZWN0OiBAZHN0UmVjdCxcbiAgICAgICAgICAgIHNyY1JlY3Q6IEBzcmNSZWN0LFxuICAgICAgICAgICAgb3BhY2l0eTogQG9wYWNpdHksXG4gICAgICAgICAgICBvcmlnaW46IEBvcmlnaW4sXG4gICAgICAgICAgICB6SW5kZXg6IEB6SW5kZXgsXG4gICAgICAgICAgICBtYXNrOiBAbWFzay50b0RhdGFCdW5kbGUoKSxcbiAgICAgICAgICAgIG1vdGlvbkJsdXI6IEBtb3Rpb25CbHVyLFxuICAgICAgICAgICAgem9vbTogQHpvb20sXG4gICAgICAgICAgICBhbmdsZTogQGFuZ2xlLFxuICAgICAgICAgICAgYW5jaG9yOiBAYW5jaG9yLFxuICAgICAgICAgICAgb2Zmc2V0OiBAb2Zmc2V0LFxuICAgICAgICAgICAgbWlycm9yOiBAbWlycm9yLFxuICAgICAgICAgICAgdmlkZW86IEB2aWRlbyxcbiAgICAgICAgICAgIGxvb3A6IEBsb29wXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuZ3MuT2JqZWN0X1ZpZGVvID0gT2JqZWN0X1ZpZGVvIl19
//# sourceURL=Object_Video_88.js
var Object_Scene,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Scene = (function(superClass) {
  extend(Object_Scene, superClass);

  Object_Scene.accessors("visible", {
    set: function(v) {
      if (v !== this.visible_) {
        this.visible_ = v;
        this.needsUpdate = true;
        return this.fullRefresh();
      }
    },
    get: function() {
      return this.visible_ && (!this.parent || this.parent.visible);
    }
  });


  /**
  * A scene object manages a whole visual novel scene with backgrounds, characters,
  * messages, etc.
  *
  * @module vn
  * @class Object_Scene
  * @extends gs.Object_Base
  * @memberof vn
  * @constructor
   */

  function Object_Scene() {
    Object_Scene.__super__.constructor.call(this);

    /**
    * Indicates that the scene is still in prepare-state and not ready yet.
    * @property preparing
    * @type boolean
     */
    this.preparing = true;

    /**
    * The behavior-component for the VN scene specific behavior.
    * @property behavior
    * @type gs.Component_GameSceneBehavior
     */
    this.behavior = new vn.Component_GameSceneBehavior();

    /**
    * An interpreter to execute the commands of scene.
    * @property interpreter
    * @type gs.Component_CommandInterpreter
     */
    this.interpreter = new gs.Component_CommandInterpreter();

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.Component_EventEmitter();

    /**
    * Contains all background objects of the scene.
    * @property backgroundContainer
    * @type gs.Object_Container
     */
    this.backgroundContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);

    /**
    * Contains all character objects of the scene.
    * @property characterContainer
    * @type gs.Object_Container
     */
    this.characterContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.REMOVE);

    /**
    * Contains all picture objects of the scene.
    * @property pictureContainer
    * @type gs.Object_Container
     */
    this.pictureContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);

    /**
    * Contains all video objects of the scene.
    * @property videoContainer
    * @type gs.Object_Container
     */
    this.videoContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);

    /**
    * Contains all text objects of the scene.
    * @property textContainer
    * @type gs.Object_Container
     */
    this.textContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);

    /**
    * Contains all hotspot objects of the scene.
    * @property hotspotContainer
    * @type gs.Object_Container
     */
    this.hotspotContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);

    /**
    * Contains all common events which are running parallel/auto to the scene.
    * @property commonEventContainer
    * @type gs.Object_Container
     */
    this.commonEventContainer = new gs.Object_Container(gs.ContainerDisposeBehavior.NULL);
    this.characterContainer.visible = true;

    /**
    * All picture objects as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property pictures
    * @type gs.Object_Picture[]
    * @readOnly
     */
    this.pictures = this.pictureContainer.subObjects;

    /**
    * All video objects as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property videos
    * @type gs.Object_Video[]
    * @readOnly
     */
    this.videos = this.videoContainer.subObjects;

    /**
    * All text objects as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property texts
    * @type gs.Object_Text[]
    * @readOnly
     */
    this.texts = this.textContainer.subObjects;

    /**
    * All character objects as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property characters
    * @type gs.Object_Character[]
    * @readOnly
     */
    this.characters = this.characterContainer.subObjects;

    /**
    * All backgrounds as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property backgrounds
    * @type gs.Object_Background[]
    * @readOnly
     */
    this.backgrounds = this.backgroundContainer.subObjects;

    /**
    * All hotspot objects as array. That is the same like accessing the <b>subObjects</b> of the
    * container object.
    * @property hotspots
    * @type gs.Object_Hotspot[]
    * @readOnly
     */
    this.hotspots = this.hotspotContainer.subObjects;

    /**
    * All message areas as array.
    * @property messageAreas
    * @type vn.MessageArea[]
    * @readOnly
     */
    this.messageAreas = [];

    /**
    * A timer object used for choices with time-limit.
    * @property choiceTimer
    * @type gs.Object_Timer
     */
    this.choiceTimer = new gs.Object_Timer();

    /**
    * Indicates if the UI layout is visible.
    * @property visible
    * @type boolean
     */
    this.visible = true;

    /**
    * @property visible_
    * @type boolean
    * @protected
     */
    this.visible_ = true;

    /**
    * The game settings.
    * @property settings
    * @type Object
     */
    this.settings = GameManager.settings;

    /**
    * Temporary settings like skip, etc.
    * @property tempSettings
    * @type Object
     */
    this.tempSettings = GameManager.settings;

    /**
    * Contains all data necessary to construct the scene.
    * @property sceneData
    * @type Object
     */
    this.sceneData = GameManager.sceneData;
    this.addObject(this.backgroundContainer);
    this.addObject(this.characterContainer);
    this.addObject(this.pictureContainer);
    this.addObject(this.textContainer);
    this.addObject(this.videoContainer);
    this.addObject(this.hotspotContainer);
    this.addObject(this.commonEventContainer);
    this.addObject(this.choiceTimer);
    this.addComponent(new gs.Component_InputHandler());
    this.addComponent(this.behavior);
    this.addComponent(this.interpreter);
  }

  return Object_Scene;

})(gs.Object_Base);

vn.Object_Scene = Object_Scene;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7O0VBS0YsWUFBQyxDQUFBLFNBQUQsQ0FBVyxTQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBRyxDQUFBLEtBQUssSUFBQyxDQUFBLFFBQVQ7UUFDSSxJQUFDLENBQUEsUUFBRCxHQUFZO1FBQ1osSUFBQyxDQUFBLFdBQUQsR0FBZTtlQUNmLElBQUMsQ0FBQSxXQUFELENBQUEsRUFISjs7SUFEQyxDQUFMO0lBTUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsUUFBRCxJQUFjLENBQUMsQ0FBQyxJQUFDLENBQUEsTUFBRixJQUFZLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBckI7SUFBakIsQ0FOTDtHQURKOzs7QUFTQTs7Ozs7Ozs7Ozs7RUFVYSxzQkFBQTtJQUNULDRDQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsMkJBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBbUIsSUFBQSxFQUFFLENBQUMsNEJBQUgsQ0FBQTs7QUFFbkI7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxzQkFBSCxDQUFBOztBQUVkOzs7OztJQUtBLElBQUMsQ0FBQSxtQkFBRCxHQUEyQixJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFvQixFQUFFLENBQUMsd0JBQXdCLENBQUMsSUFBaEQ7O0FBRTNCOzs7OztJQUtBLElBQUMsQ0FBQSxrQkFBRCxHQUEwQixJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFvQixFQUFFLENBQUMsd0JBQXdCLENBQUMsTUFBaEQ7O0FBRTFCOzs7OztJQUtBLElBQUMsQ0FBQSxnQkFBRCxHQUF3QixJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFvQixFQUFFLENBQUMsd0JBQXdCLENBQUMsSUFBaEQ7O0FBRXhCOzs7OztJQUtBLElBQUMsQ0FBQSxjQUFELEdBQXNCLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQW9CLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFoRDs7QUFFdEI7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBcUIsSUFBQSxFQUFFLENBQUMsZ0JBQUgsQ0FBb0IsRUFBRSxDQUFDLHdCQUF3QixDQUFDLElBQWhEOztBQUVyQjs7Ozs7SUFLQSxJQUFDLENBQUEsZ0JBQUQsR0FBd0IsSUFBQSxFQUFFLENBQUMsZ0JBQUgsQ0FBb0IsRUFBRSxDQUFDLHdCQUF3QixDQUFDLElBQWhEOztBQUV4Qjs7Ozs7SUFLQSxJQUFDLENBQUEsb0JBQUQsR0FBNEIsSUFBQSxFQUFFLENBQUMsZ0JBQUgsQ0FBb0IsRUFBRSxDQUFDLHdCQUF3QixDQUFDLElBQWhEO0lBRTVCLElBQUMsQ0FBQSxrQkFBa0IsQ0FBQyxPQUFwQixHQUE4Qjs7QUFFOUI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsUUFBRCxHQUFZLElBQUMsQ0FBQSxnQkFBZ0IsQ0FBQzs7QUFFOUI7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsTUFBRCxHQUFVLElBQUMsQ0FBQSxjQUFjLENBQUM7O0FBRTFCOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxJQUFDLENBQUEsYUFBYSxDQUFDOztBQUV4Qjs7Ozs7OztJQU9BLElBQUMsQ0FBQSxVQUFELEdBQWMsSUFBQyxDQUFBLGtCQUFrQixDQUFDOztBQUVsQzs7Ozs7OztJQU9BLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBQyxDQUFBLG1CQUFtQixDQUFDOztBQUVwQzs7Ozs7OztJQU9BLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLGdCQUFnQixDQUFDOztBQUU5Qjs7Ozs7O0lBTUEsSUFBQyxDQUFBLFlBQUQsR0FBZ0I7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxXQUFELEdBQW1CLElBQUEsRUFBRSxDQUFDLFlBQUgsQ0FBQTs7QUFFbkI7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVksV0FBVyxDQUFDOztBQUV4Qjs7Ozs7SUFLQSxJQUFDLENBQUEsWUFBRCxHQUFnQixXQUFXLENBQUM7O0FBRTVCOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWEsV0FBVyxDQUFDO0lBRXpCLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBQyxDQUFBLG1CQUFaO0lBQ0EsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFDLENBQUEsa0JBQVo7SUFDQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUMsQ0FBQSxnQkFBWjtJQUNBLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBQyxDQUFBLGFBQVo7SUFDQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUMsQ0FBQSxjQUFaO0lBQ0EsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFDLENBQUEsZ0JBQVo7SUFDQSxJQUFDLENBQUEsU0FBRCxDQUFXLElBQUMsQ0FBQSxvQkFBWjtJQUNBLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBQyxDQUFBLFdBQVo7SUFFQSxJQUFDLENBQUEsWUFBRCxDQUFrQixJQUFBLEVBQUUsQ0FBQyxzQkFBSCxDQUFBLENBQWxCO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFdBQWY7RUFyTVM7Ozs7R0F4QlUsRUFBRSxDQUFDOztBQStOOUIsRUFBRSxDQUFDLFlBQUgsR0FBa0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9TY2VuZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1NjZW5lIGV4dGVuZHMgZ3MuT2JqZWN0X0Jhc2VcbiAgIyAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wicGFyZW50XCIsIFwic3ViT2JqZWN0c1wiLCBcInByZXBhcmluZ1wiLCBcImJlaGF2aW9yXCIsIFwiaW50ZXJwcmV0ZXJcIiwgXCJldmVudHNcIiwgXCJzY2VuZURhdGFcIixcbiAgIyAgXCJjaGFyYWN0ZXJDb250YWluZXJcIiwgXCJwaWN0dXJlQ29udGFpbmVyXCIsIFwidGV4dENvbnRhaW5lclwiLCBcInZpZGVvQ29udGFpbmVyXCIsIFwibWVzc2FnZUFyZWFzXCIsIFwiaG90c3BvdENvbnRhaW5lclwiLCBcImNvbW1vbkV2ZW50Q29udGFpbmVyXCIsXG4gICMgIFwicGljdHVyZXNcIiwgXCJ0ZXh0c1wiLCBcInZpZGVvc1wiLCBcIm1lc3NhZ2VBcmVhc1wiLCBcImhvdHNwb3RzXCIsIFwiY29tbW9uRXZlbnRzXCIsIFwibGF5b3V0XCIsIFwibGF5b3V0TlZMXCJdXG4gICAgXG4gICAgQGFjY2Vzc29ycyBcInZpc2libGVcIiwgXG4gICAgICAgIHNldDogKHYpIC0+IFxuICAgICAgICAgICAgaWYgdiAhPSBAdmlzaWJsZV9cbiAgICAgICAgICAgICAgICBAdmlzaWJsZV8gPSB2XG4gICAgICAgICAgICAgICAgQG5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgICAgICAgICAgQGZ1bGxSZWZyZXNoKClcbiAgICAgICAgICAgIFxuICAgICAgICBnZXQ6IC0+IEB2aXNpYmxlXyBhbmQgKCFAcGFyZW50IG9yIEBwYXJlbnQudmlzaWJsZSlcbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIHNjZW5lIG9iamVjdCBtYW5hZ2VzIGEgd2hvbGUgdmlzdWFsIG5vdmVsIHNjZW5lIHdpdGggYmFja2dyb3VuZHMsIGNoYXJhY3RlcnMsXG4gICAgKiBtZXNzYWdlcywgZXRjLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdm5cbiAgICAqIEBjbGFzcyBPYmplY3RfU2NlbmVcbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgKiBAbWVtYmVyb2Ygdm5cbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjIyAgICBcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBzY2VuZSBpcyBzdGlsbCBpbiBwcmVwYXJlLXN0YXRlIGFuZCBub3QgcmVhZHkgeWV0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBwcmVwYXJpbmdcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAcHJlcGFyaW5nID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGJlaGF2aW9yLWNvbXBvbmVudCBmb3IgdGhlIFZOIHNjZW5lIHNwZWNpZmljIGJlaGF2aW9yLlxuICAgICAgICAqIEBwcm9wZXJ0eSBiZWhhdmlvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9HYW1lU2NlbmVCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IHZuLkNvbXBvbmVudF9HYW1lU2NlbmVCZWhhdmlvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gaW50ZXJwcmV0ZXIgdG8gZXhlY3V0ZSB0aGUgY29tbWFuZHMgb2Ygc2NlbmUuXG4gICAgICAgICogQHByb3BlcnR5IGludGVycHJldGVyXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0NvbW1hbmRJbnRlcnByZXRlclxuICAgICAgICAjIyNcbiAgICAgICAgQGludGVycHJldGVyID0gbmV3IGdzLkNvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXIoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGV2ZW50LWVtaXR0ZXIgdG8gZW1pdCBldmVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuQ29tcG9uZW50X0V2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ29udGFpbnMgYWxsIGJhY2tncm91bmQgb2JqZWN0cyBvZiB0aGUgc2NlbmUuXG4gICAgICAgICogQHByb3BlcnR5IGJhY2tncm91bmRDb250YWluZXJcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQ29udGFpbmVyXG4gICAgICAgICMjI1xuICAgICAgICBAYmFja2dyb3VuZENvbnRhaW5lciA9IG5ldyBncy5PYmplY3RfQ29udGFpbmVyKGdzLkNvbnRhaW5lckRpc3Bvc2VCZWhhdmlvci5OVUxMKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbnRhaW5zIGFsbCBjaGFyYWN0ZXIgb2JqZWN0cyBvZiB0aGUgc2NlbmUuXG4gICAgICAgICogQHByb3BlcnR5IGNoYXJhY3RlckNvbnRhaW5lclxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9Db250YWluZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBjaGFyYWN0ZXJDb250YWluZXIgPSBuZXcgZ3MuT2JqZWN0X0NvbnRhaW5lcihncy5Db250YWluZXJEaXNwb3NlQmVoYXZpb3IuUkVNT1ZFKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbnRhaW5zIGFsbCBwaWN0dXJlIG9iamVjdHMgb2YgdGhlIHNjZW5lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBwaWN0dXJlQ29udGFpbmVyXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0NvbnRhaW5lclxuICAgICAgICAjIyNcbiAgICAgICAgQHBpY3R1cmVDb250YWluZXIgPSBuZXcgZ3MuT2JqZWN0X0NvbnRhaW5lcihncy5Db250YWluZXJEaXNwb3NlQmVoYXZpb3IuTlVMTClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBhbGwgdmlkZW8gb2JqZWN0cyBvZiB0aGUgc2NlbmUuXG4gICAgICAgICogQHByb3BlcnR5IHZpZGVvQ29udGFpbmVyXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0NvbnRhaW5lclxuICAgICAgICAjIyNcbiAgICAgICAgQHZpZGVvQ29udGFpbmVyID0gbmV3IGdzLk9iamVjdF9Db250YWluZXIoZ3MuQ29udGFpbmVyRGlzcG9zZUJlaGF2aW9yLk5VTEwpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ29udGFpbnMgYWxsIHRleHQgb2JqZWN0cyBvZiB0aGUgc2NlbmUuXG4gICAgICAgICogQHByb3BlcnR5IHRleHRDb250YWluZXJcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQ29udGFpbmVyXG4gICAgICAgICMjI1xuICAgICAgICBAdGV4dENvbnRhaW5lciA9IG5ldyBncy5PYmplY3RfQ29udGFpbmVyKGdzLkNvbnRhaW5lckRpc3Bvc2VCZWhhdmlvci5OVUxMKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbnRhaW5zIGFsbCBob3RzcG90IG9iamVjdHMgb2YgdGhlIHNjZW5lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBob3RzcG90Q29udGFpbmVyXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X0NvbnRhaW5lclxuICAgICAgICAjIyNcbiAgICAgICAgQGhvdHNwb3RDb250YWluZXIgPSBuZXcgZ3MuT2JqZWN0X0NvbnRhaW5lcihncy5Db250YWluZXJEaXNwb3NlQmVoYXZpb3IuTlVMTClcbiBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIENvbnRhaW5zIGFsbCBjb21tb24gZXZlbnRzIHdoaWNoIGFyZSBydW5uaW5nIHBhcmFsbGVsL2F1dG8gdG8gdGhlIHNjZW5lLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb21tb25FdmVudENvbnRhaW5lclxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9Db250YWluZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb21tb25FdmVudENvbnRhaW5lciA9IG5ldyBncy5PYmplY3RfQ29udGFpbmVyKGdzLkNvbnRhaW5lckRpc3Bvc2VCZWhhdmlvci5OVUxMKVxuICAgICAgICBcbiAgICAgICAgQGNoYXJhY3RlckNvbnRhaW5lci52aXNpYmxlID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQWxsIHBpY3R1cmUgb2JqZWN0cyBhcyBhcnJheS4gVGhhdCBpcyB0aGUgc2FtZSBsaWtlIGFjY2Vzc2luZyB0aGUgPGI+c3ViT2JqZWN0czwvYj4gb2YgdGhlXG4gICAgICAgICogY29udGFpbmVyIG9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgcGljdHVyZXNcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfUGljdHVyZVtdXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAcGljdHVyZXMgPSBAcGljdHVyZUNvbnRhaW5lci5zdWJPYmplY3RzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQWxsIHZpZGVvIG9iamVjdHMgYXMgYXJyYXkuIFRoYXQgaXMgdGhlIHNhbWUgbGlrZSBhY2Nlc3NpbmcgdGhlIDxiPnN1Yk9iamVjdHM8L2I+IG9mIHRoZVxuICAgICAgICAqIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICAgICogQHByb3BlcnR5IHZpZGVvc1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9WaWRlb1tdXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICMjI1xuICAgICAgICBAdmlkZW9zID0gQHZpZGVvQ29udGFpbmVyLnN1Yk9iamVjdHNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbGwgdGV4dCBvYmplY3RzIGFzIGFycmF5LiBUaGF0IGlzIHRoZSBzYW1lIGxpa2UgYWNjZXNzaW5nIHRoZSA8Yj5zdWJPYmplY3RzPC9iPiBvZiB0aGVcbiAgICAgICAgKiBjb250YWluZXIgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSB0ZXh0c1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9UZXh0W11cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZXh0cyA9IEB0ZXh0Q29udGFpbmVyLnN1Yk9iamVjdHNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbGwgY2hhcmFjdGVyIG9iamVjdHMgYXMgYXJyYXkuIFRoYXQgaXMgdGhlIHNhbWUgbGlrZSBhY2Nlc3NpbmcgdGhlIDxiPnN1Yk9iamVjdHM8L2I+IG9mIHRoZVxuICAgICAgICAqIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICAgICogQHByb3BlcnR5IGNoYXJhY3RlcnNcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfQ2hhcmFjdGVyW11cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBjaGFyYWN0ZXJzID0gQGNoYXJhY3RlckNvbnRhaW5lci5zdWJPYmplY3RzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQWxsIGJhY2tncm91bmRzIGFzIGFycmF5LiBUaGF0IGlzIHRoZSBzYW1lIGxpa2UgYWNjZXNzaW5nIHRoZSA8Yj5zdWJPYmplY3RzPC9iPiBvZiB0aGVcbiAgICAgICAgKiBjb250YWluZXIgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBiYWNrZ3JvdW5kc1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9CYWNrZ3JvdW5kW11cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBiYWNrZ3JvdW5kcyA9IEBiYWNrZ3JvdW5kQ29udGFpbmVyLnN1Yk9iamVjdHNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbGwgaG90c3BvdCBvYmplY3RzIGFzIGFycmF5LiBUaGF0IGlzIHRoZSBzYW1lIGxpa2UgYWNjZXNzaW5nIHRoZSA8Yj5zdWJPYmplY3RzPC9iPiBvZiB0aGVcbiAgICAgICAgKiBjb250YWluZXIgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBob3RzcG90c1xuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9Ib3RzcG90W11cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgIyMjXG4gICAgICAgIEBob3RzcG90cyA9IEBob3RzcG90Q29udGFpbmVyLnN1Yk9iamVjdHNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbGwgbWVzc2FnZSBhcmVhcyBhcyBhcnJheS5cbiAgICAgICAgKiBAcHJvcGVydHkgbWVzc2FnZUFyZWFzXG4gICAgICAgICogQHR5cGUgdm4uTWVzc2FnZUFyZWFbXVxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAjIyNcbiAgICAgICAgQG1lc3NhZ2VBcmVhcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQSB0aW1lciBvYmplY3QgdXNlZCBmb3IgY2hvaWNlcyB3aXRoIHRpbWUtbGltaXQuXG4gICAgICAgICogQHByb3BlcnR5IGNob2ljZVRpbWVyXG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X1RpbWVyXG4gICAgICAgICMjI1xuICAgICAgICBAY2hvaWNlVGltZXIgPSBuZXcgZ3MuT2JqZWN0X1RpbWVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIFVJIGxheW91dCBpcyB2aXNpYmxlLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXNpYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc2libGUgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgdmlzaWJsZV9cbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc2libGVfID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGdhbWUgc2V0dGluZ3MuXG4gICAgICAgICogQHByb3BlcnR5IHNldHRpbmdzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc2V0dGluZ3MgPSBHYW1lTWFuYWdlci5zZXR0aW5nc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRlbXBvcmFyeSBzZXR0aW5ncyBsaWtlIHNraXAsIGV0Yy5cbiAgICAgICAgKiBAcHJvcGVydHkgdGVtcFNldHRpbmdzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAdGVtcFNldHRpbmdzID0gR2FtZU1hbmFnZXIuc2V0dGluZ3NcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBDb250YWlucyBhbGwgZGF0YSBuZWNlc3NhcnkgdG8gY29uc3RydWN0IHRoZSBzY2VuZS5cbiAgICAgICAgKiBAcHJvcGVydHkgc2NlbmVEYXRhXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc2NlbmVEYXRhID0gR2FtZU1hbmFnZXIuc2NlbmVEYXRhXG4gICAgICAgIFxuICAgICAgICBAYWRkT2JqZWN0KEBiYWNrZ3JvdW5kQ29udGFpbmVyKVxuICAgICAgICBAYWRkT2JqZWN0KEBjaGFyYWN0ZXJDb250YWluZXIpXG4gICAgICAgIEBhZGRPYmplY3QoQHBpY3R1cmVDb250YWluZXIpXG4gICAgICAgIEBhZGRPYmplY3QoQHRleHRDb250YWluZXIpXG4gICAgICAgIEBhZGRPYmplY3QoQHZpZGVvQ29udGFpbmVyKVxuICAgICAgICBAYWRkT2JqZWN0KEBob3RzcG90Q29udGFpbmVyKVxuICAgICAgICBAYWRkT2JqZWN0KEBjb21tb25FdmVudENvbnRhaW5lcilcbiAgICAgICAgQGFkZE9iamVjdChAY2hvaWNlVGltZXIpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KG5ldyBncy5Db21wb25lbnRfSW5wdXRIYW5kbGVyKCkpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBpbnRlcnByZXRlcilcbiAgICAgICAgXG52bi5PYmplY3RfU2NlbmUgPSBPYmplY3RfU2NlbmUiXX0=
//# sourceURL=Object_Scene_106.js
var Object_Live2DCharacter,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Live2DCharacter = (function(superClass) {
  extend(Object_Live2DCharacter, superClass);

  Object_Live2DCharacter.objectCodecBlackList = ["parent"];


  /**
  * A game object for an animated Live2D visual novel character. 
  *
  * @module gs
  * @class Object_Live2DCharacter
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Live2DCharacter(record, data) {
    Object_Live2DCharacter.__super__.constructor.call(this, data);
    this.zIndex = 200;

    /**
    * The ID of the character-record used.
    * @property rid
    * @type number
     */
    this.rid = (data != null ? data.id : void 0) || (record != null ? record.index : void 0) || -1;

    /**
    * The rotation-angle of the character in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The Live2D model used for the visual presentation.
    * @property model
    * @type gs.Live2DModel
     */
    this.model = data != null ? ResourceManager.getLive2DModel("Live2D/" + data.modelName) : null;

    /**
    * The resource name of a Live2D model used for the visual presentation.
    * @property modelName
    * @type string
     */
    this.modelName = data != null ? data.modelName : void 0;

    /**
    * The Live2D motion.
    * @property motion
    * @type gs.Live2DMotion
     */
    this.motion = (data != null ? data.motion : void 0) || {
      name: "",
      loop: true

      /**
      * The Live2D motion group.
      * @property motion
      * @type gs.Live2DMotionGroup
       */
    };
    this.motionGroup = data != null ? data.motionGroup : void 0;

    /**
    * The Live2D expression.
    * @property expression
    * @type gs.Live2DExpression
     */
    this.expression = (data != null ? data.expression : void 0) || {
      name: ""

      /**
      * The character's behavior component which contains the character-specific logic.
      * @property behavior
      * @type vn.Component_CharacterBehavior
       */
    };
    this.behavior = new vn.Component_CharacterBehavior();
    this.logic = this.behavior;

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Live2D();
    this.visual.modelFolder = "Live2D";
    this.addComponent(this.logic);
    this.addComponent(this.visual);
    this.addComponent(this.animator);
    this.update();
  }


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Live2DCharacter.prototype.toDataBundle = function() {
    return {
      rid: this.rid,
      x: this.dstRect.x,
      y: this.dstRect.y,
      opacity: this.opacity,
      offset: this.offset,
      zoom: this.zoom,
      origin: this.origin,
      mirror: this.mirror,
      expression: this.expression,
      modelName: this.modelName,
      motion: this.motion,
      motionGroup: this.motionGroup,
      expression: this.expression
    };
  };

  return Object_Live2DCharacter;

})(gs.Object_Visual);

vn.Object_Live2DCharacter = Object_Live2DCharacter;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsc0JBQUE7RUFBQTs7O0FBQU07OztFQUNGLHNCQUFDLENBQUEsb0JBQUQsR0FBd0IsQ0FBQyxRQUFEOzs7QUFFeEI7Ozs7Ozs7Ozs7RUFTYSxnQ0FBQyxNQUFELEVBQVMsSUFBVDtJQUNULHdEQUFNLElBQU47SUFDQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxHQUFELG1CQUFPLElBQUksQ0FBRSxZQUFOLHNCQUFZLE1BQU0sQ0FBRSxlQUFwQixJQUE2QixDQUFDOztBQUVyQzs7Ozs7O0lBTUEsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFZLFlBQUgsR0FBYyxlQUFlLENBQUMsY0FBaEIsQ0FBK0IsU0FBQSxHQUFVLElBQUksQ0FBQyxTQUE5QyxDQUFkLEdBQThFOztBQUV2Rjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxrQkFBYSxJQUFJLENBQUU7O0FBRW5COzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELG1CQUFVLElBQUksQ0FBRSxnQkFBTixJQUFnQjtNQUFBLElBQUEsRUFBTSxFQUFOO01BQVUsSUFBQSxFQUFNOztBQUUxQzs7OztTQUYwQjs7SUFPMUIsSUFBQyxDQUFBLFdBQUQsa0JBQWUsSUFBSSxDQUFFOztBQUVyQjs7Ozs7SUFLQSxJQUFDLENBQUEsVUFBRCxtQkFBYyxJQUFJLENBQUUsb0JBQU4sSUFBb0I7TUFBQSxJQUFBLEVBQU07O0FBRXhDOzs7O1NBRmtDOztJQU9sQyxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQywyQkFBSCxDQUFBO0lBQ2hCLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsZ0JBQUgsQ0FBQTtJQUNkLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQjtJQUV0QixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxLQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWY7SUFFQSxJQUFDLENBQUEsTUFBRCxDQUFBO0VBakZTOzs7QUFvRmI7Ozs7Ozs7bUNBTUEsWUFBQSxHQUFjLFNBQUE7V0FDVjtNQUFBLEdBQUEsRUFBSyxJQUFDLENBQUEsR0FBTjtNQUNBLENBQUEsRUFBRyxJQUFDLENBQUEsT0FBTyxDQUFDLENBRFo7TUFFQSxDQUFBLEVBQUcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxDQUZaO01BR0EsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUhWO01BSUEsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUpUO01BS0EsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUxQO01BTUEsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQU5UO01BT0EsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVBUO01BUUEsVUFBQSxFQUFZLElBQUMsQ0FBQSxVQVJiO01BU0EsU0FBQSxFQUFXLElBQUMsQ0FBQSxTQVRaO01BVUEsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVZUO01BV0EsV0FBQSxFQUFhLElBQUMsQ0FBQSxXQVhkO01BWUEsVUFBQSxFQUFZLElBQUMsQ0FBQSxVQVpiOztFQURVOzs7O0dBdEdtQixFQUFFLENBQUM7O0FBdUh4QyxFQUFFLENBQUMsc0JBQUgsR0FBNEIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9MaXZlMkRDaGFyYWN0ZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9MaXZlMkRDaGFyYWN0ZXIgZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wicGFyZW50XCJdXG4gICAgXG4gICAgIyMjKlxuICAgICogQSBnYW1lIG9iamVjdCBmb3IgYW4gYW5pbWF0ZWQgTGl2ZTJEIHZpc3VhbCBub3ZlbCBjaGFyYWN0ZXIuIFxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfTGl2ZTJEQ2hhcmFjdGVyXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfVmlzdWFsXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAocmVjb3JkLCBkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBAekluZGV4ID0gMjAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIElEIG9mIHRoZSBjaGFyYWN0ZXItcmVjb3JkIHVzZWQuXG4gICAgICAgICogQHByb3BlcnR5IHJpZFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHJpZCA9IGRhdGE/LmlkIHx8IHJlY29yZD8uaW5kZXggfHwgLTFcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcm90YXRpb24tYW5nbGUgb2YgdGhlIGNoYXJhY3RlciBpbiBkZWdyZWVzLiBUaGUgcm90YXRpb24gY2VudGVyIGRlcGVuZHMgb24gdGhlXG4gICAgICAgICogYW5jaG9yLXBvaW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbmdsZVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGFuZ2xlID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBMaXZlMkQgbW9kZWwgdXNlZCBmb3IgdGhlIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IG1vZGVsXG4gICAgICAgICogQHR5cGUgZ3MuTGl2ZTJETW9kZWxcbiAgICAgICAgIyMjXG4gICAgICAgIEBtb2RlbCA9IGlmIGRhdGE/IHRoZW4gUmVzb3VyY2VNYW5hZ2VyLmdldExpdmUyRE1vZGVsKFwiTGl2ZTJELyN7ZGF0YS5tb2RlbE5hbWV9XCIpIGVsc2UgbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSByZXNvdXJjZSBuYW1lIG9mIGEgTGl2ZTJEIG1vZGVsIHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtb2RlbE5hbWVcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBtb2RlbE5hbWUgPSBkYXRhPy5tb2RlbE5hbWVcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgTGl2ZTJEIG1vdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgbW90aW9uXG4gICAgICAgICogQHR5cGUgZ3MuTGl2ZTJETW90aW9uXG4gICAgICAgICMjI1xuICAgICAgICBAbW90aW9uID0gZGF0YT8ubW90aW9uIHx8IG5hbWU6IFwiXCIsIGxvb3A6IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBMaXZlMkQgbW90aW9uIGdyb3VwLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtb3Rpb25cbiAgICAgICAgKiBAdHlwZSBncy5MaXZlMkRNb3Rpb25Hcm91cFxuICAgICAgICAjIyNcbiAgICAgICAgQG1vdGlvbkdyb3VwID0gZGF0YT8ubW90aW9uR3JvdXBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgTGl2ZTJEIGV4cHJlc3Npb24uXG4gICAgICAgICogQHByb3BlcnR5IGV4cHJlc3Npb25cbiAgICAgICAgKiBAdHlwZSBncy5MaXZlMkRFeHByZXNzaW9uXG4gICAgICAgICMjI1xuICAgICAgICBAZXhwcmVzc2lvbiA9IGRhdGE/LmV4cHJlc3Npb24gfHwgbmFtZTogXCJcIiAjUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJFeHByZXNzaW9uc1tkYXRhPy5leHByZXNzaW9uSWQgfHwgMF1cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY2hhcmFjdGVyJ3MgYmVoYXZpb3IgY29tcG9uZW50IHdoaWNoIGNvbnRhaW5zIHRoZSBjaGFyYWN0ZXItc3BlY2lmaWMgbG9naWMuXG4gICAgICAgICogQHByb3BlcnR5IGJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0NoYXJhY3RlckJlaGF2aW9yXG4gICAgICAgICMjI1xuICAgICAgICBAYmVoYXZpb3IgPSBuZXcgdm4uQ29tcG9uZW50X0NoYXJhY3RlckJlaGF2aW9yKClcbiAgICAgICAgQGxvZ2ljID0gQGJlaGF2aW9yXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQ29tcG9uZW50X0FuaW1hdG9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X0xpdmUyRCgpXG4gICAgICAgIEB2aXN1YWwubW9kZWxGb2xkZXIgPSBcIkxpdmUyRFwiXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEBsb2dpYylcbiAgICAgICAgQGFkZENvbXBvbmVudChAdmlzdWFsKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgXG4gICAgICAgIEB1cGRhdGUoKVxuICAgICAgICBcbiAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIG9iamVjdCBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+IFxuICAgICAgICByaWQ6IEByaWQsIFxuICAgICAgICB4OiBAZHN0UmVjdC54LCBcbiAgICAgICAgeTogQGRzdFJlY3QueSwgXG4gICAgICAgIG9wYWNpdHk6IEBvcGFjaXR5LFxuICAgICAgICBvZmZzZXQ6IEBvZmZzZXQsXG4gICAgICAgIHpvb206IEB6b29tLFxuICAgICAgICBvcmlnaW46IEBvcmlnaW4sXG4gICAgICAgIG1pcnJvcjogQG1pcnJvciwgXG4gICAgICAgIGV4cHJlc3Npb246IEBleHByZXNzaW9uLCBcbiAgICAgICAgbW9kZWxOYW1lOiBAbW9kZWxOYW1lLFxuICAgICAgICBtb3Rpb246IEBtb3Rpb24sXG4gICAgICAgIG1vdGlvbkdyb3VwOiBAbW90aW9uR3JvdXAsXG4gICAgICAgIGV4cHJlc3Npb246IEBleHByZXNzaW9uXG4gICAgICAgIFxuICAgICAgICBcblxudm4uT2JqZWN0X0xpdmUyRENoYXJhY3RlciA9IE9iamVjdF9MaXZlMkRDaGFyYWN0ZXIiXX0=
//# sourceURL=Object_Live2DCharacter_108.js
var Object_CommonEvent,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_CommonEvent = (function(superClass) {
  extend(Object_CommonEvent, superClass);

  Object_CommonEvent.objectCodecBlackList = ["record", "commands", "parent"];


  /**
  * Called if this object instance is restored from a data-bundle. It can be used
  * re-assign event-handler, anonymous functions, etc.
  * 
  * @method onDataBundleRestore.
  * @param Object data - The data-bundle
  * @param gs.ObjectCodecContext context - The codec-context.
   */

  Object_CommonEvent.prototype.onDataBundleRestore = function(data, context) {
    var ref;
    if (this.rid != null) {
      this.record = RecordManager.commonEvents[this.rid];
      if ((ref = this.interpreter) != null) {
        ref.object = this;
      }
      return this.commands = this.record.commands;
    }
  };


  /**
  * A common-event object handles a single common event defined in the
  * database. Common events can run parallel to the actual scene content
  * or can be just called from a scene to execute a common piece of logic.
  *
  * @module gs
  * @class Object_CommonEvent
  * @extends gs.Object_Base
  * @memberof gs
  * @constructor
   */

  function Object_CommonEvent(data) {
    Object_CommonEvent.__super__.constructor.call(this);

    /**
    * The common event database record.
    * @property record
    * @type Object
     */
    this.record = null;

    /**
    * The behavior component to add common-event specific behavior to the object.
    * @property behavior
    * @type gs.Component_CommonEventBehavior
     */
    this.behavior = new gs.Component_CommonEventBehavior();

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.Component_EventEmitter();

    /**
    * An interpreter to execute the commands of the common event.
    * @property interpreter
    * @type gs.Component_CommandInterpreter
     */
    this.interpreter = null;
    this.events.object = this;
    if (data) {
      this.restore(data);
    } else {
      this.addComponent(this.behavior);
    }
  }


  /**
  * Serializes the common-event into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_CommonEvent.prototype.toDataBundle = function() {
    var ref;
    this.commands = this.record.commands;
    return {
      behavior: this.behavior.toDataBundle(),
      interpreter: (ref = this.interpreter) != null ? ref.toDataBundle() : void 0,
      recordId: this.record.index
    };
  };


  /**
  * Restores the common-event from a data-bundle
  *
  * @method restore
  * @param {Object} bundle- The data-bundle.
   */

  Object_CommonEvent.prototype.restore = function(data) {
    if (this.behavior != null) {
      this.removeComponent(this.behavior);
    }
    this.behavior = new gs.Component_CommonEventBehavior();
    this.addComponent(this.behavior);
    this.record = RecordManager.commonEvents[data.recordId];
    this.behavior.restore(data.behavior);
    if (data.interpreter && this.interpreter) {
      this.interpreter.restore(data.interpreter);
      this.interpreter.context.set(this.record.id, this.record);
      return this.commands = this.record.commands;
    }
  };

  return Object_CommonEvent;

})(gs.Object_Base);

gs.Object_CommonEvent = Object_CommonEvent;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07OztFQUNGLGtCQUFDLENBQUEsb0JBQUQsR0FBd0IsQ0FBQyxRQUFELEVBQVcsVUFBWCxFQUF1QixRQUF2Qjs7O0FBRXhCOzs7Ozs7Ozs7K0JBUUEsbUJBQUEsR0FBcUIsU0FBQyxJQUFELEVBQU8sT0FBUDtBQUNqQixRQUFBO0lBQUEsSUFBRyxnQkFBSDtNQUNJLElBQUMsQ0FBQSxNQUFELEdBQVUsYUFBYSxDQUFDLFlBQWEsQ0FBQSxJQUFDLENBQUEsR0FBRDs7V0FDekIsQ0FBRSxNQUFkLEdBQXVCOzthQUN2QixJQUFDLENBQUEsUUFBRCxHQUFZLElBQUMsQ0FBQSxNQUFNLENBQUMsU0FIeEI7O0VBRGlCOzs7QUFPckI7Ozs7Ozs7Ozs7OztFQVdhLDRCQUFDLElBQUQ7SUFDVCxrREFBQTs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLDZCQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsc0JBQUgsQ0FBQTs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsV0FBRCxHQUFlO0lBRWYsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCO0lBRWpCLElBQUcsSUFBSDtNQUNJLElBQUMsQ0FBQSxPQUFELENBQVMsSUFBVCxFQURKO0tBQUEsTUFBQTtNQUdJLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWYsRUFISjs7RUFqQ1M7OztBQXNDYjs7Ozs7OzsrQkFNQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFFBQUE7SUFBQSxJQUFDLENBQUEsUUFBRCxHQUFZLElBQUMsQ0FBQSxNQUFNLENBQUM7QUFDcEIsV0FBTztNQUNILFFBQUEsRUFBVSxJQUFDLENBQUEsUUFBUSxDQUFDLFlBQVYsQ0FBQSxDQURQO01BRUgsV0FBQSx3Q0FBeUIsQ0FBRSxZQUFkLENBQUEsVUFGVjtNQUdILFFBQUEsRUFBVSxJQUFDLENBQUEsTUFBTSxDQUFDLEtBSGY7O0VBRkc7OztBQVFkOzs7Ozs7OytCQU1BLE9BQUEsR0FBUyxTQUFDLElBQUQ7SUFDTCxJQUFHLHFCQUFIO01BQ0ksSUFBQyxDQUFBLGVBQUQsQ0FBaUIsSUFBQyxDQUFBLFFBQWxCLEVBREo7O0lBR0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsNkJBQUgsQ0FBQTtJQUNoQixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0lBQ0EsSUFBQyxDQUFBLE1BQUQsR0FBVSxhQUFhLENBQUMsWUFBYSxDQUFBLElBQUksQ0FBQyxRQUFMO0lBRXJDLElBQUMsQ0FBQSxRQUFRLENBQUMsT0FBVixDQUFrQixJQUFJLENBQUMsUUFBdkI7SUFDQSxJQUFHLElBQUksQ0FBQyxXQUFMLElBQXFCLElBQUMsQ0FBQSxXQUF6QjtNQUNJLElBQUMsQ0FBQSxXQUFXLENBQUMsT0FBYixDQUFxQixJQUFJLENBQUMsV0FBMUI7TUFDQSxJQUFDLENBQUEsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFyQixDQUF5QixJQUFDLENBQUEsTUFBTSxDQUFDLEVBQWpDLEVBQXFDLElBQUMsQ0FBQSxNQUF0QzthQUNBLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBQyxDQUFBLE1BQU0sQ0FBQyxTQUh4Qjs7RUFUSzs7OztHQXZGb0IsRUFBRSxDQUFDOztBQXlHcEMsRUFBRSxDQUFDLGtCQUFILEdBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfQ29tbW9uRXZlbnRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9Db21tb25FdmVudCBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wicmVjb3JkXCIsIFwiY29tbWFuZHNcIiwgXCJwYXJlbnRcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBDYWxsZWQgaWYgdGhpcyBvYmplY3QgaW5zdGFuY2UgaXMgcmVzdG9yZWQgZnJvbSBhIGRhdGEtYnVuZGxlLiBJdCBjYW4gYmUgdXNlZFxuICAgICogcmUtYXNzaWduIGV2ZW50LWhhbmRsZXIsIGFub255bW91cyBmdW5jdGlvbnMsIGV0Yy5cbiAgICAqIFxuICAgICogQG1ldGhvZCBvbkRhdGFCdW5kbGVSZXN0b3JlLlxuICAgICogQHBhcmFtIE9iamVjdCBkYXRhIC0gVGhlIGRhdGEtYnVuZGxlXG4gICAgKiBAcGFyYW0gZ3MuT2JqZWN0Q29kZWNDb250ZXh0IGNvbnRleHQgLSBUaGUgY29kZWMtY29udGV4dC5cbiAgICAjIyNcbiAgICBvbkRhdGFCdW5kbGVSZXN0b3JlOiAoZGF0YSwgY29udGV4dCkgLT5cbiAgICAgICAgaWYgQHJpZD9cbiAgICAgICAgICAgIEByZWNvcmQgPSBSZWNvcmRNYW5hZ2VyLmNvbW1vbkV2ZW50c1tAcmlkXVxuICAgICAgICAgICAgQGludGVycHJldGVyPy5vYmplY3QgPSB0aGlzXG4gICAgICAgICAgICBAY29tbWFuZHMgPSBAcmVjb3JkLmNvbW1hbmRzXG5cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQSBjb21tb24tZXZlbnQgb2JqZWN0IGhhbmRsZXMgYSBzaW5nbGUgY29tbW9uIGV2ZW50IGRlZmluZWQgaW4gdGhlXG4gICAgKiBkYXRhYmFzZS4gQ29tbW9uIGV2ZW50cyBjYW4gcnVuIHBhcmFsbGVsIHRvIHRoZSBhY3R1YWwgc2NlbmUgY29udGVudFxuICAgICogb3IgY2FuIGJlIGp1c3QgY2FsbGVkIGZyb20gYSBzY2VuZSB0byBleGVjdXRlIGEgY29tbW9uIHBpZWNlIG9mIGxvZ2ljLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfQ29tbW9uRXZlbnRcbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZGF0YSkgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjb21tb24gZXZlbnQgZGF0YWJhc2UgcmVjb3JkLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZWNvcmRcbiAgICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEByZWNvcmQgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGJlaGF2aW9yIGNvbXBvbmVudCB0byBhZGQgY29tbW9uLWV2ZW50IHNwZWNpZmljIGJlaGF2aW9yIHRvIHRoZSBvYmplY3QuXG4gICAgICAgICogQHByb3BlcnR5IGJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0NvbW1vbkV2ZW50QmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBiZWhhdmlvciA9IG5ldyBncy5Db21wb25lbnRfQ29tbW9uRXZlbnRCZWhhdmlvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gZXZlbnQtZW1pdHRlciB0byBlbWl0IGV2ZW50cy5cbiAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRzXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0V2ZW50RW1pdHRlclxuICAgICAgICAjIyNcbiAgICAgICAgQGV2ZW50cyA9IG5ldyBncy5Db21wb25lbnRfRXZlbnRFbWl0dGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBpbnRlcnByZXRlciB0byBleGVjdXRlIHRoZSBjb21tYW5kcyBvZiB0aGUgY29tbW9uIGV2ZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbnRlcnByZXRlclxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9Db21tYW5kSW50ZXJwcmV0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBpbnRlcnByZXRlciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIEBldmVudHMub2JqZWN0ID0gdGhpc1xuICAgICAgICBcbiAgICAgICAgaWYgZGF0YVxuICAgICAgICAgICAgQHJlc3RvcmUoZGF0YSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIGNvbW1vbi1ldmVudCBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICBAY29tbWFuZHMgPSBAcmVjb3JkLmNvbW1hbmRzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZWhhdmlvcjogQGJlaGF2aW9yLnRvRGF0YUJ1bmRsZSgpLFxuICAgICAgICAgICAgaW50ZXJwcmV0ZXI6IEBpbnRlcnByZXRlcj8udG9EYXRhQnVuZGxlKCksXG4gICAgICAgICAgICByZWNvcmRJZDogQHJlY29yZC5pbmRleFxuICAgICAgICB9XG4gICAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgdGhlIGNvbW1vbi1ldmVudCBmcm9tIGEgZGF0YS1idW5kbGVcbiAgICAqXG4gICAgKiBAbWV0aG9kIHJlc3RvcmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBidW5kbGUtIFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICAgIFxuICAgIHJlc3RvcmU6IChkYXRhKSAtPlxuICAgICAgICBpZiBAYmVoYXZpb3I/XG4gICAgICAgICAgICBAcmVtb3ZlQ29tcG9uZW50KEBiZWhhdmlvcilcbiAgICAgICAgICAgIFxuICAgICAgICBAYmVoYXZpb3IgPSBuZXcgZ3MuQ29tcG9uZW50X0NvbW1vbkV2ZW50QmVoYXZpb3IoKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBiZWhhdmlvcilcbiAgICAgICAgQHJlY29yZCA9IFJlY29yZE1hbmFnZXIuY29tbW9uRXZlbnRzW2RhdGEucmVjb3JkSWRdXG4gICAgICAgIFxuICAgICAgICBAYmVoYXZpb3IucmVzdG9yZShkYXRhLmJlaGF2aW9yKVxuICAgICAgICBpZiBkYXRhLmludGVycHJldGVyIGFuZCBAaW50ZXJwcmV0ZXJcbiAgICAgICAgICAgIEBpbnRlcnByZXRlci5yZXN0b3JlKGRhdGEuaW50ZXJwcmV0ZXIpXG4gICAgICAgICAgICBAaW50ZXJwcmV0ZXIuY29udGV4dC5zZXQoQHJlY29yZC5pZCwgQHJlY29yZClcbiAgICAgICAgICAgIEBjb21tYW5kcyA9IEByZWNvcmQuY29tbWFuZHNcbiAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgXG5ncy5PYmplY3RfQ29tbW9uRXZlbnQgPSBPYmplY3RfQ29tbW9uRXZlbnQiXX0=
//# sourceURL=Object_CommonEvent_116.js
var Object_Hotspot,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Hotspot = (function(superClass) {
  extend(Object_Hotspot, superClass);

  Object_Hotspot.objectCodecBlackList = ["parent"];


  /**
  * A hotspot object to define an area on the screen which can respond
  * to user-actions like mouse/touch actions. A hotspot can have multiple
  * images for different states like hovered, selected, etc.
  *
  * @module gs
  * @class Object_Hotspot
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Hotspot() {
    Object_Hotspot.__super__.constructor.apply(this, arguments);

    /**
    * The object's source rectangle. It controls which part of the object's image is used
    * for visual presentation.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's mask to execute masking-effects on it.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * Indicates if the object's visual presentation should be mirrored horizontally.
    * @property mirror
    * @type boolean
     */
    this.mirror = false;

    /**
    * The object's image used for visual presentation.
    * @property image
    * @type string
     */
    this.image = "";

    /**
    * The rotation-angle of the picture in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The color tone of the object used for the visual presentation.
    * @property tone
    * @type gs.Tone
     */
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The color of the object used for the visual presentation.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * Contains different kinds of effects which can be activated for the object.
    * @property effects
    * @type Object
     */
    this.effects = {
      wobble: new gs.WobbleEffect()

      /**
      * Indicates if the hotspot is selectable by mouse/touch.
      * @property selectable
      * @type boolean
       */
    };
    this.selectable = true;

    /**
    * Indicates if the hotspot is enabled. A disabled hotspot will not fire any events/actions.
    * @property enabled.
    * @type boolean
     */
    this.enabled = true;

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();

    /**
    * The object's image-handling.
    * @property imageHandling
    * @type gs.ImageHandling
     */
    this.imageHandling = 0;

    /**
    * A behavior-component to hotspot-specific behavior to the object.
    * @property behavior
    * @type gs.Component_HotspotBehavior
     */
    this.behavior = new gs.Component_HotspotBehavior();
    this.behavior.imageHandling = this.imageHandling;

    /**
    * The hotspot's target. The target it optional but if set the hotspot follows
    * the target. For example: A hotspot could be follow moving picture.
    * @property target
    * @type gs.Object_Visual
     */
    this.target = null;

    /**
    * The names of the images for the different states of the hotspot. At least one image
    * needs to be set. The other ones are optional and used for the following:<br>
    *
    * - 0 = Base (Required)
    * - 1 = Hovered
    * - 2 = Unselected
    * - 3 = Selected
    * - 4 = Selected Hovered
    * @property images
    * @type string[]
     */
    this.images = [];

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.EventEmitter();
    this.addComponent(this.events);
    this.addComponent(this.behavior);
    this.addComponent(this.visual);
  }

  return Object_Hotspot;

})(gs.Object_Visual);

gs.Object_Hotspot = Object_Hotspot;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsY0FBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsY0FBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7Ozs7RUFXYSx3QkFBQTtJQUNULGlEQUFBLFNBQUE7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUE7O0FBRWY7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBWSxJQUFBLEVBQUUsQ0FBQyxJQUFILENBQUE7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxDQUFYLEVBQWMsQ0FBZDs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsS0FBRCxHQUFhLElBQUEsS0FBQSxDQUFNLEdBQU4sRUFBVyxHQUFYLEVBQWdCLEdBQWhCLEVBQXFCLENBQXJCOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFBQSxNQUFBLEVBQVksSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFBOztBQUV2Qjs7OztTQUZXOztJQU9YLElBQUMsQ0FBQSxVQUFELEdBQWM7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQUE7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBRWpCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLHlCQUFILENBQUE7SUFDaEIsSUFBQyxDQUFBLFFBQVEsQ0FBQyxhQUFWLEdBQTBCLElBQUMsQ0FBQTs7QUFFM0I7Ozs7OztJQU1BLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7Ozs7Ozs7OztJQVlBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxZQUFILENBQUE7SUFFZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE1BQWY7RUFoSVM7Ozs7R0FkWSxFQUFFLENBQUM7O0FBaUpoQyxFQUFFLENBQUMsY0FBSCxHQUFvQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogT2JqZWN0X0hvdHNwb3RcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9Ib3RzcG90IGV4dGVuZHMgZ3MuT2JqZWN0X1Zpc3VhbFxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcInBhcmVudFwiXVxuICAgIFxuICAgICMjIypcbiAgICAqIEEgaG90c3BvdCBvYmplY3QgdG8gZGVmaW5lIGFuIGFyZWEgb24gdGhlIHNjcmVlbiB3aGljaCBjYW4gcmVzcG9uZFxuICAgICogdG8gdXNlci1hY3Rpb25zIGxpa2UgbW91c2UvdG91Y2ggYWN0aW9ucy4gQSBob3RzcG90IGNhbiBoYXZlIG11bHRpcGxlXG4gICAgKiBpbWFnZXMgZm9yIGRpZmZlcmVudCBzdGF0ZXMgbGlrZSBob3ZlcmVkLCBzZWxlY3RlZCwgZXRjLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfSG90c3BvdFxuICAgICogQGV4dGVuZHMgZ3MuT2JqZWN0X1Zpc3VhbFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKCkgLT5cbiAgICAgICAgc3VwZXJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3Mgc291cmNlIHJlY3RhbmdsZS4gSXQgY29udHJvbHMgd2hpY2ggcGFydCBvZiB0aGUgb2JqZWN0J3MgaW1hZ2UgaXMgdXNlZFxuICAgICAgICAqIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzcmNSZWN0XG4gICAgICAgICogQHR5cGUgZ3MuUmVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIG1hc2sgdG8gZXhlY3V0ZSBtYXNraW5nLWVmZmVjdHMgb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IG1hc2tcbiAgICAgICAgKiBAdHlwZSBncy5NYXNrXG4gICAgICAgICMjI1xuICAgICAgICBAbWFzayA9IG5ldyBncy5NYXNrKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCdzIHZpc3VhbCBwcmVzZW50YXRpb24gc2hvdWxkIGJlIG1pcnJvcmVkIGhvcml6b250YWxseS5cbiAgICAgICAgKiBAcHJvcGVydHkgbWlycm9yXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQG1pcnJvciA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGltYWdlIHVzZWQgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlXG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2UgPSBcIlwiXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHJvdGF0aW9uLWFuZ2xlIG9mIHRoZSBwaWN0dXJlIGluIGRlZ3JlZXMuIFRoZSByb3RhdGlvbiBjZW50ZXIgZGVwZW5kcyBvbiB0aGVcbiAgICAgICAgKiBhbmNob3ItcG9pbnQuXG4gICAgICAgICogQHByb3BlcnR5IGFuZ2xlXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAYW5nbGUgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGNvbG9yIHRvbmUgb2YgdGhlIG9iamVjdCB1c2VkIGZvciB0aGUgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdG9uZVxuICAgICAgICAqIEB0eXBlIGdzLlRvbmVcbiAgICAgICAgIyMjXG4gICAgICAgIEB0b25lID0gbmV3IFRvbmUoMCwgMCwgMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29sb3Igb2YgdGhlIG9iamVjdCB1c2VkIGZvciB0aGUgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAgICAgKiBAcHJvcGVydHkgY29sb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db2xvclxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbG9yID0gbmV3IENvbG9yKDI1NSwgMjU1LCAyNTUsIDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQ29udGFpbnMgZGlmZmVyZW50IGtpbmRzIG9mIGVmZmVjdHMgd2hpY2ggY2FuIGJlIGFjdGl2YXRlZCBmb3IgdGhlIG9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgZWZmZWN0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGVmZmVjdHMgPSB3b2JibGU6IG5ldyBncy5Xb2JibGVFZmZlY3QoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgaG90c3BvdCBpcyBzZWxlY3RhYmxlIGJ5IG1vdXNlL3RvdWNoLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzZWxlY3RhYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHNlbGVjdGFibGUgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGhvdHNwb3QgaXMgZW5hYmxlZC4gQSBkaXNhYmxlZCBob3RzcG90IHdpbGwgbm90IGZpcmUgYW55IGV2ZW50cy9hY3Rpb25zLlxuICAgICAgICAqIEBwcm9wZXJ0eSBlbmFibGVkLlxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBlbmFibGVkID0geWVzXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB2aXN1YWwtY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIGdhbWUgb2JqZWN0IG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlzdWFsXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X1Nwcml0ZVxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfU3ByaXRlKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgaW1hZ2UtaGFuZGxpbmcuXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlSGFuZGxpbmdcbiAgICAgICAgKiBAdHlwZSBncy5JbWFnZUhhbmRsaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2VIYW5kbGluZyA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBIGJlaGF2aW9yLWNvbXBvbmVudCB0byBob3RzcG90LXNwZWNpZmljIGJlaGF2aW9yIHRvIHRoZSBvYmplY3QuXG4gICAgICAgICogQHByb3BlcnR5IGJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IoKVxuICAgICAgICBAYmVoYXZpb3IuaW1hZ2VIYW5kbGluZyA9IEBpbWFnZUhhbmRsaW5nXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGhvdHNwb3QncyB0YXJnZXQuIFRoZSB0YXJnZXQgaXQgb3B0aW9uYWwgYnV0IGlmIHNldCB0aGUgaG90c3BvdCBmb2xsb3dzXG4gICAgICAgICogdGhlIHRhcmdldC4gRm9yIGV4YW1wbGU6IEEgaG90c3BvdCBjb3VsZCBiZSBmb2xsb3cgbW92aW5nIHBpY3R1cmUuXG4gICAgICAgICogQHByb3BlcnR5IHRhcmdldFxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9WaXN1YWxcbiAgICAgICAgIyMjXG4gICAgICAgIEB0YXJnZXQgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG5hbWVzIG9mIHRoZSBpbWFnZXMgZm9yIHRoZSBkaWZmZXJlbnQgc3RhdGVzIG9mIHRoZSBob3RzcG90LiBBdCBsZWFzdCBvbmUgaW1hZ2VcbiAgICAgICAgKiBuZWVkcyB0byBiZSBzZXQuIFRoZSBvdGhlciBvbmVzIGFyZSBvcHRpb25hbCBhbmQgdXNlZCBmb3IgdGhlIGZvbGxvd2luZzo8YnI+XG4gICAgICAgICpcbiAgICAgICAgKiAtIDAgPSBCYXNlIChSZXF1aXJlZClcbiAgICAgICAgKiAtIDEgPSBIb3ZlcmVkXG4gICAgICAgICogLSAyID0gVW5zZWxlY3RlZFxuICAgICAgICAqIC0gMyA9IFNlbGVjdGVkXG4gICAgICAgICogLSA0ID0gU2VsZWN0ZWQgSG92ZXJlZFxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZXNcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQW4gZXZlbnQtZW1pdHRlciB0byBlbWl0IGV2ZW50cy5cbiAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRzXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0V2ZW50RW1pdHRlclxuICAgICAgICAjIyNcbiAgICAgICAgQGV2ZW50cyA9IG5ldyBncy5FdmVudEVtaXR0ZXIoKTtcbiAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGV2ZW50cylcbiAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgXG4gICAgICAgIFxuZ3MuT2JqZWN0X0hvdHNwb3QgPSBPYmplY3RfSG90c3BvdCJdfQ==
//# sourceURL=Object_Hotspot_122.js
var Object_Animation,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Animation = (function(superClass) {
  extend(Object_Animation, superClass);


  /**
  * A game object used for animations.
  *
  * @module gs
  * @class Object_Animation
  * @extends gs.Object_Picture
  * @memberof gs
  * @constructor
   */

  function Object_Animation(record) {
    var component;
    Object_Animation.__super__.constructor.call(this);
    this.image = record != null ? record.graphic.name : void 0;
    component = new gs.Component_FrameAnimation(record);
    this.addComponent(component);
  }

  return Object_Animation;

})(gs.Object_Picture);

gs.Object_Animation = Object_Animation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLDBCQUFDLE1BQUQ7QUFDVCxRQUFBO0lBQUEsZ0RBQUE7SUFFQSxJQUFDLENBQUEsS0FBRCxvQkFBUyxNQUFNLENBQUUsT0FBTyxDQUFDO0lBRXpCLFNBQUEsR0FBZ0IsSUFBQSxFQUFFLENBQUMsd0JBQUgsQ0FBNEIsTUFBNUI7SUFDaEIsSUFBQyxDQUFBLFlBQUQsQ0FBYyxTQUFkO0VBTlM7Ozs7R0FWYyxFQUFFLENBQUM7O0FBbUJsQyxFQUFFLENBQUMsZ0JBQUgsR0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9BbmltYXRpb25cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9BbmltYXRpb24gZXh0ZW5kcyBncy5PYmplY3RfUGljdHVyZVxuICAgICMjIypcbiAgICAqIEEgZ2FtZSBvYmplY3QgdXNlZCBmb3IgYW5pbWF0aW9ucy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgT2JqZWN0X0FuaW1hdGlvblxuICAgICogQGV4dGVuZHMgZ3MuT2JqZWN0X1BpY3R1cmVcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChyZWNvcmQpIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIEBpbWFnZSA9IHJlY29yZD8uZ3JhcGhpYy5uYW1lXG4gICAgICAgICAgICBcbiAgICAgICAgY29tcG9uZW50ID0gbmV3IGdzLkNvbXBvbmVudF9GcmFtZUFuaW1hdGlvbihyZWNvcmQpXG4gICAgICAgIEBhZGRDb21wb25lbnQoY29tcG9uZW50KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbmdzLk9iamVjdF9BbmltYXRpb24gPSBPYmplY3RfQW5pbWF0aW9uIl19
//# sourceURL=Object_Animation_127.js
var Object_Container,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Container = (function(superClass) {
  extend(Object_Container, superClass);


  /**
  * A game object which can contain other game objects.
  *
  * @module gs
  * @class Object_Container
  * @extends gs.Object_Base
  * @memberof gs
  * @constructor
   */

  function Object_Container(disposeBehavior) {
    Object_Container.__super__.constructor.apply(this, arguments);

    /**
    * The container's behavior component.
    * @property behavior
    * @type behavior
     */
    this.behavior = new gs.Component_Container(disposeBehavior);
    this.addComponent(this.behavior);
  }

  return Object_Container;

})(gs.Object_Base);

gs.Object_Container = Object_Container;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7OztFQVNhLDBCQUFDLGVBQUQ7SUFDVCxtREFBQSxTQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLG1CQUFILENBQXVCLGVBQXZCO0lBQ2hCLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWY7RUFUUzs7OztHQVZjLEVBQUUsQ0FBQzs7QUFxQmxDLEVBQUUsQ0FBQyxnQkFBSCxHQUFzQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogT2JqZWN0X0NvbnRhaW5lclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X0NvbnRhaW5lciBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgIyMjKlxuICAgICogQSBnYW1lIG9iamVjdCB3aGljaCBjYW4gY29udGFpbiBvdGhlciBnYW1lIG9iamVjdHMuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIE9iamVjdF9Db250YWluZXJcbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAoZGlzcG9zZUJlaGF2aW9yKSAtPlxuICAgICAgICBzdXBlclxuICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGNvbnRhaW5lcidzIGJlaGF2aW9yIGNvbXBvbmVudC5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBiZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9Db250YWluZXIoZGlzcG9zZUJlaGF2aW9yKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBiZWhhdmlvcilcbiAgICAgICAgXG5ncy5PYmplY3RfQ29udGFpbmVyID0gT2JqZWN0X0NvbnRhaW5lciJdfQ==
//# sourceURL=Object_Container_138.js
var Object_Text,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Text = (function(superClass) {
  extend(Object_Text, superClass);

  Object_Text.objectCodecBlackList = ["parent"];


  /**
  * A game object used for custom texts in a scene.
  *
  * @module gs
  * @class Object_Text
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Text(data) {
    Object_Text.__super__.constructor.apply(this, arguments);

    /**
    * The object's bitmap used for visual presentation.
    * @property bitmap
    * @type gs.Bitmap
     */
    this.bitmap = null;

    /**
    * The font used for the text.
    * @property font
    * @type gs.Font
     */
    this.font = new Font(gs.Fonts.TEXT);

    /**
    * Indicates if word-wrap is enabled. If <b>true</b> line-breaks are automatically added.
    * @property wordWrap
    * @type boolean
     */
    this.wordWrap = false;

    /**
    * The object's source rectangle. It controls which part of the object's image is used
    * for visual presentation.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect();

    /**
    * The object's mask to execute masking-effects on it.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * Indicates if the object's visual presentation should be mirrored horizontally.
    * @property mirror
    * @type boolean
     */
    this.mirror = false;

    /**
    * The text to display.
    * @property text
    * @type string
     */
    this.text = "";

    /**
    * The rotation-angle of the picture in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The color tone of the object used for the visual presentation.
    * @property tone
    * @type gs.Tone
     */
    this.tone = new Tone(0, 0, 0, 0);

    /**
    * The color of the object used for the visual presentation.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * The text-renderer used to render the text.
    * @property textRenderer
    * @type gs.Component_TextRenderer
     */
    this.textRenderer = new gs.Component_TextRenderer();
    this.textRenderer.object = this;

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type gs.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite(false);

    /**
    * The object's behavior component for the text-specific behavior.
    * @property behavior
    * @type gs.Component_TextBehavior
     */
    this.behavior = new gs.Component_TextBehavior();
    this.addComponent(this.visual);
    this.addComponent(this.behavior);
    this.addComponent(this.animator);
    this.componentsFromDataBundle(data);
  }


  /**
  * Restores the game object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Text.prototype.restore = function(data) {
    Object_Text.__super__.restore.call(this, data);
    this.srcRect = gs.Rect.fromObject(data.srcRect);
    return this.mask = gs.Mask.fromObject(data.mask);
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Text.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Animation);
    result = {
      components: components,
      dstRect: this.dstRect,
      srcRect: this.srcRect,
      opacity: this.opacity,
      origin: this.origin,
      offset: this.offset,
      anchor: this.anchor,
      zIndex: this.zIndex,
      mask: this.mask.toDataBundle(),
      motionBlur: this.motionBlur,
      zoom: this.zoom,
      angle: this.angle,
      mirror: this.mirror,
      text: this.text,
      formatting: this.formatting
    };
    return result;
  };

  return Object_Text;

})(gs.Object_Visual);

gs.Object_Text = Object_Text;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsV0FBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsV0FBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2EscUJBQUMsSUFBRDtJQUNULDhDQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsSUFBQSxDQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBZDs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFZOztBQUVaOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFBOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxFQUFFLENBQUMsSUFBSCxDQUFBOztBQUVaOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7O0lBTUEsSUFBQyxDQUFBLEtBQUQsR0FBUzs7QUFFVDs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLEtBQUQsR0FBYSxJQUFBLEtBQUEsQ0FBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixDQUFyQjs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsWUFBRCxHQUFvQixJQUFBLEVBQUUsQ0FBQyxzQkFBSCxDQUFBO0lBQ3BCLElBQUMsQ0FBQSxZQUFZLENBQUMsTUFBZCxHQUF1Qjs7QUFFdkI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsa0JBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFvQixLQUFwQjs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxzQkFBSCxDQUFBO0lBRWhCLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE1BQWY7SUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUVBLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixJQUExQjtFQTVHUzs7O0FBZ0hiOzs7Ozs7O3dCQU1BLE9BQUEsR0FBUyxTQUFDLElBQUQ7SUFDTCx5Q0FBTSxJQUFOO0lBRUEsSUFBQyxDQUFBLE9BQUQsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVIsQ0FBbUIsSUFBSSxDQUFDLE9BQXhCO1dBQ1gsSUFBQyxDQUFBLElBQUQsR0FBUSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVIsQ0FBbUIsSUFBSSxDQUFDLElBQXhCO0VBSkg7OztBQU1UOzs7Ozs7O3dCQU1BLFlBQUEsR0FBYyxTQUFBO0FBQ1YsUUFBQTtJQUFBLFVBQUEsR0FBYSxJQUFDLENBQUEsc0JBQUQsQ0FBd0IsRUFBRSxDQUFDLG1CQUEzQjtJQUViLE1BQUEsR0FBUztNQUNMLFVBQUEsRUFBWSxVQURQO01BRUwsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUZMO01BR0wsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUhMO01BSUwsT0FBQSxFQUFTLElBQUMsQ0FBQSxPQUpMO01BS0wsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQUxKO01BTUwsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQU5KO01BT0wsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVBKO01BUUwsTUFBQSxFQUFRLElBQUMsQ0FBQSxNQVJKO01BU0wsSUFBQSxFQUFNLElBQUMsQ0FBQSxJQUFJLENBQUMsWUFBTixDQUFBLENBVEQ7TUFVTCxVQUFBLEVBQVksSUFBQyxDQUFBLFVBVlI7TUFXTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBWEY7TUFZTCxLQUFBLEVBQU8sSUFBQyxDQUFBLEtBWkg7TUFhTCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BYko7TUFjTCxJQUFBLEVBQU0sSUFBQyxDQUFBLElBZEY7TUFlTCxVQUFBLEVBQVksSUFBQyxDQUFBLFVBZlI7O0FBa0JULFdBQU87RUFyQkc7Ozs7R0E5SVEsRUFBRSxDQUFDOztBQXFLN0IsRUFBRSxDQUFDLFdBQUgsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9UZXh0XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfVGV4dCBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IHVzZWQgZm9yIGN1c3RvbSB0ZXh0cyBpbiBhIHNjZW5lLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfVGV4dFxuICAgICogQGV4dGVuZHMgZ3MuT2JqZWN0X1Zpc3VhbFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGJpdG1hcCB1c2VkIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBiaXRtYXBcbiAgICAgICAgKiBAdHlwZSBncy5CaXRtYXBcbiAgICAgICAgIyMjXG4gICAgICAgIEBiaXRtYXAgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGZvbnQgdXNlZCBmb3IgdGhlIHRleHQuXG4gICAgICAgICogQHByb3BlcnR5IGZvbnRcbiAgICAgICAgKiBAdHlwZSBncy5Gb250XG4gICAgICAgICMjI1xuICAgICAgICBAZm9udCA9IG5ldyBGb250KGdzLkZvbnRzLlRFWFQpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHdvcmQtd3JhcCBpcyBlbmFibGVkLiBJZiA8Yj50cnVlPC9iPiBsaW5lLWJyZWFrcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZC5cbiAgICAgICAgKiBAcHJvcGVydHkgd29yZFdyYXBcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAd29yZFdyYXAgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlLiBJdCBjb250cm9scyB3aGljaCBwYXJ0IG9mIHRoZSBvYmplY3QncyBpbWFnZSBpcyB1c2VkXG4gICAgICAgICogZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IHNyY1JlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgbWFzayB0byBleGVjdXRlIG1hc2tpbmctZWZmZWN0cyBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgbWFza1xuICAgICAgICAqIEB0eXBlIGdzLk1hc2tcbiAgICAgICAgIyMjXG4gICAgICAgIEBtYXNrID0gbmV3IGdzLk1hc2soKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0J3MgdmlzdWFsIHByZXNlbnRhdGlvbiBzaG91bGQgYmUgbWlycm9yZWQgaG9yaXpvbnRhbGx5LlxuICAgICAgICAqIEBwcm9wZXJ0eSBtaXJyb3JcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAbWlycm9yID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgdGV4dCB0byBkaXNwbGF5LlxuICAgICAgICAqIEBwcm9wZXJ0eSB0ZXh0XG4gICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgICMjI1xuICAgICAgICBAdGV4dCA9IFwiXCJcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcm90YXRpb24tYW5nbGUgb2YgdGhlIHBpY3R1cmUgaW4gZGVncmVlcy4gVGhlIHJvdGF0aW9uIGNlbnRlciBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAqIGFuY2hvci1wb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29sb3IgdG9uZSBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSB0b25lXG4gICAgICAgICogQHR5cGUgZ3MuVG9uZVxuICAgICAgICAjIyNcbiAgICAgICAgQHRvbmUgPSBuZXcgVG9uZSgwLCAwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBjb2xvciBvZiB0aGUgb2JqZWN0IHVzZWQgZm9yIHRoZSB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb2xvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbG9yXG4gICAgICAgICMjI1xuICAgICAgICBAY29sb3IgPSBuZXcgQ29sb3IoMjU1LCAyNTUsIDI1NSwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgdGV4dC1yZW5kZXJlciB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dC5cbiAgICAgICAgKiBAcHJvcGVydHkgdGV4dFJlbmRlcmVyXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X1RleHRSZW5kZXJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHRleHRSZW5kZXJlciA9IG5ldyBncy5Db21wb25lbnRfVGV4dFJlbmRlcmVyKClcbiAgICAgICAgQHRleHRSZW5kZXJlci5vYmplY3QgPSB0aGlzXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBhbmltYXRvci1jb21wb25lbnQgdG8gZXhlY3V0ZSBkaWZmZXJlbnQga2luZCBvZiBhbmltYXRpb25zIGxpa2UgbW92ZSwgcm90YXRlLCBldGMuIG9uIGl0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbmltYXRvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9BbmltYXRvclxuICAgICAgICAjIyNcbiAgICAgICAgQGFuaW1hdG9yID0gbmV3IGdzLkNvbXBvbmVudF9BbmltYXRvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIHZpc3VhbC1jb21wb25lbnQgdG8gZGlzcGxheSB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXN1YWxcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfU3ByaXRlXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzdWFsID0gbmV3IGdzLkNvbXBvbmVudF9TcHJpdGUobm8pXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGJlaGF2aW9yIGNvbXBvbmVudCBmb3IgdGhlIHRleHQtc3BlY2lmaWMgYmVoYXZpb3IuXG4gICAgICAgICogQHByb3BlcnR5IGJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X1RleHRCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9UZXh0QmVoYXZpb3IoKVxuXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGFuaW1hdG9yKVxuICAgICAgICBcbiAgICAgICAgQGNvbXBvbmVudHNGcm9tRGF0YUJ1bmRsZShkYXRhKVxuICAgICAgICBcbiAgICAgICAgI0B1cGRhdGUoKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZXN0b3JlcyB0aGUgZ2FtZSBvYmplY3QgZnJvbSBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdG9yZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgIFxuICAgIHJlc3RvcmU6IChkYXRhKSAtPlxuICAgICAgICBzdXBlcihkYXRhKVxuICAgICAgICBcbiAgICAgICAgQHNyY1JlY3QgPSBncy5SZWN0LmZyb21PYmplY3QoZGF0YS5zcmNSZWN0KVxuICAgICAgICBAbWFzayA9IGdzLk1hc2suZnJvbU9iamVjdChkYXRhLm1hc2spXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIG9iamVjdCBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGNvbXBvbmVudHMgPSBAY29tcG9uZW50c1RvRGF0YUJ1bmRsZShncy5Db21wb25lbnRfQW5pbWF0aW9uKVxuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgICAgICAgIGRzdFJlY3Q6IEBkc3RSZWN0LFxuICAgICAgICAgICAgc3JjUmVjdDogQHNyY1JlY3QsXG4gICAgICAgICAgICBvcGFjaXR5OiBAb3BhY2l0eSxcbiAgICAgICAgICAgIG9yaWdpbjogQG9yaWdpbixcbiAgICAgICAgICAgIG9mZnNldDogQG9mZnNldCxcbiAgICAgICAgICAgIGFuY2hvcjogQGFuY2hvcixcbiAgICAgICAgICAgIHpJbmRleDogQHpJbmRleCxcbiAgICAgICAgICAgIG1hc2s6IEBtYXNrLnRvRGF0YUJ1bmRsZSgpLFxuICAgICAgICAgICAgbW90aW9uQmx1cjogQG1vdGlvbkJsdXIsXG4gICAgICAgICAgICB6b29tOiBAem9vbSxcbiAgICAgICAgICAgIGFuZ2xlOiBAYW5nbGUsXG4gICAgICAgICAgICBtaXJyb3I6IEBtaXJyb3IsXG4gICAgICAgICAgICB0ZXh0OiBAdGV4dCxcbiAgICAgICAgICAgIGZvcm1hdHRpbmc6IEBmb3JtYXR0aW5nXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuZ3MuT2JqZWN0X1RleHQgPSBPYmplY3RfVGV4dCJdfQ==
//# sourceURL=Object_Text_144.js
var Object_ImageMap,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_ImageMap = (function(superClass) {
  extend(Object_ImageMap, superClass);

  Object_ImageMap.objectCodecBlackList = ["parent"];


  /**
  * An image-map object to display an image-map on screen. 
  *
  * @module gs
  * @class Object_ImageMap
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_ImageMap() {
    Object_ImageMap.__super__.constructor.apply(this, arguments);

    /**
    * The names of the images used for the different states of the image-map.<br>
    *
    * - 0 = Ground Image
    * - 1 = Hovered
    * - 2 = Unselected
    * - 3 = Selected
    * - 4 = Selected Hovered
    *
    * @property images
    * @type string[]
     */
    this.images = [];

    /**
    * The hotspot data of the image-map. Each entry is a single hotspot on the image-map.
    * @property hotspots
    * @type gs.ImageMapHotspot[]
     */
    this.hotspots = [];

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.Component_EventEmitter();

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_ImageMap
     */
    this.visual = new gs.Component_ImageMap();
    this.addComponent(this.animator);
    this.addComponent(this.visual);
    this.addComponent(this.events);
  }

  return Object_ImageMap;

})(gs.Object_Visual);

gs.Object_ImageMap = Object_ImageMap;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsZUFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2EseUJBQUE7SUFDVCxrREFBQSxTQUFBOztBQUVBOzs7Ozs7Ozs7Ozs7SUFZQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxzQkFBSCxDQUFBOztBQUVkOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsa0JBQUgsQ0FBQTtJQUVkLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWY7SUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtFQS9DUzs7OztHQVphLEVBQUUsQ0FBQzs7QUE2RGpDLEVBQUUsQ0FBQyxlQUFILEdBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfSW1hZ2VNYXBcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9JbWFnZU1hcCBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBBbiBpbWFnZS1tYXAgb2JqZWN0IHRvIGRpc3BsYXkgYW4gaW1hZ2UtbWFwIG9uIHNjcmVlbi4gXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIE9iamVjdF9JbWFnZU1hcFxuICAgICogQGV4dGVuZHMgZ3MuT2JqZWN0X1Zpc3VhbFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogLT5cbiAgICAgICAgc3VwZXJcblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG5hbWVzIG9mIHRoZSBpbWFnZXMgdXNlZCBmb3IgdGhlIGRpZmZlcmVudCBzdGF0ZXMgb2YgdGhlIGltYWdlLW1hcC48YnI+XG4gICAgICAgICpcbiAgICAgICAgKiAtIDAgPSBHcm91bmQgSW1hZ2VcbiAgICAgICAgKiAtIDEgPSBIb3ZlcmVkXG4gICAgICAgICogLSAyID0gVW5zZWxlY3RlZFxuICAgICAgICAqIC0gMyA9IFNlbGVjdGVkXG4gICAgICAgICogLSA0ID0gU2VsZWN0ZWQgSG92ZXJlZFxuICAgICAgICAqXG4gICAgICAgICogQHByb3BlcnR5IGltYWdlc1xuICAgICAgICAqIEB0eXBlIHN0cmluZ1tdXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2VzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgaG90c3BvdCBkYXRhIG9mIHRoZSBpbWFnZS1tYXAuIEVhY2ggZW50cnkgaXMgYSBzaW5nbGUgaG90c3BvdCBvbiB0aGUgaW1hZ2UtbWFwLlxuICAgICAgICAqIEBwcm9wZXJ0eSBob3RzcG90c1xuICAgICAgICAqIEB0eXBlIGdzLkltYWdlTWFwSG90c3BvdFtdXG4gICAgICAgICMjI1xuICAgICAgICBAaG90c3BvdHMgPSBbXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGV2ZW50LWVtaXR0ZXIgdG8gZW1pdCBldmVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuQ29tcG9uZW50X0V2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQ29tcG9uZW50X0FuaW1hdG9yKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9JbWFnZU1hcFxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfSW1hZ2VNYXAoKVxuICAgICAgICBcbiAgICAgICAgQGFkZENvbXBvbmVudChAYW5pbWF0b3IpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgQGFkZENvbXBvbmVudChAZXZlbnRzKVxuICAgICAgICBcbmdzLk9iamVjdF9JbWFnZU1hcCA9IE9iamVjdF9JbWFnZU1hcCJdfQ==
//# sourceURL=Object_ImageMap_146.js
var Object_Timer,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Timer = (function(superClass) {
  extend(Object_Timer, superClass);

  Object_Timer.objectCodecBlackList = ["parent"];


  /**
  * A timer object. A timer can be used as a regular timer or as a stop-watch.
  *
  * @module gs
  * @class Object_Timer
  * @extends gs.Object_Base
  * @memberof gs
  * @constructor
   */

  function Object_Timer(data) {
    Object_Timer.__super__.constructor.call(this);

    /**
    * The current seconds.
    * @property seconds
    * @type number
     */
    this.seconds = 0;

    /**
    * The current minutes.
    * @property seconds
    * @type number
     */
    this.minutes = 0;

    /**
    * Indicates if the timer runs like a stop-watch.
    * @property stopWatch
    * @type boolean
     */
    this.stopWatch = false;

    /**
    * A behavior-component to add timer-specific behavior to the object.
    * @property behavior
    * @type gs.Component_Timer
     */
    this.behavior = null;

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.EventEmitter();
    this.addComponent(this.events);
    if (data != null) {
      this.componentsFromDataBundle(data);
    } else {
      this.behavior = new gs.Component_Timer();
      this.addComponent(this.behavior);
    }
  }


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Timer.prototype.toDataBundle = function() {
    var components, result;
    components = this.componentsToDataBundle(gs.Component_Timer);
    result = {
      stopWatch: this.stopWatch,
      minutes: this.minutes,
      seconds: this.seconds,
      components: components
    };
    return result;
  };

  Object_Timer.prototype.restore = function(dataBundle) {};

  return Object_Timer;

})(gs.Object_Base);

gs.Object_Timer = Object_Timer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsWUFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2Esc0JBQUMsSUFBRDtJQUNULDRDQUFBOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxZQUFILENBQUE7SUFFZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBRUEsSUFBRyxZQUFIO01BQ0ksSUFBQyxDQUFBLHdCQUFELENBQTBCLElBQTFCLEVBREo7S0FBQSxNQUFBO01BR0ksSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsZUFBSCxDQUFBO01BQ2hCLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWYsRUFKSjs7RUF4Q1M7OztBQThDYjs7Ozs7Ozt5QkFNQSxZQUFBLEdBQWMsU0FBQTtBQUNWLFFBQUE7SUFBQSxVQUFBLEdBQWEsSUFBQyxDQUFBLHNCQUFELENBQXdCLEVBQUUsQ0FBQyxlQUEzQjtJQUViLE1BQUEsR0FBUztNQUNMLFNBQUEsRUFBVyxJQUFDLENBQUEsU0FEUDtNQUVMLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FGTDtNQUdMLE9BQUEsRUFBUyxJQUFDLENBQUEsT0FITDtNQUlMLFVBQUEsRUFBWSxVQUpQOztBQU9ULFdBQU87RUFWRzs7eUJBWWQsT0FBQSxHQUFTLFNBQUMsVUFBRCxHQUFBOzs7O0dBNUVjLEVBQUUsQ0FBQzs7QUFpRjlCLEVBQUUsQ0FBQyxZQUFILEdBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVGltZXJcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9UaW1lciBleHRlbmRzIGdzLk9iamVjdF9CYXNlXG4gICAgQG9iamVjdENvZGVjQmxhY2tMaXN0ID0gW1wicGFyZW50XCJdXG4gICAgXG4gICAgIyMjKlxuICAgICogQSB0aW1lciBvYmplY3QuIEEgdGltZXIgY2FuIGJlIHVzZWQgYXMgYSByZWd1bGFyIHRpbWVyIG9yIGFzIGEgc3RvcC13YXRjaC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgT2JqZWN0X1RpbWVyXG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfQmFzZVxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKGRhdGEpIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3VycmVudCBzZWNvbmRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzZWNvbmRzXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAc2Vjb25kcyA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY3VycmVudCBtaW51dGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzZWNvbmRzXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAbWludXRlcyA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHRpbWVyIHJ1bnMgbGlrZSBhIHN0b3Atd2F0Y2guXG4gICAgICAgICogQHByb3BlcnR5IHN0b3BXYXRjaFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBzdG9wV2F0Y2ggPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEEgYmVoYXZpb3ItY29tcG9uZW50IHRvIGFkZCB0aW1lci1zcGVjaWZpYyBiZWhhdmlvciB0byB0aGUgb2JqZWN0LlxuICAgICAgICAqIEBwcm9wZXJ0eSBiZWhhdmlvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9UaW1lclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGV2ZW50LWVtaXR0ZXIgdG8gZW1pdCBldmVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuRXZlbnRFbWl0dGVyKClcbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGV2ZW50cylcbiAgICAgICAgXG4gICAgICAgIGlmIGRhdGE/XG4gICAgICAgICAgICBAY29tcG9uZW50c0Zyb21EYXRhQnVuZGxlKGRhdGEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBiZWhhdmlvciA9IG5ldyBncy5Db21wb25lbnRfVGltZXIoKVxuICAgICAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFNlcmlhbGl6ZXMgdGhlIG9iamVjdCBpbnRvIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCB0b0RhdGFCdW5kbGVcbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRhdGEtYnVuZGxlLlxuICAgICMjIyAgICBcbiAgICB0b0RhdGFCdW5kbGU6IC0+XG4gICAgICAgIGNvbXBvbmVudHMgPSBAY29tcG9uZW50c1RvRGF0YUJ1bmRsZShncy5Db21wb25lbnRfVGltZXIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHN0b3BXYXRjaDogQHN0b3BXYXRjaCxcbiAgICAgICAgICAgIG1pbnV0ZXM6IEBtaW51dGVzLFxuICAgICAgICAgICAgc2Vjb25kczogQHNlY29uZHMsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICBcbiAgICByZXN0b3JlOiAoZGF0YUJ1bmRsZSkgLT5cbiAgICAgICAgXG4gICAgICAgIFxuICAgIFxuICAgICAgICBcbmdzLk9iamVjdF9UaW1lciA9IE9iamVjdF9UaW1lciJdfQ==
//# sourceURL=Object_Timer_148.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=UI_153.js
var Object_UIElement,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_UIElement = (function(superClass) {
  extend(Object_UIElement, superClass);

  Object_UIElement.accessors("image", {
    set: function(image) {
      if (image !== this.image_) {
        this.image_ = image;
        return this.needsUpdate = true;
      }
    },
    get: function() {
      return this.image_;
    }
  });

  Object_UIElement.accessors("opacity", {
    set: function(opacity) {
      if (opacity !== this.opacity_) {
        this.opacity_ = opacity;
        return this.needsUpdate = true;
      }
    },
    get: function() {
      return this.opacity_;
    }
  });

  Object_UIElement.accessors("clipRect", {
    set: function(clipRect) {
      if (clipRect !== this.clipRect_) {
        this.clipRect_ = clipRect;
        return this.needsUpdate = true;
      }
    },
    get: function() {
      return this.clipRect_;
    }
  });

  Object_UIElement.accessors("visible", {
    set: function(v) {
      if (v !== this.visible_) {
        this.visible_ = v;
        this.needsUpdate = true;
        return this.fullRefresh();
      }
    },
    get: function() {
      return this.visible_ && (!this.parent || this.parent.visible);
    }
  });


  /**
  * The base class for all In-Game UI objects.
  *
  * @module ui
  * @class Object_UIElement
  * @extends gs.Object_Base
  * @memberof ui
  * @constructor
   */

  function Object_UIElement() {
    Object_UIElement.__super__.constructor.call(this);
    this.id = "";

    /**
    * Indicates if that UI object will break the binding-chain. If <b>true</b> the UI object
    * will not change any binding-targets for the current binding-execution period.
    * @property breakBindingChain
    * @type boolean
     */
    this.breakBindingChain = false;
    this.numbers = new Array(10);
    this.data = new Array(10);
    this.controlsByStyle = new Array(ui.UIManager.stylesById.length);
    this.parentsByStyle = new Array(ui.UIManager.stylesById.length);
    this.styles = [];
    this.activeStyles = [];
    this.focusable = false;

    /**
    * The UI object's destination rectangle on screen.
    * @property dstRect
    * @type ui.Component_UIElementRectangle
     */
    this.dstRect = new ui.UIElementRectangle(this);

    /**
    * The UI object's margin. The margin defines an extra space around the UI object. 
    * The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property margin
    * @type ui.Space
     */
    this.margin = new ui.Space(0, 0, 0, 0);

    /**
    * The UI object's padding. The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property padding
    * @type ui.Space
     */
    this.padding = new ui.Space(0, 0, 0, 0);

    /**
    * The UI object's alignment.
    * @property alignment
    * @type ui.Alignment
     */
    this.alignment = 0;

    /**
    * Indicates if the UI object is visible on screen.
    * @property visible
    * @type boolean
     */
    this.visible = true;

    /**
    * Indicates if the UI object is enabled and responds to user actions.
    * @property enabled
    * @type boolean
     */
    this.enabled = true;

    /**
    * The UI object's origin.
    * @property origin
    * @type gs.Vector2
     */
    this.origin = new ui.UIElementPoint(this);

    /**
    * The UI object's offset.
    * @property offset
    * @type gs.Vector2
     */
    this.offset = new ui.UIElementPoint(this);

    /**
    * The UI object's opacity to control transparency. For example: 0 = Transparent, 255 = Opaque, 128 = Semi-Transparent.
    * @property opacity
    * @type number
     */
    this.opacity = 255;

    /**
    * The UI object's resize behavior.
    * @property resizable
    * @type boolean
     */
    this.resizable = false;

    /**
    * The UI object's anchor-point. For example: An anchor-point with 0,0 places the object with its top-left corner
    * at its position but with an 0.5, 0.5 anchor-point the object is placed with its center. An anchor-point of 1,1
    * places the object with its lower-right corner.
    * @property anchor
    * @type gs.Point
     */
    this.anchor = new gs.Point(0.0, 0.0);

    /**
    * The UI object's zoom-setting for x and y axis. The default value is
    * { x: 1.0, y: 1.0 }
    * @property zoom
    * @type gs.Point
     */
    this.zoom = new gs.Point(1.0, 1.0);

    /**
    * The UI object's color.
    * @property color
    * @type gs.Color
     */
    this.color = new Color(255, 255, 255, 0);

    /**
    * The UI object's mask for masking-effects.
    * @property mask
    * @type gs.Mask
     */
    this.mask = new gs.Mask();

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.EventEmitter();

    /**
    * The update-behavior of the UI object. The default is ui.UpdateBehavior.NORMAL.
    * @property updateBehavior
    * @type ui.UpdateBehavior
     */
    this.updateBehavior = ui.UpdateBehavior.NORMAL;

    /**
    * @property image_
    * @type string
    * @protected
     */
    this.image_ = null;

    /**
    * The object's clip-rect for visual presentation.
    * @property clipRect_
    * @type gs.Rect
    * @protected
     */
    this.clipRect_ = null;

    /**
    * @property visible_
    * @type boolean
    * @protected
     */
    this.visible_ = true;
    this.addComponent(this.events);
  }


  /**
  * Restores the object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_UIElement.prototype.restore = function(data) {
    this.anchor = new gs.Point(data.anchor.x, data.anchor.y);
    this.offset = new gs.Point(data.offset.x, data.offset.y);
    this.dstRect.x = data.x;
    this.dstRect.y = data.y;
    this.opacity = data.opacity;
    this.zoom = new gs.Point(data.zoom.x, data.zoom.y);
    this.angle = data.angle;
    this.zIndex = data.zIndex;
    this.visible_ = data.visible;
    return this.rid = data.rid;
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_UIElement.prototype.toDataBundle = function() {
    return {
      rid: this.rid,
      x: this.dstRect.x,
      y: this.dstRect.y,
      opacity: this.opacity,
      zoom: this.zoom,
      angle: this.angle,
      anchor: {
        x: this.anchor.x,
        y: this.anchor.y
      },
      zIndex: this.zIndex,
      offset: {
        x: this.offset.x,
        y: this.offset.y
      },
      visible: this.visible_
    };
  };

  return Object_UIElement;

})(gs.Object_Base);

ui.Object_UIElement = Object_UIElement;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZ0JBQUE7RUFBQTs7O0FBQU07OztFQU1GLGdCQUFDLENBQUEsU0FBRCxDQUFXLE9BQVgsRUFDSTtJQUFBLEdBQUEsRUFBSyxTQUFDLEtBQUQ7TUFDRCxJQUFHLEtBQUEsS0FBUyxJQUFDLENBQUEsTUFBYjtRQUNJLElBQUMsQ0FBQSxNQUFELEdBQVU7ZUFDVixJQUFDLENBQUEsV0FBRCxHQUFlLEtBRm5COztJQURDLENBQUw7SUFJQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBSkw7R0FESjs7RUFZQSxnQkFBQyxDQUFBLFNBQUQsQ0FBVyxTQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxPQUFEO01BQ0QsSUFBRyxPQUFBLEtBQVcsSUFBQyxDQUFBLFFBQWY7UUFDSSxJQUFDLENBQUEsUUFBRCxHQUFZO2VBQ1osSUFBQyxDQUFBLFdBQUQsR0FBZSxLQUZuQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBWUEsZ0JBQUMsQ0FBQSxTQUFELENBQVcsVUFBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsUUFBRDtNQUNELElBQUcsUUFBQSxLQUFZLElBQUMsQ0FBQSxTQUFoQjtRQUNJLElBQUMsQ0FBQSxTQUFELEdBQWE7ZUFDYixJQUFDLENBQUEsV0FBRCxHQUFlLEtBRm5COztJQURDLENBQUw7SUFJQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBSkw7R0FESjs7RUFRQSxnQkFBQyxDQUFBLFNBQUQsQ0FBVyxTQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBRyxDQUFBLEtBQUssSUFBQyxDQUFBLFFBQVQ7UUFDSSxJQUFDLENBQUEsUUFBRCxHQUFZO1FBQ1osSUFBQyxDQUFBLFdBQUQsR0FBZTtlQUNm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O09BUEw7TUFRSCxNQUFBLEVBQVEsSUFBQyxDQUFBLE1BUk47TUFTSCxNQUFBLEVBQVE7UUFBRSxDQUFBLEVBQUcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxDQUFiO1FBQWdCLENBQUEsRUFBRyxJQUFDLENBQUEsTUFBTSxDQUFDLENBQTNCO09BVEw7TUFVSCxPQUFBLEVBQVMsSUFBQyxDQUFBLFFBVlA7O0VBREc7Ozs7R0FuUGEsRUFBRSxDQUFDOztBQWlRbEMsRUFBRSxDQUFDLGdCQUFILEdBQXNCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVUlFbGVtZW50XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfVUlFbGVtZW50IGV4dGVuZHMgZ3MuT2JqZWN0X0Jhc2VcbiAgICAjXG4gICAgIyBUaGUgVUkgb2JqZWN0J3MgaW1hZ2UgdXNlZCBmb3IgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAjIEBwcm9wZXJ0eSBpbWFnZVxuICAgICMgQHR5cGUgc3RyaW5nXG4gICAgI1xuICAgIEBhY2Nlc3NvcnMgXCJpbWFnZVwiLCBcbiAgICAgICAgc2V0OiAoaW1hZ2UpIC0+XG4gICAgICAgICAgICBpZiBpbWFnZSAhPSBAaW1hZ2VfXG4gICAgICAgICAgICAgICAgQGltYWdlXyA9IGltYWdlXG4gICAgICAgICAgICAgICAgQG5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgIGdldDogLT4gQGltYWdlX1xuICAgICAgICBcbiAgICAjXG4gICAgIyBUaGUgVUkgb2JqZWN0J3MgaW1hZ2UgdXNlZCBmb3IgdmlzdWFsIHByZXNlbnRhdGlvbi5cbiAgICAjIEBwcm9wZXJ0eSBpbWFnZVxuICAgICMgQHR5cGUgc3RyaW5nXG4gICAgI1xuICAgIEBhY2Nlc3NvcnMgXCJvcGFjaXR5XCIsIFxuICAgICAgICBzZXQ6IChvcGFjaXR5KSAtPlxuICAgICAgICAgICAgaWYgb3BhY2l0eSAhPSBAb3BhY2l0eV9cbiAgICAgICAgICAgICAgICBAb3BhY2l0eV8gPSBvcGFjaXR5XG4gICAgICAgICAgICAgICAgQG5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgIGdldDogLT4gQG9wYWNpdHlfXG4gICAgICAgIFxuICAgICNcbiAgICAjIFRoZSBVSSBvYmplY3QncyBpbWFnZSB1c2VkIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICMgQHByb3BlcnR5IGltYWdlXG4gICAgIyBAdHlwZSBzdHJpbmdcbiAgICAjXG4gICAgQGFjY2Vzc29ycyBcImNsaXBSZWN0XCIsIFxuICAgICAgICBzZXQ6IChjbGlwUmVjdCkgLT5cbiAgICAgICAgICAgIGlmIGNsaXBSZWN0ICE9IEBjbGlwUmVjdF9cbiAgICAgICAgICAgICAgICBAY2xpcFJlY3RfID0gY2xpcFJlY3RcbiAgICAgICAgICAgICAgICBAbmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgZ2V0OiAtPiBAY2xpcFJlY3RfXG4gICAgIFxuIFxuICAgIEBhY2Nlc3NvcnMgXCJ2aXNpYmxlXCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHZpc2libGVfXG4gICAgICAgICAgICAgICAgQHZpc2libGVfID0gdlxuICAgICAgICAgICAgICAgIEBuZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICAgICAgICAgIEBmdWxsUmVmcmVzaCgpXG4gICAgICAgICAgICBcbiAgICAgICAgZ2V0OiAtPiBAdmlzaWJsZV8gYW5kICghQHBhcmVudCBvciBAcGFyZW50LnZpc2libGUpXG4gICAgICAgIFxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgSW4tR2FtZSBVSSBvYmplY3RzLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBPYmplY3RfVUlFbGVtZW50XG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfQmFzZVxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgICAgICAgIFxuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBAaWQgPSBcIlwiXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoYXQgVUkgb2JqZWN0IHdpbGwgYnJlYWsgdGhlIGJpbmRpbmctY2hhaW4uIElmIDxiPnRydWU8L2I+IHRoZSBVSSBvYmplY3RcbiAgICAgICAgKiB3aWxsIG5vdCBjaGFuZ2UgYW55IGJpbmRpbmctdGFyZ2V0cyBmb3IgdGhlIGN1cnJlbnQgYmluZGluZy1leGVjdXRpb24gcGVyaW9kLlxuICAgICAgICAqIEBwcm9wZXJ0eSBicmVha0JpbmRpbmdDaGFpblxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBicmVha0JpbmRpbmdDaGFpbiA9IG5vXG4gICAgICAgIEBudW1iZXJzID0gbmV3IEFycmF5KDEwKVxuICAgICAgICBAZGF0YSA9IG5ldyBBcnJheSgxMClcbiAgICAgICAgQGNvbnRyb2xzQnlTdHlsZSA9IG5ldyBBcnJheSh1aS5VSU1hbmFnZXIuc3R5bGVzQnlJZC5sZW5ndGgpXG4gICAgICAgIEBwYXJlbnRzQnlTdHlsZSA9IG5ldyBBcnJheSh1aS5VSU1hbmFnZXIuc3R5bGVzQnlJZC5sZW5ndGgpXG4gICAgICAgIEBzdHlsZXMgPSBbXVxuICAgICAgICBAYWN0aXZlU3R5bGVzID0gW11cbiAgICAgICAgQGZvY3VzYWJsZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGRlc3RpbmF0aW9uIHJlY3RhbmdsZSBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IGRzdFJlY3RcbiAgICAgICAgKiBAdHlwZSB1aS5Db21wb25lbnRfVUlFbGVtZW50UmVjdGFuZ2xlXG4gICAgICAgICMjI1xuICAgICAgICBAZHN0UmVjdCA9IG5ldyB1aS5VSUVsZW1lbnRSZWN0YW5nbGUodGhpcylcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgbWFyZ2luLiBUaGUgbWFyZ2luIGRlZmluZXMgYW4gZXh0cmEgc3BhY2UgYXJvdW5kIHRoZSBVSSBvYmplY3QuIFxuICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0uXG4gICAgICAgICogQHByb3BlcnR5IG1hcmdpblxuICAgICAgICAqIEB0eXBlIHVpLlNwYWNlXG4gICAgICAgICMjI1xuICAgICAgICBAbWFyZ2luID0gbmV3IHVpLlNwYWNlKDAsIDAsIDAsIDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHBhZGRpbmcuIFRoZSBkZWZhdWx0IGlzIHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0uXG4gICAgICAgICogQHByb3BlcnR5IHBhZGRpbmdcbiAgICAgICAgKiBAdHlwZSB1aS5TcGFjZVxuICAgICAgICAjIyNcbiAgICAgICAgQHBhZGRpbmcgPSBuZXcgdWkuU3BhY2UoMCwgMCwgMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYWxpZ25tZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBhbGlnbm1lbnRcbiAgICAgICAgKiBAdHlwZSB1aS5BbGlnbm1lbnRcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbGlnbm1lbnQgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBVSSBvYmplY3QgaXMgdmlzaWJsZSBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc2libGVcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzaWJsZSA9IHllc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgVUkgb2JqZWN0IGlzIGVuYWJsZWQgYW5kIHJlc3BvbmRzIHRvIHVzZXIgYWN0aW9ucy5cbiAgICAgICAgKiBAcHJvcGVydHkgZW5hYmxlZFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBlbmFibGVkID0geWVzXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIG9yaWdpbi5cbiAgICAgICAgKiBAcHJvcGVydHkgb3JpZ2luXG4gICAgICAgICogQHR5cGUgZ3MuVmVjdG9yMlxuICAgICAgICAjIyNcbiAgICAgICAgQG9yaWdpbiA9IG5ldyB1aS5VSUVsZW1lbnRQb2ludCh0aGlzKSAjeDogMCwgeTogMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBvZmZzZXQuXG4gICAgICAgICogQHByb3BlcnR5IG9mZnNldFxuICAgICAgICAqIEB0eXBlIGdzLlZlY3RvcjJcbiAgICAgICAgIyMjXG4gICAgICAgIEBvZmZzZXQgPSBuZXcgdWkuVUlFbGVtZW50UG9pbnQodGhpcykgI3g6IDAsIHk6IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3Mgb3BhY2l0eSB0byBjb250cm9sIHRyYW5zcGFyZW5jeS4gRm9yIGV4YW1wbGU6IDAgPSBUcmFuc3BhcmVudCwgMjU1ID0gT3BhcXVlLCAxMjggPSBTZW1pLVRyYW5zcGFyZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBvcGFjaXR5XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAb3BhY2l0eSA9IDI1NVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyByZXNpemUgYmVoYXZpb3IuXG4gICAgICAgICogQHByb3BlcnR5IHJlc2l6YWJsZVxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEByZXNpemFibGUgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBhbmNob3ItcG9pbnQuIEZvciBleGFtcGxlOiBBbiBhbmNob3ItcG9pbnQgd2l0aCAwLDAgcGxhY2VzIHRoZSBvYmplY3Qgd2l0aCBpdHMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICogYXQgaXRzIHBvc2l0aW9uIGJ1dCB3aXRoIGFuIDAuNSwgMC41IGFuY2hvci1wb2ludCB0aGUgb2JqZWN0IGlzIHBsYWNlZCB3aXRoIGl0cyBjZW50ZXIuIEFuIGFuY2hvci1wb2ludCBvZiAxLDFcbiAgICAgICAgKiBwbGFjZXMgdGhlIG9iamVjdCB3aXRoIGl0cyBsb3dlci1yaWdodCBjb3JuZXIuXG4gICAgICAgICogQHByb3BlcnR5IGFuY2hvclxuICAgICAgICAqIEB0eXBlIGdzLlBvaW50XG4gICAgICAgICMjI1xuICAgICAgICBAYW5jaG9yID0gbmV3IGdzLlBvaW50KDAuMCwgMC4wKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyB6b29tLXNldHRpbmcgZm9yIHggYW5kIHkgYXhpcy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICAgICAgKiB7IHg6IDEuMCwgeTogMS4wIH1cbiAgICAgICAgKiBAcHJvcGVydHkgem9vbVxuICAgICAgICAqIEB0eXBlIGdzLlBvaW50XG4gICAgICAgICMjI1xuICAgICAgICBAem9vbSA9IG5ldyBncy5Qb2ludCgxLjAsIDEuMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgY29sb3IuXG4gICAgICAgICogQHByb3BlcnR5IGNvbG9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29sb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb2xvciA9IG5ldyBDb2xvcigyNTUsIDI1NSwgMjU1LCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBtYXNrIGZvciBtYXNraW5nLWVmZmVjdHMuXG4gICAgICAgICogQHByb3BlcnR5IG1hc2tcbiAgICAgICAgKiBAdHlwZSBncy5NYXNrXG4gICAgICAgICMjI1xuICAgICAgICBAbWFzayA9IG5ldyBncy5NYXNrKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBldmVudC1lbWl0dGVyIHRvIGVtaXQgZXZlbnRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBldmVudHNcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfRXZlbnRFbWl0dGVyXG4gICAgICAgICMjI1xuICAgICAgICBAZXZlbnRzID0gbmV3IGdzLkV2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHVwZGF0ZS1iZWhhdmlvciBvZiB0aGUgVUkgb2JqZWN0LiBUaGUgZGVmYXVsdCBpcyB1aS5VcGRhdGVCZWhhdmlvci5OT1JNQUwuXG4gICAgICAgICogQHByb3BlcnR5IHVwZGF0ZUJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgdWkuVXBkYXRlQmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEB1cGRhdGVCZWhhdmlvciA9IHVpLlVwZGF0ZUJlaGF2aW9yLk5PUk1BTFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZV9cbiAgICAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAaW1hZ2VfID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyBjbGlwLXJlY3QgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGNsaXBSZWN0X1xuICAgICAgICAqIEB0eXBlIGdzLlJlY3RcbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAY2xpcFJlY3RfID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXNpYmxlX1xuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzaWJsZV8gPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGV2ZW50cylcbiAgICAgICBcbiAgICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgdGhlIG9iamVjdCBmcm9tIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICBcbiAgICByZXN0b3JlOiAoZGF0YSkgLT5cbiAgICAgICAgQGFuY2hvciA9IG5ldyBncy5Qb2ludChkYXRhLmFuY2hvci54LCBkYXRhLmFuY2hvci55KVxuICAgICAgICBAb2Zmc2V0ID0gbmV3IGdzLlBvaW50KGRhdGEub2Zmc2V0LngsIGRhdGEub2Zmc2V0LnkpXG4gICAgICAgIEBkc3RSZWN0LnggPSBkYXRhLnhcbiAgICAgICAgQGRzdFJlY3QueSA9IGRhdGEueVxuICAgICAgICBAb3BhY2l0eSA9IGRhdGEub3BhY2l0eVxuICAgICAgICBAem9vbSA9IG5ldyBncy5Qb2ludChkYXRhLnpvb20ueCwgZGF0YS56b29tLnkpXG4gICAgICAgIEBhbmdsZSA9IGRhdGEuYW5nbGVcbiAgICAgICAgQHpJbmRleCA9IGRhdGEuekluZGV4XG4gICAgICAgIEB2aXNpYmxlXyA9IGRhdGEudmlzaWJsZVxuICAgICAgICBAcmlkID0gZGF0YS5yaWRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgb2JqZWN0IGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgXG4gICAgdG9EYXRhQnVuZGxlOiAtPiBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJpZDogQHJpZCwgXG4gICAgICAgICAgICB4OiBAZHN0UmVjdC54LCBcbiAgICAgICAgICAgIHk6IEBkc3RSZWN0LnksXG4gICAgICAgICAgICBvcGFjaXR5OiBAb3BhY2l0eSxcbiAgICAgICAgICAgIHpvb206IEB6b29tLFxuICAgICAgICAgICAgYW5nbGU6IEBhbmdsZSxcbiAgICAgICAgICAgIGFuY2hvcjogeyB4OiBAYW5jaG9yLngsIHk6IEBhbmNob3IueSB9LFxuICAgICAgICAgICAgekluZGV4OiBAekluZGV4LFxuICAgICAgICAgICAgb2Zmc2V0OiB7IHg6IEBvZmZzZXQueCwgeTogQG9mZnNldC55IH0sXG4gICAgICAgICAgICB2aXNpYmxlOiBAdmlzaWJsZV9cbiAgICAgICAgfVxuICAgICAgICBcbnVpLk9iamVjdF9VSUVsZW1lbnQgPSBPYmplY3RfVUlFbGVtZW50Il19
//# sourceURL=Object_UIElement_10.js
var Object_GridLayout,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_GridLayout = (function(superClass) {
  extend(Object_GridLayout, superClass);


  /**
  * A grid-layout which layouts all it sub-objects
  * in a grid of rows and columns.
  *
  * @module ui
  * @class Object_GridLayout
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_GridLayout(x, y, width, height, rows, columns) {
    Object_GridLayout.__super__.constructor.call(this);
    this.dstRect.set(x || 0, y || 0, width || 1, height || 1);

    /**
    * Indicates if the layout is resizable.
    * @property resizable
    * @type boolean
     */
    this.resizable = false;

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The layout's sub-objects.
    * @property controls
    * @type ui.Object_UIElement[]
     */
    this.controls = [];

    /**
    * Number of rows for the grid.
    * @property rows
    * @type number
     */
    this.rows = rows;

    /**
    * Number of columns for the grid.
    * @property columns
    * @type number
     */
    this.columns = columns;

    /**
    * The spacing between the cells of the grid.
    * @property cellSpacing
    * @type ui.Spacing
     */
    this.cellSpacing = [0, 0, 0, 0];

    /**
    * Indicates if the layouts resizes to fit its content.
    * @property sizeToFit
    * @type boolean
     */
    this.sizeToFit = false;

    /**
    * The behavior component to add grid-layout specific behavior.
    * @property behavior
    * @type gs.Component_GridLayoutBehavior
     */
    this.behavior = new gs.Component_GridLayoutBehavior();
    this.addComponent(this.behavior);
  }

  return Object_GridLayout;

})(ui.Object_UIElement);

ui.Object_GridLayout = Object_GridLayout;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsaUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSwyQkFBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQVAsRUFBYyxNQUFkLEVBQXNCLElBQXRCLEVBQTRCLE9BQTVCO0lBQ1QsaURBQUE7SUFDQSxJQUFDLENBQUEsT0FBTyxDQUFDLEdBQVQsQ0FBYSxDQUFBLElBQUssQ0FBbEIsRUFBcUIsQ0FBQSxJQUFLLENBQTFCLEVBQTZCLEtBQUEsSUFBUyxDQUF0QyxFQUF5QyxNQUFBLElBQVUsQ0FBbkQ7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxRQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFXOztBQUVYOzs7OztJQUtBLElBQUMsQ0FBQSxXQUFELEdBQWUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWOztBQUVmOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7O0FBRWI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsNEJBQUgsQ0FBQTtJQUVoQixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0VBNURTOzs7O0dBWGUsRUFBRSxDQUFDOztBQXlFbkMsRUFBRSxDQUFDLGlCQUFILEdBQXVCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfR3JpZExheW91dFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X0dyaWRMYXlvdXQgZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgIyMjKlxuICAgICogQSBncmlkLWxheW91dCB3aGljaCBsYXlvdXRzIGFsbCBpdCBzdWItb2JqZWN0c1xuICAgICogaW4gYSBncmlkIG9mIHJvd3MgYW5kIGNvbHVtbnMuXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIE9iamVjdF9HcmlkTGF5b3V0XG4gICAgKiBAZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjIyAgXG4gICAgY29uc3RydWN0b3I6ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByb3dzLCBjb2x1bW5zKSAtPlxuICAgICAgICBzdXBlcigpXG4gICAgICAgIEBkc3RSZWN0LnNldCh4IHx8IDAsIHkgfHwgMCwgd2lkdGggfHwgMSwgaGVpZ2h0IHx8IDEgKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbGF5b3V0IGlzIHJlc2l6YWJsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgcmVzaXphYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHJlc2l6YWJsZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBsYXlvdXQncyBzdWItb2JqZWN0cy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udHJvbHNcbiAgICAgICAgKiBAdHlwZSB1aS5PYmplY3RfVUlFbGVtZW50W11cbiAgICAgICAgIyMjXG4gICAgICAgIEBjb250cm9scyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogTnVtYmVyIG9mIHJvd3MgZm9yIHRoZSBncmlkLlxuICAgICAgICAqIEBwcm9wZXJ0eSByb3dzXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAcm93cyA9IHJvd3NcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBOdW1iZXIgb2YgY29sdW1ucyBmb3IgdGhlIGdyaWQuXG4gICAgICAgICogQHByb3BlcnR5IGNvbHVtbnNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBjb2x1bW5zID0gY29sdW1uc1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBzcGFjaW5nIGJldHdlZW4gdGhlIGNlbGxzIG9mIHRoZSBncmlkLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjZWxsU3BhY2luZ1xuICAgICAgICAqIEB0eXBlIHVpLlNwYWNpbmdcbiAgICAgICAgIyMjXG4gICAgICAgIEBjZWxsU3BhY2luZyA9IFswLCAwLCAwLCAwXVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbGF5b3V0cyByZXNpemVzIHRvIGZpdCBpdHMgY29udGVudC5cbiAgICAgICAgKiBAcHJvcGVydHkgc2l6ZVRvRml0XG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHNpemVUb0ZpdCA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGJlaGF2aW9yIGNvbXBvbmVudCB0byBhZGQgZ3JpZC1sYXlvdXQgc3BlY2lmaWMgYmVoYXZpb3IuXG4gICAgICAgICogQHByb3BlcnR5IGJlaGF2aW9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0dyaWRMYXlvdXRCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9HcmlkTGF5b3V0QmVoYXZpb3IoKVxuICAgICAgICBcbiAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIFxudWkuT2JqZWN0X0dyaWRMYXlvdXQgPSBPYmplY3RfR3JpZExheW91dCJdfQ==
//# sourceURL=Object_GridLayout_27.js
var Object_Hotspot,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Hotspot = (function(superClass) {
  extend(Object_Hotspot, superClass);

  Object.defineProperty(Object_Hotspot.prototype, "selected", {
    set: function(v) {
      return this.behavior.selected = v;
    },
    get: function() {
      return this.behavior.selected;
    }
  });


  /**
  * A hotspot object to define an area on the screen which can respond
  * to user-actions like mouse/touch actions. A hotspot can have multiple
  * images for different states like hovered, selected, etc.
  *
  * @module ui
  * @class Object_Hotspot
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_Hotspot(imageName, imageHandling, flipX) {
    Object_Hotspot.__super__.constructor.apply(this, arguments);

    /**
    * The UI object's source rectangle on screen.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = null;

    /**
    * The UI object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Frame
     */
    this.visual = new gs.Component_Sprite();

    /**
    * The object's image-handling.
    * @property imageHandling
    * @type gs.ImageHandling
     */
    this.imageHandling = imageHandling != null ? imageHandling : 1;

    /**
    * A behavior-component to hotspot-specific behavior to the object.
    * @property behavior
    * @type gs.Component_HotspotBehavior
     */
    this.behavior = new gs.Component_HotspotBehavior();
    this.behavior.imageHandling = this.imageHandling;

    /**
    * The UI object's bitmap used for visual presentation.
    * @property bitmap
    * @type gs.Bitmap
     */
    this.bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + imageName);
    if (this.bitmap != null) {
      if (this.imageHandling === 1) {
        this.srcRect = new Rect(0, this.bitmap.height / 2, this.bitmap.width, this.bitmap.height / 2);
      } else {
        this.srcRect = new Rect(0, 0, this.bitmap.width || 1, this.bitmap.height || 1);
      }
      this.dstRect.set(0, 0, this.srcRect.width || 1, this.srcRect.height || 1);
    } else {
      this.srcRect = new Rect(0, 0, 1, 1);
      this.dstRect.set(0, 0, 1, 1);
    }
    if (flipX) {
      this.visual.mirror = true;
    }
    this.addComponent(this.behavior);
    this.addComponent(this.visual);
  }

  return Object_Hotspot;

})(ui.Object_UIElement);

ui.Object_Hotspot = Object_Hotspot;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsY0FBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsTUFBTSxDQUFDLGNBQVAsQ0FBc0IsY0FBYyxDQUFDLFNBQXJDLEVBQWdELFVBQWhELEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO2FBQU8sSUFBQyxDQUFBLFFBQVEsQ0FBQyxRQUFWLEdBQXFCO0lBQTVCLENBQUw7SUFDQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQSxRQUFRLENBQUM7SUFBYixDQURMO0dBREo7OztBQUtBOzs7Ozs7Ozs7Ozs7RUFXYSx3QkFBQyxTQUFELEVBQVksYUFBWixFQUEyQixLQUEzQjtJQUNULGlEQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQUE7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsMkJBQWlCLGdCQUFnQjs7QUFFakM7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMseUJBQUgsQ0FBQTtJQUNoQixJQUFDLENBQUEsUUFBUSxDQUFDLGFBQVYsR0FBMEIsSUFBQyxDQUFBOztBQUUzQjs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFVLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixvQkFBQSxHQUFxQixTQUEvQztJQUVWLElBQUcsbUJBQUg7TUFDSSxJQUFHLElBQUMsQ0FBQSxhQUFELEtBQWtCLENBQXJCO1FBQ0ksSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLElBQUEsQ0FBSyxDQUFMLEVBQVEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLENBQXpCLEVBQTRCLElBQUMsQ0FBQSxNQUFNLENBQUMsS0FBcEMsRUFBMkMsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLEdBQWlCLENBQTVELEVBRG5CO09BQUEsTUFBQTtRQUdJLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsSUFBaUIsQ0FBNUIsRUFBK0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLElBQWtCLENBQWpELEVBSG5COztNQUlBLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsSUFBQyxDQUFBLE9BQU8sQ0FBQyxLQUFULElBQWtCLENBQXJDLEVBQXdDLElBQUMsQ0FBQSxPQUFPLENBQUMsTUFBVCxJQUFtQixDQUEzRCxFQUxKO0tBQUEsTUFBQTtNQU9JLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLENBQVIsRUFBVyxDQUFYLEVBQWMsQ0FBZDtNQUNmLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBb0IsQ0FBcEIsRUFBd0IsQ0FBeEIsRUFSSjs7SUFVQSxJQUFHLEtBQUg7TUFDSSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsR0FBaUIsS0FEckI7O0lBR0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE1BQWY7RUFyRFM7Ozs7R0FqQlksRUFBRSxDQUFDOztBQXdFaEMsRUFBRSxDQUFDLGNBQUgsR0FBb0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9Ib3RzcG90XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfSG90c3BvdCBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0X0hvdHNwb3QucHJvdG90eXBlLCBcInNlbGVjdGVkXCIsXG4gICAgICAgIHNldDogKHYpIC0+IEBiZWhhdmlvci5zZWxlY3RlZCA9IHZcbiAgICAgICAgZ2V0OiAtPiBAYmVoYXZpb3Iuc2VsZWN0ZWRcbiAgICApXG4gICAgXG4gICAgIyMjKlxuICAgICogQSBob3RzcG90IG9iamVjdCB0byBkZWZpbmUgYW4gYXJlYSBvbiB0aGUgc2NyZWVuIHdoaWNoIGNhbiByZXNwb25kXG4gICAgKiB0byB1c2VyLWFjdGlvbnMgbGlrZSBtb3VzZS90b3VjaCBhY3Rpb25zLiBBIGhvdHNwb3QgY2FuIGhhdmUgbXVsdGlwbGVcbiAgICAqIGltYWdlcyBmb3IgZGlmZmVyZW50IHN0YXRlcyBsaWtlIGhvdmVyZWQsIHNlbGVjdGVkLCBldGMuXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIE9iamVjdF9Ib3RzcG90XG4gICAgKiBAZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjIyBcbiAgICBjb25zdHJ1Y3RvcjogKGltYWdlTmFtZSwgaW1hZ2VIYW5kbGluZywgZmxpcFgpIC0+XG4gICAgICAgIHN1cGVyXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHNvdXJjZSByZWN0YW5nbGUgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzcmNSZWN0XG4gICAgICAgICogQHR5cGUgZ3MuUmVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHNyY1JlY3QgPSBudWxsXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHZpc3VhbC1jb21wb25lbnQgdG8gZGlzcGxheSB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXN1YWxcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfRnJhbWVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1Nwcml0ZSgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIGltYWdlLWhhbmRsaW5nLlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZUhhbmRsaW5nXG4gICAgICAgICogQHR5cGUgZ3MuSW1hZ2VIYW5kbGluZ1xuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlSGFuZGxpbmcgPSBpbWFnZUhhbmRsaW5nID8gMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEEgYmVoYXZpb3ItY29tcG9uZW50IHRvIGhvdHNwb3Qtc3BlY2lmaWMgYmVoYXZpb3IgdG8gdGhlIG9iamVjdC5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfSG90c3BvdEJlaGF2aW9yXG4gICAgICAgICMjI1xuICAgICAgICBAYmVoYXZpb3IgPSBuZXcgZ3MuQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvcigpXG4gICAgICAgIEBiZWhhdmlvci5pbWFnZUhhbmRsaW5nID0gQGltYWdlSGFuZGxpbmdcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYml0bWFwIHVzZWQgZm9yIHZpc3VhbCBwcmVzZW50YXRpb24uXG4gICAgICAgICogQHByb3BlcnR5IGJpdG1hcFxuICAgICAgICAqIEB0eXBlIGdzLkJpdG1hcFxuICAgICAgICAjIyNcbiAgICAgICAgQGJpdG1hcCA9IFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2ltYWdlTmFtZX1cIilcbiAgICAgICAgXG4gICAgICAgIGlmIEBiaXRtYXA/XG4gICAgICAgICAgICBpZiBAaW1hZ2VIYW5kbGluZyA9PSAxXG4gICAgICAgICAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCBAYml0bWFwLmhlaWdodCAvIDIsIEBiaXRtYXAud2lkdGgsIEBiaXRtYXAuaGVpZ2h0IC8gMilcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KDAsIDAsIEBiaXRtYXAud2lkdGggfHwgMSwgQGJpdG1hcC5oZWlnaHQgfHwgMSlcbiAgICAgICAgICAgIEBkc3RSZWN0LnNldCgwLCAwLCBAc3JjUmVjdC53aWR0aCB8fCAxLCBAc3JjUmVjdC5oZWlnaHQgfHwgMSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCAxLCAxKVxuICAgICAgICAgICAgQGRzdFJlY3Quc2V0KDAsIDAsICAxLCAgMSlcbiAgICAgICAgICAgIFxuICAgICAgICBpZiBmbGlwWFxuICAgICAgICAgICAgQHZpc3VhbC5taXJyb3IgPSB5ZXNcbiAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEB2aXN1YWwpXG4gICAgICAgIFxudWkuT2JqZWN0X0hvdHNwb3QgPSBPYmplY3RfSG90c3BvdCJdfQ==
//# sourceURL=Object_Hotspot_32.js
var Object_Image,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Image = (function(superClass) {
  extend(Object_Image, superClass);


  /**
  * An UI image object to display an image on screen.
  *
  * @module ui
  * @class Object_Image
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_Image(imageName, imageHandling) {
    Object_Image.__super__.constructor.apply(this, arguments);

    /**
    * The UI object's source rectangle on screen.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = null;

    /**
    * The UI object's rotation-angle in degrees. The rotation center depends on the
    * anchor-point.
    * @property angle
    * @type number
     */
    this.angle = 0;

    /**
    * The UI object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();

    /**
    * The UI object's bitmap used for visual presentation.
    * @property bitmap
    * @type gs.Bitmap
     */
    if (imageName && imageName[0] === "$") {
      this.bitmap = ResourceManager.getBitmap(imageName);
    } else {
      this.bitmap = ResourceManager.getBitmap("Graphics/Pictures/" + imageName);
    }
    if (this.bitmap != null) {
      if (imageHandling === 1) {
        this.srcRect = new Rect(0, this.bitmap.height / 2, this.bitmap.width, this.bitmap.height / 2);
      } else {
        this.srcRect = new Rect(0, 0, this.bitmap.width || 1, this.bitmap.height || 1);
      }
      this.dstRect.set(0, 0, this.srcRect.width || 1, this.srcRect.height || 1);
    } else {
      this.srcRect = new Rect(0, 0, 1, 1);
      this.dstRect.set(0, 0, 1, 1);
    }
    this.addComponent(this.visual);
  }

  return Object_Image;

})(ui.Object_UIElement);

ui.Object_Image = Object_Image;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7O0VBU2Esc0JBQUMsU0FBRCxFQUFZLGFBQVo7SUFDVCwrQ0FBQSxTQUFBOztBQUdBOzs7OztJQUtBLElBQUMsQ0FBQSxPQUFELEdBQVc7O0FBRVg7Ozs7OztJQU1BLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxnQkFBSCxDQUFBOztBQUVkOzs7OztJQUtBLElBQUcsU0FBQSxJQUFhLFNBQVUsQ0FBQSxDQUFBLENBQVYsS0FBZ0IsR0FBaEM7TUFDSSxJQUFDLENBQUEsTUFBRCxHQUFVLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixTQUExQixFQURkO0tBQUEsTUFBQTtNQUdJLElBQUMsQ0FBQSxNQUFELEdBQVUsZUFBZSxDQUFDLFNBQWhCLENBQTBCLG9CQUFBLEdBQXFCLFNBQS9DLEVBSGQ7O0lBS0EsSUFBRyxtQkFBSDtNQUNJLElBQUcsYUFBQSxLQUFpQixDQUFwQjtRQUNJLElBQUMsQ0FBQSxPQUFELEdBQWUsSUFBQSxJQUFBLENBQUssQ0FBTCxFQUFRLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixDQUF6QixFQUE0QixJQUFDLENBQUEsTUFBTSxDQUFDLEtBQXBDLEVBQTJDLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixHQUFpQixDQUE1RCxFQURuQjtPQUFBLE1BQUE7UUFHSSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsSUFBQyxDQUFBLE1BQU0sQ0FBQyxLQUFSLElBQWlCLENBQTVCLEVBQStCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixJQUFrQixDQUFqRCxFQUhuQjs7TUFJQSxJQUFDLENBQUEsT0FBTyxDQUFDLEdBQVQsQ0FBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLElBQUMsQ0FBQSxPQUFPLENBQUMsS0FBVCxJQUFrQixDQUFyQyxFQUF3QyxJQUFDLENBQUEsT0FBTyxDQUFDLE1BQVQsSUFBbUIsQ0FBM0QsRUFMSjtLQUFBLE1BQUE7TUFPSSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7TUFDZixJQUFDLENBQUEsT0FBTyxDQUFDLEdBQVQsQ0FBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBUko7O0lBVUEsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtFQTlDUzs7OztHQVZVLEVBQUUsQ0FBQzs7QUEwRDlCLEVBQUUsQ0FBQyxZQUFILEdBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfSW1hZ2VcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9JbWFnZSBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAjIyMqXG4gICAgKiBBbiBVSSBpbWFnZSBvYmplY3QgdG8gZGlzcGxheSBhbiBpbWFnZSBvbiBzY3JlZW4uXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIE9iamVjdF9JbWFnZVxuICAgICogQGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgIFxuICAgIGNvbnN0cnVjdG9yOiAoaW1hZ2VOYW1lLCBpbWFnZUhhbmRsaW5nKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3Mgc291cmNlIHJlY3RhbmdsZSBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHNyY1JlY3RcbiAgICAgICAgKiBAdHlwZSBncy5SZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAc3JjUmVjdCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3Mgcm90YXRpb24tYW5nbGUgaW4gZGVncmVlcy4gVGhlIHJvdGF0aW9uIGNlbnRlciBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAqIGFuY2hvci1wb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5nbGVcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmdsZSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9TcHJpdGVcbiAgICAgICAgIyMjXG4gICAgICAgIEB2aXN1YWwgPSBuZXcgZ3MuQ29tcG9uZW50X1Nwcml0ZSgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGJpdG1hcCB1c2VkIGZvciB2aXN1YWwgcHJlc2VudGF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBiaXRtYXBcbiAgICAgICAgKiBAdHlwZSBncy5CaXRtYXBcbiAgICAgICAgIyMjXG4gICAgICAgIGlmIGltYWdlTmFtZSAmJiBpbWFnZU5hbWVbMF0gPT0gXCIkXCJcbiAgICAgICAgICAgIEBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKGltYWdlTmFtZSlcbiAgICAgICAgZWxzZSAgICBcbiAgICAgICAgICAgIEBiaXRtYXAgPSBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tpbWFnZU5hbWV9XCIpXG4gICAgICAgIFxuICAgICAgICBpZiBAYml0bWFwP1xuICAgICAgICAgICAgaWYgaW1hZ2VIYW5kbGluZyA9PSAxXG4gICAgICAgICAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCBAYml0bWFwLmhlaWdodCAvIDIsIEBiaXRtYXAud2lkdGgsIEBiaXRtYXAuaGVpZ2h0IC8gMilcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBAc3JjUmVjdCA9IG5ldyBSZWN0KDAsIDAsIEBiaXRtYXAud2lkdGggfHwgMSwgQGJpdG1hcC5oZWlnaHQgfHwgMSlcbiAgICAgICAgICAgIEBkc3RSZWN0LnNldCgwLCAwLCBAc3JjUmVjdC53aWR0aCB8fCAxLCBAc3JjUmVjdC5oZWlnaHQgfHwgMSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCAxLCAxKVxuICAgICAgICAgICAgQGRzdFJlY3Quc2V0KDAsIDAsIDEsIDEpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEB2aXN1YWwpXG4gICAgICAgIFxudWkuT2JqZWN0X0ltYWdlID0gT2JqZWN0X0ltYWdlIl19
//# sourceURL=Object_Image_45.js
var Object_Message,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Message = (function(superClass) {
  extend(Object_Message, superClass);

  Object_Message.objectCodecBlackList = ["parent", "controlsByStyle", "parentsByStyle", "styles", "activeStyles"];


  /**
  * A message object to display game messages on screen.
  *
  * @module ui
  * @class Object_Message
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_Message() {
    Object_Message.__super__.constructor.apply(this, arguments);
    this.visible = false;

    /**
    * The font used for the message text.
    * @property font
    * @type gs.Font
     */
    this.font = new Font("Verdana", Math.round(9 / 240 * Graphics.height));
    this.font.border = false;
    this.font.borderColor = new Color(0, 0, 0);

    /**
    * The text-renderer used to render the message text.
    * @property textRenderer
    * @type gs.Component_MessageTextRenderer
     */
    this.textRenderer = new gs.Component_MessageTextRenderer();

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type gs.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The UI object's source rectangle on screen.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = new Rect(0, 0, 1, 1);
    this.message = new vn.Component_MessageBehavior();

    /**
    * The UI object's component to add message-specific behavior.
    * @property behavior
    * @type vn.Component_MessageBehavior
     */
    this.behavior = this.message;
    this.addComponent(this.animator);
    this.addComponent(this.textRenderer);
    this.addComponent(this.message);
  }


  /**
  * Restores the object from a data-bundle.
  *
  * @method restore
  * @param {Object} data - The data-bundle.
   */

  Object_Message.prototype.restore = function(data) {
    Object_Message.__super__.restore.call(this, data);
    this.font = new Font(data.font.name, data.font.size);
    this.font.restore(data.font);
    this.dstRect.width = data.width;
    return this.dstRect.height = data.height;
  };


  /**
  * Serializes the object into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} The data-bundle.
   */

  Object_Message.prototype.toDataBundle = function() {
    var bundle;
    bundle = Object_Message.__super__.toDataBundle.call(this);
    bundle.font = this.font.toDataBundle();
    bundle.width = this.dstRect.width;
    bundle.height = this.dstRect.height;
    return bundle;
  };

  return Object_Message;

})(ui.Object_UIElement);

ui.Object_Message = Object_Message;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsY0FBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsY0FBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRCxFQUFXLGlCQUFYLEVBQThCLGdCQUE5QixFQUFnRCxRQUFoRCxFQUEwRCxjQUExRDs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2Esd0JBQUE7SUFDVCxpREFBQSxTQUFBO0lBQ0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsSUFBQSxDQUFLLFNBQUwsRUFBZ0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFBLEdBQUksR0FBSixHQUFVLFFBQVEsQ0FBQyxNQUE5QixDQUFoQjtJQUNaLElBQUMsQ0FBQSxJQUFJLENBQUMsTUFBTixHQUFlO0lBQ2YsSUFBQyxDQUFBLElBQUksQ0FBQyxXQUFOLEdBQXdCLElBQUEsS0FBQSxDQUFNLENBQU4sRUFBUyxDQUFULEVBQVksQ0FBWjs7QUFFeEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFlBQUQsR0FBb0IsSUFBQSxFQUFFLENBQUMsNkJBQUgsQ0FBQTs7QUFFcEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsUUFBSCxDQUFBOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxFQUFjLENBQWQ7SUFFZixJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsRUFBRSxDQUFDLHlCQUFILENBQUE7O0FBRWY7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFDLENBQUE7SUFFYixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsWUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE9BQWY7RUE3Q1M7OztBQWdEYjs7Ozs7OzsyQkFNQSxPQUFBLEdBQVMsU0FBQyxJQUFEO0lBQ0wsNENBQU0sSUFBTjtJQUNBLElBQUMsQ0FBQSxJQUFELEdBQVksSUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFmLEVBQXFCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBL0I7SUFDWixJQUFDLENBQUEsSUFBSSxDQUFDLE9BQU4sQ0FBYyxJQUFJLENBQUMsSUFBbkI7SUFDQSxJQUFDLENBQUEsT0FBTyxDQUFDLEtBQVQsR0FBaUIsSUFBSSxDQUFDO1dBQ3RCLElBQUMsQ0FBQSxPQUFPLENBQUMsTUFBVCxHQUFrQixJQUFJLENBQUM7RUFMbEI7OztBQU9UOzs7Ozs7OzJCQU1BLFlBQUEsR0FBYyxTQUFBO0FBQ1YsUUFBQTtJQUFBLE1BQUEsR0FBUywrQ0FBQTtJQUVULE1BQU0sQ0FBQyxJQUFQLEdBQWMsSUFBQyxDQUFBLElBQUksQ0FBQyxZQUFOLENBQUE7SUFDZCxNQUFNLENBQUMsS0FBUCxHQUFlLElBQUMsQ0FBQSxPQUFPLENBQUM7SUFDeEIsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsSUFBQyxDQUFBLE9BQU8sQ0FBQztBQUV6QixXQUFPO0VBUEc7Ozs7R0EvRVcsRUFBRSxDQUFDOztBQXdGaEMsRUFBRSxDQUFDLGNBQUgsR0FBb0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9NZXNzYWdlXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfTWVzc2FnZSBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICBAb2JqZWN0Q29kZWNCbGFja0xpc3QgPSBbXCJwYXJlbnRcIiwgXCJjb250cm9sc0J5U3R5bGVcIiwgXCJwYXJlbnRzQnlTdHlsZVwiLCBcInN0eWxlc1wiLCBcImFjdGl2ZVN0eWxlc1wiXVxuICAgIFxuICAgICMjIypcbiAgICAqIEEgbWVzc2FnZSBvYmplY3QgdG8gZGlzcGxheSBnYW1lIG1lc3NhZ2VzIG9uIHNjcmVlbi5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgT2JqZWN0X01lc3NhZ2VcbiAgICAqIEBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjIFxuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAdmlzaWJsZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGZvbnQgdXNlZCBmb3IgdGhlIG1lc3NhZ2UgdGV4dC5cbiAgICAgICAgKiBAcHJvcGVydHkgZm9udFxuICAgICAgICAqIEB0eXBlIGdzLkZvbnRcbiAgICAgICAgIyMjXG4gICAgICAgIEBmb250ID0gbmV3IEZvbnQoXCJWZXJkYW5hXCIsIE1hdGgucm91bmQoOSAvIDI0MCAqIEdyYXBoaWNzLmhlaWdodCkpXG4gICAgICAgIEBmb250LmJvcmRlciA9IG5vXG4gICAgICAgIEBmb250LmJvcmRlckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHRleHQtcmVuZGVyZXIgdXNlZCB0byByZW5kZXIgdGhlIG1lc3NhZ2UgdGV4dC5cbiAgICAgICAgKiBAcHJvcGVydHkgdGV4dFJlbmRlcmVyXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZXh0UmVuZGVyZXIgPSBuZXcgZ3MuQ29tcG9uZW50X01lc3NhZ2VUZXh0UmVuZGVyZXIoKVxuXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYW5pbWF0b3ItY29tcG9uZW50IHRvIGV4ZWN1dGUgZGlmZmVyZW50IGtpbmQgb2YgYW5pbWF0aW9ucyBsaWtlIG1vdmUsIHJvdGF0ZSwgZXRjLiBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5pbWF0b3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfQW5pbWF0b3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmltYXRvciA9IG5ldyBncy5BbmltYXRvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHNvdXJjZSByZWN0YW5nbGUgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzcmNSZWN0XG4gICAgICAgICogQHR5cGUgZ3MuUmVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQHNyY1JlY3QgPSBuZXcgUmVjdCgwLCAwLCAxLCAxKVxuICAgICAgICBcbiAgICAgICAgQG1lc3NhZ2UgPSBuZXcgdm4uQ29tcG9uZW50X01lc3NhZ2VCZWhhdmlvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGNvbXBvbmVudCB0byBhZGQgbWVzc2FnZS1zcGVjaWZpYyBiZWhhdmlvci5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSB2bi5Db21wb25lbnRfTWVzc2FnZUJlaGF2aW9yXG4gICAgICAgICMjI1xuICAgICAgICBAYmVoYXZpb3IgPSBAbWVzc2FnZVxuICAgICAgICBcbiAgICAgICAgQGFkZENvbXBvbmVudChAYW5pbWF0b3IpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHRleHRSZW5kZXJlcilcbiAgICAgICAgQGFkZENvbXBvbmVudChAbWVzc2FnZSlcbiAgICAgICAgXG4gICAgXG4gICAgIyMjKlxuICAgICogUmVzdG9yZXMgdGhlIG9iamVjdCBmcm9tIGEgZGF0YS1idW5kbGUuXG4gICAgKlxuICAgICogQG1ldGhvZCByZXN0b3JlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhLWJ1bmRsZS5cbiAgICAjIyMgICBcbiAgICByZXN0b3JlOiAoZGF0YSkgLT5cbiAgICAgICAgc3VwZXIoZGF0YSlcbiAgICAgICAgQGZvbnQgPSBuZXcgRm9udChkYXRhLmZvbnQubmFtZSwgZGF0YS5mb250LnNpemUpXG4gICAgICAgIEBmb250LnJlc3RvcmUoZGF0YS5mb250KVxuICAgICAgICBAZHN0UmVjdC53aWR0aCA9IGRhdGEud2lkdGhcbiAgICAgICAgQGRzdFJlY3QuaGVpZ2h0ID0gZGF0YS5oZWlnaHRcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogU2VyaWFsaXplcyB0aGUgb2JqZWN0IGludG8gYSBkYXRhLWJ1bmRsZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHRvRGF0YUJ1bmRsZVxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGF0YS1idW5kbGUuXG4gICAgIyMjICAgXG4gICAgdG9EYXRhQnVuZGxlOiAtPiBcbiAgICAgICAgYnVuZGxlID0gc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgYnVuZGxlLmZvbnQgPSBAZm9udC50b0RhdGFCdW5kbGUoKVxuICAgICAgICBidW5kbGUud2lkdGggPSBAZHN0UmVjdC53aWR0aFxuICAgICAgICBidW5kbGUuaGVpZ2h0ID0gQGRzdFJlY3QuaGVpZ2h0XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYnVuZGxlXG4gICAgICAgIFxudWkuT2JqZWN0X01lc3NhZ2UgPSBPYmplY3RfTWVzc2FnZSJdfQ==
//# sourceURL=Object_Message_59.js
var Object_Panel,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Panel = (function(superClass) {
  extend(Object_Panel, superClass);


  /**
  * An UI panel object display a colored rectangle area on screen or can also
  * be completely transparent. A panel can be modal to block all user-input
  * for UI object placed behind it. 
  * 
  * So for example: To make a confirmation dialog
  * like "Do you really want to exit?" a panel is useful to avoid that the user
  * can click on other UI elements behind the confirmation dialog.
  *
  * @module ui
  * @class Object_Panel
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_Panel(x, y, width, height) {
    Object_Panel.__super__.constructor.call(this);
    this.dstRect.set(x || 0, y || 0, width || 100, height || 100);

    /**
    * The UI object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Quad
     */
    this.visual = new gs.Component_Quad();

    /**
    * Indicates if the panel is modal. A modal panel blocks all user-input for UI objects
    * behind the panel.
    * @property modal
    * @type boolean
     */
    this.modal = false;
    this.addComponent(this.visual);
    this.addComponent(new gs.Component_PanelBehavior());
  }

  return Object_Panel;

})(ui.Object_UIElement);

ui.Object_Panel = Object_Panel;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7Ozs7Ozs7O0VBZWEsc0JBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxLQUFQLEVBQWMsTUFBZDtJQUNULDRDQUFBO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxHQUFULENBQWEsQ0FBQSxJQUFLLENBQWxCLEVBQXFCLENBQUEsSUFBSyxDQUExQixFQUE2QixLQUFBLElBQVMsR0FBdEMsRUFBMkMsTUFBQSxJQUFVLEdBQXJEOztBQUVBOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsY0FBSCxDQUFBOztBQUVkOzs7Ozs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWtCLElBQUEsRUFBRSxDQUFDLHVCQUFILENBQUEsQ0FBbEI7RUFwQlM7Ozs7R0FoQlUsRUFBRSxDQUFDOztBQXNDOUIsRUFBRSxDQUFDLFlBQUgsR0FBa0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9QYW5lbFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1BhbmVsIGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICMjIypcbiAgICAqIEFuIFVJIHBhbmVsIG9iamVjdCBkaXNwbGF5IGEgY29sb3JlZCByZWN0YW5nbGUgYXJlYSBvbiBzY3JlZW4gb3IgY2FuIGFsc29cbiAgICAqIGJlIGNvbXBsZXRlbHkgdHJhbnNwYXJlbnQuIEEgcGFuZWwgY2FuIGJlIG1vZGFsIHRvIGJsb2NrIGFsbCB1c2VyLWlucHV0XG4gICAgKiBmb3IgVUkgb2JqZWN0IHBsYWNlZCBiZWhpbmQgaXQuIFxuICAgICogXG4gICAgKiBTbyBmb3IgZXhhbXBsZTogVG8gbWFrZSBhIGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAgICAqIGxpa2UgXCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZXhpdD9cIiBhIHBhbmVsIGlzIHVzZWZ1bCB0byBhdm9pZCB0aGF0IHRoZSB1c2VyXG4gICAgKiBjYW4gY2xpY2sgb24gb3RoZXIgVUkgZWxlbWVudHMgYmVoaW5kIHRoZSBjb25maXJtYXRpb24gZGlhbG9nLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBPYmplY3RfUGFuZWxcbiAgICAqIEBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjICBcbiAgICBjb25zdHJ1Y3RvcjogKHgsIHksIHdpZHRoLCBoZWlnaHQpIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgQGRzdFJlY3Quc2V0KHggfHwgMCwgeSB8fCAwLCB3aWR0aCB8fCAxMDAsIGhlaWdodCB8fCAxMDApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHZpc3VhbC1jb21wb25lbnQgdG8gZGlzcGxheSB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXN1YWxcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfUXVhZFxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfUXVhZCgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBwYW5lbCBpcyBtb2RhbC4gQSBtb2RhbCBwYW5lbCBibG9ja3MgYWxsIHVzZXItaW5wdXQgZm9yIFVJIG9iamVjdHNcbiAgICAgICAgKiBiZWhpbmQgdGhlIHBhbmVsLlxuICAgICAgICAqIEBwcm9wZXJ0eSBtb2RhbFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBtb2RhbCA9IG5vXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEB2aXN1YWwpXG4gICAgICAgIEBhZGRDb21wb25lbnQobmV3IGdzLkNvbXBvbmVudF9QYW5lbEJlaGF2aW9yKCkpXG4gICAgICAgIFxudWkuT2JqZWN0X1BhbmVsID0gT2JqZWN0X1BhbmVsIl19
//# sourceURL=Object_Panel_67.js
var Object_FreeLayout,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_FreeLayout = (function(superClass) {
  extend(Object_FreeLayout, superClass);

  Object_FreeLayout.accessors("zIndex", {
    set: function(v) {
      return this.zIndex_ = v;
    },
    get: function() {
      return (this.zIndex_ || 0) + (!this.parent ? 0 : this.parent.zIndex || 0);
    }
  });


  /**
  * A free-layout which layouts all sub-objects at their specified positions. 
  * So that kind of layout allows each sub-object to be freely positioned.
  *
  * @module ui
  * @class Object_FreeLayout
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_FreeLayout(x, y, width, height) {
    Object_FreeLayout.__super__.constructor.call(this);
    this.dstRect.set(x || 0, y || 0, width || 1, height || 1);

    /**
    * Indicates if the layout is resizable.
    * @property resizable
    * @type boolean
     */
    this.resizable = false;

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The layout's sub-objects.
    * @property controls
    * @type ui.Object_UIElement[]
     */
    this.controls = [];

    /**
    * The behavior component to add free-layout specific behavior.
    * @property behavior
    * @type gs.Component_FreeLayoutBehavior
     */
    this.behavior = new gs.Component_FreeLayoutBehavior();

    /**
    * Indicates if the layouts resizes to fit its content.
    * @property sizeToFit
    * @type boolean
     */
    this.sizeToFit = false;
    this.addComponent(this.behavior);
    this.addComponent(this.animator);
  }

  return Object_FreeLayout;

})(ui.Object_UIElement);

ui.Object_FreeLayout = Object_FreeLayout;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsaUJBQUE7RUFBQTs7O0FBQU07OztFQUNGLGlCQUFDLENBQUEsU0FBRCxDQUFXLFFBQVgsRUFDSTtJQUFBLEdBQUEsRUFBSyxTQUFDLENBQUQ7YUFBTyxJQUFDLENBQUEsT0FBRCxHQUFXO0lBQWxCLENBQUw7SUFDQSxHQUFBLEVBQUssU0FBQTthQUFHLENBQUMsSUFBQyxDQUFBLE9BQUQsSUFBWSxDQUFiLENBQUEsR0FBa0IsQ0FBSSxDQUFDLElBQUMsQ0FBQSxNQUFMLEdBQWlCLENBQWpCLEdBQXdCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixJQUFrQixDQUEzQztJQUFyQixDQURMO0dBREo7OztBQUlBOzs7Ozs7Ozs7OztFQVVhLDJCQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sS0FBUCxFQUFjLE1BQWQ7SUFDVCxpREFBQTtJQUVBLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFhLENBQUEsSUFBSyxDQUFsQixFQUFxQixDQUFBLElBQUssQ0FBMUIsRUFBNkIsS0FBQSxJQUFTLENBQXRDLEVBQXlDLE1BQUEsSUFBVSxDQUFuRDs7QUFFQTs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhOztBQUViOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLFFBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyw0QkFBSCxDQUFBOztBQUVoQjs7Ozs7SUFLQSxJQUFDLENBQUEsU0FBRCxHQUFhO0lBRWIsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLFFBQWY7RUF6Q1M7Ozs7R0FmZSxFQUFFLENBQUM7O0FBMkRuQyxFQUFFLENBQUMsaUJBQUgsR0FBdUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9GcmVlTGF5b3V0XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfRnJlZUxheW91dCBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICBAYWNjZXNzb3JzIFwiekluZGV4XCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBAekluZGV4XyA9IHYsIFxuICAgICAgICBnZXQ6IC0+IChAekluZGV4XyB8fCAwKSArIChpZiAhQHBhcmVudCB0aGVuIDAgZWxzZSBAcGFyZW50LnpJbmRleCB8fCAwKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGZyZWUtbGF5b3V0IHdoaWNoIGxheW91dHMgYWxsIHN1Yi1vYmplY3RzIGF0IHRoZWlyIHNwZWNpZmllZCBwb3NpdGlvbnMuIFxuICAgICogU28gdGhhdCBraW5kIG9mIGxheW91dCBhbGxvd3MgZWFjaCBzdWItb2JqZWN0IHRvIGJlIGZyZWVseSBwb3NpdGlvbmVkLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBPYmplY3RfRnJlZUxheW91dFxuICAgICogQGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgIFxuICAgIGNvbnN0cnVjdG9yOiAoeCwgeSwgd2lkdGgsIGhlaWdodCkgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgQGRzdFJlY3Quc2V0KHggfHwgMCwgeSB8fCAwLCB3aWR0aCB8fCAxLCBoZWlnaHQgfHwgMSApXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBsYXlvdXQgaXMgcmVzaXphYmxlLlxuICAgICAgICAqIEBwcm9wZXJ0eSByZXNpemFibGVcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAcmVzaXphYmxlID0gbm9cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgYW5pbWF0b3ItY29tcG9uZW50IHRvIGV4ZWN1dGUgZGlmZmVyZW50IGtpbmQgb2YgYW5pbWF0aW9ucyBsaWtlIG1vdmUsIHJvdGF0ZSwgZXRjLiBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5pbWF0b3JcbiAgICAgICAgKiBAdHlwZSB2bi5Db21wb25lbnRfQW5pbWF0b3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmltYXRvciA9IG5ldyBncy5BbmltYXRvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGxheW91dCdzIHN1Yi1vYmplY3RzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBjb250cm9sc1xuICAgICAgICAqIEB0eXBlIHVpLk9iamVjdF9VSUVsZW1lbnRbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGNvbnRyb2xzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgYmVoYXZpb3IgY29tcG9uZW50IHRvIGFkZCBmcmVlLWxheW91dCBzcGVjaWZpYyBiZWhhdmlvci5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfRnJlZUxheW91dEJlaGF2aW9yXG4gICAgICAgICMjI1xuICAgICAgICBAYmVoYXZpb3IgPSBuZXcgZ3MuQ29tcG9uZW50X0ZyZWVMYXlvdXRCZWhhdmlvcigpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBsYXlvdXRzIHJlc2l6ZXMgdG8gZml0IGl0cyBjb250ZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBzaXplVG9GaXRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAc2l6ZVRvRml0ID0gbm9cbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgXG4gICAgICAgIFxudWkuT2JqZWN0X0ZyZWVMYXlvdXQgPSBPYmplY3RfRnJlZUxheW91dCJdfQ==
//# sourceURL=Object_FreeLayout_81.js
var Object_Frame,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Frame = (function(superClass) {
  extend(Object_Frame, superClass);


  /**
  * An UI frame object to display an frame on screen useful for buttons, windows, etc.
  *
  * @module ui
  * @class Object_Frame
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_Frame(skin) {
    Object_Frame.__super__.constructor.apply(this, arguments);
    this.image = skin || GameManager.windowSkin;

    /**
    * The UI object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Frame
     */
    this.visual = new gs.Component_Frame();

    /**
    * The thickness of the frame/border in pixels. Default is 16.
    * @property frameThickness
    * @type number
     */
    this.frameThickness = 16;

    /**
    * The corner-size of the frame in pixels. Default is 16(16x16 pixel).
    * @property frameCornerSize
    * @type number
     */
    this.frameCornerSize = 16;
    this.addComponent(this.visual);
  }

  return Object_Frame;

})(ui.Object_UIElement);

ui.Object_Frame = Object_Frame;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7O0VBU2Esc0JBQUMsSUFBRDtJQUNULCtDQUFBLFNBQUE7SUFDQSxJQUFDLENBQUEsS0FBRCxHQUFTLElBQUEsSUFBUSxXQUFXLENBQUM7O0FBRTdCOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsZUFBSCxDQUFBOztBQUdkOzs7OztJQUtBLElBQUMsQ0FBQSxjQUFELEdBQWtCOztBQUVsQjs7Ozs7SUFLQSxJQUFDLENBQUEsZUFBRCxHQUFtQjtJQUVuQixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0VBMUJTOzs7O0dBVlUsRUFBRSxDQUFDOztBQXNDOUIsRUFBRSxDQUFDLFlBQUgsR0FBa0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9GcmFtZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X0ZyYW1lIGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICMjIypcbiAgICAqIEFuIFVJIGZyYW1lIG9iamVjdCB0byBkaXNwbGF5IGFuIGZyYW1lIG9uIHNjcmVlbiB1c2VmdWwgZm9yIGJ1dHRvbnMsIHdpbmRvd3MsIGV0Yy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgT2JqZWN0X0ZyYW1lXG4gICAgKiBAZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjIyAgXG4gICAgY29uc3RydWN0b3I6IChza2luKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAaW1hZ2UgPSBza2luIHx8IEdhbWVNYW5hZ2VyLndpbmRvd1NraW5cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgdmlzdWFsLWNvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBnYW1lIG9iamVjdCBvbiBzY3JlZW4uXG4gICAgICAgICogQHByb3BlcnR5IHZpc3VhbFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9GcmFtZVxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfRnJhbWUoKVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgdGhpY2tuZXNzIG9mIHRoZSBmcmFtZS9ib3JkZXIgaW4gcGl4ZWxzLiBEZWZhdWx0IGlzIDE2LlxuICAgICAgICAqIEBwcm9wZXJ0eSBmcmFtZVRoaWNrbmVzc1xuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGZyYW1lVGhpY2tuZXNzID0gMTZcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgY29ybmVyLXNpemUgb2YgdGhlIGZyYW1lIGluIHBpeGVscy4gRGVmYXVsdCBpcyAxNigxNngxNiBwaXhlbCkuXG4gICAgICAgICogQHByb3BlcnR5IGZyYW1lQ29ybmVyU2l6ZVxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQGZyYW1lQ29ybmVyU2l6ZSA9IDE2XG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEB2aXN1YWwpXG4gICAgICAgIFxudWkuT2JqZWN0X0ZyYW1lID0gT2JqZWN0X0ZyYW1lIl19
//# sourceURL=Object_Frame_95.js
var Object_Text,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Text = (function(superClass) {
  extend(Object_Text, superClass);

  Object_Text.accessors("text", {
    set: function(v) {
      if (v !== this.text_) {
        this.text_ = v;
        return this.needsUpdate = true;
      }
    },
    get: function() {
      return this.text_;
    }
  });

  Object_Text.accessors("visible", {
    set: function(v) {
      if (v !== this.visible_) {
        this.visible_ = v;
        this.needsUpdate = true;
        return this.fullRefresh();
      }
    },
    get: function() {
      return this.visible_ && (!this.parent || this.parent.visible);
    }
  });


  /**
  * A UI object to display text on screen.
  *
  * @module ui
  * @class Object_Text
  * @extends gs.Object_Text
  * @memberof ui
  * @constructor
   */

  function Object_Text() {
    Object_Text.__super__.constructor.call(this);

    /**
    * Indicates if that UI object will break the binding-chain. If <b>true</b> the UI object
    * will not change any binding-targets for the current binding-execution period.
    * @property breakBindingChain
    * @type boolean
     */
    this.breakBindingChain = false;
    this.dstRect = new ui.UIElementRectangle(this);
    this.wordWrap = true;
    this.controlsByStyle = new Array(ui.UIManager.stylesById.length);
    this.styles = [];
    this.activeStyles = [];
    this.data = new Array(10);

    /**
    * The UI object's padding. The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property padding
    * @type ui.Space
     */
    this.padding = new ui.Space(0, 0, 0, 0);

    /**
    * The UI object's margin. The margin defines an extra space around the UI object. 
    * The default is { left: 0, top: 0, right: 0, bottom: 0 }.
    * @property margin
    * @type Object
     */
    this.margin = new ui.Space(0, 0, 0, 0);

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.EventEmitter();
    this.addComponent(this.events);
  }

  return Object_Text;

})(gs.Object_Text);

ui.Object_Text = Object_Text;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsV0FBQTtFQUFBOzs7QUFBTTs7O0VBTUYsV0FBQyxDQUFBLFNBQUQsQ0FBVyxNQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBRyxDQUFBLEtBQUssSUFBQyxDQUFBLEtBQVQ7UUFDSSxJQUFDLENBQUEsS0FBRCxHQUFTO2VBQ1QsSUFBQyxDQUFBLFdBQUQsR0FBZSxLQUZuQjs7SUFEQyxDQUFMO0lBS0EsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUxMO0dBREo7O0VBUUEsV0FBQyxDQUFBLFNBQUQsQ0FBVyxTQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBRyxDQUFBLEtBQUssSUFBQyxDQUFBLFFBQVQ7UUFDSSxJQUFDLENBQUEsUUFBRCxHQUFZO1FBQ1osSUFBQyxDQUFBLFdBQUQsR0FBZTtlQUNmLElBQUMsQ0FBQSxXQUFELENBQUEsRUFISjs7SUFEQyxDQUFMO0lBTUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUEsUUFBRCxJQUFjLENBQUMsQ0FBQyxJQUFDLENBQUEsTUFBRixJQUFZLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBckI7SUFBakIsQ0FOTDtHQURKOzs7QUFTQTs7Ozs7Ozs7OztFQVNhLHFCQUFBO0lBQ1QsMkNBQUE7O0FBRUE7Ozs7OztJQU1BLElBQUMsQ0FBQSxpQkFBRCxHQUFxQjtJQUNyQixJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQXNCLElBQXRCO0lBQ2YsSUFBQyxDQUFBLFFBQUQsR0FBWTtJQUNaLElBQUMsQ0FBQSxlQUFELEdBQXVCLElBQUEsS0FBQSxDQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQTlCO0lBQ3ZCLElBQUMsQ0FBQSxNQUFELEdBQVU7SUFDVixJQUFDLENBQUEsWUFBRCxHQUFnQjtJQUNoQixJQUFDLENBQUEsSUFBRCxHQUFZLElBQUEsS0FBQSxDQUFNLEVBQU47O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLEVBQUUsQ0FBQyxLQUFILENBQVMsQ0FBVCxFQUFZLENBQVosRUFBZSxDQUFmLEVBQWtCLENBQWxCOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxZQUFILENBQUE7SUFDZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0VBdENTOzs7O0dBaENTLEVBQUUsQ0FBQzs7QUF3RTdCLEVBQUUsQ0FBQyxXQUFILEdBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVGV4dFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1RleHQgZXh0ZW5kcyBncy5PYmplY3RfVGV4dFxuICAgICNcbiAgICAjIFRoZSB0ZXh0IHRvIGRpc3BsYXkuXG4gICAgIyBAcHJvcGVydHkgdGV4dFxuICAgICMgQHR5cGUgc3RyaW5nXG4gICAgI1xuICAgIEBhY2Nlc3NvcnMgXCJ0ZXh0XCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHRleHRfXG4gICAgICAgICAgICAgICAgQHRleHRfID0gdlxuICAgICAgICAgICAgICAgIEBuZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICAgICAgXG4gICAgICAgIGdldDogLT4gQHRleHRfXG4gICAgICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJ2aXNpYmxlXCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHZpc2libGVfXG4gICAgICAgICAgICAgICAgQHZpc2libGVfID0gdlxuICAgICAgICAgICAgICAgIEBuZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICAgICAgICAgIEBmdWxsUmVmcmVzaCgpXG4gICAgICAgICAgICBcbiAgICAgICAgZ2V0OiAtPiBAdmlzaWJsZV8gYW5kICghQHBhcmVudCBvciBAcGFyZW50LnZpc2libGUpXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIEEgVUkgb2JqZWN0IHRvIGRpc3BsYXkgdGV4dCBvbiBzY3JlZW4uXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIE9iamVjdF9UZXh0XG4gICAgKiBAZXh0ZW5kcyBncy5PYmplY3RfVGV4dFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhhdCBVSSBvYmplY3Qgd2lsbCBicmVhayB0aGUgYmluZGluZy1jaGFpbi4gSWYgPGI+dHJ1ZTwvYj4gdGhlIFVJIG9iamVjdFxuICAgICAgICAqIHdpbGwgbm90IGNoYW5nZSBhbnkgYmluZGluZy10YXJnZXRzIGZvciB0aGUgY3VycmVudCBiaW5kaW5nLWV4ZWN1dGlvbiBwZXJpb2QuXG4gICAgICAgICogQHByb3BlcnR5IGJyZWFrQmluZGluZ0NoYWluXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQGJyZWFrQmluZGluZ0NoYWluID0gbm9cbiAgICAgICAgQGRzdFJlY3QgPSBuZXcgdWkuVUlFbGVtZW50UmVjdGFuZ2xlKHRoaXMpXG4gICAgICAgIEB3b3JkV3JhcCA9IHllc1xuICAgICAgICBAY29udHJvbHNCeVN0eWxlID0gbmV3IEFycmF5KHVpLlVJTWFuYWdlci5zdHlsZXNCeUlkLmxlbmd0aClcbiAgICAgICAgQHN0eWxlcyA9IFtdXG4gICAgICAgIEBhY3RpdmVTdHlsZXMgPSBbXVxuICAgICAgICBAZGF0YSA9IG5ldyBBcnJheSgxMClcblxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIHBhZGRpbmcuIFRoZSBkZWZhdWx0IGlzIHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0uXG4gICAgICAgICogQHByb3BlcnR5IHBhZGRpbmdcbiAgICAgICAgKiBAdHlwZSB1aS5TcGFjZVxuICAgICAgICAjIyNcbiAgICAgICAgQHBhZGRpbmcgPSBuZXcgdWkuU3BhY2UoMCwgMCwgMCwgMClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0J3MgbWFyZ2luLiBUaGUgbWFyZ2luIGRlZmluZXMgYW4gZXh0cmEgc3BhY2UgYXJvdW5kIHRoZSBVSSBvYmplY3QuIFxuICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0uXG4gICAgICAgICogQHByb3BlcnR5IG1hcmdpblxuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQG1hcmdpbiA9IG5ldyB1aS5TcGFjZSgwLCAwLCAwLCAwKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEFuIGV2ZW50LWVtaXR0ZXIgdG8gZW1pdCBldmVudHMuXG4gICAgICAgICogQHByb3BlcnR5IGV2ZW50c1xuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9FdmVudEVtaXR0ZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEBldmVudHMgPSBuZXcgZ3MuRXZlbnRFbWl0dGVyKClcbiAgICAgICAgQGFkZENvbXBvbmVudChAZXZlbnRzKVxuICAgICAgICBcbnVpLk9iamVjdF9UZXh0ID0gT2JqZWN0X1RleHQiXX0=
//# sourceURL=Object_Text_98.js
var Object_StackLayout,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_StackLayout = (function(superClass) {
  extend(Object_StackLayout, superClass);

  Object_StackLayout.accessors("zIndex", {
    set: function(v) {
      return this.zIndex_ = v;
    },
    get: function() {
      return (this.zIndex_ || 0) + (!this.parent ? 0 : this.parent.zIndex || 0);
    }
  });

  Object_StackLayout.accessors("scrollOffsetY", {
    set: function(v) {
      if (v !== this.scrollOffsetY_) {
        this.scrollOffsetY_ = v;
        return this.needsFullUpdate = true;
      }
    },
    get: function() {
      return this.scrollOffsetY_;
    }
  });


  /**
  * A stack-layout which layouts all it sub-objects
  * like a stack vertically or horizontally.
  * 
  * @module ui
  * @class Object_StackLayout
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_StackLayout(x, y, width, height, orientation) {
    Object_StackLayout.__super__.constructor.call(this);
    this.dstRect.set(x || 0, y || 0, width || 1, height || 1);

    /**
    * Indicates if the layout is resizable.
    * @property resizable
    * @type boolean
     */
    this.resizable = false;

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The layout's sub-objects.
    * @property controls
    * @type ui.Object_UIElement[]
     */
    this.controls = [];

    /**
    * The stack-layout's orientation. 
    * @property orientation
    * @type gs.Orientation
     */
    this.orientation = orientation === "vertical" ? 1 : 0;

    /**
    * The stack-layout's scroll-offset on y-axis. 
    * @property scrollOffsetY
    * @type number
     */
    this.scrollOffsetY = 0;

    /**
    * Indicates if the layouts resizes to fit its content.
    * @property sizeToFit
    * @type boolean
     */
    this.sizeToFit = false;

    /**
    * The behavior component to add stack-layout specific behavior.
    * @property behavior
    * @type gs.Component_StackLayoutBehavior
     */
    this.behavior = new gs.Component_StackLayoutBehavior();
    this.behavior.orientation = this.orientation;
    this.addComponent(this.behavior);
  }

  return Object_StackLayout;

})(ui.Object_UIElement);

ui.Object_StackLayout = Object_StackLayout;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07OztFQUNGLGtCQUFDLENBQUEsU0FBRCxDQUFXLFFBQVgsRUFDSTtJQUFBLEdBQUEsRUFBSyxTQUFDLENBQUQ7YUFBTyxJQUFDLENBQUEsT0FBRCxHQUFXO0lBQWxCLENBQUw7SUFDQSxHQUFBLEVBQUssU0FBQTthQUFHLENBQUMsSUFBQyxDQUFBLE9BQUQsSUFBWSxDQUFiLENBQUEsR0FBa0IsQ0FBSSxDQUFDLElBQUMsQ0FBQSxNQUFMLEdBQWlCLENBQWpCLEdBQXdCLElBQUMsQ0FBQSxNQUFNLENBQUMsTUFBUixJQUFrQixDQUEzQztJQUFyQixDQURMO0dBREo7O0VBSUEsa0JBQUMsQ0FBQSxTQUFELENBQVcsZUFBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxjQUFUO1FBQ0ksSUFBQyxDQUFBLGNBQUQsR0FBa0I7ZUFDbEIsSUFBQyxDQUFBLGVBQUQsR0FBbUIsS0FGdkI7O0lBREMsQ0FBTDtJQUlBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBO0lBQUosQ0FKTDtHQURKOzs7QUFPQTs7Ozs7Ozs7Ozs7RUFVYSw0QkFBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQVAsRUFBYyxNQUFkLEVBQXNCLFdBQXRCO0lBQ1Qsa0RBQUE7SUFFQSxJQUFDLENBQUEsT0FBTyxDQUFDLEdBQVQsQ0FBYSxDQUFBLElBQUssQ0FBbEIsRUFBcUIsQ0FBQSxJQUFLLENBQTFCLEVBQTZCLEtBQUEsSUFBUyxDQUF0QyxFQUF5QyxNQUFBLElBQVUsQ0FBbkQ7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxRQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBa0IsV0FBQSxLQUFlLFVBQWxCLEdBQWtDLENBQWxDLEdBQXlDOztBQUV4RDs7Ozs7SUFLQSxJQUFDLENBQUEsYUFBRCxHQUFpQjs7QUFFakI7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyw2QkFBSCxDQUFBO0lBQ2hCLElBQUMsQ0FBQSxRQUFRLENBQUMsV0FBVixHQUF3QixJQUFDLENBQUE7SUFDekIsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtFQXREUzs7OztHQXRCZ0IsRUFBRSxDQUFDOztBQThFcEMsRUFBRSxDQUFDLGtCQUFILEdBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfU3RhY2tMYXlvdXRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9TdGFja0xheW91dCBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICBAYWNjZXNzb3JzIFwiekluZGV4XCIsIFxuICAgICAgICBzZXQ6ICh2KSAtPiBAekluZGV4XyA9IHYsIFxuICAgICAgICBnZXQ6IC0+IChAekluZGV4XyB8fCAwKSArIChpZiAhQHBhcmVudCB0aGVuIDAgZWxzZSBAcGFyZW50LnpJbmRleCB8fCAwKVxuICAgICAgICBcbiAgICBAYWNjZXNzb3JzIFwic2Nyb2xsT2Zmc2V0WVwiLFxuICAgICAgICBzZXQ6ICh2KSAtPiBcbiAgICAgICAgICAgIGlmIHYgIT0gQHNjcm9sbE9mZnNldFlfXG4gICAgICAgICAgICAgICAgQHNjcm9sbE9mZnNldFlfID0gdlxuICAgICAgICAgICAgICAgIEBuZWVkc0Z1bGxVcGRhdGUgPSB5ZXNcbiAgICAgICAgZ2V0OiAtPiBAc2Nyb2xsT2Zmc2V0WV9cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogQSBzdGFjay1sYXlvdXQgd2hpY2ggbGF5b3V0cyBhbGwgaXQgc3ViLW9iamVjdHNcbiAgICAqIGxpa2UgYSBzdGFjayB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS5cbiAgICAqIFxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIE9iamVjdF9TdGFja0xheW91dFxuICAgICogQGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgIFxuICAgIGNvbnN0cnVjdG9yOiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIEBkc3RSZWN0LnNldCh4IHx8IDAsIHkgfHwgMCwgd2lkdGggfHwgMSwgaGVpZ2h0IHx8IDEgKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbGF5b3V0IGlzIHJlc2l6YWJsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgcmVzaXphYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHJlc2l6YWJsZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBsYXlvdXQncyBzdWItb2JqZWN0cy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udHJvbHNcbiAgICAgICAgKiBAdHlwZSB1aS5PYmplY3RfVUlFbGVtZW50W11cbiAgICAgICAgIyMjXG4gICAgICAgIEBjb250cm9scyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHN0YWNrLWxheW91dCdzIG9yaWVudGF0aW9uLiBcbiAgICAgICAgKiBAcHJvcGVydHkgb3JpZW50YXRpb25cbiAgICAgICAgKiBAdHlwZSBncy5PcmllbnRhdGlvblxuICAgICAgICAjIyNcbiAgICAgICAgQG9yaWVudGF0aW9uID0gaWYgb3JpZW50YXRpb24gPT0gXCJ2ZXJ0aWNhbFwiIHRoZW4gMSBlbHNlIDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgc3RhY2stbGF5b3V0J3Mgc2Nyb2xsLW9mZnNldCBvbiB5LWF4aXMuIFxuICAgICAgICAqIEBwcm9wZXJ0eSBzY3JvbGxPZmZzZXRZXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAc2Nyb2xsT2Zmc2V0WSA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGxheW91dHMgcmVzaXplcyB0byBmaXQgaXRzIGNvbnRlbnQuXG4gICAgICAgICogQHByb3BlcnR5IHNpemVUb0ZpdFxuICAgICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgICAgIyMjXG4gICAgICAgIEBzaXplVG9GaXQgPSBub1xuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBiZWhhdmlvciBjb21wb25lbnQgdG8gYWRkIHN0YWNrLWxheW91dCBzcGVjaWZpYyBiZWhhdmlvci5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfU3RhY2tMYXlvdXRCZWhhdmlvclxuICAgICAgICAjIyNcbiAgICAgICAgQGJlaGF2aW9yID0gbmV3IGdzLkNvbXBvbmVudF9TdGFja0xheW91dEJlaGF2aW9yKClcbiAgICAgICAgQGJlaGF2aW9yLm9yaWVudGF0aW9uID0gQG9yaWVudGF0aW9uXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBcbnVpLk9iamVjdF9TdGFja0xheW91dCA9IE9iamVjdF9TdGFja0xheW91dCJdfQ==
//# sourceURL=Object_StackLayout_112.js
var Object_ThreePartImage,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_ThreePartImage = (function(superClass) {
  extend(Object_ThreePartImage, superClass);


  /**
  * An object to display a three-part image using three
  * sub-images: start, middle and end. For info, see ui.Component_ThreePartImage.
  *
  * @module ui
  * @class Object_ThreePartImage
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
  * @see ui.Component_ThreePartImage
   */

  function Object_ThreePartImage(skin) {
    Object_ThreePartImage.__super__.constructor.apply(this, arguments);
    this.image = skin;

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_ThreePartImage();

    /**
    * A hotspot behavior-component to make the UI object clickable/touchable.
    * @property hotspot
    * @type gs.Component_HotspotBehavior
     */
    this.hotspot = new gs.Component_HotspotBehavior();
    this.addComponent(this.hotspot);
    this.addComponent(this.visual);
  }

  return Object_ThreePartImage;

})(ui.Object_UIElement);

ui.Object_ThreePartImage = Object_ThreePartImage;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEscUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7O0VBV2EsK0JBQUMsSUFBRDtJQUNULHdEQUFBLFNBQUE7SUFDQSxJQUFDLENBQUEsS0FBRCxHQUFTOztBQUVUOzs7OztJQUtBLElBQUMsQ0FBQSxNQUFELEdBQWMsSUFBQSxFQUFFLENBQUMsd0JBQUgsQ0FBQTs7QUFFZDs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsRUFBRSxDQUFDLHlCQUFILENBQUE7SUFFZixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxPQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtFQW5CUzs7OztHQVptQixFQUFFLENBQUM7O0FBaUN2QyxFQUFFLENBQUMscUJBQUgsR0FBMkIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9UaHJlZVBhcnRJbWFnZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X1RocmVlUGFydEltYWdlIGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICMjIypcbiAgICAqIEFuIG9iamVjdCB0byBkaXNwbGF5IGEgdGhyZWUtcGFydCBpbWFnZSB1c2luZyB0aHJlZVxuICAgICogc3ViLWltYWdlczogc3RhcnQsIG1pZGRsZSBhbmQgZW5kLiBGb3IgaW5mbywgc2VlIHVpLkNvbXBvbmVudF9UaHJlZVBhcnRJbWFnZS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgT2JqZWN0X1RocmVlUGFydEltYWdlXG4gICAgKiBAZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHNlZSB1aS5Db21wb25lbnRfVGhyZWVQYXJ0SW1hZ2VcbiAgICAjIyMgXG4gICAgY29uc3RydWN0b3I6IChza2luKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBAaW1hZ2UgPSBza2luXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIG9iamVjdCdzIHZpc3VhbC1jb21wb25lbnQgdG8gZGlzcGxheSB0aGUgZ2FtZSBvYmplY3Qgb24gc2NyZWVuLlxuICAgICAgICAqIEBwcm9wZXJ0eSB2aXN1YWxcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfU3ByaXRlXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzdWFsID0gbmV3IGdzLkNvbXBvbmVudF9UaHJlZVBhcnRJbWFnZSgpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogQSBob3RzcG90IGJlaGF2aW9yLWNvbXBvbmVudCB0byBtYWtlIHRoZSBVSSBvYmplY3QgY2xpY2thYmxlL3RvdWNoYWJsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaG90c3BvdFxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBob3RzcG90ID0gbmV3IGdzLkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3IoKSBcbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGhvdHNwb3QpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgICAgXG51aS5PYmplY3RfVGhyZWVQYXJ0SW1hZ2UgPSBPYmplY3RfVGhyZWVQYXJ0SW1hZ2UiXX0=
//# sourceURL=Object_ThreePartImage_117.js
var Object_SpreadLayout,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_SpreadLayout = (function(superClass) {
  extend(Object_SpreadLayout, superClass);


  /**
  * A spread-layout which spreads all sub-objects evenly over the layout-space 
  * vertically or horizontally.
  *
  * @module ui
  * @class Object_SpreadLayout
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_SpreadLayout(x, y, width, height, orientation) {
    Object_SpreadLayout.__super__.constructor.call(this);
    this.dstRect.set(x || 0, y || 0, width || 1, height || 1);

    /**
    * Indicates if the layout is resizable.
    * @property resizable
    * @type boolean
     */
    this.resizable = false;

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type gs.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The layout's sub-objects.
    * @property controls
    * @type ui.Object_UIElement[]
     */
    this.controls = [];

    /**
    * The spread-layout's orientation. 
    * @property orientation
    * @type gs.Orientation
     */
    this.orientation = orientation === "vertical" ? 1 : 0;

    /**
    * The behavior component to add spread-layout specific behavior.
    * @property behavior
    * @type gs.Component_SpreadLayoutBehavior
     */
    this.behavior = new gs.Component_SpreadLayoutBehavior();
    this.behavior.orientation = this.orientation;
    this.addComponent(this.behavior);
  }

  return Object_SpreadLayout;

})(ui.Object_UIElement);

ui.Object_SpreadLayout = Object_SpreadLayout;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsbUJBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7RUFVYSw2QkFBQyxDQUFELEVBQUksQ0FBSixFQUFPLEtBQVAsRUFBYyxNQUFkLEVBQXNCLFdBQXRCO0lBQ1QsbURBQUE7SUFFQSxJQUFDLENBQUEsT0FBTyxDQUFDLEdBQVQsQ0FBYSxDQUFBLElBQUssQ0FBbEIsRUFBcUIsQ0FBQSxJQUFLLENBQTFCLEVBQTZCLEtBQUEsSUFBUyxDQUF0QyxFQUF5QyxNQUFBLElBQVUsQ0FBbkQ7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyxRQUFILENBQUE7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLFdBQUQsR0FBa0IsV0FBQSxLQUFlLFVBQWxCLEdBQWtDLENBQWxDLEdBQXlDOztBQUV4RDs7Ozs7SUFLQSxJQUFDLENBQUEsUUFBRCxHQUFnQixJQUFBLEVBQUUsQ0FBQyw4QkFBSCxDQUFBO0lBQ2hCLElBQUMsQ0FBQSxRQUFRLENBQUMsV0FBVixHQUF3QixJQUFDLENBQUE7SUFDekIsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtFQXhDUzs7OztHQVhpQixFQUFFLENBQUM7O0FBcURyQyxFQUFFLENBQUMsbUJBQUgsR0FBeUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9TcHJlYWRMYXlvdXRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9TcHJlYWRMYXlvdXQgZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgIyMjKlxuICAgICogQSBzcHJlYWQtbGF5b3V0IHdoaWNoIHNwcmVhZHMgYWxsIHN1Yi1vYmplY3RzIGV2ZW5seSBvdmVyIHRoZSBsYXlvdXQtc3BhY2UgXG4gICAgKiB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgT2JqZWN0X1NwcmVhZExheW91dFxuICAgICogQGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyMgIFxuICAgIGNvbnN0cnVjdG9yOiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgb3JpZW50YXRpb24pIC0+XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIEBkc3RSZWN0LnNldCh4IHx8IDAsIHkgfHwgMCwgd2lkdGggfHwgMSwgaGVpZ2h0IHx8IDEgKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgbGF5b3V0IGlzIHJlc2l6YWJsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgcmVzaXphYmxlXG4gICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAjIyNcbiAgICAgICAgQHJlc2l6YWJsZSA9IG5vXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBsYXlvdXQncyBzdWItb2JqZWN0cy5cbiAgICAgICAgKiBAcHJvcGVydHkgY29udHJvbHNcbiAgICAgICAgKiBAdHlwZSB1aS5PYmplY3RfVUlFbGVtZW50W11cbiAgICAgICAgIyMjXG4gICAgICAgIEBjb250cm9scyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHNwcmVhZC1sYXlvdXQncyBvcmllbnRhdGlvbi4gXG4gICAgICAgICogQHByb3BlcnR5IG9yaWVudGF0aW9uXG4gICAgICAgICogQHR5cGUgZ3MuT3JpZW50YXRpb25cbiAgICAgICAgIyMjXG4gICAgICAgIEBvcmllbnRhdGlvbiA9IGlmIG9yaWVudGF0aW9uID09IFwidmVydGljYWxcIiB0aGVuIDEgZWxzZSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGJlaGF2aW9yIGNvbXBvbmVudCB0byBhZGQgc3ByZWFkLWxheW91dCBzcGVjaWZpYyBiZWhhdmlvci5cbiAgICAgICAgKiBAcHJvcGVydHkgYmVoYXZpb3JcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfU3ByZWFkTGF5b3V0QmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBiZWhhdmlvciA9IG5ldyBncy5Db21wb25lbnRfU3ByZWFkTGF5b3V0QmVoYXZpb3IoKVxuICAgICAgICBAYmVoYXZpb3Iub3JpZW50YXRpb24gPSBAb3JpZW50YXRpb25cbiAgICAgICAgQGFkZENvbXBvbmVudChAYmVoYXZpb3IpXG4gICAgICAgIFxudWkuT2JqZWN0X1NwcmVhZExheW91dCA9IE9iamVjdF9TcHJlYWRMYXlvdXQiXX0=
//# sourceURL=Object_SpreadLayout_120.js
var Object_Video,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_Video = (function(superClass) {
  extend(Object_Video, superClass);


  /**
  * A game object used for custom texts in a scene.
  *
  * @module gs
  * @class Object_Video
  * @extends gs.Object_Visual
  * @memberof gs
  * @constructor
   */

  function Object_Video(data) {
    Object_Video.__super__.constructor.apply(this, arguments);

    /**
    * The UI object's source rectangle on screen.
    * @property srcRect
    * @type gs.Rect
     */
    this.srcRect = null;

    /**
    * The UI object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_Sprite
     */
    this.visual = new gs.Component_Sprite();

    /**
    * An event-emitter to emit events.
    * @property events
    * @type gs.Component_EventEmitter
     */
    this.events = new gs.EventEmitter();
    this.addComponent(this.events);
    this.addComponent(this.visual);
  }

  return Object_Video;

})(ui.Object_UIElement);

ui.Object_Video = Object_Video;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsWUFBQTtFQUFBOzs7QUFBTTs7OztBQUNGOzs7Ozs7Ozs7O0VBU2Esc0JBQUMsSUFBRDtJQUNULCtDQUFBLFNBQUE7O0FBRUE7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBVzs7QUFFWDs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxHQUFjLElBQUEsRUFBRSxDQUFDLGdCQUFILENBQUE7O0FBRWQ7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxZQUFILENBQUE7SUFFZCxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsTUFBZjtFQXpCUzs7OztHQVZVLEVBQUUsQ0FBQzs7QUFzQzlCLEVBQUUsQ0FBQyxZQUFILEdBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBPYmplY3RfVmlkZW9cbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmNsYXNzIE9iamVjdF9WaWRlbyBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAjIyMqXG4gICAgKiBBIGdhbWUgb2JqZWN0IHVzZWQgZm9yIGN1c3RvbSB0ZXh0cyBpbiBhIHNjZW5lLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBPYmplY3RfVmlkZW9cbiAgICAqIEBleHRlbmRzIGdzLk9iamVjdF9WaXN1YWxcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICBzdXBlclxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyBzb3VyY2UgcmVjdGFuZ2xlIG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgc3JjUmVjdFxuICAgICAgICAqIEB0eXBlIGdzLlJlY3RcbiAgICAgICAgIyMjXG4gICAgICAgIEBzcmNSZWN0ID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QncyB2aXN1YWwtY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIGdhbWUgb2JqZWN0IG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlzdWFsXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X1Nwcml0ZVxuICAgICAgICAjIyNcbiAgICAgICAgQHZpc3VhbCA9IG5ldyBncy5Db21wb25lbnRfU3ByaXRlKClcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBBbiBldmVudC1lbWl0dGVyIHRvIGVtaXQgZXZlbnRzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBldmVudHNcbiAgICAgICAgKiBAdHlwZSBncy5Db21wb25lbnRfRXZlbnRFbWl0dGVyXG4gICAgICAgICMjI1xuICAgICAgICBAZXZlbnRzID0gbmV3IGdzLkV2ZW50RW1pdHRlcigpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEBldmVudHMpXG4gICAgICAgIEBhZGRDb21wb25lbnQoQHZpc3VhbClcbiAgICAgXG4gICAgICAgIFxudWkuT2JqZWN0X1ZpZGVvID0gT2JqZWN0X1ZpZGVvIl19
//# sourceURL=Object_Video_133.js
var Object_DataGrid,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_DataGrid = (function(superClass) {
  extend(Object_DataGrid, superClass);

  Object_DataGrid.accessors("zIndex", {
    set: function(v) {
      return this.zIndex_ = v;
    },
    get: function() {
      return (this.zIndex_ || 0) + (!this.parent ? 0 : this.parent.zIndex || 0);
    }
  });

  Object_DataGrid.accessors("scrollOffsetY", {
    set: function(v) {
      if (v !== this.scrollOffsetY_) {
        this.scrollOffsetY_ = v;
        return this.needsFullUpdate = true;
      }
    },
    get: function() {
      return this.scrollOffsetY_;
    }
  });


  /**
  * A data-grid allows to display items from a associated data-source using a specified item-template. 
  * Unlike a stack-layout, a data-grid is optimized to display even high amounts of items but they all
  * need to use the same item-template with same size.
  *
  * @module ui
  * @class Object_DataGrid
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_DataGrid(params) {
    Object_DataGrid.__super__.constructor.call(this);
    this.scrollOffsetY_ = 0;

    /**
    * The UI object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Animator();

    /**
    * The behavior component to add free-layout specific behavior.
    * @property behavior
    * @type gs.Component_FreeLayoutBehavior
     */
    this.behavior = new ui.Component_DataGridBehavior(params);

    /**
    * Indicates if the layouts resizes to fit its content.
    * @property sizeToFit
    * @type boolean
     */
    this.sizeToFit = false;
    this.addComponent(this.behavior);
    this.addComponent(this.animator);
  }

  return Object_DataGrid;

})(ui.Object_UIElement);

ui.Object_DataGrid = Object_DataGrid;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsZUFBQyxDQUFBLFNBQUQsQ0FBVyxRQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO2FBQU8sSUFBQyxDQUFBLE9BQUQsR0FBVztJQUFsQixDQUFMO0lBQ0EsR0FBQSxFQUFLLFNBQUE7YUFBRyxDQUFDLElBQUMsQ0FBQSxPQUFELElBQVksQ0FBYixDQUFBLEdBQWtCLENBQUksQ0FBQyxJQUFDLENBQUEsTUFBTCxHQUFpQixDQUFqQixHQUF3QixJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsSUFBa0IsQ0FBM0M7SUFBckIsQ0FETDtHQURKOztFQUlDLGVBQUMsQ0FBQSxTQUFELENBQVcsZUFBWCxFQUNHO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxjQUFUO1FBQ0ksSUFBQyxDQUFBLGNBQUQsR0FBa0I7ZUFDbEIsSUFBQyxDQUFBLGVBQUQsR0FBbUIsS0FGdkI7O0lBREMsQ0FBTDtJQUlBLEdBQUEsRUFBSyxTQUFBO2FBQUcsSUFBQyxDQUFBO0lBQUosQ0FKTDtHQURIOzs7QUFPRDs7Ozs7Ozs7Ozs7O0VBV2EseUJBQUMsTUFBRDtJQUNULCtDQUFBO0lBRUEsSUFBQyxDQUFBLGNBQUQsR0FBa0I7O0FBQ2xCOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsRUFBRSxDQUFDLFFBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsMEJBQUgsQ0FBOEIsTUFBOUI7O0FBRWhCOzs7OztJQUtBLElBQUMsQ0FBQSxTQUFELEdBQWE7SUFFYixJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxRQUFmO0lBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtFQTFCUzs7OztHQXZCYSxFQUFFLENBQUM7O0FBb0RqQyxFQUFFLENBQUMsZUFBSCxHQUFxQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogT2JqZWN0X0RhdGFHcmlkXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBPYmplY3RfRGF0YUdyaWQgZXh0ZW5kcyB1aS5PYmplY3RfVUlFbGVtZW50XG4gICAgQGFjY2Vzc29ycyBcInpJbmRleFwiLCBcbiAgICAgICAgc2V0OiAodikgLT4gQHpJbmRleF8gPSB2LCBcbiAgICAgICAgZ2V0OiAtPiAoQHpJbmRleF8gfHwgMCkgKyAoaWYgIUBwYXJlbnQgdGhlbiAwIGVsc2UgQHBhcmVudC56SW5kZXggfHwgMClcbiAgICAgICAgXG4gICAgIEBhY2Nlc3NvcnMgXCJzY3JvbGxPZmZzZXRZXCIsXG4gICAgICAgIHNldDogKHYpIC0+IFxuICAgICAgICAgICAgaWYgdiAhPSBAc2Nyb2xsT2Zmc2V0WV9cbiAgICAgICAgICAgICAgICBAc2Nyb2xsT2Zmc2V0WV8gPSB2XG4gICAgICAgICAgICAgICAgQG5lZWRzRnVsbFVwZGF0ZSA9IHllc1xuICAgICAgICBnZXQ6IC0+IEBzY3JvbGxPZmZzZXRZX1xuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBBIGRhdGEtZ3JpZCBhbGxvd3MgdG8gZGlzcGxheSBpdGVtcyBmcm9tIGEgYXNzb2NpYXRlZCBkYXRhLXNvdXJjZSB1c2luZyBhIHNwZWNpZmllZCBpdGVtLXRlbXBsYXRlLiBcbiAgICAqIFVubGlrZSBhIHN0YWNrLWxheW91dCwgYSBkYXRhLWdyaWQgaXMgb3B0aW1pemVkIHRvIGRpc3BsYXkgZXZlbiBoaWdoIGFtb3VudHMgb2YgaXRlbXMgYnV0IHRoZXkgYWxsXG4gICAgKiBuZWVkIHRvIHVzZSB0aGUgc2FtZSBpdGVtLXRlbXBsYXRlIHdpdGggc2FtZSBzaXplLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBPYmplY3RfRGF0YUdyaWRcbiAgICAqIEBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjICBcbiAgICBjb25zdHJ1Y3RvcjogKHBhcmFtcykgLT5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgQHNjcm9sbE9mZnNldFlfID0gMFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIFVJIG9iamVjdCdzIGFuaW1hdG9yLWNvbXBvbmVudCB0byBleGVjdXRlIGRpZmZlcmVudCBraW5kIG9mIGFuaW1hdGlvbnMgbGlrZSBtb3ZlLCByb3RhdGUsIGV0Yy4gb24gaXQuXG4gICAgICAgICogQHByb3BlcnR5IGFuaW1hdG9yXG4gICAgICAgICogQHR5cGUgdm4uQ29tcG9uZW50X0FuaW1hdG9yXG4gICAgICAgICMjI1xuICAgICAgICBAYW5pbWF0b3IgPSBuZXcgZ3MuQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBiZWhhdmlvciBjb21wb25lbnQgdG8gYWRkIGZyZWUtbGF5b3V0IHNwZWNpZmljIGJlaGF2aW9yLlxuICAgICAgICAqIEBwcm9wZXJ0eSBiZWhhdmlvclxuICAgICAgICAqIEB0eXBlIGdzLkNvbXBvbmVudF9GcmVlTGF5b3V0QmVoYXZpb3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBiZWhhdmlvciA9IG5ldyB1aS5Db21wb25lbnRfRGF0YUdyaWRCZWhhdmlvcihwYXJhbXMpXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBsYXlvdXRzIHJlc2l6ZXMgdG8gZml0IGl0cyBjb250ZW50LlxuICAgICAgICAqIEBwcm9wZXJ0eSBzaXplVG9GaXRcbiAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICMjI1xuICAgICAgICBAc2l6ZVRvRml0ID0gbm9cbiAgICAgICAgXG4gICAgICAgIEBhZGRDb21wb25lbnQoQGJlaGF2aW9yKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgXG4gICAgICAgIFxudWkuT2JqZWN0X0RhdGFHcmlkID0gT2JqZWN0X0RhdGFHcmlkIl19
//# sourceURL=Object_DataGrid_137.js
var Object_ImageMap,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Object_ImageMap = (function(superClass) {
  extend(Object_ImageMap, superClass);

  Object_ImageMap.objectCodecBlackList = ["parent", "target", "controlsByStyle", "parentsByStyle", "styles", "activeStyles"];


  /**
  * An image-map UI object to display an image-map for UI interaction. 
  *
  * @module ui
  * @class Object_ImageMap
  * @extends ui.Object_UIElement
  * @memberof ui
  * @constructor
   */

  function Object_ImageMap() {
    Object_ImageMap.__super__.constructor.apply(this, arguments);

    /**
    * The names of the images used for the different states of the image-map.<br>
    *
    * - 0 = Ground Image
    * - 1 = Hovered
    * - 2 = Unselected
    * - 3 = Selected
    * - 4 = Selected Hovered
    *
    * @property images
    * @type string[]
     */
    this.images = [];

    /**
    * The hotspot data of the image-map. Each entry is a single hotspot on the image-map.
    * @property hotspots
    * @type gs.ImageMapHotspot[]
     */
    this.hotspots = [];

    /**
    * The object's animator-component to execute different kind of animations like move, rotate, etc. on it.
    * @property animator
    * @type vn.Component_Animator
     */
    this.animator = new gs.Component_Animator();

    /**
    * The object's visual-component to display the game object on screen.
    * @property visual
    * @type gs.Component_ImageMap
     */
    this.visual = new gs.Component_ImageMap();
    this.addComponent(this.animator);
    this.addComponent(this.visual);
    this.addComponent(this.events);
  }

  return Object_ImageMap;

})(ui.Object_UIElement);

ui.Object_ImageMap = Object_ImageMap;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsZUFBQTtFQUFBOzs7QUFBTTs7O0VBQ0YsZUFBQyxDQUFBLG9CQUFELEdBQXdCLENBQUMsUUFBRCxFQUFXLFFBQVgsRUFBcUIsaUJBQXJCLEVBQXdDLGdCQUF4QyxFQUEwRCxRQUExRCxFQUFvRSxjQUFwRTs7O0FBRXhCOzs7Ozs7Ozs7O0VBU2EseUJBQUE7SUFDVCxrREFBQSxTQUFBOztBQUVBOzs7Ozs7Ozs7Ozs7SUFZQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztJQUtBLElBQUMsQ0FBQSxRQUFELEdBQVk7O0FBRVo7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxFQUFFLENBQUMsa0JBQUgsQ0FBQTs7QUFFaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEVBQUUsQ0FBQyxrQkFBSCxDQUFBO0lBRWQsSUFBQyxDQUFBLFlBQUQsQ0FBYyxJQUFDLENBQUEsUUFBZjtJQUNBLElBQUMsQ0FBQSxZQUFELENBQWMsSUFBQyxDQUFBLE1BQWY7SUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLElBQUMsQ0FBQSxNQUFmO0VBeENTOzs7O0dBWmEsRUFBRSxDQUFDOztBQXNEakMsRUFBRSxDQUFDLGVBQUgsR0FBcUIiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IE9iamVjdF9JbWFnZU1hcFxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgT2JqZWN0X0ltYWdlTWFwIGV4dGVuZHMgdWkuT2JqZWN0X1VJRWxlbWVudFxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcInBhcmVudFwiLCBcInRhcmdldFwiLCBcImNvbnRyb2xzQnlTdHlsZVwiLCBcInBhcmVudHNCeVN0eWxlXCIsIFwic3R5bGVzXCIsIFwiYWN0aXZlU3R5bGVzXCJdXG4gICAgXG4gICAgIyMjKlxuICAgICogQW4gaW1hZ2UtbWFwIFVJIG9iamVjdCB0byBkaXNwbGF5IGFuIGltYWdlLW1hcCBmb3IgVUkgaW50ZXJhY3Rpb24uIFxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBPYmplY3RfSW1hZ2VNYXBcbiAgICAqIEBleHRlbmRzIHVpLk9iamVjdF9VSUVsZW1lbnRcbiAgICAqIEBtZW1iZXJvZiB1aVxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIHN1cGVyXG5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBuYW1lcyBvZiB0aGUgaW1hZ2VzIHVzZWQgZm9yIHRoZSBkaWZmZXJlbnQgc3RhdGVzIG9mIHRoZSBpbWFnZS1tYXAuPGJyPlxuICAgICAgICAqXG4gICAgICAgICogLSAwID0gR3JvdW5kIEltYWdlXG4gICAgICAgICogLSAxID0gSG92ZXJlZFxuICAgICAgICAqIC0gMiA9IFVuc2VsZWN0ZWRcbiAgICAgICAgKiAtIDMgPSBTZWxlY3RlZFxuICAgICAgICAqIC0gNCA9IFNlbGVjdGVkIEhvdmVyZWRcbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBpbWFnZXNcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGltYWdlcyA9IFtdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGhvdHNwb3QgZGF0YSBvZiB0aGUgaW1hZ2UtbWFwLiBFYWNoIGVudHJ5IGlzIGEgc2luZ2xlIGhvdHNwb3Qgb24gdGhlIGltYWdlLW1hcC5cbiAgICAgICAgKiBAcHJvcGVydHkgaG90c3BvdHNcbiAgICAgICAgKiBAdHlwZSBncy5JbWFnZU1hcEhvdHNwb3RbXVxuICAgICAgICAjIyNcbiAgICAgICAgQGhvdHNwb3RzID0gW11cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgb2JqZWN0J3MgYW5pbWF0b3ItY29tcG9uZW50IHRvIGV4ZWN1dGUgZGlmZmVyZW50IGtpbmQgb2YgYW5pbWF0aW9ucyBsaWtlIG1vdmUsIHJvdGF0ZSwgZXRjLiBvbiBpdC5cbiAgICAgICAgKiBAcHJvcGVydHkgYW5pbWF0b3JcbiAgICAgICAgKiBAdHlwZSB2bi5Db21wb25lbnRfQW5pbWF0b3JcbiAgICAgICAgIyMjXG4gICAgICAgIEBhbmltYXRvciA9IG5ldyBncy5Db21wb25lbnRfQW5pbWF0b3IoKVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBvYmplY3QncyB2aXN1YWwtY29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIGdhbWUgb2JqZWN0IG9uIHNjcmVlbi5cbiAgICAgICAgKiBAcHJvcGVydHkgdmlzdWFsXG4gICAgICAgICogQHR5cGUgZ3MuQ29tcG9uZW50X0ltYWdlTWFwXG4gICAgICAgICMjI1xuICAgICAgICBAdmlzdWFsID0gbmV3IGdzLkNvbXBvbmVudF9JbWFnZU1hcCgpXG4gICAgICAgIFxuICAgICAgICBAYWRkQ29tcG9uZW50KEBhbmltYXRvcilcbiAgICAgICAgQGFkZENvbXBvbmVudChAdmlzdWFsKVxuICAgICAgICBAYWRkQ29tcG9uZW50KEBldmVudHMpXG4gICAgICAgIFxudWkuT2JqZWN0X0ltYWdlTWFwID0gT2JqZWN0X0ltYWdlTWFwIl19
//# sourceURL=Object_ImageMap_142.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Layouts_74.js
var DesktopUIConstants, Helper;

DesktopUIConstants = (function() {
  function DesktopUIConstants() {}

  DesktopUIConstants.OPTION_BUTTON_W = 78;

  DesktopUIConstants.OPTION_BUTTON_H = 78;

  DesktopUIConstants.OPTION_BUTTON_L_IMAGE_ON = "m-diamond-large-on";

  DesktopUIConstants.OPTION_BUTTON_L_IMAGE_OFF = "m-diamond-large-off";

  DesktopUIConstants.OPTION_BUTTON_S_IMAGE_ON = "m-diamond-small-on";

  DesktopUIConstants.OPTION_BUTTON_S_IMAGE_OFF = "m-diamond-small-off";

  DesktopUIConstants.OPTION_BUTTON_MSG_IMAGE_ON = "msg-diamond-small-on";

  DesktopUIConstants.OPTION_BUTTON_MSG_IMAGE_OFF = "msg-diamond-small-off";

  DesktopUIConstants.SLIDER_TRACK_H = 3;

  DesktopUIConstants.TEXT_SIZE_SMALL = 20;

  DesktopUIConstants.TEXT_SIZE_MESSAGE = 30;

  DesktopUIConstants.TEXT_SIZE_MESSAGE_NAME = 25;

  DesktopUIConstants.LAYOUT_SETTINGS_WINDOW_X = 20;

  DesktopUIConstants.LAYOUT_SETTINGS_WINDOW_W = 630;

  DesktopUIConstants.LAYOUT_SETTINGS_VOICES_WINDOW_X = 720;

  DesktopUIConstants.LAYOUT_SETTINGS_VOICES_WINDOW_W = 540;

  DesktopUIConstants.LAYOUT_SETTINGS_WINDOW_LABEL_W = 80;

  DesktopUIConstants.CG_GALLERY_CONTENT_WIDTH = Math.floor((Graphics.width - 260 - (Graphics.width - (Graphics.width - 200))) / 175) * 175 + 20;

  return DesktopUIConstants;

})();

Helper = (function() {

  /**
  * A helper class containing helper-functions like generating letter-descriptors
  * from database defined text-input pages.
  *
  * @module ui
  * @class Helper
  * @memberof ui
  * @constructor
   */
  function Helper() {}


  /**
  * Generates the text-input pages from database.
  *
  * @method generateTextInputPages
  * @return Object[] - Array of text-input pages. Each page is an array of ui.Letter descriptors.
   */

  Helper.prototype.generateTextInputPages = function() {
    var charset, charsets, defaults, i, j, k, len, pages, ref, ref1;
    pages = [];
    defaults = ["ABCDEFGHIJKLMNOPQRSTUVWXYZ", "abcdefghijklmnopqrstuvwxyz", "0123456789", ""];
    try {
      charsets = RecordManager.system.textInputPages.select(function(p) {
        return lcs(p);
      });
    } catch (error) {
      charsets = defaults;
    }
    for (i = j = 0, ref = charsets.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      charsets[i] = ((ref1 = charsets[i]) != null ? ref1 : defaults[i]) || "";
    }
    for (k = 0, len = charsets.length; k < len; k++) {
      charset = charsets[k];
      pages.push(this.generateTextInputPage(charset));
    }
    return pages;
  };


  /**
  * Generates an array of ui.Letter descriptors from the specified charset.
  *
  * @method generateTextInputPage
  * @param {string} charset - The charset to generate the ui.Letter descriptors from.
  * @return Object[] - Array of ui.Letter descriptors.
   */

  Helper.prototype.generateTextInputPage = function(charset) {
    var c, controls, j, len, letter;
    controls = [];
    for (j = 0, len = charset.length; j < len; j++) {
      c = charset[j];
      letter = {
        "type": "ui.Letter",
        "params": {
          "text": c,
          "target": new ui.Formula(function() {
            return 'textField.textInput';
          })
        }
      };
      controls.push(letter);
    }
    return controls;
  };

  return Helper;

})();

ui.Helper = new Helper();

gs.DesktopUIConstants = DesktopUIConstants;

gs.UIConstants = DesktopUIConstants;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQU07OztFQUNGLGtCQUFDLENBQUEsZUFBRCxHQUFtQjs7RUFDbkIsa0JBQUMsQ0FBQSxlQUFELEdBQW1COztFQUNuQixrQkFBQyxDQUFBLHdCQUFELEdBQTRCOztFQUM1QixrQkFBQyxDQUFBLHlCQUFELEdBQTZCOztFQUM3QixrQkFBQyxDQUFBLHdCQUFELEdBQTRCOztFQUM1QixrQkFBQyxDQUFBLHlCQUFELEdBQTZCOztFQUM3QixrQkFBQyxDQUFBLDBCQUFELEdBQThCOztFQUM5QixrQkFBQyxDQUFBLDJCQUFELEdBQStCOztFQUMvQixrQkFBQyxDQUFBLGNBQUQsR0FBa0I7O0VBQ2xCLGtCQUFDLENBQUEsZUFBRCxHQUFtQjs7RUFDbkIsa0JBQUMsQ0FBQSxpQkFBRCxHQUFxQjs7RUFDckIsa0JBQUMsQ0FBQSxzQkFBRCxHQUEwQjs7RUFDMUIsa0JBQUMsQ0FBQSx3QkFBRCxHQUE0Qjs7RUFDNUIsa0JBQUMsQ0FBQSx3QkFBRCxHQUE0Qjs7RUFDNUIsa0JBQUMsQ0FBQSwrQkFBRCxHQUFtQzs7RUFDbkMsa0JBQUMsQ0FBQSwrQkFBRCxHQUFtQzs7RUFDbkMsa0JBQUMsQ0FBQSw4QkFBRCxHQUFrQzs7RUFDbEMsa0JBQUMsQ0FBQSx3QkFBRCxHQUE0QixJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBZSxHQUFmLEdBQW1CLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsQ0FBQyxRQUFRLENBQUMsS0FBVCxHQUFpQixHQUFsQixDQUFsQixDQUFwQixDQUFBLEdBQWlFLEdBQTVFLENBQUEsR0FBbUYsR0FBbkYsR0FBeUY7Ozs7OztBQUduSDs7QUFDRjs7Ozs7Ozs7O0VBU2EsZ0JBQUEsR0FBQTs7O0FBRWI7Ozs7Ozs7bUJBTUEsc0JBQUEsR0FBd0IsU0FBQTtBQUNwQixRQUFBO0lBQUEsS0FBQSxHQUFRO0lBQ1IsUUFBQSxHQUFXLENBQ1AsNEJBRE8sRUFDdUIsNEJBRHZCLEVBRVAsWUFGTyxFQUVPLEVBRlA7QUFLWDtNQUNJLFFBQUEsR0FBVyxhQUFhLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFwQyxDQUEyQyxTQUFDLENBQUQ7ZUFBTyxHQUFBLENBQUksQ0FBSjtNQUFQLENBQTNDLEVBRGY7S0FBQSxhQUFBO01BR0ksUUFBQSxHQUFXLFNBSGY7O0FBS0EsU0FBUyx3RkFBVDtNQUNJLFFBQVMsQ0FBQSxDQUFBLENBQVQsMENBQTRCLFFBQVMsQ0FBQSxDQUFBLEVBQXZCLElBQTJCO0FBRDdDO0FBR0EsU0FBQSwwQ0FBQTs7TUFDSSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUMsQ0FBQSxxQkFBRCxDQUF1QixPQUF2QixDQUFYO0FBREo7QUFHQSxXQUFPO0VBbEJhOzs7QUFvQnhCOzs7Ozs7OzttQkFPQSxxQkFBQSxHQUF1QixTQUFDLE9BQUQ7QUFDbkIsUUFBQTtJQUFBLFFBQUEsR0FBVztBQUVYLFNBQUEseUNBQUE7O01BQ0ksTUFBQSxHQUFTO1FBQUUsTUFBQSxFQUFRLFdBQVY7UUFBdUIsUUFBQSxFQUFVO1VBQUUsTUFBQSxFQUFRLENBQVY7VUFBYSxRQUFBLEVBQWMsSUFBQSxFQUFFLENBQUMsT0FBSCxDQUFXLFNBQUE7bUJBQUc7VUFBSCxDQUFYLENBQTNCO1NBQWpDOztNQUNULFFBQVEsQ0FBQyxJQUFULENBQWMsTUFBZDtBQUZKO0FBSUEsV0FBTztFQVBZOzs7Ozs7QUFTM0IsRUFBRSxDQUFDLE1BQUgsR0FBZ0IsSUFBQSxNQUFBLENBQUE7O0FBQ2hCLEVBQUUsQ0FBQyxrQkFBSCxHQUF3Qjs7QUFDeEIsRUFBRSxDQUFDLFdBQUgsR0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBEZXNrdG9wVUlDb25zdGFudHNcbiAgICBAT1BUSU9OX0JVVFRPTl9XID0gNzhcbiAgICBAT1BUSU9OX0JVVFRPTl9IID0gNzhcbiAgICBAT1BUSU9OX0JVVFRPTl9MX0lNQUdFX09OID0gXCJtLWRpYW1vbmQtbGFyZ2Utb25cIlxuICAgIEBPUFRJT05fQlVUVE9OX0xfSU1BR0VfT0ZGID0gXCJtLWRpYW1vbmQtbGFyZ2Utb2ZmXCJcbiAgICBAT1BUSU9OX0JVVFRPTl9TX0lNQUdFX09OID0gXCJtLWRpYW1vbmQtc21hbGwtb25cIlxuICAgIEBPUFRJT05fQlVUVE9OX1NfSU1BR0VfT0ZGID0gXCJtLWRpYW1vbmQtc21hbGwtb2ZmXCJcbiAgICBAT1BUSU9OX0JVVFRPTl9NU0dfSU1BR0VfT04gPSBcIm1zZy1kaWFtb25kLXNtYWxsLW9uXCJcbiAgICBAT1BUSU9OX0JVVFRPTl9NU0dfSU1BR0VfT0ZGID0gXCJtc2ctZGlhbW9uZC1zbWFsbC1vZmZcIlxuICAgIEBTTElERVJfVFJBQ0tfSCA9IDNcbiAgICBAVEVYVF9TSVpFX1NNQUxMID0gMjBcbiAgICBAVEVYVF9TSVpFX01FU1NBR0UgPSAzMFxuICAgIEBURVhUX1NJWkVfTUVTU0FHRV9OQU1FID0gMjVcbiAgICBATEFZT1VUX1NFVFRJTkdTX1dJTkRPV19YID0gMjBcbiAgICBATEFZT1VUX1NFVFRJTkdTX1dJTkRPV19XID0gNjMwXG4gICAgQExBWU9VVF9TRVRUSU5HU19WT0lDRVNfV0lORE9XX1ggPSA3MjBcbiAgICBATEFZT1VUX1NFVFRJTkdTX1ZPSUNFU19XSU5ET1dfVyA9IDU0MFxuICAgIEBMQVlPVVRfU0VUVElOR1NfV0lORE9XX0xBQkVMX1cgPSA4MFxuICAgIEBDR19HQUxMRVJZX0NPTlRFTlRfV0lEVEggPSBNYXRoLmZsb29yKChHcmFwaGljcy53aWR0aC0yNjAtKEdyYXBoaWNzLndpZHRoIC0gKEdyYXBoaWNzLndpZHRoIC0gMjAwKSkpIC8gMTc1KSAqIDE3NSArIDIwXG4gICAgXG5cbmNsYXNzIEhlbHBlclxuICAgICMjIypcbiAgICAqIEEgaGVscGVyIGNsYXNzIGNvbnRhaW5pbmcgaGVscGVyLWZ1bmN0aW9ucyBsaWtlIGdlbmVyYXRpbmcgbGV0dGVyLWRlc2NyaXB0b3JzXG4gICAgKiBmcm9tIGRhdGFiYXNlIGRlZmluZWQgdGV4dC1pbnB1dCBwYWdlcy5cbiAgICAqXG4gICAgKiBAbW9kdWxlIHVpXG4gICAgKiBAY2xhc3MgSGVscGVyXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBHZW5lcmF0ZXMgdGhlIHRleHQtaW5wdXQgcGFnZXMgZnJvbSBkYXRhYmFzZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGdlbmVyYXRlVGV4dElucHV0UGFnZXNcbiAgICAqIEByZXR1cm4gT2JqZWN0W10gLSBBcnJheSBvZiB0ZXh0LWlucHV0IHBhZ2VzLiBFYWNoIHBhZ2UgaXMgYW4gYXJyYXkgb2YgdWkuTGV0dGVyIGRlc2NyaXB0b3JzLlxuICAgICMjI1xuICAgIGdlbmVyYXRlVGV4dElucHV0UGFnZXM6ICgpIC0+XG4gICAgICAgIHBhZ2VzID0gW11cbiAgICAgICAgZGVmYXVsdHMgPSBbXG4gICAgICAgICAgICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIsIFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcbiAgICAgICAgICAgIFwiMDEyMzQ1Njc4OVwiLCBcIlwiXG4gICAgICAgIF1cbiAgICAgICAgXG4gICAgICAgIHRyeVxuICAgICAgICAgICAgY2hhcnNldHMgPSBSZWNvcmRNYW5hZ2VyLnN5c3RlbS50ZXh0SW5wdXRQYWdlcy5zZWxlY3QgKHApIC0+IGxjcyhwKVxuICAgICAgICBjYXRjaFxuICAgICAgICAgICAgY2hhcnNldHMgPSBkZWZhdWx0c1xuICAgICAgICAgICAgXG4gICAgICAgIGZvciBpIGluIFswLi4uY2hhcnNldHMubGVuZ3RoXVxuICAgICAgICAgICAgY2hhcnNldHNbaV0gPSBjaGFyc2V0c1tpXSA/IGRlZmF1bHRzW2ldfHxcIlwiXG4gICAgICAgICAgICBcbiAgICAgICAgZm9yIGNoYXJzZXQgaW4gY2hhcnNldHNcbiAgICAgICAgICAgIHBhZ2VzLnB1c2goQGdlbmVyYXRlVGV4dElucHV0UGFnZShjaGFyc2V0KSlcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcGFnZXNcbiAgICAgIFxuICAgICMjIypcbiAgICAqIEdlbmVyYXRlcyBhbiBhcnJheSBvZiB1aS5MZXR0ZXIgZGVzY3JpcHRvcnMgZnJvbSB0aGUgc3BlY2lmaWVkIGNoYXJzZXQuXG4gICAgKlxuICAgICogQG1ldGhvZCBnZW5lcmF0ZVRleHRJbnB1dFBhZ2VcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyc2V0IC0gVGhlIGNoYXJzZXQgdG8gZ2VuZXJhdGUgdGhlIHVpLkxldHRlciBkZXNjcmlwdG9ycyBmcm9tLlxuICAgICogQHJldHVybiBPYmplY3RbXSAtIEFycmF5IG9mIHVpLkxldHRlciBkZXNjcmlwdG9ycy5cbiAgICAjIyMgICAgICBcbiAgICBnZW5lcmF0ZVRleHRJbnB1dFBhZ2U6IChjaGFyc2V0KSAtPlxuICAgICAgICBjb250cm9scyA9IFtdXG4gICAgICAgIFxuICAgICAgICBmb3IgYyBpbiBjaGFyc2V0XG4gICAgICAgICAgICBsZXR0ZXIgPSB7IFwidHlwZVwiOiBcInVpLkxldHRlclwiLCBcInBhcmFtc1wiOiB7IFwidGV4dFwiOiBjLCBcInRhcmdldFwiOiBuZXcgdWkuRm9ybXVsYSgtPiAndGV4dEZpZWxkLnRleHRJbnB1dCcpIH0gfVxuICAgICAgICAgICAgY29udHJvbHMucHVzaChsZXR0ZXIpXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xzXG4gICAgICBcbnVpLkhlbHBlciA9IG5ldyBIZWxwZXIoKSAgXG5ncy5EZXNrdG9wVUlDb25zdGFudHMgPSBEZXNrdG9wVUlDb25zdGFudHNcbmdzLlVJQ29uc3RhbnRzID0gRGVza3RvcFVJQ29uc3RhbnRzIl19
//# sourceURL=Constants_13.js
ui.UiFactory.layouts.titleLayout = {
  type: "ui.FreeLayout",
  frame: [0, 0, Graphics.width, Graphics.height],
  music: $(function() {
    return $dataFields.database.system.titleMusic;
  }),
  controls: [
    {
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.titleScreen.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      type: "ui.Text",
      styles: ["titleText"],
      text: {
        lcId: "4FE8B0BD58FD914BFA8824E07226FB7F7974",
        defaultText: "New Game"
      },
      frame: ["70%", "50%"],
      sizeToFit: true,
      action: {
        name: "newGame"
      }
    }, {
      type: "ui.Text",
      id: "loadGame",
      styles: ["titleText"],
      text: {
        lcId: "0B92E27C6AAE1648AF1B28B2E938923EDDD7",
        defaultText: "Load Game"
      },
      action: {
        name: "switchLayout",
        params: {
          name: "loadMenuLayout",
          savePrevious: true,
          snapshot: true
        }
      },
      frame: ["70% - 10", "50% + 50"],
      sizeToFit: true
    }, {
      type: "ui.Text",
      id: "gallery",
      styles: ["titleText"],
      text: {
        lcId: "5DC22AD29AE4C84F4979470215C2383A0620",
        defaultText: "Gallery"
      },
      action: {
        name: "switchLayout",
        params: {
          name: "cgGalleryLayout",
          savePrevious: true
        }
      },
      frame: ["70% - 20", "50% + 100"],
      sizeToFit: true
    }, {
      type: "ui.Text",
      id: "settings",
      styles: ["titleText"],
      text: {
        lcId: "D77D7952535CB1422759B668DBFB3C4FD441",
        defaultText: "Settings"
      },
      frame: ["70% - 30", "50% + 150"],
      sizeToFit: true,
      action: {
        name: "switchLayout",
        params: {
          name: "settingsMenuLayout",
          savePrevious: true
        }
      }
    }, {
      type: "ui.Text",
      styles: ["titleText"],
      id: "quit",
      text: {
        lcId: "377A3D6B2286414CAB8AAA93605A675D3AD6",
        defaultText: "Quit"
      },
      frame: ["70% - 40", "50% + 200"],
      action: {
        name: "quitGame"
      },
      sizeToFit: true
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFdBQXJCLEdBQW1DO0VBQy9CLElBQUEsRUFBTSxlQUR5QjtFQUUvQixLQUFBLEVBQU8sQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGd0I7RUFHL0IsS0FBQSxFQUFPLENBQUEsQ0FBRSxTQUFBO1dBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7RUFBL0IsQ0FBRixDQUh3QjtFQUkvQixRQUFBLEVBQVU7SUFDTjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLFNBQUE7ZUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBeEMsSUFBZ0Q7TUFBbkQsQ0FGYjtNQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUhiO0tBRE0sRUFPTjtNQUNJLElBQUEsRUFBTSxTQURWO01BS0ksTUFBQSxFQUFRLENBQUMsV0FBRCxDQUxaO01BTUksSUFBQSxFQUFNO1FBQ0YsSUFBQSxFQUFNLHNDQURKO1FBRUYsV0FBQSxFQUFhLFVBRlg7T0FOVjtNQVVJLEtBQUEsRUFBTyxDQUFDLEtBQUQsRUFBUSxLQUFSLENBVlg7TUFXSSxTQUFBLEVBQVcsSUFYZjtNQVlJLE1BQUEsRUFBUTtRQUNKLElBQUEsRUFBTSxTQURGO09BWlo7S0FQTSxFQXdCTjtNQUNJLElBQUEsRUFBTSxTQURWO01BRUksRUFBQSxFQUFJLFVBRlI7TUFLSSxNQUFBLEVBQVEsQ0FBQyxXQUFELENBTFo7TUFNSSxJQUFBLEVBQU07UUFDRixJQUFBLEVBQU0sc0NBREo7UUFFRixXQUFBLEVBQWEsV0FGWDtPQU5WO01BVUksTUFBQSxFQUFRO1FBQ0osSUFBQSxFQUFNLGNBREY7UUFFSixNQUFBLEVBQVE7VUFDSixJQUFBLEVBQU0sZ0JBREY7VUFDb0IsWUFBQSxFQUFjLElBRGxDO1VBQ3dDLFFBQUEsRUFBVSxJQURsRDtTQUZKO09BVlo7TUFnQkksS0FBQSxFQUFPLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FoQlg7TUFpQkksU0FBQSxFQUFXLElBakJmO0tBeEJNLEVBNENOO01BQ0ksSUFBQSxFQUFNLFNBRFY7TUFFSSxFQUFBLEVBQUksU0FGUjtNQUtJLE1BQUEsRUFBUSxDQUFDLFdBQUQsQ0FMWjtNQU1JLElBQUEsRUFBTTtRQUNGLElBQUEsRUFBTSxzQ0FESjtRQUVGLFdBQUEsRUFBYSxTQUZYO09BTlY7TUFVSSxNQUFBLEVBQVE7UUFDSixJQUFBLEVBQU0sY0FERjtRQUVKLE1BQUEsRUFBUTtVQUNKLElBQUEsRUFBTSxpQkFERjtVQUVKLFlBQUEsRUFBYyxJQUZWO1NBRko7T0FWWjtNQWlCSSxLQUFBLEVBQU8sQ0FBQyxVQUFELEVBQWEsV0FBYixDQWpCWDtNQWtCSSxTQUFBLEVBQVcsSUFsQmY7S0E1Q00sRUFpRU47TUFDSSxJQUFBLEVBQU0sU0FEVjtNQUVJLEVBQUEsRUFBSSxVQUZSO01BS0ksTUFBQSxFQUFRLENBQUMsV0FBRCxDQUxaO01BTUksSUFBQSxFQUFNO1FBQ0YsSUFBQSxFQUFNLHNDQURKO1FBRUYsV0FBQSxFQUFhLFVBRlg7T0FOVjtNQVVJLEtBQUEsRUFBTyxDQUFDLFVBQUQsRUFBYSxXQUFiLENBVlg7TUFXSSxTQUFBLEVBQVcsSUFYZjtNQVlJLE1BQUEsRUFBUTtRQUNKLElBQUEsRUFBTSxjQURGO1FBRUosTUFBQSxFQUFRO1VBQ0osSUFBQSxFQUFNLG9CQURGO1VBRUosWUFBQSxFQUFjLElBRlY7U0FGSjtPQVpaO0tBakVNLEVBc0ZOO01BQ0ksSUFBQSxFQUFNLFNBRFY7TUFFSSxNQUFBLEVBQVEsQ0FBQyxXQUFELENBRlo7TUFHSSxFQUFBLEVBQUksTUFIUjtNQUtJLElBQUEsRUFBTTtRQUNGLElBQUEsRUFBTSxzQ0FESjtRQUVGLFdBQUEsRUFBYSxNQUZYO09BTFY7TUFTSSxLQUFBLEVBQU8sQ0FBQyxVQUFELEVBQWEsV0FBYixDQVRYO01BVUksTUFBQSxFQUFRO1FBQ0osSUFBQSxFQUFNLFVBREY7T0FWWjtNQWFJLFNBQUEsRUFBVyxJQWJmO0tBdEZNO0dBSnFCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmxheW91dHMudGl0bGVMYXlvdXQgPSB7XG4gICAgdHlwZTogXCJ1aS5GcmVlTGF5b3V0XCJcbiAgICBmcmFtZTogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdXG4gICAgbXVzaWM6ICQgLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLnRpdGxlTXVzaWNcbiAgICBjb250cm9sczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgXCJpbWFnZVwiOiAtPiAkZGF0YUZpZWxkcy5kYXRhYmFzZS5zeXN0ZW0udGl0bGVTY3JlZW4ubmFtZSBvciAnYmctZ2VuZXJpYycsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XVxuICAgICAgICB9XG4gICAgLFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICNpbml0aWFsRm9jdXM6IHRydWUsXG4gICAgICAgICAgICAjZm9jdXNhYmxlOiB0cnVlLFxuICAgICAgICAgICAgI25leHRLZXlPYmplY3Q6IFwibG9hZEdhbWVcIixcbiAgICAgICAgICAgIHN0eWxlczogW1widGl0bGVUZXh0XCJdLFxuICAgICAgICAgICAgdGV4dDogeyBcbiAgICAgICAgICAgICAgICBsY0lkOiBcIjRGRThCMEJENThGRDkxNEJGQTg4MjRFMDcyMjZGQjdGNzk3NFwiLCBcbiAgICAgICAgICAgICAgICBkZWZhdWx0VGV4dDogXCJOZXcgR2FtZVwiIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWU6IFtcIjcwJVwiLCBcIjUwJVwiXSxcbiAgICAgICAgICAgIHNpemVUb0ZpdDogdHJ1ZVxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJuZXdHYW1lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICxcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICBpZDogXCJsb2FkR2FtZVwiLFxuICAgICAgICAgICAgI2ZvY3VzYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICNuZXh0S2V5T2JqZWN0OiBcImdhbGxlcnlcIixcbiAgICAgICAgICAgIHN0eWxlczogW1widGl0bGVUZXh0XCJdXG4gICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgbGNJZDogXCIwQjkyRTI3QzZBQUUxNjQ4QUYxQjI4QjJFOTM4OTIzRURERDdcIlxuICAgICAgICAgICAgICAgIGRlZmF1bHRUZXh0OiBcIkxvYWQgR2FtZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN3aXRjaExheW91dFwiIFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJsb2FkTWVudUxheW91dFwiLCBzYXZlUHJldmlvdXM6IHRydWUsIHNuYXBzaG90OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWU6IFtcIjcwJSAtIDEwXCIsIFwiNTAlICsgNTBcIl1cbiAgICAgICAgICAgIHNpemVUb0ZpdDogdHJ1ZVxuICAgICAgICB9XG4gICAgLFxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIGlkOiBcImdhbGxlcnlcIixcbiAgICAgICAgICAgICNmb2N1c2FibGU6IHRydWUsXG4gICAgICAgICAgICAjbmV4dEtleU9iamVjdDogXCJzZXR0aW5nc1wiLFxuICAgICAgICAgICAgc3R5bGVzOiBbXCJ0aXRsZVRleHRcIl1cbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICBsY0lkOiBcIjVEQzIyQUQyOUFFNEM4NEY0OTc5NDcwMjE1QzIzODNBMDYyMFwiXG4gICAgICAgICAgICAgICAgZGVmYXVsdFRleHQ6IFwiR2FsbGVyeVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInN3aXRjaExheW91dFwiXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY2dHYWxsZXJ5TGF5b3V0XCJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZVByZXZpb3VzOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWU6IFtcIjcwJSAtIDIwXCIsIFwiNTAlICsgMTAwXCJdLFxuICAgICAgICAgICAgc2l6ZVRvRml0OiB0cnVlXG4gICAgICAgIH1cbiAgICAsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgaWQ6IFwic2V0dGluZ3NcIixcbiAgICAgICAgICAgICNmb2N1c2FibGU6IHRydWUsXG4gICAgICAgICAgICAjbmV4dEtleU9iamVjdDogXCJxdWl0XCIsXG4gICAgICAgICAgICBzdHlsZXM6IFtcInRpdGxlVGV4dFwiXSxcbiAgICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgICAgICBsY0lkOiBcIkQ3N0Q3OTUyNTM1Q0IxNDIyNzU5QjY2OERCRkIzQzRGRDQ0MVwiXG4gICAgICAgICAgICAgICAgZGVmYXVsdFRleHQ6IFwiU2V0dGluZ3NcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWU6IFtcIjcwJSAtIDMwXCIsIFwiNTAlICsgMTUwXCJdXG4gICAgICAgICAgICBzaXplVG9GaXQ6IHRydWVcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic3dpdGNoTGF5b3V0XCJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJzZXR0aW5nc01lbnVMYXlvdXRcIlxuICAgICAgICAgICAgICAgICAgICBzYXZlUHJldmlvdXM6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwidWkuVGV4dFwiXG4gICAgICAgICAgICBzdHlsZXM6IFtcInRpdGxlVGV4dFwiXSxcbiAgICAgICAgICAgIGlkOiBcInF1aXRcIixcbiAgICAgICAgICAgICNmb2N1c2FibGU6IHRydWUsXG4gICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgbGNJZDogXCIzNzdBM0Q2QjIyODY0MTRDQUI4QUFBOTM2MDVBNjc1RDNBRDZcIlxuICAgICAgICAgICAgICAgIGRlZmF1bHRUZXh0OiBcIlF1aXRcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWU6IFtcIjcwJSAtIDQwXCIsIFwiNTAlICsgMjAwXCJdXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInF1aXRHYW1lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpemVUb0ZpdDogdHJ1ZVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Layout_Title_29.js
ui.UiFactory.layouts.cgGalleryLayout = {
  "type": "ui.FreeLayout",
  "orientation": "vertical",
  "preload": {
    "graphics": [
      {
        "path": $(function() {
          return $dataFields.database.cgGallery;
        }),
        "image": $(function() {
          var ref, ref1;
          return (ref = (ref1 = o.thumb) != null ? ref1.name : void 0) != null ? ref : o;
        })
      }, {
        "path": ["locked"],
        "image": $(function() {
          return o;
        })
      }
    ]
  },
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "id": "background",
      "type": "ui.Image",
      "imageHandling": 0,
      "image": "bg-generic",
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.Button",
      "id": "backButton",
      "params": {
        "text": {
          "lcId": "B0FD4BF121D9E44E7589CDD35869F86F2227",
          "defaultText": "Back"
        },
        "action": {
          "name": "previousLayout"
        }
      },
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45],
      "order": 1
    }, {
      "type": "ui.TitledWindow",
      "components": [
        {
          "type": "Component_HotspotBehavior",
          "params": {}
        }
      ],
      "id": "galleryWindow",
      "frame": [20, 0, 220, Graphics.height],
      "params": {
        "title": "Chapters"
      }
    }, {
      "type": "ui.DataScrollView",
      "frame": [20, 10 + 45, 220, Graphics.height - 45 - 10],
      "params": {
        "spacing": [10, 10],
        "columns": 1,
        "dataSource": $(function() {
          return $dataFields.chapters;
        }),
        "template": {
          "size": [220, 45],
          "descriptor": {
            "type": "ui.Text",
            "formulas": [
              $(function() {
                o.text = $dataFields.chapters[o.index].items.name;
                if (this.onInitialize && o.index === 0) {
                  return o.ui.selected = true;
                }
              })
            ],
            "font": {
              "name": "Times New Roman",
              "italic": true,
              "size": 45
            },
            "style": "selectableText",
            "selectable": true,
            "group": "chapters",
            "frame": [0, 0],
            "sizeToFit": true,
            "action": {
              "event": "onAccept",
              "name": "executeFormulas",
              "params": [
                $(function() {
                  return $scrollView.controls[1].behavior.dataSource = $dataFields.cgGalleryByChapter[$dataFields.chapters[o.index].uid];
                })
              ]
            }
          }
        }
      }
    }, {
      "type": "ui.TitledWindow",
      "components": [
        {
          "type": "Component_HotspotBehavior",
          "params": {}
        }
      ],
      "id": "galleryWindow",
      "frame": [260, 0, gs.UIConstants.CG_GALLERY_CONTENT_WIDTH, Graphics.height],
      "params": {
        "title": {
          "lcId": "A80D12A37EE45448BD2A2695D7C86820AB03",
          "defaultText": "Gallery"
        }
      }
    }, {
      "type": "ui.DataScrollView",
      "chainOrder": 3,
      "id": "scrollView",
      "frame": [260, 10 + 45, gs.UIConstants.CG_GALLERY_CONTENT_WIDTH, Graphics.height - 45 - 10],
      "params": {
        "spacing": [10, 10],
        "columns": Math.floor(gs.UIConstants.CG_GALLERY_CONTENT_WIDTH / 165),
        "dataSource": $(function() {
          return $dataFields.cgGalleryByChapter[$dataFields.chapters[0].uid];
        }),
        "template": {
          "size": [165, 124],
          "descriptor": {
            "type": "ui.FreeLayout",
            "frame": [0, 0],
            "sizeToFit": true,
            "group": "gallery",
            "style": "cgGalleryImage",
            "controls": [
              {
                "type": "ui.Frame",
                "style": "cgGalleryImageFrame",
                "frame": [0, 0, "100%", "100%"],
                "padding": [-16, -16, -16, -16],
                "zIndex": 10,
                "actions": [
                  {
                    "condition": {
                      "field": $(function() {
                        return o.parent.controls[1].image;
                      }),
                      "notEqualTo": $(function() {
                        return 'locked';
                      })
                    },
                    "name": "executeFormulas",
                    "params": [
                      $(function() {
                        return $tempFields.selectedImage = o.parent.data[0].graphic.name;
                      })
                    ]
                  }, {
                    "condition": {
                      "field": $(function() {
                        return o.parent.controls[1].image;
                      }),
                      "notEqualTo": $(function() {
                        return 'locked';
                      })
                    },
                    "name": "switchLayout",
                    "params": {
                      "name": "cgGalleryImageLayout",
                      "savePrevious": true
                    }
                  }
                ]
              }, {
                "type": "ui.Image",
                "frame": [0, 0, 165, 124],
                "fixedSize": true,
                "image": "locked",
                "formulas": [
                  $(function() {
                    if ($dataFields.globalData.cgGallery[o.parent.data[0].index].unlocked) {
                      return o.image = o.parent.data[0].thumb.name;
                    }
                  }), $(function() {
                    if (!$dataFields.globalData.cgGallery[o.parent.data[0].index].unlocked) {
                      return o.image = "locked";
                    }
                  })
                ]
              }
            ]
          }
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGVBQXJCLEdBQXVDO0VBQ25DLE1BQUEsRUFBUSxlQUQyQjtFQUVuQyxhQUFBLEVBQWUsVUFGb0I7RUFHbkMsU0FBQSxFQUFXO0lBQ1AsVUFBQSxFQUFZO01BQ1I7UUFBRSxNQUFBLEVBQVMsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQztRQUF4QixDQUFGLENBQVg7UUFBaUQsT0FBQSxFQUFVLENBQUEsQ0FBRSxTQUFBO0FBQUcsY0FBQTt1RkFBZ0I7UUFBbkIsQ0FBRixDQUEzRDtPQURRLEVBRVI7UUFBRSxNQUFBLEVBQVEsQ0FBQyxRQUFELENBQVY7UUFBc0IsT0FBQSxFQUFVLENBQUEsQ0FBRSxTQUFBO2lCQUFHO1FBQUgsQ0FBRixDQUFoQztPQUZRO0tBREw7R0FId0I7RUFTbkMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBVDBCO0VBVW5DLFVBQUEsRUFBWTtJQUNSO01BQ0ksSUFBQSxFQUFNLFlBRFY7TUFFSSxNQUFBLEVBQVEsVUFGWjtNQUdJLGVBQUEsRUFBaUIsQ0FIckI7TUFJSSxPQUFBLEVBQVMsWUFKYjtNQUtJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUxiO0tBRFEsRUFRUjtNQUNJLE1BQUEsRUFBUSxXQURaO01BRUksSUFBQSxFQUFNLFlBRlY7TUFHSSxRQUFBLEVBQVU7UUFBRSxNQUFBLEVBQVE7VUFBRSxNQUFBLEVBQVEsc0NBQVY7VUFBa0QsYUFBQSxFQUFlLE1BQWpFO1NBQVY7UUFBcUYsUUFBQSxFQUFVO1VBQUUsTUFBQSxFQUFRLGdCQUFWO1NBQS9GO09BSGQ7TUFJ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QUEsQ0FBQSxDQUFFLENBQUMsS0FBSyxDQUFDLEtBRHJDOztrQkFERCxDQUFGLENBRE8sRUFJUCxDQUFBLENBQUUsU0FBQTtvQkFDQyxJQUFHLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxTQUFVLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFLLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBakIsQ0FBdUIsQ0FBQyxRQUE3RDs2QkFDSSxDQUFDLENBQUMsS0FBRixHQUFVLFNBRGQ7O2tCQURELENBQUYsQ0FKTztpQkFMaEI7ZUFwQlE7YUFORjtXQUZOO1NBSk47T0FMZDtLQTdEUTtHQVZ1QiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLmNnR2FsbGVyeUxheW91dCA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgXCJwcmVsb2FkXCI6IHtcbiAgICAgICAgXCJncmFwaGljc1wiOiBbXG4gICAgICAgICAgICB7IFwicGF0aFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5kYXRhYmFzZS5jZ0dhbGxlcnkpLCBcImltYWdlXCI6ICgkIC0+IG8udGh1bWI/Lm5hbWUgPyBvKX0sXG4gICAgICAgICAgICB7IFwicGF0aFwiOiBbXCJsb2NrZWRcIl0sIFwiaW1hZ2VcIjogKCQgLT4gbyl9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcImlkXCI6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiaW1hZ2VIYW5kbGluZ1wiOiAwLFxuICAgICAgICAgICAgXCJpbWFnZVwiOiBcImJnLWdlbmVyaWNcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkJ1dHRvblwiLFxuICAgICAgICAgICAgXCJpZFwiOiBcImJhY2tCdXR0b25cIixcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IHsgXCJsY0lkXCI6IFwiQjBGRDRCRjEyMUQ5RTQ0RTc1ODlDREQzNTg2OUY4NkYyMjI3XCIsIFwiZGVmYXVsdFRleHRcIjogXCJCYWNrXCIgfSwgXCJhY3Rpb25cIjogeyBcIm5hbWVcIjogXCJwcmV2aW91c0xheW91dFwiIH0gfSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW0dyYXBoaWNzLndpZHRoIC0gMTcwLCBHcmFwaGljcy5oZWlnaHQgLSA2NSwgMTUwLCA0NV0sXG4gICAgICAgICAgICBcIm9yZGVyXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGl0bGVkV2luZG93XCIsXG4gICAgICAgICAgICBcImNvbXBvbmVudHNcIjogW3sgXCJ0eXBlXCI6IFwiQ29tcG9uZW50X0hvdHNwb3RCZWhhdmlvclwiLCBcInBhcmFtc1wiOiB7fSB9XSxcbiAgICAgICAgICAgIFwiaWRcIjogXCJnYWxsZXJ5V2luZG93XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFsyMCwgMCwgMjIwLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IFwiQ2hhcHRlcnNcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkRhdGFTY3JvbGxWaWV3XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFsyMCwgMTAgKyA0NSwgMjIwLCBHcmFwaGljcy5oZWlnaHQgLSA0NSAtIDEwXSxcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHtcbiAgICAgICAgICAgICAgICBcInNwYWNpbmdcIjogWzEwLCAxMF0sXG4gICAgICAgICAgICAgICAgXCJjb2x1bW5zXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJkYXRhU291cmNlXCI6ICQgLT4gJGRhdGFGaWVsZHMuY2hhcHRlcnNcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IFsyMjAsIDQ1XSxcbiAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdG9yXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby50ZXh0ID0gJGRhdGFGaWVsZHMuY2hhcHRlcnNbby5pbmRleF0uaXRlbXMubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEBvbkluaXRpYWxpemUgYW5kIG8uaW5kZXggPT0gMCB0aGVuIG8udWkuc2VsZWN0ZWQgPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRcIjogeyBcIm5hbWVcIjogXCJUaW1lcyBOZXcgUm9tYW5cIiwgXCJpdGFsaWNcIjogdHJ1ZSwgXCJzaXplXCI6IDQ1IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwic2VsZWN0YWJsZVRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2VsZWN0YWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJncm91cFwiOiBcImNoYXB0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvblwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXZlbnRcIjogXCJvbkFjY2VwdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGVGb3JtdWxhc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQgLT4gJHNjcm9sbFZpZXcuY29udHJvbHNbMV0uYmVoYXZpb3IuZGF0YVNvdXJjZSA9ICRkYXRhRmllbGRzLmNnR2FsbGVyeUJ5Q2hhcHRlclskZGF0YUZpZWxkcy5jaGFwdGVyc1tvLmluZGV4XS51aWRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UaXRsZWRXaW5kb3dcIixcbiAgICAgICAgICAgIFwiY29tcG9uZW50c1wiOiBbeyBcInR5cGVcIjogXCJDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yXCIsIFwicGFyYW1zXCI6IHt9IH1dLFxuICAgICAgICAgICAgXCJpZFwiOiBcImdhbGxlcnlXaW5kb3dcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzI2MCwgMCwgZ3MuVUlDb25zdGFudHMuQ0dfR0FMTEVSWV9DT05URU5UX1dJRFRILCBHcmFwaGljcy5oZWlnaHRdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IHsgXCJsY0lkXCI6IFwiQTgwRDEyQTM3RUU0NTQ0OEJEMkEyNjk1RDdDODY4MjBBQjAzXCIsIFwiZGVmYXVsdFRleHRcIjogXCJHYWxsZXJ5XCIgfSB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkRhdGFTY3JvbGxWaWV3XCIsXG4gICAgICAgICAgICBcImNoYWluT3JkZXJcIjogMyxcbiAgICAgICAgICAgIFwiaWRcIjogXCJzY3JvbGxWaWV3XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFsyNjAsIDEwICsgNDUsIGdzLlVJQ29uc3RhbnRzLkNHX0dBTExFUllfQ09OVEVOVF9XSURUSCwgR3JhcGhpY3MuaGVpZ2h0IC0gNDUgLSAxMF0sXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJzcGFjaW5nXCI6IFsxMCwgMTBdLFxuICAgICAgICAgICAgICAgIFwiY29sdW1uc1wiOiBNYXRoLmZsb29yKGdzLlVJQ29uc3RhbnRzLkNHX0dBTExFUllfQ09OVEVOVF9XSURUSCAvIDE2NSksXG4gICAgICAgICAgICAgICAgXCJkYXRhU291cmNlXCI6ICQgLT4gJGRhdGFGaWVsZHMuY2dHYWxsZXJ5QnlDaGFwdGVyWyRkYXRhRmllbGRzLmNoYXB0ZXJzWzBdLnVpZF1cbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IFsxNjUsIDEyNF0sXG4gICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRvclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImdyb3VwXCI6IFwiZ2FsbGVyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZVwiOiBcImNnR2FsbGVyeUltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJjZ0dhbGxlcnlJbWFnZUZyYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJVwiLCBcIjEwMCVcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiBbLTE2LCAtMTYsIC0xNiwgLTE2XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29uZGl0aW9uXCI6IHsgXCJmaWVsZFwiOiAoJCAtPiBvLnBhcmVudC5jb250cm9sc1sxXS5pbWFnZSksIFwibm90RXF1YWxUb1wiOiAoJCAtPiAnbG9ja2VkJykgfSwgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGVGb3JtdWxhc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiBbJCAtPiAkdGVtcEZpZWxkcy5zZWxlY3RlZEltYWdlID0gby5wYXJlbnQuZGF0YVswXS5ncmFwaGljLm5hbWVdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbmRpdGlvblwiOiB7IFwiZmllbGRcIjogKCQgLT4gby5wYXJlbnQuY29udHJvbHNbMV0uaW1hZ2UpLCBcIm5vdEVxdWFsVG9cIjogKCQgLT4gJ2xvY2tlZCcpIH0sICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzd2l0Y2hMYXlvdXRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJjZ0dhbGxlcnlJbWFnZUxheW91dFwiLCBcInNhdmVQcmV2aW91c1wiOiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOlswLCAwLCAxNjUsIDEyNF0gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZpeGVkU2l6ZVwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlXCI6IFwibG9ja2VkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCQgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAkZGF0YUZpZWxkcy5nbG9iYWxEYXRhLmNnR2FsbGVyeVtvLnBhcmVudC5kYXRhWzBdLmluZGV4XS51bmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmltYWdlID0gby5wYXJlbnQuZGF0YVswXS50aHVtYi5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCQgLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAhJGRhdGFGaWVsZHMuZ2xvYmFsRGF0YS5jZ0dhbGxlcnlbby5wYXJlbnQuZGF0YVswXS5pbmRleF0udW5sb2NrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5pbWFnZSA9IFwibG9ja2VkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Layout_CGGallery_34.js
ui.UiFactory.layouts.cgGalleryImageLayout = {
  "type": "ui.FreeLayout",
  "orientation": "vertical",
  "preload": {
    "graphics": [
      {
        "path": $(function() {
          return [$tempFields.selectedImage];
        }),
        "image": $(function() {
          return o;
        })
      }, {
        "path": ["locked"],
        "image": $(function() {
          return o;
        })
      }
    ]
  },
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Image",
      "frame": [0, 0],
      "formulas": [
        $(function() {
          return o.image = $tempFields.selectedImage;
        })
      ],
      "action": {
        "name": "executeFormulas",
        "params": [
          $(function() {
            return $backButton.visible = !$backButton.visible;
          })
        ]
      }
    }, {
      "type": "ui.Button",
      "id": "backButton",
      "params": {
        "text": {
          "lcId": "B0FD4BF121D9E44E7589CDD35869F86F2227",
          "defaultText": "Back"
        },
        "action": {
          "name": "previousLayout"
        }
      },
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45],
      "order": 1
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLG9CQUFyQixHQUE0QztFQUN4QyxNQUFBLEVBQVEsZUFEZ0M7RUFFeEMsYUFBQSxFQUFlLFVBRnlCO0VBR3hDLFNBQUEsRUFBVztJQUNQLFVBQUEsRUFBWTtNQUNSO1FBQUUsTUFBQSxFQUFTLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsV0FBVyxDQUFDLGFBQWI7UUFBSCxDQUFGLENBQVg7UUFBOEMsT0FBQSxFQUFVLENBQUEsQ0FBRSxTQUFBO2lCQUFHO1FBQUgsQ0FBRixDQUF4RDtPQURRLEVBRVI7UUFBRSxNQUFBLEVBQVEsQ0FBQyxRQUFELENBQVY7UUFBc0IsT0FBQSxFQUFVLENBQUEsQ0FBRSxTQUFBO2lCQUFHO1FBQUgsQ0FBRixDQUFoQztPQUZRO0tBREw7R0FINkI7RUFTeEMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBVCtCO0VBVXhDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUZiO01BR0ksVUFBQSxFQUFZO1FBQUMsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLEtBQUYsR0FBVSxXQUFXLENBQUM7UUFBekIsQ0FBRixDQUFEO09BSGhCO01BSUksUUFBQSxFQUFVO1FBQUUsTUFBQSxFQUFRLGlCQUFWO1FBQTZCLFFBQUEsRUFBVTtVQUFDLENBQUEsQ0FBRSxTQUFBO21CQUFHLFdBQVcsQ0FBQyxPQUFaLEdBQXNCLENBQUMsV0FBVyxDQUFDO1VBQXRDLENBQUYsQ0FBRDtTQUF2QztPQUpkO0tBRFEsRUFPUjtNQUNJLE1BQUEsRUFBUSxXQURaO01BRUksSUFBQSxFQUFNLFlBRlY7TUFHSSxRQUFBLEVBQVU7UUFBRSxNQUFBLEVBQVE7VUFBRSxNQUFBLEVBQVEsc0NBQVY7VUFBa0QsYUFBQSxFQUFlLE1BQWpFO1NBQVY7UUFBcUYsUUFBQSxFQUFVO1VBQUUsTUFBQSxFQUFRLGdCQUFWO1NBQS9GO09BSGQ7TUFJSSxPQUFBLEVBQVMsQ0FBQyxRQUFRLENBQUMsS0FBVCxHQUFpQixHQUFsQixFQUF1QixRQUFRLENBQUMsTUFBVCxHQUFrQixFQUF6QyxFQUE2QyxHQUE3QyxFQUFrRCxFQUFsRCxDQUpiO01BS0ksT0FBQSxFQUFTLENBTGI7S0FQUTtHQVY0QiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLmNnR2FsbGVyeUltYWdlTGF5b3V0ID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICBcInByZWxvYWRcIjoge1xuICAgICAgICBcImdyYXBoaWNzXCI6IFtcbiAgICAgICAgICAgIHsgXCJwYXRoXCI6ICgkIC0+IFskdGVtcEZpZWxkcy5zZWxlY3RlZEltYWdlXSksIFwiaW1hZ2VcIjogKCQgLT4gbyl9LFxuICAgICAgICAgICAgeyBcInBhdGhcIjogW1wibG9ja2VkXCJdLCBcImltYWdlXCI6ICgkIC0+IG8pfVxuICAgICAgICBdXG4gICAgfSxcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbJCAtPiBvLmltYWdlID0gJHRlbXBGaWVsZHMuc2VsZWN0ZWRJbWFnZV0sXG4gICAgICAgICAgICBcImFjdGlvblwiOiB7IFwibmFtZVwiOiBcImV4ZWN1dGVGb3JtdWxhc1wiLCBcInBhcmFtc1wiOiBbJCAtPiAkYmFja0J1dHRvbi52aXNpYmxlID0gISRiYWNrQnV0dG9uLnZpc2libGVdIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuQnV0dG9uXCIsXG4gICAgICAgICAgICBcImlkXCI6IFwiYmFja0J1dHRvblwiLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRleHRcIjogeyBcImxjSWRcIjogXCJCMEZENEJGMTIxRDlFNDRFNzU4OUNERDM1ODY5Rjg2RjIyMjdcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkJhY2tcIiB9LCBcImFjdGlvblwiOiB7IFwibmFtZVwiOiBcInByZXZpb3VzTGF5b3V0XCIgfSB9LFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbR3JhcGhpY3Mud2lkdGggLSAxNzAsIEdyYXBoaWNzLmhlaWdodCAtIDY1LCAxNTAsIDQ1XSxcbiAgICAgICAgICAgIFwib3JkZXJcIjogMVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Layout_CGGalleryEntry_42.js
ui.UiFactory.layouts.settingsMenuLayout = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "executeFieldFormulas": true,
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.StackLayout",
      "orientation": "vertical",
      "sizeToFit": true,
      "alignmentX": "center",
      "alignmentY": "center",
      "controls": [
        {
          "type": "ui.Button",
          "action": {
            "name": "switchLayout",
            "params": {
              "name": "settingsGeneral",
              "savePrevious": true
            }
          },
          "params": {
            "text": {
              "lcId": "149D0E4B8AF8574E5A8BF574FD9A9590B69A",
              "defaultText": "General"
            }
          },
          "frame": [0, 0, 300, 55],
          "margin": [0, 0, 0, 20]
        }, {
          "type": "ui.Button",
          "id": "message",
          "params": {
            "text": {
              "lcId": "6683560332F9274AEE1B5D96FCA020F57DDE",
              "defaultText": "Message"
            },
            "action": {
              "event": "onMouseClick",
              "name": "switchLayout",
              "params": {
                "name": "settingsMessage",
                "savePrevious": true
              }
            }
          },
          "frame": [0, 0, 300, 55],
          "margin": [0, 0, 0, 20]
        }, {
          "type": "ui.Button",
          "params": {
            "text": {
              "lcId": "92FDB732611153400B595AD7D92206CDC592",
              "defaultText": "Audio"
            },
            "action": {
              "event": "onMouseClick",
              "name": "switchLayout",
              "params": {
                "name": "settingsAudio",
                "savePrevious": true
              }
            }
          },
          "frame": [0, 0, 300, 55],
          "margin": [0, 0, 0, 20]
        }, {
          "type": "ui.Button",
          "formulas": [
            $(function() {
              return o.visible = $tempFields.inGame;
            })
          ],
          "params": {
            "text": {
              "lcId": "A6EE5D6732DD454DDE988B569929C5F2DA62",
              "defaultText": "Back to Title"
            },
            "action": {
              "name": "createControl",
              "params": {
                "descriptor": {
                  "id": "confirmationDialog",
                  "type": "ui.ConfirmationDialog",
                  "zIndex": 90000,
                  "params": {
                    "message": {
                      "lcId": "ABC85CC3669B83481309BDF44B98EF11B59B",
                      "defaultText": "Do you really want to exit?"
                    },
                    "acceptActions": [
                      {
                        "name": "switchLayout",
                        "params": {
                          "name": "titleLayout",
                          "clear": true
                        }
                      }
                    ],
                    "rejectActions": [
                      {
                        "name": "disposeControl",
                        "params": $(function() {
                          return 'confirmationDialog';
                        })
                      }
                    ]
                  }
                }
              }
            }
          },
          "frame": [0, 0, 300, 55],
          "margin": [0, 0, 0, 20]
        }
      ]
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGtCQUFyQixHQUEwQztFQUN0QyxNQUFBLEVBQVEsZUFEOEI7RUFFdEMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBRjZCO0VBR3RDLFVBQUEsRUFBWTtJQUNSO01BQ0ksc0JBQUEsRUFBd0IsSUFENUI7TUFFSSxNQUFBLEVBQVEsVUFGWjtNQUdJLE9BQUEsRUFBUyxTQUFBO2VBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQTNDLElBQW1EO01BQXRELENBSGI7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FKYjtLQURRLEVBT1I7TUFDSSxNQUFBLEVBQVEsZ0JBRFo7TUFFSSxhQUFBLEVBQWUsVUFGbkI7TUFHSSxXQUFBLEVBQWEsSUFIakI7TUFJSSxZQUFBLEVBQWMsUUFKbEI7TUFLSSxZQUFBLEVBQWMsUUFMbEI7TUFNSSxVQUFBLEVBQVk7UUFDUjtVQUNJLE1BQUEsRUFBUSxXQURaO1VBRUksUUFBQSxFQUFVO1lBQUUsTUFBQSxFQUFRLGNBQVY7WUFBMEIsUUFBQSxFQUFVO2NBQUUsTUFBQSxFQUFRLGlCQUFWO2NBQTZCLGNBQUEsRUFBZ0IsSUFBN0M7YUFBcEM7V0FGZDtVQUdJLFFBQUEsRUFBVTtZQUFFLE1BQUEsRUFBUTtjQUFFLE1BQUEsRUFBUSxzQ0FBVjtjQUFrRCxhQUFBLEVBQWUsU0FBakU7YUFBVjtXQUhkO1VBSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxHQUFQLEVBQVksRUFBWixDQUpiO1VBS0ksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsRUFBVixDQUxkO1NBRFEsRUFRUjtVQUNJLE1BQUEsRUFBUSxXQURaO1VBRUksSUFBQSxFQUFNLFNBRlY7VUFHSSxRQUFBLEVBQVU7WUFBRSxNQUFBLEVBQVE7Y0FBRSxNQUFBLEVBQVEsc0NBQVY7Y0FBa0QsYUFBQSxFQUFlLFNBQWpFO2FBQVY7WUFBd0YsUUFBQSxFQUFVO2NBQUUsT0FBQSxFQUFTLGNBQVg7Y0FBMkIsTUFBQSxFQUFRLGNBQW5DO2NBQW1ELFFBQUEsRUFBVTtnQkFBRSxNQUFBLEVBQVEsaUJBQVY7Z0JBQTZCLGNBQUEsRUFBZ0IsSUFBN0M7ZUFBN0Q7YUFBbEc7V0FIZDtVQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sR0FBUCxFQUFZLEVBQVosQ0FKYjtVQUtJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLEVBQVYsQ0FMZDtTQVJRLEVBZVI7VUFDSSxNQUFBLEVBQVEsV0FEWjtVQUVJLFFBQUEsRUFBVTtZQUFFLE1BQUEsRUFBUTtjQUFFLE1BQUEsRUFBUSxzQ0FBVjtjQUFrRCxhQUFBLEVBQWUsT0FBakU7YUFBVjtZQUFzRixRQUFBLEVBQVU7Y0FBRSxPQUFBLEVBQVMsY0FBWDtjQUEyQixNQUFBLEVBQVEsY0FBbkM7Y0FBbUQsUUFBQSxFQUFVO2dCQUFFLE1BQUEsRUFBUSxlQUFWO2dCQUEyQixjQUFBLEVBQWdCLElBQTNDO2VBQTdEO2FBQWhHO1dBRmQ7VUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxFQUFaLENBSGI7VUFJSSxRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxFQUFWLENBSmQ7U0FmUSxFQXFCUjtVQUNJLE1BQUEsRUFBUSxXQURaO1VBRUksVUFBQSxFQUFZO1lBQUMsQ0FBQSxDQUFFLFNBQUE7cUJBQUcsQ0FBQyxDQUFDLE9BQUYsR0FBWSxXQUFXLENBQUM7WUFBM0IsQ0FBRixDQUFEO1dBRmhCO1VBR0ksUUFBQSxFQUFVO1lBQ04sTUFBQSxFQUFRO2NBQUUsTUFBQSxFQUFRLHNDQUFWO2NBQWtELGFBQUEsRUFBZSxlQUFqRTthQURGO1lBRU4sUUFBQSxFQUFVO2NBQUUsTUFBQSxFQUFRLGVBQVY7Y0FBMkIsUUFBQSxFQUFVO2dCQUFFLFlBQUEsRUFBYztrQkFDM0QsSUFBQSxFQUFNLG9CQURxRDtrQkFFM0QsTUFBQSxFQUFRLHVCQUZtRDtrQkFHM0QsUUFBQSxFQUFVLEtBSGlEO2tCQUkzRCxRQUFBLEVBQVU7b0JBQ04sU0FBQSxFQUFXO3NCQUFFLE1BQUEsRUFBUSxzQ0FBVjtzQkFBa0QsYUFBQSxFQUFlLDZCQUFqRTtxQkFETDtvQkFFTixlQUFBLEVBQWlCO3NCQUFDO3dCQUFDLE1BQUEsRUFBUSxjQUFUO3dCQUF5QixRQUFBLEVBQVU7MEJBQUUsTUFBQSxFQUFRLGFBQVY7MEJBQXlCLE9BQUEsRUFBUyxJQUFsQzt5QkFBbkM7dUJBQUQ7cUJBRlg7b0JBR04sZUFBQSxFQUFpQjtzQkFBQzt3QkFBQyxNQUFBLEVBQU8sZ0JBQVI7d0JBQXlCLFFBQUEsRUFBVSxDQUFBLENBQUUsU0FBQTtpQ0FBRzt3QkFBSCxDQUFGLENBQW5DO3VCQUFEO3FCQUhYO21CQUppRDtpQkFBaEI7ZUFBckM7YUFGSjtXQUhkO1VBZUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxHQUFQLEVBQVksRUFBWixDQWZiO1VBZ0JJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLEVBQVYsQ0FoQmQ7U0FyQlE7T0FOaEI7S0FQUSxFQXNEUjtNQUNJLE1BQUEsRUFBUSxlQURaO01BRUksT0FBQSxFQUFTLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBbEIsRUFBdUIsUUFBUSxDQUFDLE1BQVQsR0FBa0IsRUFBekMsRUFBNkMsR0FBN0MsRUFBa0QsRUFBbEQsQ0FGYjtLQXREUTtHQUgwQiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLnNldHRpbmdzTWVudUxheW91dCA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiZXhlY3V0ZUZpZWxkRm9ybXVsYXNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImltYWdlXCI6IC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51QmFja2dyb3VuZC5uYW1lIG9yICdiZy1nZW5lcmljJyxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5CdXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25cIjogeyBcIm5hbWVcIjogXCJzd2l0Y2hMYXlvdXRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJzZXR0aW5nc0dlbmVyYWxcIiwgXCJzYXZlUHJldmlvdXNcIjogdHJ1ZSB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IHsgXCJsY0lkXCI6IFwiMTQ5RDBFNEI4QUY4NTc0RTVBOEJGNTc0RkQ5QTk1OTBCNjlBXCIsIFwiZGVmYXVsdFRleHRcIjogXCJHZW5lcmFsXCIgfSAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMzAwLCA1NV0sXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAyMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IHsgXCJsY0lkXCI6IFwiNjY4MzU2MDMzMkY5Mjc0QUVFMUI1RDk2RkNBMDIwRjU3RERFXCIsIFwiZGVmYXVsdFRleHRcIjogXCJNZXNzYWdlXCIgfSwgXCJhY3Rpb25cIjogeyBcImV2ZW50XCI6IFwib25Nb3VzZUNsaWNrXCIsIFwibmFtZVwiOiBcInN3aXRjaExheW91dFwiLCBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcInNldHRpbmdzTWVzc2FnZVwiLCBcInNhdmVQcmV2aW91c1wiOiB0cnVlIH0gfSB9LFxuICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAzMDAsIDU1XSxcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDAsIDIwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5CdXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRleHRcIjogeyBcImxjSWRcIjogXCI5MkZEQjczMjYxMTE1MzQwMEI1OTVBRDdEOTIyMDZDREM1OTJcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkF1ZGlvXCIgfSwgXCJhY3Rpb25cIjogeyBcImV2ZW50XCI6IFwib25Nb3VzZUNsaWNrXCIsIFwibmFtZVwiOiBcInN3aXRjaExheW91dFwiLCBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcInNldHRpbmdzQXVkaW9cIiwgXCJzYXZlUHJldmlvdXNcIjogdHJ1ZSB9IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMzAwLCA1NV0sXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAyMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby52aXNpYmxlID0gJHRlbXBGaWVsZHMuaW5HYW1lXVxuICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IHsgXCJsY0lkXCI6IFwiQTZFRTVENjczMkRENDU0RERFOTg4QjU2OTkyOUM1RjJEQTYyXCIsIFwiZGVmYXVsdFRleHRcIjogXCJCYWNrIHRvIFRpdGxlXCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvblwiOiB7IFwibmFtZVwiOiBcImNyZWF0ZUNvbnRyb2xcIiwgXCJwYXJhbXNcIjogeyBcImRlc2NyaXB0b3JcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY29uZmlybWF0aW9uRGlhbG9nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuQ29uZmlybWF0aW9uRGlhbG9nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogOTAwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtZXNzYWdlXCI6IHsgXCJsY0lkXCI6IFwiQUJDODVDQzM2NjlCODM0ODEzMDlCREY0NEI5OEVGMTFCNTlCXCIsIFwiZGVmYXVsdFRleHRcIjogXCJEbyB5b3UgcmVhbGx5IHdhbnQgdG8gZXhpdD9cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFjY2VwdEFjdGlvbnNcIjogW3tcIm5hbWVcIjogXCJzd2l0Y2hMYXlvdXRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJ0aXRsZUxheW91dFwiLCBcImNsZWFyXCI6IHRydWUgfSB9XSAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlamVjdEFjdGlvbnNcIjogW3tcIm5hbWVcIjpcImRpc3Bvc2VDb250cm9sXCIsXCJwYXJhbXNcIjooJCAtPiAnY29uZmlybWF0aW9uRGlhbG9nJyl9XX1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIDMwMCwgNTVdLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMjBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5CYWNrQnV0dG9uXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtHcmFwaGljcy53aWR0aCAtIDE3MCwgR3JhcGhpY3MuaGVpZ2h0IC0gNjUsIDE1MCwgNDVdXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Layout_SettingsMenu_54.js
ui.UiFactory.layouts.settingsGeneral = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }, {
      "type": "ui.TitledWindow",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height - 70],
      "params": {
        "title": {
          "lcId": "4D3EC62F007AF64B0C68E8081C003D041370",
          "defaultText": "General Settings"
        }
      }
    }, {
      "type": "ui.VerticalScrollView",
      "id": "settingsScrollView",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 45, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height - 45 - 10 - 70],
      "params": {
        "dataField": 1,
        "template": {
          "type": "ui.StackLayout",
          "orientation": "vertical",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.SettingsOptionSet",
              "params": {
                "label": {
                  "lcId": "2BB9D02557CFE84BAE8B7401501783BA6FBF",
                  "defaultText": "Display Mode"
                },
                "write": $(function(v) {
                  return $dataFields.settings.fullScreen = v;
                }),
                "read": $(function() {
                  return $dataFields.settings.fullScreen;
                }),
                "group": "displayMode",
                "onLabel": {
                  "lcId": "06C8957A5B6A0949DD28B96486586E93FCD4",
                  "defaultText": "Fullscreen"
                },
                "offLabel": {
                  "lcId": "C5BB4D477FDFE54D2B5A0473BEC61239C219",
                  "defaultText": "Windowed"
                },
                "onAction": {
                  "name": "enterFullScreen",
                  "params": {}
                },
                "offAction": {
                  "name": "leaveFullScreen",
                  "params": {}
                }
              }
            }, {
              "type": "ui.SettingsOptionSet",
              "params": {
                "label": {
                  "lcId": "1C7C50BC434287404B392232B960C5701039",
                  "defaultText": "Screen Adjustment"
                },
                "write": $(function(v) {
                  return $dataFields.settings.aspectRatio = v;
                }),
                "read": $(function() {
                  return $dataFields.settings.aspectRatio;
                }),
                "group": "screenAdjust",
                "onLabel": {
                  "lcId": "33B51B1130853144E4888263A53B022C4ADB",
                  "defaultText": "Stretch"
                },
                "offLabel": {
                  "lcId": "A583EEF38BB725426A6AB8965DCCDDED2982",
                  "defaultText": "Ratio"
                },
                "onAction": {
                  "name": "adjustAspectRatio",
                  "params": true
                },
                "offAction": {
                  "name": "adjustAspectRatio",
                  "params": false
                }
              }
            }, {
              "type": "ui.SettingsOptionSet",
              "params": {
                "label": "Confirmation",
                "onLabel": {
                  "lcId": "DB87E66F8299B549E56B2F048040DA406BCC",
                  "defaultText": "On"
                },
                "offLabel": {
                  "lcId": "2D23328A3B4F80462E7AB2F8CD3996B20665",
                  "defaultText": "Off"
                },
                "group": "confirmation",
                "write": $(function(v) {
                  return $dataFields.settings.confirmation = v;
                }),
                "read": $(function() {
                  return $dataFields.settings.confirmation;
                })
              }
            }
          ]
        }
      }
    }, {
      "type": "ui.ConfirmationButton",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, Graphics.height - 60, 300, 45],
      "params": {
        "confirmationMessage": {
          "lcId": "92D58F0C1B58A94ADF791B81E9479CF2A27D",
          "defaultText": "Do you really want to reset global data?"
        },
        "text": {
          "lcId": "4272A0BC5880A64DA49AEBD4D60905347726",
          "defaultText": "Reset Global Data"
        },
        "acceptActions": [
          {
            "name": "resetGlobalData",
            "params": {
              "name": "titleLayout"
            }
          }, {
            "name": "disposeControl",
            "params": $(function() {
              return 'confirmationDialog';
            })
          }
        ],
        "rejectActions": [
          {
            "name": "disposeControl",
            "params": $(function() {
              return 'confirmationDialog';
            })
          }
        ]
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGVBQXJCLEdBQXVDO0VBQ25DLE1BQUEsRUFBUSxlQUQyQjtFQUVuQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGMEI7RUFHbkMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxTQUFBO2VBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQTNDLElBQW1EO01BQXRELENBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FIYjtLQURRLEVBTVI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWlCLEdBQWxCLEVBQXVCLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEVBQXpDLEVBQTZDLEdBQTdDLEVBQWtELEVBQWxELENBRmI7S0FOUSxFQVVSO01BQ0ksTUFBQSxFQUFRLGlCQURaO01BRUksT0FBQSxFQUFTLENBQ0wsRUFBRSxDQUFDLFdBQVcsQ0FBQyx3QkFEVixFQUVMLENBRkssRUFHTCxFQUFFLENBQUMsV0FBVyxDQUFDLHdCQUhWLEVBSUwsUUFBUSxDQUFDLE1BQVQsR0FBa0IsRUFKYixDQUZiO01BUUksUUFBQSxFQUFVO1FBQUUsT0FBQSxFQUFTO1VBQUUsTUFBQSxFQUFRLHNDQUFWO1VBQWtELGFBQUEsRUFBZSxrQkFBakU7U0FBWDtPQVJkO0tBVlEsRUFvQlI7TUFDSSxNQUFBLEVBQVEsdUJBRFo7TUFFSSxJQUFBLEVBQU0sb0JBRlY7TUFHSSxPQUFBLEVBQVMsQ0FDTCxFQUFFLENB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QUNJLE1BQUEsRUFBUSx1QkFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsd0JBQWhCLEVBQTBDLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEVBQTVELEVBQWdFLEdBQWhFLEVBQXFFLEVBQXJFLENBRmI7TUFHSSxRQUFBLEVBQVU7UUFDTixxQkFBQSxFQUF1QjtVQUFFLE1BQUEsRUFBUSxzQ0FBVjtVQUFrRCxhQUFBLEVBQWUsMENBQWpFO1NBRGpCO1FBRU4sTUFBQSxFQUFRO1VBQUUsTUFBQSxFQUFRLHNDQUFWO1VBQWtELGFBQUEsRUFBZSxtQkFBakU7U0FGRjtRQUdOLGVBQUEsRUFBaUI7VUFBQztZQUFFLE1BQUEsRUFBUSxpQkFBVjtZQUE2QixRQUFBLEVBQVU7Y0FBRSxNQUFBLEVBQVEsYUFBVjthQUF2QztXQUFELEVBQXFFO1lBQUMsTUFBQSxFQUFPLGdCQUFSO1lBQXlCLFFBQUEsRUFBVSxDQUFBLENBQUUsU0FBQTtxQkFBRztZQUFILENBQUYsQ0FBbkM7V0FBckU7U0FIWDtRQUlOLGVBQUEsRUFBaUI7VUFBQztZQUFFLE1BQUEsRUFBTyxnQkFBVDtZQUEwQixRQUFBLEVBQVUsQ0FBQSxDQUFFLFNBQUE7cUJBQUc7WUFBSCxDQUFGLENBQXBDO1dBQUQ7U0FKWDtPQUhkO0tBakhRO0dBSHVCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmxheW91dHMuc2V0dGluZ3NHZW5lcmFsID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVCYWNrZ3JvdW5kLm5hbWUgb3IgJ2JnLWdlbmVyaWMnXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5CYWNrQnV0dG9uXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtHcmFwaGljcy53aWR0aCAtIDE3MCwgR3JhcGhpY3MuaGVpZ2h0IC0gNjUsIDE1MCwgNDVdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRpdGxlZFdpbmRvd1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19YLCBcbiAgICAgICAgICAgICAgICAwLCBcbiAgICAgICAgICAgICAgICBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX1csIFxuICAgICAgICAgICAgICAgIEdyYXBoaWNzLmhlaWdodCAtIDcwXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IHsgXCJsY0lkXCI6IFwiNEQzRUM2MkYwMDdBRjY0QjBDNjhFODA4MUMwMDNEMDQxMzcwXCIsIFwiZGVmYXVsdFRleHRcIjogXCJHZW5lcmFsIFNldHRpbmdzXCIgfSB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlZlcnRpY2FsU2Nyb2xsVmlld1wiLFxuICAgICAgICAgICAgXCJpZFwiOiBcInNldHRpbmdzU2Nyb2xsVmlld1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19YLCBcbiAgICAgICAgICAgICAgICA0NSwgXG4gICAgICAgICAgICAgICAgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19XLCBcbiAgICAgICAgICAgICAgICBHcmFwaGljcy5oZWlnaHQgLSA0NSAtIDEwIC0gNzBcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJkYXRhRmllbGRcIjogMSxcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TZXR0aW5nc09wdGlvblNldFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxhYmVsXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxjSWRcIjogXCIyQkI5RDAyNTU3Q0ZFODRCQUU4Qjc0MDE1MDE3ODNCQTZGQkZcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwiRGlzcGxheSBNb2RlXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmZ1bGxTY3JlZW4gPSB2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVhZFwiOiAkIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmZ1bGxTY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJncm91cFwiOiBcImRpc3BsYXlNb2RlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25MYWJlbFwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsY0lkXCI6IFwiMDZDODk1N0E1QjZBMDk0OUREMjhCOTY0ODY1ODZFOTNGQ0Q0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIkZ1bGxzY3JlZW5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2ZmTGFiZWxcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGNJZFwiOiBcIkM1QkI0RDQ3N0ZERkU1NEQyQjVBMDQ3M0JFQzYxMjM5QzIxOVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCJXaW5kb3dlZFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uQWN0aW9uXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJlbnRlckZ1bGxTY3JlZW5cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2ZmQWN0aW9uXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJsZWF2ZUZ1bGxTY3JlZW5cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NPcHRpb25TZXRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsY0lkXCI6IFwiMUM3QzUwQkM0MzQyODc0MDRCMzkyMjMyQjk2MEM1NzAxMDM5XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIlNjcmVlbiBBZGp1c3RtZW50XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmFzcGVjdFJhdGlvID0gdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlYWRcIjogJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hc3BlY3RSYXRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdyb3VwXCI6IFwic2NyZWVuQWRqdXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25MYWJlbFwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsY0lkXCI6IFwiMzNCNTFCMTEzMDg1MzE0NEU0ODg4MjYzQTUzQjAyMkM0QURCXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZhdWx0VGV4dFwiOiBcIlN0cmV0Y2hcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2ZmTGFiZWxcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGNJZFwiOiBcIkE1ODNFRUYzOEJCNzI1NDI2QTZBQjg5NjVEQ0NEREVEMjk4MlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCJSYXRpb1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uQWN0aW9uXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhZGp1c3RBc3BlY3RSYXRpb1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHRydWUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9mZkFjdGlvblwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiYWRqdXN0QXNwZWN0UmF0aW9cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiBmYWxzZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NPcHRpb25TZXRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiBcIkNvbmZpcm1hdGlvblwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvbkxhYmVsXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxjSWRcIjogXCJEQjg3RTY2RjgyOTlCNTQ5RTU2QjJGMDQ4MDQwREE0MDZCQ0NcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlZmF1bHRUZXh0XCI6IFwiT25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2ZmTGFiZWxcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGNJZFwiOiBcIjJEMjMzMjhBM0I0RjgwNDYyRTdBQjJGOENEMzk5NkIyMDY2NVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVmYXVsdFRleHRcIjogXCJPZmZcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ3JvdXBcIjogXCJjb25maXJtYXRpb25cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid3JpdGVcIjogJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuY29uZmlybWF0aW9uID0gdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlYWRcIjogJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5jb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5Db25maXJtYXRpb25CdXR0b25cIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW2dzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfWCwgR3JhcGhpY3MuaGVpZ2h0IC0gNjAsIDMwMCwgNDVdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICBcImNvbmZpcm1hdGlvbk1lc3NhZ2VcIjogeyBcImxjSWRcIjogXCI5MkQ1OEYwQzFCNThBOTRBREY3OTFCODFFOTQ3OUNGMkEyN0RcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkRvIHlvdSByZWFsbHkgd2FudCB0byByZXNldCBnbG9iYWwgZGF0YT9cIiB9LCBcbiAgICAgICAgICAgICAgICBcInRleHRcIjogeyBcImxjSWRcIjogXCI0MjcyQTBCQzU4ODBBNjREQTQ5QUVCRDRENjA5MDUzNDc3MjZcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlJlc2V0IEdsb2JhbCBEYXRhXCIgfSwgXG4gICAgICAgICAgICAgICAgXCJhY2NlcHRBY3Rpb25zXCI6IFt7IFwibmFtZVwiOiBcInJlc2V0R2xvYmFsRGF0YVwiLCBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcInRpdGxlTGF5b3V0XCIgfSB9LCB7XCJuYW1lXCI6XCJkaXNwb3NlQ29udHJvbFwiLFwicGFyYW1zXCI6KCQgLT4gJ2NvbmZpcm1hdGlvbkRpYWxvZycpfV0sIFxuICAgICAgICAgICAgICAgIFwicmVqZWN0QWN0aW9uc1wiOiBbeyBcIm5hbWVcIjpcImRpc3Bvc2VDb250cm9sXCIsXCJwYXJhbXNcIjooJCAtPiAnY29uZmlybWF0aW9uRGlhbG9nJyl9XSB9XG4gICAgICAgIH0gIFxuICAgIF1cbn0iXX0=
//# sourceURL=Layout_SettingsGeneral_66.js
ui.UiFactory.layouts.settingsMessage = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "executeFieldFormulas": true,
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }, {
      "type": "ui.TitledWindow",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height],
      "params": {
        "title": {
          "lcId": "B5E0981F6D6A9240653B23A0D09B3383048E",
          "defaultText": "Message Settings"
        }
      }
    }, {
      "type": "ui.VerticalScrollView",
      "id": "settingsScrollView",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 45, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height - 45 - 10],
      "params": {
        "dataField": 1,
        "template": {
          "type": "ui.StackLayout",
          "orientation": "vertical",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.StackLayout",
              "orientation": "vertical",
              "sizeToFit": true,
              "controls": [
                {
                  "type": "ui.SettingsStepSlider",
                  "params": {
                    "label": {
                      "lcId": "179347604CAF0640628824725774FFBD07B6",
                      "defaultText": "Message Speed"
                    },
                    "write": $(function(v) {
                      return $dataFields.settings.messageSpeed = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.messageSpeed;
                    }),
                    "data": [
                      {
                        "lcId": "41A878A74A390447FB9AB956122AD13373D1",
                        "defaultText": "Slowest"
                      }, {
                        "lcId": "3D840F7D30D472419059F342ACF0C846B0ED",
                        "defaultText": "Slow"
                      }, {
                        "lcId": "12C3DA314B22614AC67890D37019784EDFA9",
                        "defaultText": "Normal"
                      }, {
                        "lcId": "889AFB7C545AE8477889E11480BE6871ECA1",
                        "defaultText": "Fast"
                      }, {
                        "lcId": "DE5E3CF01CDA784C378B428533F4D6E03C96",
                        "defaultText": "Fastest"
                      }
                    ]
                  }
                }, {
                  "type": "ui.SettingsOptionSet",
                  "params": {
                    "label": {
                      "lcId": "ED439B0C58174541F17B79280D5763C674AB",
                      "defaultText": "Auto-Message"
                    },
                    "group": "autoMessage",
                    "write": $(function(v) {
                      return $dataFields.settings.autoMessage.enabled = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.autoMessage.enabled;
                    })
                  }
                }, {
                  "type": "ui.SettingsStepSlider",
                  "params": {
                    "label": {
                      "lcId": "D073E5F78F4FF8423249BBC5E61064361B09",
                      "defaultText": "Auto-Message Duration"
                    },
                    "group": "autoMessageDuration",
                    "write": $(function(v) {
                      return $dataFields.settings.autoMessage.time = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.autoMessage.time;
                    }),
                    "data": [
                      {
                        "lcId": "4FE0B4B30E8789487D7B88D2839ECBCE5C70",
                        "defaultText": "1 Second"
                      }, {
                        "lcId": "1C20A916753BC840952864867489B576DBD5",
                        "defaultText": "2 Seconds"
                      }, {
                        "lcId": "FBF01A7B3C1BB2489F2B2D0581A257A102E6",
                        "defaultText": "3 Seconds"
                      }, {
                        "lcId": "DE0D08A67E84B1476E4A1B604CB64E4BC942",
                        "defaultText": "4 Seconds"
                      }, {
                        "lcId": "964CF20A55D2F3404B389B67AAF1CDA51656",
                        "defaultText": "5 Seconds"
                      }
                    ]
                  }
                }, {
                  "type": "ui.SettingsOptionSet",
                  "params": {
                    "label": {
                      "lcId": "994D4B5C1BFA5445385B8AE32706997132F1",
                      "defaultText": {
                        "lcId": "994D4B5C1BFA5445385B8AE32706997132F1",
                        "defaultText": "Wait for Voice"
                      }
                    },
                    "group": "waitForVoice",
                    "write": $(function(v) {
                      return $dataFields.settings.autoMessage.waitForVoice = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.autoMessage.waitForVoice;
                    })
                  }
                }, {
                  "type": "ui.SettingsOptionSet",
                  "params": {
                    "label": {
                      "lcId": "BF3E948519A9084E721AF585C8C7D51235A7",
                      "defaultText": {
                        "lcId": "BF3E948519A9084E721AF585C8C7D51235A7",
                        "defaultText": "Stop on Click"
                      }
                    },
                    "group": "stopOnAction",
                    "write": $(function(v) {
                      return $dataFields.settings.autoMessage.stopOnAction = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.autoMessage.stopOnAction;
                    })
                  }
                }, {
                  "type": "ui.SettingsOptionSet",
                  "params": {
                    "label": {
                      "lcId": "3538F7E582FC20467E7947F77FB45789115E",
                      "defaultText": {
                        "lcId": "3538F7E582FC20467E7947F77FB45789115E",
                        "defaultText": "Time Message to Voice"
                      }
                    },
                    "group": "timeMessageToVoice",
                    "write": $(function(v) {
                      return $dataFields.settings.timeMessageToVoice = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.timeMessageToVoice;
                    })
                  }
                }
              ]
            }, {
              "type": "ui.StackLayout",
              "orientation": "vertical",
              "sizeToFit": true,
              "controls": [
                {
                  "type": "ui.StackLayout",
                  "orientation": "vertical",
                  "sizeToFit": true,
                  "controls": [
                    {
                      "type": "ui.Text",
                      "text": "Skip",
                      "styles": ["regularUIText"],
                      "frame": [0, 0, 220, 37],
                      "margin": [10, 0, 0, 0],
                      "alignmentY": "top"
                    }, {
                      "type": "ui.StackLayout",
                      "sizeToFit": true,
                      "controls": [
                        {
                          "type": "ui.OptionButton",
                          "params": {
                            "label": {
                              "lcId": "C138CE3C9564C54707492AA264690B5BBB90",
                              "defaultText": "Videos"
                            },
                            "write": $(function(v) {
                              return $dataFields.settings.allowVideoSkip = v;
                            }),
                            "read": $(function() {
                              return $dataFields.settings.allowVideoSkip;
                            })
                          }
                        }, {
                          "type": "ui.OptionButton",
                          "params": {
                            "label": {
                              "lcId": "E4A4BA053854774F582852D558E4E5C23AC5",
                              "defaultText": "Voices"
                            },
                            "write": $(function(v) {
                              return $dataFields.settings.skipVoiceOnAction = v;
                            }),
                            "read": $(function() {
                              return $dataFields.settings.skipVoiceOnAction;
                            })
                          }
                        }
                      ]
                    }, {
                      "type": "ui.StackLayout",
                      "sizeToFit": true,
                      "controls": [
                        {
                          "type": "ui.OptionButton",
                          "params": {
                            "label": {
                              "lcId": "469C50C92465724C9F48BD86BB799E781F3C",
                              "defaultText": "Unread"
                            },
                            "write": $(function(v) {
                              return $dataFields.settings.allowSkipUnreadMessages = v;
                            }),
                            "read": $(function() {
                              return $dataFields.settings.allowSkipUnreadMessages;
                            })
                          }
                        }, {
                          "type": "ui.OptionButton",
                          "params": {
                            "label": {
                              "lcId": "F84B92944EA3354A49184BF155F42220FE9B",
                              "defaultText": "Choices"
                            },
                            "write": $(function(v) {
                              return $dataFields.settings.allowChoiceSkip = v;
                            }),
                            "read": $(function() {
                              return $dataFields.settings.allowChoiceSkip;
                            })
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGVBQXJCLEdBQXVDO0VBQ25DLE1BQUEsRUFBUSxlQUQyQjtFQUVuQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGMEI7RUFHbkMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxzQkFBQSxFQUF3QixJQUQ1QjtNQUVJLE1BQUEsRUFBUSxVQUZaO01BR0ksT0FBQSxFQUFTLFNBQUE7ZUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBM0MsSUFBbUQ7TUFBdEQsQ0FIYjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUpiO0tBRFEsRUFPUjtNQUNJLE1BQUEsRUFBUSxlQURaO01BRUksT0FBQSxFQUFTLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBbEIsRUFBdUIsUUFBUSxDQUFDLE1BQVQsR0FBa0IsRUFBekMsRUFBNkMsR0FBN0MsRUFBa0QsRUFBbEQsQ0FGYjtLQVBRLEVBV1I7TUFDSSxNQUFBLEVBQVEsaUJBRFo7TUFFSSxPQUFBLEVBQVMsQ0FDTCxFQUFFLENBQUMsV0FBVyxDQUFDLHdCQURWLEVBRUwsQ0FGSyxFQUdMLEVBQUUsQ0FBQyxXQUFXLENBQUMsd0JBSFYsRUFJTCxRQUFRLENBQUMsTUFKSixDQUZiO01BUUksUUFBQSxFQUFVO1FBQUUsT0FBQSxFQUFTO1VBQUUsTUFBQSxFQUFRLHNDQUFWO1VBQWtELGFBQUEsRUFBZSxrQkFBakU7U0FBWDtPQVJkO0tBWFEsRUFxQlI7TUFDSSxNQUFBLEVBQVEsdUJBRFo7TUFFSSxJQUFBLEVBQU0sb0JBRlY7TUFHSSxPQUFBLEVBQVMs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UUFBQSxFQUFVOzRCQUNOLE9BQUEsRUFBUzs4QkFBRSxNQUFBLEVBQVEsc0NBQVY7OEJBQWtELGFBQUEsRUFBZSxTQUFqRTs2QkFESDs0QkFFTixPQUFBLEVBQVMsQ0FBQSxDQUFFLFNBQUMsQ0FBRDtxQ0FBTyxXQUFXLENBQUMsUUFBUSxDQUFDLGVBQXJCLEdBQXVDOzRCQUE5QyxDQUFGLENBRkg7NEJBR04sTUFBQSxFQUFRLENBQUEsQ0FBRSxTQUFBO3FDQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7NEJBQXhCLENBQUYsQ0FIRjsyQkFGZDt5QkFUUTt1QkFIaEI7cUJBL0JRO21CQUpoQjtpQkFEUTtlQUpoQjthQTlCUTtXQUpKO1NBRk47T0FUZDtLQXJCUTtHQUh1QiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLnNldHRpbmdzTWVzc2FnZSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiZXhlY3V0ZUZpZWxkRm9ybXVsYXNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImltYWdlXCI6IC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51QmFja2dyb3VuZC5uYW1lIG9yICdiZy1nZW5lcmljJyxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkJhY2tCdXR0b25cIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW0dyYXBoaWNzLndpZHRoIC0gMTcwLCBHcmFwaGljcy5oZWlnaHQgLSA2NSwgMTUwLCA0NV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGl0bGVkV2luZG93XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtcbiAgICAgICAgICAgICAgICBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX1gsIFxuICAgICAgICAgICAgICAgIDAsIFxuICAgICAgICAgICAgICAgIGdzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfVywgXG4gICAgICAgICAgICAgICAgR3JhcGhpY3MuaGVpZ2h0XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IHsgXCJsY0lkXCI6IFwiQjVFMDk4MUY2RDZBOTI0MDY1M0IyM0EwRDA5QjMzODMwNDhFXCIsIFwiZGVmYXVsdFRleHRcIjogXCJNZXNzYWdlIFNldHRpbmdzXCIgfSB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlZlcnRpY2FsU2Nyb2xsVmlld1wiLFxuICAgICAgICAgICAgXCJpZFwiOiBcInNldHRpbmdzU2Nyb2xsVmlld1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19YLCBcbiAgICAgICAgICAgICAgICA0NSwgXG4gICAgICAgICAgICAgICAgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19XLCBcbiAgICAgICAgICAgICAgICBHcmFwaGljcy5oZWlnaHQgLSA0NSAtIDEwXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjoge1xuICAgICAgICAgICAgICAgIFwiZGF0YUZpZWxkXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NTdGVwU2xpZGVyXCIsIFwicGFyYW1zXCI6IHsgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIjE3OTM0NzYwNENBRjA2NDA2Mjg4MjQ3MjU3NzRGRkJEMDdCNlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiTWVzc2FnZSBTcGVlZFwiIH0sIFwid3JpdGVcIjogKCQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLm1lc3NhZ2VTcGVlZCA9IHYpLCBcInJlYWRcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MubWVzc2FnZVNwZWVkKSwgXCJkYXRhXCI6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJsY0lkXCI6IFwiNDFBODc4QTc0QTM5MDQ0N0ZCOUFCOTU2MTIyQUQxMzM3M0QxXCIsIFwiZGVmYXVsdFRleHRcIjogXCJTbG93ZXN0XCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcImxjSWRcIjogXCIzRDg0MEY3RDMwRDQ3MjQxOTA1OUYzNDJBQ0YwQzg0NkIwRURcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlNsb3dcIiB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibGNJZFwiOiBcIjEyQzNEQTMxNEIyMjYxNEFDNjc4OTBEMzcwMTk3ODRFREZBOVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiTm9ybWFsXCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcImxjSWRcIjogXCI4ODlBRkI3QzU0NUFFODQ3Nzg4OUUxMTQ4MEJFNjg3MUVDQTFcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkZhc3RcIiB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibGNJZFwiOiBcIkRFNUUzQ0YwMUNEQTc4NEMzNzhCNDI4NTMzRjRENkUwM0M5NlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiRmFzdGVzdFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJ1aS5TZXR0aW5nc09wdGlvblNldFwiLCBcInBhcmFtc1wiOiB7IFwibGFiZWxcIjogeyBcImxjSWRcIjogXCJFRDQzOUIwQzU4MTc0NTQxRjE3Qjc5MjgwRDU3NjNDNjc0QUJcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkF1dG8tTWVzc2FnZVwiIH0sIFwiZ3JvdXBcIjogXCJhdXRvTWVzc2FnZVwiLCBcIndyaXRlXCI6ICgkICh2KSAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hdXRvTWVzc2FnZS5lbmFibGVkID0gdiksIFwicmVhZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hdXRvTWVzc2FnZS5lbmFibGVkKSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NTdGVwU2xpZGVyXCIsIFwicGFyYW1zXCI6IHsgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIkQwNzNFNUY3OEY0RkY4NDIzMjQ5QkJDNUU2MTA2NDM2MUIwOVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiQXV0by1NZXNzYWdlIER1cmF0aW9uXCIgfSwgXCJncm91cFwiOiBcImF1dG9NZXNzYWdlRHVyYXRpb25cIiwgXCJ3cml0ZVwiOiAoJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYXV0b01lc3NhZ2UudGltZSA9IHYpLCBcInJlYWRcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYXV0b01lc3NhZ2UudGltZSksIFwiZGF0YVwiOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibGNJZFwiOiBcIjRGRTBCNEIzMEU4Nzg5NDg3RDdCODhEMjgzOUVDQkNFNUM3MFwiLCBcImRlZmF1bHRUZXh0XCI6IFwiMSBTZWNvbmRcIiB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibGNJZFwiOiBcIjFDMjBBOTE2NzUzQkM4NDA5NTI4NjQ4Njc0ODlCNTc2REJENVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiMiBTZWNvbmRzXCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcImxjSWRcIjogXCJGQkYwMUE3QjNDMUJCMjQ4OUYyQjJEMDU4MUEyNTdBMTAyRTZcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIjMgU2Vjb25kc1wiIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJsY0lkXCI6IFwiREUwRDA4QTY3RTg0QjE0NzZFNEExQjYwNENCNjRFNEJDOTQyXCIsIFwiZGVmYXVsdFRleHRcIjogXCI0IFNlY29uZHNcIiB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibGNJZFwiOiBcIjk2NENGMjBBNTVEMkYzNDA0QjM4OUI2N0FBRjFDREE1MTY1NlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiNSBTZWNvbmRzXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwidHlwZVwiOiBcInVpLlNldHRpbmdzT3B0aW9uU2V0XCIsIFwicGFyYW1zXCI6IHsgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIjk5NEQ0QjVDMUJGQTU0NDUzODVCOEFFMzI3MDY5OTcxMzJGMVwiLCBcImRlZmF1bHRUZXh0XCI6IHsgXCJsY0lkXCI6IFwiOTk0RDRCNUMxQkZBNTQ0NTM4NUI4QUUzMjcwNjk5NzEzMkYxXCIsIFwiZGVmYXVsdFRleHRcIjogXCJXYWl0IGZvciBWb2ljZVwiIH0gfSwgXCJncm91cFwiOiBcIndhaXRGb3JWb2ljZVwiLCBcIndyaXRlXCI6ICgkICh2KSAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hdXRvTWVzc2FnZS53YWl0Rm9yVm9pY2UgPSB2KSwgXCJyZWFkXCI6ICgkIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmF1dG9NZXNzYWdlLndhaXRGb3JWb2ljZSkgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwidHlwZVwiOiBcInVpLlNldHRpbmdzT3B0aW9uU2V0XCIsIFwicGFyYW1zXCI6IHsgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIkJGM0U5NDg1MTlBOTA4NEU3MjFBRjU4NUM4QzdENTEyMzVBN1wiLCBcImRlZmF1bHRUZXh0XCI6IHsgXCJsY0lkXCI6IFwiQkYzRTk0ODUxOUE5MDg0RTcyMUFGNTg1QzhDN0Q1MTIzNUE3XCIsIFwiZGVmYXVsdFRleHRcIjogXCJTdG9wIG9uIENsaWNrXCIgfSB9LCBcImdyb3VwXCI6IFwic3RvcE9uQWN0aW9uXCIsIFwid3JpdGVcIjogKCQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmF1dG9NZXNzYWdlLnN0b3BPbkFjdGlvbiA9IHYpLCBcInJlYWRcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYXV0b01lc3NhZ2Uuc3RvcE9uQWN0aW9uKSB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NPcHRpb25TZXRcIiwgXCJwYXJhbXNcIjogeyBcImxhYmVsXCI6IHsgXCJsY0lkXCI6IFwiMzUzOEY3RTU4MkZDMjA0NjdFNzk0N0Y3N0ZCNDU3ODkxMTVFXCIsIFwiZGVmYXVsdFRleHRcIjogeyBcImxjSWRcIjogXCIzNTM4RjdFNTgyRkMyMDQ2N0U3OTQ3Rjc3RkI0NTc4OTExNUVcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlRpbWUgTWVzc2FnZSB0byBWb2ljZVwiIH0gfSwgXCJncm91cFwiOiBcInRpbWVNZXNzYWdlVG9Wb2ljZVwiLCBcIndyaXRlXCI6ICgkICh2KSAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy50aW1lTWVzc2FnZVRvVm9pY2UgPSB2KSwgXCJyZWFkXCI6ICgkIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLnRpbWVNZXNzYWdlVG9Wb2ljZSkgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJTa2lwXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJyZWd1bGFyVUlUZXh0XCJdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMjIwLCAzN10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFsxMCwgMCwgMCwgMF0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJ0b3BcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk9wdGlvbkJ1dHRvblwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxhYmVsXCI6IHsgXCJsY0lkXCI6IFwiQzEzOENFM0M5NTY0QzU0NzA3NDkyQUEyNjQ2OTBCNUJCQjkwXCIsIFwiZGVmYXVsdFRleHRcIjogXCJWaWRlb3NcIiB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3cml0ZVwiOiAkICh2KSAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hbGxvd1ZpZGVvU2tpcCA9IHZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWFkXCI6ICQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYWxsb3dWaWRlb1NraXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5PcHRpb25CdXR0b25cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIkU0QTRCQTA1Mzg1NDc3NEY1ODI4NTJENTU4RTRFNUMyM0FDNVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiVm9pY2VzXCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid3JpdGVcIjogJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3Muc2tpcFZvaWNlT25BY3Rpb24gPSB2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVhZFwiOiAkIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLnNraXBWb2ljZU9uQWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuT3B0aW9uQnV0dG9uXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGFiZWxcIjogeyBcImxjSWRcIjogXCI0NjlDNTBDOTI0NjU3MjRDOUY0OEJEODZCQjc5OUU3ODFGM0NcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlVucmVhZFwiIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmFsbG93U2tpcFVucmVhZE1lc3NhZ2VzID0gdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlYWRcIjogJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5hbGxvd1NraXBVbnJlYWRNZXNzYWdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5PcHRpb25CdXR0b25cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIkY4NEI5Mjk0NEVBMzM1NEE0OTE4NEJGMTU1RjQyMjIwRkU5QlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiQ2hvaWNlc1wiIH0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLmFsbG93Q2hvaWNlU2tpcCA9IHZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWFkXCI6ICQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYWxsb3dDaG9pY2VTa2lwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Layout_SettingsMessage_85.js
ui.UiFactory.layouts.settingsAudio = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Image",
      "executeFieldFormulas": true,
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "components": [
        {
          "type": "Component_HotspotBehavior",
          "params": {
            "actionButton": "right"
          }
        }
      ],
      "frame": [0, 0, Graphics.width, Graphics.height],
      "actions": [
        {
          "event": "onCancel",
          "name": "saveSettings",
          "params": {}
        }, {
          "event": "onCancel",
          "name": "previousLayout",
          "params": {}
        }
      ]
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }, {
      "type": "ui.TitledWindow",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height],
      "params": {
        "title": {
          "lcId": "9EDC6A1760DE464C3469A5B77772305ACB56",
          "defaultText": "Audio Settings"
        }
      }
    }, {
      "type": "ui.VerticalScrollView",
      "id": "settingsScrollView",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 45, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W, Graphics.height - 45 - 10],
      "params": {
        "dataField": 1,
        "template": {
          "type": "ui.StackLayout",
          "orientation": "vertical",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.Text",
              "styles": ["windowCategoryUIText"],
              "margin": [10, 5, 0, 0],
              "text": {
                "lcId": "26260DB310D5D540721AF635B495750C03A5",
                "defaultText": "Audio"
              },
              "sizeToFit": true,
              "frame": [0, 0]
            }, {
              "type": "ui.StackLayout",
              "orientation": "vertical",
              "margin": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_LABEL_W, 0, 0, 0],
              "sizeToFit": true,
              "id": "volumeControl",
              "controls": [
                {
                  "type": "ui.SettingsMenuSlider",
                  "params": {
                    "id": "bgmVolume",
                    "label": {
                      "lcId": "DBE389A484EE65464E583082C1A3A9410B6C",
                      "defaultText": "Music"
                    },
                    "write": $(function(v) {
                      return $dataFields.settings.bgmVolume = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.bgmVolume;
                    })
                  }
                }, {
                  "type": "ui.SettingsMenuSlider",
                  "params": {
                    "id": "seVolume",
                    "label": {
                      "lcId": "64F490CD4547394ADA4B4D67693D24289F4B",
                      "defaultText": "Sound Effects"
                    },
                    "write": $(function(v) {
                      return $dataFields.settings.seVolume = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.seVolume;
                    })
                  }
                }, {
                  "type": "ui.SettingsMenuSlider",
                  "params": {
                    "id": "voiceVolume",
                    "label": {
                      "lcId": "4BA0665E3B4D05412D4B81373A88DB3543EB",
                      "defaultText": "Voice"
                    },
                    "write": $(function(v) {
                      return $dataFields.settings.voiceVolume = v;
                    }),
                    "read": $(function() {
                      return $dataFields.settings.voiceVolume;
                    })
                  }
                }
              ]
            }, {
              "type": "ui.Text",
              "styles": ["windowCategoryUIText"],
              "margin": [10, 5, 0, 0],
              "text": {
                "lcId": "DD4C5C8987E8B7493A2B4139B342CA461DC9",
                "defaultText": "Voices"
              },
              "sizeToFit": true,
              "frame": [0, 0]
            }, {
              "type": "ui.StackLayout",
              "orientation": "vertical",
              "margin": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_LABEL_W, 0, 0, 0],
              "sizeToFit": true,
              "dataField": $(function() {
                return $dataFields.database.characters;
              }),
              "template": {
                "type": "ui.StackLayout",
                "orientation": "vertical",
                "sizeToFit": true,
                "controls": [
                  {
                    "type": "ui.Text",
                    "frame": [0, 0],
                    "sizeToFit": true,
                    "text": "Anna",
                    "styles": ["regularUIText"],
                    "margin": [10, 0, 0, 0],
                    "formulas": [
                      $(function() {
                        return o.text = lcs($dataFields.database.characters[o.parent.index].name);
                      })
                    ]
                  }, {
                    "type": "ui.Slider",
                    "margin": [10, 0, 0, 0],
                    "frame": [100, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W - gs.UIConstants.LAYOUT_SETTINGS_WINDOW_LABEL_W - 30, gs.UIConstants.OPTION_BUTTON_H],
                    "params": {
                      "actions": [],
                      "max": 100,
                      "write": $(function(v) {
                        return $dataFields.settings.voicesByCharacter[o.parent.parent.index] = v;
                      }),
                      "read": $(function() {
                        return $dataFields.settings.voicesByCharacter[o.parent.parent.index];
                      })
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    }, {
      "type": "ui.Panel",
      "frame": [gs.UIConstants.LAYOUT_SETTINGS_WINDOW_X, 45, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_LABEL_W, Graphics.height - 45],
      "style": "windowSubPanel"
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGFBQXJCLEdBQXFDO0VBQ2pDLE1BQUEsRUFBUSxlQUR5QjtFQUVqQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGd0I7RUFHakMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLHNCQUFBLEVBQXdCLElBRjVCO01BR0ksT0FBQSxFQUFTLFNBQUE7ZUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBM0MsSUFBaUQ7TUFBcEQsQ0FIYjtNQUlJLFlBQUEsRUFBYztRQUFDO1VBQUUsTUFBQSxFQUFRLDJCQUFWO1VBQXVDLFFBQUEsRUFBVTtZQUFFLGNBQUEsRUFBZ0IsT0FBbEI7V0FBakQ7U0FBRDtPQUpsQjtNQUtJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUxiO01BTUksU0FBQSxFQUFXO1FBQ1A7VUFBRSxPQUFBLEVBQVMsVUFBWDtVQUF1QixNQUFBLEVBQVEsY0FBL0I7VUFBK0MsUUFBQSxFQUFVLEVBQXpEO1NBRE8sRUFFUDtVQUFFLE9BQUEsRUFBUyxVQUFYO1VBQXVCLE1BQUEsRUFBUSxnQkFBL0I7VUFBaUQsUUFBQSxFQUFVLEVBQTNEO1NBRk87T0FOZjtLQURRLEVBWVI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWlCLEdBQWxCLEVBQXVCLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEVBQXpDLEVBQTZDLEdBQTdDLEVBQWtELEVBQWxELENBRmI7S0FaUSxFQWdCUjtNQUNJLE1BQUEsRUFBUSxpQkFE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QVEsQ0FBQyxNQUFULEdBQWtCLEVBQS9HLENBRmI7TUFHSSxPQUFBLEVBQVMsZ0JBSGI7S0F2R1E7R0FIcUIiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkubGF5b3V0cy5zZXR0aW5nc0F1ZGlvID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiZXhlY3V0ZUZpZWxkRm9ybXVsYXNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVCYWNrZ3JvdW5kLm5hbWV8fCdiZy1nZW5lcmljJyxcbiAgICAgICAgICAgIFwiY29tcG9uZW50c1wiOiBbeyBcInR5cGVcIjogXCJDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yXCIsIFwicGFyYW1zXCI6IHsgXCJhY3Rpb25CdXR0b25cIjogXCJyaWdodFwiIH0gfV0sXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcImV2ZW50XCI6IFwib25DYW5jZWxcIiwgXCJuYW1lXCI6IFwic2F2ZVNldHRpbmdzXCIsIFwicGFyYW1zXCI6IHsgfSB9LFxuICAgICAgICAgICAgICAgIHsgXCJldmVudFwiOiBcIm9uQ2FuY2VsXCIsIFwibmFtZVwiOiBcInByZXZpb3VzTGF5b3V0XCIsIFwicGFyYW1zXCI6IHsgfSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkJhY2tCdXR0b25cIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW0dyYXBoaWNzLndpZHRoIC0gMTcwLCBHcmFwaGljcy5oZWlnaHQgLSA2NSwgMTUwLCA0NV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGl0bGVkV2luZG93XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtcbiAgICAgICAgICAgICAgICBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX1gsIFxuICAgICAgICAgICAgICAgIDAsIFxuICAgICAgICAgICAgICAgIGdzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfVywgXG4gICAgICAgICAgICAgICAgR3JhcGhpY3MuaGVpZ2h0XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IHsgXCJsY0lkXCI6IFwiOUVEQzZBMTc2MERFNDY0QzM0NjlBNUI3Nzc3MjMwNUFDQjU2XCIsIFwiZGVmYXVsdFRleHRcIjogXCJBdWRpbyBTZXR0aW5nc1wiIH0gfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5WZXJ0aWNhbFNjcm9sbFZpZXdcIixcbiAgICAgICAgICAgIFwiaWRcIjogXCJzZXR0aW5nc1Njcm9sbFZpZXdcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW1xuICAgICAgICAgICAgICAgIGdzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfWCwgXG4gICAgICAgICAgICAgICAgNDUsIFxuICAgICAgICAgICAgICAgIGdzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfVywgXG4gICAgICAgICAgICAgICAgR3JhcGhpY3MuaGVpZ2h0IC0gNDUgLSAxMFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHtcbiAgICAgICAgICAgICAgICBcImRhdGFGaWVsZFwiOiAxLFxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcIndpbmRvd0NhdGVnb3J5VUlUZXh0XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFsxMCwgNSwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IHsgXCJsY0lkXCI6IFwiMjYyNjBEQjMxMEQ1RDU0MDcyMUFGNjM1QjQ5NTc1MEMwM0E1XCIsIFwiZGVmYXVsdFRleHRcIjogXCJBdWRpb1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFtncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX0xBQkVMX1csIDAsIDAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcInZvbHVtZUNvbnRyb2xcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJ1aS5TZXR0aW5nc01lbnVTbGlkZXJcIiwgXCJwYXJhbXNcIjogeyBcImlkXCI6IFwiYmdtVm9sdW1lXCIsIFwibGFiZWxcIjogeyBcImxjSWRcIjogXCJEQkUzODlBNDg0RUU2NTQ2NEU1ODMwODJDMUEzQTk0MTBCNkNcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIk11c2ljXCIgfSwgXCJ3cml0ZVwiOiAoJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYmdtVm9sdW1lID0gdiksIFwicmVhZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5iZ21Wb2x1bWUpIH0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwidHlwZVwiOiBcInVpLlNldHRpbmdzTWVudVNsaWRlclwiLCBcInBhcmFtc1wiOiB7IFwiaWRcIjogXCJzZVZvbHVtZVwiLCAgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIjY0RjQ5MENENDU0NzM5NEFEQTRCNEQ2NzY5M0QyNDI4OUY0QlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiU291bmQgRWZmZWN0c1wiIH0sIFwid3JpdGVcIjogKCQgKHYpIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLnNlVm9sdW1lID0gdiksIFwicmVhZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5zZVZvbHVtZSkgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuU2V0dGluZ3NNZW51U2xpZGVyXCIsIFwicGFyYW1zXCI6IHsgXCJpZFwiOiBcInZvaWNlVm9sdW1lXCIsIFwibGFiZWxcIjogeyBcImxjSWRcIjogXCI0QkEwNjY1RTNCNEQwNTQxMkQ0QjgxMzczQTg4REIzNTQzRUJcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlZvaWNlXCIgfSwgXCJ3cml0ZVwiOiAoJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3Mudm9pY2VWb2x1bWUgPSB2KSwgXCJyZWFkXCI6ICgkIC0+ICRkYXRhRmllbGRzLnNldHRpbmdzLnZvaWNlVm9sdW1lKSB9IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJ3aW5kb3dDYXRlZ29yeVVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMTAsIDUsIDAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiB7IFwibGNJZFwiOiBcIkRENEM1Qzg5ODdFOEI3NDkzQTJCNDEzOUIzNDJDQTQ2MURDOVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiVm9pY2VzXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogW2dzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfTEFCRUxfVywgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFGaWVsZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5kYXRhYmFzZS5jaGFyYWN0ZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIkFubmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJyZWd1bGFyVUlUZXh0XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFsxMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbJCAtPiBvLnRleHQgPSBsY3MoJGRhdGFGaWVsZHMuZGF0YWJhc2UuY2hhcmFjdGVyc1tvLnBhcmVudC5pbmRleF0ubmFtZSldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2xpZGVyXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFsxMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMTAwLCAwLCBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX1cgLSBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX0xBQkVMX1cgLSAzMCwgZ3MuVUlDb25zdGFudHMuT1BUSU9OX0JVVFRPTl9IXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcImFjdGlvbnNcIjogW10sIFwibWF4XCI6IDEwMCwgXCJ3cml0ZVwiOiAoJCAodikgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3Mudm9pY2VzQnlDaGFyYWN0ZXJbby5wYXJlbnQucGFyZW50LmluZGV4XSA9IHYpLCBcInJlYWRcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2V0dGluZ3Mudm9pY2VzQnlDaGFyYWN0ZXJbby5wYXJlbnQucGFyZW50LmluZGV4XSkgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuUGFuZWxcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW2dzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfWCwgNDUsIGdzLlVJQ29uc3RhbnRzLkxBWU9VVF9TRVRUSU5HU19XSU5ET1dfTEFCRUxfVywgR3JhcGhpY3MuaGVpZ2h0IC0gNDVdLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcIndpbmRvd1N1YlBhbmVsXCJcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Layout_SettingsAudio_86.js
ui.UiFactory.layouts.saveMenuLayout = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "executeFieldFormulas": true,
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height],
      "action": {
        "event": "onCancel",
        "name": "previousLayout",
        "params": {}
      }
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }, {
      "type": "ui.TitledWindow",
      "frame": [20, 0, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height],
      "params": {
        "title": {
          "lcId": "17B8950C477FA042C418D7A591445017623C",
          "defaultText": "Save Game"
        }
      }
    }, {
      "type": "ui.DataScrollView",
      "frame": [20, 45, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height - 45],
      "params": {
        "spacing": [10, 10],
        "columns": Math.floor((Graphics.width - 200) / 420),
        "dataSource": $(function() {
          return $dataFields.saveGameSlots;
        }),
        "template": {
          "descriptor": {
            "type": "ui.SaveGameSlot",
            "params": {
              "actions": [
                {
                  "name": "saveGame",
                  "params": {
                    "slot": $(function() {
                      return o.parent.index;
                    })
                  }
                }, {
                  "name": "fullRefreshObject",
                  "params": $(function() {
                    return o.parent;
                  })
                }
              ]
            }
          }
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGNBQXJCLEdBQXNDO0VBQ2xDLE1BQUEsRUFBUSxlQUQwQjtFQUVsQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGeUI7RUFHbEMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxzQkFBQSxFQUF3QixJQUQ1QjtNQUVJLE1BQUEsRUFBUSxVQUZaO01BR0ksT0FBQSxFQUFTLFNBQUE7ZUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBM0MsSUFBbUQ7TUFBdEQsQ0FIYjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUpiO01BS0ksUUFBQSxFQUFVO1FBQUUsT0FBQSxFQUFTLFVBQVg7UUFBdUIsTUFBQSxFQUFRLGdCQUEvQjtRQUFpRCxRQUFBLEVBQVUsRUFBM0Q7T0FMZDtLQURRLEVBUVI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWlCLEdBQWxCLEVBQXVCLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEVBQXpDLEVBQTZDLEdBQTdDLEVBQWtELEVBQWxELENBRmI7S0FSUSxFQVlSO01BQ0ksTUFBQSxFQUFRLGlCQURaO01BRUksT0FBQSxFQUFTLENBQUMsRUFBRCxFQUFLLENBQUwsRUFBUSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBZSxHQUFoQixDQUFBLEdBQXFCLEdBQWhDLENBQUEsR0FBcUMsR0FBN0MsRUFBa0QsUUFBUSxDQUFDLE1BQTNELENBRmI7TUFHSSxRQUFBLEVBQVU7UUFBRSxPQUFBLEVBQVM7VUFBRSxNQUFBLEVBQVEsc0NBQVY7VUFBa0QsYUFBQSxFQUFlLFdBQWpFO1NBQVg7T0FIZDtLQVpRLEVBaUJSO01BQ0ksTUFBQSxFQUFRLG1CQURaO01BRUksT0FBQSxFQUFTLENBQUMsRUFBRCxFQUFLLEVBQUwsRUFBUyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBZSxHQUFoQixDQUFBLEdBQXFCLEdBQWhDLENBQUEsR0FBcUMsR0FBOUMsRUFBbUQsUUFBUSxDQUFDLE1BQVQsR0FBa0IsRUFBckUsQ0FGYjtNQUdJLFFBQUEsRUFBVTtRQUNOLFNBQUEsRUFBVyxDQUFDLEVBQUQsRUFBSyxFQUFMLENBREw7UUFFTixTQUFBLEVBQVcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWUsR0FBaEIsQ0FBQSxHQUFxQixHQUFoQyxDQUZMO1FBR04sWUFBQSxFQUFlLENBQUEsQ0FBRSxTQUFBO2lCQUFHLFdBQVcsQ0FBQztRQUFmLENBQUYsQ0FIVDtRQUlOLFVBQUEsRUFBWTtVQUNSLFlBQUEsRUFBYztZQUNWLE1BQUEsRUFBUSxpQkFERTtZQUVWLFFBQUEsRUFBVTtjQUNOLFNBQUEsRUFBVztnQkFDUDtrQkFBRSxNQUFBLEVBQVEsVUFBVjtrQkFBc0IsUUFBQSxFQUFVO29CQUFFLE1BQUEsRUFBUyxDQUFBLENBQUUsU0FBQTs2QkFBRyxDQUFDLENBQUMsTUFBTSxDQUFDO29CQUFaLENBQUYsQ0FBWDttQkFBaEM7aUJBRE8sRUFFUDtrQkFBRSxNQUFBLEVBQVEsbUJBQVY7a0JBQStCLFFBQUEsRUFBVyxDQUFBLENBQUUsU0FBQTsyQkFBRyxDQUFDLENBQUM7a0JBQUwsQ0FBRixDQUExQztpQkFGTztlQURMO2FBRkE7V0FETjtTQUpOO09BSGQ7S0FqQlE7R0FIc0IiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkubGF5b3V0cy5zYXZlTWVudUxheW91dCA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiZXhlY3V0ZUZpZWxkRm9ybXVsYXNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImltYWdlXCI6IC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51QmFja2dyb3VuZC5uYW1lIG9yICdiZy1nZW5lcmljJ1xuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgICAgICAgICBcImFjdGlvblwiOiB7IFwiZXZlbnRcIjogXCJvbkNhbmNlbFwiLCBcIm5hbWVcIjogXCJwcmV2aW91c0xheW91dFwiLCBcInBhcmFtc1wiOiB7fX1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuQmFja0J1dHRvblwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbR3JhcGhpY3Mud2lkdGggLSAxNzAsIEdyYXBoaWNzLmhlaWdodCAtIDY1LCAxNTAsIDQ1XVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UaXRsZWRXaW5kb3dcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzIwLCAwLCBNYXRoLmZsb29yKChHcmFwaGljcy53aWR0aC0yMDApLzQyMCkqNDIwLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInRpdGxlXCI6IHsgXCJsY0lkXCI6IFwiMTdCODk1MEM0NzdGQTA0MkM0MThEN0E1OTE0NDUwMTc2MjNDXCIsIFwiZGVmYXVsdFRleHRcIjogXCJTYXZlIEdhbWVcIiB9IH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRGF0YVNjcm9sbFZpZXdcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzIwLCA0NSwgTWF0aC5mbG9vcigoR3JhcGhpY3Mud2lkdGgtMjAwKS80MjApKjQyMCwgR3JhcGhpY3MuaGVpZ2h0IC0gNDVdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICBcInNwYWNpbmdcIjogWzEwLCAxMF0sXG4gICAgICAgICAgICAgICAgXCJjb2x1bW5zXCI6IE1hdGguZmxvb3IoKEdyYXBoaWNzLndpZHRoLTIwMCkvNDIwKSxcbiAgICAgICAgICAgICAgICBcImRhdGFTb3VyY2VcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2F2ZUdhbWVTbG90cyksIFxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0b3JcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2F2ZUdhbWVTbG90XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJzYXZlR2FtZVwiLCBcInBhcmFtc1wiOiB7IFwic2xvdFwiOiAoJCAtPiBvLnBhcmVudC5pbmRleCkgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcImZ1bGxSZWZyZXNoT2JqZWN0XCIsIFwicGFyYW1zXCI6ICgkIC0+IG8ucGFyZW50KSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Layout_SaveMenu_99.js
ui.UiFactory.layouts.loadMenuLayout = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.menuBackground.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height],
      "action": {
        "event": "onCancel",
        "name": "previousLayout",
        "params": {}
      }
    }, {
      "type": "ui.BackButton",
      "frame": [Graphics.width - 170, Graphics.height - 65, 150, 45]
    }, {
      "type": "ui.TitledWindow",
      "frame": [20, 0, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height],
      "params": {
        "title": {
          "lcId": "B215F6EB2576884547399CC0CF2F38E855FD",
          "defaultText": "Load Game"
        }
      }
    }, {
      "type": "ui.DataScrollView",
      "id": "list",
      "frame": [20, 45, Math.floor((Graphics.width - 200) / 420) * 420, Graphics.height - 45],
      "params": {
        "columns": Math.floor((Graphics.width - 200) / 420),
        "spacing": [10, 10],
        "dataSource": $(function() {
          return $dataFields.saveGameSlots;
        }),
        "template": {
          "descriptor": {
            "type": "ui.SaveGameSlot",
            "params": {
              "actions": [
                {
                  "name": "executeFormulas",
                  "params": [
                    $(function() {
                      return $tempFields.slot = o.parent.index;
                    })
                  ]
                }, {
                  "name": "createControl",
                  "conditions": [
                    {
                      "field": $(function() {
                        var ref;
                        return (ref = $dataFields.saveGameSlots[$tempFields.slot]) != null ? ref.date : void 0;
                      }),
                      "notEqualTo": $(function() {
                        return '';
                      })
                    }, {
                      "field": $(function() {
                        return $dataFields.settings.confirmation;
                      }),
                      "equalTo": true
                    }, {
                      "field": $(function() {
                        return $dataFields.tempSettings.loadMenuAccess;
                      }),
                      "equalTo": true
                    }
                  ],
                  "params": {
                    "descriptor": {
                      "id": "confirmationDialog",
                      "type": "ui.ConfirmationDialog",
                      "zIndex": 90000,
                      "params": {
                        "message": {
                          "lcId": "2BD08CC65B9A2248C749B9C4DEEAADE8E20A",
                          "defaultText": "Do you really want to load?"
                        },
                        "acceptActions": [
                          {
                            "name": "loadGame",
                            "params": {
                              "slot": $(function() {
                                return $tempFields.slot;
                              })
                            }
                          }
                        ],
                        "rejectActions": [
                          {
                            "name": "disposeControl",
                            "params": $(function() {
                              return 'confirmationDialog';
                            })
                          }
                        ]
                      }
                    }
                  }
                }, {
                  "conditions": [
                    {
                      "field": $(function() {
                        var ref;
                        return (ref = $dataFields.saveGameSlots[$tempFields.slot]) != null ? ref.date : void 0;
                      }),
                      "notEqualTo": $(function() {
                        return '';
                      })
                    }, {
                      "field": $(function() {
                        return !$dataFields.settings.confirmation || !$dataFields.tempSettings.loadMenuAccess;
                      }),
                      "equalTo": true
                    }
                  ],
                  "name": "loadGame",
                  "params": {
                    "slot": $(function() {
                      return $tempFields.slot;
                    })
                  }
                }
              ]
            }
          }
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGNBQXJCLEdBQXNDO0VBQ2xDLE1BQUEsRUFBUSxlQUQwQjtFQUVsQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGeUI7RUFHbEMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxTQUFBO2VBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQTNDLElBQW1EO01BQXRELENBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FIYjtNQUlJLFFBQUEsRUFBVTtRQUFFLE9BQUEsRUFBUyxVQUFYO1FBQXVCLE1BQUEsRUFBUSxnQkFBL0I7UUFBaUQsUUFBQSxFQUFVLEVBQTNEO09BSmQ7S0FEUSxFQU9SO01BQ0ksTUFBQSxFQUFRLGVBRFo7TUFFSSxPQUFBLEVBQVMsQ0FBQyxRQUFRLENBQUMsS0FBVCxHQUFpQixHQUFsQixFQUF1QixRQUFRLENBQUMsTUFBVCxHQUFrQixFQUF6QyxFQUE2QyxHQUE3QyxFQUFrRCxFQUFsRCxDQUZiO0tBUFEsRUFXUjtNQUNJLE1BQUEsRUFBUSxpQkFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLEVBQUQsRUFBSyxDQUFMLEVBQVEsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWUsR0FBaEIsQ0FBQSxHQUFxQixHQUFoQyxDQUFBLEdBQXFDLEdBQTdDLEVBQWtELFFBQVEsQ0FBQyxNQUEzRCxDQUZiO01BR0ksUUFBQSxFQUFVO1FBQUUsT0FBQSxFQUFTO1VBQUUsTUFBQSxFQUFRLHNDQUFW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O3NCQUFuRSxDQUFGLENBQVo7c0JBQWtHLFNBQUEsRUFBVyxJQUE3RztxQkFGWTttQkFBaEI7a0JBR0csTUFBQSxFQUFRLFVBSFg7a0JBR3VCLFFBQUEsRUFBVTtvQkFBRSxNQUFBLEVBQVMsQ0FBQSxDQUFFLFNBQUE7NkJBQUcsV0FBVyxDQUFDO29CQUFmLENBQUYsQ0FBWDttQkFIakM7aUJBMUJPO2VBREw7YUFGQTtXQUROO1NBSk47T0FKZDtLQWhCUTtHQUhzQiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLmxvYWRNZW51TGF5b3V0ID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVCYWNrZ3JvdW5kLm5hbWUgb3IgJ2JnLWdlbmVyaWMnXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IHsgXCJldmVudFwiOiBcIm9uQ2FuY2VsXCIsIFwibmFtZVwiOiBcInByZXZpb3VzTGF5b3V0XCIsIFwicGFyYW1zXCI6IHt9fVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5CYWNrQnV0dG9uXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtHcmFwaGljcy53aWR0aCAtIDE3MCwgR3JhcGhpY3MuaGVpZ2h0IC0gNjUsIDE1MCwgNDVdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRpdGxlZFdpbmRvd1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMjAsIDAsIE1hdGguZmxvb3IoKEdyYXBoaWNzLndpZHRoLTIwMCkvNDIwKSo0MjAsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwidGl0bGVcIjogeyBcImxjSWRcIjogXCJCMjE1RjZFQjI1NzY4ODQ1NDczOTlDQzBDRjJGMzhFODU1RkRcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkxvYWQgR2FtZVwiIH0gfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5EYXRhU2Nyb2xsVmlld1wiLFxuICAgICAgICAgICAgXCJpZFwiOiBcImxpc3RcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzIwLCA0NSwgTWF0aC5mbG9vcigoR3JhcGhpY3Mud2lkdGgtMjAwKS80MjApKjQyMCwgR3JhcGhpY3MuaGVpZ2h0IC0gNDVdLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICBcImNvbHVtbnNcIjogTWF0aC5mbG9vcigoR3JhcGhpY3Mud2lkdGgtMjAwKS80MjApLFxuICAgICAgICAgICAgICAgIFwic3BhY2luZ1wiOiBbMTAsIDEwXSxcbiAgICAgICAgICAgICAgICBcImRhdGFTb3VyY2VcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2F2ZUdhbWVTbG90cyksIFxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0b3JcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2F2ZUdhbWVTbG90XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImV4ZWN1dGVGb3JtdWxhc1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkIC0+ICR0ZW1wRmllbGRzLnNsb3QgPSBvLnBhcmVudC5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNyZWF0ZUNvbnRyb2xcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbmRpdGlvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJmaWVsZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5zYXZlR2FtZVNsb3RzWyR0ZW1wRmllbGRzLnNsb3RdPy5kYXRlKSwgXCJub3RFcXVhbFRvXCI6ICgkIC0+ICcnKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJmaWVsZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy5zZXR0aW5ncy5jb25maXJtYXRpb24pLCBcImVxdWFsVG9cIjogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJmaWVsZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy50ZW1wU2V0dGluZ3MubG9hZE1lbnVBY2Nlc3MpLCBcImVxdWFsVG9cIjogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRvclwiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY29uZmlybWF0aW9uRGlhbG9nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkNvbmZpcm1hdGlvbkRpYWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiA5MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiOiB7IFwibGNJZFwiOiBcIjJCRDA4Q0M2NUI5QTIyNDhDNzQ5QjlDNERFRUFBREU4RTIwQVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiRG8geW91IHJlYWxseSB3YW50IHRvIGxvYWQ/XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0QWN0aW9uc1wiOiBbeyBcIm5hbWVcIjogXCJsb2FkR2FtZVwiLCBcInBhcmFtc1wiOiB7IFwic2xvdFwiOiAoJCAtPiAkdGVtcEZpZWxkcy5zbG90KSB9IH1dLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVqZWN0QWN0aW9uc1wiOiBbe1wibmFtZVwiOlwiZGlzcG9zZUNvbnRyb2xcIixcInBhcmFtc1wiOigkIC0+ICdjb25maXJtYXRpb25EaWFsb2cnKX1dfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwiY29uZGl0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwiZmllbGRcIjogKCQgLT4gJGRhdGFGaWVsZHMuc2F2ZUdhbWVTbG90c1skdGVtcEZpZWxkcy5zbG90XT8uZGF0ZSksIFwibm90RXF1YWxUb1wiOiAoJCAtPiAnJykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJmaWVsZFwiOiAoJCAtPiAhJGRhdGFGaWVsZHMuc2V0dGluZ3MuY29uZmlybWF0aW9uIG9yICEkZGF0YUZpZWxkcy50ZW1wU2V0dGluZ3MubG9hZE1lbnVBY2Nlc3MpLCBcImVxdWFsVG9cIjogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sIFwibmFtZVwiOiBcImxvYWRHYW1lXCIsIFwicGFyYW1zXCI6IHsgXCJzbG90XCI6ICgkIC0+ICR0ZW1wRmllbGRzLnNsb3QpIH0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Layout_LoadMenu_111.js
ui.UiFactory.layouts.languageMenuLayout = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "music": $(function() {
    return $dataFields.database.system.languageMusic;
  }),
  "preload": {
    "sounds": [
      function() {
        return $dataFields.database.system.menuSelectSound;
      }, function() {
        return $dataFields.database.system.menuCancelSound;
      }, function() {
        return $dataFields.database.system.menuQuitSound;
      }, function() {
        return $dataFields.database.system.menuLoadSound;
      }, function() {
        return $dataFields.database.system.menuSaveSound;
      }
    ]
  },
  "controls": [
    {
      "type": "ui.Image",
      "image": function() {
        return $dataFields.database.system.languageScreen.name || 'bg-generic';
      },
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.StackLayout",
      "orientation": "vertical",
      "alignmentX": "center",
      "alignmentY": "center",
      "sizeToFit": true,
      "dataField": $(function() {
        return $dataFields.languages;
      }),
      "template": {
        "type": "ui.FreeLayout",
        "resizable": false,
        "frame": [0, 0, 300, 50],
        "margin": [0, 0, 0, 15],
        "controls": [
          {
            "type": "ui.SelectableWindow",
            "frame": [0, 0, "100%", "100%"],
            "inheritProperties": true,
            "margin": [0, 0, 0, 0],
            "params": {
              "actions": [
                {
                  "name": "selectLanguage",
                  "params": $(function() {
                    return o.parent.parent.index;
                  })
                }, {
                  "name": "switchLayout",
                  "params": {
                    "name": "titleLayout"
                  }
                }
              ]
            },
            "zIndex": 4999
          }, {
            "type": "ui.Image",
            "imageFolder": "Graphics/Icons",
            "formulas": [
              $(function() {
                return o.image = $dataFields.languages[o.parent.index].icon.name;
              })
            ],
            "alignmentY": "center",
            "frame": [10, 0],
            "zIndex": "5100",
            "inheritProperties": true,
            "anchor": [0.5, 0.5],
            "sizeToFit": true
          }, {
            "type": "ui.Text",
            "sizeToFit": true,
            "styles": ["regularUIText"],
            "alignmentX": "center",
            "alignmentY": "center",
            "frame": [0, 0],
            "inheritProperties": true,
            "margin": [0, 0, 0, 0],
            "formulas": [
              $(function() {
                return o.text = $dataFields.languages[o.parent.index].name;
              })
            ],
            "zIndex": 5100
          }
        ]
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGtCQUFyQixHQUEwQztFQUN0QyxNQUFBLEVBQVEsZUFEOEI7RUFFdEMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBRjZCO0VBR3RDLE9BQUEsRUFBVSxDQUFBLENBQUUsU0FBQTtXQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0VBQS9CLENBQUYsQ0FINEI7RUFJdEMsU0FBQSxFQUFXO0lBQ1AsUUFBQSxFQUFVO01BQ04sU0FBQTtlQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO01BQS9CLENBRE0sRUFFTixTQUFBO2VBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7TUFBL0IsQ0FGTSxFQUdOLFNBQUE7ZUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztNQUEvQixDQUhNLEVBSU4sU0FBQTtlQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO01BQS9CLENBSk0sRUFLTixTQUFBO2VBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7TUFBL0IsQ0FMTTtLQURIO0dBSjJCO0VBYXRDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsU0FBQTtlQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUEzQyxJQUFtRDtNQUF0RCxDQUZiO01BR0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBSGI7S0FEUSxFQU1SO01BQ0ksTUFBQSxFQUFRLGdCQURaO01BRUksYUFBQSxFQUFlLFVBRm5CO01BR0ksWUFBQSxFQUFjLFFBSGxCO01BSUksWUFBQSxFQUFjLFFBSmxCO01BS0ksV0FBQSxFQUFhLElBTGpCO01BTUksV0FBQSxFQUFhLENBQUEsQ0FBRSxTQUFBO2VBQUcsV0FBVyxDQUFDO01BQWYsQ0FBRixDQU5qQjtNQU9JLFVBQUEsRUFBWTtRQUNSLE1BQUEsRUFBUSxlQURBO1FBRVIsV0FBQSxFQUFhLEtBRkw7UUFHUixPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxFQUFaLENBSEQ7UUFJUixRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxFQUFWLENBSkY7UUFLUixVQUFBLEVBQVc7VUFDUDtZQUNJLE1BQUEsRUFBUSxxQkFEWjtZQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FGYjtZQUdJLG1CQUFBLEVBQXFCLElBSHpCO1lBSUksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQUpkO1lBS0ksUUFBQSxFQUFVO2NBQ04sU0FBQSxFQUFXO2dCQUNQO2tCQUFFLE1BQUEsRUFBUSxnQkFBVjtrQkFBNEIsUUFBQSxFQUFXLENBQUEsQ0FBRSxTQUFBOzJCQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO2tCQUFuQixDQUFGLENBQXZDO2lCQURPLEVBRVA7a0JBQUUsTUFBQSxFQUFRLGNBQVY7a0JBQTBCLFFBQUEsRUFBVTtvQkFBRSxNQUFBLEVBQVEsYUFBVjttQkFBcEM7aUJBRk87ZUFETDthQUxkO1lBV0ksUUFBQSxFQUFVLElBWGQ7V0FETyxFQWNQO1lBQ0ksTUFBQSxFQUFRLFVBRFo7WUFFSSxhQUFBLEVBQWUsZ0JBRm5CO1lBR0ksVUFBQSxFQUFZO2NBQUMsQ0FBQSxDQUFFLFNBQUE7dUJBQUcsQ0FBQyxDQUFDLEtBQUYsR0FBVSxXQUFXLENBQUMsU0FBVSxDQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBVCxDQUFlLENBQUMsSUFBSSxDQUFDO2NBQXhELENBQUYsQ0FBRDthQUhoQjtZQUlJLFlBQUEsRUFBYyxRQUpsQjtZQUtJLE9BQUEsRUFBUyxDQUFDLEVBQUQsRUFBSyxDQUFMLENBTGI7WUFNSSxRQUFBLEVBQVUsTUFOZDtZQU9JLG1CQUFBLEVBQXFCLElBUHpCO1lBUUksUUFBQSxFQUFVLENBQUMsR0FBRCxFQUFNLEdBQU4sQ0FSZDtZQVNJLFdBQUEsRUFBYSxJQVRqQjtXQWRPLEVBeUJQO1lBQ0ksTUFBQSxFQUFRLFNBRFo7WUFFSSxXQUFBLEVBQWEsSUFGakI7WUFHSSxRQUFBLEVBQVUsQ0FBQyxlQUFELENBSGQ7WUFJSSxZQUFBLEVBQWMsUUFKbEI7WUFLSSxZQUFBLEVBQWMsUUFMbEI7WUFNSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQU5iO1lBT0ksbUJBQUEsRUFBcUIsSUFQekI7WUFRSSxRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBUmQ7WUFTSSxVQUFBLEVBQVk7Y0FBQyxDQUFBLENBQUUsU0FBQTt1QkFBRyxDQUFDLENBQUMsSUFBRixHQUFTLFdBQVcsQ0FBQyxTQUFVLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFULENBQWUsQ0FBQztjQUFsRCxDQUFGLENBQUQ7YUFUaEI7WUFVSSxRQUFBLEVBQVUsSUFWZDtXQXpCTztTQUxIO09BUGhCO0tBTlE7R0FiMEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbnVpLlVpRmFjdG9yeS5sYXlvdXRzLmxhbmd1YWdlTWVudUxheW91dCA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgXCJtdXNpY1wiOiAoJCAtPiAkZGF0YUZpZWxkcy5kYXRhYmFzZS5zeXN0ZW0ubGFuZ3VhZ2VNdXNpYyksXG4gICAgXCJwcmVsb2FkXCI6IHtcbiAgICAgICAgXCJzb3VuZHNcIjogW1xuICAgICAgICAgICAgLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVTZWxlY3RTb3VuZCxcbiAgICAgICAgICAgIC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51Q2FuY2VsU291bmQsXG4gICAgICAgICAgICAtPiAkZGF0YUZpZWxkcy5kYXRhYmFzZS5zeXN0ZW0ubWVudVF1aXRTb3VuZCxcbiAgICAgICAgICAgIC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51TG9hZFNvdW5kLFxuICAgICAgICAgICAgLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVTYXZlU291bmRcbiAgICAgICAgXVxuICAgIH1cbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogLT4gJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLmxhbmd1YWdlU2NyZWVuLm5hbWUgb3IgJ2JnLWdlbmVyaWMnLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcImRhdGFGaWVsZFwiOiAkIC0+ICRkYXRhRmllbGRzLmxhbmd1YWdlc1xuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgIFwicmVzaXphYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIDMwMCwgNTBdLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAxNV0sXG4gICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOltcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2VsZWN0YWJsZVdpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5oZXJpdFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcInNlbGVjdExhbmd1YWdlXCIsIFwicGFyYW1zXCI6ICgkIC0+IG8ucGFyZW50LnBhcmVudC5pbmRleCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJzd2l0Y2hMYXlvdXRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJ0aXRsZUxheW91dFwiIH0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogNDk5OVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZUZvbGRlclwiOiBcIkdyYXBoaWNzL0ljb25zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8uaW1hZ2UgPSAkZGF0YUZpZWxkcy5sYW5ndWFnZXNbby5wYXJlbnQuaW5kZXhdLmljb24ubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzEwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IFwiNTEwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhbmNob3JcIjogWzAuNSwgMC41XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImluaGVyaXRQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udGV4dCA9ICRkYXRhRmllbGRzLmxhbmd1YWdlc1tvLnBhcmVudC5pbmRleF0ubmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiA1MTAwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIF1cbn1cblxuIl19
//# sourceURL=Layout_LanguageMenu_115.js
ui.UiFactory.layouts.gameLayout = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Panel",
      "frame": [0, 0, Graphics.width, Graphics.height],
      "updateBehavior": "continuous",
      "formulas": [
        $(function() {
          return o.ui.enabled = $dataFields.tempSettings.menuAccess;
        })
      ],
      "action": {
        "event": "onCancel",
        "name": "switchLayout",
        "params": {
          "name": "settingsMenuLayout",
          "savePrevious": true
        }
      }
    }, {
      "type": "ui.MessageBox",
      "visible": false,
      "id": "messageBox",
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.GameMessage",
      "id": "gameMessage",
      "params": {
        "id": "gameMessage"
      },
      "frame": [320, Graphics.height - 220]
    }
  ]
};

ui.UiFactory.layouts.gameLayoutNVL = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.Panel",
      "frame": [0, 0, Graphics.width, Graphics.height],
      "formulas": [
        $(function() {
          return o.ui.enabled = $dataFields.tempSettings.menuAccess;
        })
      ],
      "action": {
        "event": "onCancel",
        "name": "switchLayout",
        "params": {
          "name": "settingsMenuLayout",
          "savePrevious": true
        }
      }
    }, {
      "type": "ui.MessageBoxNVL",
      "visible": false,
      "id": "messageBoxNVL",
      "order": 0,
      "frame": [0, 0]
    }, {
      "type": "ui.GameMessageNVL",
      "params": {
        "id": "gameMessageNVL"
      },
      "id": "gameMessageNVL",
      "order": 10,
      "frame": [0, 0]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFVBQXJCLEdBQWtDO0VBQzlCLE1BQUEsRUFBUSxlQURzQjtFQUU5QixPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGcUI7RUFHOUIsVUFBQSxFQUFXO0lBQ1A7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUZiO01BR0ksZ0JBQUEsRUFBa0IsWUFIdEI7TUFJSSxVQUFBLEVBQVk7UUFBQyxDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQUwsR0FBZSxXQUFXLENBQUMsWUFBWSxDQUFDO1FBQTNDLENBQUYsQ0FBRDtPQUpoQjtNQUtJLFFBQUEsRUFBVTtRQUNOLE9BQUEsRUFBUyxVQURIO1FBRU4sTUFBQSxFQUFRLGNBRkY7UUFHTixRQUFBLEVBQVU7VUFBRSxNQUFBLEVBQVEsb0JBQVY7VUFBZ0MsY0FBQSxFQUFnQixJQUFoRDtTQUhKO09BTGQ7S0FETyxFQVlQO01BQ0ksTUFBQSxFQUFRLGVBRFo7TUFFSSxTQUFBLEVBQVcsS0FGZjtNQUdJLElBQUEsRUFBTSxZQUhWO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQUpiO0tBWk8sRUFrQlA7TUFDSSxNQUFBLEVBQVEsZ0JBRFo7TUFFSSxJQUFBLEVBQU0sYUFGVjtNQUdJLFFBQUEsRUFBVTtRQUFFLElBQUEsRUFBTSxhQUFSO09BSGQ7TUFJSSxPQUFBLEVBQVMsQ0FBQyxHQUFELEVBQU0sUUFBUSxDQUFDLE1BQVQsR0FBa0IsR0FBeEIsQ0FKYjtLQWxCTztHQUhtQjs7O0FBOEJsQyxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxhQUFyQixHQUFxQztFQUNqQyxNQUFBLEVBQVEsZUFEeUI7RUFFakMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBRndCO0VBR2pDLFVBQUEsRUFBVztJQUNQO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGYjtNQUdJLFVBQUEsRUFBWTtRQUFDLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTCxHQUFlLFdBQVcsQ0FBQyxZQUFZLENBQUM7UUFBM0MsQ0FBRixDQUFEO09BSGhCO01BSUksUUFBQSxFQUFVO1FBQ04sT0FBQSxFQUFTLFVBREg7UUFFTixNQUFBLEVBQVEsY0FGRjtRQUdOLFFBQUEsRUFBVTtVQUFFLE1BQUEsRUFBUSxvQkFBVjtVQUFnQyxjQUFBLEVBQWdCLElBQWhEO1NBSEo7T0FKZDtLQURPLEVBV1A7TUFDSSxNQUFBLEVBQVEsa0JBRFo7TUFFSSxTQUFBLEVBQVcsS0FGZjtNQUdJLElBQUEsRUFBTSxlQUhWO01BSUksT0FBQSxFQUFTLENBSmI7TUFLSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUxiO0tBWE8sRUFrQlA7TUFDSSxNQUFBLEVBQVEsbUJBRFo7TUFFSSxRQUFBLEVBQVU7UUFBRSxJQUFBLEVBQU0sZ0JBQVI7T0FGZDtNQUdJLElBQUEsRUFBTSxnQkFIVjtNQUlJLE9BQUEsRUFBUyxFQUpiO01BS0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FMYjtLQWxCTztHQUhzQiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5sYXlvdXRzLmdhbWVMYXlvdXQgPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwiY29udHJvbHNcIjpbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICAgICAgICAgIFwidXBkYXRlQmVoYXZpb3JcIjogXCJjb250aW51b3VzXCIsXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udWkuZW5hYmxlZCA9ICRkYXRhRmllbGRzLnRlbXBTZXR0aW5ncy5tZW51QWNjZXNzXSxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IHsgXG4gICAgICAgICAgICAgICAgXCJldmVudFwiOiBcIm9uQ2FuY2VsXCIsIFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInN3aXRjaExheW91dFwiLCBcbiAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcInNldHRpbmdzTWVudUxheW91dFwiLCBcInNhdmVQcmV2aW91c1wiOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTWVzc2FnZUJveFwiLFxuICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IG5vLFxuICAgICAgICAgICAgXCJpZFwiOiBcIm1lc3NhZ2VCb3hcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJVwiLCBcIjEwMCVcIl1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuR2FtZU1lc3NhZ2VcIixcbiAgICAgICAgICAgIFwiaWRcIjogXCJnYW1lTWVzc2FnZVwiLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcImlkXCI6IFwiZ2FtZU1lc3NhZ2VcIiB9LFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMzIwLCBHcmFwaGljcy5oZWlnaHQgLSAyMjBdXG4gICAgICAgIH1cbiAgICBdXG59XG5cbnVpLlVpRmFjdG9yeS5sYXlvdXRzLmdhbWVMYXlvdXROVkwgPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwiY29udHJvbHNcIjpbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby51aS5lbmFibGVkID0gJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLm1lbnVBY2Nlc3NdLFxuICAgICAgICAgICAgXCJhY3Rpb25cIjogeyBcbiAgICAgICAgICAgICAgICBcImV2ZW50XCI6IFwib25DYW5jZWxcIiwgXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic3dpdGNoTGF5b3V0XCIsIFxuICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJuYW1lXCI6IFwic2V0dGluZ3NNZW51TGF5b3V0XCIsIFwic2F2ZVByZXZpb3VzXCI6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5NZXNzYWdlQm94TlZMXCIsXG4gICAgICAgICAgICBcInZpc2libGVcIjogbm8sXG4gICAgICAgICAgICBcImlkXCI6IFwibWVzc2FnZUJveE5WTFwiLFxuICAgICAgICAgICAgXCJvcmRlclwiOiAwLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuR2FtZU1lc3NhZ2VOVkxcIixcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJpZFwiOiBcImdhbWVNZXNzYWdlTlZMXCIgfSxcbiAgICAgICAgICAgIFwiaWRcIjogXCJnYW1lTWVzc2FnZU5WTFwiLFxuICAgICAgICAgICAgXCJvcmRlclwiOiAxMCxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Layout_Game_125.js
(function() {


}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19
//# sourceURL=Templates_130.js
ui.UiFactory.customTypes["ui.ScrollBar"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.ThreePartImage",
      "zIndex": 100,
      "firstPartSize": 7,
      "lastPartSize": 7,
      "image": "scrollbar",
      "draggable": {
        "rect": [0, 0, 24, 376],
        "axisX": false,
        "axisY": true
      },
      "frame": [0, 0, "100%"],
      "margin": [0, 0, 5, 0],
      "formulas": [
        $(function() {
          return o.draggable.rect.height = o.parent.dstRect.height;
        })
      ]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGNBQUEsQ0FBekIsR0FBMkM7RUFDdkMsTUFBQSxFQUFRLGVBRCtCO0VBRXZDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLG1CQURaO01BRUksUUFBQSxFQUFVLEdBRmQ7TUFHSSxlQUFBLEVBQWlCLENBSHJCO01BSUksY0FBQSxFQUFnQixDQUpwQjtNQUtJLE9BQUEsRUFBUyxXQUxiO01BTUksV0FBQSxFQUFhO1FBQUUsTUFBQSxFQUFRLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxFQUFQLEVBQVcsR0FBWCxDQUFWO1FBQTJCLE9BQUEsRUFBUyxLQUFwQztRQUEyQyxPQUFBLEVBQVMsSUFBcEQ7T0FOakI7TUFPSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsQ0FQYjtNQVFJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FSZDtNQVNJLFVBQUEsRUFBWTtRQUFDLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQWpCLEdBQTBCLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQTlDLENBQUYsQ0FBRDtPQVRoQjtLQURRO0dBRjJCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuU2Nyb2xsQmFyXCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGhyZWVQYXJ0SW1hZ2VcIixcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDEwMCxcbiAgICAgICAgICAgIFwiZmlyc3RQYXJ0U2l6ZVwiOiA3LFxuICAgICAgICAgICAgXCJsYXN0UGFydFNpemVcIjogNyxcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogXCJzY3JvbGxiYXJcIixcbiAgICAgICAgICAgIFwiZHJhZ2dhYmxlXCI6IHsgXCJyZWN0XCI6IFswLCAwLCAyNCwgMzc2XSwgXCJheGlzWFwiOiBmYWxzZSwgXCJheGlzWVwiOiB0cnVlIH0sXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIjEwMCVcIl0sXG4gICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgNSwgMF0sXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8uZHJhZ2dhYmxlLnJlY3QuaGVpZ2h0ID0gby5wYXJlbnQuZHN0UmVjdC5oZWlnaHRdXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_VerticalScrollBar_0.js
ui.UiFactory.customTypes["ui.MessageBacklog"] = {
  "id": "list",
  "type": "ui.DataScrollView",
  "zIndex": 80000,
  "order": 80001,
  "frame": [0, 0, Graphics.width, Graphics.height],
  "params": {
    "dataSource": $(function() {
      return $dataFields.backlog;
    }),
    "template": {
      "size": [Graphics.width, 200],
      "descriptor": {
        "type": "ui.FreeLayout",
        "frame": [0, 0, Graphics.width, 200],
        "controls": [
          {
            "type": "ui.FreeLayout",
            "frame": [0, 20, Graphics.width / 4, 30],
            "controls": [
              {
                "type": "ui.Text",
                "styles": ["messageText"],
                "frame": [0, 0],
                "margin": [0, 0, 20, 0],
                "sizeToFit": true,
                "alignmentX": "right",
                "zIndex": 82000,
                "formulas": [
                  $(function() {
                    var c;
                    c = $dataFields.backlog[o.parent.parent.index].character;
                    o.text = c.name;
                    if (c.textColor) {
                      return o.font.color.setFromObject(c.textColor);
                    }
                  })
                ],
                "text": "Name"
              }
            ]
          }, {
            "type": "ui.Text",
            "styles": ["messageText"],
            "frame": [Graphics.width / 4 + 20, 20, Graphics.width - 400, 0],
            "sizeToFit": {
              "horizontal": false,
              "vertical": true
            },
            "formatting": true,
            "zIndex": 82000,
            "order": 80001,
            "formulas": [
              $(function() {
                return o.visible = !$dataFields.backlog[o.parent.index].isChoice;
              }), $(function() {
                if (!$dataFields.backlog[o.parent.index].isChoice) {
                  return o.text = $dataFields.backlog[o.parent.index].message;
                }
              }), $(function() {
                if ($dataFields.backlog[o.parent.index].isChoice) {
                  return o.text = $dataFields.backlog[o.parent.index].choice.text;
                }
              })
            ],
            "text": ""
          }, {
            "type": "ui.FreeLayout",
            "alignmentX": 1,
            "sizeToFit": true,
            "formulas": [
              $(function() {
                return o.visible = $dataFields.backlog[o.parent.index].isChoice;
              })
            ],
            "controls": [
              {
                "type": "ui.Window",
                "formulas": [
                  $(function() {
                    return o.controls[0].image = "selection";
                  })
                ],
                "frame": [0, 0, 750, 50],
                "margin": [0, 0, 0, 30],
                "zIndex": 4999
              }, {
                "type": "ui.Text",
                "sizeToFit": true,
                "styles": ["regularUIText"],
                "alignmentX": "center",
                "alignmentY": "center",
                "frame": [0, 12],
                "margin": [0, 0, 0, 30],
                "formulas": [
                  $(function() {
                    if ($dataFields.backlog[o.parent.parent.index].isChoice) {
                      return o.text = $dataFields.backlog[o.parent.parent.index].choice.text;
                    }
                  })
                ],
                "zIndex": 5100
              }
            ]
          }
        ],
        "margin": [0, 0, 0, 20]
      }
    }
  },
  "zIndex": 81000
};

ui.UiFactory.customTypes["ui.MessageBacklogBox"] = {
  "type": "ui.FreeLayout",
  "order": 80000,
  "id": "backlog",
  "controls": [
    {
      "type": "ui.Panel",
      "modal": true,
      "order": 800,
      "style": "backlogMessagePanel",
      "zIndex": 80000,
      "frame": [0, 0, Graphics.width, Graphics.height]
    }, {
      "type": "ui.Panel",
      "style": "backlogNamePanel",
      "zIndex": 80000,
      "frame": [0, 0, Graphics.width / 4, Graphics.height]
    }, {
      "type": "ui.MessageBacklog"
    }
  ],
  "frame": [0, 0, Graphics.width, Graphics.height]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLG1CQUFBLENBQXpCLEdBQWdEO0VBQzVDLElBQUEsRUFBTSxNQURzQztFQUU1QyxNQUFBLEVBQVEsbUJBRm9DO0VBRzVDLFFBQUEsRUFBVSxLQUhrQztFQUk1QyxPQUFBLEVBQVMsS0FKbUM7RUFLNUMsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBTG1DO0VBTTVDLFFBQUEsRUFBVTtJQUNOLFlBQUEsRUFBZSxDQUFBLENBQUUsU0FBQTthQUFHLFdBQVcsQ0FBQztJQUFmLENBQUYsQ0FEVDtJQUVOLFVBQUEsRUFBWTtNQUNSLE1BQUEsRUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFWLEVBQWlCLEdBQWpCLENBREE7TUFFUixZQUFBLEVBQWM7UUFDVixNQUFBLEVBQVEsZUFERTtRQUVWLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLEdBQXZCLENBRkM7UUFHVixVQUFBLEVBQVk7VUFDUjtZQUNJLE1BQUEsRUFBUSxlQURaO1lBRUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLEVBQUosRUFBUSxRQUFRLENBQUMsS0FBVCxHQUFpQixDQUF6QixFQUE0QixFQUE1QixDQUZiO1lBR0ksVUFBQSxFQUFZO2NBQ1I7Z0JBQ0ksTUFBQSxFQUFRLFNBRFo7Z0JBRUksUUFBQSxFQUFVLENBQUMsYUFBRCxDQUZkO2dCQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBSGI7Z0JBSUksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxFQUFQLEVBQVcsQ0FBWCxDQUpkO2dCQUtJLFdBQUEsRUFBYSxJQUxqQjtnQkFNSSxZQUFBLEVBQWMsT0FObEI7Z0JB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LEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxrQkFGYjtNQUdJLFFBQUEsRUFBVSxLQUhkO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBVCxHQUFpQixDQUF4QixFQUEyQixRQUFRLENBQUMsTUFBcEMsQ0FKYjtLQVRRLEVBZVI7TUFBRSxNQUFBLEVBQVEsbUJBQVY7S0FmUTtHQUptQztFQXNCL0MsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBdEJzQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLk1lc3NhZ2VCYWNrbG9nXCJdID0ge1xuICAgIFwiaWRcIjogXCJsaXN0XCIsXG4gICAgXCJ0eXBlXCI6IFwidWkuRGF0YVNjcm9sbFZpZXdcIixcbiAgICBcInpJbmRleFwiOiA4MDAwMCxcbiAgICBcIm9yZGVyXCI6IDgwMDAxLFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwicGFyYW1zXCI6IHsgXG4gICAgICAgIFwiZGF0YVNvdXJjZVwiOiAoJCAtPiAkZGF0YUZpZWxkcy5iYWNrbG9nKSxcbiAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7IFxuICAgICAgICAgICAgXCJzaXplXCI6IFtHcmFwaGljcy53aWR0aCwgMjAwXSxcbiAgICAgICAgICAgIFwiZGVzY3JpcHRvclwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCAyMDBdLFxuICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMjAsIEdyYXBoaWNzLndpZHRoIC8gNCwgMzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJtZXNzYWdlVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAyMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDgyMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9ICRkYXRhRmllbGRzLmJhY2tsb2dbby5wYXJlbnQucGFyZW50LmluZGV4XS5jaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8udGV4dCA9IGMubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5mb250LmNvbG9yLnNldEZyb21PYmplY3QoYy50ZXh0Q29sb3IpIGlmIGMudGV4dENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIk5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcIm1lc3NhZ2VUZXh0XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbR3JhcGhpY3Mud2lkdGggLyA0ICsgMjAsIDIwLCBHcmFwaGljcy53aWR0aCAtIDQwMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB7IFwiaG9yaXpvbnRhbFwiOiBmYWxzZSwgXCJ2ZXJ0aWNhbFwiOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm1hdHRpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDgyMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlclwiOiA4MDAwMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQgLT4gby52aXNpYmxlID0gISRkYXRhRmllbGRzLmJhY2tsb2dbby5wYXJlbnQuaW5kZXhdLmlzQ2hvaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBpZiAhJGRhdGFGaWVsZHMuYmFja2xvZ1tvLnBhcmVudC5pbmRleF0uaXNDaG9pY2UgdGhlbiBvLnRleHQgPSAkZGF0YUZpZWxkcy5iYWNrbG9nW28ucGFyZW50LmluZGV4XS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBpZiAkZGF0YUZpZWxkcy5iYWNrbG9nW28ucGFyZW50LmluZGV4XS5pc0Nob2ljZSB0aGVuIG8udGV4dCA9ICRkYXRhRmllbGRzLmJhY2tsb2dbby5wYXJlbnQuaW5kZXhdLmNob2ljZS50ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBvLnZpc2libGUgPSAkZGF0YUZpZWxkcy5iYWNrbG9nW28ucGFyZW50LmluZGV4XS5pc0Nob2ljZVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjpbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5XaW5kb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkIC0+IG8uY29udHJvbHNbMF0uaW1hZ2UgPSBcInNlbGVjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIDc1MCwgNTBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiA0OTk5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXNcIjogW1wicmVndWxhclVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAxMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAzMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkIC0+IGlmICRkYXRhRmllbGRzLmJhY2tsb2dbby5wYXJlbnQucGFyZW50LmluZGV4XS5pc0Nob2ljZSB0aGVuIG8udGV4dCA9ICRkYXRhRmllbGRzLmJhY2tsb2dbby5wYXJlbnQucGFyZW50LmluZGV4XS5jaG9pY2UudGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiA1MTAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMjBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBcbiAgICBcInpJbmRleFwiOiA4MTAwMFxufVxuXG51aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5NZXNzYWdlQmFja2xvZ0JveFwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJvcmRlclwiOiA4MDAwMCxcbiAgICBcImlkXCI6IFwiYmFja2xvZ1wiLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICAgXCJtb2RhbFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJvcmRlclwiOiA4MDAsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwiYmFja2xvZ01lc3NhZ2VQYW5lbFwiLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogODAwMDAsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcImJhY2tsb2dOYW1lUGFuZWxcIixcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDgwMDAwLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGggLyA0LCBHcmFwaGljcy5oZWlnaHRdXG4gICAgICAgIH0sXG4gICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuTWVzc2FnZUJhY2tsb2dcIiB9XG4gICAgICAgIFxuICAgIF0sXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF1cbn0iXX0=
//# sourceURL=Template_MessageBacklog_23.js
ui.UiFactory.customTypes["ui.MessageBox"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.Panel",
      "color": [0, 0, 0, 255],
      "frame": [0, Graphics.height - 220, "100%", 2],
      "zIndex": 5000
    }, {
      "type": "ui.Panel",
      "color": [0, 0, 0, 128],
      "frame": [0, Graphics.height - 220, "100%", 220],
      "zIndex": 5000
    }, {
      "type": "ui.MessageBoxMenu",
      "params": {
        "messageBox": $(function() {
          return $messageBox;
        })
      },
      "order": 81000,
      "frame": [0, Graphics.height - 270]
    }, {
      "type": "ui.Text",
      "updateBehavior": "continuous",
      "text": "",
      "style": "messageBoxNameText",
      "formulas": [
        $(function() {
          return o.text = $dataFields.scene.currentCharacter.name;
        }), $(function() {
          if (this.onTextChange($dataFields.scene.currentCharacter.name)) {
            return o.font.color.setFromObject($dataFields.scene.currentCharacter.textColor || Color.WHITE);
          }
        })
      ],
      "zIndex": 5005,
      "sizeToFit": true,
      "frame": [148, Graphics.height - 210, 128, 30]
    }
  ]
};

ui.UiFactory.customTypes["ui.CustomGameMessage"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.Message",
      "zIndex": 10000,
      "id": function() {
        return p.id + "_message";
      },
      "font": {
        "name": "Times New Roman",
        "size": gs.UIConstants.TEXT_SIZE_MESSAGE_NAME,
        "smallCaps": false,
        "italic": true,
        "border": true
      },
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.Image",
      "formulas": [
        $(function() {
          return o.dstRect.x = o.parent.controls[0].message.caretPosition.x;
        }), $(function() {
          return o.dstRect.y = o.parent.controls[0].message.caretPosition.y - 20;
        }), $(function() {
          return o.visible = o.parent.controls[0].visible && (o.parent.controls[0].message.isRunning || o.parent.controls[0].message.isWaiting);
        })
      ],
      "animations": [
        {
          "event": "onAlways",
          "flow": [
            {
              "type": "playAnimation",
              "repeat": false,
              "animationId": 0
            }
          ]
        }
      ],
      "image": "message_caret",
      "zIndex": 10000,
      "frame": [0, 0]
    }
  ]
};

ui.UiFactory.customTypes["ui.GameMessage"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Message",
      "zIndex": 10000,
      "id": function() {
        return p.id + "_message";
      },
      "frame": [0, 10, Graphics.width - 136 - 180, 200],
      "style": "advMessageText"
    }, {
      "type": "ui.Image",
      "formulas": [
        $(function() {
          return o.dstRect.x = o.parent.controls[0].message.caretPosition.x;
        }), $(function() {
          return o.dstRect.y = o.parent.controls[0].message.caretPosition.y - 10;
        }), $(function() {
          return o.visible = o.parent.controls[0].visible && (o.parent.controls[0].message.isRunning || o.parent.controls[0].message.isWaiting);
        })
      ],
      "animations": [
        {
          "event": "onAlways",
          "flow": [
            {
              "type": "playAnimation",
              "repeat": false,
              "animationId": 0
            }
          ]
        }
      ],
      "image": "message_caret",
      "zIndex": 10000,
      "frame": [0, 0]
    }
  ]
};

ui.UiFactory.customTypes["ui.GameMessageNVL"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Message",
      "zIndex": 10000,
      "id": function() {
        return p.id + "_message";
      },
      "style": "nvlMessageText",
      "frame": [Graphics.width / 100 * 12.5 + 8, 8, Graphics.width / 100 * 75 - 16, Graphics.height - 16]
    }
  ]
};

ui.UiFactory.customTypes["ui.MessageBoxNVL"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.MessageBoxMenu",
      "params": {
        "messageBox": $(function() {
          return $messageBoxNVL;
        })
      },
      "order": 81000,
      "frame": [0, Graphics.height - 270]
    }, {
      "type": "ui.Window",
      "params": {
        "backgroundOpacity": 128
      },
      "frame": [Graphics.width / 100 * 12.5, 0, Graphics.width / 100 * 75, Graphics.height],
      "zIndex": 4999
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGVBQUEsQ0FBekIsR0FBNEM7RUFDeEMsTUFBQSxFQUFRLGVBRGdDO0VBRXhDLFVBQUEsRUFBWTtJQUNSO01BQ0csTUFBQSxFQUFRLFVBRFg7TUFFRyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxHQUFWLENBRlo7TUFHRyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksUUFBUSxDQUFDLE1BQVQsR0FBa0IsR0FBdEIsRUFBMkIsTUFBM0IsRUFBbUMsQ0FBbkMsQ0FIWjtNQUlHLFFBQUEsRUFBVSxJQUpiO0tBRFEsRUFPUjtNQUNHLE1BQUEsRUFBUSxVQURYO01BRUcsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsR0FBVixDQUZaO01BR0csT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEdBQXRCLEVBQTJCLE1BQTNCLEVBQW1DLEdBQW5DLENBSFo7TUFJRyxRQUFBLEVBQVUsSUFKYjtLQVBRLEVBYVI7TUFDSSxNQUFBLEVBQVEsbUJBRFo7TUFFSSxRQUFBLEVBQVU7UUFBRSxZQUFBLEVBQWUsQ0FBQSxDQUFFLFNBQUE7aUJBQUc7UUFBSCxDQUFGLENBQWpCO09BRmQ7TUFHSSxPQUFBLEVBQVMsS0FIYjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxRQUFRLENBQUMsTUFBVCxHQUFrQixHQUF0QixDQUpiO0tBYlEsRUFtQlI7TUFDSSxNQUFBLEVBQVEsU0FEWjtNQUVJLGdCQUFBLEVBQWtCLFlBRnRCO01BR0ksTUFBQSxFQUFRLEVBSFo7TUFJSSxPQUFBLEVBQVMsb0JBSmI7TUFLSSxVQUFBLEVBQVk7UUFDUixDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsSUFBRixHQUFTLFdBQVcsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7UUFBL0MsQ0FBRixDQURRLEVBRVIsQ0FBQSxDQUFFLFNBQUE7VUFBRyxJQUFHLElBQUMsQ0FBQSxZQUFELENBQWMsV0FBVyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFqRCxDQUFIO21CQUE4RCxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFiLENBQTJCLFdBQVcsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsU0FBbkMsSUFBZ0QsS0FBSyxDQUFDLEtBQWpGLEVBQTlEOztRQUFILENBQUYsQ0FGUTtPQUxoQjtNQVNJLFFBQUEsRUFBVSxJQVRkO01BVUksV0FBQSxFQUFhLElBVmpCO01BV0ksT0FBQSxFQUFTLENBQUMsR0FBRCxFQUFNLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEdBQXhCLEVBQTZCLEdBQTdCLEVBQWtDLEVBQWxDLENBWGI7S0FuQlE7R0FGNEI7OztBQXFDNUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFZLENBQUEsc0JBQUEsQ0FBekIsR0FBbUQ7RUFDL0MsTUFBQSxFQUFRLGVBRHVDO0VBRS9DLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFlBRFo7TUFFSSxRQUFBLEVBQVUsS0FGZDtNQUdJLElBQUEsRUFBTSxTQUFBO2VBQUcsQ0FBQyxDQUFDLEVBQUYsR0FBTztNQUFWLENBSFY7TUFJSSxNQUFBLEVBQVE7UUFBRSxNQUFBLEVBQVEsaUJBQVY7UUFBNkIsTUFBQSxFQUFRLEVBQUUsQ0FBQyxXQUFXLENBQUMsc0JBQXBEO1FBQTRFLFdBQUEsRUFBYSxLQUF6RjtRQUFnRyxRQUFBLEVBQVUsSUFBMUc7UUFBZ0gsUUFBQSxFQUFVLElBQTFIO09BSlo7TUFLSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBTGI7S0FEUSxFQVFSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxVQUFBLEVBQVk7UUFDUixDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQVYsR0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO1FBQTVELENBQUYsQ0FEUSxFQUVSLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBVixHQUFjLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBM0MsR0FBK0M7UUFBaEUsQ0FBRixDQUZRLEVBR1IsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLE9BQUYsR0FBWSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFyQixJQUFpQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxTQUE3QixJQUEwQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsU0FBeEU7UUFBaEQsQ0FBRixDQUhRO09BRmhCO01BT0ksWUFBQSxFQUFjO1FBQ1Y7VUFDSSxPQUFBLEVBQVMsVUFEYjtVQUVJLE1BQUEsRUFBUTtZQUNKO2NBQUUsTUFBQSxFQUFRLGVBQVY7Y0FBMkIsUUFBQSxFQUFVLEtBQXJDO2NBQTRDLGFBQUEsRUFBZSxDQUEzRDthQURJO1dBRlo7U0FEVTtPQVBsQjtNQWVJLE9BQUEsRUFBUyxlQWZiO01BZ0JJLFFBQUEsRUFBVSxLQWhCZDtNQWlCSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQWpCYjtLQVJRO0dBRm1DOzs7QUFnQ25ELEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGdCQUFBLENBQXpCLEdBQTZDO0VBQ3pDLE1BQUEsRUFBUSxlQURpQztFQUV6QyxXQUFBLEVBQWEsSUFGNEI7RUFHekMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsWUFEWjtNQUVJLFFBQUEsRUFBVSxLQUZkO01BR0ksSUFBQSxFQUFNLFNBQUE7ZUFBRyxDQUFDLENBQUMsRUFBRixHQUFPO01BQVYsQ0FIVjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxFQUFKLEVBQVEsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBakIsR0FBdUIsR0FBL0IsRUFBb0MsR0FBcEMsQ0FKYjtNQUtJLE9BQUEsRUFBUyxnQkFMYjtLQURRLEVBUVI7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLFVBQUEsRUFBWTtRQUNSLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBVixHQUFjLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFBNUQsQ0FBRixDQURRLEVBRVIsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFWLEdBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUEzQyxHQUErQztRQUFoRSxDQUFGLENBRlEsRUFHUixDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsT0FBRixHQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQXJCLElBQWlDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLFNBQTdCLElBQTBDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxTQUF4RTtRQUFoRCxDQUFGLENBSFE7T0FGaEI7TUFPSSxZQUFBLEVBQWM7UUFDVjtVQUNJLE9BQUEsRUFBUyxVQURiO1VBRUksTUFBQSxFQUFRO1lBQ0o7Y0FBRSxNQUFBLEVBQVEsZUFBVjtjQUEyQixRQUFBLEVBQVUsS0FBckM7Y0FBNEMsYUFBQSxFQUFlLENBQTNEO2FBREk7V0FGWjtTQURVO09BUGxCO01BZUksT0FBQSxFQUFTLGVBZmI7TUFnQkksUUFBQSxFQUFVLEtBaEJkO01BaUJJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBakJiO0tBUlE7R0FINkI7OztBQWlDN0MsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFZLENBQUEsbUJBQUEsQ0FBekIsR0FBZ0Q7RUFDNUMsTUFBQSxFQUFRLGVBRG9DO0VBRTVDLFdBQUEsRUFBYSxJQUYrQjtFQUc1QyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxZQURaO01BRUksUUFBQSxFQUFVLEtBRmQ7TUFHSSxJQUFBLEVBQU0sU0FBQTtlQUFHLENBQUMsQ0FBQyxFQUFGLEdBQU87TUFBVixDQUhWO01BSUksT0FBQSxFQUFTLGdCQUpiO01BS0ksT0FBQSxFQUFTLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBakIsR0FBdUIsSUFBdkIsR0FBOEIsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBakIsR0FBdUIsRUFBdkIsR0FBNEIsRUFBakUsRUFBcUUsUUFBUSxDQUFDLE1BQVQsR0FBa0IsRUFBdkYsQ0FMYjtLQURRO0dBSGdDOzs7QUFjaEQsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFZLENBQUEsa0JBQUEsQ0FBekIsR0FBK0M7RUFDM0MsTUFBQSxFQUFRLGVBRG1DO0VBRTNDLFdBQUEsRUFBYSxJQUY4QjtFQUczQyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxtQkFEWjtNQUVJLFFBQUEsRUFBVTtRQUFFLFlBQUEsRUFBZSxDQUFBLENBQUUsU0FBQTtpQkFBRztRQUFILENBQUYsQ0FBakI7T0FGZDtNQUdJLE9BQUEsRUFBUyxLQUhiO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLFFBQVEsQ0FBQyxNQUFULEdBQWtCLEdBQXRCLENBSmI7S0FEUSxFQU9SO01BQ0ksTUFBQSxFQUFRLFdBRFo7TUFFSSxRQUFBLEVBQVU7UUFBRSxtQkFBQSxFQUFxQixHQUF2QjtPQUZkO01BSUksT0FBQSxFQUFTLENBQUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBakIsR0FBdUIsSUFBeEIsRUFBOEIsQ0FBOUIsRUFBaUMsUUFBUSxDQUFDLEtBQVQsR0FBaUIsR0FBakIsR0FBdUIsRUFBeEQsRUFBNEQsUUFBUSxDQUFDLE1BQXJFLENBSmI7TUFLSSxRQUFBLEVBQVUsSUFMZDtLQVBRO0dBSCtCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuTWVzc2FnZUJveFwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuUGFuZWxcIixcbiAgICAgICAgICAgXCJjb2xvclwiOiBbMCwgMCwgMCwgMjU1XSxcbiAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgR3JhcGhpY3MuaGVpZ2h0IC0gMjIwLCBcIjEwMCVcIiwgMl0sXG4gICAgICAgICAgIFwiekluZGV4XCI6IDUwMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICBcImNvbG9yXCI6IFswLCAwLCAwLCAxMjhdLFxuICAgICAgICAgICBcImZyYW1lXCI6IFswLCBHcmFwaGljcy5oZWlnaHQgLSAyMjAsIFwiMTAwJVwiLCAyMjBdLFxuICAgICAgICAgICBcInpJbmRleFwiOiA1MDAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk1lc3NhZ2VCb3hNZW51XCIsXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwibWVzc2FnZUJveFwiOiAoJCAtPiAkbWVzc2FnZUJveCkgfSxcbiAgICAgICAgICAgIFwib3JkZXJcIjogODEwMDAsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCBHcmFwaGljcy5oZWlnaHQgLSAyNzBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIFwidXBkYXRlQmVoYXZpb3JcIjogXCJjb250aW51b3VzXCIsXG4gICAgICAgICAgICBcInRleHRcIjogXCJcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJtZXNzYWdlQm94TmFtZVRleHRcIiwgIFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAtPiBvLnRleHQgPSAkZGF0YUZpZWxkcy5zY2VuZS5jdXJyZW50Q2hhcmFjdGVyLm5hbWVcbiAgICAgICAgICAgICAgICAkIC0+IGlmIEBvblRleHRDaGFuZ2UgJGRhdGFGaWVsZHMuc2NlbmUuY3VycmVudENoYXJhY3Rlci5uYW1lIHRoZW4gby5mb250LmNvbG9yLnNldEZyb21PYmplY3QgJGRhdGFGaWVsZHMuc2NlbmUuY3VycmVudENoYXJhY3Rlci50ZXh0Q29sb3Igb3IgQ29sb3IuV0hJVEVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MDA1LFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzE0OCwgR3JhcGhpY3MuaGVpZ2h0IC0gMjEwLCAxMjgsIDMwXVxuICAgICAgICB9XG4gICAgXVxufVxuXG51aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5DdXN0b21HYW1lTWVzc2FnZVwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk1lc3NhZ2VcIixcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDEwMDAwLFxuICAgICAgICAgICAgXCJpZFwiOiAtPiBwLmlkICsgXCJfbWVzc2FnZVwiLFxuICAgICAgICAgICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiBncy5VSUNvbnN0YW50cy5URVhUX1NJWkVfTUVTU0FHRV9OQU1FLCBcInNtYWxsQ2Fwc1wiOiBmYWxzZSwgXCJpdGFsaWNcIjogdHJ1ZSwgXCJib3JkZXJcIjogdHJ1ZSAgfSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJVwiLCBcIjEwMCVcIl1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICQgLT4gby5kc3RSZWN0LnggPSBvLnBhcmVudC5jb250cm9sc1swXS5tZXNzYWdlLmNhcmV0UG9zaXRpb24ueFxuICAgICAgICAgICAgICAgICQgLT4gby5kc3RSZWN0LnkgPSBvLnBhcmVudC5jb250cm9sc1swXS5tZXNzYWdlLmNhcmV0UG9zaXRpb24ueSAtIDIwXG4gICAgICAgICAgICAgICAgJCAtPiBvLnZpc2libGUgPSBvLnBhcmVudC5jb250cm9sc1swXS52aXNpYmxlIGFuZCAoby5wYXJlbnQuY29udHJvbHNbMF0ubWVzc2FnZS5pc1J1bm5pbmcgb3Igby5wYXJlbnQuY29udHJvbHNbMF0ubWVzc2FnZS5pc1dhaXRpbmcpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJhbmltYXRpb25zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZXZlbnRcIjogXCJvbkFsd2F5c1wiLFxuICAgICAgICAgICAgICAgICAgICBcImZsb3dcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJwbGF5QW5pbWF0aW9uXCIsIFwicmVwZWF0XCI6IGZhbHNlLCBcImFuaW1hdGlvbklkXCI6IDAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogXCJtZXNzYWdlX2NhcmV0XCIsXG4gICAgICAgICAgICBcInpJbmRleFwiOiAxMDAwMCxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdXG4gICAgICAgIH1cbiAgICBdXG59XG5cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkdhbWVNZXNzYWdlXCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5NZXNzYWdlXCIsXG4gICAgICAgICAgICBcInpJbmRleFwiOiAxMDAwMCxcbiAgICAgICAgICAgIFwiaWRcIjogLT4gcC5pZCArIFwiX21lc3NhZ2VcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDEwLCBHcmFwaGljcy53aWR0aCAtIDEzNiAtIDE4MCwgMjAwXSxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJhZHZNZXNzYWdlVGV4dFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFtcbiAgICAgICAgICAgICAgICAkIC0+IG8uZHN0UmVjdC54ID0gby5wYXJlbnQuY29udHJvbHNbMF0ubWVzc2FnZS5jYXJldFBvc2l0aW9uLnhcbiAgICAgICAgICAgICAgICAkIC0+IG8uZHN0UmVjdC55ID0gby5wYXJlbnQuY29udHJvbHNbMF0ubWVzc2FnZS5jYXJldFBvc2l0aW9uLnkgLSAxMFxuICAgICAgICAgICAgICAgICQgLT4gby52aXNpYmxlID0gby5wYXJlbnQuY29udHJvbHNbMF0udmlzaWJsZSBhbmQgKG8ucGFyZW50LmNvbnRyb2xzWzBdLm1lc3NhZ2UuaXNSdW5uaW5nIG9yIG8ucGFyZW50LmNvbnRyb2xzWzBdLm1lc3NhZ2UuaXNXYWl0aW5nKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiYW5pbWF0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImV2ZW50XCI6IFwib25BbHdheXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmbG93XCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwicGxheUFuaW1hdGlvblwiLCBcInJlcGVhdFwiOiBmYWxzZSwgXCJhbmltYXRpb25JZFwiOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImltYWdlXCI6IFwibWVzc2FnZV9jYXJldFwiLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAwMDAsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXVxuICAgICAgICB9XG4gICAgXVxufVxuXG51aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5HYW1lTWVzc2FnZU5WTFwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTWVzc2FnZVwiLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAwMDAsXG4gICAgICAgICAgICBcImlkXCI6IC0+IHAuaWQgKyBcIl9tZXNzYWdlXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwibnZsTWVzc2FnZVRleHRcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW0dyYXBoaWNzLndpZHRoIC8gMTAwICogMTIuNSArIDgsIDgsIEdyYXBoaWNzLndpZHRoIC8gMTAwICogNzUgLSAxNiwgR3JhcGhpY3MuaGVpZ2h0IC0gMTZdXG4gICAgICAgIH1cbiAgICBdXG59XG5cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLk1lc3NhZ2VCb3hOVkxcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk1lc3NhZ2VCb3hNZW51XCIsXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwibWVzc2FnZUJveFwiOiAoJCAtPiAkbWVzc2FnZUJveE5WTCkgfSxcbiAgICAgICAgICAgIFwib3JkZXJcIjogODEwMDAsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCBHcmFwaGljcy5oZWlnaHQgLSAyNzBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLldpbmRvd1wiLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcImJhY2tncm91bmRPcGFjaXR5XCI6IDEyOFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogW0dyYXBoaWNzLndpZHRoIC8gMTAwICogMTIuNSwgMCwgR3JhcGhpY3Mud2lkdGggLyAxMDAgKiA3NSwgR3JhcGhpY3MuaGVpZ2h0XVxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogNDk5OVxuICAgICAgICB9XG4gICAgXVxufVxuXG4iXX0=
//# sourceURL=Template_MessageBox_18.js
ui.UiFactory.customTypes["ui.MessageBoxMenu"] = {
  "type": "ui.FreeLayout",
  "order": 85000,
  "id": "msgmenu",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Window",
      "color": [0, 0, 0, 128],
      "frame": [0, 0, 140, 270],
      "order": 0,
      "params": {
        "zIndex": 5000
      },
      "zIndex": 85000
    }, {
      "type": "ui.StackLayout",
      "orientation": "vertical",
      "order": 10,
      "frame": [0, 0, 128, 230],
      "controls": [
        {
          "type": "ui.MessageOptionButton",
          "formulas": [
            $(function() {
              return o.ui.enabled = $dataFields.settings.allowSkip;
            })
          ],
          "params": {
            "label": {
              "lcId": "3A58B0DB84DB0549FD09EDF6F0FF0730D8DE",
              "defaultText": "Skip"
            },
            "write": $(function() {
              return $dataFields.tempSettings.skip = !$dataFields.tempSettings.skip;
            })
          },
          "margin": [10, 5, 0, 0],
          "order": 80001
        }, {
          "type": "ui.MessageOptionButton",
          "formulas": [
            $(function() {
              return o.ui.enabled = $dataFields.tempSettings.backlogAccess;
            })
          ],
          "id": "logButton",
          "margin": [10, 10, 0, 0],
          "params": {
            "label": {
              "lcId": "BF92F3296C66164227197FB3BF1E1B09E0D8",
              "defaultText": "Log"
            },
            "write": $(function() {
              return $dataFields.tempSettings.logOpened = !$dataFields.tempSettings.logOpened;
            }),
            "action2": {
              "condition": {
                "field": $(function() {
                  return !$dataFields.tempSettings.logOpened;
                }),
                "equalTo": true
              },
              "name": "disposeControl",
              "params": $(function() {
                return 'backlog';
              })
            },
            "action1": {
              "condition": {
                "field": $(function() {
                  return $dataFields.tempSettings.logOpened;
                }),
                "equalTo": true
              },
              "name": "createControl",
              "params": {
                "parent": function() {
                  return p.messageBox;
                },
                "descriptor": "ui.MessageBacklogBox"
              }
            }
          }
        }, {
          "type": "ui.Text",
          "formulas": [
            $(function() {
              return o.ui.enabled = $dataFields.tempSettings.saveMenuAccess;
            })
          ],
          "id": "saveButton",
          "style": "regularUIText",
          "actions": [
            {
              "name": "prepareSaveGame",
              "params": {
                "snapshot": true
              }
            }, {
              "name": "switchLayout",
              "params": {
                "name": "saveMenuLayout",
                "savePrevious": true
              }
            }
          ],
          "text": {
            "lcId": "5316D6C90CB9924AE64A39889235D22D5FEE",
            "defaultText": "Save"
          },
          "sizeToFit": true,
          "margin": [60, 16, 0, 0]
        }, {
          "type": "ui.Text",
          "formulas": [
            $(function() {
              return o.ui.enabled = $dataFields.tempSettings.loadMenuAccess;
            })
          ],
          "styles": ["regularUIText"],
          "action": {
            "name": "switchLayout",
            "params": {
              "name": "loadMenuLayout",
              "savePrevious": true
            }
          },
          "text": {
            "lcId": "9622E9805409534DB8381610238C95564F30",
            "defaultText": "Load"
          },
          "sizeToFit": true,
          "margin": [60, 16, 0, 0]
        }, {
          "type": "ui.Text",
          "styles": ["regularUIText"],
          "text": {
            "lcId": "D2632CD54402D8462F597DD75E51050ED0C3",
            "defaultText": "Title"
          },
          "sizeToFit": true,
          "actions": [
            {
              "name": "createControl",
              "params": {
                "descriptor": {
                  "id": "confirmationDialog",
                  "type": "ui.ConfirmationDialog",
                  "zIndex": 90000,
                  "params": {
                    "message": {
                      "lcId": "ABC85CC3669B83481309BDF44B98EF11B59B",
                      "defaultText": "Do you really want to exit?"
                    },
                    "acceptActions": [
                      {
                        "name": "switchLayout",
                        "params": {
                          "name": "titleLayout"
                        }
                      }
                    ],
                    "rejectActions": [
                      {
                        "name": "disposeControl",
                        "params": $(function() {
                          return 'confirmationDialog';
                        })
                      }
                    ]
                  }
                }
              }
            }
          ],
          "margin": [60, 16, 0, 0]
        }
      ],
      "zIndex": 86000
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLG1CQUFBLENBQXpCLEdBQWdEO0VBQzVDLE1BQUEsRUFBUSxlQURvQztFQUU1QyxPQUFBLEVBQVMsS0FGbUM7RUFHNUMsSUFBQSxFQUFNLFNBSHNDO0VBSTVDLFdBQUEsRUFBYSxJQUorQjtFQUs1QyxVQUFBLEVBQVk7SUFDUjtNQUNHLE1BQUEsRUFBUSxXQURYO01BRUcsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsR0FBVixDQUZaO01BR0csT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxHQUFQLEVBQVksR0FBWixDQUhaO01BSUcsT0FBQSxFQUFTLENBSlo7TUFLRyxRQUFBLEVBQVU7UUFBRSxRQUFBLEVBQVUsSUFBWjtPQUxiO01BTUcsUUFBQSxFQUFVLEtBTmI7S0FEUSxFQVNSO01BQ0ksTUFBQSxFQUFRLGdCQURaO01BRUksYUFBQSxFQUFlLFVBRm5CO01BR0ksT0FBQSxFQUFTLEVBSGI7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxHQUFaLENBSmI7TUFLSSxVQUFBLEVBQVk7UUFDUjtVQUNHLE1BQUEsRUFBUSx3QkFEWDtVQUVHLFVBQUEsRUFBWTtZQUFDLENBQUEsQ0FBRSxTQUFBO3FCQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTCxHQUFlLFdBQVcsQ0FBQyxRQUFRLENBQUM7WUFBdkMsQ0FBRixDQUFEO1dBRmY7VUFHRyxRQUFBLEVBQVU7WUFBRSxPQUFBLEVBQVM7Y0FBRSxNQUFBLEVBQVEsc0NBQVY7Y0FBa0QsYUFBQSxFQUFlLE1BQWpFO2FBQVg7WUFBc0YsT0FBQSxFQUFTLENBQUEsQ0FBRSxTQUFBO3FCQUFHLFdBQVcsQ0FBQyxZQUFZLENBQUMsSUFBekIsR0FBZ0MsQ0FBQyxXQUFX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c3RvbVR5cGVzW1widWkuTWVzc2FnZUJveE1lbnVcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwib3JkZXJcIjogODUwMDAsXG4gICAgXCJpZFwiOiBcIm1zZ21lbnVcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgIFwidHlwZVwiOiBcInVpLldpbmRvd1wiLFxuICAgICAgICAgICBcImNvbG9yXCI6IFswLCAwLCAwLCAxMjhdLFxuICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAxNDAsIDI3MF0sXG4gICAgICAgICAgIFwib3JkZXJcIjogMCxcbiAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcInpJbmRleFwiOiA1MDAwIH0sXG4gICAgICAgICAgIFwiekluZGV4XCI6IDg1MDAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgIFwib3JkZXJcIjogMTAsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAxMjgsIDIzMF0sXG4gICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTWVzc2FnZU9wdGlvbkJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby51aS5lbmFibGVkID0gJGRhdGFGaWVsZHMuc2V0dGluZ3MuYWxsb3dTa2lwXSxcbiAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwibGFiZWxcIjogeyBcImxjSWRcIjogXCIzQTU4QjBEQjg0REIwNTQ5RkQwOUVERjZGMEZGMDczMEQ4REVcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIlNraXBcIiB9LCBcIndyaXRlXCI6ICQgLT4gJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLnNraXAgPSAhJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLnNraXAgfSxcbiAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMTAsIDUsIDAsIDBdLFxuICAgICAgICAgICAgICAgICAgIFwib3JkZXJcIjogODAwMDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTWVzc2FnZU9wdGlvbkJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby51aS5lbmFibGVkID0gJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLmJhY2tsb2dBY2Nlc3NdLFxuICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJsb2dCdXR0b25cIixcbiAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMTAsIDEwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsYWJlbFwiOiB7IFwibGNJZFwiOiBcIkJGOTJGMzI5NkM2NjE2NDIyNzE5N0ZCM0JGMUUxQjA5RTBEOFwiLCBcImRlZmF1bHRUZXh0XCI6IFwiTG9nXCIgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICQgLT4gJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLmxvZ09wZW5lZCA9ICEkZGF0YUZpZWxkcy50ZW1wU2V0dGluZ3MubG9nT3BlbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvbjJcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29uZGl0aW9uXCI6IHsgXCJmaWVsZFwiOiAoJCAtPiAhJGRhdGFGaWVsZHMudGVtcFNldHRpbmdzLmxvZ09wZW5lZCksIFwiZXF1YWxUb1wiOiB0cnVlIH0sIFwibmFtZVwiOiBcImRpc3Bvc2VDb250cm9sXCIsIFwicGFyYW1zXCI6ICgkIC0+ICdiYWNrbG9nJykgXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uMVwiOiAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29uZGl0aW9uXCI6IHsgXCJmaWVsZFwiOiAoJCAtPiAkZGF0YUZpZWxkcy50ZW1wU2V0dGluZ3MubG9nT3BlbmVkKSwgXCJlcXVhbFRvXCI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImNyZWF0ZUNvbnRyb2xcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyZW50XCI6IC0+IHAubWVzc2FnZUJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRvclwiOiBcInVpLk1lc3NhZ2VCYWNrbG9nQm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbJCAtPiBvLnVpLmVuYWJsZWQgPSAkZGF0YUZpZWxkcy50ZW1wU2V0dGluZ3Muc2F2ZU1lbnVBY2Nlc3NdLFxuICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJzYXZlQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgI1wiY29tcG9uZW50c1wiOiBbeyBcInR5cGVcIjogXCJDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yXCIsIFwicGFyYW1zXCI6IHtcInNvdW5kXCI6IFwiJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVTZWxlY3RTb3VuZFwifSB9XSxcbiAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwicmVndWxhclVJVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwicHJlcGFyZVNhdmVHYW1lXCIsIFwicGFyYW1zXCI6IHsgXCJzbmFwc2hvdFwiOiB0cnVlIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJzd2l0Y2hMYXlvdXRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJzYXZlTWVudUxheW91dFwiLCBcInNhdmVQcmV2aW91c1wiOiB0cnVlIH0gfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiB7IFwibGNJZFwiOiBcIjUzMTZENkM5MENCOTkyNEFFNjRBMzk4ODkyMzVEMjJENUZFRVwiLCBcImRlZmF1bHRUZXh0XCI6IFwiU2F2ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbNjAsIDE2LCAwLCAwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udWkuZW5hYmxlZCA9ICRkYXRhRmllbGRzLnRlbXBTZXR0aW5ncy5sb2FkTWVudUFjY2Vzc10sXG4gICAgICAgICAgICAgICAgICAgI1wiY29tcG9uZW50c1wiOiBbeyBcInR5cGVcIjogXCJDb21wb25lbnRfSG90c3BvdEJlaGF2aW9yXCIsIFwicGFyYW1zXCI6IHtcInNvdW5kXCI6IFwiJGRhdGFGaWVsZHMuZGF0YWJhc2Uuc3lzdGVtLm1lbnVTZWxlY3RTb3VuZFwifSB9XSxcbiAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJyZWd1bGFyVUlUZXh0XCJdLFxuICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IHsgXCJuYW1lXCI6IFwic3dpdGNoTGF5b3V0XCIsIFwicGFyYW1zXCI6IHsgXCJuYW1lXCI6IFwibG9hZE1lbnVMYXlvdXRcIiwgXCJzYXZlUHJldmlvdXNcIjogdHJ1ZSB9fSxcbiAgICAgICAgICAgICAgICAgICBcInRleHRcIjogeyBcImxjSWRcIjogXCI5NjIyRTk4MDU0MDk1MzREQjgzODE2MTAyMzhDOTU1NjRGMzBcIiwgXCJkZWZhdWx0VGV4dFwiOiBcIkxvYWRcIiB9LFxuICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogWzYwLCAxNiwgMCwgMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgXCJzdHlsZXNcIjogW1wicmVndWxhclVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICMgXCJjb21wb25lbnRzXCI6IFt7IFwidHlwZVwiOiBcIkNvbXBvbmVudF9Ib3RzcG90QmVoYXZpb3JcIiwgXCJwYXJhbXNcIjoge1wic291bmRcIjogXCIkZGF0YUZpZWxkcy5kYXRhYmFzZS5zeXN0ZW0ubWVudVNlbGVjdFNvdW5kXCJ9IH1dLFxuICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiB7IFwibGNJZFwiOiBcIkQyNjMyQ0Q1NDQwMkQ4NDYyRjU5N0RENzVFNTEwNTBFRDBDM1wiLCBcImRlZmF1bHRUZXh0XCI6IFwiVGl0bGVcIiB9LFxuICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgXCJhY3Rpb25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJjcmVhdGVDb250cm9sXCIsIFwicGFyYW1zXCI6IHsgXCJkZXNjcmlwdG9yXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImNvbmZpcm1hdGlvbkRpYWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkNvbmZpcm1hdGlvbkRpYWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDkwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiOiB7IFwibGNJZFwiOiBcIkFCQzg1Q0MzNjY5QjgzNDgxMzA5QkRGNDRCOThFRjExQjU5QlwiLCBcImRlZmF1bHRUZXh0XCI6IFwiRG8geW91IHJlYWxseSB3YW50IHRvIGV4aXQ/XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRBY3Rpb25zXCI6IFt7XCJuYW1lXCI6IFwic3dpdGNoTGF5b3V0XCIsIFwicGFyYW1zXCI6IHsgXCJuYW1lXCI6IFwidGl0bGVMYXlvdXRcIiB9IH1dICwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVqZWN0QWN0aW9uc1wiOiBbe1wibmFtZVwiOlwiZGlzcG9zZUNvbnRyb2xcIixcInBhcmFtc1wiOigkIC0+ICdjb25maXJtYXRpb25EaWFsb2cnKX1dfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9IH1cbiAgICAgICAgICAgICAgICAgICBdLCAgICBcbiAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbNjAsIDE2LCAwLCAwXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInpJbmRleFwiOiA4NjAwMFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_MessageBoxMenu_38.js
ui.UiFactory.customTypes["ui.InputNumberBox"] = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.FreeLayout",
      "sizeToFit": true,
      "alignmentX": "center",
      "frame": [0, 10],
      "zIndex": 1000,
      "controls": [
        {
          "type": "ui.FreeLayout",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.Window",
              "frame": [0, 0, "MAX($tempFields.digits * 110, 460)", 470]
            }, {
              "type": "ui.Panel",
              "style": "windowSubPanel",
              "frame": ["MAX($tempFields.digits * 110, 460) - 130", 180, 130, 470 - 160],
              "zIndex": 10
            }, {
              "type": "ui.Panel",
              "style": "windowContentSeparator",
              "frame": [0, 180, "MAX($tempFields.digits * 110, 460)", 1],
              "zIndex": 10
            }, {
              "type": "ui.Text",
              "styles": ["regularUIText"],
              "sizeToFit": true,
              "text": "Number",
              "zIndex": 10,
              "frame": [20, 15]
            }, {
              "type": "ui.StackLayout",
              "components": [
                {
                  "id": "numberInput",
                  "type": "Component_NumberInput",
                  "params": {
                    "digits": $(function() {
                      return $tempFields.digits;
                    })
                  }
                }
              ],
              "sizeToFit": true,
              "id": "numberField",
              "zIndex": 10,
              "alignmentX": "center",
              "frame": [12, 50],
              "dataField": $(function() {
                return $tempFields.digits;
              }),
              "template": {
                "type": "ui.FreeLayout",
                "margin": [5, 5, 5, 5],
                "sizeToFit": true,
                "controls": [
                  {
                    "type": "ui.Image",
                    "image": "entrybox"
                  }, {
                    "type": "ui.Text",
                    "frame": [0, 0],
                    "sizeToFit": true,
                    "alignmentX": "center",
                    "alignmentY": "center",
                    "style": "numberInputEntryText",
                    "text": "0"
                  }
                ]
              }
            }
          ]
        }, {
          "type": "ui.GridLayout",
          "sizeToFit": true,
          "rows": 4,
          "columns": 3,
          "alignmentY": 0,
          "frame": [30, 185],
          "cellSpacing": [0, 0, 40, 0],
          "controls": [
            {
              "type": "ui.Number",
              "params": {
                "text": "1",
                "number": 1,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "2",
                "number": 2,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "3",
                "number": 3,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "4",
                "number": 4,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "5",
                "number": 5,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "6",
                "number": 6,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "7",
                "number": 7,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "8",
                "number": 8,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "9",
                "number": 9,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }, {
              "type": "ui.Number",
              "params": {
                "text": "0",
                "number": 0,
                "target": $(function() {
                  return 'numberField.numberInput';
                })
              }
            }
          ]
        }, {
          "type": "ui.NumberBackspace",
          "params": {
            "target": $(function() {
              return 'numberField.numberInput';
            })
          },
          "frame": ["100% - 120", 260]
        }, {
          "type": "ui.NumberAccept",
          "frame": ["100% - 120", 200]
        }
      ]
    }
  ]
};

ui.UiFactory.customTypes["ui.Number"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Frame",
      "style": "selectableWindowShadow",
      "images": ["", "selection", "", "", ""],
      "zIndex": 5000,
      "padding": [-16, -16, -16, -16],
      "frame": [0, 0, 70, 70],
      "actions": [
        {
          "name": "action_addNumber",
          "target": (function() {
            return p.target;
          }),
          "params": {
            "number": (function() {
              return p.number;
            })
          }
        }
      ]
    }, {
      "type": "ui.Text",
      "sizeToFit": true,
      "alignmentX": "center",
      "alignmentY": "center",
      "style": "numberInputDigitText",
      "text": (function() {
        return p.text;
      }),
      "zIndex": 5000
    }
  ]
};

ui.UiFactory.customTypes["ui.NumberBackspace"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Text",
      "sizeToFit": true,
      "styles": ["regularUIText"],
      "text": "Back",
      "zIndex": 5000,
      "action": {
        "name": "action_removeNumber",
        "target": (function() {
          return p.target;
        }),
        "params": {
          "number": (function() {
            return p.number;
          })
        }
      }
    }
  ]
};

ui.UiFactory.customTypes["ui.NumberAccept"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Text",
      "sizeToFit": true,
      "styles": ["regularUIText"],
      "text": "Confirm",
      "zIndex": 5000,
      "action": {
        "name": "emitEvent",
        "params": {
          "name": "accept",
          "source": $(function() {
            return o.parent.parent.parent;
          }),
          "data": {
            "number": $(function() {
              return $numberField.numberInput.number;
            })
          }
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLG1CQUFBLENBQXpCLEdBQWdEO0VBQzVDLE1BQUEsRUFBUSxlQURvQztFQUU1QyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGbUM7RUFHNUMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLFdBQUEsRUFBYSxJQUZqQjtNQUdJLFlBQUEsRUFBYyxRQUhsQjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxFQUFKLENBSmI7TUFLSSxRQUFBLEVBQVUsSUFMZDtNQU1JLFVBQUEsRUFBWTtRQUNSO1VBQ0ksTUFBQSxFQUFRLGVBRFo7VUFFSSxXQUFBLEVBQWEsSUFGakI7VUFHSSxVQUFBLEVBQVk7WUFDUjtjQUNJLE1BQUEsRUFBUSxXQURaO2NBRUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxvQ0FBUCxFQUE2QyxHQUE3QyxDQUZiO2FBRFEsRUFLUjtjQUNJLE1BQUEsRUFBUSxVQURaO2NBRUksT0FBQSxFQUFTLGdCQUZiO2NBR0ksT0FBQSxFQUFTLENBQUMsMENBQUQsRUFBNkMsR0FBN0MsRUFBa0QsR0FBbEQsRUFBdUQsR0FBQSxHQUFNLEdBQTdELENBSGI7Y0FJSSxRQUFBLEVBQVUsRUFKZDthQUxRLEVBV1I7Y0FDSSxNQUFBLEVBQVEsVUFEWjtjQUVJLE9BQUEsRUFBUyx3QkFGYjtjQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxHQUFKLEVBQVMsb0NBQVQsRUFBK0MsQ0FBL0MsQ0FIYjtjQUlJLFFBQUEsRUFBVSxFQUpkO2FBWFEsRUFpQlI7Y0FDSSxNQUFBLEVBQVEsU0FEWjtjQUVJLFFBQUEsRUFBVSxDQUFDLGVBQUQsQ0FGZDtjQUdJLFdBQUEsRUFB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QVksQ0FBQyxXQUFXLENBQUM7WUFBNUIsQ0FBRixDQUFiO1dBQXJFO1NBQWhDO09BTmQ7S0FEUTtHQUg4QiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLklucHV0TnVtYmVyQm94XCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMTBdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAwMCxcbiAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5XaW5kb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIk1BWCgkdGVtcEZpZWxkcy5kaWdpdHMgKiAxMTAsIDQ2MClcIiwgNDcwXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dTdWJQYW5lbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogW1wiTUFYKCR0ZW1wRmllbGRzLmRpZ2l0cyAqIDExMCwgNDYwKSAtIDEzMFwiLCAxODAsIDEzMCwgNDcwIC0gMTYwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dDb250ZW50U2VwYXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMTgwLCBcIk1BWCgkdGVtcEZpZWxkcy5kaWdpdHMgKiAxMTAsIDQ2MClcIiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJOdW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFsyMCwgMTVdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21wb25lbnRzXCI6IFt7IFwiaWRcIjogXCJudW1iZXJJbnB1dFwiLCBcInR5cGVcIjogXCJDb21wb25lbnRfTnVtYmVySW5wdXRcIiwgXCJwYXJhbXNcIjogeyBcImRpZ2l0c1wiOiAoJCAtPiAkdGVtcEZpZWxkcy5kaWdpdHMpIH0gfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwibnVtYmVyRmllbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFsxMiwgNTBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YUZpZWxkXCI6ICQgLT4gJHRlbXBGaWVsZHMuZGlnaXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogWzUsIDUsIDUsIDVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VcIjogXCJlbnRyeWJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJudW1iZXJJbnB1dEVudHJ5VGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkdyaWRMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJyb3dzXCI6IDQsXG4gICAgICAgICAgICAgICAgICAgIFwiY29sdW1uc1wiOiAzLFxuICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMzAsIDE4NV0sXG4gICAgICAgICAgICAgICAgICAgIFwiY2VsbFNwYWNpbmdcIjogWzAsIDAsIDQwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyXCIsIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IFwiMVwiLCBcIm51bWJlclwiOiAxLCBcInRhcmdldFwiOiAoJCAtPiAnbnVtYmVyRmllbGQubnVtYmVySW5wdXQnKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk51bWJlclwiLCBcInBhcmFtc1wiOiB7IFwidGV4dFwiOiBcIjJcIiwgXCJudW1iZXJcIjogMiwgXCJ0YXJnZXRcIjogKCQgLT4gJ251bWJlckZpZWxkLm51bWJlcklucHV0JykgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5OdW1iZXJcIiwgXCJwYXJhbXNcIjogeyBcInRleHRcIjogXCIzXCIsIFwibnVtYmVyXCI6IDMsIFwidGFyZ2V0XCI6ICgkIC0+ICdudW1iZXJGaWVsZC5udW1iZXJJbnB1dCcpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyXCIsIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IFwiNFwiLCBcIm51bWJlclwiOiA0LCBcInRhcmdldFwiOiAoJCAtPiAnbnVtYmVyRmllbGQubnVtYmVySW5wdXQnKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk51bWJlclwiLCBcInBhcmFtc1wiOiB7IFwidGV4dFwiOiBcIjVcIiwgXCJudW1iZXJcIjogNSwgXCJ0YXJnZXRcIjogKCQgLT4gJ251bWJlckZpZWxkLm51bWJlcklucHV0JykgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5OdW1iZXJcIiwgXCJwYXJhbXNcIjogeyBcInRleHRcIjogXCI2XCIsIFwibnVtYmVyXCI6IDYsIFwidGFyZ2V0XCI6ICgkIC0+ICdudW1iZXJGaWVsZC5udW1iZXJJbnB1dCcpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyXCIsIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IFwiN1wiLCBcIm51bWJlclwiOiA3LCBcInRhcmdldFwiOiAoJCAtPiAnbnVtYmVyRmllbGQubnVtYmVySW5wdXQnKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk51bWJlclwiLCBcInBhcmFtc1wiOiB7IFwidGV4dFwiOiBcIjhcIiwgXCJudW1iZXJcIjogOCwgXCJ0YXJnZXRcIjogKCQgLT4gJ251bWJlckZpZWxkLm51bWJlcklucHV0JykgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5OdW1iZXJcIiwgXCJwYXJhbXNcIjogeyBcInRleHRcIjogXCI5XCIsIFwibnVtYmVyXCI6IDksIFwidGFyZ2V0XCI6ICgkIC0+ICdudW1iZXJGaWVsZC5udW1iZXJJbnB1dCcpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyXCIsIFwicGFyYW1zXCI6IHsgXCJ0ZXh0XCI6IFwiMFwiLCBcIm51bWJlclwiOiAwLCBcInRhcmdldFwiOiAoJCAtPiAnbnVtYmVyRmllbGQubnVtYmVySW5wdXQnKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyQmFja3NwYWNlXCIsIFwicGFyYW1zXCI6IHsgXCJ0YXJnZXRcIjogKCQgLT4gJ251bWJlckZpZWxkLm51bWJlcklucHV0JykgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbXCIxMDAlIC0gMTIwXCIsIDI2MF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuTnVtYmVyQWNjZXB0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogW1wiMTAwJSAtIDEyMFwiLCAyMDBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXVxufVxuXG51aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5OdW1iZXJcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyYW1lXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwic2VsZWN0YWJsZVdpbmRvd1NoYWRvd1wiLFxuICAgICAgICAgICAgXCJpbWFnZXNcIjogW1wiXCIsIFwic2VsZWN0aW9uXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogNTAwMCxcbiAgICAgICAgICAgIFwicGFkZGluZ1wiOiBbLTE2LCAtMTYsIC0xNiwgLTE2XSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIDcwLCA3MF0sXG4gICAgICAgICAgICBcImFjdGlvbnNcIjogW3tcIm5hbWVcIjogXCJhY3Rpb25fYWRkTnVtYmVyXCIsIFwidGFyZ2V0XCI6ICgtPiBwLnRhcmdldCksIFwicGFyYW1zXCI6IHsgXCJudW1iZXJcIjogKC0+IHAubnVtYmVyKSB9IH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwibnVtYmVySW5wdXREaWdpdFRleHRcIixcbiAgICAgICAgICAgIFwidGV4dFwiOiAoLT4gcC50ZXh0KSxcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDUwMDBcbiAgICAgICAgfVxuICAgIF1cbn1cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLk51bWJlckJhY2tzcGFjZVwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICBcInRleHRcIjogXCJCYWNrXCIsXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MDAwLFxuICAgICAgICAgICAgXCJhY3Rpb25cIjoge1wibmFtZVwiOiBcImFjdGlvbl9yZW1vdmVOdW1iZXJcIiwgXCJ0YXJnZXRcIjogKC0+IHAudGFyZ2V0KSwgXCJwYXJhbXNcIjogeyBcIm51bWJlclwiOiAoLT4gcC5udW1iZXIpIH0gfVxuICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIF1cbn1cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLk51bWJlckFjY2VwdFwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICBcInRleHRcIjogXCJDb25maXJtXCIsXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MDAwLFxuICAgICAgICAgICAgXCJhY3Rpb25cIjoge1wibmFtZVwiOiBcImVtaXRFdmVudFwiLCBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcImFjY2VwdFwiLCBcInNvdXJjZVwiOiAoJCAtPiBvLnBhcmVudC5wYXJlbnQucGFyZW50KSwgXCJkYXRhXCI6IHsgXCJudW1iZXJcIjogKCQgLT4gJG51bWJlckZpZWxkLm51bWJlcklucHV0Lm51bWJlcikgfSB9IH1cbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_InputNumberBox_56.js
ui.UiFactory.customTypes["ui.InputTextBox"] = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.FreeLayout",
      "sizeToFit": true,
      "alignmentX": "center",
      "frame": [0, 10],
      "zIndex": 1000,
      "controls": [
        {
          "type": "ui.FreeLayout",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.Window",
              "frame": [0, 0, "MAX($tempFields.letters * 110, 900)", 490],
              "zIndex": 5
            }, {
              "type": "ui.Panel",
              "style": "windowSubPanel",
              "frame": ["MAX($tempFields.letters * 110, 900) - 130", 180, 130, 470 - 160],
              "zIndex": 10
            }, {
              "type": "ui.Panel",
              "color": [111, 111, 111],
              "frame": [0, 180, "MAX($tempFields.letters * 110, 900)", 1],
              "zIndex": 10
            }, {
              "type": "ui.Text",
              "styles": ["regularUIText"],
              "sizeToFit": true,
              "text": "Text Entry",
              "zIndex": 10,
              "frame": [20, 15]
            }, {
              "type": "ui.StackLayout",
              "components": [
                {
                  "id": "textInput",
                  "type": "Component_TextInput",
                  "params": {
                    "letters": $(function() {
                      return $tempFields.letters;
                    })
                  }
                }
              ],
              "sizeToFit": true,
              "id": "textField",
              "zIndex": 10,
              "alignmentX": "center",
              "frame": [12, 50],
              "dataField": $(function() {
                return $tempFields.letters;
              }),
              "template": {
                "type": "ui.FreeLayout",
                "margin": [5, 5, 5, 5],
                "sizeToFit": true,
                "controls": [
                  {
                    "type": "ui.Image",
                    "image": "entrybox"
                  }, {
                    "type": "ui.Text",
                    "frame": [0, 0],
                    "sizeToFit": true,
                    "alignmentX": "center",
                    "alignmentY": "center",
                    "color": [0, 0, 0, 0],
                    "style": "textInputEntryText",
                    "text": ""
                  }
                ]
              }
            }
          ]
        }, {
          "type": "ui.GridLayout",
          "sizeToFit": true,
          "id": "charPage1_1",
          "rows": 6,
          "order": 10,
          "columns": 5,
          "alignmentY": 0,
          "frame": [30, 185],
          "cellSpacing": [0, 0, 20, 0],
          "controls": $(function() {
            return $dataFields.textInputPages[0];
          })
        }, {
          "type": "ui.GridLayout",
          "id": "charPage1_2",
          "sizeToFit": true,
          "rows": 6,
          "columns": 5,
          "alignmentY": 0,
          "frame": [420, 185],
          "cellSpacing": [0, 0, 20, 0],
          "controls": $(function() {
            return $dataFields.textInputPages[1];
          })
        }, {
          "type": "ui.GridLayout",
          "sizeToFit": true,
          "id": "charPage2_1",
          "visible": false,
          "rows": 6,
          "order": 10,
          "columns": 5,
          "alignmentY": 0,
          "frame": [30, 185],
          "cellSpacing": [0, 0, 20, 0],
          "controls": $(function() {
            return $dataFields.textInputPages[2];
          })
        }, {
          "type": "ui.GridLayout",
          "id": "charPage2_2",
          "visible": false,
          "sizeToFit": true,
          "rows": 6,
          "columns": 5,
          "alignmentY": 0,
          "frame": [420, 185],
          "cellSpacing": [0, 0, 20, 0],
          "controls": $(function() {
            return $dataFields.textInputPages[3];
          })
        }, {
          "type": "ui.TextBackspace",
          "params": {
            "target": $(function() {
              return 'textField.textInput';
            })
          },
          "frame": ["100% - 120", 260]
        }, {
          "type": "ui.TextAccept",
          "frame": ["100% - 120", 200]
        }, {
          "type": "ui.Text",
          "sizeToFit": true,
          "styles": ["regularUIText"],
          "frame": ["100% - 120", 320],
          "text": "Page",
          "zIndex": 5000,
          "action": {
            "name": "executeFormulas",
            "params": [
              $(function() {
                return $charPage1_1.visible = !$charPage1_1.visible;
              }), $(function() {
                return $charPage1_2.visible = !$charPage1_2.visible;
              }), $(function() {
                return $charPage2_1.visible = !$charPage2_1.visible;
              }), $(function() {
                return $charPage2_2.visible = !$charPage2_2.visible;
              })
            ]
          }
        }
      ]
    }
  ]
};

ui.UiFactory.customTypes["ui.Letter"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Frame",
      "styles": ["selectableWindowShadow"],
      "zIndex": 5000,
      "padding": [-16, -16, -16, -16],
      "frame": [0, 0, 50, 50],
      "actions": [
        {
          "name": "action_addLetter",
          "target": (function() {
            return p.target;
          }),
          "params": {
            "letter": (function() {
              return p.text;
            })
          }
        }
      ]
    }, {
      "type": "ui.Text",
      "sizeToFit": true,
      "alignmentX": "center",
      "alignmentY": "center",
      "style": "textInputLetterText",
      "text": function() {
        return p.text;
      },
      "zIndex": 5000
    }
  ]
};

ui.UiFactory.customTypes["ui.TextBackspace"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Text",
      "sizeToFit": true,
      "styles": ["regularUIText"],
      "text": "Back",
      "zIndex": 5000,
      "action": {
        "name": "action_removeLetter",
        "target": (function() {
          return p.target;
        }),
        "params": {
          "letter": (function() {
            return p.text;
          })
        }
      }
    }
  ]
};

ui.UiFactory.customTypes["ui.TextAccept"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Text",
      "sizeToFit": true,
      "styles": ["regularUIText"],
      "text": "Confirm",
      "zIndex": 5000,
      "action": {
        "name": "emitEvent",
        "params": {
          "name": "accept",
          "source": $(function() {
            return o.parent.parent.parent;
          }),
          "data": {
            "text": $(function() {
              return $textField.textInput.text;
            })
          }
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGlCQUFBLENBQXpCLEdBQThDO0VBQzFDLE1BQUEsRUFBUSxlQURrQztFQUUxQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGaUM7RUFHMUMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLFdBQUEsRUFBYSxJQUZqQjtNQUdJLFlBQUEsRUFBYyxRQUhsQjtNQUlJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxFQUFKLENBSmI7TUFLSSxRQUFBLEVBQVUsSUFMZDtNQU1JLFVBQUEsRUFBWTtRQUNSO1VBQ0ksTUFBQSxFQUFRLGVBRFo7VUFFSSxXQUFBLEVBQWEsSUFGakI7VUFHSSxVQUFBLEVBQVk7WUFDUjtjQUNJLE1BQUEsRUFBUSxXQURaO2NBRUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxxQ0FBUCxFQUE4QyxHQUE5QyxDQUZiO2NBR0ksUUFBQSxFQUFVLENBSGQ7YUFEUSxFQU1SO2NBQ0ksTUFBQSxFQUFRLFVBRFo7Y0FFSSxPQUFBLEVBQVMsZ0JBRmI7Y0FHSSxPQUFBLEVBQVMsQ0FBQywyQ0FBRCxFQUE4QyxHQUE5QyxFQUFtRCxHQUFuRCxFQUF3RCxHQUFBLEdBQU0sR0FBOUQsQ0FIYjtjQUlJLFFBQUEsRUFBVSxFQUpkO2FBTlEsRUFZUjtjQUNJLE1BQUEsRUFBUSxVQURaO2NBRUksT0FBQSxFQUFTLENBQUMsR0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLENBRmI7Y0FHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksR0FBSixFQUFTLHFDQUFULEVBQWdELENBQWhELENBSGI7Y0FJSSxRQUFBLEVBQVUsRUFKZDthQVpRLEVBa0JSO2NBQ0ksTUFBQSxFQUFR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LEVBQVU7VUFBRSxNQUFBLEVBQVEsUUFBVjtVQUFvQixRQUFBLEVBQVcsQ0FBQSxDQUFFLFNBQUE7bUJBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7VUFBbkIsQ0FBRixDQUEvQjtVQUE2RCxNQUFBLEVBQVE7WUFBRSxNQUFBLEVBQVMsQ0FBQSxDQUFFLFNBQUE7cUJBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQztZQUF4QixDQUFGLENBQVg7V0FBckU7U0FBaEM7T0FOZDtLQURRO0dBSDRCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuSW5wdXRUZXh0Qm94XCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0XSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMTBdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAwMCxcbiAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5XaW5kb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIk1BWCgkdGVtcEZpZWxkcy5sZXR0ZXJzICogMTEwLCA5MDApXCIsIDQ5MF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogNVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5QYW5lbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dTdWJQYW5lbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogW1wiTUFYKCR0ZW1wRmllbGRzLmxldHRlcnMgKiAxMTAsIDkwMCkgLSAxMzBcIiwgMTgwLCAxMzAsIDQ3MCAtIDE2MF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuUGFuZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFsxMTEsIDExMSwgMTExXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFswLCAxODAsIFwiTUFYKCR0ZW1wRmllbGRzLmxldHRlcnMgKiAxMTAsIDkwMClcIiwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJUZXh0IEVudHJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMjAsIDE1XVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tcG9uZW50c1wiOiBbeyBcImlkXCI6IFwidGV4dElucHV0XCIsIFwidHlwZVwiOiBcIkNvbXBvbmVudF9UZXh0SW5wdXRcIiwgXCJwYXJhbXNcIjogeyBcImxldHRlcnNcIjogKCQgLT4gJHRlbXBGaWVsZHMubGV0dGVycykgfSB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJ0ZXh0RmllbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFsxMiwgNTBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YUZpZWxkXCI6ICQgLT4gJHRlbXBGaWVsZHMubGV0dGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFs1LCA1LCA1LCA1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlXCI6IFwiZW50cnlib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFswLCAwLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwidGV4dElucHV0RW50cnlUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5HcmlkTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJjaGFyUGFnZTFfMVwiLFxuICAgICAgICAgICAgICAgICAgICBcInJvd3NcIjogNixcbiAgICAgICAgICAgICAgICAgICAgXCJvcmRlclwiOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb2x1bW5zXCI6IDUsXG4gICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiAwLFxuICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFszMCwgMTg1XSxcbiAgICAgICAgICAgICAgICAgICAgXCJjZWxsU3BhY2luZ1wiOiBbMCwgMCwgMjAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6ICQgLT4gJGRhdGFGaWVsZHMudGV4dElucHV0UGFnZXNbMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuR3JpZExheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY2hhclBhZ2UxXzJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJyb3dzXCI6IDYsXG4gICAgICAgICAgICAgICAgICAgIFwiY29sdW1uc1wiOiA1LFxuICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogMCxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbNDIwLCAxODVdLFxuICAgICAgICAgICAgICAgICAgICBcImNlbGxTcGFjaW5nXCI6IFswLCAwLCAyMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjogJCAtPiAkZGF0YUZpZWxkcy50ZXh0SW5wdXRQYWdlc1sxXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5HcmlkTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJjaGFyUGFnZTJfMVwiLFxuICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwicm93c1wiOiA2LFxuICAgICAgICAgICAgICAgICAgICBcIm9yZGVyXCI6IDEwLFxuICAgICAgICAgICAgICAgICAgICBcImNvbHVtbnNcIjogNSxcbiAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzMwLCAxODVdLFxuICAgICAgICAgICAgICAgICAgICBcImNlbGxTcGFjaW5nXCI6IFswLCAwLCAyMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIFwiY29udHJvbHNcIjogJCAtPiAkZGF0YUZpZWxkcy50ZXh0SW5wdXRQYWdlc1syXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5HcmlkTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCJjaGFyUGFnZTJfMlwiLFxuICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwicm93c1wiOiA2LFxuICAgICAgICAgICAgICAgICAgICBcImNvbHVtbnNcIjogNSxcbiAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDAsXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzQyMCwgMTg1XSxcbiAgICAgICAgICAgICAgICAgICAgXCJjZWxsU3BhY2luZ1wiOiBbMCwgMCwgMjAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6ICQgLT4gJGRhdGFGaWVsZHMudGV4dElucHV0UGFnZXNbM11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dEJhY2tzcGFjZVwiLCBcInBhcmFtc1wiOiB7IFwidGFyZ2V0XCI6ICgkIC0+ICd0ZXh0RmllbGQudGV4dElucHV0JykgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbXCIxMDAlIC0gMTIwXCIsIDI2MF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dEFjY2VwdFwiLFxuICAgICAgICAgICAgICAgICAgICBcImZyYW1lXCI6IFtcIjEwMCUgLSAxMjBcIiwgMjAwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogW1wiMTAwJSAtIDEyMFwiLCAzMjBdLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDUwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IHtcIm5hbWVcIjogXCJleGVjdXRlRm9ybXVsYXNcIiwgXCJwYXJhbXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiAkY2hhclBhZ2UxXzEudmlzaWJsZSA9ICEkY2hhclBhZ2UxXzEudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiAkY2hhclBhZ2UxXzIudmlzaWJsZSA9ICEkY2hhclBhZ2UxXzIudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiAkY2hhclBhZ2UyXzEudmlzaWJsZSA9ICEkY2hhclBhZ2UyXzEudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiAkY2hhclBhZ2UyXzIudmlzaWJsZSA9ICEkY2hhclBhZ2UyXzIudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICBdIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdXG59XG5cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkxldHRlclwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJhbWVcIixcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInNlbGVjdGFibGVXaW5kb3dTaGFkb3dcIl0sXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MDAwLFxuICAgICAgICAgICAgXCJwYWRkaW5nXCI6IFstMTYsIC0xNiwgLTE2LCAtMTZdLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgNTAsIDUwXSxcbiAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbe1wibmFtZVwiOiBcImFjdGlvbl9hZGRMZXR0ZXJcIiwgXCJ0YXJnZXRcIjogKC0+IHAudGFyZ2V0KSwgXCJwYXJhbXNcIjogeyBcImxldHRlclwiOiAoLT4gcC50ZXh0KSB9IH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwidGV4dElucHV0TGV0dGVyVGV4dFwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IC0+IHAudGV4dFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogNTAwMFxuICAgICAgICB9XG4gICAgXVxufVxudWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuVGV4dEJhY2tzcGFjZVwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICBcInRleHRcIjogXCJCYWNrXCIsXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MDAwLFxuICAgICAgICAgICAgXCJhY3Rpb25cIjoge1wibmFtZVwiOiBcImFjdGlvbl9yZW1vdmVMZXR0ZXJcIiwgXCJ0YXJnZXRcIjogKC0+IHAudGFyZ2V0KSwgXCJwYXJhbXNcIjogeyBcImxldHRlclwiOiAoLT4gcC50ZXh0KSB9IH1cbiAgICAgICAgfVxuICAgIF1cbn1cbnVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLlRleHRBY2NlcHRcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJyZWd1bGFyVUlUZXh0XCJdLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiQ29uZmlybVwiLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogNTAwMCxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IHtcIm5hbWVcIjogXCJlbWl0RXZlbnRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJhY2NlcHRcIiwgXCJzb3VyY2VcIjogKCQgLT4gby5wYXJlbnQucGFyZW50LnBhcmVudCksIFwiZGF0YVwiOiB7IFwidGV4dFwiOiAoJCAtPiAkdGV4dEZpZWxkLnRleHRJbnB1dC50ZXh0KSB9IH0gfVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_InputTextBox_64.js
ui.UiFactory.customTypes["ui.FreeChoiceBox"] = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.StackLayout",
      "sizeToFit": true,
      "alignmentX": 1,
      "alignmentY": 0,
      "visible": false,
      "formulas": [
        $(function() {
          return o.visible = $tempFields.choiceTimer.behavior.isRunning && $tempFields.choiceTimerVisible;
        })
      ],
      "controls": [
        {
          "type": "ui.Text",
          "style": "choiceTimerText",
          "format": "%02d",
          "sizeToFit": true,
          "updateBehavior": "continuous",
          "formulas": [
            $(function() {
              return o.text = $tempFields.choiceTimer.behavior.minutes;
            })
          ],
          "text": ""
        }, {
          "type": "ui.Text",
          "sizeToFit": true,
          "style": "choiceTimerText",
          "text": ":"
        }, {
          "type": "ui.Text",
          "style": "choiceTimerText",
          "sizeToFit": true,
          "format": "%02d",
          "updateBehavior": "continuous",
          "id": "seconds",
          "formulas": [
            $(function() {
              return o.text = $tempFields.choiceTimer.behavior.seconds;
            })
          ],
          "text": ""
        }
      ]
    }, {
      "type": "ui.FreeLayout",
      "frame": [0, 0, Graphics.width, Graphics.height],
      "dataField": $(function() {
        return $tempFields.choices;
      }),
      "template": {
        "type": "ui.FreeLayout",
        "controls": [
          {
            "type": "ui.SelectableWindow",
            "frame": [0, 0, "100%", "100%"],
            "params": {
              "action": {
                "name": "emitEvent",
                "params": {
                  "name": "selectionAccept",
                  "source": $(function() {
                    return o.parent.parent.parent.parent;
                  }),
                  "data": $(function() {
                    return $tempFields.choices[o.parent.parent.index];
                  })
                }
              }
            },
            "zIndex": 4999
          }, {
            "type": "ui.Text",
            "sizeToFit": true,
            "styles": ["regularUIText"],
            "alignmentX": 1,
            "alignmentY": 1,
            "frame": [0, 0],
            "formulas": [
              $(function() {
                return o.text = $tempFields.choices[o.parent.index].text;
              })
            ],
            "zIndex": 5100
          }
        ]
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGtCQUFBLENBQXpCLEdBQStDO0VBQzNDLE1BQUEsRUFBUSxlQURtQztFQUUzQyxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGa0M7RUFHM0MsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsZ0JBRFo7TUFFSSxXQUFBLEVBQWEsSUFGakI7TUFHSSxZQUFBLEVBQWMsQ0FIbEI7TUFJSSxZQUFBLEVBQWMsQ0FKbEI7TUFLSSxTQUFBLEVBQVcsS0FMZjtNQU1JLFVBQUEsRUFBWTtRQUFDLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxPQUFGLEdBQVksV0FBVyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsU0FBakMsSUFBK0MsV0FBVyxDQUFDO1FBQTFFLENBQUYsQ0FBRDtPQU5oQjtNQU9JLFVBQUEsRUFBWTtRQUNSO1VBQ0ksTUFBQSxFQUFRLFNBRFo7VUFFSSxPQUFBLEVBQVMsaUJBRmI7VUFHSSxRQUFBLEVBQVUsTUFIZDtVQUlJLFdBQUEsRUFBYSxJQUpqQjtVQUtJLGdCQUFBLEVBQWtCLFlBTHRCO1VBTUksVUFBQSxFQUFZO1lBQUMsQ0FBQSxDQUFFLFNBQUE7cUJBQUcsQ0FBQyxDQUFDLElBQUYsR0FBUyxXQUFXLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQztZQUE3QyxDQUFGLENBQUQ7V0FOaEI7VUFPSSxNQUFBLEVBQVEsRUFQWjtTQURRLEVBVVI7VUFDSSxNQUFBLEVBQVEsU0FEWjtVQUVJLFdBQUEsRUFBYSxJQUZqQjtVQUdJLE9BQUEsRUFBUyxpQkFIYjtVQUlJLE1BQUEsRUFBUSxHQUpaO1NBVlEsRUFnQlI7VUFDSSxNQUFBLEVBQVEsU0FEWjtVQUVJLE9BQUEsRUFBUyxpQkFGYjtVQUdJLFdBQUEsRUFBYSxJQUhqQjtVQUlJLFFBQUEsRUFBVSxNQUpkO1VBS0ksZ0JBQUEsRUFBa0IsWUFMdEI7VUFNSSxJQUFBLEVBQU0sU0FOVjtVQU9JLFVBQUEsRUFBWTtZQUFDLENBQUEsQ0FBRSxTQUFBO3FCQUFHLENBQUMsQ0FBQyxJQUFGLEdBQVMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUM7WUFBN0MsQ0FBRixDQUFEO1dBUGhCO1VBUUksTUFBQSxFQUFRLEVBUlo7U0FoQlE7T0FQaEI7S0FEUSxFQW9DUjtNQUNJLE1BQUEsRUFBUSxlQURaO01BRUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBaEIsRUFBdUIsUUFBUSxDQUFDLE1BQWhDLENBRmI7TUFHSSxXQUFBLEVBQWMsQ0FBQSxDQUFFLFNBQUE7ZUFBRyxXQUFXLENBQUM7TUFBZixDQUFGLENBSGxCO01BSUksVUFBQSxFQUFZO1FBQ1IsTUFBQSxFQUFRLGVBREE7UUFFUixVQUFBLEVBQVc7VUFDUDtZQUNJLE1BQUEsRUFBUSxxQkFEWjtZQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FGYjtZQUlJLFFBQUEsRUFBVTtjQUNOLFFBQUEsRUFBVTtnQkFBQyxNQUFBLEVBQVEsV0FBVDtnQkFBc0IsUUFBQSxFQUFVO2tCQUFFLE1BQUEsRUFBUSxpQkFBVjtrQkFBNkIsUUFBQSxFQUFXLENBQUEsQ0FBRSxTQUFBOzJCQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztrQkFBMUIsQ0FBRixDQUF4QztrQkFBNkUsTUFBQSxFQUFTLENBQUEsQ0FBRSxTQUFBOzJCQUFHLFdBQVcsQ0FBQyxPQUFRLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBaEI7a0JBQXZCLENBQUYsQ0FBdEY7aUJBQWhDO2VBREo7YUFKZDtZQU9JLFFBQUEsRUFBVSxJQVBkO1dBRE8sRUFVUDtZQUNJLE1BQUEsRUFBUSxTQURaO1lBRUksV0FBQSxFQUFhLElBRmpCO1lBR0ksUUFBQSxFQUFVLENBQUMsZUFBRCxDQUhkO1lBSUksWUFBQSxFQUFjLENBSmxCO1lBS0ksWUFBQSxFQUFjLENBTGxCO1lBTUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FOYjtZQU9JLFVBQUEsRUFBWTtjQUFDLENBQUEsQ0FBRSxTQUFBO3VCQUFHLENBQUMsQ0FBQyxJQUFGLEdBQVMsV0FBVyxDQUFDLE9BQVEsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQVQsQ0FBZSxDQUFDO2NBQWhELENBQUYsQ0FBRDthQVBoQjtZQVFJLFFBQUEsRUFBVSxJQVJkO1dBVk87U0FGSDtPQUpoQjtLQXBDUTtHQUgrQiIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkZyZWVDaG9pY2VCb3hcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiAxLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDAsXG4gICAgICAgICAgICBcInZpc2libGVcIjogbm8sXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udmlzaWJsZSA9ICR0ZW1wRmllbGRzLmNob2ljZVRpbWVyLmJlaGF2aW9yLmlzUnVubmluZyBhbmQgJHRlbXBGaWVsZHMuY2hvaWNlVGltZXJWaXNpYmxlXSxcbiAgICAgICAgICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwiY2hvaWNlVGltZXJUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0XCI6IFwiJTAyZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcInVwZGF0ZUJlaGF2aW9yXCI6IFwiY29udGludW91c1wiLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udGV4dCA9ICR0ZW1wRmllbGRzLmNob2ljZVRpbWVyLmJlaGF2aW9yLm1pbnV0ZXNdLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJjaG9pY2VUaW1lclRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiOlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzdHlsZVwiOiBcImNob2ljZVRpbWVyVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1hdFwiOiBcIiUwMmRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1cGRhdGVCZWhhdmlvclwiOiBcImNvbnRpbnVvdXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcInNlY29uZHNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbJCAtPiBvLnRleHQgPSAkdGVtcEZpZWxkcy5jaG9pY2VUaW1lci5iZWhhdmlvci5zZWNvbmRzXSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgICAgICAgICAgXCJkYXRhRmllbGRcIjogKCQgLT4gJHRlbXBGaWVsZHMuY2hvaWNlcyksXG4gICAgICAgICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOltcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2VsZWN0YWJsZVdpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IHtcIm5hbWVcIjogXCJlbWl0RXZlbnRcIiwgXCJwYXJhbXNcIjogeyBcIm5hbWVcIjogXCJzZWxlY3Rpb25BY2NlcHRcIiwgXCJzb3VyY2VcIjogKCQgLT4gby5wYXJlbnQucGFyZW50LnBhcmVudC5wYXJlbnQpLCBcImRhdGFcIjogKCQgLT4gJHRlbXBGaWVsZHMuY2hvaWNlc1tvLnBhcmVudC5wYXJlbnQuaW5kZXhdKSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDQ5OTlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udGV4dCA9ICR0ZW1wRmllbGRzLmNob2ljZXNbby5wYXJlbnQuaW5kZXhdLnRleHRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogNTEwMFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgXVxufSJdfQ==
//# sourceURL=Template_FreeChoiceBox_73.js
ui.UiFactory.customTypes["ui.Slider"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "color": [131, 131, 131, 131],
      "type": "ui.Panel",
      "frame": [0, 0, "100% - 50", gs.UIConstants.SLIDER_TRACK_H],
      "alignmentY": "center"
    }, {
      "style": "sliderKnob",
      "focusable": true,
      "type": "ui.Image",
      "frame": [0, 0],
      "alignmentY": "center",
      "draggable": {
        "rect": [0, 0, 100, gs.UIConstants.OPTION_BUTTON_H],
        "axisX": true,
        "axisY": false
      },
      "formulas": [
        $(function() {
          return o.draggable.rect.width = o.parent.subObjects[0].dstRect.width;
        }), $(function() {
          if (this.onChange(o.parent.params.read.exec())) {
            return o.parent.controls[1].dstRect.x = Math.round((o.parent.controls[1].draggable.rect.width - o.parent.controls[1].dstRect.width) / o.parent.params.max * o.parent.params.read.exec() + o.parent.controls[1].draggable.rect.x);
          }
        }), $(function() {
          if (this.onChange(o.parent.controls[1].dstRect.x)) {
            return o.parent.params.write.exec(Math.round(o.parent.params.max / (o.parent.controls[1].draggable.rect.width - o.parent.controls[1].dstRect.width) * (o.parent.controls[1].dstRect.x - o.parent.controls[1].draggable.rect.x)));
          }
        }), $((function() {
          return o.parent.subObjects[2].text = o.parent.params.read.exec();
        }))
      ]
    }, {
      "type": "ui.Text",
      "color": [255, 255, 255],
      "frame": [0, 0],
      "style": "smallUIText",
      "alignmentX": "right",
      "alignmentY": "center",
      "format": "%s%",
      "text": "Hello",
      "sizeToFit": true
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLFdBQUEsQ0FBekIsR0FBd0M7RUFDcEMsTUFBQSxFQUFRLGVBRDRCO0VBRXBDLFdBQUEsRUFBYSxJQUZ1QjtFQUdwQyxVQUFBLEVBQVk7SUFDUjtNQUNJLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixDQURiO01BRUksTUFBQSxFQUFRLFVBRlo7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFdBQVAsRUFBb0IsRUFBRSxDQUFDLFdBQVcsQ0FBQyxjQUFuQyxDQUhiO01BSUksWUFBQSxFQUFjLFFBSmxCO0tBRFEsRUFPUjtNQUNJLE9BQUEsRUFBUyxZQURiO01BRUksV0FBQSxFQUFhLElBRmpCO01BR0ksTUFBQSxFQUFRLFVBSFo7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUpiO01BS0ksWUFBQSxFQUFjLFFBTGxCO01BTUksV0FBQSxFQUFhO1FBQUUsTUFBQSxFQUFRLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxHQUFQLEVBQVksRUFBRSxDQUFDLFdBQVcsQ0FBQyxlQUEzQixDQUFWO1FBQXVELE9BQUEsRUFBUyxJQUFoRTtRQUFzRSxPQUFBLEVBQVMsS0FBL0U7T0FOakI7TUFPSSxVQUFBLEVBQVk7UUFDUCxDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFqQixHQUF5QixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVcsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUM7UUFBM0QsQ0FBRixDQURPLEVBRVAsQ0FBQSxDQUFFLFNBQUE7VUFBRyxJQUFHLElBQUMsQ0FBQSxRQUFELENBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQXJCLENBQUEsQ0FBVixDQUFIO21CQUE4QyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBN0IsR0FBaUMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBcEMsR0FBMEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLEtBQXhFLENBQUEsR0FBaUYsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBakcsR0FBdUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQXJCLENBQUEsQ0FBdkcsR0FBcUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFwTCxFQUEvRTs7UUFBSCxDQUFGLENBRk8sRUFHUCxDQUFBLENBQUUsU0FBQTtVQUFHLElBQUcsSUFBQyxDQUFBLFFBQUQsQ0FBVSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBdkMsQ0FBSDttQkFBaUQsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQXRCLENBQTJCLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBaEIsR0FBc0IsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQXBDLEdBQTBDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxLQUF4RSxDQUF0QixHQUF1RyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxDQUE3QixHQUErQixDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQXBFLENBQWxILENBQTNCLEVBQWpEOztRQUFILENBQUYsQ0FITyxFQUlQLENBQUEsQ0FBRSxDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFXLENBQUEsQ0FBQSxDQUFFLENBQUMsSUFBdkIsR0FBOEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQXJCLENBQUE7UUFBakMsQ0FBRCxDQUFGLENBSk87T0FQaEI7S0FQUSxFQXFCUjtNQUNJLE1BQUEsRUFBUSxTQURaO01BRUksT0FBQSxFQUFTLENBQUMsR0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLENBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUhiO01BSUksT0FBQSxFQUFTLGFBSmI7TUFLSSxZQUFBLEVBQWMsT0FMbEI7TUFNSSxZQUFBLEVBQWMsUUFObEI7TUFPSSxRQUFBLEVBQVUsS0FQZDtNQVFJLE1BQUEsRUFBUSxPQVJaO01BU0ksV0FBQSxFQUFhLElBVGpCO0tBckJRO0dBSHdCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuU2xpZGVyXCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcImNvbG9yXCI6IFsxMzEsIDEzMSwgMTMxLCAxMzFdLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuUGFuZWxcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJSAtIDUwXCIsIGdzLlVJQ29uc3RhbnRzLlNMSURFUl9UUkFDS19IXSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJzbGlkZXJLbm9iXCIsXG4gICAgICAgICAgICBcImZvY3VzYWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBcImRyYWdnYWJsZVwiOiB7IFwicmVjdFwiOiBbMCwgMCwgMTAwLCBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0hdLCBcImF4aXNYXCI6IHRydWUsIFwiYXhpc1lcIjogZmFsc2UgfSxcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICgkIC0+IG8uZHJhZ2dhYmxlLnJlY3Qud2lkdGggPSBvLnBhcmVudC5zdWJPYmplY3RzWzBdLmRzdFJlY3Qud2lkdGgpLFxuICAgICAgICAgICAgICAgICgkIC0+IGlmIEBvbkNoYW5nZSBvLnBhcmVudC5wYXJhbXMucmVhZC5leGVjKCkgdGhlbiBvLnBhcmVudC5jb250cm9sc1sxXS5kc3RSZWN0LnggPSBNYXRoLnJvdW5kKChvLnBhcmVudC5jb250cm9sc1sxXS5kcmFnZ2FibGUucmVjdC53aWR0aC1vLnBhcmVudC5jb250cm9sc1sxXS5kc3RSZWN0LndpZHRoKSAvIG8ucGFyZW50LnBhcmFtcy5tYXggKiBvLnBhcmVudC5wYXJhbXMucmVhZC5leGVjKCkgKyBvLnBhcmVudC5jb250cm9sc1sxXS5kcmFnZ2FibGUucmVjdC54KSksXG4gICAgICAgICAgICAgICAgKCQgLT4gaWYgQG9uQ2hhbmdlIG8ucGFyZW50LmNvbnRyb2xzWzFdLmRzdFJlY3QueCB0aGVuIG8ucGFyZW50LnBhcmFtcy53cml0ZS5leGVjKE1hdGgucm91bmQoby5wYXJlbnQucGFyYW1zLm1heCAvIChvLnBhcmVudC5jb250cm9sc1sxXS5kcmFnZ2FibGUucmVjdC53aWR0aC1vLnBhcmVudC5jb250cm9sc1sxXS5kc3RSZWN0LndpZHRoKSAqIChvLnBhcmVudC5jb250cm9sc1sxXS5kc3RSZWN0Lngtby5wYXJlbnQuY29udHJvbHNbMV0uZHJhZ2dhYmxlLnJlY3QueCkpKSksXG4gICAgICAgICAgICAgICAgKCQgKC0+IG8ucGFyZW50LnN1Yk9iamVjdHNbMl0udGV4dCA9IG8ucGFyZW50LnBhcmFtcy5yZWFkLmV4ZWMoKSkpXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwic21hbGxVSVRleHRcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiZm9ybWF0XCI6IFwiJXMlXCJcbiAgICAgICAgICAgIFwidGV4dFwiOiBcIkhlbGxvXCIsXG4gICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_Slider_84.js
ui.UiFactory.customTypes["ui.OptionButton"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Image",
      "imageHandling": 0,
      "selectable": true,
      "group": function() {
        return p.group;
      },
      "style": "optionButton",
      "action": function() {
        return p.action;
      },
      "formulas": [
        $((function() {
          if (this.onInitialize) {
            return o.ui.selected = this.data.read.exec();
          }
        }), {
          read: (function() {
            return p.read;
          })
        }), $((function() {
          return this.data.write.exec(o.ui.selected);
        }), {
          write: (function() {
            return p.write;
          })
        })
      ],
      "margin": [0, 0, 10, 0]
    }, {
      "type": "ui.Text",
      "id": "mybtn",
      "color": [255, 255, 255],
      "formatting": true,
      "style": "smallUIText",
      "alignmentY": "center",
      "text": function() {
        return p.label;
      },
      "frame": [0, 0],
      "sizeToFit": true
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGlCQUFBLENBQXpCLEdBQThDO0VBQzFDLE1BQUEsRUFBUSxnQkFEa0M7RUFFMUMsV0FBQSxFQUFhLElBRjZCO0VBRzFDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxlQUFBLEVBQWlCLENBRnJCO01BR0ksWUFBQSxFQUFjLElBSGxCO01BSUksT0FBQSxFQUFTLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQUpiO01BS0ksT0FBQSxFQUFTLGNBTGI7TUFNSSxRQUFBLEVBQVUsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBTmQ7TUFPSSxVQUFBLEVBQVk7UUFDUixDQUFBLENBQUUsQ0FBQyxTQUFBO1VBQUcsSUFBRyxJQUFDLENBQUEsWUFBSjttQkFBc0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFMLEdBQWdCLElBQUMsQ0FBQSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQVgsQ0FBQSxFQUF0Qzs7UUFBSCxDQUFELENBQUYsRUFBZ0U7VUFBQSxJQUFBLEVBQU0sQ0FBQyxTQUFBO21CQUFHLENBQUMsQ0FBQztVQUFMLENBQUQsQ0FBTjtTQUFoRSxDQURRLEVBRVIsQ0FBQSxDQUFFLENBQUMsU0FBQTtpQkFDQyxJQUFDLENBQUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFaLENBQWlCLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBdEI7UUFERCxDQUFELENBQUYsRUFFRztVQUFBLEtBQUEsRUFBTyxDQUFDLFNBQUE7bUJBQUcsQ0FBQyxDQUFDO1VBQUwsQ0FBRCxDQUFQO1NBRkgsQ0FGUTtPQVBoQjtNQWFJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLENBQVgsQ0FiZDtLQURRLEVBZ0JSO01BQ0ksTUFBQSxFQUFRLFNBRFo7TUFFSSxJQUFBLEVBQU0sT0FGVjtNQUdJLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxDQUhiO01BSUksWUFBQSxFQUFjLElBSmxCO01BS0ksT0FBQSxFQUFTLGFBTGI7TUFNSSxZQUFBLEVBQWMsUUFObEI7TUFPSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBUFo7TUFRSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQVJiO01BU0ksV0FBQSxFQUFhLElBVGpCO0tBaEJRO0dBSDhCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuT3B0aW9uQnV0dG9uXCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLlN0YWNrTGF5b3V0XCIsXG4gICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwiaW1hZ2VIYW5kbGluZ1wiOiAwLFxuICAgICAgICAgICAgXCJzZWxlY3RhYmxlXCI6IHllcyxcbiAgICAgICAgICAgIFwiZ3JvdXBcIjogLT4gcC5ncm91cCxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJvcHRpb25CdXR0b25cIixcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IC0+IHAuYWN0aW9uLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAoLT4gaWYgQG9uSW5pdGlhbGl6ZSB0aGVuIG8udWkuc2VsZWN0ZWQgPSBAZGF0YS5yZWFkLmV4ZWMoKSksIHJlYWQ6ICgtPiBwLnJlYWQpXG4gICAgICAgICAgICAgICAgJCAoLT4gXG4gICAgICAgICAgICAgICAgICAgIEBkYXRhLndyaXRlLmV4ZWMoby51aS5zZWxlY3RlZClcbiAgICAgICAgICAgICAgICApLCB3cml0ZTogKC0+IHAud3JpdGUpIywgXCJvbkFjdGlvblwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDEwLCAwXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICBcImlkXCI6IFwibXlidG5cIixcbiAgICAgICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgXCJmb3JtYXR0aW5nXCI6IHRydWUsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwic21hbGxVSVRleHRcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IC0+IHAubGFiZWwsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWVcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_OptionButton_90.js
ui.UiFactory.customTypes["ui.OptionButtonSet"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.OptionButton",
      "params": {
        "label": (function() {
          return p.offLabel;
        }),
        "action": (function() {
          return p.offAction;
        }),
        "read": $((function() {
          return !this.data.exec();
        }), (function() {
          return p.read;
        })),
        "write": $((function(v) {
          return this.data.exec(!v);
        }), (function() {
          return p.write;
        })),
        "group": (function() {
          return p.group;
        })
      },
      "margin": [0, 0, 0, 0]
    }, {
      "type": "ui.OptionButton",
      "params": {
        "label": (function() {
          return p.onLabel;
        }),
        "action": (function() {
          return p.onAction;
        }),
        "read": $((function() {
          return this.data.exec();
        }), (function() {
          return p.read;
        })),
        "write": $((function(v) {
          return this.data.exec(v);
        }), (function() {
          return p.write;
        })),
        "group": (function() {
          return p.group;
        })
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLG9CQUFBLENBQXpCLEdBQWlEO0VBQzdDLE1BQUEsRUFBUSxnQkFEcUM7RUFFN0MsV0FBQSxFQUFhLElBRmdDO0VBRzdDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLGlCQURaO01BRUksUUFBQSxFQUFVO1FBQ04sT0FBQSxFQUFTLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBREg7UUFFTixRQUFBLEVBQVUsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FGSjtRQUdOLE1BQUEsRUFBUyxDQUFBLENBQUUsQ0FBQyxTQUFBO2lCQUFHLENBQUMsSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQUE7UUFBSixDQUFELENBQUYsRUFBc0IsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FBdEIsQ0FISDtRQUlOLE9BQUEsRUFBVSxDQUFBLENBQUUsQ0FBQyxTQUFDLENBQUQ7aUJBQU8sSUFBQyxDQUFBLElBQUksQ0FBQyxJQUFOLENBQVcsQ0FBQyxDQUFaO1FBQVAsQ0FBRCxDQUFGLEVBQTJCLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBQTNCLENBSko7UUFLTixPQUFBLEVBQVMsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FMSDtPQUZkO01BU0ksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixDQVRkO0tBRFEsRUFZUjtNQUNJLE1BQUEsRUFBUSxpQkFEWjtNQUVJLFFBQUEsRUFBVTtRQUNOLE9BQUEsRUFBUyxDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FBRCxDQURIO1FBRU4sUUFBQSxFQUFVLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBRko7UUFHTixNQUFBLEVBQVMsQ0FBQSxDQUFFLENBQUMsU0FBQTtpQkFBRyxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBQTtRQUFILENBQUQsQ0FBRixFQUFxQixDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FBRCxDQUFyQixDQUhIO1FBSU4sT0FBQSxFQUFVLENBQUEsQ0FBRSxDQUFDLFNBQUMsQ0FBRDtpQkFBTyxJQUFDLENBQUEsSUFBSSxDQUFDLElBQU4sQ0FBVyxDQUFYO1FBQVAsQ0FBRCxDQUFGLEVBQTBCLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBQTFCLENBSko7UUFLTixPQUFBLEVBQVMsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FMSDtPQUZkO0tBWlE7R0FIaUMiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5PcHRpb25CdXR0b25TZXRcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5PcHRpb25CdXR0b25cIixcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXG4gICAgICAgICAgICAgICAgXCJsYWJlbFwiOiAoLT4gcC5vZmZMYWJlbCksIFxuICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6ICgtPiBwLm9mZkFjdGlvbiksIFxuICAgICAgICAgICAgICAgIFwicmVhZFwiOiAoJCAoLT4gIUBkYXRhLmV4ZWMoKSksICgtPiBwLnJlYWQpKSxcbiAgICAgICAgICAgICAgICBcIndyaXRlXCI6ICgkICgodikgLT4gQGRhdGEuZXhlYyghdikpLCAoLT4gcC53cml0ZSkpLFxuICAgICAgICAgICAgICAgIFwiZ3JvdXBcIjogKC0+IHAuZ3JvdXApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDAsIDBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk9wdGlvbkJ1dHRvblwiLFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICBcImxhYmVsXCI6ICgtPiBwLm9uTGFiZWwpLCBcbiAgICAgICAgICAgICAgICBcImFjdGlvblwiOiAoLT4gcC5vbkFjdGlvbiksIFxuICAgICAgICAgICAgICAgIFwicmVhZFwiOiAoJCAoLT4gQGRhdGEuZXhlYygpKSwgKC0+IHAucmVhZCkpLFxuICAgICAgICAgICAgICAgIFwid3JpdGVcIjogKCQgKCh2KSAtPiBAZGF0YS5leGVjKHYpKSwgKC0+IHAud3JpdGUpKSxcbiAgICAgICAgICAgICAgICBcImdyb3VwXCI6ICgtPiBwLmdyb3VwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_OptionButtonSet_94.js
ui.UiFactory.customTypes["ui.Window"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.Frame",
      "image": "dropshadow",
      "style": "windowShadow",
      "frame": [0, 0, "100%", "100%"],
      "zIndex": 0,
      "order": 0
    }, {
      "type": "ui.Image",
      "style": "windowTilePattern",
      "frame": [0, 0, "100%", "100%"],
      "opacity": function() {
        var ref;
        return (ref = p.backgroundOpacity) != null ? ref : 255;
      },
      "zIndex": 1,
      "order": 1
    }, {
      "type": "ui.Image",
      "style": "windowStretchPattern",
      "frame": [0, 0, "100%", "100%"],
      "opacity": function() {
        var ref;
        return (ref = p.backgroundOpacity) != null ? ref : 255;
      },
      "zIndex": 2,
      "order": 2
    }, {
      "type": "ui.Frame",
      "style": "windowFrame",
      "frame": [0, 0, "100%", "100%"],
      "zIndex": 3,
      "order": 3,
      "action": function() {
        return p.action;
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLFdBQUEsQ0FBekIsR0FBd0M7RUFDcEMsTUFBQSxFQUFRLGVBRDRCO0VBRXBDLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsWUFGYjtNQUdJLE9BQUEsRUFBUyxjQUhiO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQUpiO01BS0ksUUFBQSxFQUFVLENBTGQ7TUFNSSxPQUFBLEVBQVMsQ0FOYjtLQURRLEVBU1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxtQkFGYjtNQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FIYjtNQUlJLFNBQUEsRUFBVyxTQUFBO0FBQUcsWUFBQTsyREFBc0I7TUFBekIsQ0FKZjtNQUtJLFFBQUEsRUFBVSxDQUxkO01BTUksT0FBQSxFQUFTLENBTmI7S0FUUSxFQWlCUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLHNCQUZiO01BR0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQUhiO01BSUksU0FBQSxFQUFXLFNBQUE7QUFBRyxZQUFBOzJEQUFzQjtNQUF6QixDQUpmO01BS0ksUUFBQSxFQUFVLENBTGQ7TUFNSSxPQUFBLEVBQVMsQ0FOYjtLQWpCUSxFQXlCUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLGFBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7TUFJSSxRQUFBLEVBQVUsQ0FKZDtNQUtJLE9BQUEsRUFBUyxDQUxiO01BTUksUUFBQSxFQUFVLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQU5kO0tBekJRO0dBRndCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuV2luZG93XCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJhbWVcIixcbiAgICAgICAgICAgIFwiaW1hZ2VcIjogXCJkcm9wc2hhZG93XCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwid2luZG93U2hhZG93XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIjEwMCVcIiwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMCxcbiAgICAgICAgICAgIFwib3JkZXJcIjogMCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dUaWxlUGF0dGVyblwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwib3BhY2l0eVwiOiAtPiBwLmJhY2tncm91bmRPcGFjaXR5ID8gMjU1LFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMSxcbiAgICAgICAgICAgIFwib3JkZXJcIjogMSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dTdHJldGNoUGF0dGVyblwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwib3BhY2l0eVwiOiAtPiBwLmJhY2tncm91bmRPcGFjaXR5ID8gMjU1LFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMixcbiAgICAgICAgICAgIFwib3JkZXJcIjogMlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmFtZVwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcIndpbmRvd0ZyYW1lXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIjEwMCVcIiwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMyxcbiAgICAgICAgICAgIFwib3JkZXJcIjogMyxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IC0+IHAuYWN0aW9uXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_Window_103.js
ui.UiFactory.customTypes["ui.TitledWindow"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.Frame",
      "style": "windowShadow",
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.Image",
      "style": "windowTilePattern",
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.Image",
      "style": "windowStretchPattern",
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.Frame",
      "style": "windowFrame",
      "frame": [0, 0, "100%", "100%"]
    }, {
      "type": "ui.Text",
      "text": function() {
        return p.title;
      },
      "style": "smallUIText",
      "frame": [10, 10],
      "sizeToFit": true
    }, {
      "type": "ui.Panel",
      "style": "windowContentSeparator",
      "frame": [0, 45, "100%", 1]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGlCQUFBLENBQXpCLEdBQThDO0VBQzFDLE1BQUEsRUFBUSxlQURrQztFQUUxQyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLGNBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7S0FEUSxFQU1SO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsbUJBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7S0FOUSxFQVdSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsc0JBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7S0FYUSxFQWdCUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLGFBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7S0FoQlEsRUFxQlI7TUFDSSxNQUFBLEVBQVEsU0FEWjtNQUVJLE1BQUEsRUFBUSxTQUFBO2VBQUcsQ0FBQyxDQUFDO01BQUwsQ0FGWjtNQUdJLE9BQUEsRUFBUyxhQUhiO01BSUksT0FBQSxFQUFTLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FKYjtNQUtJLFdBQUEsRUFBYSxJQUxqQjtLQXJCUSxFQTRCUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLHdCQUZiO01BR0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLEVBQUosRUFBUSxNQUFSLEVBQWdCLENBQWhCLENBSGI7S0E1QlE7R0FGOEIiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5UaXRsZWRXaW5kb3dcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmFtZVwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcIndpbmRvd1NoYWRvd1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dUaWxlUGF0dGVyblwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcIndpbmRvd1N0cmV0Y2hQYXR0ZXJuXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIjEwMCVcIiwgXCIxMDAlXCJdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyYW1lXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwid2luZG93RnJhbWVcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJVwiLCBcIjEwMCVcIl1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IC0+IHAudGl0bGUsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwic21hbGxVSVRleHRcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzEwLCAxMF0sXG4gICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwid2luZG93Q29udGVudFNlcGFyYXRvclwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgNDUsIFwiMTAwJVwiLCAxXVxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_TitledWindow_110.js
ui.UiFactory.customTypes["ui.ChoiceBox"] = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "controls": [
    {
      "type": "ui.StackLayout",
      "sizeToFit": true,
      "alignmentX": 1,
      "alignmentY": 0,
      "visible": false,
      "formulas": [
        $(function() {
          return o.visible = $tempFields.choiceTimer.behavior.isRunning && $tempFields.choiceTimerVisible;
        })
      ],
      "controls": [
        {
          "type": "ui.Text",
          "style": "choiceTimerText",
          "format": "%02d",
          "sizeToFit": true,
          "updateBehavior": "continuous",
          "formulas": [
            $(function() {
              return o.text = $tempFields.choiceTimer.behavior.minutes;
            })
          ],
          "text": ""
        }, {
          "type": "ui.Text",
          "sizeToFit": true,
          "style": "choiceTimerText",
          "text": ":"
        }, {
          "type": "ui.Text",
          "style": "choiceTimerText",
          "sizeToFit": true,
          "format": "%02d",
          "updateBehavior": "continuous",
          "id": "seconds",
          "formulas": [
            $(function() {
              return o.text = $tempFields.choiceTimer.behavior.seconds;
            })
          ],
          "text": ""
        }
      ]
    }, {
      "type": "ui.VerticalScrollView",
      "orientation": "vertical",
      "sizeToFit": true,
      "alignmentX": 1,
      "frame": [0, 30, Graphics.width, Graphics.height - 220],
      "margin": [0, 200, 0, 0],
      "formulas": [
        $(function() {
          if ($gameMessageNVL.visible) {
            return o.dstRect.y = $gameMessageNVL_message.textRenderer.currentY + 20;
          }
        })
      ],
      "params": {
        "dataField": $(function() {
          return $tempFields.choices;
        }),
        "template": {
          "type": "ui.FreeLayout",
          "id": "choiceEntry",
          "alignmentX": "center",
          "sizeToFit": true,
          "style": "choiceBoxEntry",
          "margin": [0, 20, 0, 10],
          "formulas": [
            $(function() {
              if (this.onInitialize) {
                return o.ui.enabled = $tempFields.choices[o.index].isEnabled;
              }
            })
          ],
          "controls": [
            {
              "type": "ui.SelectableWindow",
              "frame": [0, 0, 750, 50],
              "inheritProperties": true,
              "params": {
                "action": {
                  "name": "emitEvent",
                  "params": {
                    "name": "selectionAccept",
                    "source": $(function() {
                      return o.parent.parent.parent.parent.parent;
                    }),
                    "data": $(function() {
                      return $tempFields.choices[o.parent.parent.index];
                    })
                  }
                }
              },
              "zIndex": 4999
            }, {
              "type": "ui.Text",
              "inheritProperties": true,
              "formatting": true,
              "wordWrap": false,
              "sizeToFit": true,
              "styles": ["regularUIText"],
              "alignmentX": 1,
              "alignmentY": 1,
              "frame": [0, 0],
              "formulas": [
                $(function() {
                  var ref;
                  return o.text = lcs((ref = $tempFields.choices[o.parent.index]) != null ? ref.text : void 0);
                })
              ],
              "zIndex": 5100
            }
          ]
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGNBQUEsQ0FBekIsR0FBMkM7RUFDdkMsTUFBQSxFQUFRLGVBRCtCO0VBRXZDLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUY4QjtFQUd2QyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxnQkFEWjtNQUVJLFdBQUEsRUFBYSxJQUZqQjtNQUdJLFlBQUEsRUFBYyxDQUhsQjtNQUlJLFlBQUEsRUFBYyxDQUpsQjtNQUtJLFNBQUEsRUFBVyxLQUxmO01BTUksVUFBQSxFQUFZO1FBQ1IsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLE9BQUYsR0FBWSxXQUFXLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxTQUFqQyxJQUErQyxXQUFXLENBQUM7UUFBMUUsQ0FBRixDQURRO09BTmhCO01BU0ksVUFBQSxFQUFZO1FBQ1I7VUFDSSxNQUFBLEVBQVEsU0FEWjtVQUVJLE9BQUEsRUFBUyxpQkFGYjtVQUdJLFFBQUEsRUFBVSxNQUhkO1VBSUksV0FBQSxFQUFhLElBSmpCO1VBS0ksZ0JBQUEsRUFBa0IsWUFMdEI7VUFNSSxVQUFBLEVBQVk7WUFBQyxDQUFBLENBQUUsU0FBQTtxQkFBRyxDQUFDLENBQUMsSUFBRixHQUFTLFdBQVcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO1lBQTdDLENBQUYsQ0FBRDtXQU5oQjtVQU9JLE1BQUEsRUFBUSxFQVBaO1NBRFEsRUFVUjtVQUNJLE1BQUEsRUFBUSxTQURaO1VBRUksV0FBQSxFQUFhLElBRmpCO1VBR0ksT0FBQSxFQUFTLGlCQUhiO1VBSUksTUFBQSxFQUFRLEdBSlo7U0FWUSxFQWdCUjtVQUNJLE1BQUEsRUFBUSxTQURaO1VBRUksT0FBQSxFQUFTLGlCQUZiO1VB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QUE7eUJBQUEsQ0FBQyxDQUFDLElBQUYsR0FBUyxHQUFBLDBEQUF1QyxDQUFFLGFBQXpDO2dCQUFaLENBQUYsQ0FBRDtlQVZoQjtjQVdJLFFBQUEsRUFBVSxJQVhkO2FBVk87V0FSSDtTQUZOO09BVmQ7S0F0Q1E7R0FIMkIiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5DaG9pY2VCb3hcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHRdLFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiAxLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDAsXG4gICAgICAgICAgICBcInZpc2libGVcIjogbm8sXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFtcbiAgICAgICAgICAgICAgICAkIC0+IG8udmlzaWJsZSA9ICR0ZW1wRmllbGRzLmNob2ljZVRpbWVyLmJlaGF2aW9yLmlzUnVubmluZyBhbmQgJHRlbXBGaWVsZHMuY2hvaWNlVGltZXJWaXNpYmxlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVcIjogXCJjaG9pY2VUaW1lclRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXRcIjogXCIlMDJkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwidXBkYXRlQmVoYXZpb3JcIjogXCJjb250aW51b3VzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby50ZXh0ID0gJHRlbXBGaWVsZHMuY2hvaWNlVGltZXIuYmVoYXZpb3IubWludXRlc10sXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJzdHlsZVwiOiBcImNob2ljZVRpbWVyVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCI6XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwiY2hvaWNlVGltZXJUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0XCI6IFwiJTAyZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVwZGF0ZUJlaGF2aW9yXCI6IFwiY29udGludW91c1wiLFxuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwic2Vjb25kc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm11bGFzXCI6IFskIC0+IG8udGV4dCA9ICR0ZW1wRmllbGRzLmNob2ljZVRpbWVyLmJlaGF2aW9yLnNlY29uZHNdLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVmVydGljYWxTY3JvbGxWaWV3XCIsXG4gICAgICAgICAgICBcIm9yaWVudGF0aW9uXCI6IFwidmVydGljYWxcIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICBcImFsaWdubWVudFhcIjogMSxcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDMwLCBHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0IC0gMjIwXSxcbiAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAyMDAsIDAsIDBdLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAtPiBpZiAkZ2FtZU1lc3NhZ2VOVkwudmlzaWJsZSB0aGVuIG8uZHN0UmVjdC55ID0gJGdhbWVNZXNzYWdlTlZMX21lc3NhZ2UudGV4dFJlbmRlcmVyLmN1cnJlbnRZICsgMjBcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJkYXRhRmllbGRcIjogKCQgLT4gJHRlbXBGaWVsZHMuY2hvaWNlcyksXG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImNob2ljZUVudHJ5XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwiY2hvaWNlQm94RW50cnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDIwLCAwLCAxMF0sXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gaWYgQG9uSW5pdGlhbGl6ZSB0aGVuIG8udWkuZW5hYmxlZCA9ICR0ZW1wRmllbGRzLmNob2ljZXNbby5pbmRleF0uaXNFbmFibGVkXSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb250cm9sc1wiOltcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TZWxlY3RhYmxlV2luZG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgNzUwLCA1MF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25cIjoge1wibmFtZVwiOiBcImVtaXRFdmVudFwiLCBcInBhcmFtc1wiOiB7IFwibmFtZVwiOiBcInNlbGVjdGlvbkFjY2VwdFwiLCBcInNvdXJjZVwiOiAoJCAtPiBvLnBhcmVudC5wYXJlbnQucGFyZW50LnBhcmVudC5wYXJlbnQpLCBcImRhdGFcIjogKCQgLT4gJHRlbXBGaWVsZHMuY2hvaWNlc1tvLnBhcmVudC5wYXJlbnQuaW5kZXhdKSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogNDk5OVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0dGluZ1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid29yZFdyYXBcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJyZWd1bGFyVUlUZXh0XCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogWyQgLT4gby50ZXh0ID0gbGNzKCR0ZW1wRmllbGRzLmNob2ljZXNbby5wYXJlbnQuaW5kZXhdPy50ZXh0KV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogNTEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIF1cbn0iXX0=
//# sourceURL=Template_ChoiceBox_123.js
ui.UiFactory.customTypes["ui.ConfirmationButton"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.SelectableWindow",
      "frame": [0, 0, "100%", "100%"],
      "margin": [0, 0, 0, 30],
      "params": {
        "action": {
          "event": "onAction",
          "name": "createControl",
          "params": {
            "descriptor": {
              "id": "confirmationDialog",
              "type": "ui.ConfirmationDialog",
              "zIndex": 90000,
              "params": {
                "message": function() {
                  return p.confirmationMessage;
                },
                "acceptActions": function() {
                  return p.acceptActions;
                },
                "rejectActions": function() {
                  return p.rejectActions;
                }
              }
            }
          }
        }
      },
      "zIndex": 4999
    }, {
      "type": "ui.Text",
      "sizeToFit": true,
      "styles": ["regularUIText"],
      "alignmentX": "center",
      "alignmentY": "center",
      "frame": [0, 0],
      "margin": [0, 0, 0, 0],
      "text": function() {
        return p.text;
      },
      "zIndex": 5100
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxlQUR3QztFQUVoRCxVQUFBLEVBQVc7SUFDUDtNQUNJLE1BQUEsRUFBUSxxQkFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FGYjtNQUdJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLEVBQVYsQ0FIZDtNQUlJLFFBQUEsRUFBVTtRQUNOLFFBQUEsRUFBVTtVQUFFLE9BQUEsRUFBUyxVQUFYO1VBQXVCLE1BQUEsRUFBUSxlQUEvQjtVQUFnRCxRQUFBLEVBQVU7WUFBRSxZQUFBLEVBQWM7Y0FDaEYsSUFBQSxFQUFNLG9CQUQwRTtjQUVoRixNQUFBLEVBQVEsdUJBRndFO2NBR2hGLFFBQUEsRUFBVSxLQUhzRTtjQUloRixRQUFBLEVBQVU7Z0JBQ04sU0FBQSxFQUFXLFNBQUE7eUJBQUcsQ0FBQyxDQUFDO2dCQUFMLENBREw7Z0JBRU4sZUFBQSxFQUFpQixTQUFBO3lCQUFHLENBQUMsQ0FBQztnQkFBTCxDQUZYO2dCQUdOLGVBQUEsRUFBaUIsU0FBQTt5QkFBRyxDQUFDLENBQUM7Z0JBQUwsQ0FIWDtlQUpzRTthQUFoQjtXQUExRDtTQURKO09BSmQ7TUFrQkksUUFBQSxFQUFVLElBbEJkO0tBRE8sRUFxQlA7TUFDSSxNQUFBLEVBQVEsU0FEWjtNQUVJLFdBQUEsRUFBYSxJQUZqQjtNQUdJLFFBQUEsRUFBVSxDQUFDLGVBQUQsQ0FIZDtNQUlJLFlBQUEsRUFBYyxRQUpsQjtNQUtJLFlBQUEsRUFBYyxRQUxsQjtNQU1JLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBTmI7TUFPSSxRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBUGQ7TUFRSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBUlo7TUFTSSxRQUFBLEVBQVUsSUFUZDtLQXJCTztHQUZxQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkNvbmZpcm1hdGlvbkJ1dHRvblwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJjb250cm9sc1wiOltcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2VsZWN0YWJsZVdpbmRvd1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAzMF0sXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJhY3Rpb25cIjogeyBcImV2ZW50XCI6IFwib25BY3Rpb25cIiwgXCJuYW1lXCI6IFwiY3JlYXRlQ29udHJvbFwiLCBcInBhcmFtc1wiOiB7IFwiZGVzY3JpcHRvclwiOiB7IFxuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY29uZmlybWF0aW9uRGlhbG9nXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkNvbmZpcm1hdGlvbkRpYWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICBcInpJbmRleFwiOiA5MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiOiAtPiBwLmNvbmZpcm1hdGlvbk1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjY2VwdEFjdGlvbnNcIjogLT4gcC5hY2NlcHRBY3Rpb25zLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVqZWN0QWN0aW9uc1wiOiAtPiBwLnJlamVjdEFjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9IH0gfVxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDQ5OTlcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICBcImFsaWdubWVudFhcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMF0sXG4gICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMF1cbiAgICAgICAgICAgIFwidGV4dFwiOiAtPiBwLnRleHQsXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MTAwXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_ConfirmationButton_130.js
ui.UiFactory.customTypes["ui.StepSlider"] = {
  "type": "ui.FreeLayout",
  "formulas": [
    $(function() {
      if (this.onInitialize) {
        return o.controls[2].draggable.step = o.params.read.exec();
      }
    }), $(function() {
      if (this.onChange(o.controls[2].draggable.step)) {
        return o.params.write.exec(o.controls[2].draggable.step);
      }
    })
  ],
  "controls": [
    {
      "type": "ui.Panel",
      "style": "sliderTrack",
      "frame": [0, 0, "100% - 90", gs.UIConstants.SLIDER_TRACK_H],
      "alignmentY": "center"
    }, {
      "type": "ui.SpreadLayout",
      "frame": [0, 0, "100% - 90", "100%"],
      "dataField": function() {
        return p.data;
      },
      "template": {
        "type": "ui.Image",
        "image": gs.UIConstants.OPTION_BUTTON_S_IMAGE_OFF,
        "alignmentY": "center"
      }
    }, {
      "style": "sliderKnob",
      "focusable": true,
      "imageHandling": 0,
      "type": "ui.Image",
      "frame": [0, 0],
      "alignmentY": "center",
      "formulas": [
        $(function() {
          return o.draggable.rect.width = o.parent.controls[0].dstRect.width;
        }), $(function() {
          return o.parent.controls[3].text = o.parent.params.data[o.parent.controls[2].draggable.step];
        })
      ],
      "draggable": {
        "rect": [0, 0, 100, gs.UIConstants.OPTION_BUTTON_H],
        "axisX": true,
        "axisY": false,
        "steps": function() {
          return p.steps;
        }
      }
    }, {
      "type": "ui.Text",
      "color": [255, 255, 255],
      "frame": [0, 0],
      "style": "smallUIText",
      "alignmentX": "right",
      "alignmentY": "center",
      "text": "Hello",
      "sizeToFit": true
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGVBQUEsQ0FBekIsR0FBNEM7RUFDeEMsTUFBQSxFQUFRLGVBRGdDO0VBRXhDLFVBQUEsRUFBWTtJQUNSLENBQUEsQ0FBRSxTQUFBO01BQUcsSUFBRyxJQUFDLENBQUEsWUFBSjtlQUFzQixDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxJQUF4QixHQUErQixDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFkLENBQUEsRUFBckQ7O0lBQUgsQ0FBRixDQURRLEVBRVIsQ0FBQSxDQUFFLFNBQUE7TUFBRyxJQUFHLElBQUMsQ0FBQSxRQUFELENBQVUsQ0FBQyxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxTQUFTLENBQUMsSUFBbEMsQ0FBSDtlQUErQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFmLENBQW9CLENBQUMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsU0FBUyxDQUFDLElBQTVDLEVBQS9DOztJQUFILENBQUYsQ0FGUTtHQUY0QjtFQU14QyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksT0FBQSxFQUFTLGFBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFdBQVAsRUFBb0IsRUFBRSxDQUFDLFdBQVcsQ0FBQyxjQUFuQyxDQUhiO01BSUksWUFBQSxFQUFjLFFBSmxCO0tBRFEsRUFPUjtNQUNJLE1BQUEsRUFBUSxpQkFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sV0FBUCxFQUFvQixNQUFwQixDQUZiO01BR0ksV0FBQSxFQUFhLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQUhqQjtNQUlJLFVBQUEsRUFBWTtRQUNSLE1BQUEsRUFBUSxVQURBO1FBRVIsT0FBQSxFQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUMseUJBRmhCO1FBR1IsWUFBQSxFQUFjLFFBSE47T0FKaEI7S0FQUSxFQWlCUjtNQUNJLE9BQUEsRUFBUyxZQURiO01BRUksV0FBQSxFQUFhLElBRmpCO01BR0ksZUFBQSxFQUFpQixDQUhyQjtNQUlJLE1BQUEsRUFBUSxVQUpaO01BS0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FMYjtNQU1JLFlBQUEsRUFBYyxRQU5sQjtNQU9JLFVBQUEsRUFBWTtRQUNSLENBQUEsQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQWpCLEdBQXlCLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQztRQUF6RCxDQUFGLENBRFEsRUFFUixDQUFBLENBQUUsU0FBQTtpQkFBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUFyQixHQUE0QixDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFLLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsU0FBUyxDQUFDLElBQS9CO1FBQXBELENBQUYsQ0FGUTtPQVBoQjtNQVdJLFdBQUEsRUFBYTtRQUFFLE1BQUEsRUFBUSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sR0FBUCxFQUFZLEVBQUUsQ0FBQyxXQUFXLENBQUMsZUFBM0IsQ0FBVjtRQUF1RCxPQUFBLEVBQVMsSUFBaEU7UUFBc0UsT0FBQSxFQUFTLEtBQS9FO1FBQXNGLE9BQUEsRUFBUyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQS9GO09BWGpCO0tBakJRLEVBOEJSO01BQ0ksTUFBQSxFQUFRLFNBRFo7TUFFSSxPQUFBLEVBQVMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0FGYjtNQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBSGI7TUFJSSxPQUFBLEVBQVMsYUFKYjtNQUtJLFlBQUEsRUFBYyxPQUxsQjtNQU1JLFlBQUEsRUFBYyxRQU5sQjtNQU9JLE1BQUEsRUFBUSxPQVBaO01BUUksV0FBQSxFQUFhLElBUmpCO0tBOUJRO0dBTjRCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuU3RlcFNsaWRlclwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICQgLT4gaWYgQG9uSW5pdGlhbGl6ZSB0aGVuIG8uY29udHJvbHNbMl0uZHJhZ2dhYmxlLnN0ZXAgPSBvLnBhcmFtcy5yZWFkLmV4ZWMoKVxuICAgICAgICAkIC0+IGlmIEBvbkNoYW5nZSBvLmNvbnRyb2xzWzJdLmRyYWdnYWJsZS5zdGVwIHRoZW4gby5wYXJhbXMud3JpdGUuZXhlYyhvLmNvbnRyb2xzWzJdLmRyYWdnYWJsZS5zdGVwKVxuICAgIF0sXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwic2xpZGVyVHJhY2tcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJSAtIDkwXCIsIGdzLlVJQ29uc3RhbnRzLlNMSURFUl9UUkFDS19IXSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlNwcmVhZExheW91dFwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlIC0gOTBcIiwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJkYXRhRmllbGRcIjogLT4gcC5kYXRhLFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgICAgICBcImltYWdlXCI6IGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fU19JTUFHRV9PRkYsXG4gICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IFwiY2VudGVyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJzdHlsZVwiOiBcInNsaWRlcktub2JcIixcbiAgICAgICAgICAgIFwiZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcImltYWdlSGFuZGxpbmdcIjogMCxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAtPiBvLmRyYWdnYWJsZS5yZWN0LndpZHRoID0gby5wYXJlbnQuY29udHJvbHNbMF0uZHN0UmVjdC53aWR0aFxuICAgICAgICAgICAgICAgICQgLT4gby5wYXJlbnQuY29udHJvbHNbM10udGV4dCA9IG8ucGFyZW50LnBhcmFtcy5kYXRhW28ucGFyZW50LmNvbnRyb2xzWzJdLmRyYWdnYWJsZS5zdGVwXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiZHJhZ2dhYmxlXCI6IHsgXCJyZWN0XCI6IFswLCAwLCAxMDAsIGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fSF0sIFwiYXhpc1hcIjogdHJ1ZSwgXCJheGlzWVwiOiBmYWxzZSwgXCJzdGVwc1wiOiAtPiBwLnN0ZXBzIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJjb2xvclwiOiBbMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJzbWFsbFVJVGV4dFwiLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IFwicmlnaHRcIixcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiSGVsbG9cIixcbiAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWVcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_StepSlider_128.js
ui.UiFactory.customTypes["ui.SelectableWindow"] = {
  "type": "ui.FreeLayout",
  "controls": [
    {
      "type": "ui.Frame",
      "styles": ["windowShadow", "selectableWindowShadow"],
      "inheritProperties": true,
      "frame": [0, 0, "100%", "100%"],
      "focusable": true,
      "order": 0,
      "zIndex": 10
    }, {
      "type": "ui.Image",
      "style": "windowTilePattern",
      "frame": [0, 0, "100%", "100%"],
      "inheritProperties": true,
      "zIndex": 11,
      "order": 1
    }, {
      "type": "ui.Image",
      "style": "windowStretchPattern",
      "frame": [0, 0, "100%", "100%"],
      "inheritProperties": true,
      "zIndex": 12,
      "order": 2
    }, {
      "type": "ui.Frame",
      "style": "windowFrame",
      "frame": [0, 0, "100%", "100%"],
      "inheritProperties": true,
      "zIndex": 13,
      "action": function() {
        return p.action;
      },
      "actions": function() {
        return p.actions;
      },
      "order": 3
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHFCQUFBLENBQXpCLEdBQWtEO0VBQzlDLE1BQUEsRUFBUSxlQURzQztFQUU5QyxVQUFBLEVBQVk7SUFDUjtNQUNJLE1BQUEsRUFBUSxVQURaO01BRUksUUFBQSxFQUFVLENBQUMsY0FBRCxFQUFpQix3QkFBakIsQ0FGZDtNQUdJLG1CQUFBLEVBQXFCLElBSHpCO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQUpiO01BS0ksV0FBQSxFQUFhLElBTGpCO01BTUksT0FBQSxFQUFTLENBTmI7TUFPSSxRQUFBLEVBQVUsRUFQZDtLQURRLEVBVVI7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxtQkFGYjtNQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FIYjtNQUlJLG1CQUFBLEVBQXFCLElBSnpCO01BS0ksUUFBQSxFQUFVLEVBTGQ7TUFNSSxPQUFBLEVBQVMsQ0FOYjtLQVZRLEVBa0JSO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxPQUFBLEVBQVMsc0JBRmI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE1BQVAsRUFBZSxNQUFmLENBSGI7TUFJSSxtQkFBQSxFQUFxQixJQUp6QjtNQUtJLFFBQUEsRUFBVSxFQUxkO01BTUksT0FBQSxFQUFTLENBTmI7S0FsQlEsRUEwQlI7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxhQUZiO01BR0ksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQUhiO01BSUksbUJBQUEsRUFBcUIsSUFKekI7TUFLSSxRQUFBLEVBQVUsRUFMZDtNQU1JLFFBQUEsRUFBVSxTQUFBO2VBQUcsQ0FBQyxDQUFDO01BQUwsQ0FOZDtNQU9JLFNBQUEsRUFBVyxTQUFBO2VBQUcsQ0FBQyxDQUFDO01BQUwsQ0FQZjtNQVFJLE9BQUEsRUFBUyxDQVJiO0tBMUJRO0dBRmtDIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuU2VsZWN0YWJsZVdpbmRvd1wiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyYW1lXCIsXG4gICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJ3aW5kb3dTaGFkb3dcIiwgXCJzZWxlY3RhYmxlV2luZG93U2hhZG93XCJdLFxuICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwiZm9jdXNhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcIm9yZGVyXCI6IDAsXG4gICAgICAgICAgICBcInpJbmRleFwiOiAxMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcIndpbmRvd1RpbGVQYXR0ZXJuXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBcIjEwMCVcIiwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTEsXG4gICAgICAgICAgICBcIm9yZGVyXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuSW1hZ2VcIixcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJ3aW5kb3dTdHJldGNoUGF0dGVyblwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwiaW5oZXJpdFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDEyLFxuICAgICAgICAgICAgXCJvcmRlclwiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkZyYW1lXCIsXG4gICAgICAgICAgICBcInN0eWxlXCI6IFwid2luZG93RnJhbWVcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIFwiMTAwJVwiLCBcIjEwMCVcIl0sXG4gICAgICAgICAgICBcImluaGVyaXRQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICAgICAgICBcInpJbmRleFwiOiAxMyxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IC0+IHAuYWN0aW9uXG4gICAgICAgICAgICBcImFjdGlvbnNcIjogLT4gcC5hY3Rpb25zXG4gICAgICAgICAgICBcIm9yZGVyXCI6IDNcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_SelectableWindow_141.js
ui.UiFactory.customTypes["ui.MessageOptionButton"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "style": "messageOptionButton",
  "controls": [
    {
      "type": "ui.Image",
      "inheritProperties": true,
      "selectable": true,
      "style": "messageOptionButton",
      "image": gs.UIConstants.OPTION_BUTTON_MSG_IMAGE_OFF,
      "actions": [
        {
          "name": "executeFormulas",
          "params": [
            $(function() {
              return o.parent.params.write.exec();
            }), $(function() {
              return o.parent.controls[1].ui.selected = o.ui.selected;
            })
          ]
        }, function() {
          return p.action1;
        }, function() {
          return p.action2;
        }
      ],
      "margin": [0, 0, 11, 0]
    }, {
      "type": "ui.Text",
      "inheritProperties": true,
      "sizeToFit": true,
      "style": "regularUIText",
      "selectable": true,
      "actions": [
        {
          "name": "executeFormulas",
          "params": [
            $(function() {
              return o.parent.params.write.exec();
            }), $(function() {
              return o.parent.controls[0].ui.selected = !o.parent.controls[0].ui.selected;
            }), $(function() {
              return o.ui.selected = o.parent.controls[0].ui.selected;
            })
          ]
        }, function() {
          return p.action1;
        }, function() {
          return p.action2;
        }
      ],
      "alignmentY": "center",
      "text": function() {
        return p.label;
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHdCQUFBLENBQXpCLEdBQXFEO0VBQ2pELE1BQUEsRUFBUSxnQkFEeUM7RUFFakQsV0FBQSxFQUFhLElBRm9DO0VBR2pELE9BQUEsRUFBUyxxQkFId0M7RUFJakQsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLG1CQUFBLEVBQXFCLElBRnpCO01BR0ksWUFBQSxFQUFjLElBSGxCO01BSUksT0FBQSxFQUFTLHFCQUpiO01BS0ksT0FBQSxFQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUMsMkJBTDVCO01BTUksU0FBQSxFQUFXO1FBQ1A7VUFDSSxNQUFBLEVBQVEsaUJBRFo7VUFFSSxRQUFBLEVBQVU7WUFDTixDQUFBLENBQUUsU0FBQTtxQkFBRyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBdEIsQ0FBQTtZQUFILENBQUYsQ0FETSxFQUVOLENBQUEsQ0FBRSxTQUFBO3FCQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxRQUF4QixHQUFtQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQTNDLENBQUYsQ0FGTTtXQUZkO1NBRE8sRUFRUCxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBUk8sRUFTUCxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBVE87T0FOZjtNQWlCSSxRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEVBQVAsRUFBVyxDQUFYLENBakJkO0tBRFEsRUFvQlI7TUFDSSxNQUFBLEVBQVEsU0FEWjtNQUVJLG1CQUFBLEVBQXFCLElBRnpCO01BR0ksV0FBQSxFQUFhLElBSGpCO01BSUksT0FBQSxFQUFTLGVBSmI7TUFLSSxZQUFBLEVBQWMsSUFMbEI7TUFNSSxTQUFBLEVBQVc7UUFDUDtVQUNJLE1BQUEsRUFBUSxpQkFEWjtVQUVJLFFBQUEsRUFBVTtZQUNOLENBQUEsQ0FBRSxTQUFBO3FCQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUF0QixDQUFBO1lBQUgsQ0FBRixDQURNLEVBRU4sQ0FBQSxDQUFFLFNBQUE7cUJBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsRUFBRSxDQUFDLFFBQXhCLEdBQW1DLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsRUFBRSxDQUFDO1lBQS9ELENBQUYsQ0FGTSxFQUdOLENBQUEsQ0FBRSxTQUFBO3FCQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBTCxHQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxFQUFFLENBQUM7WUFBM0MsQ0FBRixDQUhNO1dBRmQ7U0FETyxFQVNQLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FUTyxFQVVQLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FWTztPQU5mO01Ba0JJLFlBQUEsRUFBYyxRQWxCbEI7TUFtQkksTUFBQSxFQUFRLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQW5CWjtLQXBCUTtHQUpxQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLk1lc3NhZ2VPcHRpb25CdXR0b25cIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwic3R5bGVcIjogXCJtZXNzYWdlT3B0aW9uQnV0dG9uXCIsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLkltYWdlXCIsXG4gICAgICAgICAgICBcImluaGVyaXRQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICAgICAgICBcInNlbGVjdGFibGVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJtZXNzYWdlT3B0aW9uQnV0dG9uXCIsXG4gICAgICAgICAgICBcImltYWdlXCI6IGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fTVNHX0lNQUdFX09GRixcbiAgICAgICAgICAgIFwiYWN0aW9uc1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZXhlY3V0ZUZvcm11bGFzXCIsIFxuICAgICAgICAgICAgICAgICAgICBcInBhcmFtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAkIC0+IG8ucGFyZW50LnBhcmFtcy53cml0ZS5leGVjKClcbiAgICAgICAgICAgICAgICAgICAgICAgICQgLT4gby5wYXJlbnQuY29udHJvbHNbMV0udWkuc2VsZWN0ZWQgPSBvLnVpLnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIF0gXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAtPiBwLmFjdGlvbjEsXG4gICAgICAgICAgICAgICAgLT4gcC5hY3Rpb24yXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDExLCAwXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICBcImluaGVyaXRQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJzdHlsZVwiOiBcInJlZ3VsYXJVSVRleHRcIixcbiAgICAgICAgICAgIFwic2VsZWN0YWJsZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJhY3Rpb25zXCI6IFtcbiAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJleGVjdXRlRm9ybXVsYXNcIiwgXG4gICAgICAgICAgICAgICAgICAgIFwicGFyYW1zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICQgLT4gby5wYXJlbnQucGFyYW1zLndyaXRlLmV4ZWMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBvLnBhcmVudC5jb250cm9sc1swXS51aS5zZWxlY3RlZCA9ICFvLnBhcmVudC5jb250cm9sc1swXS51aS5zZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBvLnVpLnNlbGVjdGVkID0gby5wYXJlbnQuY29udHJvbHNbMF0udWkuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgXSBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC0+IHAuYWN0aW9uMVxuICAgICAgICAgICAgICAgIC0+IHAuYWN0aW9uMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgXCJ0ZXh0XCI6IC0+IHAubGFiZWxcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_MessageOptionButton_150.js
ui.UiFactory.customTypes["ui.Button"] = {
  "type": "ui.FreeLayout",
  "style": "button",
  "controls": [
    {
      "type": "ui.SelectableWindow",
      "frame": [0, 0, "100%", "100%"],
      "margin": [0, 0, 0, 30],
      "inheritProperties": true,
      "params": {
        "actions": function() {
          return p.actions;
        },
        "action": function() {
          return p.action;
        },
        "sound": function() {
          return p.sound;
        }
      },
      "zIndex": 4999
    }, {
      "type": "ui.Text",
      "executeFieldFormulas": true,
      "inheritProperties": true,
      "sizeToFit": true,
      "style": "buttonText",
      "frame": [0, 0],
      "text": function() {
        return p.text;
      },
      "zIndex": 5100
    }
  ]
};

ui.UiFactory.customTypes["ui.BackButton"] = {
  "type": "ui.Button",
  "params": {
    "text": function() {
      return (typeof p !== "undefined" && p !== null ? p.text : void 0) || {
        lcId: "B0FD4BF121D9E44E7589CDD35869F86F2227",
        defaultText: "Back"
      };
    },
    "actions": [
      {
        "event": "onMouseClick",
        "name": "saveSettings"
      }, {
        "event": "onMouseClick",
        "name": "previousLayout"
      }
    ],
    "sound": function() {
      return $dataFields.database.system.menuCancelSound;
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLFdBQUEsQ0FBekIsR0FBd0M7RUFDcEMsTUFBQSxFQUFRLGVBRDRCO0VBRXBDLE9BQUEsRUFBUyxRQUYyQjtFQUdwQyxVQUFBLEVBQVc7SUFDUDtNQUNJLE1BQUEsRUFBUSxxQkFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sTUFBUCxFQUFlLE1BQWYsQ0FGYjtNQUdJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLEVBQVYsQ0FIZDtNQUlJLG1CQUFBLEVBQXFCLElBSnpCO01BS0ksUUFBQSxFQUFVO1FBQ04sU0FBQSxFQUFXLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FETDtRQUVOLFFBQUEsRUFBVSxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBRko7UUFHTixPQUFBLEVBQVMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUhIO09BTGQ7TUFVSSxRQUFBLEVBQVUsSUFWZDtLQURPLEVBYVA7TUFDSSxNQUFBLEVBQVEsU0FEWjtNQUVJLHNCQUFBLEVBQXdCLElBRjVCO01BR0ksbUJBQUEsRUFBcUIsSUFIekI7TUFJSSxXQUFBLEVBQWEsSUFKakI7TUFLSSxPQUFBLEVBQVMsWUFMYjtNQU1JLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLENBTmI7TUFPSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBUFo7TUFRSSxRQUFBLEVBQVUsSUFSZDtLQWJPO0dBSHlCOzs7QUE4QnhDLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGVBQUEsQ0FBekIsR0FBNEM7RUFDeEMsTUFBQSxFQUFRLFdBRGdDO0VBRXhDLFFBQUEsRUFBVTtJQUNOLE1BQUEsRUFBUSxTQUFBO3VEQUFHLENBQUMsQ0FBRSxjQUFILElBQVc7UUFBRSxJQUFBLEVBQU0sc0NBQVI7UUFBZ0QsV0FBQSxFQUFhLE1BQTdEOztJQUFkLENBREY7SUFFTixTQUFBLEVBQVc7TUFBQztRQUFFLE9BQUEsRUFBUyxjQUFYO1FBQTJCLE1BQUEsRUFBUSxjQUFuQztPQUFELEVBQXNEO1FBQUUsT0FBQSxFQUFTLGNBQVg7UUFBMkIsTUFBQSxFQUFRLGdCQUFuQztPQUF0RDtLQUZMO0lBR04sT0FBQSxFQUFTLFNBQUE7YUFBRyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUEvQixDQUhIO0dBRjhCIiwic291cmNlc0NvbnRlbnQiOlsidWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuQnV0dG9uXCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcInN0eWxlXCI6IFwiYnV0dG9uXCIsXG4gICAgXCJjb250cm9sc1wiOltcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2VsZWN0YWJsZVdpbmRvd1wiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAzMF0sXG4gICAgICAgICAgICBcImluaGVyaXRQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJhY3Rpb25zXCI6IC0+IHAuYWN0aW9ucywgXG4gICAgICAgICAgICAgICAgXCJhY3Rpb25cIjogLT4gcC5hY3Rpb24sIFxuICAgICAgICAgICAgICAgIFwic291bmRcIjogLT4gcC5zb3VuZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiekluZGV4XCI6IDQ5OTlcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLFxuICAgICAgICAgICAgXCJleGVjdXRlRmllbGRGb3JtdWxhc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJpbmhlcml0UHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJidXR0b25UZXh0XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwXSxcbiAgICAgICAgICAgIFwidGV4dFwiOiAtPiBwLnRleHQsXG4gICAgICAgICAgICBcInpJbmRleFwiOiA1MTAwXG4gICAgICAgIH1cbiAgICBdXG59XG5cblxudWkuVWlGYWN0b3J5LmN1c3RvbVR5cGVzW1widWkuQmFja0J1dHRvblwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5CdXR0b25cIixcbiAgICBcInBhcmFtc1wiOiB7IFxuICAgICAgICBcInRleHRcIjogLT4gcD8udGV4dCBvciB7IGxjSWQ6IFwiQjBGRDRCRjEyMUQ5RTQ0RTc1ODlDREQzNTg2OUY4NkYyMjI3XCIsIGRlZmF1bHRUZXh0OiBcIkJhY2tcIiB9LCBcbiAgICAgICAgXCJhY3Rpb25zXCI6IFt7IFwiZXZlbnRcIjogXCJvbk1vdXNlQ2xpY2tcIiwgXCJuYW1lXCI6IFwic2F2ZVNldHRpbmdzXCIgfSwgeyBcImV2ZW50XCI6IFwib25Nb3VzZUNsaWNrXCIsIFwibmFtZVwiOiBcInByZXZpb3VzTGF5b3V0XCIgfV0sIFxuICAgICAgICBcInNvdW5kXCI6IC0+ICRkYXRhRmllbGRzLmRhdGFiYXNlLnN5c3RlbS5tZW51Q2FuY2VsU291bmQgfVxufVxuXG5cbiJdfQ==
//# sourceURL=Template_Button_153.js
ui.UiFactory.customTypes["ui.ConfirmationDialog"] = {
  "type": "ui.FreeLayout",
  "frame": [0, 0, Graphics.width, Graphics.height],
  "order": 100000,
  "controls": [
    {
      "type": "ui.Panel",
      "zIndex": 1000,
      "frame": [0, 0, Graphics.width, Graphics.height],
      "modal": true,
      "color": [0, 0, 0, 128]
    }, {
      "type": "ui.FreeLayout",
      "sizeToFit": true,
      "alignmentX": 1,
      "alignmentY": 1,
      "controls": [
        {
          "type": "ui.Window",
          "zIndex": 90000,
          "frame": [0, 0, 700, 200]
        }, {
          "type": "ui.Text",
          "sizeToFit": true,
          "styles": ["regularUIText"],
          "zIndex": 91000,
          "text": function() {
            return p.message;
          },
          "alignmentX": 1,
          "alignmentY": 1,
          "color": [255, 255, 255, 255],
          "margin": [0, 0, 0, 50]
        }, {
          "type": "ui.FreeLayout",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.Text",
              "order": 1001,
              "sizeToFit": true,
              "zIndex": 91000,
              "alignmentX": 1,
              "alignmentY": 1,
              "styles": ["regularUIText"],
              "actions": function() {
                return p.acceptActions;
              },
              "text": "Yes"
            }
          ],
          "frame": [100],
          "margin": [0, 0, 0, 50],
          "alignmentY": 2
        }, {
          "type": "ui.FreeLayout",
          "sizeToFit": true,
          "controls": [
            {
              "type": "ui.Text",
              "sizeToFit": true,
              "order": 1001,
              "styles": ["regularUIText"],
              "actions": function() {
                return p.rejectActions;
              },
              "zIndex": 91000,
              "alignmentX": 1,
              "alignmentY": 1,
              "text": "No"
            }
          ],
          "margin": [0, 0, 100, 50],
          "alignmentY": 2,
          "alignmentX": 2
        }
      ]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxlQUR3QztFQUVoRCxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFoQixFQUF1QixRQUFRLENBQUMsTUFBaEMsQ0FGdUM7RUFHaEQsT0FBQSxFQUFTLE1BSHVDO0VBSWhELFVBQUEsRUFBWTtJQUNSO01BQUUsTUFBQSxFQUFRLFVBQVY7TUFBc0IsUUFBQSxFQUFVLElBQWhDO01BQXNDLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUSxDQUFDLEtBQWhCLEVBQXVCLFFBQVEsQ0FBQyxNQUFoQyxDQUEvQztNQUF3RixPQUFBLEVBQVMsSUFBakc7TUFBdUcsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsR0FBVixDQUFoSDtLQURRLEVBRVI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLFdBQUEsRUFBYSxJQUZqQjtNQUdJLFlBQUEsRUFBYyxDQUhsQjtNQUlJLFlBQUEsRUFBYyxDQUpsQjtNQUtJLFVBQUEsRUFBWTtRQUNSO1VBQ0ksTUFBQSxFQUFRLFdBRFo7VUFFSSxRQUFBLEVBQVUsS0FGZDtVQUdJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sR0FBUCxFQUFZLEdBQVosQ0FIYjtTQURRLEVBTVI7VUFDSSxNQUFBLEVBQVEsU0FEWjtVQUVJLFdBQUEsRUFBYSxJQUZqQjtVQUdJLFFBQUEsRUFBVSxDQUFDLGVBQUQsQ0FIZDtVQUlJLFFBQUEsRUFBVSxLQUpkO1VBS0ksTUFBQSxFQUFRLFNBQUE7bUJBQUcsQ0FBQyxDQUFDO1VBQUwsQ0FMWjtVQU1JLFlBQUEsRUFBYyxDQU5sQjtVQU9JLFlBQUEsRUFBYyxDQVBsQjtVQVFJLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixDQVJiO1VBU0ksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsRUFBVixDQVRkO1NBTlEsRUFpQlI7VUFDSSxNQUFBLEVBQVEsZUFEWjtVQUVJLFdBQUEsRUFBYSxJQUZqQjtVQUdJLFVBQUEsRUFBWTtZQUNSO2NBQ0ksTUFBQSxFQUFRLFNBRFo7Y0FFSSxPQUFBLEVBQVMsSUFGYjtjQUdJLFdBQUEsRUFBYSxJQUhqQjtjQUlJLFFBQUEsRUFBVSxLQUpkO2NBS0ksWUFBQSxFQUFjLENBTGxCO2NBTUksWUFBQSxFQUFjLENBTmxCO2NBT0ksUUFBQSxFQUFVLENBQUMsZUFBRCxDQVBkO2NBUUksU0FBQSxFQUFXLFNBQUE7dUJBQUcsQ0FBQyxDQUFDO2NBQUwsQ0FSZjtjQVNJLE1BQUEsRUFBUSxLQVRaO2FBRFE7V0FIaEI7VUFnQkksT0FBQSxFQUFTLENBQUMsR0FBRCxDQWhCYjtVQWtCSSxRQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxFQUFWLENBbEJkO1VBbUJJLFlBQUEsRUFBYyxDQW5CbEI7U0FqQlEsRUFzQ1I7VUFDSSxNQUFBLEVBQVEsZUFEWjtVQUVJLFdBQUEsRUFBYSxJQUZqQjtVQUdJLFVBQUEsRUFBWTtZQUNSO2NBQ0ksTUFBQSxFQUFRLFNBRFo7Y0FFSSxXQUFBLEVBQWEsSUFGakI7Y0FHSSxPQUFBLEVBQVMsSUFIYjtjQUlJLFFBQUEsRUFBVSxDQUFDLGVBQUQsQ0FKZDtjQUtJLFNBQUEsRUFBVyxTQUFBO3VCQUFHLENBQUMsQ0FBQztjQUFMLENBTGY7Y0FNSSxRQUFBLEVBQVUsS0FOZDtjQU9JLFlBQUEsRUFBYyxDQVBsQjtjQVFJLFlBQUEsRUFBYyxDQVJsQjtjQVNJLE1BQUEsRUFBUSxJQVRaO2FBRFE7V0FIaEI7VUFnQkksUUFBQSxFQUFVLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxHQUFQLEVBQVksRUFBWixDQWhCZDtVQWlCSSxZQUFBLEVBQWMsQ0FqQmxCO1VBa0JJLFlBQUEsRUFBYyxDQWxCbEI7U0F0Q1E7T0FMaEI7S0FGUTtHQUpvQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkNvbmZpcm1hdGlvbkRpYWxvZ1wiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sXG4gICAgXCJvcmRlclwiOiAxMDAwMDAsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHsgXCJ0eXBlXCI6IFwidWkuUGFuZWxcIiwgXCJ6SW5kZXhcIjogMTAwMCwgXCJmcmFtZVwiOiBbMCwgMCwgR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodF0sIFwibW9kYWxcIjogdHJ1ZSwgXCJjb2xvclwiOiBbMCwgMCwgMCwgMTI4XSB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IDEsXG4gICAgICAgICAgICBcImFsaWdubWVudFlcIjogMSxcbiAgICAgICAgICAgIFwiY29udHJvbHNcIjogWyAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5XaW5kb3dcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogOTAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIDcwMCwgMjAwXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDkxMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogLT4gcC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFhcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCA1MF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlclwiOiAxMDAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogOTEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXNcIjogW1wicmVndWxhclVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogLT4gcC5hY2NlcHRBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIlllc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIFwiZnJhbWVcIjogWzEwMF0sXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgNTBdLFxuICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplVG9GaXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yZGVyXCI6IDEwMDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXNcIjogW1wicmVndWxhclVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogLT4gcC5yZWplY3RBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiekluZGV4XCI6IDkxMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxpZ25tZW50WVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIk5vXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDEwMCwgNTBdLFxuICAgICAgICAgICAgICAgICAgICBcImFsaWdubWVudFlcIjogMixcbiAgICAgICAgICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IDJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_ConfirmationDialog_157.js
ui.UiFactory.customTypes["ui.SaveGameSlot"] = {
  "type": "ui.FreeLayout",
  "sizeToFit": true,
  "controls": [
    {
      "type": "ui.Panel",
      "frame": [0, 0, 350, Math.max(Graphics.height / 8, 90)],
      "actions": function() {
        return p.actions;
      },
      "zIndex": 0
    }, {
      "type": "ui.Panel",
      "alignmentY": "center",
      "frame": [0, 0, Graphics.width / 8, Graphics.height / 8],
      "color": [0, 0, 0, 100],
      "zIndex": 0
    }, {
      "type": "ui.Image",
      "alignmentY": "center",
      "image": "",
      "frame": [0, 0, Graphics.width / 8, Graphics.height / 8],
      "imageHandling": 2,
      "fixedSize": true,
      "zIndex": 1,
      "formulas": [
        $(function() {
          return o.visible = $dataFields.saveGameSlots[o.parent.index].image;
        }), $(function() {
          return o.image = $dataFields.saveGameSlots[o.parent.index].image;
        })
      ]
    }, {
      "type": "ui.FreeLayout",
      "frame": [Graphics.width / 8, 0, 150, 90],
      "controls": [
        {
          "type": "ui.Text",
          "formulas": [
            $(function() {
              if (!$dataFields.saveGameSlots[o.parent.parent.index].date) {
                return o.text = (o.parent.parent.index + 1).toString() + ".\n" + "New File";
              } else {
                return o.text = (o.parent.parent.index + 1).toString() + ".\n" + $dataFields.saveGameSlots[o.parent.parent.index].chapter + "\n" + $dataFields.saveGameSlots[o.parent.parent.index].date;
              }
            })
          ],
          "sizeToFit": true,
          "text": "",
          "styles": ["smallUIText"],
          "color": [255, 255, 255, 255],
          "frame": [10, 10],
          "zIndex": 10
        }
      ]
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLGlCQUFBLENBQXpCLEdBQThDO0VBQzFDLE1BQUEsRUFBUSxlQURrQztFQUUxQyxXQUFBLEVBQWEsSUFGNkI7RUFHMUMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sR0FBUCxFQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsUUFBUSxDQUFDLE1BQVQsR0FBa0IsQ0FBM0IsRUFBOEIsRUFBOUIsQ0FBWixDQUZiO01BR0ksU0FBQSxFQUFXLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQUhmO01BSUksUUFBQSxFQUFVLENBSmQ7S0FEUSxFQU9SO01BQ0ksTUFBQSxFQUFRLFVBRFo7TUFFSSxZQUFBLEVBQWMsUUFGbEI7TUFHSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLFFBQVEsQ0FBQyxLQUFULEdBQWlCLENBQXhCLEVBQTJCLFFBQVEsQ0FBQyxNQUFULEdBQWtCLENBQTdDLENBSGI7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxHQUFWLENBSmI7TUFLSSxRQUFBLEVBQVUsQ0FMZDtLQVBRLEVBY1I7TUFDSSxNQUFBLEVBQVEsVUFEWjtNQUVJLFlBQUEsRUFBYyxRQUZsQjtNQUdJLE9BQUEsRUFBUyxFQUhiO01BSUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxRQUFRLENBQUMsS0FBVCxHQUFpQixDQUF4QixFQUEyQixRQUFRLENBQUMsTUFBVCxHQUFrQixDQUE3QyxDQUpiO01BS0ksZUFBQSxFQUFpQixDQUxyQjtNQU1JLFdBQUEsRUFBYSxJQU5qQjtNQU9JLFFBQUEsRUFBVSxDQVBkO01BUUksVUFBQSxFQUFZO1FBQ1IsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLE9BQUYsR0FBWSxXQUFXLENBQUMsYUFBYyxDQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBVCxDQUFlLENBQUM7UUFBekQsQ0FBRixDQURRLEVBRVIsQ0FBQSxDQUFFLFNBQUE7aUJBQUcsQ0FBQyxDQUFDLEtBQUYsR0FBVSxXQUFXLENBQUMsYUFBYyxDQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBVCxDQUFlLENBQUM7UUFBdkQsQ0FBRixDQUZRO09BUmhCO0tBZFEsRUEyQlI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLFFBQVEsQ0FBQyxLQUFULEdBQWlCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLEdBQXhCLEVBQTZCLEVBQTdCLENBRmI7TUFHSSxVQUFBLEVBQVk7UUFDUjtVQUNJLE1BQUEsRUFBUSxTQURaO1VBRUksVUFBQSxFQUFZO1lBQ1IsQ0FBQSxDQUFFLFNBQUE7Y0FDRSxJQUFHLENBQUMsV0FBVyxDQUFDLGFBQWMsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFoQixDQUFzQixDQUFDLElBQXJEO3VCQUNJLENBQUMsQ0FBQyxJQUFGLEdBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFoQixHQUF3QixDQUF6QixDQUEyQixDQUFDLFFBQTVCLENBQUEsQ0FBQSxHQUF5QyxLQUF6QyxHQUFpRCxXQUQ5RDtlQUFBLE1BQUE7dUJBR0ksQ0FBQyxDQUFDLElBQUYsR0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQWhCLEdBQXdCLENBQXpCLENBQTJCLENBQUMsUUFBNUIsQ0FBQSxDQUFBLEdBQXlDLEtBQXpDLEdBQ0EsV0FBVyxDQUFDLGFBQWMsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFoQixDQUFzQixDQUFDLE9BRGpELEdBQzJELElBRDNELEdBRUEsV0FBVyxDQUFDLGFBQWMsQ0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFoQixDQUFzQixDQUFDLEtBTDlEOztZQURGLENBQUYsQ0FEUTtXQUZoQjtVQVdJLFdBQUEsRUFBYSxJQVhqQjtVQVlJLE1BQUEsRUFBUSxFQVpaO1VBYUksUUFBQSxFQUFVLENBQUMsYUFBRCxDQWJkO1VBY0ksT0FBQSxFQUFTLENBQUMsR0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLEVBQWdCLEdBQWhCLENBZGI7VUFlSSxPQUFBLEVBQVMsQ0FBQyxFQUFELEVBQUssRUFBTCxDQWZiO1VBZ0JJLFFBQUEsRUFBVSxFQWhCZDtTQURRO09BSGhCO0tBM0JRO0dBSDhCIiwic291cmNlc0NvbnRlbnQiOlsiXG51aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5TYXZlR2FtZVNsb3RcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAzNTAsIE1hdGgubWF4KEdyYXBoaWNzLmhlaWdodCAvIDgsIDkwKV0sXG4gICAgICAgICAgICBcImFjdGlvbnNcIjogLT4gcC5hY3Rpb25zXG4gICAgICAgICAgICBcInpJbmRleFwiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlBhbmVsXCIsXG4gICAgICAgICAgICBcImFsaWdubWVudFlcIjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzAsIDAsIEdyYXBoaWNzLndpZHRoIC8gOCwgR3JhcGhpY3MuaGVpZ2h0IC8gOF0sXG4gICAgICAgICAgICBcImNvbG9yXCI6IFswLCAwLCAwLCAxMDBdLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5JbWFnZVwiLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRZXCI6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBcImltYWdlXCI6IFwiXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCBHcmFwaGljcy53aWR0aCAvIDgsIEdyYXBoaWNzLmhlaWdodCAvIDhdLFxuICAgICAgICAgICAgXCJpbWFnZUhhbmRsaW5nXCI6IDIsXG4gICAgICAgICAgICBcImZpeGVkU2l6ZVwiOiB0cnVlLFxuICAgICAgICAgICAgXCJ6SW5kZXhcIjogMSxcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICQgLT4gby52aXNpYmxlID0gJGRhdGFGaWVsZHMuc2F2ZUdhbWVTbG90c1tvLnBhcmVudC5pbmRleF0uaW1hZ2VcbiAgICAgICAgICAgICAgICAkIC0+IG8uaW1hZ2UgPSAkZGF0YUZpZWxkcy5zYXZlR2FtZVNsb3RzW28ucGFyZW50LmluZGV4XS5pbWFnZVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5GcmVlTGF5b3V0XCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFtHcmFwaGljcy53aWR0aCAvIDgsIDAsIDE1MCwgOTBdLFxuICAgICAgICAgICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJCAtPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAhJGRhdGFGaWVsZHMuc2F2ZUdhbWVTbG90c1tvLnBhcmVudC5wYXJlbnQuaW5kZXhdLmRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby50ZXh0ID0gKG8ucGFyZW50LnBhcmVudC5pbmRleCArIDEpLnRvU3RyaW5nKCkgKyBcIi5cXG5cIiArIFwiTmV3IEZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby50ZXh0ID0gKG8ucGFyZW50LnBhcmVudC5pbmRleCArIDEpLnRvU3RyaW5nKCkgKyBcIi5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhRmllbGRzLnNhdmVHYW1lU2xvdHNbby5wYXJlbnQucGFyZW50LmluZGV4XS5jaGFwdGVyICsgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhRmllbGRzLnNhdmVHYW1lU2xvdHNbby5wYXJlbnQucGFyZW50LmluZGV4XS5kYXRlXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlc1wiOiBbXCJzbWFsbFVJVGV4dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBbMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgICAgICAgICAgXCJmcmFtZVwiOiBbMTAsIDEwXSxcbiAgICAgICAgICAgICAgICAgICAgXCJ6SW5kZXhcIjogMTBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdXG59Il19
//# sourceURL=Template_SaveGameSlot_161.js
ui.UiFactory.customTypes["ui.VerticalScrollView"] = {
  "type": "ui.FreeLayout",
  "clipRect": true,
  "controls": [
    {
      "type": "ui.ScrollBar",
      "frame": [0, 0, 15, "100%"],
      "updateBehavior": "continuous",
      "formulas": [
        $(function() {
          o.numbers[0] = o.numbers[0] || 0;
          if (o.parent.controls[1].scrollableHeight > 0 && o.numbers[0] !== o.controls[0].dstRect.y) {
            o.numbers[0] = o.controls[0].dstRect.y;
            return o.parent.controls[1].scrollOffsetY = o.controls[0].dstRect.y / (o.parent.dstRect.height - o.controls[0].dstRect.height) * o.parent.controls[1].scrollableHeight;
          }
        }), $(function() {
          if (o.parent.controls[1].scrollableHeight > 0) {
            return o.controls[0].dstRect.height = Math.max(o.parent.dstRect.height / o.parent.controls[1].contentHeight * o.parent.dstRect.height, 30);
          }
        }), $(function() {
          if (o.parent.controls[1].scrollableHeight === 0) {
            return o.visible = false;
          }
        }), $(function() {
          if (o.parent.controls[1].scrollableHeight > 0) {
            return o.visible = true;
          }
        })
      ],
      "margin": [0, 0, 0, 0],
      "alignmentX": "right"
    }, {
      "type": "ui.StackLayout",
      "formulas": [
        $(function() {
          o.numbers[0] = o.numbers[0] || 0;
          if (o.numbers[0] !== o.scrollOffsetY) {
            o.numbers[0] = o.scrollOffsetY;
            o.parent.controls[0].controls[0].dstRect.y = o.scrollOffsetY / o.scrollableHeight * (o.dstRect.height - o.parent.controls[0].controls[0].dstRect.height);
            return o.parent.controls[0].numbers[0] = o.parent.controls[0].controls[0].dstRect.y;
          }
        })
      ],
      "frame": [0, 0, "100%", "100%"],
      "orientation": "vertical",
      "scrollable": true,
      "dataField": function() {
        return p.dataField;
      },
      "dataFilter": function() {
        return p.dataFilter;
      },
      "template": function() {
        return p.template;
      },
      "managementMode": function() {
        return p.managementMode || 0;
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxlQUR3QztFQUVoRCxVQUFBLEVBQVksSUFGb0M7RUFHaEQsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsY0FEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLE1BQVgsQ0FGYjtNQUdJLGdCQUFBLEVBQWtCLFlBSHRCO01BSUksVUFBQSxFQUFZO1FBQ1AsQ0FBQSxDQUFFLFNBQUE7VUFDQyxDQUFDLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBVixHQUFlLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLElBQWdCO1VBQy9CLElBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsZ0JBQXJCLEdBQXdDLENBQXhDLElBQThDLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLEtBQWdCLENBQUMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLENBQXZGO1lBQ0ksQ0FBQyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVYsR0FBZSxDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQzttQkFDckMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsYUFBckIsR0FBcUMsQ0FBQyxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBdEIsR0FBMEIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFqQixHQUEwQixDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxNQUFqRCxDQUExQixHQUFxRixDQUFDLENB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LCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5WZXJ0aWNhbFNjcm9sbFZpZXdcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuRnJlZUxheW91dFwiLFxuICAgIFwiY2xpcFJlY3RcIjogdHJ1ZSxcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuU2Nyb2xsQmFyXCIsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFswLCAwLCAxNSwgXCIxMDAlXCJdLFxuICAgICAgICAgICAgXCJ1cGRhdGVCZWhhdmlvclwiOiBcImNvbnRpbnVvdXNcIixcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICgkIC0+IFxuICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLm51bWJlcnNbMF0gb3IgMFxuICAgICAgICAgICAgICAgICAgICBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCBhbmQgby5udW1iZXJzWzBdICE9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55XG4gICAgICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLmNvbnRyb2xzWzBdLmRzdFJlY3QueVxuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsT2Zmc2V0WSA9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55IC8gKG8ucGFyZW50LmRzdFJlY3QuaGVpZ2h0IC0gby5jb250cm9sc1swXS5kc3RSZWN0LmhlaWdodCkgKiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAoJCAtPiBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCB0aGVuIG8uY29udHJvbHNbMF0uZHN0UmVjdC5oZWlnaHQgPSBNYXRoLm1heChvLnBhcmVudC5kc3RSZWN0LmhlaWdodCAvIG8ucGFyZW50LmNvbnRyb2xzWzFdLmNvbnRlbnRIZWlnaHQgKiBvLnBhcmVudC5kc3RSZWN0LmhlaWdodCwgMzApICksXG4gICAgICAgICAgICAgICAgKCQgLT4gby52aXNpYmxlID0gZmFsc2UgaWYgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsYWJsZUhlaWdodCA9PSAwICksXG4gICAgICAgICAgICAgICAgKCQgLT4gby52aXNpYmxlID0gdHJ1ZSBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCApXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJtYXJnaW5cIjogWzAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgXCJhbGlnbm1lbnRYXCI6IFwicmlnaHRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgICAgICAgICAgXCJmb3JtdWxhc1wiOiBbXG4gICAgICAgICAgICAgICAgJCAtPlxuICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLm51bWJlcnNbMF0gb3IgMFxuICAgICAgICAgICAgICAgICAgICBpZiBvLm51bWJlcnNbMF0gIT0gby5zY3JvbGxPZmZzZXRZXG4gICAgICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLnNjcm9sbE9mZnNldFlcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGFyZW50LmNvbnRyb2xzWzBdLmNvbnRyb2xzWzBdLmRzdFJlY3QueSA9IG8uc2Nyb2xsT2Zmc2V0WSAvIG8uc2Nyb2xsYWJsZUhlaWdodCAqIChvLmRzdFJlY3QuaGVpZ2h0IC0gby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnBhcmVudC5jb250cm9sc1swXS5udW1iZXJzWzBdID0gby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC55XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgICAgICAgICAgXCJzY3JvbGxhYmxlXCI6IHRydWUsXG4gICAgICAgICAgICBcImRhdGFGaWVsZFwiOiAtPiBwLmRhdGFGaWVsZCxcbiAgICAgICAgICAgIFwiZGF0YUZpbHRlclwiOiAtPiBwLmRhdGFGaWx0ZXIsXG4gICAgICAgICAgICBcInRlbXBsYXRlXCI6IC0+IHAudGVtcGxhdGUsXG4gICAgICAgICAgICBcIm1hbmFnZW1lbnRNb2RlXCI6IC0+IHAubWFuYWdlbWVudE1vZGUgfHwgMFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_VerticalScrollView_163.js
ui.UiFactory.customTypes["ui.DataScrollView"] = {
  "type": "ui.FreeLayout",
  "clipRect": true,
  "controls": [
    {
      "type": "ui.ScrollBar",
      "frame": [0, 0, 15, "100%"],
      "updateBehavior": "continuous",
      "formulas": [
        $(function() {
          o.numbers[0] = o.numbers[0] || 0;
          if (o.parent.controls[1].scrollableHeight > 0 && o.numbers[0] !== o.controls[0].dstRect.y) {
            o.numbers[0] = o.controls[0].dstRect.y;
            o.parent.controls[1].scrollOffsetY = o.controls[0].dstRect.y / (o.parent.dstRect.height - o.controls[0].dstRect.height) * o.parent.controls[1].scrollableHeight;
          }
          if (o.parent.controls[1].scrollableHeight > 0) {
            o.controls[0].dstRect.height = Math.max(o.parent.dstRect.height / o.parent.controls[1].contentHeight * o.parent.dstRect.height, 30);
          }
          if (o.parent.controls[1].scrollableHeight <= 0) {
            o.visible = false;
          }
          if (o.parent.controls[1].scrollableHeight > 0) {
            return o.visible = true;
          }
        })
      ],
      "margin": [0, 0, 0, 0],
      "alignmentX": "right"
    }, {
      "type": "ui.DataGrid",
      "id": "mygrid",
      "formulas": [
        $(function() {
          o.numbers[0] = o.numbers[0] || 0;
          if (o.numbers[0] !== o.scrollOffsetY) {
            o.numbers[0] = o.scrollOffsetY;
            o.parent.controls[0].controls[0].dstRect.y = o.scrollOffsetY / o.scrollableHeight * (o.dstRect.height - o.parent.controls[0].controls[0].dstRect.height);
            return o.parent.controls[0].numbers[0] = o.parent.controls[0].controls[0].dstRect.y;
          }
        })
      ],
      "frame": [0, 0, "100%", "100%"],
      "template": function() {
        return p.template;
      },
      "dataSource": function() {
        return p.dataSource;
      },
      "spacing": function() {
        return p.spacing;
      },
      "columns": function() {
        var ref;
        return (ref = p.columns) != null ? ref : 1;
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLG1CQUFBLENBQXpCLEdBQWdEO0VBQzVDLE1BQUEsRUFBUSxlQURvQztFQUU1QyxVQUFBLEVBQVksSUFGZ0M7RUFHNUMsVUFBQSxFQUFZO0lBQ1I7TUFDSSxNQUFBLEVBQVEsY0FEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLE1BQVgsQ0FGYjtNQUdJLGdCQUFBLEVBQWtCLFlBSHRCO01BSUksVUFBQSxFQUFZO1FBQ1IsQ0FBQSxDQUFFLFNBQUE7VUFDRSxDQUFDLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBVixHQUFlLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLElBQWdCO1VBQy9CLElBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsZ0JBQXJCLEdBQXdDLENBQXhDLElBQThDLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLEtBQWdCLENBQUMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLENBQXZGO1lBQ0ksQ0FBQyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVYsR0FBZSxDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQztZQUNyQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxhQUFyQixHQUFxQyxDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxDQUF0QixHQUEwQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWpCLEdBQTBCLENBQUMsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsT0FBTyxDQUFDLE1BQWpELENBQTFCLEdBQXFGLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLGlCQUZuSjs7VUFHQSxJQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLGdCQUFyQixHQUF3QyxDQUEzQztZQUFrRCxDQUFDLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxNQUF0QixHQUErQixJQUFJLENBQUMsR0FBTCxDQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQWpCLEdBQTBCLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLGFBQS9DLEdBQStELENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQXpGLEVBQWlHLEVBQWpHLEVBQWpGOztVQUNBLElBQXFCLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLGdCQUFyQixJQUF5QyxDQUE5RDtZQUFBLENBQUMsQ0FBQyxPQUFGLEdBQVksTUFBWjs7VUFDQSxJQUFvQixDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxnQkFBckIsR0FBd0MsQ0FBNUQ7bUJBQUEsQ0FBQyxDQUFDLE9BQUYsR0FBWSxLQUFaOztRQVBGLENBQUYsQ0FEUTtPQUpoQjtNQWVJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FmZDtNQWdCSSxZQUFBLEVBQWMsT0FoQmxCO0tBRFEsRUFtQlI7TUFDSSxNQUFBLEVBQVEsYUFEWjtNQUVJLElBQUEsRUFBTSxRQUZWO01BR0ksVUFBQSxFQUFZO1FBQ1IsQ0FBQSxDQUFFLFNBQUE7VUFDRSxDQUFDLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBVixHQUFlLENBQUMsQ0FBQyxPQUFRLENBQUEsQ0FBQSxDQUFWLElBQWdCO1VBQy9CLElBQUcsQ0FBQyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVYsS0FBZ0IsQ0FBQyxDQUFDLGFBQXJCO1lBQ0ksQ0FBQyxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVYsR0FBZSxDQUFDLENBQUM7WUFDakIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQU8sQ0FBQyxDQUF6QyxHQUE2QyxDQUFDLENBQUMsYUFBRixHQUFrQixDQUFDLENBQUMsZ0JBQXBCLEdBQXVDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFWLEdBQW1CLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsTUFBN0Q7bUJBQ3BGLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQTdCLEdBQWtDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFPLENBQUMsRUFIL0U7O1FBRkYsQ0FBRixDQURRO09BSGhCO01BYUksT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLEVBQWUsTUFBZixDQWJiO01BY0ksVUFBQSxFQUFZLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQWRoQjtNQWVJLFlBQUEsRUFBYyxTQUFBO2VBQUcsQ0FBQyxDQUFDO01BQUwsQ0FmbEI7TUFnQkksU0FBQSxFQUFXLFNBQUE7ZUFBRyxDQUFDLENBQUM7TUFBTCxDQWhCZjtNQWlCSSxTQUFBLEVBQVcsU0FBQTtBQUFHLFlBQUE7aURBQVk7TUFBZixDQWpCZjtLQW5CUTtHQUhnQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLkRhdGFTY3JvbGxWaWV3XCJdID0ge1xuICAgIFwidHlwZVwiOiBcInVpLkZyZWVMYXlvdXRcIixcbiAgICBcImNsaXBSZWN0XCI6IHRydWUsXG4gICAgXCJjb250cm9sc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlNjcm9sbEJhclwiLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMTUsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwidXBkYXRlQmVoYXZpb3JcIjogXCJjb250aW51b3VzXCIsXG4gICAgICAgICAgICBcImZvcm11bGFzXCI6IFtcbiAgICAgICAgICAgICAgICAkIC0+IFxuICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLm51bWJlcnNbMF0gb3IgMFxuICAgICAgICAgICAgICAgICAgICBpZiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0ID4gMCBhbmQgby5udW1iZXJzWzBdICE9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55XG4gICAgICAgICAgICAgICAgICAgICAgICBvLm51bWJlcnNbMF0gPSBvLmNvbnRyb2xzWzBdLmRzdFJlY3QueVxuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsT2Zmc2V0WSA9IG8uY29udHJvbHNbMF0uZHN0UmVjdC55IC8gKG8ucGFyZW50LmRzdFJlY3QuaGVpZ2h0IC0gby5jb250cm9sc1swXS5kc3RSZWN0LmhlaWdodCkgKiBvLnBhcmVudC5jb250cm9sc1sxXS5zY3JvbGxhYmxlSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIG8ucGFyZW50LmNvbnRyb2xzWzFdLnNjcm9sbGFibGVIZWlnaHQgPiAwIHRoZW4gby5jb250cm9sc1swXS5kc3RSZWN0LmhlaWdodCA9IE1hdGgubWF4KG8ucGFyZW50LmRzdFJlY3QuaGVpZ2h0IC8gby5wYXJlbnQuY29udHJvbHNbMV0uY29udGVudEhlaWdodCAqIG8ucGFyZW50LmRzdFJlY3QuaGVpZ2h0LCAzMClcbiAgICAgICAgICAgICAgICAgICAgby52aXNpYmxlID0gZmFsc2UgaWYgby5wYXJlbnQuY29udHJvbHNbMV0uc2Nyb2xsYWJsZUhlaWdodCA8PSAwICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBvLnZpc2libGUgPSB0cnVlIGlmIG8ucGFyZW50LmNvbnRyb2xzWzFdLnNjcm9sbGFibGVIZWlnaHQgPiAwIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibWFyZ2luXCI6IFswLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIFwiYWxpZ25tZW50WFwiOiBcInJpZ2h0XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuRGF0YUdyaWRcIixcbiAgICAgICAgICAgIFwiaWRcIjogXCJteWdyaWRcIixcbiAgICAgICAgICAgIFwiZm9ybXVsYXNcIjogW1xuICAgICAgICAgICAgICAgICQgLT5cbiAgICAgICAgICAgICAgICAgICAgby5udW1iZXJzWzBdID0gby5udW1iZXJzWzBdIG9yIDBcbiAgICAgICAgICAgICAgICAgICAgaWYgby5udW1iZXJzWzBdICE9IG8uc2Nyb2xsT2Zmc2V0WVxuICAgICAgICAgICAgICAgICAgICAgICAgby5udW1iZXJzWzBdID0gby5zY3JvbGxPZmZzZXRZXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnBhcmVudC5jb250cm9sc1swXS5jb250cm9sc1swXS5kc3RSZWN0LnkgPSBvLnNjcm9sbE9mZnNldFkgLyBvLnNjcm9sbGFibGVIZWlnaHQgKiAoby5kc3RSZWN0LmhlaWdodCAtIG8ucGFyZW50LmNvbnRyb2xzWzBdLmNvbnRyb2xzWzBdLmRzdFJlY3QuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXJlbnQuY29udHJvbHNbMF0ubnVtYmVyc1swXSA9IG8ucGFyZW50LmNvbnRyb2xzWzBdLmNvbnRyb2xzWzBdLmRzdFJlY3QueVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICNcImJpbmRpbmdzXCI6IFt7IFwiZXZlbnRcIjogeyBcIm9uQ2hhbmdlXCI6IFwiby5zY3JvbGxPZmZzZXRZXCIgfSwgXCJzb3VyY2VGaWVsZFwiOiBcIm8uc2Nyb2xsT2Zmc2V0WVwiLCBcInRhcmdldEZpZWxkXCI6IFwiby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC55XCIsIFwiY29udmVydFJhdGlvXCI6IHsgXCJzb3VyY2VcIjogXCJvLnNjcm9sbGFibGVIZWlnaHRcIiwgXCJ0YXJnZXRTaXplXCI6IFwiby5wYXJlbnQuY29udHJvbHNbMF0uY29udHJvbHNbMF0uZHN0UmVjdC5oZWlnaHRcIiwgXCJvZmZzZXRcIjogMCwgXCJ0YXJnZXRcIjogXCJvLmRzdFJlY3QuaGVpZ2h0XCIgfSwgXCJicmVha0NoYWluXCI6IFtcIm8ucGFyZW50LmNvbnRyb2xzWzBdXCJdIH1dLFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgXCIxMDAlXCIsIFwiMTAwJVwiXSxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIjogLT4gcC50ZW1wbGF0ZVxuICAgICAgICAgICAgXCJkYXRhU291cmNlXCI6IC0+IHAuZGF0YVNvdXJjZVxuICAgICAgICAgICAgXCJzcGFjaW5nXCI6IC0+IHAuc3BhY2luZ1xuICAgICAgICAgICAgXCJjb2x1bW5zXCI6IC0+IHAuY29sdW1ucyA/IDFcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_DataScrollView_164.js
ui.UiFactory.customTypes["ui.SettingsMenuSlider"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "orientation": "vertical",
  "margin": [10, 10, 0, 0],
  "controls": [
    {
      "type": "ui.Text",
      "text": function() {
        return p.label;
      },
      "styles": ["regularUIText"],
      "frame": [0, 0, 200, gs.UIConstants.OPTION_BUTTON_H - 40],
      "margin": [0, 0, 50, 0]
    }, {
      "type": "ui.Slider",
      "id": function() {
        return p.id;
      },
      "frame": [80, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W - 110, gs.UIConstants.OPTION_BUTTON_H],
      "params": {
        "actions": [],
        "max": 100,
        "write": (function() {
          return p.write;
        }),
        "read": (function() {
          return p.read;
        })
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxnQkFEd0M7RUFFaEQsV0FBQSxFQUFhLElBRm1DO0VBR2hELGFBQUEsRUFBZSxVQUhpQztFQUloRCxRQUFBLEVBQVUsQ0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLENBQVQsRUFBWSxDQUFaLENBSnNDO0VBS2hELFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFNBRFo7TUFFSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBRlo7TUFHSSxRQUFBLEVBQVUsQ0FBQyxlQUFELENBSGQ7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWYsR0FBaUMsRUFBN0MsQ0FKYjtNQUtJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLENBQVgsQ0FMZDtLQURRLEVBUVI7TUFDSSxNQUFBLEVBQVEsV0FEWjtNQUVJLElBQUEsRUFBTSxTQUFBO2VBQUcsQ0FBQyxDQUFDO01BQUwsQ0FGVjtNQUdJLE9BQUEsRUFBUyxDQUFDLEVBQUQsRUFBSyxDQUFMLEVBQVEsRUFBRSxDQUFDLFdBQVcsQ0FBQyx3QkFBZixHQUEwQyxHQUFsRCxFQUF1RCxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQXRFLENBSGI7TUFJSSxRQUFBLEVBQVU7UUFBRSxTQUFBLEVBQVcsRUFBYjtRQUFpQixLQUFBLEVBQU8sR0FBeEI7UUFBNkIsT0FBQSxFQUFTLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBQXRDO1FBQW9ELE1BQUEsRUFBUSxDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FBRCxDQUE1RDtPQUpkO0tBUlE7R0FMb0MiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5TZXR0aW5nc01lbnVTbGlkZXJcIl0gPSB7XG4gICAgXCJ0eXBlXCI6IFwidWkuU3RhY2tMYXlvdXRcIixcbiAgICBcInNpemVUb0ZpdFwiOiB0cnVlLFxuICAgIFwib3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgIFwibWFyZ2luXCI6IFsxMCwgMTAsIDAsIDBdLCBcbiAgICBcImNvbnRyb2xzXCI6IFtcbiAgICAgICAgeyBcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlRleHRcIiwgXG4gICAgICAgICAgICBcInRleHRcIjogLT4gcC5sYWJlbCxcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sIFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMjAwLCBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0ggLSA0MF0sXG4gICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgNTAsIDBdXG4gICAgICAgIH0sXG4gICAgICAgIHsgXG4gICAgICAgICAgICBcInR5cGVcIjogXCJ1aS5TbGlkZXJcIiwgXG4gICAgICAgICAgICBcImlkXCI6IC0+IHAuaWQsXG4gICAgICAgICAgICBcImZyYW1lXCI6IFs4MCwgMCwgZ3MuVUlDb25zdGFudHMuTEFZT1VUX1NFVFRJTkdTX1dJTkRPV19XIC0gMTEwLCBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0hdLCBcbiAgICAgICAgICAgIFwicGFyYW1zXCI6IHsgXCJhY3Rpb25zXCI6IFtdLCBcIm1heFwiOiAxMDAsIFwid3JpdGVcIjogKC0+IHAud3JpdGUpLCBcInJlYWRcIjogKC0+IHAucmVhZCkgfSBcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_SettingsMenuSlider_166.js
ui.UiFactory.customTypes["ui.SettingsOptionSet"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "orientation": "vertical",
  "margin": [10, 10, 0, 0],
  "controls": [
    {
      "type": "ui.Text",
      "text": function() {
        return p.label;
      },
      "styles": ["regularUIText"],
      "frame": [0, 0, 300, gs.UIConstants.OPTION_BUTTON_H - 30]
    }, {
      "type": "ui.OptionButtonSet",
      "frame": [80, 0, 330, gs.UIConstants.OPTION_BUTTON_H],
      "params": {
        "actions": [],
        "write": (function() {
          return p.write;
        }),
        "read": (function() {
          return p.read;
        }),
        "max": 100,
        "onLabel": (function() {
          return p.onLabel || "On";
        }),
        "onAction": (function() {
          return p.onAction;
        }),
        "offLabel": (function() {
          return p.offLabel || "Off";
        }),
        "offAction": (function() {
          return p.offAction;
        }),
        "group": (function() {
          return p.group;
        })
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHNCQUFBLENBQXpCLEdBQW1EO0VBQy9DLE1BQUEsRUFBUSxnQkFEdUM7RUFFL0MsV0FBQSxFQUFhLElBRmtDO0VBRy9DLGFBQUEsRUFBZSxVQUhnQztFQUkvQyxRQUFBLEVBQVUsQ0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLENBQVQsRUFBWSxDQUFaLENBSnFDO0VBSy9DLFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFNBRFo7TUFFSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBRlo7TUFHSSxRQUFBLEVBQVUsQ0FBQyxlQUFELENBSGQ7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWYsR0FBaUMsRUFBN0MsQ0FKYjtLQURRLEVBT1I7TUFDSSxNQUFBLEVBQVEsb0JBRFo7TUFFSSxPQUFBLEVBQVMsQ0FBQyxFQUFELEVBQUssQ0FBTCxFQUFRLEdBQVIsRUFBYSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQTVCLENBRmI7TUFHSSxRQUFBLEVBQVU7UUFBRSxTQUFBLEVBQVcsRUFBYjtRQUFpQixPQUFBLEVBQVMsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FBMUI7UUFBd0MsTUFBQSxFQUFRLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBQWhEO1FBQTZELEtBQUEsRUFBTyxHQUFwRTtRQUF5RSxTQUFBLEVBQVcsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQyxPQUFGLElBQWE7UUFBaEIsQ0FBRCxDQUFwRjtRQUE0RyxVQUFBLEVBQVksQ0FBRSxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUYsQ0FBeEg7UUFBMEksVUFBQSxFQUFZLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUMsUUFBRixJQUFjO1FBQWpCLENBQUQsQ0FBdEo7UUFBZ0wsV0FBQSxFQUFhLENBQUMsU0FBQTtpQkFBRyxDQUFDLENBQUM7UUFBTCxDQUFELENBQTdMO1FBQStNLE9BQUEsRUFBUyxDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FBRCxDQUF4TjtPQUhkO0tBUFE7R0FMbUMiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbXCJ1aS5TZXR0aW5nc09wdGlvblNldFwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgXCJtYXJnaW5cIjogWzEwLCAxMCwgMCwgMF0sIFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7IFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLCBcbiAgICAgICAgICAgIFwidGV4dFwiOiAtPiBwLmxhYmVsLCBcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sIFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMzAwLCBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0ggLSAzMF1cbiAgICAgICAgfSxcbiAgICAgICAgeyBcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLk9wdGlvbkJ1dHRvblNldFwiLCBcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzgwLCAwLCAzMzAsIGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fSF0sIFxuICAgICAgICAgICAgXCJwYXJhbXNcIjogeyBcImFjdGlvbnNcIjogW10sIFwid3JpdGVcIjogKC0+IHAud3JpdGUpLCBcInJlYWRcIjogKC0+IHAucmVhZCksIFwibWF4XCI6IDEwMCwgXCJvbkxhYmVsXCI6ICgtPiBwLm9uTGFiZWwgb3IgXCJPblwiKSwgXCJvbkFjdGlvblwiOiAoIC0+IHAub25BY3Rpb24pLCBcIm9mZkxhYmVsXCI6ICgtPiBwLm9mZkxhYmVsIG9yIFwiT2ZmXCIpLCBcIm9mZkFjdGlvblwiOiAoLT4gcC5vZmZBY3Rpb24pLCBcImdyb3VwXCI6ICgtPiBwLmdyb3VwKSB9IFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==
//# sourceURL=Template_SettingsOptionSet_168.js
ui.UiFactory.customTypes["ui.SettingsStepSlider"] = {
  "type": "ui.StackLayout",
  "sizeToFit": true,
  "orientation": "vertical",
  "margin": [10, 10, 0, 0],
  "controls": [
    {
      "type": "ui.Text",
      "text": function() {
        return p.label;
      },
      "styles": ["regularUIText"],
      "frame": [0, 0, 350, gs.UIConstants.OPTION_BUTTON_H - 30],
      "margin": [0, 0, 0, 0]
    }, {
      "type": "ui.StepSlider",
      "frame": [40, 0, gs.UIConstants.LAYOUT_SETTINGS_WINDOW_W - 150, gs.UIConstants.OPTION_BUTTON_H + 30],
      "params": {
        "actions": [],
        "write": (function() {
          return p.write;
        }),
        "read": (function() {
          return p.read;
        }),
        "steps": 5,
        "data": function() {
          return p.data;
        }
      }
    }
  ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBWSxDQUFBLHVCQUFBLENBQXpCLEdBQW9EO0VBQ2hELE1BQUEsRUFBUSxnQkFEd0M7RUFFaEQsV0FBQSxFQUFhLElBRm1DO0VBR2hELGFBQUEsRUFBZSxVQUhpQztFQUloRCxRQUFBLEVBQVUsQ0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLENBQVQsRUFBWSxDQUFaLENBSnNDO0VBS2hELFVBQUEsRUFBWTtJQUNSO01BQ0ksTUFBQSxFQUFRLFNBRFo7TUFFSSxNQUFBLEVBQVEsU0FBQTtlQUFHLENBQUMsQ0FBQztNQUFMLENBRlo7TUFHSSxRQUFBLEVBQVUsQ0FBQyxlQUFELENBSGQ7TUFJSSxPQUFBLEVBQVMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEdBQVAsRUFBWSxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWYsR0FBaUMsRUFBN0MsQ0FKYjtNQUtJLFFBQUEsRUFBVSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FMZDtLQURRLEVBUVI7TUFDSSxNQUFBLEVBQVEsZUFEWjtNQUVJLE9BQUEsRUFBUyxDQUFDLEVBQUQsRUFBSyxDQUFMLEVBQVEsRUFBRSxDQUFDLFdBQVcsQ0FBQyx3QkFBZixHQUEwQyxHQUFsRCxFQUF1RCxFQUFFLENBQUMsV0FBVyxDQUFDLGVBQWYsR0FBaUMsRUFBeEYsQ0FGYjtNQUdJLFFBQUEsRUFBVTtRQUFFLFNBQUEsRUFBVyxFQUFiO1FBQWlCLE9BQUEsRUFBUyxDQUFDLFNBQUE7aUJBQUcsQ0FBQyxDQUFDO1FBQUwsQ0FBRCxDQUExQjtRQUF3QyxNQUFBLEVBQVEsQ0FBQyxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQUQsQ0FBaEQ7UUFBNkQsT0FBQSxFQUFTLENBQXRFO1FBQXlFLE1BQUEsRUFBUSxTQUFBO2lCQUFHLENBQUMsQ0FBQztRQUFMLENBQWpGO09BSGQ7S0FSUTtHQUxvQyIsInNvdXJjZXNDb250ZW50IjpbInVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tcInVpLlNldHRpbmdzU3RlcFNsaWRlclwiXSA9IHtcbiAgICBcInR5cGVcIjogXCJ1aS5TdGFja0xheW91dFwiLFxuICAgIFwic2l6ZVRvRml0XCI6IHRydWUsXG4gICAgXCJvcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgXCJtYXJnaW5cIjogWzEwLCAxMCwgMCwgMF0sIFxuICAgIFwiY29udHJvbHNcIjogW1xuICAgICAgICB7IFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidWkuVGV4dFwiLCBcbiAgICAgICAgICAgIFwidGV4dFwiOiAtPiBwLmxhYmVsLCBcbiAgICAgICAgICAgIFwic3R5bGVzXCI6IFtcInJlZ3VsYXJVSVRleHRcIl0sIFxuICAgICAgICAgICAgXCJmcmFtZVwiOiBbMCwgMCwgMzUwLCBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0ggLSAzMF0sXG4gICAgICAgICAgICBcIm1hcmdpblwiOiBbMCwgMCwgMCwgMF1cbiAgICAgICAgfSxcbiAgICAgICAgeyBcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInVpLlN0ZXBTbGlkZXJcIixcbiAgICAgICAgICAgIFwiZnJhbWVcIjogWzQwLCAwLCBncy5VSUNvbnN0YW50cy5MQVlPVVRfU0VUVElOR1NfV0lORE9XX1cgLSAxNTAsIGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fSCArIDMwXSwgXG4gICAgICAgICAgICBcInBhcmFtc1wiOiB7IFwiYWN0aW9uc1wiOiBbXSwgXCJ3cml0ZVwiOiAoLT4gcC53cml0ZSksIFwicmVhZFwiOiAoLT4gcC5yZWFkKSwgXCJzdGVwc1wiOiA1LCBcImRhdGFcIjogLT4gcC5kYXRhICAgfSBcbiAgICAgICAgfVxuICAgIF1cbn0iXX0=
//# sourceURL=Template_SettingsStepSlider_170.js
(function() {


}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19
//# sourceURL=Styles_136.js

/*
 * Category name which is displayed on the left side in some settings menus like the audio
 * settings.
 */
ui.UIManager.styles.windowCategoryUIText = {
  "font": {
    "name": "Times New Roman",
    "size": gs.UIConstants.TEXT_SIZE_SMALL,
    "smallCaps": true,
    "italic": true,
    "color": [215, 215, 215, 255]
  }
};


/*
 * Title Screen text used for the title screen options like "New Game", etc.
 */

ui.UIManager.styles.titleText = {
  "font": {
    "name": "Times New Roman",
    "size": 45,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255],
    "outline": {
      "color": [0, 0, 0, 255],
      "size": 4
    }
  },
  "anchor": [0.5, 0.5],
  "animations": [
    {
      "event": "onMouseHover",
      "flow": [
        {
          "type": "zoomTo",
          "zoom": [110, 110],
          "duration": 10,
          "easing": "linear_inout",
          "wait": true
        }
      ]
    }, {
      "event": "onMouseLeave",
      "clear": false,
      "flow": [
        {
          "type": "zoomTo",
          "zoom": [100, 100],
          "duration": 10,
          "easing": "linear_inout"
        }
      ]
    }
  ]
};

ui.UIManager.styles["titleText:hover"] = {
  "font": {
    "name": "Times New Roman",
    "size": 45,
    "smallCaps": true,
    "italic": true,
    "color": [205, 205, 255, 255],
    "outline": {
      "color": [0, 0, 0, 255],
      "size": 4
    }
  }
};

ui.UIManager.styles["titleText:focused"] = {
  "font": {
    "name": "Times New Roman",
    "size": 45,
    "smallCaps": true,
    "italic": true,
    "color": [205, 205, 255, 255],
    "outline": {
      "color": [0, 0, 0, 255],
      "size": 4
    }
  }
};

ui.UIManager.styles.choiceBoxEntry = {
  "opacity": 180
};

ui.UIManager.styles["choiceBoxEntry:enabled"] = {
  "opacity": 255
};

ui.UIManager.styles.messageOptionButton = {
  "image": gs.UIConstants.OPTION_BUTTON_MSG_IMAGE_OFF,
  "opacity": 100
};

ui.UIManager.styles["messageOptionButton:selected"] = {
  "image": gs.UIConstants.OPTION_BUTTON_MSG_IMAGE_ON,
  "opacity": 255
};

ui.UIManager.styles["messageOptionButton:enabled"] = {
  "opacity": 255
};

ui.UIManager.styles.optionButton = {
  "image": gs.UIConstants.OPTION_BUTTON_L_IMAGE_OFF
};

ui.UIManager.styles["optionButton:selected"] = {
  "image": gs.UIConstants.OPTION_BUTTON_L_IMAGE_ON
};

ui.UIManager.styles.sliderTrack = {
  "color": [131, 131, 131, 131]
};

ui.UIManager.styles.sliderKnob = {
  "image": gs.UIConstants.OPTION_BUTTON_L_IMAGE_OFF
};

ui.UIManager.styles["sliderKnob:hover"] = {
  "image": gs.UIConstants.OPTION_BUTTON_L_IMAGE_ON
};

ui.UIManager.styles.galleryImageFrame = {
  "image": "dropshadow"
};

ui.UIManager.styles["galleryImageFrame:hover"] = {
  "image": "selection"
};

ui.UIManager.styles["galleryImageFrame:selected"] = {
  "image": "selection"
};

ui.UIManager.styles.windowFrame = {
  "image": "skin-frame"
};

ui.UIManager.styles.windowTilePattern = {
  "image": "skin-tile",
  "looping": {
    "vertical": true,
    "horizontal": true
  }
};

ui.UIManager.styles.windowStretchPattern = {
  "image": "skin-stretch"
};

ui.UIManager.styles.windowShadow = {
  "image": "dropshadow",
  "frameCornerSize": 30,
  "frameThickness": 30,
  "padding": [-16, -16, -16, -16]
};

ui.UIManager.styles.selectableWindowShadow = {
  "image": "dropshadow"
};

ui.UIManager.styles["selectableWindowShadow:hover"] = {
  "image": "selection"
};

ui.UIManager.styles.buttonText = {
  "alignmentX": "center",
  "alignmentY": "center",
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  }
};

ui.UIManager.styles.cgGalleryImage = {};

ui.UIManager.styles["cgGalleryImageFrame"] = {
  "image": "dropshadow"
};

ui.UIManager.styles["selectableText"] = {
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  }
};

ui.UIManager.styles["selectableText:selected"] = {
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [205, 205, 255, 255]
  }
};

ui.UIManager.styles["button"] = {};

ui.UIManager.styles["button:focused selectableWindowShadow"] = {
  "image": "selection"
};

ui.UIManager.styles["cgGalleryImage:hover cgGalleryImageFrame"] = {
  "image": "selection"
};


/*
 * Choice Timer text displayed if "Choice Timer" command is used to show a count-down
 * until the choice-selection is done automatically.
 */

ui.UIManager.styles.choiceTimerText = {
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255],
    "border": true
  }
};


/*
 * Regular Size UI text used in all places for normal-size text / labels.
 */

ui.UIManager.styles.regularUIText = {
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  },
  "opacity": 100
};

ui.UIManager.styles["regularUIText:enabled"] = {
  "font": {
    "name": "Times New Roman",
    "size": 30,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  },
  "opacity": 255
};


/*
 * Small Size UI text used in all places for small-size text / labels.
 */

ui.UIManager.styles.smallUIText = {
  "font": {
    "name": "Times New Roman",
    "size": 22,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  }
};


/*
 * Small Size text used for save-game slot descriptions.
 */

ui.UIManager.styles.saveGameUIText = {
  "font": {
    "name": "Times New Roman",
    "size": 20,
    "smallCaps": true,
    "italic": true,
    "color": [255, 255, 255, 255]
  }
};


/*
 * Regular message text style for use in backlog, etc.
 */

ui.UIManager.styles.messageText = {
  "font": {
    "name": "Times New Roman",
    "size": gs.UIConstants.TEXT_SIZE_MESSAGE,
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};


/*
 * Ruby text style. 
 * If size-property is not present, the half of the current font-size is used.
 * If color-property is not present, the current font-color is used.
 */

ui.UIManager.styles.rubyText = {
  "font": {
    "name": "Times New Roman",
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};


/*
 * Text for ADV game messages.
 */

ui.UIManager.styles.advMessageText = {
  "font": {
    "name": "Times New Roman",
    "size": gs.UIConstants.TEXT_SIZE_MESSAGE,
    "smallCaps": false,
    "italic": true,
    "outline": {
      "size": 4
    }
  }
};


/*
 * Text for NVL game messages.
 */

ui.UIManager.styles.nvlMessageText = {
  "font": {
    "name": "Times New Roman",
    "size": gs.UIConstants.TEXT_SIZE_MESSAGE,
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};


/*
 * Used to display the current character's name.
 */

ui.UIManager.styles.messageBoxNameText = {
  "font": {
    "name": "Times New Roman",
    "size": gs.UIConstants.TEXT_SIZE_MESSAGE_NAME,
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};


/*
 * Used for number-input entries showing you the current number you have entered so far.
 */

ui.UIManager.styles.numberInputEntryText = {
  "font": {
    "name": "Times New Roman",
    "size": 90,
    "color": [0, 0, 0, 255]
  }
};


/*
 * Used for number-input for each single digit.
 */

ui.UIManager.styles.numberInputDigitText = {
  "font": {
    "name": "Times New Roman",
    "size": 35
  }
};


/*
 * Used for text-input entries showing you the current text you have entered so far.
 */

ui.UIManager.styles.textInputEntryText = {
  "font": {
    "name": "Times New Roman",
    "size": 90,
    "color": [0, 0, 0, 255]
  }
};


/*
 * Used for text-input for each single letter.
 */

ui.UIManager.styles.textInputLetterText = {
  "font": {
    "name": "Times New Roman",
    "size": 25
  }
};


/*
 * Defines the color used for the name-column of the message backlog.
 */

ui.UIManager.styles.backlogNamePanel = {
  "color": [255, 255, 255, 40]
};


/*
 * Defines the color used for the message-column of the message backlog.
 */

ui.UIManager.styles.backlogMessagePanel = {
  "color": [0, 0, 0, 160]
};


/*
 * Defines the color used for sub-areas on a window a category-column,etc.
 */

ui.UIManager.styles["hyperlink"] = {
  "font": {
    "color": [255, 255, 255, 255],
    "name": "Poly-Regular",
    "size": 30,
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};

ui.UIManager.styles["hyperlink:hover"] = {
  "font": {
    "color": [255, 0, 0, 255],
    "name": "Poly-Regular",
    "size": 30,
    "smallCaps": false,
    "italic": true,
    "border": true,
    "borderSize": 4
  }
};


/*
 * Defines the color used for sub-areas on a window a category-column,etc.
 */

ui.UIManager.styles.windowSubPanel = {
  "color": [255, 255, 255, 20]
};


/*
 * Defines the color used for the separator-line to separate a window's title-area from its actual content.
 */

ui.UIManager.styles.windowContentSeparator = {
  "color": [111, 111, 111]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFZQTs7OztBQUlBLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLG9CQUFwQixHQUEyQztFQUN2QyxNQUFBLEVBQVE7SUFDSixNQUFBLEVBQVEsaUJBREo7SUFFSixNQUFBLEVBQVEsRUFBRSxDQUFDLFdBQVcsQ0FBQyxlQUZuQjtJQUdKLFdBQUEsRUFBYSxJQUhUO0lBSUosUUFBQSxFQUFVLElBSk47SUFLSixPQUFBLEVBQVMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsQ0FMTDtHQUQrQjs7OztBQVUzQzs7OztBQUdBLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQXBCLEdBQWdDO0VBQzVCLE1BQUEsRUFBUTtJQUNKLE1BQUEsRUFBUSxpQkFESjtJQUVKLE1BQUEsRUFBUSxFQUZKO0lBR0osV0FBQSxFQUFhLElBSFQ7SUFJSixRQUFBLEVBQVUsSUFKTjtJQUtKLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixDQUxMO0lBTUosU0FBQSxFQUFXO01BQUUsT0FBQSxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsR0FBVixDQUFYO01BQTJCLE1BQUEsRUFBUSxDQUFuQztLQU5QO0dBRG9CO0VBUzVCLFFBQUEsRUFBVSxDQUFDLEdBQUQsRUFBTSxHQUFOLENBVGtCO0VBVTVCLFlBQUEsRUFBYztJQUNWO01BQ0ksT0FBQSxFQUFTLGNBRGI7TUFFSSxNQUFBLEVBQVE7UUFDSjtVQUFFLE1BQUEsRUFBUSxRQUFWO1VBQW9CLE1BQUEsRUFBUSxDQUFDLEdBQUQsRUFBTSxHQUFOLENBQTVCO1VBQXdDLFVBQUEsRUFBWSxFQUFwRDtVQUF3RCxRQUFBLEVBQVUsY0FBbEU7VUFBa0YsTUFBQSxFQUFRLElBQTFGO1NBREk7T0FGWjtLQURVLEVBT1Y7TUFD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LE1BQUEsRUFBUTtJQUFFLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxDQUFOLEVBQVMsQ0FBVCxFQUFZLEdBQVosQ0FBWDtJQUE2QixNQUFBLEVBQVEsY0FBckM7SUFBcUQsTUFBQSxFQUFRLEVBQTdEO0lBQWlFLFdBQUEsRUFBYSxLQUE5RTtJQUFxRixRQUFBLEVBQVUsSUFBL0Y7SUFBcUcsUUFBQSxFQUFVLElBQS9HO0lBQXFILFlBQUEsRUFBYyxDQUFuSTtHQUQ2Qjs7OztBQUl6Qzs7OztBQUdBLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGNBQXBCLEdBQXFDO0VBQ2pDLE9BQUEsRUFBUyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixFQUFoQixDQUR3Qjs7OztBQUlyQzs7OztBQUdBLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLHNCQUFwQixHQUE2QztFQUN6QyxPQUFBLEVBQVMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0FEZ0MiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IFN0eWxlX0RlZmF1bHRcbiNcbiMgICAkJENPUFlSSUdIVCQkXG4jXG4jICAgVGhpcyBzY3JpcHQgZGVmaW5lcyBhbGwgc3R5bGUtZGVzY3JpcHRvcnMgZm9yIHRoZSBkZWZhdWx0LXN0eWxlLiBUbyBjcmVhdGVcbiMgICBhIG5ldyBzdHlsZSwganVzdCBhZGQgYSBuZXcgc2NyaXB0IGFmdGVyIFwiU3R5bGVfRGVmYXVsdFwiIHNjcmlwdCBhbmQgb3ZlcnJpZGVcbiMgICB0aGUgc3R5bGUtZGVzY3JpcHRvcnMgeW91IGxpa2UgdG8gY2hhbmdlLlxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiMjI1xuIyBDYXRlZ29yeSBuYW1lIHdoaWNoIGlzIGRpc3BsYXllZCBvbiB0aGUgbGVmdCBzaWRlIGluIHNvbWUgc2V0dGluZ3MgbWVudXMgbGlrZSB0aGUgYXVkaW9cbiMgc2V0dGluZ3MuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMud2luZG93Q2F0ZWdvcnlVSVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXG4gICAgICAgIFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcbiAgICAgICAgXCJzaXplXCI6IGdzLlVJQ29uc3RhbnRzLlRFWFRfU0laRV9TTUFMTCwgXG4gICAgICAgIFwic21hbGxDYXBzXCI6IHRydWUsIFxuICAgICAgICBcIml0YWxpY1wiOiB0cnVlLCBcbiAgICAgICAgXCJjb2xvclwiOiBbMjE1LCAyMTUsIDIxNSwgMjU1XSBcbiAgICB9XG59XG5cbiMjI1xuIyBUaXRsZSBTY3JlZW4gdGV4dCB1c2VkIGZvciB0aGUgdGl0bGUgc2NyZWVuIG9wdGlvbnMgbGlrZSBcIk5ldyBHYW1lXCIsIGV0Yy5cbiMjI1xudWkuVUlNYW5hZ2VyLnN0eWxlcy50aXRsZVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXG4gICAgICAgIFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcbiAgICAgICAgXCJzaXplXCI6IDQ1LCBcbiAgICAgICAgXCJzbWFsbENhcHNcIjogdHJ1ZSwgXG4gICAgICAgIFwiaXRhbGljXCI6IHRydWUsIFxuICAgICAgICBcImNvbG9yXCI6IFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBcbiAgICAgICAgXCJvdXRsaW5lXCI6IHsgXCJjb2xvclwiOiBbMCwgMCwgMCwgMjU1XSwgXCJzaXplXCI6IDQgfSBcbiAgICB9LFxuICAgIFwiYW5jaG9yXCI6IFswLjUsIDAuNV0sXG4gICAgXCJhbmltYXRpb25zXCI6IFsgXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiZXZlbnRcIjogXCJvbk1vdXNlSG92ZXJcIixcbiAgICAgICAgICAgIFwiZmxvd1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJ6b29tVG9cIiwgXCJ6b29tXCI6IFsxMTAsIDExMF0sIFwiZHVyYXRpb25cIjogMTAsIFwiZWFzaW5nXCI6IFwibGluZWFyX2lub3V0XCIsIFwid2FpdFwiOiB0cnVlIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJldmVudFwiOiBcIm9uTW91c2VMZWF2ZVwiLFxuICAgICAgICAgICAgXCJjbGVhclwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwiZmxvd1wiOiBbXG4gICAgICAgICAgICAgICAgeyBcInR5cGVcIjogXCJ6b29tVG9cIiwgXCJ6b29tXCI6IFsxMDAsIDEwMF0sIFwiZHVyYXRpb25cIjogMTAsIFwiZWFzaW5nXCI6IFwibGluZWFyX2lub3V0XCIgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1widGl0bGVUZXh0OmhvdmVyXCJdID0ge1xuICAgIFwiZm9udFwiOiB7IFxuICAgICAgICBcIm5hbWVcIjogXCJUaW1lcyBOZXcgUm9tYW5cIiwgXG4gICAgICAgIFwic2l6ZVwiOiA0NSwgXG4gICAgICAgIFwic21hbGxDYXBzXCI6IHRydWUsIFxuICAgICAgICBcIml0YWxpY1wiOiB0cnVlLCBcbiAgICAgICAgXCJjb2xvclwiOiBbMjA1LCAyMDUsIDI1NSwgMjU1XSwgXG4gICAgICAgIFwib3V0bGluZVwiOiB7IFwiY29sb3JcIjogWzAsIDAsIDAsIDI1NV0sIFwic2l6ZVwiOiA0IH0gXG4gICAgfVxufVxudWkuVUlNYW5hZ2VyLnN0eWxlc1tcInRpdGxlVGV4dDpmb2N1c2VkXCJdID0ge1xuICAgIFwiZm9udFwiOiB7IFxuICAgICAgICBcIm5hbWVcIjogXCJUaW1lcyBOZXcgUm9tYW5cIiwgXG4gICAgICAgIFwic2l6ZVwiOiA0NSwgXG4gICAgICAgIFwic21hbGxDYXBzXCI6IHRydWUsIFxuICAgICAgICBcIml0YWxpY1wiOiB0cnVlLCBcbiAgICAgICAgXCJjb2xvclwiOiBbMjA1LCAyMDUsIDI1NSwgMjU1XSwgXG4gICAgICAgIFwib3V0bGluZVwiOiB7IFwiY29sb3JcIjogWzAsIDAsIDAsIDI1NV0sIFwic2l6ZVwiOiA0IH0gXG4gICAgfVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLmNob2ljZUJveEVudHJ5ID0ge1xuICAgIFwib3BhY2l0eVwiOiAxODBcbn1cblxudWkuVUlNYW5hZ2VyLnN0eWxlc1tcImNob2ljZUJveEVudHJ5OmVuYWJsZWRcIl0gPSB7XG4gICAgXCJvcGFjaXR5XCI6IDI1NVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLm1lc3NhZ2VPcHRpb25CdXR0b24gPSB7XG4gICAgXCJpbWFnZVwiOiBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX01TR19JTUFHRV9PRkYsXG4gICAgXCJvcGFjaXR5XCI6IDEwMFxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wibWVzc2FnZU9wdGlvbkJ1dHRvbjpzZWxlY3RlZFwiXSA9IHtcbiAgICBcImltYWdlXCI6IGdzLlVJQ29uc3RhbnRzLk9QVElPTl9CVVRUT05fTVNHX0lNQUdFX09OLFxuICAgIFwib3BhY2l0eVwiOiAyNTVcbn1cblxudWkuVUlNYW5hZ2VyLnN0eWxlc1tcIm1lc3NhZ2VPcHRpb25CdXR0b246ZW5hYmxlZFwiXSA9IHtcbiAgICBcIm9wYWNpdHlcIjogMjU1XG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXMub3B0aW9uQnV0dG9uID0ge1xuICAgIFwiaW1hZ2VcIjogZ3MuVUlDb25zdGFudHMuT1BUSU9OX0JVVFRPTl9MX0lNQUdFX09GRlxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wib3B0aW9uQnV0dG9uOnNlbGVjdGVkXCJdID0ge1xuICAgIFwiaW1hZ2VcIjogZ3MuVUlDb25zdGFudHMuT1BUSU9OX0JVVFRPTl9MX0lNQUdFX09OXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXMuc2xpZGVyVHJhY2sgPSB7XG4gICAgXCJjb2xvclwiOiBbMTMxLCAxMzEsIDEzMSwgMTMxXVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLnNsaWRlcktub2IgPSB7XG4gICAgXCJpbWFnZVwiOiBncy5VSUNvbnN0YW50cy5PUFRJT05fQlVUVE9OX0xfSU1BR0VfT0ZGXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJzbGlkZXJLbm9iOmhvdmVyXCJdID0ge1xuICAgIFwiaW1hZ2VcIjogZ3MuVUlDb25zdGFudHMuT1BUSU9OX0JVVFRPTl9MX0lNQUdFX09OXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXMuZ2FsbGVyeUltYWdlRnJhbWUgPSB7XG4gICAgXCJpbWFnZVwiOiBcImRyb3BzaGFkb3dcIlxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wiZ2FsbGVyeUltYWdlRnJhbWU6aG92ZXJcIl0gPSB7XG4gICAgXCJpbWFnZVwiOiBcInNlbGVjdGlvblwiXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJnYWxsZXJ5SW1hZ2VGcmFtZTpzZWxlY3RlZFwiXSA9IHtcbiAgICBcImltYWdlXCI6IFwic2VsZWN0aW9uXCJcbn1cblxudWkuVUlNYW5hZ2VyLnN0eWxlcy53aW5kb3dGcmFtZSA9IHtcbiAgICBcImltYWdlXCI6IFwic2tpbi1mcmFtZVwiXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXMud2luZG93VGlsZVBhdHRlcm4gPSB7XG4gICAgXCJpbWFnZVwiOiBcInNraW4tdGlsZVwiLFxuICAgIFwibG9vcGluZ1wiOiB7IFwidmVydGljYWxcIjogdHJ1ZSwgXCJob3Jpem9udGFsXCI6IHRydWUgfVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLndpbmRvd1N0cmV0Y2hQYXR0ZXJuID0ge1xuICAgIFwiaW1hZ2VcIjogXCJza2luLXN0cmV0Y2hcIlxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLndpbmRvd1NoYWRvdyA9IHtcbiAgICBcImltYWdlXCI6IFwiZHJvcHNoYWRvd1wiLFxuICAgIFwiZnJhbWVDb3JuZXJTaXplXCI6IDMwLFxuICAgIFwiZnJhbWVUaGlja25lc3NcIjogMzAsXG4gICAgXCJwYWRkaW5nXCI6IFstMTYsIC0xNiwgLTE2LCAtMTZdLFxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLnNlbGVjdGFibGVXaW5kb3dTaGFkb3cgPSB7XG4gICAgXCJpbWFnZVwiOiBcImRyb3BzaGFkb3dcIlxufVxuXG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJzZWxlY3RhYmxlV2luZG93U2hhZG93OmhvdmVyXCJdID0ge1xuICAgIFwiaW1hZ2VcIjogXCJzZWxlY3Rpb25cIlxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLmJ1dHRvblRleHQgPSB7XG4gICAgXCJhbGlnbm1lbnRYXCI6IFwiY2VudGVyXCIsXG4gICAgXCJhbGlnbm1lbnRZXCI6IFwiY2VudGVyXCIsXG4gICAgXCJmb250XCI6IHsgXG4gICAgICAgIFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcbiAgICAgICAgXCJzaXplXCI6IDMwLCBcbiAgICAgICAgXCJzbWFsbENhcHNcIjogdHJ1ZSwgXG4gICAgICAgIFwiaXRhbGljXCI6IHRydWUsIFxuICAgICAgICBcImNvbG9yXCI6IFsyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgfVxufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzLmNnR2FsbGVyeUltYWdlID0ge1xufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wiY2dHYWxsZXJ5SW1hZ2VGcmFtZVwiXSA9IHtcbiAgICBcImltYWdlXCI6IFwiZHJvcHNoYWRvd1wiXG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJzZWxlY3RhYmxlVGV4dFwiXSA9IHtcbiAgICBcImZvbnRcIjogeyBcbiAgICAgICAgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFxuICAgICAgICBcInNpemVcIjogMzAsIFxuICAgICAgICBcInNtYWxsQ2Fwc1wiOiB0cnVlLCBcbiAgICAgICAgXCJpdGFsaWNcIjogdHJ1ZSwgXG4gICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICB9XG59XG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJzZWxlY3RhYmxlVGV4dDpzZWxlY3RlZFwiXSA9IHtcbiAgICBcImZvbnRcIjogeyBcbiAgICAgICAgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFxuICAgICAgICBcInNpemVcIjogMzAsIFxuICAgICAgICBcInNtYWxsQ2Fwc1wiOiB0cnVlLCBcbiAgICAgICAgXCJpdGFsaWNcIjogdHJ1ZSwgXG4gICAgICAgIFwiY29sb3JcIjogWzIwNSwgMjA1LCAyNTUsIDI1NV1cbiAgICB9XG59XG5cbiN1aS5VSU1hbmFnZXIuc3R5bGVzW1wiYnV0dG9uOmhvdmVyIHdpbmRvd1NoYWRvd1wiXSA9XG4je1xuIyAgICBcImltYWdlXCI6IFwic2VsZWN0aW9uXCJcbiN9XG5cbnVpLlVJTWFuYWdlci5zdHlsZXNbXCJidXR0b25cIl0gPVxue1xufVxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wiYnV0dG9uOmZvY3VzZWQgc2VsZWN0YWJsZVdpbmRvd1NoYWRvd1wiXSA9XG57XG4gICAgXCJpbWFnZVwiOiBcInNlbGVjdGlvblwiXG59XG5cblxuXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wiY2dHYWxsZXJ5SW1hZ2U6aG92ZXIgY2dHYWxsZXJ5SW1hZ2VGcmFtZVwiXSA9IHtcbiAgICBcImltYWdlXCI6IFwic2VsZWN0aW9uXCJcbn1cblxuI3VpLlVJTWFuYWdlci5zdHlsZXNbXCJjZ0dhbGxlcnlJbWFnZSBjZ0dhbGxlcnlJbWFnZUZyYW1lXCJdID0ge1xuIyAgICBcImltYWdlXCI6IFwiZHJvcHNoYWRvd1wiXG4jfVxuXG4jdWkuVUlNYW5hZ2VyLnN0eWxlc1tcImNnR2FsbGVyeUltYWdlRnJhbWU6aG92ZXJcIl0gPSB7XG4jICAgIFwiaW1hZ2VcIjogXCJzZWxlY3Rpb25cIlxuI31cblxuI3VpLlVJTWFuYWdlci5zdHlsZXNbXCJjZ0dhbGxlcnlJbWFnZUZyYW1lOnNlbGVjdGVkXCJdID0ge1xuIyAgICBcImltYWdlXCI6IFwic2VsZWN0aW9uXCJcbiN9XG5cbiMjI1xuIyBDaG9pY2UgVGltZXIgdGV4dCBkaXNwbGF5ZWQgaWYgXCJDaG9pY2UgVGltZXJcIiBjb21tYW5kIGlzIHVzZWQgdG8gc2hvdyBhIGNvdW50LWRvd25cbiMgdW50aWwgdGhlIGNob2ljZS1zZWxlY3Rpb24gaXMgZG9uZSBhdXRvbWF0aWNhbGx5LlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLmNob2ljZVRpbWVyVGV4dCA9IHtcbiAgICBcImZvbnRcIjogeyBcbiAgICAgICAgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFxuICAgICAgICBcInNpemVcIjogMzAsIFxuICAgICAgICBcInNtYWxsQ2Fwc1wiOiB0cnVlLCBcbiAgICAgICAgXCJpdGFsaWNcIjogdHJ1ZSwgXG4gICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgIFwiYm9yZGVyXCI6IHRydWVcbiAgICB9XG59XG5cbiMjI1xuIyBSZWd1bGFyIFNpemUgVUkgdGV4dCB1c2VkIGluIGFsbCBwbGFjZXMgZm9yIG5vcm1hbC1zaXplIHRleHQgLyBsYWJlbHMuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMucmVndWxhclVJVGV4dCA9IHtcbiAgICBcImZvbnRcIjogeyBcbiAgICAgICAgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFxuICAgICAgICBcInNpemVcIjogMzAsIFxuICAgICAgICBcInNtYWxsQ2Fwc1wiOiB0cnVlLCBcbiAgICAgICAgXCJpdGFsaWNcIjogdHJ1ZSwgXG4gICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICB9LFxuICAgIFwib3BhY2l0eVwiOiAxMDBcbn1cblxudWkuVUlNYW5hZ2VyLnN0eWxlc1tcInJlZ3VsYXJVSVRleHQ6ZW5hYmxlZFwiXSA9IHtcbiAgICBcImZvbnRcIjogeyBcbiAgICAgICAgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFxuICAgICAgICBcInNpemVcIjogMzAsIFxuICAgICAgICBcInNtYWxsQ2Fwc1wiOiB0cnVlLCBcbiAgICAgICAgXCJpdGFsaWNcIjogdHJ1ZSwgXG4gICAgICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICB9LFxuICAgIFwib3BhY2l0eVwiOiAyNTVcbn1cblxuXG4jIyNcbiMgU21hbGwgU2l6ZSBVSSB0ZXh0IHVzZWQgaW4gYWxsIHBsYWNlcyBmb3Igc21hbGwtc2l6ZSB0ZXh0IC8gbGFiZWxzLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLnNtYWxsVUlUZXh0ID0ge1xuICAgIFwiZm9udFwiOiB7IFxuICAgICAgICBcIm5hbWVcIjogXCJUaW1lcyBOZXcgUm9tYW5cIiwgXG4gICAgICAgIFwic2l6ZVwiOiAyMiwgXG4gICAgICAgIFwic21hbGxDYXBzXCI6IHRydWUsIFxuICAgICAgICBcIml0YWxpY1wiOiB0cnVlLCBcbiAgICAgICAgXCJjb2xvclwiOiBbMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgIH1cbn1cblxuIyMjXG4jIFNtYWxsIFNpemUgdGV4dCB1c2VkIGZvciBzYXZlLWdhbWUgc2xvdCBkZXNjcmlwdGlvbnMuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMuc2F2ZUdhbWVVSVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXG4gICAgICAgIFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcbiAgICAgICAgXCJzaXplXCI6IDIwLCBcbiAgICAgICAgXCJzbWFsbENhcHNcIjogdHJ1ZSwgXG4gICAgICAgIFwiaXRhbGljXCI6IHRydWUsIFxuICAgICAgICBcImNvbG9yXCI6IFsyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgfVxufVxuXG4jIyNcbiMgUmVndWxhciBtZXNzYWdlIHRleHQgc3R5bGUgZm9yIHVzZSBpbiBiYWNrbG9nLCBldGMuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMubWVzc2FnZVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiBncy5VSUNvbnN0YW50cy5URVhUX1NJWkVfTUVTU0FHRSwgXCJzbWFsbENhcHNcIjogZmFsc2UsIFwiaXRhbGljXCI6IHRydWUsIFwiYm9yZGVyXCI6IHRydWUsIFwiYm9yZGVyU2l6ZVwiOiA0IH1cbn1cblxuIyMjXG4jIFJ1YnkgdGV4dCBzdHlsZS4gXG4jIElmIHNpemUtcHJvcGVydHkgaXMgbm90IHByZXNlbnQsIHRoZSBoYWxmIG9mIHRoZSBjdXJyZW50IGZvbnQtc2l6ZSBpcyB1c2VkLlxuIyBJZiBjb2xvci1wcm9wZXJ0eSBpcyBub3QgcHJlc2VudCwgdGhlIGN1cnJlbnQgZm9udC1jb2xvciBpcyB1c2VkLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLnJ1YnlUZXh0ID0ge1xuICAgIFwiZm9udFwiOiB7IFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcInNtYWxsQ2Fwc1wiOiBmYWxzZSwgXCJpdGFsaWNcIjogdHJ1ZSwgXCJib3JkZXJcIjogdHJ1ZSwgXCJib3JkZXJTaXplXCI6IDQgfVxufVxuXG4jIyNcbiMgVGV4dCBmb3IgQURWIGdhbWUgbWVzc2FnZXMuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMuYWR2TWVzc2FnZVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiBncy5VSUNvbnN0YW50cy5URVhUX1NJWkVfTUVTU0FHRSwgXCJzbWFsbENhcHNcIjogZmFsc2UsIFwiaXRhbGljXCI6IHRydWUsIFwib3V0bGluZVwiOiB7IFwic2l6ZVwiOiA0IH0gfVxufVxuXG4jIyNcbiMgVGV4dCBmb3IgTlZMIGdhbWUgbWVzc2FnZXMuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMubnZsTWVzc2FnZVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiBncy5VSUNvbnN0YW50cy5URVhUX1NJWkVfTUVTU0FHRSwgXCJzbWFsbENhcHNcIjogZmFsc2UsIFwiaXRhbGljXCI6IHRydWUsIFwiYm9yZGVyXCI6IHRydWUsIFwiYm9yZGVyU2l6ZVwiOiA0IH1cbn1cblxuIyMjXG4jIFVzZWQgdG8gZGlzcGxheSB0aGUgY3VycmVudCBjaGFyYWN0ZXIncyBuYW1lLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLm1lc3NhZ2VCb3hOYW1lVGV4dCA9IHtcbiAgICBcImZvbnRcIjogeyBcIm5hbWVcIjogXCJUaW1lcyBOZXcgUm9tYW5cIiwgXCJzaXplXCI6IGdzLlVJQ29uc3RhbnRzLlRFWFRfU0laRV9NRVNTQUdFX05BTUUsIFwic21hbGxDYXBzXCI6IGZhbHNlLCBcIml0YWxpY1wiOiB0cnVlLCBcImJvcmRlclwiOiB0cnVlLCBcImJvcmRlclNpemVcIjogNCB9XG59XG5cbiMjI1xuIyBVc2VkIGZvciBudW1iZXItaW5wdXQgZW50cmllcyBzaG93aW5nIHlvdSB0aGUgY3VycmVudCBudW1iZXIgeW91IGhhdmUgZW50ZXJlZCBzbyBmYXIuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMubnVtYmVySW5wdXRFbnRyeVRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiA5MCwgXCJjb2xvclwiOiBbMCwgMCwgMCwgMjU1XSB9XG59XG5cbiMjI1xuIyBVc2VkIGZvciBudW1iZXItaW5wdXQgZm9yIGVhY2ggc2luZ2xlIGRpZ2l0LlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLm51bWJlcklucHV0RGlnaXRUZXh0ID0ge1xuICAgIFwiZm9udFwiOiB7IFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcInNpemVcIjogMzUgfVxufVxuXG4jIyNcbiMgVXNlZCBmb3IgdGV4dC1pbnB1dCBlbnRyaWVzIHNob3dpbmcgeW91IHRoZSBjdXJyZW50IHRleHQgeW91IGhhdmUgZW50ZXJlZCBzbyBmYXIuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMudGV4dElucHV0RW50cnlUZXh0ID0ge1xuICAgIFwiZm9udFwiOiB7IFwibmFtZVwiOiBcIlRpbWVzIE5ldyBSb21hblwiLCBcInNpemVcIjogOTAsIFwiY29sb3JcIjogWzAsIDAsIDAsIDI1NV0gfVxufVxuXG4jIyNcbiMgVXNlZCBmb3IgdGV4dC1pbnB1dCBmb3IgZWFjaCBzaW5nbGUgbGV0dGVyLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLnRleHRJbnB1dExldHRlclRleHQgPSB7XG4gICAgXCJmb250XCI6IHsgXCJuYW1lXCI6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFwic2l6ZVwiOiAyNSB9XG59XG5cbiMjI1xuIyBEZWZpbmVzIHRoZSBjb2xvciB1c2VkIGZvciB0aGUgbmFtZS1jb2x1bW4gb2YgdGhlIG1lc3NhZ2UgYmFja2xvZy5cbiMjI1xudWkuVUlNYW5hZ2VyLnN0eWxlcy5iYWNrbG9nTmFtZVBhbmVsID0ge1xuICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDQwXVxufVxuXG4jIyNcbiMgRGVmaW5lcyB0aGUgY29sb3IgdXNlZCBmb3IgdGhlIG1lc3NhZ2UtY29sdW1uIG9mIHRoZSBtZXNzYWdlIGJhY2tsb2cuXG4jIyNcbnVpLlVJTWFuYWdlci5zdHlsZXMuYmFja2xvZ01lc3NhZ2VQYW5lbCA9IHtcbiAgICBcImNvbG9yXCI6IFswLCAwLCAwLCAxNjBdXG59XG5cbiMjI1xuIyBEZWZpbmVzIHRoZSBjb2xvciB1c2VkIGZvciBzdWItYXJlYXMgb24gYSB3aW5kb3cgYSBjYXRlZ29yeS1jb2x1bW4sZXRjLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzW1wiaHlwZXJsaW5rXCJdID0ge1xuICAgIFwiZm9udFwiOiB7ICBcImNvbG9yXCI6IFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBcIm5hbWVcIjogXCJQb2x5LVJlZ3VsYXJcIiwgXCJzaXplXCI6IDMwLCBcInNtYWxsQ2Fwc1wiOiBmYWxzZSwgXCJpdGFsaWNcIjogdHJ1ZSwgXCJib3JkZXJcIjogdHJ1ZSwgXCJib3JkZXJTaXplXCI6IDQgfVxufVxudWkuVUlNYW5hZ2VyLnN0eWxlc1tcImh5cGVybGluazpob3ZlclwiXSA9IHtcbiAgICBcImZvbnRcIjogeyBcImNvbG9yXCI6IFsyNTUsIDAsIDAsIDI1NV0sIFwibmFtZVwiOiBcIlBvbHktUmVndWxhclwiLCBcInNpemVcIjogMzAsIFwic21hbGxDYXBzXCI6IGZhbHNlLCBcIml0YWxpY1wiOiB0cnVlLCBcImJvcmRlclwiOiB0cnVlLCBcImJvcmRlclNpemVcIjogNCB9XG59XG5cbiMjI1xuIyBEZWZpbmVzIHRoZSBjb2xvciB1c2VkIGZvciBzdWItYXJlYXMgb24gYSB3aW5kb3cgYSBjYXRlZ29yeS1jb2x1bW4sZXRjLlxuIyMjXG51aS5VSU1hbmFnZXIuc3R5bGVzLndpbmRvd1N1YlBhbmVsID0ge1xuICAgIFwiY29sb3JcIjogWzI1NSwgMjU1LCAyNTUsIDIwXVxufVxuXG4jIyNcbiMgRGVmaW5lcyB0aGUgY29sb3IgdXNlZCBmb3IgdGhlIHNlcGFyYXRvci1saW5lIHRvIHNlcGFyYXRlIGEgd2luZG93J3MgdGl0bGUtYXJlYSBmcm9tIGl0cyBhY3R1YWwgY29udGVudC5cbiMjI1xudWkuVUlNYW5hZ2VyLnN0eWxlcy53aW5kb3dDb250ZW50U2VwYXJhdG9yID0ge1xuICAgIFwiY29sb3JcIjogWzExMSwgMTExLCAxMTFdXG59ICAgIl19
//# sourceURL=Style_Default_14.js
(function() {


}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIl19
//# sourceURL=DataSources_142.js
ui.UiFactory.dataSources["default"] = function() {
  return {
    "database": RecordManager,
    "settings": GameManager.settings,
    "tempSettings": GameManager.tempSettings,
    "globalData": GameManager.globalData,
    "backlog": GameManager.backlog,
    "saveGameSlots": GameManager.saveGameSlots,
    "scene": GameManager.scene,
    "languages": LanguageManager.languages,
    "chapters": GameManager.chapters,
    "textInputPages": ui.Helper.generateTextInputPages(),
    "cgGalleryByChapter": RecordManager.cgGallery.groupBy(function(x) {
      var ref;
      return (x != null ? (ref = x.relationData) != null ? ref.chapter.uid : void 0 : void 0) || "";
    }).toDictionary((function(x) {
      var ref, ref1;
      return (x != null ? (ref = x[0]) != null ? (ref1 = ref.relationData) != null ? ref1.chapter.uid : void 0 : void 0 : void 0) || "";
    }), (function(x) {
      return x;
    }))
  };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFDLE9BQUQsRUFBeEIsR0FBbUMsU0FBQTtTQUFHO0lBQ2xDLFVBQUEsRUFBWSxhQURzQjtJQUVsQyxVQUFBLEVBQVksV0FBVyxDQUFDLFFBRlU7SUFHbEMsY0FBQSxFQUFnQixXQUFXLENBQUMsWUFITTtJQUlsQyxZQUFBLEVBQWMsV0FBVyxDQUFDLFVBSlE7SUFLbEMsU0FBQSxFQUFXLFdBQVcsQ0FBQyxPQUxXO0lBTWxDLGVBQUEsRUFBaUIsV0FBVyxDQUFDLGFBTks7SUFPbEMsT0FBQSxFQUFTLFdBQVcsQ0FBQyxLQVBhO0lBUWxDLFdBQUEsRUFBYSxlQUFlLENBQUMsU0FSSztJQVNsQyxVQUFBLEVBQVksV0FBVyxDQUFDLFFBVFU7SUFVbEMsZ0JBQUEsRUFBa0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxzQkFBVixDQUFBLENBVmdCO0lBV2xDLG9CQUFBLEVBQXNCLGFBQWEsQ0FBQyxTQUFTLENBQUMsT0FBeEIsQ0FBaUMsU0FBQyxDQUFEO0FBQU8sVUFBQTs4REFBZSxDQUFFLE9BQU8sQ0FBQyxzQkFBekIsSUFBZ0M7SUFBdkMsQ0FBakMsQ0FBNEUsQ0FBQyxZQUE3RSxDQUEyRixDQUFDLFNBQUMsQ0FBRDtBQUFPLFVBQUE7eUZBQW1CLENBQUUsT0FBTyxDQUFDLCtCQUE3QixJQUFvQztJQUEzQyxDQUFELENBQTNGLEVBQTRJLENBQUMsU0FBQyxDQUFEO2FBQU87SUFBUCxDQUFELENBQTVJLENBWFk7O0FBQUgiLCJzb3VyY2VzQ29udGVudCI6WyJ1aS5VaUZhY3RvcnkuZGF0YVNvdXJjZXMuZGVmYXVsdCA9IC0+IHtcbiAgICBcImRhdGFiYXNlXCI6IFJlY29yZE1hbmFnZXIsXG4gICAgXCJzZXR0aW5nc1wiOiBHYW1lTWFuYWdlci5zZXR0aW5ncyxcbiAgICBcInRlbXBTZXR0aW5nc1wiOiBHYW1lTWFuYWdlci50ZW1wU2V0dGluZ3MsXG4gICAgXCJnbG9iYWxEYXRhXCI6IEdhbWVNYW5hZ2VyLmdsb2JhbERhdGEsXG4gICAgXCJiYWNrbG9nXCI6IEdhbWVNYW5hZ2VyLmJhY2tsb2csXG4gICAgXCJzYXZlR2FtZVNsb3RzXCI6IEdhbWVNYW5hZ2VyLnNhdmVHYW1lU2xvdHMsXG4gICAgXCJzY2VuZVwiOiBHYW1lTWFuYWdlci5zY2VuZSxcbiAgICBcImxhbmd1YWdlc1wiOiBMYW5ndWFnZU1hbmFnZXIubGFuZ3VhZ2VzLFxuICAgIFwiY2hhcHRlcnNcIjogR2FtZU1hbmFnZXIuY2hhcHRlcnMsXG4gICAgXCJ0ZXh0SW5wdXRQYWdlc1wiOiB1aS5IZWxwZXIuZ2VuZXJhdGVUZXh0SW5wdXRQYWdlcygpLFxuICAgIFwiY2dHYWxsZXJ5QnlDaGFwdGVyXCI6IFJlY29yZE1hbmFnZXIuY2dHYWxsZXJ5Lmdyb3VwQnkoICh4KSAtPiB4Py5yZWxhdGlvbkRhdGE/LmNoYXB0ZXIudWlkIHx8IFwiXCIgKS50b0RpY3Rpb25hcnkoICgoeCkgLT4geD9bMF0/LnJlbGF0aW9uRGF0YT8uY2hhcHRlci51aWQgfHwgXCJcIiksICgoeCkgLT4geCkgKVxufSJdfQ==
//# sourceURL=DataSource_Default_5.js


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIiXX0=
//# sourceURL=Helpers_76.js
var DataOptimizer;

DataOptimizer = (function() {

  /**
  * The data optimizer is to optimize data structures coming from data files to
  * make processing faster. One way of optimization for example is to convert
  * regular array to typed arrays.
  *
  * @module gs
  * @class DataOptimizer
  * @memberof gs
  * @static
  * @constructor
   */
  function DataOptimizer() {
    this.labels = {};
    this.labelJumps = {};
  }


  /**
  * Converts the specified number-array to a typed Int16 array.
  *
  * @method arrayToNativeArray
  * @param {Array} array - The array to convert.
  * @return {Int16Array} The typed array.
  * @static
   */

  DataOptimizer.prototype.arrayToNativeArray = function(array) {
    var i, j, length, ref, result;
    result = null;
    length = array.length || Object.keys(array).length;
    if (array != null) {
      if (window.ArrayBuffer != null) {
        result = new ArrayBuffer(length * 2);
        result = new Int16Array(result);
      } else {
        result = new Array(length);
      }
      for (i = j = 0, ref = length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        result[i] = array[i];
      }
    }
    return result;
  };


  /**
  * Creates a typed Int16 array if supported. Otherwise a regular array is created.
  *
  * @method nativeArray16
  * @param {number} size - The size of the array in elements.(Not in bytes).
  * @return {Int16Array} The Int16 array.
  * @static
   */

  DataOptimizer.prototype.nativeArray16 = function(size) {
    var result;
    result = new Array(size);
    return result;
  };


  /**
  * Creates a typed Int8 array if supported. Otherwise a regular array is created.
  *
  * @method nativeArray16
  * @param {number} size - The size of the array in elements.(Not in bytes).
  * @return {Int8Array} The Int8 array.
  * @static
   */

  DataOptimizer.prototype.nativeArray8 = function(size) {
    var result;
    result = new Array(size);
    return result;
  };


  /**
  * Removes a single empty command like a comment.
  *
  * @method removeEmptyCommand
  * @private
  * @param {Object[]} commands - A list of commands.
  * @param {Object} command - The command to optimize.
  * @static
   */

  DataOptimizer.prototype.removeEmptyCommand = function(command, index, commands) {
    var result;
    if (GameManager.inLivePreview) {
      return false;
    }
    result = false;
    switch (commands[index].id) {
      case "gs.Comment":
        commands.splice(index, 1);
        result = true;
        break;
      case "gs.EmptyCommand":
        commands.splice(index, 1);
        result = true;
    }
    return result;
  };


  /**
  * Optimizes a single command.
  *
  * @method optimizeCommand
  * @private
  * @param {Object[]} commands - A list of commands.
  * @param {number} index - Index of the command in command-list.
  * @param {Object} command - The command to optimize.
  * @static
   */

  DataOptimizer.prototype.optimizeCommand = function(command, index, commands) {
    var ref;
    switch (command.id) {
      case "gs.Label":
        this.labels[command.params.name] = index;
        return (ref = this.labelJumps[command.params.name]) != null ? ref.forEach(function(c) {
          return c.params.labelIndex = index;
        }) : void 0;
      case "vn.Choice":
        command.params.action.labelIndex = this.labels[command.params.action.label];
        if (!this.labelJumps[command.params.action.label]) {
          this.labelJumps[command.params.action.label] = [];
        }
        return this.labelJumps[command.params.action.label].push(command);
      case "gs.CheckSwitch":
      case "gs.CheckNumberVariable":
      case "gs.CheckTextVariable":
        command.params.labelIndex = this.labels[command.params.label];
        if (!this.labelJumps[command.params.label]) {
          this.labelJumps[command.params.label] = [];
        }
        return this.labelJumps[command.params.label].push(command);
      case "gs.JumpToLabel":
        command.params.labelIndex = this.labels[command.params.name];
        if (!this.labelJumps[command.params.name]) {
          this.labelJumps[command.params.name] = [];
        }
        return this.labelJumps[command.params.name].push(command);
    }
  };


  /**
  * Optimizes a list of event/scene commands by removing unnecessary commands like
  * comments or empty commands. It also optimizes label jumps. Adds an <b>optimized</b> to
  * the specified command-list to indicate that the list was already optimized. If <b>optimized</b>
  * property of command-list is set to <b>true</b> this method will return immediately.
  *
  * @method optimizeEventCommands
  * @param {Object[]} commands - A list of commands to optimize.
  * @static
   */

  DataOptimizer.prototype.optimizeEventCommands = function(commands) {
    var command, i, j, len;
    if (commands.optimized) {
      return;
    }
    i = 0;
    this.labels = {};
    this.labelJumps = {};
    if (!$PARAMS.preview) {
      while (i < commands.length) {
        commands[i].indent = commands[i].indent || 0;
        if (this.removeEmptyCommand(commands[i], i, commands)) {
          i--;
        }
        i++;
      }
    }
    i = 0;
    for (i = j = 0, len = commands.length; j < len; i = ++j) {
      command = commands[i];
      this.optimizeCommand(command, i, commands);
    }
    return commands.optimized = true;
  };

  return DataOptimizer;

})();

window.DataOptimizer = new DataOptimizer();

gs.DataOptimizer = DataOptimizer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7O0VBV2EsdUJBQUE7SUFDVCxJQUFDLENBQUEsTUFBRCxHQUFVO0lBQ1YsSUFBQyxDQUFBLFVBQUQsR0FBYztFQUZMOzs7QUFJYjs7Ozs7Ozs7OzBCQVFBLGtCQUFBLEdBQW9CLFNBQUMsS0FBRDtBQUNoQixRQUFBO0lBQUEsTUFBQSxHQUFTO0lBQ1QsTUFBQSxHQUFTLEtBQUssQ0FBQyxNQUFOLElBQWdCLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBWixDQUFrQixDQUFDO0lBQzVDLElBQUcsYUFBSDtNQUNJLElBQUcsMEJBQUg7UUFDSSxNQUFBLEdBQWEsSUFBQSxXQUFBLENBQVksTUFBQSxHQUFTLENBQXJCO1FBQ2IsTUFBQSxHQUFhLElBQUEsVUFBQSxDQUFXLE1BQVgsRUFGakI7T0FBQSxNQUFBO1FBSUksTUFBQSxHQUFhLElBQUEsS0FBQSxDQUFNLE1BQU4sRUFKakI7O0FBT0EsV0FBUywrRUFBVDtRQUNJLE1BQU8sQ0FBQSxDQUFBLENBQVAsR0FBWSxLQUFNLENBQUEsQ0FBQTtBQUR0QixPQVJKOztBQVdBLFdBQU87RUFkUzs7O0FBZ0JwQjs7Ozs7Ozs7OzBCQVFBLGFBQUEsR0FBZSxTQUFDLElBQUQ7QUFHWCxRQUFBO0lBQUEsTUFBQSxHQUFhLElBQUEsS0FBQSxDQUFNLElBQU47QUFDYixXQUFPO0VBSkk7OztBQU1mOzs7Ozs7Ozs7MEJBUUEsWUFBQSxHQUFjLFNBQUMsSUFBRDtBQUNWLFFBQUE7SUFBQSxNQUFBLEdBQWEsSUFBQSxLQUFBLENBQU0sSUFBTjtBQUNiLFdBQU87RUFGRzs7O0FBS2Q7Ozs7Ozs7Ozs7MEJBU0Esa0JBQUEsR0FBb0IsU0FBQyxPQUFELEVBQVUsS0FBVixFQUFpQixRQUFqQjtBQUNoQixRQUFBO0lBQUEsSUFBYSxXQUFXLENBQUMsYUFBekI7QUFBQSxhQUFPLE1BQVA7O0lB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QUEsQ0FBQSxDQUFFLENBQUMsTUFBWixJQUFzQjtRQUMzQyxJQUFHLElBQUMsQ0FBQSxrQkFBRCxDQUFvQixRQUFTLENBQUEsQ0FBQSxDQUE3QixFQUFpQyxDQUFqQyxFQUFvQyxRQUFwQyxDQUFIO1VBQ0ksQ0FBQSxHQURKOztRQUVBLENBQUE7TUFKSixDQURKOztJQU1BLENBQUEsR0FBSTtBQUNKLFNBQUEsa0RBQUE7O01BQ0ksSUFBQyxDQUFBLGVBQUQsQ0FBaUIsT0FBakIsRUFBMEIsQ0FBMUIsRUFBNkIsUUFBN0I7QUFESjtXQUdBLFFBQVEsQ0FBQyxTQUFULEdBQXFCO0VBaEJGOzs7Ozs7QUFtQjNCLE1BQU0sQ0FBQyxhQUFQLEdBQTJCLElBQUEsYUFBQSxDQUFBOztBQUMzQixFQUFFLENBQUMsYUFBSCxHQUFtQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogRGF0YU9wdGltaXplclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgRGF0YU9wdGltaXplclxuICAgICMjIypcbiAgICAqIFRoZSBkYXRhIG9wdGltaXplciBpcyB0byBvcHRpbWl6ZSBkYXRhIHN0cnVjdHVyZXMgY29taW5nIGZyb20gZGF0YSBmaWxlcyB0b1xuICAgICogbWFrZSBwcm9jZXNzaW5nIGZhc3Rlci4gT25lIHdheSBvZiBvcHRpbWl6YXRpb24gZm9yIGV4YW1wbGUgaXMgdG8gY29udmVydFxuICAgICogcmVndWxhciBhcnJheSB0byB0eXBlZCBhcnJheXMuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIERhdGFPcHRpbWl6ZXJcbiAgICAqIEBtZW1iZXJvZiBnc1xuICAgICogQHN0YXRpY1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIEBsYWJlbHMgPSB7fVxuICAgICAgICBAbGFiZWxKdW1wcyA9IHt9XG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgbnVtYmVyLWFycmF5IHRvIGEgdHlwZWQgSW50MTYgYXJyYXkuXG4gICAgKlxuICAgICogQG1ldGhvZCBhcnJheVRvTmF0aXZlQXJyYXlcbiAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IC0gVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgKiBAcmV0dXJuIHtJbnQxNkFycmF5fSBUaGUgdHlwZWQgYXJyYXkuXG4gICAgKiBAc3RhdGljXG4gICAgIyMjIFxuICAgIGFycmF5VG9OYXRpdmVBcnJheTogKGFycmF5KSAtPlxuICAgICAgICByZXN1bHQgPSBudWxsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCB8fCBPYmplY3Qua2V5cyhhcnJheSkubGVuZ3RoXG4gICAgICAgIGlmIGFycmF5P1xuICAgICAgICAgICAgaWYgd2luZG93LkFycmF5QnVmZmVyP1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGggKiAyKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBJbnQxNkFycmF5KHJlc3VsdClcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKVxuICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIGkgaW4gWzAuLi5sZW5ndGhdXG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gYXJyYXlbaV1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIFxuICAgICMjIypcbiAgICAqIENyZWF0ZXMgYSB0eXBlZCBJbnQxNiBhcnJheSBpZiBzdXBwb3J0ZWQuIE90aGVyd2lzZSBhIHJlZ3VsYXIgYXJyYXkgaXMgY3JlYXRlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG5hdGl2ZUFycmF5MTZcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGFycmF5IGluIGVsZW1lbnRzLihOb3QgaW4gYnl0ZXMpLlxuICAgICogQHJldHVybiB7SW50MTZBcnJheX0gVGhlIEludDE2IGFycmF5LlxuICAgICogQHN0YXRpY1xuICAgICMjIyBcbiAgICBuYXRpdmVBcnJheTE2OiAoc2l6ZSkgLT5cbiAgICAgICAgI3Jlc3VsdCA9IG5ldyBBcnJheUJ1ZmZlcihzaXplICogMilcbiAgICAgICAgI3Jlc3VsdCA9IG5ldyBJbnQxNkFycmF5KHJlc3VsdClcbiAgICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KHNpemUpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDcmVhdGVzIGEgdHlwZWQgSW50OCBhcnJheSBpZiBzdXBwb3J0ZWQuIE90aGVyd2lzZSBhIHJlZ3VsYXIgYXJyYXkgaXMgY3JlYXRlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG5hdGl2ZUFycmF5MTZcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGFycmF5IGluIGVsZW1lbnRzLihOb3QgaW4gYnl0ZXMpLlxuICAgICogQHJldHVybiB7SW50OEFycmF5fSBUaGUgSW50OCBhcnJheS5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgICAgIFxuICAgIG5hdGl2ZUFycmF5ODogKHNpemUpIC0+XG4gICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShzaXplKVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgIFxuICAgICBcbiAgICAjIyMqXG4gICAgKiBSZW1vdmVzIGEgc2luZ2xlIGVtcHR5IGNvbW1hbmQgbGlrZSBhIGNvbW1lbnQuXG4gICAgKlxuICAgICogQG1ldGhvZCByZW1vdmVFbXB0eUNvbW1hbmRcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSBjb21tYW5kcyAtIEEgbGlzdCBvZiBjb21tYW5kcy5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb21tYW5kIC0gVGhlIGNvbW1hbmQgdG8gb3B0aW1pemUuXG4gICAgKiBAc3RhdGljXG4gICAgIyMjIFxuICAgIHJlbW92ZUVtcHR5Q29tbWFuZDogKGNvbW1hbmQsIGluZGV4LCBjb21tYW5kcykgLT5cbiAgICAgICAgcmV0dXJuIG5vIGlmIEdhbWVNYW5hZ2VyLmluTGl2ZVByZXZpZXdcbiAgICAgICAgXG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIHN3aXRjaCBjb21tYW5kc1tpbmRleF0uaWRcbiAgICAgICAgICAgIHdoZW4gXCJncy5Db21tZW50XCJcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgICAgICB3aGVuIFwiZ3MuRW1wdHlDb21tYW5kXCJcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0geWVzXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICBcbiAgICAjIyMqXG4gICAgKiBPcHRpbWl6ZXMgYSBzaW5nbGUgY29tbWFuZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIG9wdGltaXplQ29tbWFuZFxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7T2JqZWN0W119IGNvbW1hbmRzIC0gQSBsaXN0IG9mIGNvbW1hbmRzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGNvbW1hbmQgaW4gY29tbWFuZC1saXN0LlxuICAgICogQHBhcmFtIHtPYmplY3R9IGNvbW1hbmQgLSBUaGUgY29tbWFuZCB0byBvcHRpbWl6ZS5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgICAgIFxuICAgIG9wdGltaXplQ29tbWFuZDogKGNvbW1hbmQsIGluZGV4LCBjb21tYW5kcykgLT5cbiAgICAgICAgc3dpdGNoIGNvbW1hbmQuaWRcbiAgICAgICAgICAgIHdoZW4gXCJncy5MYWJlbFwiXG4gICAgICAgICAgICAgICAgQGxhYmVsc1tjb21tYW5kLnBhcmFtcy5uYW1lXSA9IGluZGV4XG4gICAgICAgICAgICAgICAgQGxhYmVsSnVtcHNbY29tbWFuZC5wYXJhbXMubmFtZV0/LmZvckVhY2ggKGMpIC0+IGMucGFyYW1zLmxhYmVsSW5kZXggPSBpbmRleFxuICAgICAgICAgICAgd2hlbiBcInZuLkNob2ljZVwiXG4gICAgICAgICAgICAgICAgY29tbWFuZC5wYXJhbXMuYWN0aW9uLmxhYmVsSW5kZXggPSBAbGFiZWxzW2NvbW1hbmQucGFyYW1zLmFjdGlvbi5sYWJlbF1cbiAgICAgICAgICAgICAgICBpZiAhQGxhYmVsSnVtcHNbY29tbWFuZC5wYXJhbXMuYWN0aW9uLmxhYmVsXVxuICAgICAgICAgICAgICAgICAgICBAbGFiZWxKdW1wc1tjb21tYW5kLnBhcmFtcy5hY3Rpb24ubGFiZWxdID0gW11cbiAgICAgICAgICAgICAgICBAbGFiZWxKdW1wc1tjb21tYW5kLnBhcmFtcy5hY3Rpb24ubGFiZWxdLnB1c2goY29tbWFuZClcbiAgICAgICAgICAgIHdoZW4gXCJncy5DaGVja1N3aXRjaFwiLCBcImdzLkNoZWNrTnVtYmVyVmFyaWFibGVcIiwgXCJncy5DaGVja1RleHRWYXJpYWJsZVwiXG4gICAgICAgICAgICAgICAgY29tbWFuZC5wYXJhbXMubGFiZWxJbmRleCA9IEBsYWJlbHNbY29tbWFuZC5wYXJhbXMubGFiZWxdXG4gICAgICAgICAgICAgICAgaWYgIUBsYWJlbEp1bXBzW2NvbW1hbmQucGFyYW1zLmxhYmVsXVxuICAgICAgICAgICAgICAgICAgICBAbGFiZWxKdW1wc1tjb21tYW5kLnBhcmFtcy5sYWJlbF0gPSBbXVxuICAgICAgICAgICAgICAgIEBsYWJlbEp1bXBzW2NvbW1hbmQucGFyYW1zLmxhYmVsXS5wdXNoKGNvbW1hbmQpXG4gICAgICAgICAgICAjd2hlbiBcImdzLkFkZEhvdHNwb3RcIlxuICAgICAgICAgICAgIyAgICBjb21tYW5kLnBhcmFtcy5hY3Rpb25zLm9uQ2xpY2tcbiAgICAgICAgICAgIHdoZW4gXCJncy5KdW1wVG9MYWJlbFwiXG4gICAgICAgICAgICAgICAgY29tbWFuZC5wYXJhbXMubGFiZWxJbmRleCA9IEBsYWJlbHNbY29tbWFuZC5wYXJhbXMubmFtZV1cbiAgICAgICAgICAgICAgICBpZiAhQGxhYmVsSnVtcHNbY29tbWFuZC5wYXJhbXMubmFtZV1cbiAgICAgICAgICAgICAgICAgICAgQGxhYmVsSnVtcHNbY29tbWFuZC5wYXJhbXMubmFtZV0gPSBbXVxuICAgICAgICAgICAgICAgIEBsYWJlbEp1bXBzW2NvbW1hbmQucGFyYW1zLm5hbWVdLnB1c2goY29tbWFuZClcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogT3B0aW1pemVzIGEgbGlzdCBvZiBldmVudC9zY2VuZSBjb21tYW5kcyBieSByZW1vdmluZyB1bm5lY2Vzc2FyeSBjb21tYW5kcyBsaWtlXG4gICAgKiBjb21tZW50cyBvciBlbXB0eSBjb21tYW5kcy4gSXQgYWxzbyBvcHRpbWl6ZXMgbGFiZWwganVtcHMuIEFkZHMgYW4gPGI+b3B0aW1pemVkPC9iPiB0b1xuICAgICogdGhlIHNwZWNpZmllZCBjb21tYW5kLWxpc3QgdG8gaW5kaWNhdGUgdGhhdCB0aGUgbGlzdCB3YXMgYWxyZWFkeSBvcHRpbWl6ZWQuIElmIDxiPm9wdGltaXplZDwvYj5cbiAgICAqIHByb3BlcnR5IG9mIGNvbW1hbmQtbGlzdCBpcyBzZXQgdG8gPGI+dHJ1ZTwvYj4gdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gaW1tZWRpYXRlbHkuXG4gICAgKlxuICAgICogQG1ldGhvZCBvcHRpbWl6ZUV2ZW50Q29tbWFuZHNcbiAgICAqIEBwYXJhbSB7T2JqZWN0W119IGNvbW1hbmRzIC0gQSBsaXN0IG9mIGNvbW1hbmRzIHRvIG9wdGltaXplLlxuICAgICogQHN0YXRpY1xuICAgICMjIyAgICAgICBcbiAgICBvcHRpbWl6ZUV2ZW50Q29tbWFuZHM6IChjb21tYW5kcykgLT5cbiAgICAgICAgcmV0dXJuIGlmIGNvbW1hbmRzLm9wdGltaXplZFxuXG4gICAgICAgIGkgPSAwXG4gICAgICAgIEBsYWJlbHMgPSB7fVxuICAgICAgICBAbGFiZWxKdW1wcyA9IHt9XG4gICAgICAgIGlmICEkUEFSQU1TLnByZXZpZXdcbiAgICAgICAgICAgIHdoaWxlIGkgPCBjb21tYW5kcy5sZW5ndGhcbiAgICAgICAgICAgICAgICBjb21tYW5kc1tpXS5pbmRlbnQgPSBjb21tYW5kc1tpXS5pbmRlbnQgfHwgMFxuICAgICAgICAgICAgICAgIGlmIEByZW1vdmVFbXB0eUNvbW1hbmQoY29tbWFuZHNbaV0sIGksIGNvbW1hbmRzKVxuICAgICAgICAgICAgICAgICAgICBpLS1cbiAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgaSA9IDBcbiAgICAgICAgZm9yIGNvbW1hbmQsIGkgaW4gY29tbWFuZHNcbiAgICAgICAgICAgIEBvcHRpbWl6ZUNvbW1hbmQoY29tbWFuZCwgaSwgY29tbWFuZHMpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBjb21tYW5kcy5vcHRpbWl6ZWQgPSB5ZXNcbiAgICAgICAgXG4gICAgICAgIFxud2luZG93LkRhdGFPcHRpbWl6ZXIgPSBuZXcgRGF0YU9wdGltaXplcigpXG5ncy5EYXRhT3B0aW1pemVyID0gRGF0YU9wdGltaXplciJdfQ==
//# sourceURL=DataOptimizer_1.js
var ResourceLoader;

ResourceLoader = (function() {

  /**
  * The resource helps to load a bunch of resources from different kind of
  * data structures.
  *
  * @module gs
  * @class ResourceLoader
  * @memberof gs
  * @constructor
  * @static
   */
  function ResourceLoader() {
    this.loadedScenesByUid = {};
  }


  /**
  * Loads all graphics for the specified list of custom layout types/templates
  *
  * @method loadUiTypesGraphics
  * @param {Object[]} types - An array of custom layout types/templates
  * @static
   */

  ResourceLoader.prototype.loadUiTypesGraphics = function(types) {
    var k;
    for (k in types) {
      this.loadUiLayoutGraphics(types[k]);
    }
    return null;
  };


  /**
  * Loads all graphics for the specified layout-descriptor.
  *
  * @method loadUiGraphicsFromObject
  * @param {Object} layout - The layout descriptor.
  * @static
   */

  ResourceLoader.prototype.loadUiGraphicsFromObject = function(layout) {
    var k;
    for (k in layout) {
      if (k === "image" || k === "fullImage") {
        ResourceManager.getBitmap("Graphics/Pictures/" + layout[k]);
      } else if (k === "video") {
        ResourceManager.getVideo("Movies/" + layout[k]);
      }
    }
    return null;
  };


  /**
  * Loads all graphics for the specified layout-descriptor.
  *
  * @method loadUiDataFieldsGraphics
  * @param {Object} layout - The layout descriptor.
  * @static
   */

  ResourceLoader.prototype.loadUiDataFieldsGraphics = function(layout) {
    var i, image, j, k, len, o, ref;
    for (k in layout) {
      if (layout[k] instanceof Array) {
        ref = layout[k];
        for (i = 0, len = ref.length; i < len; i++) {
          o = ref[i];
          for (j in o) {
            if (j === "image" || j === "fullImage") {
              image = o[j];
              if (image != null ? image.startsWith("data:") : void 0) {
                ResourceManager.getBitmap(o[j]);
              } else {
                ResourceManager.getBitmap("Graphics/Pictures/" + o[j]);
              }
            }
          }
        }
      }
    }
    return null;
  };


  /**
  * Loads all graphics for the specified layout-descriptor.
  *
  * @method loadUiDataFieldsGraphics
  * @param {Object} layout - The layout descriptor.
  * @static
   */

  ResourceLoader.prototype.loadUiLayoutGraphics = function(layout) {
    var action, actions, animation, control, descriptor, graphic, i, image, l, len, len1, len10, len11, len2, len3, len4, len5, len6, len7, len8, len9, m, music, n, object, p, q, r, ref, ref1, ref10, ref11, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, results, s, sel, sound, style, sub, t, u, v, video, w;
    if (layout.preload != null) {
      if (layout.preload.graphics != null) {
        ref = layout.preload.graphics;
        for (i = 0, len = ref.length; i < len; i++) {
          graphic = ref[i];
          if (graphic.name != null) {
            ResourceManager.getBitmap((graphic.folder || 'Graphics/Pictures') + "/" + graphic.name);
          } else {
            object = ui.Component_FormulaHandler.fieldValue(null, graphic.path);
            for (l = 0, len1 = object.length; l < len1; l++) {
              sub = object[l];
              if (sub != null) {
                image = ui.Component_FormulaHandler.fieldValue(sub, graphic.image);
                if (image != null) {
                  ResourceManager.getBitmap("Graphics/Pictures/" + image);
                }
              }
            }
          }
        }
      }
      if (layout.preload.videos != null) {
        ref1 = layout.preload.videos;
        for (m = 0, len2 = ref1.length; m < len2; m++) {
          video = ref1[m];
          if (video.name != null) {
            ResourceManager.getVideo((video.folder || 'Movies') + "/" + video.name);
          }
        }
      }
      if (layout.preload.music != null) {
        ref2 = layout.preload.music;
        for (n = 0, len3 = ref2.length; n < len3; n++) {
          music = ref2[n];
          if (music != null) {
            ResourceManager.getVideo((music.folder || 'Audio/Music') + "/" + (music.name || music));
          }
        }
      }
      if (layout.preload.sounds != null) {
        ref3 = layout.preload.sounds;
        for (p = 0, len4 = ref3.length; p < len4; p++) {
          sound = ref3[p];
          if (sound != null) {
            ResourceManager.getAudioBuffer((sound.folder || 'Audio/Sounds') + "/" + ((ref4 = ui.Component_FormulaHandler.fieldValue(layout, sound.name || sound)) != null ? ref4.name : void 0));
          }
        }
      }
    }
    if (layout.images != null) {
      ref5 = layout.images;
      for (q = 0, len5 = ref5.length; q < len5; q++) {
        image = ref5[q];
        ResourceManager.getBitmap("Graphics/Pictures/" + image);
      }
    }
    if (layout.animations != null) {
      ref6 = layout.animations;
      for (r = 0, len6 = ref6.length; r < len6; r++) {
        descriptor = ref6[r];
        ref7 = descriptor.flow;
        for (s = 0, len7 = ref7.length; s < len7; s++) {
          animation = ref7[s];
          switch (animation.type) {
            case "sound":
              ResourceManager.getAudioBuffer("Audio/Sounds/" + animation.sound);
              break;
            case "changeImages":
              ref8 = animation.images;
              for (t = 0, len8 = ref8.length; t < len8; t++) {
                image = ref8[t];
                ResourceManager.getBitmap("Graphics/Pictures/" + image);
              }
              break;
            case "maskTo":
              ResourceManager.getBitmap("Graphics/Masks/" + animation.mask);
          }
          if (animation.sound != null) {
            ResourceManager.getAudioBuffer("Audio/Sounds/" + animation.sound);
          }
        }
      }
    }
    if (layout.image != null) {
      ResourceManager.getBitmap("Graphics/Pictures/" + layout.image);
    }
    if (layout.video != null) {
      ResourceManager.getBitmap("Graphics/Movies/" + layout.video);
    }
    if (layout.customFields != null) {
      this.loadUiGraphicsFromObject(layout.customFields);
    }
    if (((ref9 = layout.customFields) != null ? ref9.actions : void 0) != null) {
      ref10 = layout.customFields.actions;
      for (u = 0, len9 = ref10.length; u < len9; u++) {
        action = ref10[u];
        if (action.name === "playVoice" || action.name === "playSound") {
          AudioManager.loadSound(action.params.name);
        }
      }
    }
    if ((layout.actions != null) || (layout.action != null)) {
      actions = layout.action != null ? [layout.action] : layout.actions;
      for (v = 0, len10 = actions.length; v < len10; v++) {
        action = actions[v];
        if (action.name === "playVoice" || action.name === "playSound") {
          AudioManager.loadSound(action.params.name);
        }
      }
    }
    if (layout.params) {
      this.loadUiLayoutGraphics(layout.params);
    }
    if (layout.template != null) {
      this.loadUiLayoutGraphics(layout.template);
    }
    if ((layout.style != null) && (ui.UiFactory.styles[layout.style] != null)) {
      this.loadUiLayoutGraphics(ui.UiFactory.styles[layout.style]);
      for (sel in ui.UIManager.selectors) {
        style = ui.UIManager.styles[layout.style + ":" + sel];
        if (style) {
          this.loadUiLayoutGraphics(style);
        }
      }
    }
    if (ui.UiFactory.customTypes[layout.type] != null) {
      this.loadUiLayoutGraphics(ui.UiFactory.customTypes[layout.type]);
    }
    if (layout.controls != null) {
      ref11 = layout.controls;
      results = [];
      for (w = 0, len11 = ref11.length; w < len11; w++) {
        control = ref11[w];
        results.push(this.loadUiLayoutGraphics(control));
      }
      return results;
    }
  };


  /**
  * Loads all system sounds.
  *
  * @method loadSystemSounds
  * @static
   */

  ResourceLoader.prototype.loadSystemSounds = function() {
    var i, len, ref, results, sound;
    ref = RecordManager.system.sounds;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      sound = ref[i];
      results.push(AudioManager.loadSound(sound));
    }
    return results;
  };


  /**
  * Loads all system graphics.
  *
  * @method loadSystemGraphics
  * @static
   */

  ResourceLoader.prototype.loadSystemGraphics = function() {
    var i, len, ref, ref1, ref2, ref3, ref4, slot;
    ref = GameManager.saveGameSlots;
    for (i = 0, len = ref.length; i < len; i++) {
      slot = ref[i];
      if ((slot.thumb != null) && slot.thumb.length > 0) {
        ResourceManager.getBitmap(slot.thumb);
      }
    }
    if ((ref1 = RecordManager.system.cursor) != null ? ref1.name : void 0) {
      ResourceManager.getBitmap("Graphics/Pictures/" + RecordManager.system.cursor.name);
    }
    if ((ref2 = RecordManager.system.titleScreen) != null ? ref2.name : void 0) {
      ResourceManager.getBitmap("Graphics/Pictures/" + RecordManager.system.titleScreen.name);
    }
    if ((ref3 = RecordManager.system.languageScreen) != null ? ref3.name : void 0) {
      ResourceManager.getBitmap("Graphics/Pictures/" + RecordManager.system.languageScreen.name);
    }
    if ((ref4 = RecordManager.system.menuBackground) != null ? ref4.name : void 0) {
      ResourceManager.getBitmap("Graphics/Pictures/" + RecordManager.system.menuBackground.name);
    }
    return null;
  };


  /**
  * Loads all resources needed by the specified list of commands.
  *
  * @method loadEventCommandsGraphics
  * @param {Object[]} commands - The list of commands.
  * @return {boolean} Indicates if data needs to be loaded. 
  * @static
   */

  ResourceLoader.prototype.loadEventCommandsData = function(commands) {
    var command, i, len, result, sceneDocument;
    if (commands == null) {
      return false;
    }
    result = false;
    for (i = 0, len = commands.length; i < len; i++) {
      command = commands[i];
      switch (command.id) {
        case "vn.Choice":
          if (command.params.action.scene) {
            sceneDocument = DataManager.getDocument(command.params.action.scene.uid);
            if (sceneDocument) {
              result = !sceneDocument.loaded;
            }
          }
          break;
        case "vn.CallScene":
          if (command.params.scene) {
            sceneDocument = DataManager.getDocument(command.params.scene.uid);
            if (sceneDocument) {
              result = !sceneDocument.loaded;
            }
          }
      }
    }
    return result;
  };


  /**
  * Loads all resources needed by the specified list of commands.
  *
  * @method loadEventCommandsGraphics
  * @param {Object[]} commands - The list of commands.
  * @static
   */

  ResourceLoader.prototype.loadEventCommandsGraphics = function(commands) {
    this.loadedScenesByUid = {};
    return this._loadEventCommandsGraphics(commands);
  };

  ResourceLoader.prototype._loadEventCommandsGraphics = function(commands) {
    var actor, actorId, animation, animationId, character, command, commonEvent, effect, eid, enemy, expression, expressionId, hotspot, i, image, l, len, len1, len10, len11, len12, len13, len14, len2, len3, len4, len5, len6, len7, len8, len9, m, moveCommand, n, p, q, r, record, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref3, ref4, ref5, ref6, ref7, ref8, ref9, s, sceneDocument, sound, t, u, v, w, x, y, z;
    if (commands == null) {
      return;
    }
    for (i = 0, len = commands.length; i < len; i++) {
      command = commands[i];
      switch (command.id) {
        case "gs.CallCommonEvent":
          commonEvent = RecordManager.commonEvents[command.params.commonEventId];
          if (commonEvent != null) {
            this._loadEventCommandsGraphics(commonEvent.commands);
          }
          break;
        case "gs.ScreenTransition":
          ResourceManager.getBitmap("Graphics/Masks/" + ((ref = command.params.graphic) != null ? ref.name : void 0));
          break;
        case "vn.ChangeBackground":
          if (command.params.graphic != null) {
            ResourceManager.getBitmap("Graphics/Backgrounds/" + command.params.graphic.name);
          }
          if (((ref1 = command.params.animation) != null ? ref1.type : void 0) === gs.AnimationTypes.MASKING) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.animation.mask.graphic.name);
          }
          break;
        case "vn.L2DJoinScene":
          if (command.params.model != null) {
            ResourceManager.getLive2DModel("Live2D/" + command.params.model.name);
          }
          break;
        case "vn.CharacterJoinScene":
          character = RecordManager.characters[command.params.characterId];
          if (character != null) {
            expressionId = (ref2 = command.params.expressionId) != null ? ref2 : character.defaultExpressionId;
            if (expressionId != null) {
              record = RecordManager.characterExpressions[expressionId];
              if (record != null) {
                if (record.idle) {
                  ref3 = record.idle;
                  for (l = 0, len1 = ref3.length; l < len1; l++) {
                    image = ref3[l];
                    ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
                  }
                }
                if (record.talking) {
                  ref4 = record.talking;
                  for (m = 0, len2 = ref4.length; m < len2; m++) {
                    image = ref4[m];
                    ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
                  }
                }
              }
            }
          }
          if (command.params.animation.type === gs.AnimationTypes.MASKING && (command.params.animation.mask.graphic != null)) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.animation.mask.graphic.name);
          }
          break;
        case "vn.CharacterChangeExpression":
          record = RecordManager.characterExpressions[command.params.expressionId];
          if (record != null) {
            ref5 = record.idle;
            for (n = 0, len3 = ref5.length; n < len3; n++) {
              image = ref5[n];
              ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
            }
            ref6 = record.talking;
            for (p = 0, len4 = ref6.length; p < len4; p++) {
              image = ref6[p];
              ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
            }
          }
          if (command.params.animation.type === gs.AnimationTypes.MASKING && (command.params.animation.mask.graphic != null)) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.animation.mask.graphic.name);
          }
          break;
        case "gs.ShowPartialMessage":
          if (command.params.voice != null) {
            AudioManager.loadSound(command.params.voice);
          }
          break;
        case "vn.Choice":
          if (command.params.action.scene) {
            sceneDocument = DataManager.getDocument(command.params.action.scene.uid);
            if (sceneDocument && !this.loadedScenesByUid[sceneDocument.uid]) {
              this.loadedScenesByUid[sceneDocument.uid] = true;
              this._loadEventCommandsGraphics(sceneDocument.items.commands);
            }
          }
          break;
        case "gs.ShowMessage":
        case "gs.ShowMessageNVL":
        case "gs.ShowText":
          if (command.params.animations != null) {
            ref7 = command.params.animations;
            for (q = 0, len5 = ref7.length; q < len5; q++) {
              eid = ref7[q];
              animation = RecordManager.animations[eid];
              if ((animation != null) && animation.graphic.name) {
                ResourceManager.getBitmap("Graphics/Pictures/" + animation.graphic.name);
              }
            }
          }
          if (command.params.expressions != null) {
            ref8 = command.params.expressions;
            for (r = 0, len6 = ref8.length; r < len6; r++) {
              eid = ref8[r];
              expression = RecordManager.characterExpressions[eid];
              if (expression != null) {
                ref9 = expression.idle;
                for (s = 0, len7 = ref9.length; s < len7; s++) {
                  image = ref9[s];
                  ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
                }
                ref10 = expression.talking;
                for (t = 0, len8 = ref10.length; t < len8; t++) {
                  image = ref10[t];
                  ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
                }
              }
            }
          }
          if (command.params.voice != null) {
            AudioManager.loadSound(command.params.voice);
          }
          record = RecordManager.characterExpressions[command.params.expressionId];
          if (record != null) {
            ref11 = record.idle;
            for (u = 0, len9 = ref11.length; u < len9; u++) {
              image = ref11[u];
              ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
            }
            ref12 = record.talking;
            for (v = 0, len10 = ref12.length; v < len10; v++) {
              image = ref12[v];
              ResourceManager.getBitmap("Graphics/Characters/" + image.resource.name);
            }
          }
          break;
        case "gs.AddHotspot":
          if ((command.params.baseGraphic != null) && (command.params.baseGraphic.name != null)) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.baseGraphic.name);
          }
          if ((command.params.hoverGraphic != null) && (command.params.hoverGraphic.name != null)) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.hoverGraphic.name);
          }
          if ((command.params.selectedGraphic != null) && (command.params.selectedGraphic.name != null)) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.selectedGraphic.name);
          }
          if ((command.params.selectedHoverGraphic != null) && (command.params.selectedHoverGraphic.name != null)) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.selectedHoverGraphic.name);
          }
          if ((command.params.unselectedGraphic != null) && (command.params.unselectedGraphic.name != null)) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.unselectedGraphic.name);
          }
          break;
        case "gs.ShowPicture":
          if (command.params.graphic != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.graphic.name);
          }
          if (((ref13 = command.params.animation) != null ? ref13.type : void 0) === gs.AnimationTypes.MASKING) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.animation.mask.graphic.name);
          }
          break;
        case "gs.ShowImageMap":
          if (command.params.ground != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.ground.name);
          }
          if (command.params.hover != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.hover.name);
          }
          if (command.params.unselected != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.unselected.name);
          }
          if (command.params.selected != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.selected.name);
          }
          if (command.params.selectedHover != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.selectedHover.name);
          }
          ref14 = command.params.hotspots;
          for (w = 0, len11 = ref14.length; w < len11; w++) {
            hotspot = ref14[w];
            if (hotspot.data.action === 2) {
              commonEvent = RecordManager.commonEvents[hotspot.data.commonEventId];
              if (commonEvent != null) {
                this._loadEventCommandsGraphics(commonEvent.commands);
              }
            }
          }
          break;
        case "gs.MovePicturePath":
        case "vn.MoveCharacterPath":
        case "vn.ScrollBackgroundPath":
        case "gs.MoveVideoPath":
          if (command.params.path.effects != null) {
            ref15 = command.params.path.effects.data;
            for (x = 0, len12 = ref15.length; x < len12; x++) {
              effect = ref15[x];
              AudioManager.loadSound(effect.sound);
            }
          }
          break;
        case "gs.MaskPicture":
        case "vn.MaskCharacter":
        case "vn.MaskBackground":
        case "gs.MaskVideo":
          if (command.params.mask.sourceType === 0 && (command.params.mask.graphic != null)) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.mask.graphic.name);
          }
          if (command.params.mask.sourceType === 1 && (command.params.mask.video != null)) {
            ResourceManager.getVideo("Movies/" + command.params.mask.video.name);
          }
          break;
        case "gs.PlayPictureAnimation":
          animationId = command.params.animationId;
          if ((animationId != null) && (animationId.scope == null)) {
            animation = RecordManager.animations[animationId];
            if (animation && animation.graphic) {
              ResourceManager.getBitmap("Graphics/Pictures/" + animation.graphic.name);
            }
          }
          break;
        case "gs.ShowBattleAnimation":
          animationId = command.params.animationId;
          if ((animationId != null) && (animationId.scope == null)) {
            animation = RecordManager.animations[animationId];
            this.loadComplexAnimation(animation);
          }
          break;
        case "gs.InputName":
          actorId = command.params.actorId;
          if ((actorId != null) && (actorId.scope == null)) {
            actor = RecordManager.actors[actorId];
            if (actor != null) {
              ResourceManager.getBitmap("Graphics/Faces/" + ((ref16 = actor.faceGraphic) != null ? ref16.name : void 0));
            }
          }
          break;
        case "gs.ChangeTileset":
          if (command.params.graphic != null) {
            ResourceManager.getBitmap("Graphics/Tilesets/" + command.params.graphic.name);
          }
          break;
        case "gs.ChangeMapParallaxBackground":
          if (command.params.parallaxBackground != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.parallaxBackground.name);
          }
          break;
        case "gs.ChangeActorGraphic":
          if (command.params.changeCharacter && (command.params.characterGraphic != null)) {
            ResourceManager.getBitmap("Graphics/Characters/" + command.params.characterGraphic.name);
          }
          if (command.params.changeFace && (command.params.faceGraphic != null)) {
            ResourceManager.getBitmap("Graphics/Faces/" + command.params.faceGraphic.name);
          }
          break;
        case "gs.MoveEvent":
          ref17 = command.params.commands;
          for (y = 0, len13 = ref17.length; y < len13; y++) {
            moveCommand = ref17[y];
            switch (moveCommand.id) {
              case 44:
                ResourceManager.getBitmap("Graphics/Characters/" + moveCommand.resource.name);
                break;
              case 47:
                AudioManager.loadSound(moveCommand.resource);
            }
          }
          break;
        case "gs.TransformEnemy":
          if (((ref18 = command.params) != null ? ref18.targetId.scope : void 0) == null) {
            enemy = RecordManager.enemies[command.params.targetId];
            this.loadActorBattleAnimations(enemy);
          }
          break;
        case "gs.PlayMusic":
          if (command.params.music != null) {
            AudioManager.loadMusic(command.params.music);
          }
          break;
        case "gs.PlayVideo":
        case "gs.ShowVideo":
          if (command.params.video != null) {
            ResourceManager.getVideo("Movies/" + command.params.video.name);
          }
          if (((ref19 = command.params.animation) != null ? ref19.type : void 0) === gs.AnimationTypes.MASKING) {
            ResourceManager.getBitmap("Graphics/Masks/" + command.params.animation.mask.graphic.name);
          }
          break;
        case "gs.PlaySound":
          if (command.params.sound != null) {
            AudioManager.loadSound(command.params.sound);
            ResourceManager.getAudioBuffer("Audio/Sound/" + command.params.sound.name);
          }
          break;
        case "vn.ChangeSounds":
          ref20 = command.params.sounds;
          for (z = 0, len14 = ref20.length; z < len14; z++) {
            sound = ref20[z];
            if (sound != null) {
              AudioManager.loadSound(sound);
            }
          }
          break;
        case "gs.ChangeScreenCursor":
          if (((ref21 = command.params.graphic) != null ? ref21.name : void 0) != null) {
            ResourceManager.getBitmap("Graphics/Pictures/" + command.params.graphic.name);
          }
      }
    }
    return null;
  };


  /**
  * Loads all resources for the specified animation.
  *
  * @method loadAnimation
  * @param {Object} animation - The animation-record.
  * @static
   */

  ResourceLoader.prototype.loadAnimation = function(animation) {
    if ((animation != null) && (animation.graphic != null)) {
      return ResourceManager.getBitmap("Graphics/SimpleAnimations/" + animation.graphic.name);
    }
  };

  return ResourceLoader;

})();

gs.ResourceLoader = new ResourceLoader();

window.ResourceLoader = gs.ResourceLoader;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7RUFVYSx3QkFBQTtJQUNULElBQUMsQ0FBQSxpQkFBRCxHQUFxQjtFQURaOzs7QUFHYjs7Ozs7Ozs7MkJBT0EsbUJBQUEsR0FBcUIsU0FBQyxLQUFEO0FBQ2pCLFFBQUE7QUFBQSxTQUFBLFVBQUE7TUFDSSxJQUFDLENBQUEsb0JBQUQsQ0FBc0IsS0FBTSxDQUFBLENBQUEsQ0FBNUI7QUFESjtBQUdBLFdBQU87RUFKVTs7O0FBTXJCOzs7Ozs7OzsyQkFPQSx3QkFBQSxHQUEwQixTQUFDLE1BQUQ7QUFDdEIsUUFBQTtBQUFBLFNBQUEsV0FBQTtNQUNJLElBQUcsQ0FBQSxLQUFLLE9BQUwsSUFBZ0IsQ0FBQSxLQUFLLFdBQXhCO1FBQ0ksZUFBZSxDQUFDLFNBQWhCLENBQTBCLG9CQUFBLEdBQXFCLE1BQU8sQ0FBQSxDQUFBLENBQXRELEVBREo7T0FBQSxNQUVLLElBQUcsQ0FBQSxLQUFLLE9BQVI7UUFDRCxlQUFlLENBQUMsUUFBaEIsQ0FBeUIsU0FBQSxHQUFVLE1BQU8sQ0FBQSxDQUFBLENBQTFDLEVBREM7O0FBSFQ7QUFLQSxXQUFPO0VBTmU7OztBQVExQjs7Ozs7Ozs7MkJBT0Esd0JBQUEsR0FBMEIsU0FBQyxNQUFEO0FBQ3RCLFFBQUE7QUFBQSxTQUFBLFdBQUE7TUFDSSxJQUFHLE1BQU8sQ0FBQSxDQUFBLENBQVAsWUFBcUIsS0FBeEI7QUFDSTtBQUFBLGFBQUEscUNBQUE7O0FBQ0ksZUFBQSxNQUFBO1lBQ0ksSUFBRyxDQUFBLEtBQUssT0FBTCxJQUFnQixDQUFBLEtBQUssV0FBeEI7Y0FDSSxLQUFBLEdBQVEsQ0FBRSxDQUFBLENBQUE7Y0FFVixvQkFBRyxLQUFLLENBQUUsVUFBUCxDQUFrQixPQUFsQixVQUFIO2dCQUNJLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixDQUFFLENBQUEsQ0FBQSxDQUE1QixF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USxJQUFHLDRCQUFIO1lBQ0ksWUFBWSxDQUFDLFNBQWIsQ0FBdUIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUF0QztZQUNBLGVBQWUsQ0FBQyxjQUFoQixDQUErQixjQUFBLEdBQWUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBbkUsRUFGSjs7QUFEQztBQTdLVCxhQWtMUyxpQkFsTFQ7QUFtTFE7QUFBQSxlQUFBLDJDQUFBOztZQUNJLElBQUcsYUFBSDtjQUNJLFlBQVksQ0FBQyxTQUFiLENBQXVCLEtBQXZCLEVBREo7O0FBREo7QUFEQztBQWxMVCxhQXVMUyx1QkF2TFQ7VUF3TFEsSUFBRyx3RUFBSDtZQUNJLGVBQWUsQ0FBQyxTQUFoQixDQUEwQixvQkFBQSxHQUFxQixPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUF0RSxFQURKOztBQXhMUjtBQURKO0FBMkxBLFdBQU87RUE3TGlCOzs7QUErTDVCOzs7Ozs7OzsyQkFPQSxhQUFBLEdBQWUsU0FBQyxTQUFEO0lBQ1gsSUFBRyxtQkFBQSxJQUFlLDJCQUFsQjthQUNJLGVBQWUsQ0FBQyxTQUFoQixDQUEwQiw0QkFBQSxHQUE2QixTQUFTLENBQUMsT0FBTyxDQUFDLElBQXpFLEVBREo7O0VBRFc7Ozs7OztBQU1uQixFQUFFLENBQUMsY0FBSCxHQUF3QixJQUFBLGNBQUEsQ0FBQTs7QUFDeEIsTUFBTSxDQUFDLGNBQVAsR0FBd0IsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jXG4jICAgU2NyaXB0OiBSZXNvdXJjZUxvYWRlclxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgUmVzb3VyY2VMb2FkZXJcbiAgICAjIyMqXG4gICAgKiBUaGUgcmVzb3VyY2UgaGVscHMgdG8gbG9hZCBhIGJ1bmNoIG9mIHJlc291cmNlcyBmcm9tIGRpZmZlcmVudCBraW5kIG9mXG4gICAgKiBkYXRhIHN0cnVjdHVyZXMuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIFJlc291cmNlTG9hZGVyXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHN0YXRpY1xuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBAbG9hZGVkU2NlbmVzQnlVaWQgPSB7fVxuICAgIFxuICAgICMjIypcbiAgICAqIExvYWRzIGFsbCBncmFwaGljcyBmb3IgdGhlIHNwZWNpZmllZCBsaXN0IG9mIGN1c3RvbSBsYXlvdXQgdHlwZXMvdGVtcGxhdGVzXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkVWlUeXBlc0dyYXBoaWNzXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSB0eXBlcyAtIEFuIGFycmF5IG9mIGN1c3RvbSBsYXlvdXQgdHlwZXMvdGVtcGxhdGVzXG4gICAgKiBAc3RhdGljXG4gICAgIyMjIFxuICAgIGxvYWRVaVR5cGVzR3JhcGhpY3M6ICh0eXBlcykgLT5cbiAgICAgICAgZm9yIGsgb2YgdHlwZXNcbiAgICAgICAgICAgIEBsb2FkVWlMYXlvdXRHcmFwaGljcyh0eXBlc1trXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIFxuICAgICMjIypcbiAgICAqIExvYWRzIGFsbCBncmFwaGljcyBmb3IgdGhlIHNwZWNpZmllZCBsYXlvdXQtZGVzY3JpcHRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxvYWRVaUdyYXBoaWNzRnJvbU9iamVjdFxuICAgICogQHBhcmFtIHtPYmplY3R9IGxheW91dCAtIFRoZSBsYXlvdXQgZGVzY3JpcHRvci5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgXG4gICAgbG9hZFVpR3JhcGhpY3NGcm9tT2JqZWN0OiAobGF5b3V0KSAtPlxuICAgICAgICBmb3IgayBvZiBsYXlvdXRcbiAgICAgICAgICAgIGlmIGsgPT0gXCJpbWFnZVwiIG9yIGsgPT0gXCJmdWxsSW1hZ2VcIlxuICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2xheW91dFtrXX1cIilcbiAgICAgICAgICAgIGVsc2UgaWYgayA9PSBcInZpZGVvXCJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0VmlkZW8oXCJNb3ZpZXMvI3tsYXlvdXRba119XCIpICAgICAgICBcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyBhbGwgZ3JhcGhpY3MgZm9yIHRoZSBzcGVjaWZpZWQgbGF5b3V0LWRlc2NyaXB0b3IuXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkVWlEYXRhRmllbGRzR3JhcGhpY3NcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBsYXlvdXQgLSBUaGUgbGF5b3V0IGRlc2NyaXB0b3IuXG4gICAgKiBAc3RhdGljXG4gICAgIyMjICAgICBcbiAgICBsb2FkVWlEYXRhRmllbGRzR3JhcGhpY3M6IChsYXlvdXQpIC0+XG4gICAgICAgIGZvciBrIG9mIGxheW91dFxuICAgICAgICAgICAgaWYgbGF5b3V0W2tdIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICBmb3IgbyBpbiBsYXlvdXRba11cbiAgICAgICAgICAgICAgICAgICAgZm9yIGogb2Ygb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgaiA9PSBcImltYWdlXCIgb3IgaiA9PSBcImZ1bGxJbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBvW2pdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgaW1hZ2U/LnN0YXJ0c1dpdGgoXCJkYXRhOlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKG9bal0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tvW2pdfVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIExvYWRzIGFsbCBncmFwaGljcyBmb3IgdGhlIHNwZWNpZmllZCBsYXlvdXQtZGVzY3JpcHRvci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGxvYWRVaURhdGFGaWVsZHNHcmFwaGljc1xuICAgICogQHBhcmFtIHtPYmplY3R9IGxheW91dCAtIFRoZSBsYXlvdXQgZGVzY3JpcHRvci5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgICAgIFxuICAgIGxvYWRVaUxheW91dEdyYXBoaWNzOiAobGF5b3V0KSAtPlxuICAgICAgICBpZiBsYXlvdXQucHJlbG9hZD9cbiAgICAgICAgICAgIGlmIGxheW91dC5wcmVsb2FkLmdyYXBoaWNzP1xuICAgICAgICAgICAgICAgIGZvciBncmFwaGljIGluIGxheW91dC5wcmVsb2FkLmdyYXBoaWNzXG4gICAgICAgICAgICAgICAgICAgIGlmIGdyYXBoaWMubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCIje2dyYXBoaWMuZm9sZGVyfHwnR3JhcGhpY3MvUGljdHVyZXMnfS8je2dyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUobnVsbCwgZ3JhcGhpYy5wYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHN1YiBpbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzdWI/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gdWkuQ29tcG9uZW50X0Zvcm11bGFIYW5kbGVyLmZpZWxkVmFsdWUoc3ViLCBncmFwaGljLmltYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBpbWFnZT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2ltYWdlfVwiKVxuICAgICAgICAgICAgaWYgbGF5b3V0LnByZWxvYWQudmlkZW9zP1xuICAgICAgICAgICAgICAgIGZvciB2aWRlbyBpbiBsYXlvdXQucHJlbG9hZC52aWRlb3NcbiAgICAgICAgICAgICAgICAgICAgaWYgdmlkZW8ubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRWaWRlbyhcIiN7dmlkZW8uZm9sZGVyfHwnTW92aWVzJ30vI3t2aWRlby5uYW1lfVwiKVxuICAgICAgICAgICAgaWYgbGF5b3V0LnByZWxvYWQubXVzaWM/XG4gICAgICAgICAgICAgICAgZm9yIG11c2ljIGluIGxheW91dC5wcmVsb2FkLm11c2ljXG4gICAgICAgICAgICAgICAgICAgIGlmIG11c2ljP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldFZpZGVvKFwiI3ttdXNpYy5mb2xkZXJ8fCdBdWRpby9NdXNpYyd9LyN7bXVzaWMubmFtZSB8fCBtdXNpY31cIilcbiAgICAgICAgICAgIGlmIGxheW91dC5wcmVsb2FkLnNvdW5kcz9cbiAgICAgICAgICAgICAgICBmb3Igc291bmQgaW4gbGF5b3V0LnByZWxvYWQuc291bmRzXG4gICAgICAgICAgICAgICAgICAgIGlmIHNvdW5kP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEF1ZGlvQnVmZmVyKFwiI3tzb3VuZC5mb2xkZXJ8fCdBdWRpby9Tb3VuZHMnfS8je3VpLkNvbXBvbmVudF9Gb3JtdWxhSGFuZGxlci5maWVsZFZhbHVlKGxheW91dCwgc291bmQubmFtZSB8fCBzb3VuZCk/Lm5hbWV9XCIpXG4gICAgICAgIGlmIGxheW91dC5pbWFnZXM/XG4gICAgICAgICAgICBmb3IgaW1hZ2UgaW4gbGF5b3V0LmltYWdlc1xuICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2ltYWdlfVwiKVxuICAgICAgICBpZiBsYXlvdXQuYW5pbWF0aW9ucz9cbiAgICAgICAgICAgIGZvciBkZXNjcmlwdG9yIGluIGxheW91dC5hbmltYXRpb25zXG4gICAgICAgICAgICAgICAgZm9yIGFuaW1hdGlvbiBpbiBkZXNjcmlwdG9yLmZsb3dcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIGFuaW1hdGlvbi50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuIFwic291bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihcIkF1ZGlvL1NvdW5kcy8je2FuaW1hdGlvbi5zb3VuZH1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gXCJjaGFuZ2VJbWFnZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbWFnZSBpbiBhbmltYXRpb24uaW1hZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2ltYWdlfVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBcIm1hc2tUb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL01hc2tzLyN7YW5pbWF0aW9uLm1hc2t9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGFuaW1hdGlvbi5zb3VuZD9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihcIkF1ZGlvL1NvdW5kcy8je2FuaW1hdGlvbi5zb3VuZH1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgbGF5b3V0LmltYWdlP1xuICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7bGF5b3V0LmltYWdlfVwiKVxuICAgICAgICBpZiBsYXlvdXQudmlkZW8/XG4gICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTW92aWVzLyN7bGF5b3V0LnZpZGVvfVwiKVxuICAgICAgICBpZiBsYXlvdXQuY3VzdG9tRmllbGRzP1xuICAgICAgICAgICAgQGxvYWRVaUdyYXBoaWNzRnJvbU9iamVjdChsYXlvdXQuY3VzdG9tRmllbGRzKVxuICAgICAgICBpZiBsYXlvdXQuY3VzdG9tRmllbGRzPy5hY3Rpb25zP1xuICAgICAgICAgICAgZm9yIGFjdGlvbiBpbiBsYXlvdXQuY3VzdG9tRmllbGRzLmFjdGlvbnNcbiAgICAgICAgICAgICAgICBpZiBhY3Rpb24ubmFtZSA9PSBcInBsYXlWb2ljZVwiIG9yIGFjdGlvbi5uYW1lID09IFwicGxheVNvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRTb3VuZChhY3Rpb24ucGFyYW1zLm5hbWUpXG4gICAgICAgIGlmIGxheW91dC5hY3Rpb25zPyBvciBsYXlvdXQuYWN0aW9uP1xuICAgICAgICAgICAgYWN0aW9ucyA9IGlmIGxheW91dC5hY3Rpb24/IHRoZW4gW2xheW91dC5hY3Rpb25dIGVsc2UgbGF5b3V0LmFjdGlvbnNcbiAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gYWN0aW9uc1xuICAgICAgICAgICAgICAgIGlmIGFjdGlvbi5uYW1lID09IFwicGxheVZvaWNlXCIgb3IgYWN0aW9uLm5hbWUgPT0gXCJwbGF5U291bmRcIlxuICAgICAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIubG9hZFNvdW5kKGFjdGlvbi5wYXJhbXMubmFtZSlcbiAgICAgICAgaWYgbGF5b3V0LnBhcmFtc1xuICAgICAgICAgICAgQGxvYWRVaUxheW91dEdyYXBoaWNzKGxheW91dC5wYXJhbXMpXG4gICAgICAgIGlmIGxheW91dC50ZW1wbGF0ZT9cbiAgICAgICAgICAgIEBsb2FkVWlMYXlvdXRHcmFwaGljcyhsYXlvdXQudGVtcGxhdGUpXG4gICAgICAgIGlmIGxheW91dC5zdHlsZT8gYW5kIHVpLlVpRmFjdG9yeS5zdHlsZXNbbGF5b3V0LnN0eWxlXT9cbiAgICAgICAgICAgIEBsb2FkVWlMYXlvdXRHcmFwaGljcyh1aS5VaUZhY3Rvcnkuc3R5bGVzW2xheW91dC5zdHlsZV0pXG4gICAgICAgICAgICBmb3Igc2VsIG9mIHVpLlVJTWFuYWdlci5zZWxlY3RvcnNcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHVpLlVJTWFuYWdlci5zdHlsZXNbbGF5b3V0LnN0eWxlICsgXCI6XCIrc2VsXVxuICAgICAgICAgICAgICAgIGlmIHN0eWxlIHRoZW4gQGxvYWRVaUxheW91dEdyYXBoaWNzKHN0eWxlKVxuICAgICAgICBpZiB1aS5VaUZhY3RvcnkuY3VzdG9tVHlwZXNbbGF5b3V0LnR5cGVdP1xuICAgICAgICAgICAgQGxvYWRVaUxheW91dEdyYXBoaWNzKHVpLlVpRmFjdG9yeS5jdXN0b21UeXBlc1tsYXlvdXQudHlwZV0pXG4gICAgICAgIGlmIGxheW91dC5jb250cm9scz9cbiAgICAgICAgICAgIGZvciBjb250cm9sIGluIGxheW91dC5jb250cm9sc1xuICAgICAgICAgICAgICAgIEBsb2FkVWlMYXlvdXRHcmFwaGljcyhjb250cm9sKVxuICAgIFxuICAgICMjIypcbiAgICAqIExvYWRzIGFsbCBzeXN0ZW0gc291bmRzLlxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZFN5c3RlbVNvdW5kc1xuICAgICogQHN0YXRpY1xuICAgICMjIyAgICAgICAgICAgICAgICBcbiAgICBsb2FkU3lzdGVtU291bmRzOiAtPlxuICAgICAgICBmb3Igc291bmQgaW4gUmVjb3JkTWFuYWdlci5zeXN0ZW0uc291bmRzXG4gICAgICAgICAgICBBdWRpb01hbmFnZXIubG9hZFNvdW5kKHNvdW5kKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyBhbGwgc3lzdGVtIGdyYXBoaWNzLlxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZFN5c3RlbUdyYXBoaWNzXG4gICAgKiBAc3RhdGljXG4gICAgIyMjICAgICBcbiAgICBsb2FkU3lzdGVtR3JhcGhpY3M6IC0+XG4gICAgICAgIGZvciBzbG90IGluIEdhbWVNYW5hZ2VyLnNhdmVHYW1lU2xvdHNcbiAgICAgICAgICAgIGlmIHNsb3QudGh1bWI/IGFuZCBzbG90LnRodW1iLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKHNsb3QudGh1bWIpXG4gICAgICAgIGlmIFJlY29yZE1hbmFnZXIuc3lzdGVtLmN1cnNvcj8ubmFtZVxuICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7UmVjb3JkTWFuYWdlci5zeXN0ZW0uY3Vyc29yLm5hbWV9XCIpXG4gICAgICAgIGlmIFJlY29yZE1hbmFnZXIuc3lzdGVtLnRpdGxlU2NyZWVuPy5uYW1lXG4gICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tSZWNvcmRNYW5hZ2VyLnN5c3RlbS50aXRsZVNjcmVlbi5uYW1lfVwiKVxuICAgICAgICBpZiBSZWNvcmRNYW5hZ2VyLnN5c3RlbS5sYW5ndWFnZVNjcmVlbj8ubmFtZVxuICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7UmVjb3JkTWFuYWdlci5zeXN0ZW0ubGFuZ3VhZ2VTY3JlZW4ubmFtZX1cIilcbiAgICAgICAgaWYgUmVjb3JkTWFuYWdlci5zeXN0ZW0ubWVudUJhY2tncm91bmQ/Lm5hbWVcbiAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je1JlY29yZE1hbmFnZXIuc3lzdGVtLm1lbnVCYWNrZ3JvdW5kLm5hbWV9XCIpXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgXG4gICAgIyMjKlxuICAgICogTG9hZHMgYWxsIHJlc291cmNlcyBuZWVkZWQgYnkgdGhlIHNwZWNpZmllZCBsaXN0IG9mIGNvbW1hbmRzLlxuICAgICpcbiAgICAqIEBtZXRob2QgbG9hZEV2ZW50Q29tbWFuZHNHcmFwaGljc1xuICAgICogQHBhcmFtIHtPYmplY3RbXX0gY29tbWFuZHMgLSBUaGUgbGlzdCBvZiBjb21tYW5kcy5cbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IEluZGljYXRlcyBpZiBkYXRhIG5lZWRzIHRvIGJlIGxvYWRlZC4gXG4gICAgKiBAc3RhdGljXG4gICAgIyMjIFxuICAgIGxvYWRFdmVudENvbW1hbmRzRGF0YTogKGNvbW1hbmRzKSAtPlxuICAgICAgICByZXR1cm4gbm8gaWYgbm90IGNvbW1hbmRzP1xuICAgICAgICBcbiAgICAgICAgcmVzdWx0ID0gbm9cbiAgICAgICAgXG4gICAgICAgIGZvciBjb21tYW5kIGluIGNvbW1hbmRzXG4gICAgICAgICAgICBzd2l0Y2ggY29tbWFuZC5pZFxuICAgICAgICAgICAgICAgIHdoZW4gXCJ2bi5DaG9pY2VcIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5hY3Rpb24uc2NlbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjZW5lRG9jdW1lbnQgPSBEYXRhTWFuYWdlci5nZXREb2N1bWVudChjb21tYW5kLnBhcmFtcy5hY3Rpb24uc2NlbmUudWlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2NlbmVEb2N1bWVudCB0aGVuIHJlc3VsdCA9ICFzY2VuZURvY3VtZW50LmxvYWRlZFxuICAgICAgICAgICAgICAgIHdoZW4gXCJ2bi5DYWxsU2NlbmVcIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5zY2VuZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmVEb2N1bWVudCA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50KGNvbW1hbmQucGFyYW1zLnNjZW5lLnVpZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNjZW5lRG9jdW1lbnQgdGhlbiByZXN1bHQgPSAhc2NlbmVEb2N1bWVudC5sb2FkZWRcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQgIFxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBMb2FkcyBhbGwgcmVzb3VyY2VzIG5lZWRlZCBieSB0aGUgc3BlY2lmaWVkIGxpc3Qgb2YgY29tbWFuZHMuXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkRXZlbnRDb21tYW5kc0dyYXBoaWNzXG4gICAgKiBAcGFyYW0ge09iamVjdFtdfSBjb21tYW5kcyAtIFRoZSBsaXN0IG9mIGNvbW1hbmRzLlxuICAgICogQHN0YXRpY1xuICAgICMjIyAgICAgXG4gICAgbG9hZEV2ZW50Q29tbWFuZHNHcmFwaGljczogKGNvbW1hbmRzKSAtPlxuICAgICAgICBAbG9hZGVkU2NlbmVzQnlVaWQgPSB7fVxuICAgICAgICBAX2xvYWRFdmVudENvbW1hbmRzR3JhcGhpY3MoY29tbWFuZHMpXG4gICAgICAgIFxuICAgIF9sb2FkRXZlbnRDb21tYW5kc0dyYXBoaWNzOiAoY29tbWFuZHMpIC0+XG4gICAgICAgIHJldHVybiBpZiBub3QgY29tbWFuZHM/XG4gICAgICAgIGZvciBjb21tYW5kIGluIGNvbW1hbmRzXG4gICAgICAgICAgICBzd2l0Y2ggY29tbWFuZC5pZFxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5DYWxsQ29tbW9uRXZlbnRcIlxuICAgICAgICAgICAgICAgICAgICBjb21tb25FdmVudCA9IFJlY29yZE1hbmFnZXIuY29tbW9uRXZlbnRzW2NvbW1hbmQucGFyYW1zLmNvbW1vbkV2ZW50SWRdXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1vbkV2ZW50P1xuICAgICAgICAgICAgICAgICAgICAgICAgQF9sb2FkRXZlbnRDb21tYW5kc0dyYXBoaWNzKGNvbW1vbkV2ZW50LmNvbW1hbmRzKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5TY3JlZW5UcmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL01hc2tzLyN7Y29tbWFuZC5wYXJhbXMuZ3JhcGhpYz8ubmFtZX1cIilcbiAgICAgICAgICAgICAgICB3aGVuIFwidm4uQ2hhbmdlQmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmdyYXBoaWM/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQmFja2dyb3VuZHMvI3tjb21tYW5kLnBhcmFtcy5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmFuaW1hdGlvbj8udHlwZSA9PSBncy5BbmltYXRpb25UeXBlcy5NQVNLSU5HXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3tjb21tYW5kLnBhcmFtcy5hbmltYXRpb24ubWFzay5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgd2hlbiBcInZuLkwyREpvaW5TY2VuZVwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLm1vZGVsP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldExpdmUyRE1vZGVsKFwiTGl2ZTJELyN7Y29tbWFuZC5wYXJhbXMubW9kZWwubmFtZX1cIilcbiAgICAgICAgICAgICAgICB3aGVuIFwidm4uQ2hhcmFjdGVySm9pblNjZW5lXCJcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzW2NvbW1hbmQucGFyYW1zLmNoYXJhY3RlcklkXVxuICAgICAgICAgICAgICAgICAgICBpZiBjaGFyYWN0ZXI/XG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uSWQgPSBjb21tYW5kLnBhcmFtcy5leHByZXNzaW9uSWQgPyBjaGFyYWN0ZXIuZGVmYXVsdEV4cHJlc3Npb25JZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXhwcmVzc2lvbklkP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbZXhwcmVzc2lvbklkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlY29yZD9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcmVjb3JkLmlkbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbWFnZSBpbiByZWNvcmQuaWRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9DaGFyYWN0ZXJzLyN7aW1hZ2UucmVzb3VyY2UubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcmVjb3JkLnRhbGtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbWFnZSBpbiByZWNvcmQudGFsa2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9DaGFyYWN0ZXJzLyN7aW1hZ2UucmVzb3VyY2UubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uLnR5cGUgPT0gZ3MuQW5pbWF0aW9uVHlwZXMuTUFTS0lORyBhbmQgY29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uLm1hc2suZ3JhcGhpYz9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9NYXNrcy8je2NvbW1hbmQucGFyYW1zLmFuaW1hdGlvbi5tYXNrLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICB3aGVuIFwidm4uQ2hhcmFjdGVyQ2hhbmdlRXhwcmVzc2lvblwiXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbY29tbWFuZC5wYXJhbXMuZXhwcmVzc2lvbklkXVxuICAgICAgICAgICAgICAgICAgICBpZiByZWNvcmQ/XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW1hZ2UgaW4gcmVjb3JkLmlkbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2ltYWdlLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW1hZ2UgaW4gcmVjb3JkLnRhbGtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2ltYWdlLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmFuaW1hdGlvbi50eXBlID09IGdzLkFuaW1hdGlvblR5cGVzLk1BU0tJTkcgYW5kIGNvbW1hbmQucGFyYW1zLmFuaW1hdGlvbi5tYXNrLmdyYXBoaWM/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvTWFza3MvI3tjb21tYW5kLnBhcmFtcy5hbmltYXRpb24ubWFzay5ncmFwaGljLm5hbWV9XCIpICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuU2hvd1BhcnRpYWxNZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMudm9pY2U/XG4gICAgICAgICAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIubG9hZFNvdW5kKGNvbW1hbmQucGFyYW1zLnZvaWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgI1Jlc291cmNlTWFuYWdlci5nZXRBdWRpb0J1ZmZlcihcIkF1ZGlvL1NvdW5kLyN7Y29tbWFuZC5wYXJhbXMudm9pY2UubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd2hlbiBcInZuLkNob2ljZVwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmFjdGlvbi5zY2VuZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmVEb2N1bWVudCA9IERhdGFNYW5hZ2VyLmdldERvY3VtZW50KGNvbW1hbmQucGFyYW1zLmFjdGlvbi5zY2VuZS51aWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiBzY2VuZURvY3VtZW50IGFuZCAhQGxvYWRlZFNjZW5lc0J5VWlkW3NjZW5lRG9jdW1lbnQudWlkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBsb2FkZWRTY2VuZXNCeVVpZFtzY2VuZURvY3VtZW50LnVpZF0gPSB5ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAX2xvYWRFdmVudENvbW1hbmRzR3JhcGhpY3Moc2NlbmVEb2N1bWVudC5pdGVtcy5jb21tYW5kcylcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5TaG93TWVzc2FnZVwiLCBcImdzLlNob3dNZXNzYWdlTlZMXCIsIFwiZ3MuU2hvd1RleHRcIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5hbmltYXRpb25zP1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGVpZCBpbiBjb21tYW5kLnBhcmFtcy5hbmltYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gUmVjb3JkTWFuYWdlci5hbmltYXRpb25zW2VpZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBhbmltYXRpb24/IGFuZCBhbmltYXRpb24uZ3JhcGhpYy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2FuaW1hdGlvbi5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5leHByZXNzaW9ucz9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBlaWQgaW4gY29tbWFuZC5wYXJhbXMuZXhwcmVzc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJFeHByZXNzaW9uc1tlaWRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXhwcmVzc2lvbj9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGltYWdlIGluIGV4cHJlc3Npb24uaWRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL0NoYXJhY3RlcnMvI3tpbWFnZS5yZXNvdXJjZS5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW1hZ2UgaW4gZXhwcmVzc2lvbi50YWxraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2ltYWdlLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnZvaWNlP1xuICAgICAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRTb3VuZChjb21tYW5kLnBhcmFtcy52b2ljZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICNSZXNvdXJjZU1hbmFnZXIuZ2V0QXVkaW9CdWZmZXIoXCJBdWRpby9Tb3VuZC8je2NvbW1hbmQucGFyYW1zLnZvaWNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IFJlY29yZE1hbmFnZXIuY2hhcmFjdGVyRXhwcmVzc2lvbnNbY29tbWFuZC5wYXJhbXMuZXhwcmVzc2lvbklkXVxuICAgICAgICAgICAgICAgICAgICBpZiByZWNvcmQ/XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW1hZ2UgaW4gcmVjb3JkLmlkbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2ltYWdlLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW1hZ2UgaW4gcmVjb3JkLnRhbGtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2ltYWdlLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuQWRkSG90c3BvdFwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmJhc2VHcmFwaGljPyBhbmQgY29tbWFuZC5wYXJhbXMuYmFzZUdyYXBoaWMubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLmJhc2VHcmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmhvdmVyR3JhcGhpYz8gYW5kIGNvbW1hbmQucGFyYW1zLmhvdmVyR3JhcGhpYy5uYW1lP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7Y29tbWFuZC5wYXJhbXMuaG92ZXJHcmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnNlbGVjdGVkR3JhcGhpYz8gYW5kIGNvbW1hbmQucGFyYW1zLnNlbGVjdGVkR3JhcGhpYy5uYW1lP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7Y29tbWFuZC5wYXJhbXMuc2VsZWN0ZWRHcmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnNlbGVjdGVkSG92ZXJHcmFwaGljPyBhbmQgY29tbWFuZC5wYXJhbXMuc2VsZWN0ZWRIb3ZlckdyYXBoaWMubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLnNlbGVjdGVkSG92ZXJHcmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnVuc2VsZWN0ZWRHcmFwaGljPyBhbmQgY29tbWFuZC5wYXJhbXMudW5zZWxlY3RlZEdyYXBoaWMubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLnVuc2VsZWN0ZWRHcmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgd2hlbiBcImdzLlNob3dQaWN0dXJlXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuZ3JhcGhpYz9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uPy50eXBlID09IGdzLkFuaW1hdGlvblR5cGVzLk1BU0tJTkdcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9NYXNrcy8je2NvbW1hbmQucGFyYW1zLmFuaW1hdGlvbi5tYXNrLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuU2hvd0ltYWdlTWFwXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuZ3JvdW5kP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7Y29tbWFuZC5wYXJhbXMuZ3JvdW5kLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmhvdmVyP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7Y29tbWFuZC5wYXJhbXMuaG92ZXIubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMudW5zZWxlY3RlZD9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLnVuc2VsZWN0ZWQubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuc2VsZWN0ZWQ/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvUGljdHVyZXMvI3tjb21tYW5kLnBhcmFtcy5zZWxlY3RlZC5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5zZWxlY3RlZEhvdmVyP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7Y29tbWFuZC5wYXJhbXMuc2VsZWN0ZWRIb3Zlci5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICBmb3IgaG90c3BvdCBpbiBjb21tYW5kLnBhcmFtcy5ob3RzcG90c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgaG90c3BvdC5kYXRhLmFjdGlvbiA9PSAyICMgQ29tbW9uIEV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uRXZlbnQgPSBSZWNvcmRNYW5hZ2VyLmNvbW1vbkV2ZW50c1tob3RzcG90LmRhdGEuY29tbW9uRXZlbnRJZF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjb21tb25FdmVudD9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQF9sb2FkRXZlbnRDb21tYW5kc0dyYXBoaWNzKGNvbW1vbkV2ZW50LmNvbW1hbmRzKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5Nb3ZlUGljdHVyZVBhdGhcIiwgXCJ2bi5Nb3ZlQ2hhcmFjdGVyUGF0aFwiLCBcInZuLlNjcm9sbEJhY2tncm91bmRQYXRoXCIsIFwiZ3MuTW92ZVZpZGVvUGF0aFwiICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnBhdGguZWZmZWN0cz9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBlZmZlY3QgaW4gY29tbWFuZC5wYXJhbXMucGF0aC5lZmZlY3RzLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIubG9hZFNvdW5kKGVmZmVjdC5zb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuTWFza1BpY3R1cmVcIiwgXCJ2bi5NYXNrQ2hhcmFjdGVyXCIsIFwidm4uTWFza0JhY2tncm91bmRcIiwgXCJncy5NYXNrVmlkZW9cIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5tYXNrLnNvdXJjZVR5cGUgPT0gMCBhbmQgY29tbWFuZC5wYXJhbXMubWFzay5ncmFwaGljP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL01hc2tzLyN7Y29tbWFuZC5wYXJhbXMubWFzay5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLm1hc2suc291cmNlVHlwZSA9PSAxIGFuZCBjb21tYW5kLnBhcmFtcy5tYXNrLnZpZGVvP1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldFZpZGVvKFwiTW92aWVzLyN7Y29tbWFuZC5wYXJhbXMubWFzay52aWRlby5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5QbGF5UGljdHVyZUFuaW1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbklkID0gY29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uSWRcbiAgICAgICAgICAgICAgICAgICAgaWYgYW5pbWF0aW9uSWQ/IGFuZCBub3QgYW5pbWF0aW9uSWQuc2NvcGU/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gUmVjb3JkTWFuYWdlci5hbmltYXRpb25zW2FuaW1hdGlvbklkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFuaW1hdGlvbiBhbmQgYW5pbWF0aW9uLmdyYXBoaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1BpY3R1cmVzLyN7YW5pbWF0aW9uLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuU2hvd0JhdHRsZUFuaW1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbklkID0gY29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uSWRcbiAgICAgICAgICAgICAgICAgICAgaWYgYW5pbWF0aW9uSWQ/IGFuZCBub3QgYW5pbWF0aW9uSWQuc2NvcGU/XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24gPSBSZWNvcmRNYW5hZ2VyLmFuaW1hdGlvbnNbYW5pbWF0aW9uSWRdXG4gICAgICAgICAgICAgICAgICAgICAgICBAbG9hZENvbXBsZXhBbmltYXRpb24oYW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd2hlbiBcImdzLklucHV0TmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIGFjdG9ySWQgPSBjb21tYW5kLnBhcmFtcy5hY3RvcklkXG4gICAgICAgICAgICAgICAgICAgIGlmIGFjdG9ySWQ/IGFuZCBub3QgYWN0b3JJZC5zY29wZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yID0gUmVjb3JkTWFuYWdlci5hY3RvcnNbYWN0b3JJZF1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFjdG9yP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9GYWNlcy8je2FjdG9yLmZhY2VHcmFwaGljPy5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlVGlsZXNldFwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLmdyYXBoaWM/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvVGlsZXNldHMvI3tjb21tYW5kLnBhcmFtcy5ncmFwaGljLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgd2hlbiBcImdzLkNoYW5nZU1hcFBhcmFsbGF4QmFja2dyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLnBhcmFsbGF4QmFja2dyb3VuZD9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLnBhcmFsbGF4QmFja2dyb3VuZC5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5DaGFuZ2VBY3RvckdyYXBoaWNcIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5jaGFuZ2VDaGFyYWN0ZXIgYW5kIGNvbW1hbmQucGFyYW1zLmNoYXJhY3RlckdyYXBoaWM/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je2NvbW1hbmQucGFyYW1zLmNoYXJhY3RlckdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuY2hhbmdlRmFjZSBhbmQgY29tbWFuZC5wYXJhbXMuZmFjZUdyYXBoaWM/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvRmFjZXMvI3tjb21tYW5kLnBhcmFtcy5mYWNlR3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5Nb3ZlRXZlbnRcIlxuICAgICAgICAgICAgICAgICAgICBmb3IgbW92ZUNvbW1hbmQgaW4gY29tbWFuZC5wYXJhbXMuY29tbWFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCBtb3ZlQ29tbWFuZC5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gNDQgIyBDaGFuZ2UgR3JhcGhpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0Qml0bWFwKFwiR3JhcGhpY3MvQ2hhcmFjdGVycy8je21vdmVDb21tYW5kLnJlc291cmNlLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiA0NyAjIFBsYXkgU291bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRTb3VuZChtb3ZlQ29tbWFuZC5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuVHJhbnNmb3JtRW5lbXlcIlxuICAgICAgICAgICAgICAgICAgICBpZiBub3QgY29tbWFuZC5wYXJhbXM/LnRhcmdldElkLnNjb3BlPyAjIEZJWE1FOiBNYXliZSBqdXN0IHVzZSB0aGUgY3VycmVudCB2YXJpYWJsZSB2YWx1ZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15ID0gUmVjb3JkTWFuYWdlci5lbmVtaWVzW2NvbW1hbmQucGFyYW1zLnRhcmdldElkXVxuICAgICAgICAgICAgICAgICAgICAgICAgQGxvYWRBY3RvckJhdHRsZUFuaW1hdGlvbnMoZW5lbXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd2hlbiBcImdzLlBsYXlNdXNpY1wiXG4gICAgICAgICAgICAgICAgICAgIGlmIGNvbW1hbmQucGFyYW1zLm11c2ljP1xuICAgICAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRNdXNpYyhjb21tYW5kLnBhcmFtcy5tdXNpYylcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuUGxheVZpZGVvXCIsIFwiZ3MuU2hvd1ZpZGVvXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMudmlkZW8/XG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0VmlkZW8oXCJNb3ZpZXMvI3tjb21tYW5kLnBhcmFtcy52aWRlby5uYW1lfVwiKVxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5hbmltYXRpb24/LnR5cGUgPT0gZ3MuQW5pbWF0aW9uVHlwZXMuTUFTS0lOR1xuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL01hc2tzLyN7Y29tbWFuZC5wYXJhbXMuYW5pbWF0aW9uLm1hc2suZ3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIHdoZW4gXCJncy5QbGF5U291bmRcIlxuICAgICAgICAgICAgICAgICAgICBpZiBjb21tYW5kLnBhcmFtcy5zb3VuZD9cbiAgICAgICAgICAgICAgICAgICAgICAgIEF1ZGlvTWFuYWdlci5sb2FkU291bmQoY29tbWFuZC5wYXJhbXMuc291bmQpXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNvdXJjZU1hbmFnZXIuZ2V0QXVkaW9CdWZmZXIoXCJBdWRpby9Tb3VuZC8je2NvbW1hbmQucGFyYW1zLnNvdW5kLm5hbWV9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwidm4uQ2hhbmdlU291bmRzXCJcbiAgICAgICAgICAgICAgICAgICAgZm9yIHNvdW5kIGluIGNvbW1hbmQucGFyYW1zLnNvdW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgc291bmQ/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmxvYWRTb3VuZChzb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGVuIFwiZ3MuQ2hhbmdlU2NyZWVuQ3Vyc29yXCJcbiAgICAgICAgICAgICAgICAgICAgaWYgY29tbWFuZC5wYXJhbXMuZ3JhcGhpYz8ubmFtZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5nZXRCaXRtYXAoXCJHcmFwaGljcy9QaWN0dXJlcy8je2NvbW1hbmQucGFyYW1zLmdyYXBoaWMubmFtZX1cIilcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgXG4gICAgIyMjKlxuICAgICogTG9hZHMgYWxsIHJlc291cmNlcyBmb3IgdGhlIHNwZWNpZmllZCBhbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkQW5pbWF0aW9uXG4gICAgKiBAcGFyYW0ge09iamVjdH0gYW5pbWF0aW9uIC0gVGhlIGFuaW1hdGlvbi1yZWNvcmQuXG4gICAgKiBAc3RhdGljXG4gICAgIyMjIFxuICAgIGxvYWRBbmltYXRpb246IChhbmltYXRpb24pIC0+XG4gICAgICAgIGlmIGFuaW1hdGlvbj8gYW5kIGFuaW1hdGlvbi5ncmFwaGljP1xuICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL1NpbXBsZUFuaW1hdGlvbnMvI3thbmltYXRpb24uZ3JhcGhpYy5uYW1lfVwiKVxuICAgICAgICAgICAgXG4gICAgXG5cbmdzLlJlc291cmNlTG9hZGVyID0gbmV3IFJlc291cmNlTG9hZGVyKCkgICAgICAgIFxud2luZG93LlJlc291cmNlTG9hZGVyID0gZ3MuUmVzb3VyY2VMb2FkZXJcbiJdfQ==
//# sourceURL=ResourceLoader_19.js

/**
* An enumeration of game storage locations.
*
* @module gs
* @class GameStorageLocations
* @memberof gs
* @constructor
* @static
* @final
 */
var GameStorage, GameStorageLocations;

GameStorageLocations = (function() {
  function GameStorageLocations() {}

  GameStorageLocations.initialize = function() {

    /**
    * Stores game data in working directory which is next to the executable file in most cases.
    * @property WORKING_DIRECTORY
    * @type number
    * @static
    * @final
     */
    this.WORKING_DIRECTORY = 0;

    /**
    * Stores game data in local app-data directory depending on the operating system.
    * @property APP_DATA_DIRECTORY
    * @type number
    * @static
    * @final
     */
    this.APP_DATA_DIRECTORY = 1;

    /**
    * Stores game data in internal storage.
    * @property INTERNAL_STORAGE
    * @type number
    * @static
    * @final
     */
    return this.INTERNAL_STORAGE = 2;
  };

  return GameStorageLocations;

})();

GameStorageLocations.initialize();

gs.GameStorageLocations = GameStorageLocations;

GameStorage = (function() {

  /**
  * The GameStorage helps to store different kind of game data permanentely like
  * a save-game or the game settings. The way how the data is stored depends on
  * the platform. For example: If the game runs in a web-browser the data is stored
  * the internal local storage of the web-browser but if the game runs locally the
  * data is stored on disk.
  *
  * All object are stored as JSON so it is imported that the object to store can
  * be serialized to JSON and doesn't contain any circular references. Except for
  * the methods gs.GameStorage.setData and gs.GameStorage.getData since that methods
  * dealing with a regular string.
  *
  * @module gs
  * @class GameStorage
  * @memberof gs
  * @constructor
  * @static
   */
  function GameStorage() {}


  /**
  * Clears the game storage. All data will be lost.
  *
  * @method clear
  * @static
   */

  GameStorage.prototype.clear = function() {
    return localStorage.clear();
  };


  /**
  * The path where the data is stored. The result depends on the platform.
  * For example: For a web-game the result is an empty string but for a local
  * running game the result is the file-path to the configured storage-directory of the game.
  *
  * @method clear
  * @static
   */

  GameStorage.prototype.storagePath = function() {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      switch (RecordManager.system.gameDataPath) {
        case gs.GameStorageLocations.APP_DATA_DIRECTORY:
          return nw.App.dataPath;
        case gs.GameStorageLocations.WORKING_DIRECTORY:
          return "./";
        case gs.GameStorageLocations.INTERNAL_STORAGE:
          return "";
        default:
          return "./";
      }
    } else {
      return "";
    }
  };


  /**
  * Checks if data already exists for the specified id/key.
  *
  * @method exists
  * @return {boolean} If <b>true</b> then there is already existing data for the id/key. Otherwise <b>false</b>
  * @static
   */

  GameStorage.prototype.exists = function(id) {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      return require("fs").existsSync(this.storagePath() + "/" + id + ".vndata");
    } else {
      return localStorage.getItem($PARAMS.uid + "_" + id) !== null;
    }
  };


  /**
  * Deletes the data stored under the specified id/key.
  *
  * @method remove
  * @return {string} id - The id/key where the data should be deleted.
  * @static
   */

  GameStorage.prototype.remove = function(id) {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      if (require("fs").existsSync(this.storagePath() + "/" + id + ".vndata")) {
        return require("fs").unlinkSync(this.storagePath() + "/" + id + ".vndata");
      }
    } else {
      return localStorage.removeItem($PARAMS.uid + "_" + id);
    }
  };


  /**
  * Stores a string under the specified id/key.
  *
  * @method setData
  * @param {string} id - The id/key where the data should be stored.
  * @param {string} data - The string to store.
  * @static
   */

  GameStorage.prototype.setData = function(id, data) {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      return require("fs").writeFileSync(this.storagePath() + "/" + id + ".vndata", data);
    } else {
      return localStorage.setItem($PARAMS.uid + "_" + id, data);
    }
  };


  /**
  * Gets a stored string for the specified id/key.
  *
  * @method setObject
  * @param {string} id - The id/key of the string/data to get.
  * @return {string} The string/data or <b>null</b> if no data exists for the specified id/key.
  * @static
   */

  GameStorage.prototype.getData = function(id) {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      return require("fs").readFileSync(this.storagePath() + "/" + id + ".vndata", "utf8");
    } else {
      return localStorage.getItem($PARAMS.uid + "_" + id);
    }
  };


  /**
  * Stores an object under the specified id/key. The object will be serialized to
  * JSON so its important that the object doesn't contain any circular references.
  *
  * @method setObject
  * @param {string} id - The id/key where the object should be stored.
  * @param {Object} object - The object to store.
  * @static
   */

  GameStorage.prototype.setObject = function(id, object) {
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      return require("fs").writeFileSync(this.storagePath() + "/" + id + ".vndata", JSON.stringify(object));
    } else {
      return localStorage.setItem($PARAMS.uid + "_" + id, JSON.stringify(object));
    }
  };


  /**
  * Gets a stored object for the specified id/key.
  *
  * @method setObject
  * @param {string} id - The id/key of the object to get.
  * @return {Object} The object or <b>null</b> if no object exists for the specified id/key.
  * @static
   */

  GameStorage.prototype.getObject = function(id) {
    var item, result;
    if ($PARAMS.isOffline && !$PARAMS.platform.isSteamOS && (window.nw != null)) {
      if (require("fs").existsSync(this.storagePath() + "/" + id + ".vndata")) {
        item = require("fs").readFileSync(this.storagePath() + "/" + id + ".vndata", "utf8");
      }
    } else {
      item = localStorage.getItem($PARAMS.uid + "_" + id);
    }
    result = null;
    if (item != null) {
      result = JSON.parse(item);
    }
    return result;
  };

  return GameStorage;

})();

window.GameStorage = new GameStorage();

gs.GameStorage = window.GameStorage;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFPQTs7Ozs7Ozs7OztBQUFBLElBQUE7O0FBVU07OztFQUNGLG9CQUFDLENBQUEsVUFBRCxHQUFhLFNBQUE7O0FBQ1Q7Ozs7Ozs7SUFPQSxJQUFDLENBQUEsaUJBQUQsR0FBcUI7O0FBRXJCOzs7Ozs7O0lBT0EsSUFBQyxDQUFBLGtCQUFELEdBQXNCOztBQUN0Qjs7Ozs7OztXQU9BLElBQUMsQ0FBQSxnQkFBRCxHQUFvQjtFQXpCWDs7Ozs7O0FBMkJqQixvQkFBb0IsQ0FBQyxVQUFyQixDQUFBOztBQUNBLEVBQUUsQ0FBQyxvQkFBSCxHQUEwQjs7QUFFcEI7O0FBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQWtCYSxxQkFBQSxHQUFBOzs7QUFFYjs7Ozs7Ozt3QkFNQSxLQUFBLEdBQU8sU0FBQTtXQUNILFlBQVksQ0FBQyxLQUFiLENBQUE7RUFERzs7O0FBR1A7Ozs7Ozs7Ozt3QkFRQSxXQUFBLEdBQWEsU0FBQTtJQUNULElBQUcsT0FBTyxDQUFDLFNBQVIsSUFBc0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQXhDLElBQXNELG1CQUF6RDtBQUNJLGNBQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxZQUE1QjtBQUFBLGFBQ1MsRUFBRSxDQUFDLG9CQUFvQixDQUFDLGtCQURqQztBQUVRLGlCQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUM7QUFGdEIsYUFHUyxFQUFFLENBQUMsb0JBQW9CLENBQUMsaUJBSGpDO0FBSVEsaUJBQU87QUFKZixhQUtTLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxnQkFMakM7QUFNUSxpQkFBTztBQU5mO0FBUVEsaUJBQU87QUFSZixPQURKO0tBQUEsTUFBQTtBQVdJLGFBQU8sR0FYWDs7RUFEUzs7O0FBY2I7Ozs7Ozs7O3dCQU9BLE1BQUEsR0FBUSxTQUFDLEVBQUQ7SUFDSixJQUFHLE9BQU8sQ0FBQyxTQUFSLElBQXNCLENBQUMsT0FBTyxDQUFD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Q0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQXhDLElBQXNELG1CQUF6RDtNQUNJLElBQUcsT0FBQSxDQUFRLElBQVIsQ0FBYSxDQUFDLFVBQWQsQ0FBeUIsSUFBQyxDQUFBLFdBQUQsQ0FBQSxDQUFBLEdBQWlCLEdBQWpCLEdBQXVCLEVBQXZCLEdBQTRCLFNBQXJELENBQUg7UUFDSSxJQUFBLEdBQU8sT0FBQSxDQUFRLElBQVIsQ0FBYSxDQUFDLFlBQWQsQ0FBMkIsSUFBQyxDQUFBLFdBQUQsQ0FBQSxDQUFBLEdBQWlCLEdBQWpCLEdBQXVCLEVBQXZCLEdBQTRCLFNBQXZELEVBQWtFLE1BQWxFLEVBRFg7T0FESjtLQUFBLE1BQUE7TUFJSSxJQUFBLEdBQU8sWUFBWSxDQUFDLE9BQWIsQ0FBcUIsT0FBTyxDQUFDLEdBQVIsR0FBYyxHQUFkLEdBQW9CLEVBQXpDLEVBSlg7O0lBS0EsTUFBQSxHQUFTO0lBRVQsSUFBRyxZQUFIO01BQ0ksTUFBQSxHQUFTLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBWCxFQURiOztBQUdBLFdBQU87RUFYRDs7Ozs7O0FBZ0JkLE1BQU0sQ0FBQyxXQUFQLEdBQXlCLElBQUEsV0FBQSxDQUFBOztBQUN6QixFQUFFLENBQUMsV0FBSCxHQUFpQixNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IEdhbWVTdG9yYWdlXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIyMqXG4qIEFuIGVudW1lcmF0aW9uIG9mIGdhbWUgc3RvcmFnZSBsb2NhdGlvbnMuXG4qXG4qIEBtb2R1bGUgZ3NcbiogQGNsYXNzIEdhbWVTdG9yYWdlTG9jYXRpb25zXG4qIEBtZW1iZXJvZiBnc1xuKiBAY29uc3RydWN0b3JcbiogQHN0YXRpY1xuKiBAZmluYWxcbiMjIyAgXG5jbGFzcyBHYW1lU3RvcmFnZUxvY2F0aW9uc1xuICAgIEBpbml0aWFsaXplOiAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGdhbWUgZGF0YSBpbiB3b3JraW5nIGRpcmVjdG9yeSB3aGljaCBpcyBuZXh0IHRvIHRoZSBleGVjdXRhYmxlIGZpbGUgaW4gbW9zdCBjYXNlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgV09SS0lOR19ESVJFQ1RPUllcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAV09SS0lOR19ESVJFQ1RPUlkgPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGdhbWUgZGF0YSBpbiBsb2NhbCBhcHAtZGF0YSBkaXJlY3RvcnkgZGVwZW5kaW5nIG9uIHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgICAgICAqIEBwcm9wZXJ0eSBBUFBfREFUQV9ESVJFQ1RPUllcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICogQGZpbmFsXG4gICAgICAgICMjI1xuICAgICAgICBAQVBQX0RBVEFfRElSRUNUT1JZID0gMVxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIGdhbWUgZGF0YSBpbiBpbnRlcm5hbCBzdG9yYWdlLlxuICAgICAgICAqIEBwcm9wZXJ0eSBJTlRFUk5BTF9TVE9SQUdFXG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICogQHN0YXRpY1xuICAgICAgICAqIEBmaW5hbFxuICAgICAgICAjIyNcbiAgICAgICAgQElOVEVSTkFMX1NUT1JBR0UgPSAyXG4gICAgICAgIFxuR2FtZVN0b3JhZ2VMb2NhdGlvbnMuaW5pdGlhbGl6ZSgpXG5ncy5HYW1lU3RvcmFnZUxvY2F0aW9ucyA9IEdhbWVTdG9yYWdlTG9jYXRpb25zXG4gICAgXG5jbGFzcyBHYW1lU3RvcmFnZVxuICAgICMjIypcbiAgICAqIFRoZSBHYW1lU3RvcmFnZSBoZWxwcyB0byBzdG9yZSBkaWZmZXJlbnQga2luZCBvZiBnYW1lIGRhdGEgcGVybWFuZW50ZWx5IGxpa2VcbiAgICAqIGEgc2F2ZS1nYW1lIG9yIHRoZSBnYW1lIHNldHRpbmdzLiBUaGUgd2F5IGhvdyB0aGUgZGF0YSBpcyBzdG9yZWQgZGVwZW5kcyBvblxuICAgICogdGhlIHBsYXRmb3JtLiBGb3IgZXhhbXBsZTogSWYgdGhlIGdhbWUgcnVucyBpbiBhIHdlYi1icm93c2VyIHRoZSBkYXRhIGlzIHN0b3JlZFxuICAgICogdGhlIGludGVybmFsIGxvY2FsIHN0b3JhZ2Ugb2YgdGhlIHdlYi1icm93c2VyIGJ1dCBpZiB0aGUgZ2FtZSBydW5zIGxvY2FsbHkgdGhlXG4gICAgKiBkYXRhIGlzIHN0b3JlZCBvbiBkaXNrLlxuICAgICpcbiAgICAqIEFsbCBvYmplY3QgYXJlIHN0b3JlZCBhcyBKU09OIHNvIGl0IGlzIGltcG9ydGVkIHRoYXQgdGhlIG9iamVjdCB0byBzdG9yZSBjYW5cbiAgICAqIGJlIHNlcmlhbGl6ZWQgdG8gSlNPTiBhbmQgZG9lc24ndCBjb250YWluIGFueSBjaXJjdWxhciByZWZlcmVuY2VzLiBFeGNlcHQgZm9yXG4gICAgKiB0aGUgbWV0aG9kcyBncy5HYW1lU3RvcmFnZS5zZXREYXRhIGFuZCBncy5HYW1lU3RvcmFnZS5nZXREYXRhIHNpbmNlIHRoYXQgbWV0aG9kc1xuICAgICogZGVhbGluZyB3aXRoIGEgcmVndWxhciBzdHJpbmcuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIEdhbWVTdG9yYWdlXG4gICAgKiBAbWVtYmVyb2YgZ3NcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHN0YXRpY1xuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgIFxuICAgICMjIypcbiAgICAqIENsZWFycyB0aGUgZ2FtZSBzdG9yYWdlLiBBbGwgZGF0YSB3aWxsIGJlIGxvc3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBjbGVhclxuICAgICogQHN0YXRpY1xuICAgICMjIyBcbiAgICBjbGVhcjogLT5cbiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKClcbiAgICBcbiAgICAjIyMqXG4gICAgKiBUaGUgcGF0aCB3aGVyZSB0aGUgZGF0YSBpcyBzdG9yZWQuIFRoZSByZXN1bHQgZGVwZW5kcyBvbiB0aGUgcGxhdGZvcm0uXG4gICAgKiBGb3IgZXhhbXBsZTogRm9yIGEgd2ViLWdhbWUgdGhlIHJlc3VsdCBpcyBhbiBlbXB0eSBzdHJpbmcgYnV0IGZvciBhIGxvY2FsXG4gICAgKiBydW5uaW5nIGdhbWUgdGhlIHJlc3VsdCBpcyB0aGUgZmlsZS1wYXRoIHRvIHRoZSBjb25maWd1cmVkIHN0b3JhZ2UtZGlyZWN0b3J5IG9mIHRoZSBnYW1lLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgICAgIFxuICAgIHN0b3JhZ2VQYXRoOiAtPiBcbiAgICAgICAgaWYgJFBBUkFNUy5pc09mZmxpbmUgYW5kICEkUEFSQU1TLnBsYXRmb3JtLmlzU3RlYW1PUyBhbmQgd2luZG93Lm53P1xuICAgICAgICAgICAgc3dpdGNoIFJlY29yZE1hbmFnZXIuc3lzdGVtLmdhbWVEYXRhUGF0aFxuICAgICAgICAgICAgICAgIHdoZW4gZ3MuR2FtZVN0b3JhZ2VMb2NhdGlvbnMuQVBQX0RBVEFfRElSRUNUT1JZXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudy5BcHAuZGF0YVBhdGhcbiAgICAgICAgICAgICAgICB3aGVuIGdzLkdhbWVTdG9yYWdlTG9jYXRpb25zLldPUktJTkdfRElSRUNUT1JZXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIi4vXCJcbiAgICAgICAgICAgICAgICB3aGVuIGdzLkdhbWVTdG9yYWdlTG9jYXRpb25zLklOVEVSTkFMX1NUT1JBR0VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIi4vXCJcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICBcbiAgICAjIyMqXG4gICAgKiBDaGVja3MgaWYgZGF0YSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBpZC9rZXkuXG4gICAgKlxuICAgICogQG1ldGhvZCBleGlzdHNcbiAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIDxiPnRydWU8L2I+IHRoZW4gdGhlcmUgaXMgYWxyZWFkeSBleGlzdGluZyBkYXRhIGZvciB0aGUgaWQva2V5LiBPdGhlcndpc2UgPGI+ZmFsc2U8L2I+XG4gICAgKiBAc3RhdGljXG4gICAgIyMjICAgICAgICAgXG4gICAgZXhpc3RzOiAoaWQpIC0+XG4gICAgICAgIGlmICRQQVJBTVMuaXNPZmZsaW5lIGFuZCAhJFBBUkFNUy5wbGF0Zm9ybS5pc1N0ZWFtT1MgYW5kIHdpbmRvdy5udz9cbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKFwiZnNcIikuZXhpc3RzU3luYyhAc3RvcmFnZVBhdGgoKSArIFwiL1wiICsgaWQgKyBcIi52bmRhdGFcIilcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCRQQVJBTVMudWlkICsgXCJfXCIgKyBpZCkgIT0gbnVsbFxuICAgICAgICAgICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIERlbGV0ZXMgdGhlIGRhdGEgc3RvcmVkIHVuZGVyIHRoZSBzcGVjaWZpZWQgaWQva2V5LlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9IGlkIC0gVGhlIGlkL2tleSB3aGVyZSB0aGUgZGF0YSBzaG91bGQgYmUgZGVsZXRlZC5cbiAgICAqIEBzdGF0aWNcbiAgICAjIyMgXG4gICAgcmVtb3ZlOiAoaWQpIC0+XG4gICAgICAgIGlmICRQQVJBTVMuaXNPZmZsaW5lIGFuZCAhJFBBUkFNUy5wbGF0Zm9ybS5pc1N0ZWFtT1MgYW5kIHdpbmRvdy5udz9cbiAgICAgICAgICAgIGlmIHJlcXVpcmUoXCJmc1wiKS5leGlzdHNTeW5jKEBzdG9yYWdlUGF0aCgpICsgXCIvXCIgKyBpZCArIFwiLnZuZGF0YVwiKVxuICAgICAgICAgICAgICAgIHJlcXVpcmUoXCJmc1wiKS51bmxpbmtTeW5jKEBzdG9yYWdlUGF0aCgpICsgXCIvXCIgKyBpZCArIFwiLnZuZGF0YVwiKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgkUEFSQU1TLnVpZCArIFwiX1wiICsgaWQpXG4gICAgXG4gICAgIyMjKlxuICAgICogU3RvcmVzIGEgc3RyaW5nIHVuZGVyIHRoZSBzcGVjaWZpZWQgaWQva2V5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0RGF0YVxuICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkL2tleSB3aGVyZSB0aGUgZGF0YSBzaG91bGQgYmUgc3RvcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSBUaGUgc3RyaW5nIHRvIHN0b3JlLlxuICAgICogQHN0YXRpY1xuICAgICMjIyBcbiAgICBzZXREYXRhOiAoaWQsIGRhdGEpIC0+XG4gICAgICAgIGlmICRQQVJBTVMuaXNPZmZsaW5lIGFuZCAhJFBBUkFNUy5wbGF0Zm9ybS5pc1N0ZWFtT1MgYW5kIHdpbmRvdy5udz9cbiAgICAgICAgICAgIHJlcXVpcmUoXCJmc1wiKS53cml0ZUZpbGVTeW5jKEBzdG9yYWdlUGF0aCgpICsgXCIvXCIgKyBpZCArIFwiLnZuZGF0YVwiLCBkYXRhKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgkUEFSQU1TLnVpZCArIFwiX1wiICsgaWQsIGRhdGEpXG4gICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgYSBzdG9yZWQgc3RyaW5nIGZvciB0aGUgc3BlY2lmaWVkIGlkL2tleS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldE9iamVjdFxuICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkL2tleSBvZiB0aGUgc3RyaW5nL2RhdGEgdG8gZ2V0LlxuICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nL2RhdGEgb3IgPGI+bnVsbDwvYj4gaWYgbm8gZGF0YSBleGlzdHMgZm9yIHRoZSBzcGVjaWZpZWQgaWQva2V5LlxuICAgICogQHN0YXRpY1xuICAgICMjIyAgICBcbiAgICBnZXREYXRhOiAoaWQpIC0+IFxuICAgICAgICBpZiAkUEFSQU1TLmlzT2ZmbGluZSBhbmQgISRQQVJBTVMucGxhdGZvcm0uaXNTdGVhbU9TIGFuZCB3aW5kb3cubnc/XG4gICAgICAgICAgICByZXF1aXJlKFwiZnNcIikucmVhZEZpbGVTeW5jKEBzdG9yYWdlUGF0aCgpICsgXCIvXCIgKyBpZCArIFwiLnZuZGF0YVwiLCBcInV0ZjhcIilcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJFBBUkFNUy51aWQgKyBcIl9cIiArIGlkKVxuICAgICBcbiAgICAjIyMqXG4gICAgKiBTdG9yZXMgYW4gb2JqZWN0IHVuZGVyIHRoZSBzcGVjaWZpZWQgaWQva2V5LiBUaGUgb2JqZWN0IHdpbGwgYmUgc2VyaWFsaXplZCB0b1xuICAgICogSlNPTiBzbyBpdHMgaW1wb3J0YW50IHRoYXQgdGhlIG9iamVjdCBkb2Vzbid0IGNvbnRhaW4gYW55IGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRPYmplY3RcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZC9rZXkgd2hlcmUgdGhlIG9iamVjdCBzaG91bGQgYmUgc3RvcmVkLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gc3RvcmUuXG4gICAgKiBAc3RhdGljXG4gICAgIyMjICAgIFxuICAgIHNldE9iamVjdDooaWQsIG9iamVjdCkgLT5cbiAgICAgICAgaWYgJFBBUkFNUy5pc09mZmxpbmUgYW5kICEkUEFSQU1TLnBsYXRmb3JtLmlzU3RlYW1PUyBhbmQgd2luZG93Lm53P1xuICAgICAgICAgICAgcmVxdWlyZShcImZzXCIpLndyaXRlRmlsZVN5bmMoQHN0b3JhZ2VQYXRoKCkgKyBcIi9cIiArIGlkICsgXCIudm5kYXRhXCIsIEpTT04uc3RyaW5naWZ5KG9iamVjdCkpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCRQQVJBTVMudWlkICsgXCJfXCIgKyBpZCwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSlcbiAgICAgXG4gICAgIyMjKlxuICAgICogR2V0cyBhIHN0b3JlZCBvYmplY3QgZm9yIHRoZSBzcGVjaWZpZWQgaWQva2V5LlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0T2JqZWN0XG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQva2V5IG9mIHRoZSBvYmplY3QgdG8gZ2V0LlxuICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgb2JqZWN0IG9yIDxiPm51bGw8L2I+IGlmIG5vIG9iamVjdCBleGlzdHMgZm9yIHRoZSBzcGVjaWZpZWQgaWQva2V5LlxuICAgICogQHN0YXRpY1xuICAgICMjIyAgICBcbiAgICBnZXRPYmplY3Q6KGlkKSAtPlxuICAgICAgICBpZiAkUEFSQU1TLmlzT2ZmbGluZSBhbmQgISRQQVJBTVMucGxhdGZvcm0uaXNTdGVhbU9TIGFuZCB3aW5kb3cubnc/XG4gICAgICAgICAgICBpZiByZXF1aXJlKFwiZnNcIikuZXhpc3RzU3luYyhAc3RvcmFnZVBhdGgoKSArIFwiL1wiICsgaWQgKyBcIi52bmRhdGFcIilcbiAgICAgICAgICAgICAgICBpdGVtID0gcmVxdWlyZShcImZzXCIpLnJlYWRGaWxlU3luYyhAc3RvcmFnZVBhdGgoKSArIFwiL1wiICsgaWQgKyBcIi52bmRhdGFcIiwgXCJ1dGY4XCIpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGl0ZW0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgkUEFSQU1TLnVpZCArIFwiX1wiICsgaWQpXG4gICAgICAgIHJlc3VsdCA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIGlmIGl0ZW0/XG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGl0ZW0pXG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICBcbiAgICBcbiAgICAgICAgXG4gICAgICAgIFxud2luZG93LkdhbWVTdG9yYWdlID0gbmV3IEdhbWVTdG9yYWdlKClcbmdzLkdhbWVTdG9yYWdlID0gd2luZG93LkdhbWVTdG9yYWdlIl19
//# sourceURL=GameStorage_30.js
var GameTemp;

GameTemp = (function() {

  /**
  * The GameTemp holds the temporary data of the currently running game like currently displayed
  * choices, choice timer, etc. The GameTemp is written to the save-game as well.
  *
  * @module gs
  * @class GameTemp
  * @memberof gs
  * @constructor
  * @param {Object} data - An optional data-bundle to initialize the game-temp from.
   */
  function GameTemp(data) {

    /**
    * Stores the current choice timer.
    *
    * @property choiceTimer
    * @type gs.Object_Timer
     */
    this.choiceTimer = null;

    /**
    * Stores the current choices.
    *
    * @property choices
    * @type Object[]
     */
    this.choices = [];
    this.restore(data);
  }


  /**
  * Serializes the game-temp into a data-bundle.
  *
  * @method toDataBundle
  * @return {Object} A data-bundle which can be serialized to JSON.
   */

  GameTemp.prototype.toDataBundle = function() {
    var bundle, ref;
    bundle = {};
    Object.mixin(bundle, this);
    bundle.choiceTimer = (ref = this.choiceTimer) != null ? ref.toDataBundle() : void 0;
    return bundle;
  };


  /**
  * Restores the game-temp from a data-bundle.
  *
  * @method restore
  * @param {Object} data - A data-bundle to restore the game-temp from.
   */

  GameTemp.prototype.restore = function(data) {
    if (!data) {
      return;
    }
    Object.mixin(this, data);
    if (data.choiceTimer) {
      return this.choiceTimer = new gs.Object_Timer(data.choiceTimer);
    }
  };


  /**
  * Clears the game temp.
  *
  * @method clear
   */

  GameTemp.prototype.clear = function() {
    return Object.keys(this).forEach((function(_this) {
      return function(x) {
        return delete _this[x];
      };
    })(this));
  };

  return GameTemp;

})();

gs.GameTemp = GameTemp;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7RUFVYSxrQkFBQyxJQUFEOztBQUNUOzs7Ozs7SUFNQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUVmOzs7Ozs7SUFNQSxJQUFDLENBQUEsT0FBRCxHQUFXO0lBRVgsSUFBQyxDQUFBLE9BQUQsQ0FBUyxJQUFUO0VBakJTOzs7QUFtQmI7Ozs7Ozs7cUJBTUEsWUFBQSxHQUFjLFNBQUE7QUFDVixRQUFBO0lBQUEsTUFBQSxHQUFTO0lBQ1QsTUFBTSxDQUFDLEtBQVAsQ0FBYSxNQUFiLEVBQXFCLElBQXJCO0lBRUEsTUFBTSxDQUFDLFdBQVAseUNBQWlDLENBQUUsWUFBZCxDQUFBO0FBRXJCLFdBQU87RUFORzs7O0FBUWQ7Ozs7Ozs7cUJBTUEsT0FBQSxHQUFTLFNBQUMsSUFBRDtJQUNMLElBQUcsQ0FBQyxJQUFKO0FBQWMsYUFBZDs7SUFFQSxNQUFNLENBQUMsS0FBUCxDQUFhLElBQWIsRUFBbUIsSUFBbkI7SUFFQSxJQUFHLElBQUksQ0FBQyxXQUFSO2FBQ0ksSUFBQyxDQUFBLFdBQUQsR0FBbUIsSUFBQSxFQUFFLENBQUMsWUFBSCxDQUFnQixJQUFJLENBQUMsV0FBckIsRUFEdkI7O0VBTEs7OztBQVFUOzs7Ozs7cUJBS0EsS0FBQSxHQUFPLFNBQUE7V0FDSCxNQUFNLENBQUMsSUFBUCxDQUFZLElBQVosQ0FBaUIsQ0FBQyxPQUFsQixDQUEwQixDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUMsQ0FBRDtlQUFPLE9BQU8sS0FBSyxDQUFBLENBQUE7TUFBbkI7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQTFCO0VBREc7Ozs7OztBQUdYLEVBQUUsQ0FBQyxRQUFILEdBQWMiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IEdhbWVUZW1wXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBHYW1lVGVtcFxuICAgICMjIypcbiAgICAqIFRoZSBHYW1lVGVtcCBob2xkcyB0aGUgdGVtcG9yYXJ5IGRhdGEgb2YgdGhlIGN1cnJlbnRseSBydW5uaW5nIGdhbWUgbGlrZSBjdXJyZW50bHkgZGlzcGxheWVkXG4gICAgKiBjaG9pY2VzLCBjaG9pY2UgdGltZXIsIGV0Yy4gVGhlIEdhbWVUZW1wIGlzIHdyaXR0ZW4gdG8gdGhlIHNhdmUtZ2FtZSBhcyB3ZWxsLlxuICAgICpcbiAgICAqIEBtb2R1bGUgZ3NcbiAgICAqIEBjbGFzcyBHYW1lVGVtcFxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gQW4gb3B0aW9uYWwgZGF0YS1idW5kbGUgdG8gaW5pdGlhbGl6ZSB0aGUgZ2FtZS10ZW1wIGZyb20uXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChkYXRhKSAtPlxuICAgICAgICAjIyMqXG4gICAgICAgICogU3RvcmVzIHRoZSBjdXJyZW50IGNob2ljZSB0aW1lci5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBjaG9pY2VUaW1lclxuICAgICAgICAqIEB0eXBlIGdzLk9iamVjdF9UaW1lclxuICAgICAgICAjIyMgXG4gICAgICAgIEBjaG9pY2VUaW1lciA9IG51bGxcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBTdG9yZXMgdGhlIGN1cnJlbnQgY2hvaWNlcy5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSBjaG9pY2VzXG4gICAgICAgICogQHR5cGUgT2JqZWN0W11cbiAgICAgICAgIyMjIFxuICAgICAgICBAY2hvaWNlcyA9IFtdXG4gICAgICAgIFxuICAgICAgICBAcmVzdG9yZShkYXRhKVxuICAgICAgICBcbiAgICAjIyMqXG4gICAgKiBTZXJpYWxpemVzIHRoZSBnYW1lLXRlbXAgaW50byBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdG9EYXRhQnVuZGxlXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgZGF0YS1idW5kbGUgd2hpY2ggY2FuIGJlIHNlcmlhbGl6ZWQgdG8gSlNPTi5cbiAgICAjIyMgXG4gICAgdG9EYXRhQnVuZGxlOiAtPlxuICAgICAgICBidW5kbGUgPSB7fVxuICAgICAgICBPYmplY3QubWl4aW4oYnVuZGxlLCB0aGlzKVxuICAgIFxuICAgICAgICBidW5kbGUuY2hvaWNlVGltZXIgPSBAY2hvaWNlVGltZXI/LnRvRGF0YUJ1bmRsZSgpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYnVuZGxlXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIFJlc3RvcmVzIHRoZSBnYW1lLXRlbXAgZnJvbSBhIGRhdGEtYnVuZGxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVzdG9yZVxuICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBBIGRhdGEtYnVuZGxlIHRvIHJlc3RvcmUgdGhlIGdhbWUtdGVtcCBmcm9tLlxuICAgICMjIyAgICAgXG4gICAgcmVzdG9yZTogKGRhdGEpIC0+XG4gICAgICAgIGlmICFkYXRhIHRoZW4gcmV0dXJuXG4gICAgICAgIFxuICAgICAgICBPYmplY3QubWl4aW4odGhpcywgZGF0YSlcbiAgICAgICAgXG4gICAgICAgIGlmIGRhdGEuY2hvaWNlVGltZXJcbiAgICAgICAgICAgIEBjaG9pY2VUaW1lciA9IG5ldyBncy5PYmplY3RfVGltZXIoZGF0YS5jaG9pY2VUaW1lcilcbiAgICAgICAgICAgIFxuICAgICMjIypcbiAgICAqIENsZWFycyB0aGUgZ2FtZSB0ZW1wLlxuICAgICpcbiAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAjIyMgXG4gICAgY2xlYXI6IC0+XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2ggKHgpID0+IGRlbGV0ZSB0aGlzW3hdXG5cbmdzLkdhbWVUZW1wID0gR2FtZVRlbXAiXX0=
//# sourceURL=GameTemp_43.js
var VariableStore;

VariableStore = (function() {
  VariableStore.objectCodecBlackList = ["persistentNumbers", "persistentStrings", "persistentBooleans", "persistentLists"];


  /**
  * A storage for different kind of game variables. The following scopes
  * for variables exist:<br>
  * 
  * - Local Variables -> Only valid for the current scene.
  * - Global Variables -> Valid for the whole game but bound to a single save-game.
  * - Persistent Variables -> Valid for the whole game indepentent from the save-games.
  * <br><br>
  * The following data-types exist:<br>
  * <br>
  * - Strings -> Variables storing text data.
  * - Numbers -> Variables storing integer number values.
  * - Booleans -> Variables storing boolean values. (Called "Switches" for easier understanding)
  * - Lists -> Variables storing multiple other variables. Lists can also contain Lists.
  * <br><br>
  * Local variables are stored by scene UID. For each scene UID a list of local variables is stored.
  *
  * @module gs
  * @class VariableStore
  * @memberof gs
  * @constructor
   */

  function VariableStore() {

    /**
    * The global number variables.
    * @property numbers
    * @type number[]
     */
    this.numbers = new Array(1000);

    /**
    * The global boolean variables.
    * @property booleans
    * @type boolean[]
     */
    this.booleans = new Array(1000);

    /**
    * The global string variables.
    * @property strings
    * @type string[]
     */
    this.strings = new Array(1000);

    /**
    * The global list variables.
    * @property lists
    * @type Object[][]
     */
    this.lists = [];

    /**
    * The persistent number variables.
    * @property persistentNumbers
    * @type number[]
     */
    this.persistentNumbers = [];

    /**
    * The persistent string variables.
    * @property persistentStrings
    * @type string[]
     */
    this.persistentStrings = [];

    /**
    * The persistent boolean variables.
    * @property persistentBooleans
    * @type boolean[]
     */
    this.persistentBooleans = [];

    /**
    * The persistent list variables.
    * @property persistentLists
    * @type Object[][]
     */
    this.persistentLists = [];

    /**
    * The local number variables.
    * @property localNumbers
    * @type Object
     */
    this.localNumbers = {};

    /**
    * The local string variables.
    * @property localStrings
    * @type Object
     */
    this.localStrings = {};

    /**
    * The local boolean variables.
    * @property localBooleans
    * @type Object
     */
    this.localBooleans = {};

    /**
    * The local list variables.
    * @property localLists
    * @type Object
     */
    this.localLists = {};

    /**
    * @property tempNumbers
    * @type number[]
     */
    this.tempNumbers = null;

    /**
    * @property tempStrings
    * @type string[]
     */
    this.tempStrings = null;

    /**
    * @property localBooleans
    * @type number[]
     */
    this.tempBooleans = null;

    /**
    * @property localLists
    * @type Object[][]
     */
    this.tempLists = null;
  }


  /**
  * Clears all global variables
  *
  * @method clearGlobals
   */

  VariableStore.prototype.clearGlobals = function() {
    this.numbers = new Array(1000);
    this.booleans = new Array(1000);
    return this.strings = new Array(1000);
  };


  /**
  * Initializes the variables. Should be called whenever the context changes. (Like after a scene change)
  *
  * @method setup
  * @param {Object} context - The context(current scene) needed for local variables. Needs have at least an id-property.
   */

  VariableStore.prototype.setup = function(context) {
    this.setupLocalVariables(context);
    return this.setupTempVariables(context);
  };


  /**
  * Initializes the local variables for the specified context. Should be called on first time use.
  *
  * @method setupLocalVariables
  * @param {Object} context - The context(current scene). Needs have at least an id-property.
   */

  VariableStore.prototype.setupLocalVariables = function(context) {
    this.setupVariables(context, "localNumbers", 0);
    this.setupVariables(context, "localStrings", "");
    this.setupVariables(context, "localBooleans", false);
    return this.setupVariables(context, "localLists", []);
  };


  /**
  * Initializes the specified kind of variables.
  *
  * @method setupVariables                                       
  * @param {Object} context - The context(current scene). Needs have at least an id-property.
  * @param {string} property - The kind of variables (property-name).
  * @param {Object} defaultValue - The default value for each variable.
   */

  VariableStore.prototype.setupVariables = function(context, property, defaultValue) {
    if (this[property][context.id] == null) {
      return this[property][context.id] = [];
    }
  };


  /**
  * Initializes the current temp variables for the specified context. Should be called whenever the context changed.
  *
  * @method setupTempVariables
  * @param {Object} context - The context(current scene). Needs have at least an id-property.
   */

  VariableStore.prototype.setupTempVariables = function(context) {
    if (!this.localNumbers[context.id]) {
      this.setupLocalVariables(context);
    }
    this.tempNumbers = this.localNumbers[context.id];
    this.tempStrings = this.localStrings[context.id];
    this.tempBooleans = this.localBooleans[context.id];
    return this.tempLists = this.localLists[context.id];
  };


  /**
  * Sets the value of the number variable at the specified index.
  *
  * @method setNumberValueAtIndex
  * @param {number} scope - The variable scope.
  * @param {number} index - The variable's index.
  * @param {number} value - The value to set.
   */

  VariableStore.prototype.setNumberValueAtIndex = function(scope, index, value) {
    if (scope === 2) {
      return this.persistentNumbers[index] = value;
    } else if (scope === 1) {
      return this.numbers[index] = value;
    } else {
      return this.tempNumbers[index] = value;
    }
  };


  /**
  * Sets the value of a specified number variable.
  *
  * @method setNumberValueAtIndex
  * @param {number} variable - The variable to set. 
  * @param {number} value - The value to set.
   */

  VariableStore.prototype.setNumberValueTo = function(variable, value) {
    if (variable.scope === 2) {
      return this.persistentNumbers[variable.index] = value;
    } else if (variable.scope === 1) {
      return this.numbers[variable.index] = value;
    } else {
      return this.tempNumbers[variable.index] = value;
    }
  };


  /**
  * Sets the value of a specified list variable.
  *
  * @method setListObjectTo
  * @param {Object} variable - The variable to set. 
  * @param {Object} value - The value to set.
   */

  VariableStore.prototype.setListObjectTo = function(variable, value) {
    if (variable.scope === 2) {
      return this.persistentLists[variable.index] = value;
    } else if (variable.scope === 1) {
      return this.lists[variable.index] = value;
    } else {
      return this.tempLists[variable.index] = value;
    }
  };


  /**
  * Sets the value of a specified boolean variable.
  *
  * @method setBooleanValueTo
  * @param {Object} variable - The variable to set. 
  * @param {boolean} value - The value to set.
   */

  VariableStore.prototype.setBooleanValueTo = function(variable, value) {
    if (variable.scope === 2) {
      return this.persistentBooleans[variable.index] = value;
    } else if (variable.scope === 1) {
      return this.booleans[variable.index] = value;
    } else {
      return this.tempBooleans[variable.index] = value;
    }
  };


  /**
  * Sets the value of a specified string variable.
  *
  * @method setStringValueTo
  * @param {Object} variable - The variable to set. 
  * @param {string} value - The value to set.
   */

  VariableStore.prototype.setStringValueTo = function(variable, value) {
    if (variable.scope === 2) {
      return this.persistentStrings[variable.index] = value;
    } else if (variable.scope === 1) {
      return this.strings[variable.index] = value;
    } else {
      return this.tempStrings[variable.index] = value;
    }
  };


  /**
  * Gets the value of a specified list variable.
  *
  * @method listObjectOf
  * @param {Object} object - The list-variable/object to get the value from.
  * @return {Object} The list-object.
   */

  VariableStore.prototype.listObjectOf = function(object) {
    var result;
    result = 0;
    if ((object != null) && (object.index != null)) {
      if (object.scope === 2) {
        result = this.persistentLists[object.index];
      } else if (object.scope === 1) {
        result = this.lists[object.index];
      } else {
        result = this.tempLists[object.index];
      }
    } else {
      result = object;
    }
    return result || [];
  };


  /**
  * Gets the value of a number variable at the specified index.
  *
  * @method numberValueAtIndex
  * @param {number} scope - The variable scope.
  * @param {number} index - The variable's index.
  * @return {Object} The number value of the variable.
   */

  VariableStore.prototype.numberValueAtIndex = function(scope, index) {
    var result;
    result = 0;
    if (scope === 2) {
      result = this.persistentNumbers[index];
    } else if (scope === 1) {
      result = this.numbers[index];
    } else {
      result = this.tempNumbers[index];
    }
    return result;
  };


  /**
  * Gets the value of a specified number variable.
  *
  * @method numberValueOf
  * @param {Object} object - The variable to get the value from.
  * @return {Object} The number value of the variable.
   */

  VariableStore.prototype.numberValueOf = function(object) {
    var result;
    result = 0;
    if ((object != null) && (object.index != null)) {
      if (object.scope === 2) {
        result = this.persistentNumbers[object.index];
      } else if (object.scope === 1) {
        result = this.numbers[object.index];
      } else {
        result = this.tempNumbers[object.index];
      }
    } else {
      result = object;
    }
    return result || 0;
  };


  /**
  * Gets the value of a specified string variable.
  *
  * @method stringValueOf
  * @param {Object} object - The variable to get the value from.
  * @return {Object} The string value of the variable.
   */

  VariableStore.prototype.stringValueOf = function(object) {
    var result;
    result = "";
    if ((object != null) && (object.index != null)) {
      if (object.scope === 2) {
        result = this.persistentStrings[object.index];
      } else if (object.scope === 1) {
        result = this.strings[object.index];
      } else {
        result = this.tempStrings[object.index];
      }
    } else {
      result = object;
    }
    return result || "";
  };


  /**
  * Gets the value of a specified boolean variable.
  *
  * @method booleanValueOf
  * @param {Object} object - The variable to get the value from.
  * @return {Object} The boolean value of the variable.
   */

  VariableStore.prototype.booleanValueOf = function(object) {
    var result;
    result = false;
    if ((object != null) && (object.index != null)) {
      if (object.scope === 2) {
        result = this.persistentBooleans[object.index];
      } else if (object.scope === 1) {
        result = this.booleans[object.index] || false;
      } else {
        result = this.tempBooleans[object.index];
      }
    } else {
      result = object ? true : false;
    }
    return result;
  };

  return VariableStore;

})();

gs.VariableStore = VariableStore;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07RUFDRixhQUFDLENBQUEsb0JBQUQsR0FBd0IsQ0FBQyxtQkFBRCxFQUFzQixtQkFBdEIsRUFBMkMsb0JBQTNDLEVBQWlFLGlCQUFqRTs7O0FBRXhCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXNCYSx1QkFBQTs7QUFDVDs7Ozs7SUFLQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsS0FBQSxDQUFNLElBQU47O0FBQ2Y7Ozs7O0lBS0EsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxLQUFBLENBQU0sSUFBTjs7QUFDaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLEtBQUEsQ0FBTSxJQUFOOztBQUNmOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLGlCQUFELEdBQXFCOztBQUNyQjs7Ozs7SUFLQSxJQUFDLENBQUEsaUJBQUQsR0FBcUI7O0FBQ3JCOzs7OztJQUtBLElBQUMsQ0FBQSxrQkFBRCxHQUFzQjs7QUFDdEI7Ozs7O0lBS0EsSUFBQyxDQUFBLGVBQUQsR0FBbUI7O0FBQ25COzs7OztJQUtBLElBQUMsQ0FBQSxZQUFELEdBQWdCOztBQUNoQjs7Ozs7SUFLQSxJQUFDLENBQUEsWUFBRCxHQUFnQjs7QUFDaEI7Ozs7O0lBS0EsSUFBQyxDQUFBLGFBQUQsR0FBaUI7O0FBQ2pCOzs7OztJQUtBLElBQUMsQ0FBQSxVQUFELEdBQWM7O0FBQ2Q7Ozs7SUFJQSxJQUFDLENBQUEsV0FBRCxHQUFlOztBQUNmOzs7O0lBSUEsSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFDZjs7OztJQUlBLElBQUMsQ0FBQSxZQUFELEdBQWdCOztBQUNoQjs7OztJQUlBLElBQUMsQ0FBQSxTQUFELEdBQWE7RUE1Rko7OztBQThGYjs7Ozs7OzBCQUtBLFlBQUEsR0FBYyxTQUFBO0lBQ1YsSUFBQyxDQUFBLE9BQUQsR0FBZSxJQUFBLEtBQUEsQ0FBTSxJQUFOO0lBQ2YsSUFBQyxDQUFBLFFBQUQsR0FBZ0IsSUFBQSxLQUFBLENBQU0sSUFBTjtXQUNoQixJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsS0FBQSxDQUFNLElBQU47RUFITDs7O0FBTWQ7Ozs7Ozs7MEJBTUEsS0FBQSxHQUFPLFNBQUMsT0FBRDtJQUNILElBQUMsQ0FBQSxtQkFBRCxDQUFxQixPQUFyQjtXQUNBLElBQUMsQ0FBQSxrQkFBRCxDQUFvQixPQUFwQjtFQUZHOzs7QUFNUDs7Ozs7OzswQkFNQSxtQkFBQSxHQUFxQixTQUFDLE9BQUQ7SUFDakIsSUFBQyxDQUFBLGNBQUQsQ0FBZ0IsT0FBaEIsRUFBeUIsY0FBekIsRUFBeUMsQ0FBekM7SUFDQSxJQUFDLENBQUEsY0FBRCxDQUFnQixPQUFoQixFQUF5QixjQUF6QixFQUF5QyxFQUF6QztJQUNBLElBQUMsQ0FBQSxjQUFELENBQWdCLE9BQWhCLEVBQXlCLGVBQXpCLEVBQTBDLEtBQTFDO1dBQ0EsSUFBQyxDQUFBLGNBQUQsQ0FBZ0IsT0FBaEIsRUFBeUIsWUFBekIsRUFBdUMsRUFBdkM7RUFKaUI7OztBQU1yQjs7Ozs7Ozs7OzBCQVFBLGNBQUEsR0FBZ0IsU0FBQyxPQUFELEVBQVUsUUFBVixFQUFvQixZQUFwQjtJQUNaLElBQU8sa0NBQVA7YUFDSSxJQUFLLENBQUEsUUFBQSxDQUFVLENBQUEsT0FBTyxDQUFDLEVBQVIsQ0FBZixHQUE2QixHQURqQzs7RUFEWTs7O0FBS2hCOzs7Ozs7OzBCQU1BLGtCQUFBLEdBQW9CLFNBQUMsT0FBRDtJQUNoQixJQUFHLENBQUMsSUFBQyxDQUFBLFlBQWEsQ0FBQSxPQUFPLENBQUMsRUFBUixDQUFsQjtNQUNJLElBQUMsQ0FBQSxtQkFBRCxDQUFxQixPQUFyQixFQURKOztJQUdBLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBQyxDQUFBLFlBQWEsQ0FBQSxPQUFPLENBQUMsRUFBUjtJQUM3QixJQUFDLENBQUEsV0FBRCxHQUFlLElBQUMsQ0FBQSxZQUFhLENBQUEsT0FBTyxDQUFDLEVBQVI7SUFDN0IsSUFBQyxDQUFBLFlBQUQsR0FBZ0IsSUFBQyxDQUFBLGFBQWMsQ0FBQSxPQUFPLENBQUMsRUFBUjtXQUMvQixJQUFDLENBQUEsU0FBRCxHQUFhLElBQUMsQ0FBQSxVQUFXLENBQUEsT0FBTyxDQUFDLEVBQVI7RUFQVDs7O0FBVXBCOzs7Ozs7Ozs7MEJBUUEscUJBQUEsR0FBdUIsU0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWY7SUFDbkIsSUFBRyxLQUFBLEtBQVMsQ0FBWjthQUNJLElBQUMsQ0FBQSxpQkFBa0IsQ0FBQSxLQUFBLENBQW5CLEdBQTRCLE1BRGhDO0tBQUEsTUFFSyxJQUFHLEtBQUEsS0FBUyxDQUFaO2FBQ0QsSUFBQyxDQUFBLE9BQVEsQ0FBQSxLQUFBLENBQVQsR0FBa0IsTUFEakI7S0FBQSxNQUFBO2FBR0QsSUFBQyxDQUFBLFdBQVksQ0FBQSxLQUFBLENBQWIsR0FBc0IsTUFIckI7O0VBSGM7OztBQVF2Qjs7Ozs7Ozs7MEJBT0EsZ0JBQUEsR0FBa0IsU0FBQyxRQUFELEVBQVcsS0FBWDtJQUNkLElBQUcsUUFBUSxDQUFDLEtBQVQsS0FBa0IsQ0FBckI7YUFDSSxJQUFDLENBQUEsaUJBQWtCLENBQUEsUUFBUSxDQUFDLEtBQVQsQ0FBbkIsR0FBcUMsTUFEekM7S0FBQSxNQUVLLElBQUcsUUFBUSxDQUFDLEtBQVQsS0FBa0IsQ0FBckI7YUFDRCxJQUFDLENBQUEsT0FBUSxDQUFBLFFBQVEsQ0FBQyxLQUFULENBQVQsR0FBMkIsTUFEMUI7S0FBQSxNQUFBO2FBR0QsSUFBQyxDQUFBLFdBQVksQ0FBQSxRQUFRLENBQUMsS0FBVCxDQUFiLEdBQStCLE1BSDlCOztFQUhTOzs7QUFRbEI7Ozs7Ozs7OzBCQU9BLGVBQUEsR0FBaUIsU0FBQyxRQUFELEVBQVcsS0FBWDtJQUNiLElBQUcsUUFBUSxDQUFDLEtBQVQsS0FBa0IsQ0FBckI7YUFDSSxJQUFDLENBQUEsZUFBZ0IsQ0FBQSxRQUFRLENBQUMsS0FBVCxDQUFqQixHQUFtQyxNQUR2QztLQUFBLE1BRUssSUFBRyxRQUFRLENBQUMsS0FBVCxLQUFrQixDQUFyQjthQUNELElBQUMsQ0FBQSxLQUFNLENBQUEsUUFBUSxDQUFDLEtBQVQsQ0FBUCxHQUF5QixNQUR4QjtLQUFBLE1BQUE7YUFHRCxJQUFDLENBQUEsU0FBVSxDQUFBLFFBQVEsQ0FBQyxLQUFULENBQVgsR0FBNkIsTUFINUI7O0VBSFE7OztBQVNqQjs7Ozs7Ozs7MEJBT0EsaUJBQUEsR0FBbUIsU0FBQyxRQUFELEVBQVcsS0FBWDtJQUNmLElBQUcsUUFBUSxDQUFDLEtBQVQsS0FBa0IsQ0FBckI7YUFDSSxJQUFDLENBQUEsa0JBQW1CLENBQUEsUUFBUSxDQUFDLEtBQVQsQ0FBcEIsR0FBc0MsTUFEMUM7S0FBQSxNQUVLLElBQUcsUUFBUSxDQUFDLEtBQVQsS0FBa0IsQ0FBckI7YUFDRCxJQUFDLENBQUEsUUFBUyxDQUFBLFFBQVEsQ0FBQyxLQUFULENBQVYsR0FBNEIsTUFEM0I7S0FBQSxNQUFBO2FBR0QsSUFBQyxDQUFBLFlBQWEsQ0FBQSxRQUFRLENBQUMsS0FBVCxDQUFkLEdBQWdDLE1BSC9COztFQUhVOzs7QUFRbkI7Ozs7Ozs7OzBCQU9BLGdCQUFBLEdBQWtCLFNBQUMsUUFBRCxFQUFXLEtBQVg7SUFDZCxJQUFHLFFBQVEsQ0FBQyxLQUFULEtBQWtCLENBQXJCO2FBQ0ksSUFBQyxDQUFBLGlCQUFrQixDQUFBLFFBQVEsQ0FBQyxLQUFULENBQW5CLEdBQXFDLE1BRHpDO0tBQUEsTUFFSyxJQUFHLFFBQVEsQ0FBQyxLQUFULEtBQWtCLENBQXJCO2FBQ0QsSUFBQyxDQUFBLE9BQVEsQ0FBQSxRQUFRLENBQUMsS0FBVCxDQUFULEdBQTJCLE1BRDFCO0tBQUEsTUFBQTthQUdELElBQUMsQ0FBQSxXQUFZLENBQUEsUUFBUSxDQUFDLEtBQVQsQ0FBYixHQUErQixNQUg5Qjs7RUFIUzs7O0FBUWxCOzs7Ozs7OzswQkFPQSxZQUFBLEdBQWMsU0FBQyxNQUFEO0FBQ1YsUUFBQTtJQUFBLE1BQUEsR0FBUztJQUNULElBQUcsZ0JBQUEsSUFBWSxzQkFBZjtNQUNJLElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsQ0FBbkI7UUFDSSxNQUFBLEdBQVMsSUFBQyxDQUFBLGVBQWdCLENBQUEsTUFBTSxDQUFDLEtBQVAsRUFEOUI7T0FBQSxNQUVLLElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsQ0FBbkI7UUFDRCxNQUFBLEdBQVMsSUFBQyxDQUFBLEtBQU0sQ0FBQSxNQUFNLENBQUMsS0FBUCxFQURmO09BQUEsTUFBQTtRQUdELE1BQUEsR0FBUyxJQUFDLENBQUEsU0FBVSxDQUFBLE1BQU0sQ0FBQyxLQUFQLEVBSG5CO09BSFQ7S0FBQSxNQUFBO01BUUksTUFBQSxHQUFTLE9BUmI7O0FBVUEsV0FBTyxNQUFBLElBQVU7RUFaUDs7O0FBY2Q7Ozs7Ozs7OzswQkFRQSxrQkFBQSxHQUFvQixTQUFDLEtBQUQsRUFBUSxLQUFSO0FBQ2hCLFFBQUE7SUFBQSxNQUFBLEdBQVM7SUFFVCxJQUFHLEtBQUEsS0FBUyxDQUFaO01BQ0ksTUFBQSxHQUFTLElBQUMsQ0FBQSxpQkFBa0IsQ0FBQSxLQUFBLEVBRGhDO0tBQUEsTUFFSyxJQUFHLEtBQUEsS0FBUyxDQUFaO01BQ0QsTUFBQSxHQUFTLElBQUMsQ0FBQSxPQUFRLENBQUEsS0FBQSxFQURqQjtLQUFBLE1BQUE7TUFHRCxNQUFBLEdBQVMsSUFBQyxDQUFBLFdBQVksQ0FBQSxLQUFBLEVBSHJCOztBQUtMLFdBQU87RUFWUzs7O0FBWXBCOzs7Ozs7OzswQkFPQSxhQUFBLEdBQWUsU0FBQyxNQUFEO0FBQ1gsUUFBQTtJQUFBLE1BQUEsR0FBUztJQUNULElBQUcsZ0JBQUEsSUFBWSxzQkFBZjtNQUNJLElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsQ0FBbkI7UUFDSSxNQUFBLEdBQVMsSUFBQyxDQUFBLGlCQUFrQixDQUFBLE1BQU0sQ0FBQyxLQUFQLEVBRGhDO09BQUEsTUFFSyxJQUFHLE1BQU0sQ0FBQyxLQUFQLEtBQWdCLENBQW5CO1FBQ0QsTUFBQSxHQUFTLElBQUMsQ0FBQSxPQUFRLENBQUEsTUFBTSxDQUFDLEtBQVAsRUFEakI7T0FBQSxNQUFBO1FBR0QsTUFBQSxHQUFTLElBQUMsQ0FBQSxXQUFZLENBQUEsTUFBTSxDQUFDLEtBQVAsRUFIckI7T0FIVDtLQUFBLE1BQUE7TUFTSSxNQUFBLEdBQVMsT0FUYjs7QUFXQSxXQUFPLE1BQUEsSUFBVTtFQWJOOzs7QUFlZjs7Ozs7Ozs7MEJBT0EsYUFBQSxHQUFlLFNBQUMsTUFBRDtBQUNYLFFBQUE7SUFBQSxNQUFBLEdBQVM7SUFDVCxJQUFHLGdCQUFBLElBQVksc0JBQWY7TUFDSSxJQUFHLE1BQU0sQ0FBQyxLQUFQLEtBQWdCLENBQW5CO1FBQ0ksTUFBQSxHQUFTLElBQUMsQ0FBQSxpQkFBa0IsQ0FBQSxNQUFNLENBQUMsS0FBUCxFQURoQztPQUFBLE1BRUssSUFBRyxNQUFNLENBQUMsS0FBUCxLQUFnQixDQUFuQjtRQUNELE1BQUEsR0FBUyxJQUFDLENBQUEsT0FBUSxDQUFBLE1BQU0sQ0FBQyxLQUFQLEVBRGpCO09BQUEsTUFBQTtRQUdELE1BQUEsR0FBUyxJQUFDLENBQUEsV0FBWSxDQUFBLE1BQU0sQ0FBQyxLQUFQLEVBSHJCO09BSFQ7S0FBQSxNQUFBO01BUUksTUFBQSxHQUFTLE9BUmI7O0FBVUEsV0FBTyxNQUFBLElBQVU7RUFaTjs7O0FBY2Y7Ozs7Ozs7OzBCQU9BLGNBQUEsR0FBZ0IsU0FBQyxNQUFEO0FBQ1osUUFBQTtJQUFBLE1BQUEsR0FBUztJQUNULElBQUcsZ0JBQUEsSUFBWSxzQkFBZjtNQUNJLElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsQ0FBbkI7UUFDSSxNQUFBLEdBQVMsSUFBQyxDQUFBLGtCQUFtQixDQUFBLE1BQU0sQ0FBQyxLQUFQLEVBRGpDO09BQUEsTUFFSyxJQUFHLE1BQU0sQ0FBQyxLQUFQLEtBQWdCLENBQW5CO1FBQ0QsTUFBQSxHQUFTLElBQUMsQ0FBQSxRQUFTLENBQUEsTUFBTSxDQUFDLEtBQVAsQ0FBVixJQUEyQixNQURuQztPQUFBLE1BQUE7UUFHRCxNQUFBLEdBQVMsSUFBQyxDQUFBLFlBQWEsQ0FBQSxNQUFNLENBQUMsS0FBUCxFQUh0QjtPQUhUO0tBQUEsTUFBQTtNQVNJLE1BQUEsR0FBWSxNQUFILEdBQWUsSUFBZixHQUF5QixNQVR0Qzs7QUFXQSxXQUFPO0VBYks7Ozs7OztBQWVwQixFQUFFLENBQUMsYUFBSCxHQUFtQiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogVmFyaWFibGVTdG9yZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgVmFyaWFibGVTdG9yZVxuICAgIEBvYmplY3RDb2RlY0JsYWNrTGlzdCA9IFtcInBlcnNpc3RlbnROdW1iZXJzXCIsIFwicGVyc2lzdGVudFN0cmluZ3NcIiwgXCJwZXJzaXN0ZW50Qm9vbGVhbnNcIiwgXCJwZXJzaXN0ZW50TGlzdHNcIl1cbiAgICBcbiAgICAjIyMqXG4gICAgKiBBIHN0b3JhZ2UgZm9yIGRpZmZlcmVudCBraW5kIG9mIGdhbWUgdmFyaWFibGVzLiBUaGUgZm9sbG93aW5nIHNjb3Blc1xuICAgICogZm9yIHZhcmlhYmxlcyBleGlzdDo8YnI+XG4gICAgKiBcbiAgICAqIC0gTG9jYWwgVmFyaWFibGVzIC0+IE9ubHkgdmFsaWQgZm9yIHRoZSBjdXJyZW50IHNjZW5lLlxuICAgICogLSBHbG9iYWwgVmFyaWFibGVzIC0+IFZhbGlkIGZvciB0aGUgd2hvbGUgZ2FtZSBidXQgYm91bmQgdG8gYSBzaW5nbGUgc2F2ZS1nYW1lLlxuICAgICogLSBQZXJzaXN0ZW50IFZhcmlhYmxlcyAtPiBWYWxpZCBmb3IgdGhlIHdob2xlIGdhbWUgaW5kZXBlbnRlbnQgZnJvbSB0aGUgc2F2ZS1nYW1lcy5cbiAgICAqIDxicj48YnI+XG4gICAgKiBUaGUgZm9sbG93aW5nIGRhdGEtdHlwZXMgZXhpc3Q6PGJyPlxuICAgICogPGJyPlxuICAgICogLSBTdHJpbmdzIC0+IFZhcmlhYmxlcyBzdG9yaW5nIHRleHQgZGF0YS5cbiAgICAqIC0gTnVtYmVycyAtPiBWYXJpYWJsZXMgc3RvcmluZyBpbnRlZ2VyIG51bWJlciB2YWx1ZXMuXG4gICAgKiAtIEJvb2xlYW5zIC0+IFZhcmlhYmxlcyBzdG9yaW5nIGJvb2xlYW4gdmFsdWVzLiAoQ2FsbGVkIFwiU3dpdGNoZXNcIiBmb3IgZWFzaWVyIHVuZGVyc3RhbmRpbmcpXG4gICAgKiAtIExpc3RzIC0+IFZhcmlhYmxlcyBzdG9yaW5nIG11bHRpcGxlIG90aGVyIHZhcmlhYmxlcy4gTGlzdHMgY2FuIGFsc28gY29udGFpbiBMaXN0cy5cbiAgICAqIDxicj48YnI+XG4gICAgKiBMb2NhbCB2YXJpYWJsZXMgYXJlIHN0b3JlZCBieSBzY2VuZSBVSUQuIEZvciBlYWNoIHNjZW5lIFVJRCBhIGxpc3Qgb2YgbG9jYWwgdmFyaWFibGVzIGlzIHN0b3JlZC5cbiAgICAqXG4gICAgKiBAbW9kdWxlIGdzXG4gICAgKiBAY2xhc3MgVmFyaWFibGVTdG9yZVxuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKCkgLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBnbG9iYWwgbnVtYmVyIHZhcmlhYmxlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgbnVtYmVyc1xuICAgICAgICAqIEB0eXBlIG51bWJlcltdXG4gICAgICAgICMjI1xuICAgICAgICBAbnVtYmVycyA9IG5ldyBBcnJheSgxMDAwKVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGdsb2JhbCBib29sZWFuIHZhcmlhYmxlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgYm9vbGVhbnNcbiAgICAgICAgKiBAdHlwZSBib29sZWFuW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBib29sZWFucyA9IG5ldyBBcnJheSgxMDAwKVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGdsb2JhbCBzdHJpbmcgdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBzdHJpbmdzXG4gICAgICAgICogQHR5cGUgc3RyaW5nW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBzdHJpbmdzID0gbmV3IEFycmF5KDEwMDApXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgZ2xvYmFsIGxpc3QgdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBsaXN0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBsaXN0cyA9IFtdXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgcGVyc2lzdGVudCBudW1iZXIgdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBwZXJzaXN0ZW50TnVtYmVyc1xuICAgICAgICAqIEB0eXBlIG51bWJlcltdXG4gICAgICAgICMjI1xuICAgICAgICBAcGVyc2lzdGVudE51bWJlcnMgPSBbXVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHBlcnNpc3RlbnQgc3RyaW5nIHZhcmlhYmxlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgcGVyc2lzdGVudFN0cmluZ3NcbiAgICAgICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgICAgICAjIyNcbiAgICAgICAgQHBlcnNpc3RlbnRTdHJpbmdzID0gW11cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBwZXJzaXN0ZW50IGJvb2xlYW4gdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBwZXJzaXN0ZW50Qm9vbGVhbnNcbiAgICAgICAgKiBAdHlwZSBib29sZWFuW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBwZXJzaXN0ZW50Qm9vbGVhbnMgPSBbXVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHBlcnNpc3RlbnQgbGlzdCB2YXJpYWJsZXMuXG4gICAgICAgICogQHByb3BlcnR5IHBlcnNpc3RlbnRMaXN0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdW11cbiAgICAgICAgIyMjXG4gICAgICAgIEBwZXJzaXN0ZW50TGlzdHMgPSBbXVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGxvY2FsIG51bWJlciB2YXJpYWJsZXMuXG4gICAgICAgICogQHByb3BlcnR5IGxvY2FsTnVtYmVyc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGxvY2FsTnVtYmVycyA9IHt9XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgbG9jYWwgc3RyaW5nIHZhcmlhYmxlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgbG9jYWxTdHJpbmdzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAbG9jYWxTdHJpbmdzID0ge31cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBsb2NhbCBib29sZWFuIHZhcmlhYmxlcy5cbiAgICAgICAgKiBAcHJvcGVydHkgbG9jYWxCb29sZWFuc1xuICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAjIyNcbiAgICAgICAgQGxvY2FsQm9vbGVhbnMgPSB7fVxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGxvY2FsIGxpc3QgdmFyaWFibGVzLlxuICAgICAgICAqIEBwcm9wZXJ0eSBsb2NhbExpc3RzXG4gICAgICAgICogQHR5cGUgT2JqZWN0XG4gICAgICAgICMjI1xuICAgICAgICBAbG9jYWxMaXN0cyA9IHt9XG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgdGVtcE51bWJlcnNcbiAgICAgICAgKiBAdHlwZSBudW1iZXJbXVxuICAgICAgICAjIyNcbiAgICAgICAgQHRlbXBOdW1iZXJzID0gbnVsbFxuICAgICAgICAjIyMqXG4gICAgICAgICogQHByb3BlcnR5IHRlbXBTdHJpbmdzXG4gICAgICAgICogQHR5cGUgc3RyaW5nW11cbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZW1wU3RyaW5ncyA9IG51bGxcbiAgICAgICAgIyMjKlxuICAgICAgICAqIEBwcm9wZXJ0eSBsb2NhbEJvb2xlYW5zXG4gICAgICAgICogQHR5cGUgbnVtYmVyW11cbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZW1wQm9vbGVhbnMgPSBudWxsXG4gICAgICAgICMjIypcbiAgICAgICAgKiBAcHJvcGVydHkgbG9jYWxMaXN0c1xuICAgICAgICAqIEB0eXBlIE9iamVjdFtdW11cbiAgICAgICAgIyMjXG4gICAgICAgIEB0ZW1wTGlzdHMgPSBudWxsXG4gICAgICAgIFxuICAgICMjIypcbiAgICAqIENsZWFycyBhbGwgZ2xvYmFsIHZhcmlhYmxlc1xuICAgICpcbiAgICAqIEBtZXRob2QgY2xlYXJHbG9iYWxzXG4gICAgIyMjIFxuICAgIGNsZWFyR2xvYmFsczogLT5cbiAgICAgICAgQG51bWJlcnMgPSBuZXcgQXJyYXkoMTAwMClcbiAgICAgICAgQGJvb2xlYW5zID0gbmV3IEFycmF5KDEwMDApXG4gICAgICAgIEBzdHJpbmdzID0gbmV3IEFycmF5KDEwMDApXG4gICAgICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSB2YXJpYWJsZXMuIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGNvbnRleHQgY2hhbmdlcy4gKExpa2UgYWZ0ZXIgYSBzY2VuZSBjaGFuZ2UpXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXR1cFxuICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgLSBUaGUgY29udGV4dChjdXJyZW50IHNjZW5lKSBuZWVkZWQgZm9yIGxvY2FsIHZhcmlhYmxlcy4gTmVlZHMgaGF2ZSBhdCBsZWFzdCBhbiBpZC1wcm9wZXJ0eS5cbiAgICAjIyMgICAgIFxuICAgIHNldHVwOiAoY29udGV4dCkgLT5cbiAgICAgICAgQHNldHVwTG9jYWxWYXJpYWJsZXMoY29udGV4dClcbiAgICAgICAgQHNldHVwVGVtcFZhcmlhYmxlcyhjb250ZXh0KVxuICAgIFxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBsb2NhbCB2YXJpYWJsZXMgZm9yIHRoZSBzcGVjaWZpZWQgY29udGV4dC4gU2hvdWxkIGJlIGNhbGxlZCBvbiBmaXJzdCB0aW1lIHVzZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwTG9jYWxWYXJpYWJsZXNcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IC0gVGhlIGNvbnRleHQoY3VycmVudCBzY2VuZSkuIE5lZWRzIGhhdmUgYXQgbGVhc3QgYW4gaWQtcHJvcGVydHkuXG4gICAgIyMjXG4gICAgc2V0dXBMb2NhbFZhcmlhYmxlczogKGNvbnRleHQpIC0+XG4gICAgICAgIEBzZXR1cFZhcmlhYmxlcyhjb250ZXh0LCBcImxvY2FsTnVtYmVyc1wiLCAwKVxuICAgICAgICBAc2V0dXBWYXJpYWJsZXMoY29udGV4dCwgXCJsb2NhbFN0cmluZ3NcIiwgXCJcIilcbiAgICAgICAgQHNldHVwVmFyaWFibGVzKGNvbnRleHQsIFwibG9jYWxCb29sZWFuc1wiLCBubylcbiAgICAgICAgQHNldHVwVmFyaWFibGVzKGNvbnRleHQsIFwibG9jYWxMaXN0c1wiLCBbXSlcbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogSW5pdGlhbGl6ZXMgdGhlIHNwZWNpZmllZCBraW5kIG9mIHZhcmlhYmxlcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwVmFyaWFibGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCAtIFRoZSBjb250ZXh0KGN1cnJlbnQgc2NlbmUpLiBOZWVkcyBoYXZlIGF0IGxlYXN0IGFuIGlkLXByb3BlcnR5LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gVGhlIGtpbmQgb2YgdmFyaWFibGVzIChwcm9wZXJ0eS1uYW1lKS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0VmFsdWUgLSBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgZWFjaCB2YXJpYWJsZS5cbiAgICAjIyMgIFxuICAgIHNldHVwVmFyaWFibGVzOiAoY29udGV4dCwgcHJvcGVydHksIGRlZmF1bHRWYWx1ZSkgLT5cbiAgICAgICAgaWYgbm90IHRoaXNbcHJvcGVydHldW2NvbnRleHQuaWRdP1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV1bY29udGV4dC5pZF0gPSBbXVxuICAgIFxuICAgIFxuICAgICMjIypcbiAgICAqIEluaXRpYWxpemVzIHRoZSBjdXJyZW50IHRlbXAgdmFyaWFibGVzIGZvciB0aGUgc3BlY2lmaWVkIGNvbnRleHQuIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGNvbnRleHQgY2hhbmdlZC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHNldHVwVGVtcFZhcmlhYmxlc1xuICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgLSBUaGUgY29udGV4dChjdXJyZW50IHNjZW5lKS4gTmVlZHMgaGF2ZSBhdCBsZWFzdCBhbiBpZC1wcm9wZXJ0eS5cbiAgICAjIyMgICAgXG4gICAgc2V0dXBUZW1wVmFyaWFibGVzOiAoY29udGV4dCkgLT5cbiAgICAgICAgaWYgIUBsb2NhbE51bWJlcnNbY29udGV4dC5pZF1cbiAgICAgICAgICAgIEBzZXR1cExvY2FsVmFyaWFibGVzKGNvbnRleHQpXG4gICAgICAgICAgICBcbiAgICAgICAgQHRlbXBOdW1iZXJzID0gQGxvY2FsTnVtYmVyc1tjb250ZXh0LmlkXVxuICAgICAgICBAdGVtcFN0cmluZ3MgPSBAbG9jYWxTdHJpbmdzW2NvbnRleHQuaWRdXG4gICAgICAgIEB0ZW1wQm9vbGVhbnMgPSBAbG9jYWxCb29sZWFuc1tjb250ZXh0LmlkXVxuICAgICAgICBAdGVtcExpc3RzID0gQGxvY2FsTGlzdHNbY29udGV4dC5pZF1cbiAgICBcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgbnVtYmVyIHZhcmlhYmxlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXROdW1iZXJWYWx1ZUF0SW5kZXhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY29wZSAtIFRoZSB2YXJpYWJsZSBzY29wZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSB2YXJpYWJsZSdzIGluZGV4LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAgICAjIyMgICAgIFxuICAgIHNldE51bWJlclZhbHVlQXRJbmRleDogKHNjb3BlLCBpbmRleCwgdmFsdWUpIC0+XG4gICAgICAgIGlmIHNjb3BlID09IDJcbiAgICAgICAgICAgIEBwZXJzaXN0ZW50TnVtYmVyc1tpbmRleF0gPSB2YWx1ZVxuICAgICAgICBlbHNlIGlmIHNjb3BlID09IDFcbiAgICAgICAgICAgIEBudW1iZXJzW2luZGV4XSA9IHZhbHVlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB0ZW1wTnVtYmVyc1tpbmRleF0gPSB2YWx1ZVxuXG4gICAgIyMjKlxuICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgbnVtYmVyIHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc2V0TnVtYmVyVmFsdWVBdEluZGV4XG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFyaWFibGUgLSBUaGUgdmFyaWFibGUgdG8gc2V0LiBcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgIyMjICAgICBcbiAgICBzZXROdW1iZXJWYWx1ZVRvOiAodmFyaWFibGUsIHZhbHVlKSAtPlxuICAgICAgICBpZiB2YXJpYWJsZS5zY29wZSA9PSAyXG4gICAgICAgICAgICBAcGVyc2lzdGVudE51bWJlcnNbdmFyaWFibGUuaW5kZXhdID0gdmFsdWVcbiAgICAgICAgZWxzZSBpZiB2YXJpYWJsZS5zY29wZSA9PSAxXG4gICAgICAgICAgICBAbnVtYmVyc1t2YXJpYWJsZS5pbmRleF0gPSB2YWx1ZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAdGVtcE51bWJlcnNbdmFyaWFibGUuaW5kZXhdID0gdmFsdWVcblxuICAgICMjIypcbiAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWVkIGxpc3QgdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRMaXN0T2JqZWN0VG9cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJpYWJsZSAtIFRoZSB2YXJpYWJsZSB0byBzZXQuIFxuICAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAgICAjIyMgICAgICAgICAgICAgXG4gICAgc2V0TGlzdE9iamVjdFRvOiAodmFyaWFibGUsIHZhbHVlKSAtPlxuICAgICAgICBpZiB2YXJpYWJsZS5zY29wZSA9PSAyXG4gICAgICAgICAgICBAcGVyc2lzdGVudExpc3RzW3ZhcmlhYmxlLmluZGV4XSA9IHZhbHVlXG4gICAgICAgIGVsc2UgaWYgdmFyaWFibGUuc2NvcGUgPT0gMVxuICAgICAgICAgICAgQGxpc3RzW3ZhcmlhYmxlLmluZGV4XSA9IHZhbHVlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB0ZW1wTGlzdHNbdmFyaWFibGUuaW5kZXhdID0gdmFsdWVcblxuICAgIFxuICAgICMjIypcbiAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWVkIGJvb2xlYW4gdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRCb29sZWFuVmFsdWVUb1xuICAgICogQHBhcmFtIHtPYmplY3R9IHZhcmlhYmxlIC0gVGhlIHZhcmlhYmxlIHRvIHNldC4gXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAgICAjIyMgICAgICAgICAgICAgICBcbiAgICBzZXRCb29sZWFuVmFsdWVUbzogKHZhcmlhYmxlLCB2YWx1ZSkgLT5cbiAgICAgICAgaWYgdmFyaWFibGUuc2NvcGUgPT0gMlxuICAgICAgICAgICAgQHBlcnNpc3RlbnRCb29sZWFuc1t2YXJpYWJsZS5pbmRleF0gPSB2YWx1ZVxuICAgICAgICBlbHNlIGlmIHZhcmlhYmxlLnNjb3BlID09IDFcbiAgICAgICAgICAgIEBib29sZWFuc1t2YXJpYWJsZS5pbmRleF0gPSB2YWx1ZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAdGVtcEJvb2xlYW5zW3ZhcmlhYmxlLmluZGV4XSA9IHZhbHVlXG5cbiAgICAjIyMqXG4gICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBzdHJpbmcgdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzZXRTdHJpbmdWYWx1ZVRvXG4gICAgKiBAcGFyYW0ge09iamVjdH0gdmFyaWFibGUgLSBUaGUgdmFyaWFibGUgdG8gc2V0LiBcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgIyMjICAgXG4gICAgc2V0U3RyaW5nVmFsdWVUbzogKHZhcmlhYmxlLCB2YWx1ZSkgLT5cbiAgICAgICAgaWYgdmFyaWFibGUuc2NvcGUgPT0gMlxuICAgICAgICAgICAgQHBlcnNpc3RlbnRTdHJpbmdzW3ZhcmlhYmxlLmluZGV4XSA9IHZhbHVlXG4gICAgICAgIGVsc2UgaWYgdmFyaWFibGUuc2NvcGUgPT0gMVxuICAgICAgICAgICAgQHN0cmluZ3NbdmFyaWFibGUuaW5kZXhdID0gdmFsdWVcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQHRlbXBTdHJpbmdzW3ZhcmlhYmxlLmluZGV4XSA9IHZhbHVlXG5cbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBsaXN0IHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgbGlzdE9iamVjdE9mXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gVGhlIGxpc3QtdmFyaWFibGUvb2JqZWN0IHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGxpc3Qtb2JqZWN0LlxuICAgICMjIyAgIFxuICAgIGxpc3RPYmplY3RPZjogKG9iamVjdCkgLT5cbiAgICAgICAgcmVzdWx0ID0gMFxuICAgICAgICBpZiBvYmplY3Q/IGFuZCBvYmplY3QuaW5kZXg/XG4gICAgICAgICAgICBpZiBvYmplY3Quc2NvcGUgPT0gMlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBwZXJzaXN0ZW50TGlzdHNbb2JqZWN0LmluZGV4XVxuICAgICAgICAgICAgZWxzZSBpZiBvYmplY3Quc2NvcGUgPT0gMVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBsaXN0c1tvYmplY3QuaW5kZXhdXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQHRlbXBMaXN0c1tvYmplY3QuaW5kZXhdXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdCA9IG9iamVjdFxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgW11cbiAgICBcbiAgICAjIyMqXG4gICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiBhIG51bWJlciB2YXJpYWJsZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICpcbiAgICAqIEBtZXRob2QgbnVtYmVyVmFsdWVBdEluZGV4XG4gICAgKiBAcGFyYW0ge251bWJlcn0gc2NvcGUgLSBUaGUgdmFyaWFibGUgc2NvcGUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgdmFyaWFibGUncyBpbmRleC5cbiAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG51bWJlciB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgIyMjICAgICAgXG4gICAgbnVtYmVyVmFsdWVBdEluZGV4OiAoc2NvcGUsIGluZGV4KSAtPlxuICAgICAgICByZXN1bHQgPSAwXG4gICAgICAgIFxuICAgICAgICBpZiBzY29wZSA9PSAyXG4gICAgICAgICAgICByZXN1bHQgPSBAcGVyc2lzdGVudE51bWJlcnNbaW5kZXhdXG4gICAgICAgIGVsc2UgaWYgc2NvcGUgPT0gMVxuICAgICAgICAgICAgcmVzdWx0ID0gQG51bWJlcnNbaW5kZXhdXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdCA9IEB0ZW1wTnVtYmVyc1tpbmRleF1cblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgbnVtYmVyIHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2QgbnVtYmVyVmFsdWVPZlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSB2YXJpYWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBudW1iZXIgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICMjIyAgICAgXG4gICAgbnVtYmVyVmFsdWVPZjogKG9iamVjdCkgLT5cbiAgICAgICAgcmVzdWx0ID0gMFxuICAgICAgICBpZiBvYmplY3Q/IGFuZCBvYmplY3QuaW5kZXg/XG4gICAgICAgICAgICBpZiBvYmplY3Quc2NvcGUgPT0gMlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBwZXJzaXN0ZW50TnVtYmVyc1tvYmplY3QuaW5kZXhdXG4gICAgICAgICAgICBlbHNlIGlmIG9iamVjdC5zY29wZSA9PSAxXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQG51bWJlcnNbb2JqZWN0LmluZGV4XVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEB0ZW1wTnVtYmVyc1tvYmplY3QuaW5kZXhdXG5cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzdWx0ID0gb2JqZWN0XG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdCB8fCAwXG4gICAgXG4gICAgIyMjKlxuICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgc3RyaW5nIHZhcmlhYmxlLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RyaW5nVmFsdWVPZlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSB2YXJpYWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICMjIyAgICAgICAgXG4gICAgc3RyaW5nVmFsdWVPZjogKG9iamVjdCkgLT5cbiAgICAgICAgcmVzdWx0ID0gXCJcIlxuICAgICAgICBpZiBvYmplY3Q/IGFuZCBvYmplY3QuaW5kZXg/XG4gICAgICAgICAgICBpZiBvYmplY3Quc2NvcGUgPT0gMlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEBwZXJzaXN0ZW50U3RyaW5nc1tvYmplY3QuaW5kZXhdXG4gICAgICAgICAgICBlbHNlIGlmIG9iamVjdC5zY29wZSA9PSAxXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQHN0cmluZ3Nbb2JqZWN0LmluZGV4XVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEB0ZW1wU3RyaW5nc1tvYmplY3QuaW5kZXhdXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdCA9IG9iamVjdFxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgXCJcIlxuICAgIFxuICAgICMjIypcbiAgICAqIEdldHMgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWVkIGJvb2xlYW4gdmFyaWFibGUuXG4gICAgKlxuICAgICogQG1ldGhvZCBib29sZWFuVmFsdWVPZlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSB2YXJpYWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBib29sZWFuIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAjIyMgICAgICAgXG4gICAgYm9vbGVhblZhbHVlT2Y6IChvYmplY3QpIC0+XG4gICAgICAgIHJlc3VsdCA9IG5vXG4gICAgICAgIGlmIG9iamVjdD8gYW5kIG9iamVjdC5pbmRleD9cbiAgICAgICAgICAgIGlmIG9iamVjdC5zY29wZSA9PSAyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQHBlcnNpc3RlbnRCb29sZWFuc1tvYmplY3QuaW5kZXhdXG4gICAgICAgICAgICBlbHNlIGlmIG9iamVjdC5zY29wZSA9PSAxXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gQGJvb2xlYW5zW29iamVjdC5pbmRleF0gfHwgbm9cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBAdGVtcEJvb2xlYW5zW29iamVjdC5pbmRleF1cblxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXN1bHQgPSBpZiBvYmplY3QgdGhlbiB0cnVlIGVsc2UgZmFsc2VcbiAgICAgICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIFxuZ3MuVmFyaWFibGVTdG9yZSA9IFZhcmlhYmxlU3RvcmUiXX0=
//# sourceURL=VariableStore_60.js
var Easing;

Easing = (function() {
  Easing.accessors("type", {
    set: function(v) {
      if (v !== this.type_) {
        this.type_ = v;
        return this.func = gs.Easings.EASE_FUNCTIONS[this.type_[0]][this.type_[1]];
      }
    },
    get: function() {
      return this.type_;
    }
  });


  /**
  * The Easing class provides different types of animation using different easings. The easing
  * of an animation controls how hard/soft the animation starts and/or stops.
  *
  * @module gs
  * @class Easing
  * @memberof gs
  * @constructor
  * @param {gs.Easings} type - The easing-type.
  * @param {Object} [data=null] - A data-bundle to restore the easing from.
   */

  function Easing(type, data) {
    if (data != null) {
      Object.mixin(this, data);
    } else {

      /**
      * Frame counter for the animation. 
      * @property time
      * @type number
      * @protected
       */
      this.time = 0;

      /**
      * Delta X 
      * @property dx
      * @type number
      * @protected
       */
      this.dx = 0;

      /**
      * Delta Y
      * @property dy
      * @type number
      * @protected
       */
      this.dy = 0;

      /**
      * @property startX
      * @type number
      * @protected
       */
      this.startX = 0;

      /**
      * @property startY
      * @type number
      * @protected
       */
      this.startY = 0;

      /**
      * The duration of the animation.
      * @property duration
      * @type number
       */
      this.duration = 0;

      /**
      * Indicates if the animation is running.
      * @property isRunning
      * @type boolean
      * @readOnly
       */
      this.isRunning = false;

      /**
      * Indicates if the animation is endless.
      * @property isEndless
      * @type boolean
      * @readOnly
       */
      this.isEndless = false;

      /**
      * @property isSingleValue
      * @type boolean
      * @readOnly
       */
      this.isSingleValue = false;

      /**
      * @property speedX
      * @type number
      * @protected
       */
      this.speedX = 0;

      /**
      * @property speedY
      * @type number
      * @protected
       */
      this.speedY = 0;

      /**
      * @property speed
      * @type number
      * @protected
       */
      this.speed = 0;

      /**
      * @property x
      * @type number
      * @protected
       */
      this.x = 0;

      /**
      * @property y
      * @type number
      * @protected
       */
      this.y = 0;

      /**
      * The current value.
      * @property value
      * @type number
      * @protected
       */
      this.value = 0;

      /**
      * The easing type.
      * @property gs.Easings
      * @type Function
       */
      this.type = type || gs.Easings.EASE_LINEAR[gs.EasingTypes.EASE_OUT];
    }

    /**
    * The easing function used for the animation.
    * @property func
    * @type Function
     */
    this.func = gs.Easings.EASE_FUNCTIONS[this.type[0]][this.type[1]];
  }


  /**
  * Stops the animation 
  *
  * @method stop
   */

  Easing.prototype.stop = function() {
    return this.isRunning = false;
  };


  /**
  * Starts an endless moving/scroll animation.
  *
  * @method startEndless
  * @param {number} speedX - The animation speed on x-axis.
  * @param {number} speedY - The animation speed on y-axis.
   */

  Easing.prototype.startEndless = function(speedX, speedY) {
    this.isRunning = true;
    this.isEndless = true;
    this.speedX = speedX;
    this.speedY = speedY;
    return this.isSingleValue = false;
  };


  /**
  * Starts an endless value animation.
  *
  * @method startValueEndless
  * @param {number} value - The start-value.
  * @param {number} speedY - The animation speed.
   */

  Easing.prototype.startValueEndless = function(value, speed) {
    this.time = 0;
    this.value = value;
    this.speed = speed;
    this.isRunning = true;
    this.isEndless = true;
    return this.isSingleValue = true;
  };


  /**
  * Starts a value animation.
  *
  * @method startValue
  * @param {number} value - The start-value.
  * @param {number} distance - The distance/amount to change the value by.
  * @param {number} duration - The duration of the animation.
   */

  Easing.prototype.startValue = function(value, distance, duration) {
    this.time = 0;
    this.duration = duration || 1;
    this.valueStart = value;
    this.value = value;
    this.distance = distance;
    this.isRunning = true;
    this.isEndless = false;
    return this.isSingleValue = true;
  };


  /**
  * Starts a move/scroll animation.
  *
  * @method start
  * @param {number} sx - The start x-coordinate.
  * @param {number} sy - The start y-coordinate.
  * @param {number} dx - The distance/amount on x-axis.
  * @param {number} dy - The distance/amount on y-axis.
  * @param {number} duration - The duration of the animation.
   */

  Easing.prototype.start = function(sx, sy, dx, dy, duration) {
    this.time = 0;
    this.startX = sx;
    this.startY = sy;
    this.dx = dx - sx;
    this.dy = dy - sy;
    this.x = sx;
    this.y = sy;
    this.duration = duration || 1;
    this.isRunning = true;
    this.isEndless = false;
    return this.isSingleValue = false;
  };


  /**
  * Updates the value animation.
  *
  * @method updateValue
   */

  Easing.prototype.updateValue = function() {
    if (this.isEndless) {
      return this.value += this.speed;
    } else {
      this.value = this.func(this.time, this.valueStart, this.distance, this.duration);
      if (++this.time > this.duration) {
        return this.isRunning = false;
      }
    }
  };


  /**
  * Updates the move/scroll animation.
  *
  * @method updatePosition
   */

  Easing.prototype.updatePosition = function() {
    if (this.isEndless) {
      this.x += this.speedX;
      return this.y += this.speedY;
    } else {
      this.x = this.func(this.time, this.startX, this.dx, this.duration);
      this.y = this.func(this.time, this.startY, this.dy, this.duration);
      this.time++;
      if (this.time > this.duration) {
        return this.isRunning = false;
      }
    }
  };

  return Easing;

})();

gs.Easing = Easing;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07RUFDRixNQUFDLENBQUEsU0FBRCxDQUFXLE1BQVgsRUFDSTtJQUFBLEdBQUEsRUFBSyxTQUFDLENBQUQ7TUFDRCxJQUFHLENBQUEsS0FBSyxJQUFDLENBQUEsS0FBVDtRQUNJLElBQUMsQ0FBQSxLQUFELEdBQVM7ZUFDVCxJQUFDLENBQUEsSUFBRCxHQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBZSxDQUFBLElBQUMsQ0FBQSxLQUFNLENBQUEsQ0FBQSxDQUFQLENBQVcsQ0FBQSxJQUFDLENBQUEsS0FBTSxDQUFBLENBQUEsQ0FBUCxFQUZqRDs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7OztBQU9BOzs7Ozs7Ozs7Ozs7RUFXYSxnQkFBQyxJQUFELEVBQU8sSUFBUDtJQUNULElBQUcsWUFBSDtNQUNJLE1BQU0sQ0FBQyxLQUFQLENBQWEsSUFBYixFQUFtQixJQUFuQixFQURKO0tBQUEsTUFBQTs7QUFHSTs7Ozs7O01BTUEsSUFBQyxDQUFBLElBQUQsR0FBUTs7QUFFUjs7Ozs7O01BTUEsSUFBQyxDQUFBLEVBQUQsR0FBTTs7QUFFTjs7Ozs7O01BTUEsSUFBQyxDQUFBLEVBQUQsR0FBTTs7QUFFTjs7Ozs7TUFLQSxJQUFDLENBQUEsTUFBRCxHQUFVOztBQUVWOzs7OztNQUtBLElBQUMsQ0FBQSxNQUFELEdBQVU7O0FBRVY7Ozs7O01BS0EsSUFBQyxDQUFBLFFBQUQsR0FBWTs7QUFFWjs7Ozs7O01BTUEsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7O01BTUEsSUFBQyxDQUFBLFNBQUQsR0FBYTs7QUFFYjs7Ozs7TUFLQSxJQUFDLENBQUEsYUFBRCxHQUFpQjs7QUFFakI7Ozs7O01BS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTs7QUFFVjs7Ozs7TUFLQSxJQUFDLENB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QVUsSUFBQyxDQUFBLFFBQWQ7ZUFDSSxJQUFDLENBQUEsU0FBRCxHQUFhLE1BRGpCO09BSko7O0VBRFM7OztBQVFiOzs7Ozs7bUJBS0EsY0FBQSxHQUFnQixTQUFBO0lBQ1osSUFBRyxJQUFDLENBQUEsU0FBSjtNQUNJLElBQUMsQ0FBQSxDQUFELElBQU0sSUFBQyxDQUFBO2FBQ1AsSUFBQyxDQUFBLENBQUQsSUFBTSxJQUFDLENBQUEsT0FGWDtLQUFBLE1BQUE7TUFJSSxJQUFDLENBQUEsQ0FBRCxHQUFNLElBQUMsQ0FBQSxJQUFELENBQU0sSUFBQyxDQUFBLElBQVAsRUFBYSxJQUFDLENBQUEsTUFBZCxFQUFzQixJQUFDLENBQUEsRUFBdkIsRUFBMkIsSUFBQyxDQUFBLFFBQTVCO01BQ04sSUFBQyxDQUFBLENBQUQsR0FBTSxJQUFDLENBQUEsSUFBRCxDQUFNLElBQUMsQ0FBQSxJQUFQLEVBQWEsSUFBQyxDQUFBLE1BQWQsRUFBc0IsSUFBQyxDQUFBLEVBQXZCLEVBQTJCLElBQUMsQ0FBQSxRQUE1QjtNQUVOLElBQUMsQ0FBQSxJQUFEO01BRUEsSUFBRyxJQUFDLENBQUEsSUFBRCxHQUFRLElBQUMsQ0FBQSxRQUFaO2VBQ0ksSUFBQyxDQUFBLFNBQUQsR0FBYSxNQURqQjtPQVRKOztFQURZOzs7Ozs7QUFhcEIsRUFBRSxDQUFDLE1BQUgsR0FBWSIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogRWFzaW5nXG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBFYXNpbmdcbiAgICBAYWNjZXNzb3JzIFwidHlwZVwiLCBcbiAgICAgICAgc2V0OiAodikgLT5cbiAgICAgICAgICAgIGlmIHYgIT0gQHR5cGVfXG4gICAgICAgICAgICAgICAgQHR5cGVfID0gdlxuICAgICAgICAgICAgICAgIEBmdW5jID0gZ3MuRWFzaW5ncy5FQVNFX0ZVTkNUSU9OU1tAdHlwZV9bMF1dW0B0eXBlX1sxXV1cbiAgICAgICAgZ2V0OiAtPiBAdHlwZV9cbiAgICAgICAgXG4gICAgIyMjKlxuICAgICogVGhlIEVhc2luZyBjbGFzcyBwcm92aWRlcyBkaWZmZXJlbnQgdHlwZXMgb2YgYW5pbWF0aW9uIHVzaW5nIGRpZmZlcmVudCBlYXNpbmdzLiBUaGUgZWFzaW5nXG4gICAgKiBvZiBhbiBhbmltYXRpb24gY29udHJvbHMgaG93IGhhcmQvc29mdCB0aGUgYW5pbWF0aW9uIHN0YXJ0cyBhbmQvb3Igc3RvcHMuXG4gICAgKlxuICAgICogQG1vZHVsZSBnc1xuICAgICogQGNsYXNzIEVhc2luZ1xuICAgICogQG1lbWJlcm9mIGdzXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7Z3MuRWFzaW5nc30gdHlwZSAtIFRoZSBlYXNpbmctdHlwZS5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YT1udWxsXSAtIEEgZGF0YS1idW5kbGUgdG8gcmVzdG9yZSB0aGUgZWFzaW5nIGZyb20uXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6ICh0eXBlLCBkYXRhKSAtPlxuICAgICAgICBpZiBkYXRhP1xuICAgICAgICAgICAgT2JqZWN0Lm1peGluKHRoaXMsIGRhdGEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgICMjIypcbiAgICAgICAgICAgICogRnJhbWUgY291bnRlciBmb3IgdGhlIGFuaW1hdGlvbi4gXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB0aW1lXG4gICAgICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAjIyNcbiAgICAgICAgICAgIEB0aW1lID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIERlbHRhIFggXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSBkeFxuICAgICAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgIyMjXG4gICAgICAgICAgICBAZHggPSAwXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICMjIypcbiAgICAgICAgICAgICogRGVsdGEgWVxuICAgICAgICAgICAgKiBAcHJvcGVydHkgZHlcbiAgICAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQGR5ID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSBzdGFydFhcbiAgICAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQHN0YXJ0WCA9IDBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgIyMjKlxuICAgICAgICAgICAgKiBAcHJvcGVydHkgc3RhcnRZXG4gICAgICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAjIyNcbiAgICAgICAgICAgIEBzdGFydFkgPSAwXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICMjIypcbiAgICAgICAgICAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSBkdXJhdGlvblxuICAgICAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQGR1cmF0aW9uID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgYW5pbWF0aW9uIGlzIHJ1bm5pbmcuXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSBpc1J1bm5pbmdcbiAgICAgICAgICAgICogQHR5cGUgYm9vbGVhblxuICAgICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICMjIypcbiAgICAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBhbmltYXRpb24gaXMgZW5kbGVzcy5cbiAgICAgICAgICAgICogQHByb3BlcnR5IGlzRW5kbGVzc1xuICAgICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgICAgIyMjXG4gICAgICAgICAgICBAaXNFbmRsZXNzID0gbm9cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgIyMjKlxuICAgICAgICAgICAgKiBAcHJvcGVydHkgaXNTaW5nbGVWYWx1ZVxuICAgICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgICAgIyMjXG4gICAgICAgICAgICBAaXNTaW5nbGVWYWx1ZSA9IG5vXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICMjIypcbiAgICAgICAgICAgICogQHByb3BlcnR5IHNwZWVkWFxuICAgICAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgIyMjXG4gICAgICAgICAgICBAc3BlZWRYID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSBzcGVlZFlcbiAgICAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQHNwZWVkWSA9IDBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgIyMjKlxuICAgICAgICAgICAgKiBAcHJvcGVydHkgc3BlZWRcbiAgICAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQHNwZWVkID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB4XG4gICAgICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAjIyNcbiAgICAgICAgICAgIEB4ID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIEBwcm9wZXJ0eSB5XG4gICAgICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAjIyNcbiAgICAgICAgICAgIEB5ID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIFRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgICAgICAgKiBAcHJvcGVydHkgdmFsdWVcbiAgICAgICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQHZhbHVlID0gMFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAjIyMqXG4gICAgICAgICAgICAqIFRoZSBlYXNpbmcgdHlwZS5cbiAgICAgICAgICAgICogQHByb3BlcnR5IGdzLkVhc2luZ3NcbiAgICAgICAgICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgICAgICAgICMjI1xuICAgICAgICAgICAgQHR5cGUgPSB0eXBlIHx8IGdzLkVhc2luZ3MuRUFTRV9MSU5FQVJbZ3MuRWFzaW5nVHlwZXMuRUFTRV9PVVRdXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIGVhc2luZyBmdW5jdGlvbiB1c2VkIGZvciB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAqIEBwcm9wZXJ0eSBmdW5jXG4gICAgICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgICAgIyMjICAgIFxuICAgICAgICBAZnVuYyA9IGdzLkVhc2luZ3MuRUFTRV9GVU5DVElPTlNbQHR5cGVbMF1dW0B0eXBlWzFdXVxuICAgICMjIypcbiAgICAqIFN0b3BzIHRoZSBhbmltYXRpb24gXG4gICAgKlxuICAgICogQG1ldGhvZCBzdG9wXG4gICAgIyMjICAgXG4gICAgc3RvcDogLT5cbiAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgIFxuICAgICMjIypcbiAgICAqIFN0YXJ0cyBhbiBlbmRsZXNzIG1vdmluZy9zY3JvbGwgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RhcnRFbmRsZXNzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRYIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBvbiB4LWF4aXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWRZIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBvbiB5LWF4aXMuXG4gICAgIyMjICAgIFxuICAgIHN0YXJ0RW5kbGVzczogKHNwZWVkWCwgc3BlZWRZKSAtPlxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIEBpc0VuZGxlc3MgPSB5ZXNcbiAgICAgICAgQHNwZWVkWCA9IHNwZWVkWFxuICAgICAgICBAc3BlZWRZID0gc3BlZWRZXG4gICAgICAgIEBpc1NpbmdsZVZhbHVlID0gbm9cbiAgICAgXG4gICAgIyMjKlxuICAgICogU3RhcnRzIGFuIGVuZGxlc3MgdmFsdWUgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2Qgc3RhcnRWYWx1ZUVuZGxlc3NcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBzdGFydC12YWx1ZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZFkgLSBUaGUgYW5pbWF0aW9uIHNwZWVkLlxuICAgICMjIyAgICAgXG4gICAgc3RhcnRWYWx1ZUVuZGxlc3M6ICh2YWx1ZSwgc3BlZWQpIC0+XG4gICAgICAgIEB0aW1lID0gMFxuICAgICAgICBAdmFsdWUgPSB2YWx1ZVxuICAgICAgICBAc3BlZWQgPSBzcGVlZFxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIEBpc0VuZGxlc3MgPSB5ZXNcbiAgICAgICAgQGlzU2luZ2xlVmFsdWUgPSB5ZXNcbiAgICBcbiAgICAjIyMqXG4gICAgKiBTdGFydHMgYSB2YWx1ZSBhbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFZhbHVlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgc3RhcnQtdmFsdWUuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgLSBUaGUgZGlzdGFuY2UvYW1vdW50IHRvIGNoYW5nZSB0aGUgdmFsdWUgYnkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAjIyMgICAgICBcbiAgICBzdGFydFZhbHVlOiAodmFsdWUsIGRpc3RhbmNlLCBkdXJhdGlvbikgLT5cbiAgICAgICAgQHRpbWUgPSAwXG4gICAgICAgIEBkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDFcbiAgICAgICAgQHZhbHVlU3RhcnQgPSB2YWx1ZVxuICAgICAgICBAdmFsdWUgPSB2YWx1ZVxuICAgICAgICBAZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgICBAaXNSdW5uaW5nID0geWVzXG4gICAgICAgIEBpc0VuZGxlc3MgPSBub1xuICAgICAgICBAaXNTaW5nbGVWYWx1ZSA9IHllc1xuXG4gICAgIFxuICAgICMjIypcbiAgICAqIFN0YXJ0cyBhIG1vdmUvc2Nyb2xsIGFuaW1hdGlvbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIHN0YXJ0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3ggLSBUaGUgc3RhcnQgeC1jb29yZGluYXRlLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHN5IC0gVGhlIHN0YXJ0IHktY29vcmRpbmF0ZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFRoZSBkaXN0YW5jZS9hbW91bnQgb24geC1heGlzLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGR5IC0gVGhlIGRpc3RhbmNlL2Ftb3VudCBvbiB5LWF4aXMuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAjIyMgICAgIFxuICAgIHN0YXJ0OiAoc3gsIHN5LCBkeCwgZHksIGR1cmF0aW9uKSAtPlxuICAgICAgICBAdGltZSA9IDBcbiAgICAgICAgQHN0YXJ0WCA9IHN4XG4gICAgICAgIEBzdGFydFkgPSBzeVxuICAgICAgICBAZHggPSBkeCAtIHN4XG4gICAgICAgIEBkeSA9IGR5IC0gc3lcbiAgICAgICAgQHggPSBzeFxuICAgICAgICBAeSA9IHN5XG4gICAgICAgIEBkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDFcbiAgICAgICAgQGlzUnVubmluZyA9IHllc1xuICAgICAgICBAaXNFbmRsZXNzID0gbm9cbiAgICAgICAgQGlzU2luZ2xlVmFsdWUgPSBub1xuICAgICAgICBcbiBcbiAgICAjIyMqXG4gICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBhbmltYXRpb24uXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVWYWx1ZVxuICAgICMjIyBcbiAgICB1cGRhdGVWYWx1ZTogLT5cbiAgICAgICAgaWYgQGlzRW5kbGVzc1xuICAgICAgICAgICAgQHZhbHVlICs9IEBzcGVlZFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBAdmFsdWUgPSAoQGZ1bmMoQHRpbWUsIEB2YWx1ZVN0YXJ0LCBAZGlzdGFuY2UsIEBkdXJhdGlvbikpXG4gICAgICAgICAgICBpZiArK0B0aW1lID4gQGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgQGlzUnVubmluZyA9IG5vXG4gICAgXG4gICAgIyMjKlxuICAgICogVXBkYXRlcyB0aGUgbW92ZS9zY3JvbGwgYW5pbWF0aW9uLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlUG9zaXRpb25cbiAgICAjIyMgICAgIFxuICAgIHVwZGF0ZVBvc2l0aW9uOiAoKSAtPlxuICAgICAgICBpZiBAaXNFbmRsZXNzXG4gICAgICAgICAgICBAeCArPSBAc3BlZWRYXG4gICAgICAgICAgICBAeSArPSBAc3BlZWRZXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEB4ID0gKEBmdW5jKEB0aW1lLCBAc3RhcnRYLCBAZHgsIEBkdXJhdGlvbikpXG4gICAgICAgICAgICBAeSA9IChAZnVuYyhAdGltZSwgQHN0YXJ0WSwgQGR5LCBAZHVyYXRpb24pKVxuICAgIFxuICAgICAgICAgICAgQHRpbWUrK1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAdGltZSA+IEBkdXJhdGlvblxuICAgICAgICAgICAgICAgIEBpc1J1bm5pbmcgPSBub1xuICAgICAgICAgIFxuZ3MuRWFzaW5nID0gRWFzaW5nIl19
//# sourceURL=Easing_65.js
var UIElementRectangle,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

UIElementRectangle = (function(superClass) {
  extend(UIElementRectangle, superClass);


  /**
  * An ui rectangle is like a regular gs.Rect rectangle but if one of the
  * rectangle's coordinates is changed the <b>needsUpdate</b> property of the
  * assigned game object will be set to <b>true</b> to trigger a refresh.
  *
  * @module ui
  * @class UIElementRectangle
  * @extends gs.Rect
  * @memberof ui
  * @constructor
  * @params {Object} object - The UI object the rectangle belongs to.
   */

  function UIElementRectangle(object) {

    /**
    * The UI object the rectangle belongs to.
    * @property object
    * @type gs.Object_UIElement
     */
    this.object = object != null ? object : {};

    /**
    * The x-coordinate of the rectangle.
    * @property x
    * @type number
     */
    this.x = 0;

    /**
    * The y-coordinate of the rectangle.
    * @property y
    * @type number
     */
    this.y = 0;

    /**
    * The width of the rectangle.
    * @property width
    * @type number
     */
    this.width = 1;

    /**
    * The height of the rectangle.
    * @property height
    * @type number
     */
    this.height = 1;
  }

  UIElementRectangle.accessors("x", {
    set: function(x) {
      if (x !== this.x_) {
        this.x_ = x;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.x_;
    }
  });

  UIElementRectangle.accessors("y", {
    set: function(y) {
      if (y !== this.y_) {
        this.y_ = y;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.y_;
    }
  });

  UIElementRectangle.accessors("width", {
    set: function(width) {
      if (width !== this.width_) {
        this.width_ = width;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.width_;
    }
  });

  UIElementRectangle.accessors("height", {
    set: function(height) {
      if (height !== this.height_) {
        this.height_ = height;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.height_;
    }
  });

  UIElementRectangle.prototype.toRect = function() {
    return new gs.Rect(this.x, this.y, this.width, this.height);
  };

  UIElementRectangle.fromRect = function(object, rect) {
    var result;
    result = new ui.UIElementRectangle(object);
    result.x = rect.x;
    result.y = rect.y;
    result.width = rect.width;
    result.height = rect.height;
    return result;
  };

  return UIElementRectangle;

})(Rect);

ui.UIElementRectangle = UIElementRectangle;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUEsa0JBQUE7RUFBQTs7O0FBQU07Ozs7QUFDRjs7Ozs7Ozs7Ozs7OztFQVlhLDRCQUFDLE1BQUQ7O0FBQ1Q7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsb0JBQVUsU0FBUzs7QUFFbkI7Ozs7O0lBS0EsSUFBQyxDQUFBLENBQUQsR0FBSzs7QUFFTDs7Ozs7SUFLQSxJQUFDLENBQUEsQ0FBRCxHQUFLOztBQUVMOzs7OztJQUtBLElBQUMsQ0FBQSxLQUFELEdBQVM7O0FBRVQ7Ozs7O0lBS0EsSUFBQyxDQUFBLE1BQUQsR0FBVTtFQWxDRDs7RUFvQ2Isa0JBQUMsQ0FBQSxTQUFELENBQVcsR0FBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxFQUFUO1FBQ0ksSUFBQyxDQUFBLEVBQUQsR0FBTTtlQUNOLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUYxQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBT0Esa0JBQUMsQ0FBQSxTQUFELENBQVcsR0FBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxFQUFUO1FBQ0ksSUFBQyxDQUFBLEVBQUQsR0FBTTtlQUNOLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUYxQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBT0Esa0JBQUMsQ0FBQSxTQUFELENBQVcsT0FBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsS0FBRDtNQUNELElBQUcsS0FBQSxLQUFTLElBQUMsQ0FBQSxNQUFiO1FBQ0ksSUFBQyxDQUFBLE1BQUQsR0FBVTtlQUNWLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUYxQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBT0Esa0JBQUMsQ0FBQSxTQUFELENBQVcsUUFBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsTUFBRDtNQUNELElBQUcsTUFBQSxLQUFVLElBQUMsQ0FBQSxPQUFkO1FBQ0ksSUFBQyxDQUFBLE9BQUQsR0FBVztlQUNYLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUYxQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7OytCQU9BLE1BQUEsR0FBUSxTQUFBO1dBQU8sSUFBQSxFQUFFLENBQUMsSUFBSCxDQUFRLElBQUMsQ0FBQSxDQUFULEVBQVksSUFBQyxDQUFBLENBQWIsRUFBZ0IsSUFBQyxDQUFBLEtBQWpCLEVBQXdCLElBQUMsQ0FBQSxNQUF6QjtFQUFQOztFQUVSLGtCQUFDLENBQUEsUUFBRCxHQUFXLFNBQUMsTUFBRCxFQUFTLElBQVQ7QUFDUCxRQUFBO0lBQUEsTUFBQSxHQUFhLElBQUEsRUFBRSxDQUFDLGtCQUFILENBQXNCLE1BQXRCO0lBQ2IsTUFBTSxDQUFDLENBQVAsR0FBVyxJQUFJLENBQUM7SUFDaEIsTUFBTSxDQUFDLENBQVAsR0FBVyxJQUFJLENBQUM7SUFDaEIsTUFBTSxDQUFDLEtBQVAsR0FBZSxJQUFJLENBQUM7SUFDcEIsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsSUFBSSxDQUFDO0FBQ3JCLFdBQU87RUFOQTs7OztHQS9Fa0I7O0FBeUZqQyxFQUFFLENBQUMsa0JBQUgsR0FBd0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IFVJRWxlbWVudFJlY3RhbmdsZVxuI1xuIyAgICQkQ09QWVJJR0hUJCRcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY2xhc3MgVUlFbGVtZW50UmVjdGFuZ2xlIGV4dGVuZHMgUmVjdFxuICAgICMjIypcbiAgICAqIEFuIHVpIHJlY3RhbmdsZSBpcyBsaWtlIGEgcmVndWxhciBncy5SZWN0IHJlY3RhbmdsZSBidXQgaWYgb25lIG9mIHRoZVxuICAgICogcmVjdGFuZ2xlJ3MgY29vcmRpbmF0ZXMgaXMgY2hhbmdlZCB0aGUgPGI+bmVlZHNVcGRhdGU8L2I+IHByb3BlcnR5IG9mIHRoZVxuICAgICogYXNzaWduZWQgZ2FtZSBvYmplY3Qgd2lsbCBiZSBzZXQgdG8gPGI+dHJ1ZTwvYj4gdG8gdHJpZ2dlciBhIHJlZnJlc2guXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIFVJRWxlbWVudFJlY3RhbmdsZVxuICAgICogQGV4dGVuZHMgZ3MuUmVjdFxuICAgICogQG1lbWJlcm9mIHVpXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbXMge09iamVjdH0gb2JqZWN0IC0gVGhlIFVJIG9iamVjdCB0aGUgcmVjdGFuZ2xlIGJlbG9uZ3MgdG8uXG4gICAgIyMjXG4gICAgY29uc3RydWN0b3I6IChvYmplY3QpIC0+XG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgVUkgb2JqZWN0IHRoZSByZWN0YW5nbGUgYmVsb25ncyB0by5cbiAgICAgICAgKiBAcHJvcGVydHkgb2JqZWN0XG4gICAgICAgICogQHR5cGUgZ3MuT2JqZWN0X1VJRWxlbWVudFxuICAgICAgICAjIyNcbiAgICAgICAgQG9iamVjdCA9IG9iamVjdCA/IHt9XG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAgICAqIEBwcm9wZXJ0eSB4XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAeCA9IDBcbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICAgICogQHByb3BlcnR5IHlcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB5ID0gMFxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAgICAqIEBwcm9wZXJ0eSB3aWR0aFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHdpZHRoID0gMVxuICAgICAgICBcbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgICAgKiBAcHJvcGVydHkgaGVpZ2h0XG4gICAgICAgICogQHR5cGUgbnVtYmVyXG4gICAgICAgICMjI1xuICAgICAgICBAaGVpZ2h0ID0gMVxuICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJ4XCIsIFxuICAgICAgICBzZXQ6ICh4KSAtPlxuICAgICAgICAgICAgaWYgeCAhPSBAeF9cbiAgICAgICAgICAgICAgICBAeF8gPSB4XG4gICAgICAgICAgICAgICAgQG9iamVjdC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICBnZXQ6IC0+IEB4X1xuICAgICAgICBcbiAgICBAYWNjZXNzb3JzIFwieVwiLCBcbiAgICAgICAgc2V0OiAoeSkgLT5cbiAgICAgICAgICAgIGlmIHkgIT0gQHlfXG4gICAgICAgICAgICAgICAgQHlfID0geVxuICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgZ2V0OiAtPiBAeV9cbiAgICAgICAgXG4gICAgQGFjY2Vzc29ycyBcIndpZHRoXCIsIFxuICAgICAgICBzZXQ6ICh3aWR0aCkgLT5cbiAgICAgICAgICAgIGlmIHdpZHRoICE9IEB3aWR0aF9cbiAgICAgICAgICAgICAgICBAd2lkdGhfID0gd2lkdGhcbiAgICAgICAgICAgICAgICBAb2JqZWN0Lm5lZWRzVXBkYXRlID0geWVzXG4gICAgICAgIGdldDogLT4gQHdpZHRoX1xuICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJoZWlnaHRcIiwgXG4gICAgICAgIHNldDogKGhlaWdodCkgLT5cbiAgICAgICAgICAgIGlmIGhlaWdodCAhPSBAaGVpZ2h0X1xuICAgICAgICAgICAgICAgIEBoZWlnaHRfID0gaGVpZ2h0XG4gICAgICAgICAgICAgICAgQG9iamVjdC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICBnZXQ6IC0+IEBoZWlnaHRfXG4gICAgICAgIFxuICAgIHRvUmVjdDogLT4gbmV3IGdzLlJlY3QoQHgsIEB5LCBAd2lkdGgsIEBoZWlnaHQpXG4gICAgICAgIFxuICAgIEBmcm9tUmVjdDogKG9iamVjdCwgcmVjdCkgLT5cbiAgICAgICAgcmVzdWx0ID0gbmV3IHVpLlVJRWxlbWVudFJlY3RhbmdsZShvYmplY3QpXG4gICAgICAgIHJlc3VsdC54ID0gcmVjdC54XG4gICAgICAgIHJlc3VsdC55ID0gcmVjdC55XG4gICAgICAgIHJlc3VsdC53aWR0aCA9IHJlY3Qud2lkdGhcbiAgICAgICAgcmVzdWx0LmhlaWdodCA9IHJlY3QuaGVpZ2h0XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgXG4gICAgXG4gICAgICAgXG51aS5VSUVsZW1lbnRSZWN0YW5nbGUgPSBVSUVsZW1lbnRSZWN0YW5nbGUiXX0=
//# sourceURL=UIElementRectangle_75.js
var UIElementPoint;

UIElementPoint = (function() {

  /**
  * An ui point is like a regular point with an x- and y-coordinate but if one of the
  * coordinates is changed the <b>needsUpdate</b> property of the
  * assigned game object will be set to <b>true</b> to trigger a refresh.
  *
  * @module ui
  * @class UIElementPoint
  * @memberof ui
  * @constructor
  * @params {Object} object - The UI object the rectangle belongs to.
   */
  function UIElementPoint(object) {

    /**
    * The UI object the rectangle belongs to.
    * @property object
    * @type gs.Object_UIElement
     */
    this.object = object != null ? object : {};

    /**
    * The x-coordinate of the point.
    * @property x
    * @type number
     */
    this.x = 0;

    /**
    * The y-coordinate of the point.
    * @property y
    * @type number
     */
    this.y = 0;
  }

  UIElementPoint.accessors("x", {
    set: function(x) {
      if (x !== this.x_) {
        this.x_ = x;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.x_;
    }
  });

  UIElementPoint.accessors("y", {
    set: function(y) {
      if (y !== this.y_) {
        this.y_ = y;
        return this.object.needsUpdate = true;
      }
    },
    get: function() {
      return this.y_;
    }
  });

  return UIElementPoint;

})();

ui.UIElementPoint = UIElementPoint;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7Ozs7O0VBV2Esd0JBQUMsTUFBRDs7QUFDVDs7Ozs7SUFLQSxJQUFDLENBQUEsTUFBRCxvQkFBVSxTQUFTOztBQUVuQjs7Ozs7SUFLQSxJQUFDLENBQUEsQ0FBRCxHQUFLOztBQUVMOzs7OztJQUtBLElBQUMsQ0FBQSxDQUFELEdBQUs7RUFwQkk7O0VBc0JiLGNBQUMsQ0FBQSxTQUFELENBQVcsR0FBWCxFQUNJO0lBQUEsR0FBQSxFQUFLLFNBQUMsQ0FBRDtNQUNELElBQUcsQ0FBQSxLQUFLLElBQUMsQ0FBQSxFQUFUO1FBQ0ksSUFBQyxDQUFBLEVBQUQsR0FBTTtlQUNOLElBQUMsQ0FBQSxNQUFNLENBQUMsV0FBUixHQUFzQixLQUYxQjs7SUFEQyxDQUFMO0lBSUEsR0FBQSxFQUFLLFNBQUE7YUFBRyxJQUFDLENBQUE7SUFBSixDQUpMO0dBREo7O0VBT0EsY0FBQyxDQUFBLFNBQUQsQ0FBVyxHQUFYLEVBQ0k7SUFBQSxHQUFBLEVBQUssU0FBQyxDQUFEO01BQ0QsSUFBRyxDQUFBLEtBQUssSUFBQyxDQUFBLEVBQVQ7UUFDSSxJQUFDLENBQUEsRUFBRCxHQUFNO2VBQ04sSUFBQyxDQUFBLE1BQU0sQ0FBQyxXQUFSLEdBQXNCLEtBRjFCOztJQURDLENBQUw7SUFJQSxHQUFBLEVBQUssU0FBQTthQUFHLElBQUMsQ0FBQTtJQUFKLENBSkw7R0FESjs7Ozs7O0FBT0osRUFBRSxDQUFDLGNBQUgsR0FBb0IiLCJzb3VyY2VzQ29udGVudCI6WyIjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiNcbiMgICBTY3JpcHQ6IFVJRWxlbWVudFBvaW50XG4jXG4jICAgJCRDT1BZUklHSFQkJFxuI1xuIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5jbGFzcyBVSUVsZW1lbnRQb2ludFxuICAgICMjIypcbiAgICAqIEFuIHVpIHBvaW50IGlzIGxpa2UgYSByZWd1bGFyIHBvaW50IHdpdGggYW4geC0gYW5kIHktY29vcmRpbmF0ZSBidXQgaWYgb25lIG9mIHRoZVxuICAgICogY29vcmRpbmF0ZXMgaXMgY2hhbmdlZCB0aGUgPGI+bmVlZHNVcGRhdGU8L2I+IHByb3BlcnR5IG9mIHRoZVxuICAgICogYXNzaWduZWQgZ2FtZSBvYmplY3Qgd2lsbCBiZSBzZXQgdG8gPGI+dHJ1ZTwvYj4gdG8gdHJpZ2dlciBhIHJlZnJlc2guXG4gICAgKlxuICAgICogQG1vZHVsZSB1aVxuICAgICogQGNsYXNzIFVJRWxlbWVudFBvaW50XG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICogQHBhcmFtcyB7T2JqZWN0fSBvYmplY3QgLSBUaGUgVUkgb2JqZWN0IHRoZSByZWN0YW5nbGUgYmVsb25ncyB0by5cbiAgICAjIyNcbiAgICBjb25zdHJ1Y3RvcjogKG9iamVjdCkgLT5cbiAgICAgICAgIyMjKlxuICAgICAgICAqIFRoZSBVSSBvYmplY3QgdGhlIHJlY3RhbmdsZSBiZWxvbmdzIHRvLlxuICAgICAgICAqIEBwcm9wZXJ0eSBvYmplY3RcbiAgICAgICAgKiBAdHlwZSBncy5PYmplY3RfVUlFbGVtZW50XG4gICAgICAgICMjI1xuICAgICAgICBAb2JqZWN0ID0gb2JqZWN0ID8ge31cbiAgICAgICAgXG4gICAgICAgICMjIypcbiAgICAgICAgKiBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBwb2ludC5cbiAgICAgICAgKiBAcHJvcGVydHkgeFxuICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAjIyNcbiAgICAgICAgQHggPSAwXG4gICAgICAgIFxuICAgICAgICAjIyMqXG4gICAgICAgICogVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQuXG4gICAgICAgICogQHByb3BlcnR5IHlcbiAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgIyMjXG4gICAgICAgIEB5ID0gMFxuICAgIFxuICAgIEBhY2Nlc3NvcnMgXCJ4XCIsIFxuICAgICAgICBzZXQ6ICh4KSAtPlxuICAgICAgICAgICAgaWYgeCAhPSBAeF9cbiAgICAgICAgICAgICAgICBAeF8gPSB4XG4gICAgICAgICAgICAgICAgQG9iamVjdC5uZWVkc1VwZGF0ZSA9IHllc1xuICAgICAgICBnZXQ6IC0+IEB4X1xuICAgICAgICBcbiAgICBAYWNjZXNzb3JzIFwieVwiLCBcbiAgICAgICAgc2V0OiAoeSkgLT5cbiAgICAgICAgICAgIGlmIHkgIT0gQHlfXG4gICAgICAgICAgICAgICAgQHlfID0geVxuICAgICAgICAgICAgICAgIEBvYmplY3QubmVlZHNVcGRhdGUgPSB5ZXNcbiAgICAgICAgZ2V0OiAtPiBAeV9cbiAgICAgICBcbnVpLlVJRWxlbWVudFBvaW50ID0gVUlFbGVtZW50UG9pbnQgICAiXX0=
//# sourceURL=UIElementPoint_87.js
var Main;

Main = (function() {

  /**
  * Defines the boot-process of the game.
  *
  * @module ui
  * @class Main
  * @memberof ui
  * @constructor
   */
  function Main() {
    window.$ = jQuery.noConflict();
    this.languagesLoaded = false;
    this.m1 = mat2d.create();
    this.m2 = mat2d.create();
    this.s = vec2.fromValues(100, 100);
    if ($PARAMS.preview != null) {
      this.frameCallback = (function(_this) {
        return function(time) {
          var ex;
          try {
            return _this.updateFrame();
          } catch (error) {
            ex = error;
            if ($PARAMS.preview || GameManager.inLivePreview) {
              $PARAMS.preview = {
                error: ex
              };
            }
            console.log(ex);
            throw ex;
          }
        };
      })(this);
    } else {
      this.frameCallback = (function(_this) {
        return function(time) {
          return _this.updateFrame();
        };
      })(this);
    }
  }

  Main.prototype.updateFrame = function() {
    if ($PARAMS.showDebugInfo) {
      window.startTime = window.performance != null ? window.performance.now() : Date.now();
    }
    SceneManager.update();
    Graphics.frameCount++;
    if ($PARAMS.showDebugInfo) {
      if (this.debugSprite == null) {
        this.debugSprite = new Sprite_Debug();
      }
      window.endTime = window.performance != null ? window.performance.now() : Date.now();
      if (Graphics.frameCount % 30 === 0) {
        this.debugSprite.frameTime = endTime - startTime;
        return this.debugSprite.redraw();
      }
    }
  };


  /**
  * Loads all system resources needed to start the actual game.
  *
  * @method load
  * @param {Function} callback - Called when all system resources are loaded.
   */

  Main.prototype.load = function(callback) {
    if ($PARAMS.test == null) {
      DataManager.getDocument("RESOURCES");
    }
    DataManager.getDocument("SUMMARIES");
    Live2D.init();
    Live2DFramework.setPlatformManager(new L2DPlatformManager());
    return DataManager.events.on("loaded", function() {
      var cg, character, i, j, l, language, len, len1, len2, m, ref, ref1, ref2, settings;
      GameManager.tempFields = new gs.GameTemp();
      window.$tempFields = GameManager.tempFields;
      if (this.languagesLoaded) {
        RecordManager.prepare();
        settings = GameStorage.getObject("settings");
        if ((settings == null) || settings.version !== 337) {
          GameManager.resetSettings();
          settings = GameManager.settings;
        }
        GameManager.globalData = GameStorage.getObject("globalData");
        GameManager.settings = settings;
        GameManager.settings.fullScreen = Graphics.isFullscreen();
        AudioManager.generalSoundVolume = settings.seVolume;
        AudioManager.generalMusicVolume = settings.bgmVolume;
        AudioManager.generalVoiceVolume = settings.voiceVolume;
        Graphics.keepRatio = !settings.adjustAspectRatio;
        Graphics.onResize();
        settings.renderer = 1;
        GameStorage.setObject("settings", settings);
        ResourceManager.loadFonts();
        ResourceLoader.loadSystemSounds(RecordManager.system);
        ResourceLoader.loadSystemGraphics(RecordManager.system);
        LanguageManager.initialize();
        ref = RecordManager.characters;
        for (i = j = 0, len = ref.length; j < len; i = ++j) {
          character = ref[i];
          if (character && !GameManager.settings.voicesByCharacter[i]) {
            GameManager.settings.voicesByCharacter[i] = 100;
          }
        }
        ref1 = RecordManager.cgGallery;
        for (i = l = 0, len1 = ref1.length; l < len1; i = ++l) {
          cg = ref1[i];
          if ((cg != null) && !GameManager.globalData.cgGallery[i]) {
            GameManager.globalData.cgGallery[i] = {
              unlocked: false
            };
          }
        }
        if (RecordManager.system.mouseSupport) {
          Input.Mouse.initialize();
        }
      } else {
        RecordManager.load();
        DataManager.getDocumentsByType("language_profile");
        DataManager.getDocumentsByType("vn.chapter");
      }
      if (this.languagesLoaded) {
        ref2 = LanguageManager.languages;
        for (m = 0, len2 = ref2.length; m < len2; m++) {
          language = ref2[m];
          if ((language.icon != null) && (language.icon.name != null) && language.icon.name.length > 0) {
            ResourceManager.getBitmap("Graphics/Icons/" + language.icon.name);
          }
        }
        gs.Fonts.initialize();
        DataManager.events.off("loaded");
        ResourceManager.events.on("loaded", (function(_this) {
          return function() {
            GameManager.setupCursor();
            ResourceManager.events.off("loaded");
            ui.UIManager.setup();
            return callback();
          };
        })(this));
      }
      return this.languagesLoaded = true;
    });
  };


  /**
  * Boots the game.
  *
  * @method start
   */

  Main.prototype.start = function() {
    var ex;
    window.ResourceManager = new window.ResourceManager();
    window.DataManager = new window.DataManager();
    window.Graphics = new Graphics_OpenGL();
    window.gs.Graphics = window.Graphics;
    window.Renderer = window.Renderer_OpenGL;
    Texture2D.filter = 1;
    try {
      Graphics.initialize($PARAMS.resolution.width, $PARAMS.resolution.height, document.body);
    } catch (error) {
      ex = error;
      console.log(ex);
    }
    Graphics.onFocusReceive = (function(_this) {
      return function() {
        return GameManager.tempSettings.skip = false;
      };
    })(this);
    Graphics.onDispose = (function(_this) {
      return function() {
        return ResourceManager.dispose();
      };
    })(this);
    Input.initialize();
    Graphics.formats = [320, 384, 427];
    Font.defaultSize = Math.round(9 / 240 * Graphics.height);
    Graphics.scale = 0.5 / 240 * Graphics.height;
    window.startTime = 0;
    Graphics.onEachFrame(this.frameCallback);
    return this.load(function() {
      var ref, ref1, ref2, ref3, scene;
      if (($PARAMS.preview != null) || (RecordManager.system.useIntroScene && DataManager.getDocumentSummary((ref = RecordManager.system.introInfo) != null ? (ref1 = ref.scene) != null ? ref1.uid : void 0 : void 0))) {
        scene = new vn.Object_Scene();
        scene.sceneData.uid = ((ref2 = $PARAMS.preview) != null ? ref2.scene.uid : void 0) || ((ref3 = RecordManager.system.introInfo) != null ? ref3.scene.uid : void 0);
        scene.events.on("dispose", function(e) {
          return GameManager.sceneData.uid = null;
        });
      } else {
        scene = new gs.Object_Layout("languageMenuLayout");
      }
      return SceneManager.switchTo(scene);
    });
  };

  return Main;

})();

window.Main = Main;

gs.Main = new Main();

$(document).ready(function() {
  return gs.Main.start();
});

Object.keys(gs).forEach(function(k) {
  gs[k].$namespace = "gs";
  return gs[k].$name = k;
});

Object.keys(vn).forEach(function(k) {
  vn[k].$namespace = "vn";
  return vn[k].$name = k;
});

Object.keys(ui).forEach(function(k) {
  ui[k].$namespace = "ui";
  return ui[k].$name = k;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBLElBQUE7O0FBQU07O0FBQ0Y7Ozs7Ozs7O0VBUWEsY0FBQTtJQUNULE1BQU0sQ0FBQyxDQUFQLEdBQVcsTUFBTSxDQUFDLFVBQVAsQ0FBQTtJQUNYLElBQUMsQ0FBQSxlQUFELEdBQW1CO0lBQ25CLElBQUMsQ0FBQSxFQUFELEdBQU0sS0FBSyxDQUFDLE1BQU4sQ0FBQTtJQUNOLElBQUMsQ0FBQSxFQUFELEdBQU0sS0FBSyxDQUFDLE1BQU4sQ0FBQTtJQUVOLElBQUMsQ0FBQSxDQUFELEdBQUssSUFBSSxDQUFDLFVBQUwsQ0FBZ0IsR0FBaEIsRUFBcUIsR0FBckI7SUFFTCxJQUFHLHVCQUFIO01BQ0ksSUFBQyxDQUFBLGFBQUQsR0FBaUIsQ0FBQSxTQUFBLEtBQUE7ZUFBQSxTQUFDLElBQUQ7QUFDYixjQUFBO0FBQUE7bUJBQ0ksS0FBQyxDQUFBLFdBQUQsQ0FBQSxFQURKO1dBQUEsYUFBQTtZQUVNO1lBQ0YsSUFBRyxPQUFPLENBQUMsT0FBUixJQUFtQixXQUFXLENBQUMsYUFBbEM7Y0FDSSxPQUFPLENBQUMsT0FBUixHQUFrQjtnQkFBQSxLQUFBLEVBQU8sRUFBUDtnQkFEdEI7O1lBRUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxFQUFaO0FBQ0Esa0JBQU0sR0FOVjs7UUFEYTtNQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsRUFEckI7S0FBQSxNQUFBO01BVUksSUFBQyxDQUFBLGFBQUQsR0FBaUIsQ0FBQSxTQUFBLEtBQUE7ZUFBQSxTQUFDLElBQUQ7aUJBQVUsS0FBQyxDQUFBLFdBQUQsQ0FBQTtRQUFWO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxFQVZyQjs7RUFSUzs7aUJBb0JiLFdBQUEsR0FBYSxTQUFBO0lBQ1QsSUFBRyxPQUFPLENBQUMsYUFBWDtNQUNJLE1BQU0sQ0FBQyxTQUFQLEdBQXNCLDBCQUFILEdBQTRCLE1BQU0sQ0FBQyxXQUFXLENBQUMs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LEdBQW1CO1NBQU0sRUFBRyxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQU4sR0FBYztBQUE5QyxDQUF4Qjs7QUFDQSxNQUFNLENBQUMsSUFBUCxDQUFZLEVBQVosQ0FBZSxDQUFDLE9BQWhCLENBQXdCLFNBQUMsQ0FBRDtFQUFPLEVBQUcsQ0FBQSxDQUFBLENBQUUsQ0FBQyxVQUFOLEdBQW1CO1NBQU0sRUFBRyxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQU4sR0FBYztBQUE5QyxDQUF4QiIsInNvdXJjZXNDb250ZW50IjpbIiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIFNjcmlwdDogTWFpblxuIyAgIENyZWF0ZWQgb246IDIwMTMtMDUtMTIgICAgICAgICAgICAgICAgICAgICAgIDBcbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuI1xuIyAgIEVudHJ5IHBvaW50IG9mIHlvdXIgZ2FtZS5cbiNcbiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBNYWluXG4gICAgIyMjKlxuICAgICogRGVmaW5lcyB0aGUgYm9vdC1wcm9jZXNzIG9mIHRoZSBnYW1lLlxuICAgICpcbiAgICAqIEBtb2R1bGUgdWlcbiAgICAqIEBjbGFzcyBNYWluXG4gICAgKiBAbWVtYmVyb2YgdWlcbiAgICAqIEBjb25zdHJ1Y3RvclxuICAgICMjI1xuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICB3aW5kb3cuJCA9IGpRdWVyeS5ub0NvbmZsaWN0KClcbiAgICAgICAgQGxhbmd1YWdlc0xvYWRlZCA9IG5vXG4gICAgICAgIEBtMSA9IG1hdDJkLmNyZWF0ZSgpXG4gICAgICAgIEBtMiA9IG1hdDJkLmNyZWF0ZSgpXG4gICAgICAgIFxuICAgICAgICBAcyA9IHZlYzIuZnJvbVZhbHVlcygxMDAsIDEwMClcbiAgICAgICAgXG4gICAgICAgIGlmICRQQVJBTVMucHJldmlldz9cbiAgICAgICAgICAgIEBmcmFtZUNhbGxiYWNrID0gKHRpbWUpID0+IFxuICAgICAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgICAgICBAdXBkYXRlRnJhbWUoKVxuICAgICAgICAgICAgICAgIGNhdGNoIGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICRQQVJBTVMucHJldmlldyBvciBHYW1lTWFuYWdlci5pbkxpdmVQcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAkUEFSQU1TLnByZXZpZXcgPSBlcnJvcjogZXhcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGV4XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIEBmcmFtZUNhbGxiYWNrID0gKHRpbWUpID0+IEB1cGRhdGVGcmFtZSgpXG4gICAgXG4gICAgdXBkYXRlRnJhbWU6IC0+XG4gICAgICAgIGlmICRQQVJBTVMuc2hvd0RlYnVnSW5mb1xuICAgICAgICAgICAgd2luZG93LnN0YXJ0VGltZSA9IGlmIHdpbmRvdy5wZXJmb3JtYW5jZT8gdGhlbiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgZWxzZSBEYXRlLm5vdygpXG4gICAgICAgICAgIFxuICAgICAgICBTY2VuZU1hbmFnZXIudXBkYXRlKClcbiAgICAgICAgR3JhcGhpY3MuZnJhbWVDb3VudCsrXG4gICAgICAgIFxuICAgICAgICBpZiAkUEFSQU1TLnNob3dEZWJ1Z0luZm9cbiAgICAgICAgICAgIGlmIG5vdCBAZGVidWdTcHJpdGU/IHRoZW4gQGRlYnVnU3ByaXRlID0gbmV3IFNwcml0ZV9EZWJ1ZygpXG4gICAgICBcbiAgICAgICAgICAgIHdpbmRvdy5lbmRUaW1lID0gaWYgd2luZG93LnBlcmZvcm1hbmNlPyB0aGVuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSBlbHNlIERhdGUubm93KClcbiAgICAgICAgICAgIGlmIEdyYXBoaWNzLmZyYW1lQ291bnQgJSAzMCA9PSAwXG4gICAgICAgICAgICAgICAgQGRlYnVnU3ByaXRlLmZyYW1lVGltZSA9IChlbmRUaW1lIC0gc3RhcnRUaW1lKVxuICAgICAgICAgICAgICAgIEBkZWJ1Z1Nwcml0ZS5yZWRyYXcoKVxuICAgICMjIypcbiAgICAqIExvYWRzIGFsbCBzeXN0ZW0gcmVzb3VyY2VzIG5lZWRlZCB0byBzdGFydCB0aGUgYWN0dWFsIGdhbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBsb2FkXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxlZCB3aGVuIGFsbCBzeXN0ZW0gcmVzb3VyY2VzIGFyZSBsb2FkZWQuXG4gICAgIyMjICAgICAgICAgICAgICAgIFxuICAgIGxvYWQ6IChjYWxsYmFjaykgLT5cbiAgICAgICAgaWYgbm90ICRQQVJBTVMudGVzdD9cbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLmdldERvY3VtZW50KFwiUkVTT1VSQ0VTXCIpXG4gICAgICAgIERhdGFNYW5hZ2VyLmdldERvY3VtZW50KFwiU1VNTUFSSUVTXCIpXG4gICAgICAgIExpdmUyRC5pbml0KClcbiAgICAgICAgTGl2ZTJERnJhbWV3b3JrLnNldFBsYXRmb3JtTWFuYWdlcihuZXcgTDJEUGxhdGZvcm1NYW5hZ2VyKCkpXG4gICAgICAgIFxuICAgICAgICBEYXRhTWFuYWdlci5ldmVudHMub24gXCJsb2FkZWRcIiwgLT5cbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnRlbXBGaWVsZHMgPSBuZXcgZ3MuR2FtZVRlbXAoKVxuICAgICAgICAgICAgd2luZG93LiR0ZW1wRmllbGRzID0gR2FtZU1hbmFnZXIudGVtcEZpZWxkc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiBAbGFuZ3VhZ2VzTG9hZGVkXG4gICAgICAgICAgICAgICAgUmVjb3JkTWFuYWdlci5wcmVwYXJlKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IEdhbWVTdG9yYWdlLmdldE9iamVjdChcInNldHRpbmdzXCIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgbm90IHNldHRpbmdzPyBvciBzZXR0aW5ncy52ZXJzaW9uICE9IDMzN1xuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5yZXNldFNldHRpbmdzKClcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBHYW1lTWFuYWdlci5zZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nbG9iYWxEYXRhID0gR2FtZVN0b3JhZ2UuZ2V0T2JqZWN0KFwiZ2xvYmFsRGF0YVwiKVxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnNldHRpbmdzID0gc2V0dGluZ3NcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5zZXR0aW5ncy5mdWxsU2NyZWVuID0gR3JhcGhpY3MuaXNGdWxsc2NyZWVuKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIuZ2VuZXJhbFNvdW5kVm9sdW1lID0gc2V0dGluZ3Muc2VWb2x1bWVcbiAgICAgICAgICAgICAgICBBdWRpb01hbmFnZXIuZ2VuZXJhbE11c2ljVm9sdW1lID0gc2V0dGluZ3MuYmdtVm9sdW1lXG4gICAgICAgICAgICAgICAgQXVkaW9NYW5hZ2VyLmdlbmVyYWxWb2ljZVZvbHVtZSA9IHNldHRpbmdzLnZvaWNlVm9sdW1lXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgR3JhcGhpY3Mua2VlcFJhdGlvID0gIXNldHRpbmdzLmFkanVzdEFzcGVjdFJhdGlvXG4gICAgICAgICAgICAgICAgR3JhcGhpY3Mub25SZXNpemUoKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5yZW5kZXJlciA9IDFcbiAgICAgICAgICAgICAgICBHYW1lU3RvcmFnZS5zZXRPYmplY3QoXCJzZXR0aW5nc1wiLCBzZXR0aW5ncylcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmxvYWRGb250cygpXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VMb2FkZXIubG9hZFN5c3RlbVNvdW5kcyhSZWNvcmRNYW5hZ2VyLnN5c3RlbSlcbiAgICAgICAgICAgICAgICBSZXNvdXJjZUxvYWRlci5sb2FkU3lzdGVtR3JhcGhpY3MoUmVjb3JkTWFuYWdlci5zeXN0ZW0pXG4gICAgICAgICAgICAgICAgTGFuZ3VhZ2VNYW5hZ2VyLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgICAgIGZvciBjaGFyYWN0ZXIsIGkgaW4gUmVjb3JkTWFuYWdlci5jaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciBhbmQgIUdhbWVNYW5hZ2VyLnNldHRpbmdzLnZvaWNlc0J5Q2hhcmFjdGVyW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5zZXR0aW5ncy52b2ljZXNCeUNoYXJhY3RlcltpXSA9IDEwMFxuICAgICAgICAgICAgICAgIGZvciBjZywgaSBpbiBSZWNvcmRNYW5hZ2VyLmNnR2FsbGVyeVxuICAgICAgICAgICAgICAgICAgICBpZiBjZz8gYW5kICFHYW1lTWFuYWdlci5nbG9iYWxEYXRhLmNnR2FsbGVyeVtpXVxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2xvYmFsRGF0YS5jZ0dhbGxlcnlbaV0gPSB7IHVubG9ja2VkOiBubyB9ICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiBSZWNvcmRNYW5hZ2VyLnN5c3RlbS5tb3VzZVN1cHBvcnRcbiAgICAgICAgICAgICAgICAgICAgSW5wdXQuTW91c2UuaW5pdGlhbGl6ZSgpXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgUmVjb3JkTWFuYWdlci5sb2FkKClcbiAgICAgICAgICAgICAgICBEYXRhTWFuYWdlci5nZXREb2N1bWVudHNCeVR5cGUoXCJsYW5ndWFnZV9wcm9maWxlXCIpXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnRzQnlUeXBlKFwidm4uY2hhcHRlclwiKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgQGxhbmd1YWdlc0xvYWRlZFxuICAgICAgICAgICAgICAgIGZvciBsYW5ndWFnZSBpbiBMYW5ndWFnZU1hbmFnZXIubGFuZ3VhZ2VzXG4gICAgICAgICAgICAgICAgICAgIGlmIGxhbmd1YWdlLmljb24/IGFuZCBsYW5ndWFnZS5pY29uLm5hbWU/IGFuZCBsYW5ndWFnZS5pY29uLm5hbWUubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmdldEJpdG1hcChcIkdyYXBoaWNzL0ljb25zLyN7bGFuZ3VhZ2UuaWNvbi5uYW1lfVwiKVxuICAgICAgICAgICAgICAgIGdzLkZvbnRzLmluaXRpYWxpemUoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIERhdGFNYW5hZ2VyLmV2ZW50cy5vZmYgXCJsb2FkZWRcIlxuICAgICAgICAgICAgICAgIFJlc291cmNlTWFuYWdlci5ldmVudHMub24gXCJsb2FkZWRcIiwgPT4gXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLnNldHVwQ3Vyc29yKClcbiAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VNYW5hZ2VyLmV2ZW50cy5vZmYgXCJsb2FkZWRcIlxuICAgICAgICAgICAgICAgICAgICB1aS5VSU1hbmFnZXIuc2V0dXAoKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBAbGFuZ3VhZ2VzTG9hZGVkID0geWVzXG4gICAgXG4gICAgIyMjKlxuICAgICogQm9vdHMgdGhlIGdhbWUuXG4gICAgKlxuICAgICogQG1ldGhvZCBzdGFydFxuICAgICMjIyAgXG4gICAgc3RhcnQ6IC0+XG4gICAgICAgIHdpbmRvdy5SZXNvdXJjZU1hbmFnZXIgPSBuZXcgd2luZG93LlJlc291cmNlTWFuYWdlcigpXG4gICAgICAgIHdpbmRvdy5EYXRhTWFuYWdlciA9IG5ldyB3aW5kb3cuRGF0YU1hbmFnZXIoKVxuICAgICAgICBcbiAgICAgICAgIyBGb3JjZSBPcGVuR0wgcmVuZGVyZXJcbiAgICAgICAgd2luZG93LkdyYXBoaWNzID0gbmV3IEdyYXBoaWNzX09wZW5HTCgpXG4gICAgICAgIHdpbmRvdy5ncy5HcmFwaGljcyA9IHdpbmRvdy5HcmFwaGljc1xuICAgICAgICB3aW5kb3cuUmVuZGVyZXIgPSB3aW5kb3cuUmVuZGVyZXJfT3BlbkdMXG4gICAgICAgIFxuICAgICAgICAjIEZvcmNlIGxpbmVhciBmaWx0ZXJpbmdcbiAgICAgICAgVGV4dHVyZTJELmZpbHRlciA9IDFcbiAgICAgICAgXG4gICAgICAgIHRyeVxuICAgICAgICAgICAgR3JhcGhpY3MuaW5pdGlhbGl6ZSgkUEFSQU1TLnJlc29sdXRpb24ud2lkdGgsICRQQVJBTVMucmVzb2x1dGlvbi5oZWlnaHQsIGRvY3VtZW50LmJvZHkpXG4gICAgICAgIGNhdGNoIGV4XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhleClcbiAgICAgICAgICAgXG4gICAgICAgIEdyYXBoaWNzLm9uRm9jdXNSZWNlaXZlID0gPT4gR2FtZU1hbmFnZXIudGVtcFNldHRpbmdzLnNraXAgPSBub1xuICAgICAgICBHcmFwaGljcy5vbkRpc3Bvc2UgPSA9PiBSZXNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpXG4gICAgICAgIElucHV0LmluaXRpYWxpemUoKVxuICAgICAgXG4gICAgICAgIEdyYXBoaWNzLmZvcm1hdHMgPSBbMzIwLCAzODQsIDQyN11cbiAgICAgICAgRm9udC5kZWZhdWx0U2l6ZSA9IE1hdGgucm91bmQoOSAvIDI0MCAqIEdyYXBoaWNzLmhlaWdodClcbiAgICAgICAgR3JhcGhpY3Muc2NhbGUgPSAwLjUgLyAyNDAgKiBHcmFwaGljcy5oZWlnaHRcbiAgICAgIFxuICAgICAgICAjJFBBUkFNUy5zaG93RGVidWdJbmZvID0geWVzXG4gICAgICAgXG4gICAgICAgIHdpbmRvdy5zdGFydFRpbWUgPSAwXG4gICAgICAgIEdyYXBoaWNzLm9uRWFjaEZyYW1lKEBmcmFtZUNhbGxiYWNrKVxuICAgIFxuICAgICAgICBAbG9hZCAtPlxuICAgICAgICAgICAgaWYgJFBBUkFNUy5wcmV2aWV3PyBvciAoUmVjb3JkTWFuYWdlci5zeXN0ZW0udXNlSW50cm9TY2VuZSBhbmQgRGF0YU1hbmFnZXIuZ2V0RG9jdW1lbnRTdW1tYXJ5KFJlY29yZE1hbmFnZXIuc3lzdGVtLmludHJvSW5mbz8uc2NlbmU/LnVpZCkpXG4gICAgICAgICAgICAgICAgc2NlbmUgPSBuZXcgdm4uT2JqZWN0X1NjZW5lKCkgI25ldyBncy5PYmplY3RfTGF5b3V0KFwidGl0bGVMYXlvdXRcIilcbiAgICAgICAgICAgICAgICBzY2VuZS5zY2VuZURhdGEudWlkID0gJFBBUkFNUy5wcmV2aWV3Py5zY2VuZS51aWQgfHwgUmVjb3JkTWFuYWdlci5zeXN0ZW0uaW50cm9JbmZvPy5zY2VuZS51aWRcbiAgICAgICAgICAgICAgICBzY2VuZS5ldmVudHMub24gXCJkaXNwb3NlXCIsIChlKSAtPiBcbiAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuc2NlbmVEYXRhLnVpZCA9IG51bGxcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBzY2VuZSA9IG5ldyBncy5PYmplY3RfTGF5b3V0KFwibGFuZ3VhZ2VNZW51TGF5b3V0XCIpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuc3dpdGNoVG8oc2NlbmUpXG5cbndpbmRvdy5NYWluID0gTWFpblxuZ3MuTWFpbiA9IG5ldyBNYWluKCkgXG4kKGRvY3VtZW50KS5yZWFkeSAtPiBncy5NYWluLnN0YXJ0KClcblxuT2JqZWN0LmtleXMoZ3MpLmZvckVhY2ggKGspIC0+IGdzW2tdLiRuYW1lc3BhY2UgPSBcImdzXCI7IGdzW2tdLiRuYW1lID0ga1xuT2JqZWN0LmtleXModm4pLmZvckVhY2ggKGspIC0+IHZuW2tdLiRuYW1lc3BhY2UgPSBcInZuXCI7IHZuW2tdLiRuYW1lID0ga1xuT2JqZWN0LmtleXModWkpLmZvckVhY2ggKGspIC0+IHVpW2tdLiRuYW1lc3BhY2UgPSBcInVpXCI7IHVpW2tdLiRuYW1lID0ga1xuICAgICAgICAgICAgICAgIFxuICAgIFxuIFxuIl19
//# sourceURL=Main_97.js